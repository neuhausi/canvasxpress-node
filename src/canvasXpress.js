/**
 *
 * CanvasXpress 60.5 - JavaScript Canvas Library
 *
 * Copyright (c) 2009-2026 - license@canvasxpress.org
 *
 * Redistributions of the source code must retain this copyright
 * notice and the following disclaimer.
 *
 * CanvasXpress is released as open source for personal and
 * educational use with dual licensing for commercial purposes.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *
 * Please see a copy of the CanvasXpress License at
 * https://www.canvasxpress.org/docs/license.html.
 *
 * Dual licensing:
 * Commercial use may be granted to the extent that this source
 * code does NOT become part of any other Open Source or
 * Commercially licensed development library or toolkit without
 * explicit permission from CanvasXpress.
 *
 */
/**
 * 
 * sprintf() for JavaScript v.0.4
 *
 * Copyright (c) 2007 Alexandru Marasteanu <http://alexei.417.ro/>
 * Thanks to David Baird (unit test and patch).
 *
 * This program is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License as published by the Free Software
 * Foundation; either version 2 of the License, or (at your option) any later
 * version.
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE. See the GNU General Public License for more
 * details.
 *
 * You should have received a copy of the GNU General Public License along with
 * this program; if not, write to the Free Software Foundation, Inc., 59 Temple
 * Place, Suite 330, Boston, MA 02111-1307 USA
 *
 ***
 * 
 * Date Format 1.2.3
 * (c) 2007-2009 Steven Levithan <stevenlevithan.com>
 * MIT license
 *
 * Includes enhancements by Scott Trenda <scott.trenda.net>
 * and Kris Kowal <cixar.com/~kris.kowal/>
 *
 * Accepts a date, a mask, or a date and a mask.
 * Returns a formatted version of the given date.
 * The date defaults to the current date/time.
 * The mask defaults to dateFormat.masks.default.
 *
 ****
 *
 * jLouvain.js
 * Author: Corneliu S. (github.com/upphiminn)
 * This is a javascript implementation of the Louvain
 * community detection algorithm (http://arxiv.org/abs/0803.0476)
 * Based on https://bitbucket.org/taynaud/python-louvain/overview
 * 
 ****
 * 
 * science.js
 * Copyright (c) 2011, Jason Davies
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * The name Jason Davies may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL JASON DAVIES BE LIABLE FOR ANY DIRECT, INDIRECT,
 * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF
 * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * 
 ****
 *
 * Apache-Style Software License for ColorBrewer software and ColorBrewer Color
 * Schemes
 * 
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower, and The Pennsylvania State
 * University.
 * 
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not
 * use this file except in compliance with the License. You may obtain a copy of
 * the License at
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
 * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
 * License for the specific language governing permissions and limitations under
 * the License.
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 * 
 * 1. Redistributions as source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 * 
 * 2. The end-user documentation included with the redistribution, if any, must
 * include the following acknowledgment: "This product includes color
 * specifications and designs developed by Cynthia Brewer
 * (http://colorbrewer.org/)." Alternately, this acknowledgment may appear in the
 * software itself, if and wherever such third-party acknowledgments normally
 * appear.
 * 
 * 4. The name "ColorBrewer" must not be used to endorse or promote products
 * derived from this software without prior written permission. For written
 * permission, please contact Cynthia Brewer at cbrewer@psu.edu.
 * 
 * 5. Products derived from this software may not be called "ColorBrewer", nor
 * may "ColorBrewer" appear in their name, without prior written permission of
 * Cynthia Brewer.
 *
 ****
 * 
 * FileSaver.js
 * Copyright © 2015 [Eli Grey][1].
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is furnished
 * to do so, subject to the following conditions:
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE
 * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 **** 
 * 
 * canvas-toBlob.js
 * Copyright © 2011 Eli Grey and Devin Samarin.
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is furnished
 * to do so, subject to the following conditions:
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE
 * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 ****
 *
 * Blob.js
 * Copyright © 2014 Eli Grey.
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is furnished
 * to do so, subject to the following conditions:
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A
 * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE
 * OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * 
 ****
 *
 * jstat.js
 * Copyright (c) 2013 jStat
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 ****
 *
 * numeric.js
 * Numeric Javascript
 * Copyright (C) 2011 by Sébastien Loisel
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 ****
 *
 * Sankey.js
 * Copyright (c) 2012, Michael Bostock
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * * Redistributions of source code must retain the above copyright notice, this
 *   list of conditions and the following disclaimer.
 *
 * * Redistributions in binary form must reproduce the above copyright notice,
 *   this list of conditions and the following disclaimer in the documentation
 *   and/or other materials provided with the distribution.
 *
 * * The name Michael Bostock may not be used to endorse or promote products
 *   derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL MICHAEL BOSTOCK BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
 * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
 * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 ****
 *
 * canvas2svg
 * The MIT License (MIT)
 *
 * Copyright (c) 2014 Gliffy Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */
(function(b,a){if(typeof exports==="object"){a(exports)}else{(a((b.CanvasXpress=b.CanvasXpress||{})))}}(this,(function(){CanvasXpress=typeof CanvasXpress!="undefined"&&CanvasXpress.ready?CanvasXpress:function(n,h,e,s,d,p,r,l){var k=this;var q=function(){k.init(n,h,e,s,d,p,r,l)};var c=function(i){if(i){k.init(i);if(r){r(i)}}else{k.init(n,h,e,s,d,p,r,l)}};var j=document.styleSheets;var b=false;for(var g=0;g<j.length;g++){if(j[g].href&&j[g].href.indexOf("canvasXpress.css")>-1){b=true;break}}if(e&&typeof e=="string"){e={prompt:e,llmBehaviour:"update",view:"table"}}else{if(n&&n.config&&n.config.prompt&&n.config.isR){n.config.llmBehaviour="update";n.config.view="table"}}if(!b){var o=document.createElement("link");o.rel="stylesheet";o.type="text/css";o.href="https://www.canvasxpress.org/dist/canvasXpress.css";document.getElementsByTagName("head")[0].appendChild(o);o.onload=function(){b=true;new CanvasXpress(n,h,e,s,d,p,r,l)}}else{if((e&&e.fonts)||(n&&n.config&&n.config.fonts)){if(e&&e.fonts){CanvasXpress.loadFonts(e.fonts,q)}else{CanvasXpress.loadFonts(n.config.fonts,q)}}else{if((e&&e.fontsExternal)||(n&&n.config&&n.config.fontsExternal)){if(e&&e.fontsExternal){CanvasXpress.loadFontsExternal(e.fontsExternal,q)}else{CanvasXpress.loadFontsExternal(n.config.fontsExternal,q)}}else{if((e&&e.topoJSON&&typeof e.topoJSON=="string")||(n&&n.config&&n.config.topoJSON&&typeof n.config.topoJSON=="string")||(e&&e.useLeaflet)||(n&&n.config&&n.config.useLeaflet)){if((e&&e.useLeaflet)||(n&&n.config&&n.config.useLeaflet)){var a=function(){if(e&&e.topoJSON){CanvasXpress.loadTopoJSON(e.topoJSON,e.mapId,q)}else{if(n&&n.config&&n.config.topoJSON){CanvasXpress.loadTopoJSON(n.config.topoJSON,n.config.mapId,q)}else{q()}}};CanvasXpress.loadLeaflet(a,k)}else{if(e&&e.topoJSON){CanvasXpress.loadTopoJSON(e.topoJSON,e.mapId,q)}else{CanvasXpress.loadTopoJSON(n.config.topoJSON,n.config.mapId,q)}}}else{if((h&&typeof h=="string")||(n&&n.data&&typeof n.data=="string")){if(h){CanvasXpress.loadRemoteData(n,h,e,s,c)}else{CanvasXpress.loadRemoteData(n.renderTo,n.data,n.config,n.events,c)}}else{if(e&&e.graphType&&e.graphType=="Map"&&e.mapId&&!e.topoJSON){if(CanvasXpress.maps.hasOwnProperty(e.mapId)){e.topoJSON="https://www.canvasxpress.org"+CanvasXpress.maps[e.mapId]}else{if(CanvasXpress.usa.hasOwnProperty(e.mapId)){e.topoJSON="https://www.canvasxpress.org/data/maps/"+e.mapId+".json"}else{if(CanvasXpress.countries.hasOwnProperty(e.mapId)){e.topoJSON="https://www.canvasxpress.org/data/maps/"+e.mapId+".json"}else{var f=e.mapId.toLowerCase();if(!e.topoJSON){for(var g in CanvasXpress.usa){if(CanvasXpress.usa[g][0].toLowerCase()==f){e.mapId=g;e.topoJSON="https://www.canvasxpress.org/data/maps/"+g+".json";break}}}if(!e.topoJSON){for(var g in CanvasXpress.countries){if(CanvasXpress.countries[g][0].toLowerCase()==f){e.mapId=g;e.topoJSON="https://www.canvasxpress.org/data/maps/"+g+".json";break}}}if(!e.topoJSON){e.topoJSON=CanvasXpress.geojson}}}}CanvasXpress.loadTopoJSON(e.topoJSON,e.mapId,q)}else{this.init(n,h,e,s,d,p,r,l)}}}}}}}})));(function(b,a){if(typeof exports==="object"&&typeof module!=="undefined"){a(exports)}else{(a((b.cxplot=b.cxplot||{})))}}(this,(function(){cxplot=function(x,y,k,a){if(typeof(x)=="object"&&x.isGGPlot){var n=function(g){if(Array.isArray(g)&&!g.length){return{}}else{var f={};for(var m in g){if(g[m]&&typeof g[m]==="string"){f[m]=g[m].replace(/^"(.+)"$/,"$1")}else{f[m]=g[m]}}return f}};var l=function(){if(x.order){x.aes.meta={};for(var f in x.order){x.aes.meta[f]=x.order[f]}}if(!x.aes.hasOwnProperty("x")||(x.aes.hasOwnProperty("x")&&x.data[0]&&!x.data[0].includes(x.aes.x))){for(var f=0;f<o.length;f++){var m=o[f];if(x.layers[m]&&x.layers[m].hasOwnProperty("x")&&x.data[0].includes(x.layers[m].x)){x.aes.x=x.layers[m].x;break}}}if(!x.aes.hasOwnProperty("y")||(x.aes.hasOwnProperty("y")&&x.data[0]&&!x.data[0].includes(x.aes.y))){for(var f=0;f<o.length;f++){var m=o[f];if(x.layers[m]&&x.layers[m].hasOwnProperty("y")&&x.data[0].includes(x.layers[m].y)){x.aes.y=x.layers[m].y;break}}}if(x.hasOwnProperty("meta")){x.aes.metaData=x.meta}if(x.hasOwnProperty("scales")&&x.scales.hasOwnProperty("sizes")){if(Array.isArray(x.scales.sizes)){x.aes.sizes=x.scales.sizes}}if(x.hasOwnProperty("isGGMatrix")){x.aes.isGGMatrix=x.isGGMatrix}return x.aes};var w=function(f){if(f&&f.hasOwnProperty("hoverTemplate")){f.hoverTemplate+="<br>"}return f};var j=function(f){if(f&&Array.isArray(f)&&f.length==0&&x.scales&&x.scales.hasOwnProperty("setMinX")&&x.scales.hasOwnProperty("setMaxX")&&x.scales.hasOwnProperty("setMinY")&&x.scales.hasOwnProperty("setMaxY")){f=[["min","max"],[x.scales.setMinX,x.scales.setMaxX],[x.scales.setMinY,x.scales.setMaxY]]}return f};delete (x.isGGPlot);var p=JSON.stringify(x);var o=Array.isArray(x.geoms)?x.geoms:[x.geoms];var d=new cxplot(x.renderTo,j(x.data),aes(l()),a);var e={};d.skipGeoms=false;d.meta.config.user.geoms=o;d.meta.config.user.layers=x.layers;d.meta.config.user.cxplot=p;for(var r=0;r<o.length;r++){var s=o[r];var q=e[s]?s+"."+e[s]:s;var t=s.toLowerCase().replace("geom","geom_").replace("2","_2").replace("filled","_filled").replace("_qql","_qq_l").replace("ridgesgradient","ridges_gradient").replace("ridges","_ridges").replace("repel","_repel").replace("npc","_npc").replace("pattern","_pattern");if(d[t]&&!d.skipGeoms){d[t](n(x.layers[q]))}e[s]=e[s]?e[s]+1:1}d.skipGeoms=false;d.MT(n(x.labels));d.HE(n(x.scales));d.e7(n(x.coords));d.Ct(n(x.theme));d.xF(n(x.facet));d.Dw(w(x.config));d.skipRender=false;d.x9();return d}else{if(k){var b=["x","y"];for(var r=0;r<b.length;r++){if(k[b[r]]&&k[b[r]].match(/\*/)){var h=k[b[r]].split("*");h[0]=h[0].replace(/\s*$/,"");h[1]=Number(h[1].replace(/^\s*/,""));k[b[r]]=h[0];if(!isNaN(h[1])){k[b[r]]=h[0];k[b[r]+"AxisFactorValue"]=h[1]}}if(k[b[r]]&&y&&y[0]&&!y[0].includes(k[b[r]])){delete k[b[r]]}}}var v={aes:(k||{}),theme:"GGPlot",widthFactor:1.5,shapes:["circle","equilateral","rect","plus","minus","diamond","hexagon","octagon","star","pentagon"],isCxplot:true,isGGMatrix:(k&&k.isGGMatrix?k.isGGMatrix:false),legendStyleGgplot:true,skipRender:(k&&k.isR?true:false)};if(k&&k.hasOwnProperty("sizes")){if(Array.isArray(k.sizes)){v.sizes=k.sizes;while(v.sizes.length<10){var u=(v.sizes[v.sizes.length-1]-v.sizes[v.sizes.length-2])/2;v.sizes.push(Math.ceil(u+v.sizes[v.sizes.length-1]))}if(v.sizes[0]<4){var u=4-v.sizes[0];for(var r=0;r<v.sizes.length;r++){v.sizes[r]+=u}}}}if(k&&k.hasOwnProperty("metaData")){v.metaData=k.metaData}if(k.hasOwnProperty("xAxisFactorValue")){v.xAxisFactorValue=k.xAxisFactorValue}if(k.hasOwnProperty("yAxisFactorValue")){v.yAxisFactorValue=k.yAxisFactorValue}var c=new CanvasXpress(x,y,v,a);c.meta.ggplot.aes=k||{};c.meta.ggplot.data=y[0];c.meta.ggplot.order=k&&k.order?k.order:{};return c}}})));(function(b,a){if(typeof exports==="object"&&typeof module!=="undefined"){a(exports)}else{(a((b.aes=b.aes||{})))}}(this,(function(){aes=function(){var b=arguments;var f={};var e=["x","y","z","fill","color","shape","size","pattern"];var a=function(){if(!f.stringSampleFactors){f.stringSampleFactors=[]}if(!f.stringVariableFactors){f.stringVariableFactors=[]}if(!f.asSampleFactors){f.asSampleFactors=[]}if(!f.asVariableFactors){f.asVariableFactors=[]}};for(var c=0;c<b.length;c++){if(Array.isArray(b[c])&&Array.isArray(b[c][0])){f.data=b[c]}else{if(b[c] instanceof Object){for(var d in b[c]){f[d]=b[c][d];if(d=="factor"){a();f.stringSampleFactors.push(b[c][d]);f.stringVariableFactors.push(b[c][d]);f.asSampleFactors.push(b[c][d]);f.asVariableFactors.push(b[c][d]);if(b.length>1){if(c==0){f.x=b[c][d]}else{if(c==1){f.y=b[c][d]}else{if(c==2){f.z=b[c][d]}}}}}else{if(e.includes(d)){if(b[c][d] instanceof Object&&b[c][d].factor){a();f.stringSampleFactors.push(b[c][d].factor);f.stringVariableFactors.push(b[c][d].factor);f.asSampleFactors.push(b[c][d].factor);f.asVariableFactors.push(b[c][d].factor);f[d]=b[c][d].factor}else{if(b[c][d].toString().match(/^factor\(.+\)/)){f[d]=b[c][d].replace(/^factor\(/,"").replace(/\)$/,"");a();f.stringSampleFactors.push(f[d]);f.stringVariableFactors.push(f[d]);f.asSampleFactors.push(f[d]);f.asVariableFactors.push(f[d])}}}else{if(d=="sample"){f.x=b[c][d]}}}}}else{if(c==0){f.x=b[c]}else{if(c==1){f.y=b[c]}else{if(c==2){f.z=b[c]}}}f[b[c]]=b[c]}}}return f}})));CanvasXpress.onReady=function(){var f=[];var a=false;var d=false;var c=function(){if(!a){var g=CanvasXpress.instances[0];if(g){g.fo("canvasXpress JS ready");a=true;for(var h=0;h<f.length;h++){f[h].fn.call(window,f[h].ctx)}f=[]}}};var b=function(){if(window.document.readyState==="complete"){c()}};var e=function(){c()};window.onReady=function(h,g){if(a){setTimeout(function(){h(g)},1);return}else{f.push({fn:h,ctx:g})}if(window.document.readyState==="complete"){setTimeout(c,1)}else{if(!d){if(window.document.addEventListener){window.document.addEventListener("DOMContentLoaded",c,false);window.addEventListener("load",e,false)}else{window.document.attachEvent("onreadystatechange",b);window.attachEvent("onload",e)}d=true}}};return true}();CanvasXpress.loadLeaflet=function(c,d){var b=document.createElement("script");b.type="text/javascript";b.src="https://www.canvasxpress.org/assets/leaflet/leaflet.js";b.crossOrigin="anonymous";var a=document.createElement("link");a.type="text/css";a.rel="stylesheet";a.href="https://www.canvasxpress.org/assets/leaflet/leaflet.css";a.crossOrigin="anonymous";if(window.L){if(c){if(typeof(c)=="function"){c.call(d)}}}else{CanvasXpress.loadScripts([a,b],c,d)}};CanvasXpress.loadScripts=function(){var i=0;return function(files,callback,scope){var head=window.document.getElementsByTagName("head")[0];var loadScript=function(s,c){var t=s.type;if(t.match(/javascript/i)){s.onreadystatechange=function(){if(s.readyState==="loaded"||s.readyState==="complete"){s.onreadystatechange=null;c()}};s.onload=function(){c()};head.appendChild(s)}else{head.appendChild(s);c()}};var count=function(){if(i===files.length){i=0;if(callback){if(typeof(callback)=="function"){callback.call(scope)}else{if(typeof(callback)=="string"){eval("var fn = "+callback);fn()}}}}else{CanvasXpress.loadScripts(files,callback,scope)}};i++;if(files[i-1]){loadScript(files[i-1],count)}}}();CanvasXpress.transferDatasetAttributes=function(e,a,f){var d=JSON.parse(JSON.stringify(e.dataset));for(var c in d){if(d.hasOwnProperty(c)){if(f){a[c.replace(/^data-/,"")]=d[c]}else{var b="data-"+c.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase();a.setAttribute(b,d[c])}}}};CanvasXpress.initCanvas=function(g){var e=document.querySelectorAll("canvas.CanvasXpress");for(var d=0;d<e.length;d++){var h=e[d];if(h.id){var f=false;var a={};var b=CanvasXpress.getObject(h.id);if(h.hasAttribute("data-src")&&!b){f=h.getAttribute("data-src");CanvasXpress.transferDatasetAttributes(h,a,true);if(Object.keys(a).length){new CanvasXpress(h.id,f,a)}else{new CanvasXpress(h.id,f,false,false,false,false,g)}}}}};CanvasXpress.initImage=function(h){var j=document.querySelectorAll("img.CanvasXpress");for(var f=0;f<j.length;f++){var c=j[f];if(c.id){var d=CanvasXpress.getObject(c.id);var g=c.parentNode;if(!d){var e=c.src;var a=c.id;var b=window.document.createElement("canvas");b.width=c.width;b.height=c.height;CanvasXpress.transferDatasetAttributes(c,b);g.removeChild(c);b.id=a;g.appendChild(b);if(!h){h=function(){window.dispatchEvent(new Event("resize"))}}else{h=(function(i){return function(){i();window.dispatchEvent(new Event("resize"))}})(h)}new CanvasXpress(a,e,false,false,false,false,h)}}}};CanvasXpress.initTable=function(g){var c=document.querySelectorAll("table.CanvasXpress");for(var b=0;b<c.length;b++){var e=c[b];if(e.id){var h=CanvasXpress.getObject(e.id);var d=e.parentNode;if(!h){var f=e.id;var a=window.document.createElement("canvas");a.id="temp-table-id-"+e.id;a.width=e.hasAttribute("data-width")?e.getAttribute("data-width"):500;a.height=e.hasAttribute("data-height")?e.getAttribute("data-height"):500;CanvasXpress.transferDatasetAttributes(e,a);d.appendChild(a);new CanvasXpress("temp-table-id-"+e.id,f,false,false,false,false,g)}}}};CanvasXpress.pivot=function(M,z,N,x){function O(v,h){var r=v.slice(1);var c=[];for(var l=0;l<r.length;l++){c.push(r[l][h])}var k=[];for(var l=0;l<c.length;l++){if(k.indexOf(c[l])===-1){k.push(c[l])}}var m=r.length;var j=k.length;if(j===m){return false}else{return true}}if(!M||!Array.isArray(M)||M.length<2||!Array.isArray(M[0])||M[0].length<3){return M}var L=M[0];var B=M.slice(1);if(z===undefined){z=L[0]}if(N===undefined){N=L[1]}if(x===undefined){x=L[2]}var y=L.indexOf(z);var w=L.indexOf(N);var Q=L.indexOf(x);if(y===-1||w===-1||Q===-1){throw new Error("One or more specified column headers not found.")}if(!O(M,y)){return M}var s=[];var n=[];for(var I=0;I<L.length;I++){if(I!==y&&I!==w&&I!==Q){s.push(L[I]);n.push(I)}}var g={};for(var I=0;I<B.length;I++){var t=B[I];var C=t[y];if(!g[C]){g[C]={};g[C][z]=C;for(var F=0;F<s.length;F++){g[C][s[F]]=[]}}for(var F=0;F<s.length;F++){g[C][s[F]].push(t[n[F]])}var o=t[w];var S=t[Q];if(!g[C][o]){g[C][o]=[]}g[C][o].push(S)}var f=B.map(function(c){return c[w]});var H=[];for(var G=0;G<f.length;G++){var S=f[G];if(H.indexOf(S)===-1){H.push(S)}}var P=Object.keys(g);for(var I=0;I<P.length;I++){var R=P[I];for(var F=0;F<s.length;F++){var A=s[F];var b=g[R][A];var u=[];for(var E=0;E<b.length;E++){if(u.indexOf(b[E])===-1){u.push(b[E])}}g[R][A]=u.join(", ")}for(var G=0;G<H.length;G++){var q=H[G];if(g[R][q]&&typeof g[R][q].length!=="undefined"){var K=g[R][q];var J=true;for(var D=0;D<K.length;D++){if(isNaN(parseFloat(K[D]))||!isFinite(K[D])){J=false;break}}if(J){var e=0;for(var D=0;D<K.length;D++){e+=parseFloat(K[D])}g[R][q]=e/K.length}else{g[R][q]=K.join(", ")}}}}var p=[z].concat(s).concat(H);var a=Object.keys(g).map(function(c){var d=g[c];return p.map(function(h){return d[h]||null})});return[p].concat(a)};CanvasXpress.melt=function(u,q,l,c,x){if(!u||!Array.isArray(u)||u.length<2||!Array.isArray(u[0])||u[0].length<2){return u}var s=u[0];var f=u.slice(1);var c=c||"variable";var g=x||"value";if(!l){l=[];for(var o=0;o<s.length;o++){if(q.indexOf(s[o])===-1){l.push(s[o])}}}var b=q.map(function(d){return s.indexOf(d)});var t=l.map(function(d){return s.indexOf(d)});var v=[];for(var o=0;o<f.length;o++){var a=f[o];var n=b.map(function(d){return a[d]});for(var p=0;p<t.length;p++){var w=n.slice();w.push(l[p]);w.push(a[t[p]]);v.push(w)}}var e=q.concat([c,g]);return[e].concat(v)};CanvasXpress.getSetCurrentObject=function(b){if(b){var a=b.target||b.srcElement;var d=a.id?a.id.split("-")[0]:"canvas";var c=CanvasXpress.getObject(d);if(c){CanvasXpress.current=c;return c}else{if(CanvasXpress.current&&typeof(CanvasXpress.current)=="object"){return CanvasXpress.current}else{CanvasXpress.current=CanvasXpress.instances[0];return CanvasXpress.current}}}else{if(CanvasXpress.current&&typeof(CanvasXpress.current)=="object"){return CanvasXpress.current}else{CanvasXpress.current=CanvasXpress.instances[0];return CanvasXpress.current}}};CanvasXpress.getObject=function(f,b){if(f){while(CanvasXpress.chain.hasOwnProperty(f)){f=CanvasXpress.chain[f]}for(var a=0;a<CanvasXpress.instances.length;a++){if(CanvasXpress.instances[a].target==f){return CanvasXpress.instances[a]}}}else{if(b){var d=window.document.getElementById(f);if(!d){var e=window.document.createElement("canvas");e.id=f;e.width=100;e.height=100;window.document.body.appendChild(e);d=new CanvasXpress({renderTo:f})}return d}else{if(CanvasXpress.instances.length){return CanvasXpress.instances[0]}}}};CanvasXpress.json=function(a,c){var b=new XMLHttpRequest();b.open("GET",a,true);b.responseType="json";b.onload=function(){var d=b.status;if(d==200){c(null,b.response)}else{c(d)}};b.send()};CanvasXpress.csv=function(a,c){var b=new XMLHttpRequest();b.open("GET",a,true);b.responseType="text";b.onload=function(){var d=b.status;if(d==200){c(null,b.response)}else{c(d)}};b.send()};CanvasXpress.svg=function(a,d,c){var b=new XMLHttpRequest();b.open("GET",a,true);b.responseType="text";b.onload=function(){var e=b.status;if(e==200){c(b.responseText,d)}else{c(e)}};b.send()};CanvasXpress.$=function(b,a){return CanvasXpress.getObject(b,a)};CanvasXpress.destroy=function(b,a){if(CanvasXpress.instances.length>0){CanvasXpress.instances[0].destroy(b,a)}};CanvasXpress.create=function(c,b,a){CanvasXpress.inject(c);return new CanvasXpress(c,b,a)};CanvasXpress.createObject=function(f,d,b,c,e,h,g,a){if(!f){throw new Error("No target provided")}else{if(typeof(f)=="object"&&f.renderTo){d=f.tracks?{tracks:f.tracks}:f.nodes?{nodes:f.nodes}:f.venn?{venn:f.venn}:f.data?f.data:false;b=f.config||false;if(f.version){b.createVersion=f.version}if(f.factory){b.createFactory=f.factory}c=f.events||false;e=f.info?f.info.replace(/'/g,"'").replace(/"/g,"'"):false;h=f.afterRender||false;g=f.callback||false;a=f.noValidate?f.noValidate:b&&b.noValidate?b.noValidate:false;f=f.renderTo;CanvasXpress.inject(f)}else{if(typeof f==="string"||f instanceof String){CanvasXpress.inject(f)}}}return{target:f,data:d,config:b,events:c,info:e,afterRender:h,callback:g,noValidate:a}};CanvasXpress.inject=function(c){if(typeof c==="string"||c instanceof String){var b=document.getElementById(c);if(b!==null){if(b.tagName.toLowerCase()=="canvas"){if(!b.width){b.width=500}if(!b.height){b.height=500}}else{if(b.tagName.toLowerCase()=="div"){b.id=c+"-div";var a=document.createElement("canvas");a.id=c;a.width=500;a.height=500;b.appendChild(a)}}}else{var a=document.createElement("canvas");a.id=c;a.width=500;a.height=500;document.body.appendChild(a)}}};CanvasXpress.loadFonts=function(d,c){if(d&&d.length&&c){var b=false;for(var a=0;a<d.length;a++){if(!CanvasXpress.fonts.hasOwnProperty(d[a])){b=true;break}}WebFontConfig={google:{families:d},timeout:2000};if(c){WebFontConfig.active=c}(function(h){if(window.navigator.onLine&&b){var e=h.createElement("script");var g=h.scripts[0];e.src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js";e.async=true;g.parentNode.insertBefore(e,g);for(var f=0;f<d.length;f++){CanvasXpress.fonts[d[f]]=true}}else{c()}})(document)}};CanvasXpress.loadFontsExternal=function(c,b){if(c&&c.length&&b){var a=false;if(!CanvasXpress.fonts.hasOwnProperty(c[0].name)){a=true}(function(f){if(window.navigator.onLine&&a){var e=new XMLHttpRequest();e.addEventListener("readystatechange",function(g){if(e.readyState==2&&e.status==200){}else{if(e.readyState==3){}else{if(e.readyState==4){var d=new FontFace(c[0].name,e.response);document.fonts.add(d);CanvasXpress.fonts[c[0].name]=true;b()}}}});e.responseType="arraybuffer";e.open("get",c[0].url);e.send()}else{b()}})(document)}};CanvasXpress.loadTopoJSON=function(a,b,d){if(a&&d){var c=false;if(!b){b="cXMap"}if(!window.hasOwnProperty(b)){c=true}(function(f){if(window.navigator.onLine&&c){var e=new XMLHttpRequest();e.addEventListener("readystatechange",function(g){if(e.readyState==2&&e.status==200){}else{if(e.readyState==3){}else{if(e.readyState==4){window[b]=JSON.parse(e.response);d()}}}});e.open("get",a);e.send()}else{d()}})(document)}};CanvasXpress.loadRemoteData=function(j,c,f,m,l){if(c&&l){var n=CanvasXpress.prototype.initIO.apply(CanvasXpress);var d=function(r,s,e){if(!r.hasOwnProperty(s)){if(!r){r={}}if(!r.hasOwnProperty(s)){r[s]={}}r[s]=JSON.parse(JSON.stringify(e))}else{for(var q in e){r[s][q]=e[q]}}};var h=null;var g=window.document.getElementById(c);var o=n.isValidURL(c.replace(/^file:\/\//,""));var k=c.match(/\.pl$/)||c.match(/\.pl\?/)?true:false;if(g&&g.tagName.toLowerCase()=="table"&&g.classList.contains("CanvasXpress")&&g.id){h=n.HTMLTableToCX(g,f);h.renderTo=j||g.id;h.events=m;g.parentNode.removeChild(g);return l(h)}else{if(o){(function(p){if(window.navigator.onLine){if(!j){j="cX-data-url"}if(o==2&&!c.match(/^file:/)){if(c.match(/^\/.+/)){c=window.location.protocol+"//"+window.location.host+c}else{if(!c.match(/^\.\/.+/)){c=c.replace(/^\.\//,"/");c=window.location.protocol+"//"+window.location.host+"/"+c}else{c="file://"+c}}}var e=new XMLHttpRequest();e.open("get",c,true);e.onreadystatechange=function(){if(e.readyState==2&&e.status==200){}else{if(e.readyState==3){}else{if(e.readyState==4){if(c.match(/\.json$/)||k){h=n.parseJSON(e.response);if(Array.isArray(h)){var v=h[0][1];var u=[];for(var t=0;t<h.length;t++){u.push(h[t][0])}CanvasXpress.loadRemoteData(j,v,f,m,l)}else{h.renderTo=j||h.renderTo;h.events=m||h.events;d(h,"config",f);l(h)}}else{if(c.match(/\.parquet$/)){h=n.kf(e.response,f);h.renderTo=j||h.renderTo;h.events=m||h.events;d(h,"config",f);l(h)}else{if(c.match(/\.png$/)){h=n.PNGtoCX(e.response);h.renderTo=j||h.renderTo;h.events=m||h.events;d(h,"config",f);l(h)}else{if(c.match(/\.txt$/)||c.match(/\.csv$/)||c.match(/\.tsv$/)||c.match(/\.tab$/)){h=n.parseDelimited(e.response);if(f&&f.graphType=="Network"){h=n.arrayToCXNetwork(h,j,f,m)}else{h=n.arrayToCX(h,f,f&&f.isR);h.renderTo=j||h.renderTo;h.events=m||h.events}d(h,"config",f);l(h)}else{if(c.match(/\.svg$/)){h=n.SVGtoCX(e.response);d(h,"config",f);l(h)}else{if(c.match(/ml$/)||c.match(/ml\.bz2$/)||c.match(/\.gexf$/)){var s=c.match(/ml\.bz2$/)?n.parseXML(n.NX(e.response)):n.parseXML(e.response);var r=s.childNodes[0];var q=s.childNodes[2];if(r.tagName&&r.tagName.toLowerCase()=="gexf"){h=n.gexfToCX(s,j,f,m);l(h)}else{if(r.tagName&&r.tagName.toLowerCase()=="map"){h=n.metabaseToCX(s,j,f,m);l(h)}else{if(r.tagName&&r.tagName.toLowerCase()=="graph"){h=n.cytoscapeToCX(s,j,f,m);l(h)}else{if(r.tagName&&r.tagName.toLowerCase()=="pathway"){h=n.wikipathwayToCX(s,j,f,m);l(h)}else{if(q&&q.tagName&&q.tagName.toLowerCase()=="pathway"){n.keggToCX(s,j,f,m,l)}}}}}}else{l()}}}}}}}}}};if(c.match(/\.png$/)||c.match(/\.parquet$/)){e.responseType="arraybuffer"}else{if(c.match(/ml\.bz2$/)){e.responseType="binary"}else{e.responseType="text"}}e.send()}})(document)}else{try{h=JSON.parse(c);return l(h)}catch(i){h=null}var h=n.parseDelimited(c)||null;if(h){if(f&&f.graphType=="Network"){h=n.arrayToCXNetwork(h,j,f,m)}else{h=n.arrayToCX(h,f)}return l(h)}if(window.DOMParser){try{h=(new DOMParser()).parseFromString(c,"text/xml")}catch(i){h=null}}else{if(typeof window.ActiveXObject!="undefined"&&new window.ActiveXObject("Microsoft.XMLDOM")){try{h=new window.ActiveXObject("Microsoft.XMLDOM");h.async="false"}catch(i){h=null}}}if(h!=null&&h.getElementsByTagName("parsererror").length==0){var b=h.childNodes[0];var a=h.childNodes[2]||h.childNodes[1];if(b.tagName&&b.tagName.toLowerCase()=="gexf"){return l(n.gexfToCX(h,j,f,m))}else{if(b.tagName&&b.tagName.toLowerCase()=="map"){return l(n.metabaseToCX(h,j,f,m))}else{if(b.tagName&&b.tagName.toLowerCase()=="graph"){return l(n.cytoscapeToCX(h,j,f,m))}else{if(b.tagName&&b.tagName.toLowerCase()=="pathway"){return l(n.wikipathwayToCX(h,j,f,m))}else{if(a&&a.tagName&&a.tagName.toLowerCase()=="pathway"){return n.keggToCX(h,j,f,m,l)}}}}}}return null}}}};CanvasXpress.disableCSSTransitions=function(){CanvasXpress.cssTransitions=document.createElement("style");CanvasXpress.cssTransitions.type="text/css";CanvasXpress.cssTransitions.innerHTML="* { transition: none !important; -webkit-transition: none !important; }";document.getElementsByTagName("head")[0].appendChild(CanvasXpress.cssTransitions)};CanvasXpress.enableCSSTransitions=function(){if(CanvasXpress.cssTransitions){document.getElementsByTagName("head")[0].removeChild(CanvasXpress.cssTransitions);CanvasXpress.cssTransitions=null}};CanvasXpress.callbackPass=function(a){};CanvasXpress.callbackRDataset=function(d){event.stopPropagation();event.preventDefault();var f=d.split("/");var e=f[8];var b=f[9];var g=f[10].split(".")[0];var a=event.target.parentNode.parentNode.id.split("-cX-DataTable")[0];var c=CanvasXpress.getObject(a);if(e=="csv"){c.rW(d);c.Rdataset={library:b,dataset:g,url:c.RdatasetsURL+"json/"+b+"/"+g+"Info.json",info:false}}else{var h=function(k){var j={width:"500px",height:"500px",overflow:"auto",textWrap:"auto",position:"relative",zIndex:1000000,fontSize:"small"};var m="";for(var l in k.parameters){m+="<b>"+l+"</b>: "+k.parameters[l]+"<br><br>"}c.i2({ac:{x:100,y:100}},m,a,j)};c.br(d,false,h,"json")}return false};CanvasXpress.parametersLLM=["llmServiceURL","llmModel","llmTopp","llmTemperature","llmPresencePenalty","llmFrequencyPenalty","llmMaxNewTokens","llmBehaviour","llmIconTransparency","llmIconSize","llmPrompt","llmUseDev","llmStack","llmHeader","llmUseCopilot","llmCodeExamples","loadLLMDatasets","llmCodeExamples","llmCodeMaxSentences","disableChat"];CanvasXpress.callbackRateLLM=function(b){var c=function(){var d=document.getElementById(b.target+"-cX-ChatInterfaceRateScript");if(d){document.body.removeChild(d)}};if(b&&b.success){var a=CanvasXpress.getObject(b.target);if(a){a.s1(100,100,b.text,3000)}else{alert("CanvasXpress Object: "+b.target+" - not found");c()}}else{alert(b.text)}};CanvasXpress.callbackLLM=function(a){var c=function(n,d){var h=document.createElement("canvas");h.width=n;h.height=d;h.id="cX-LLM-"+Date.now();return h};var k=function(w){var z=document.createElement("div");z.style.width=w+"px";z.style.height="100px";z.style.clear="both";z.style.position="relative";z.style.margin="auto";var n=document.createElement("span");n.innerHTML=a.datetime;n.style.cssFloat="right";var d=document.createElement("span");d.innerHTML=a.prompt;d.style.cssFloat="left";d.style.fontWeight="bold";var y=document.createElement("span");y.innerHTML=a.client;y.style.cssFloat="left";var x=document.createElement("br");var v=document.createElement("br");var h=document.createElement("br");z.appendChild(x);z.appendChild(y);z.appendChild(n);z.appendChild(v);z.appendChild(d);z.appendChild(h);return z};var e=function(h,d){var n=document.createElement("div");if(d){n.className=d}n.appendChild(h);return n};var j=function(w,h){var x=CanvasXpress.parametersLLM;h.B7();var n=h.meta.config.user;var d={graphOrientation:true,graphType:true,isR:true,prompt:true};for(var v=0;v<x.length;v++){w.config[x[v]]=h[x[v]]}};var r=function(){var d=document.getElementById(a.target+"-cX-ChatInterfaceAskScript");if(d){document.body.removeChild(d)}};var g=function(){var d=CanvasXpress.getObject(a.target);if(d){d.IL();d.isAskingLLM=false;d.hT()}r()};if(a&&a.success){var f=CanvasXpress.getObject(a.target);if(f){j(a,f);var q=document.getElementById(a.target+"-cX-DOM");if(q){a.config.isGraphTime=f.isGraphTime;a.config.xAxisTime=f.xAxisTime;a.config.yAxisTime=f.yAxisTime;a.config.view="canvas";delete a.config.xAxisTickFormat;delete a.config.yAxisTickFormat;f.graphType=a.config.graphType;var o=f.llmStack.length;var u=f.Hg();var s=f.DL();f.llmStack.push({header:s,prompt:a.prompt,n:o});if(f.llmBehaviour&&f.llmBehaviour=="update"){f.Sn(f.target,true);var t={renderTo:f.target,data:u,config:a.config,callback:g};t.config.llmPrompt=a.prompt;f=new CanvasXpress(t)}else{var l=q.parentNode;var b=l.className;var m=k(f.width);var p=c(f.width,f.height);var i=p.id;if(l.parentNode&&l.parentNode.tagName.toLowerCase()=="div"){p=e(p,b);l.after(m);m.after(p)}else{l.appendChild(m);l.appendChild(p)}var t={renderTo:i,data:u,config:a.config,callback:g};t.config.llmPrompt=a.prompt;f.IL();f.isAskingLLM=false;f.hT();f=new CanvasXpress(t);q=document.getElementById(a.target+"-cX-DOM");q.style.display="block"}}else{alert("CanvasXpress Container: "+a.target+"-cX-DOM - not found");r()}}else{alert("CanvasXpress Object: "+a.target+" - not found");r()}}else{alert(a.text)}};CanvasXpress.setColorSchemes=function(){CanvasXpress.colorSchemes={YlGn:{3:"f7fcb9addd8e31a354",4:"ffffccc2e69978c679238443",5:"ffffccc2e69978c67931a354006837",6:"ffffccd9f0a3addd8e78c67931a354006837",7:"ffffccd9f0a3addd8e78c67941ab5d238443005a32",8:"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32",9:"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529"},YlGnBu:{3:"edf8b17fcdbb2c7fb8",4:"ffffcca1dab441b6c4225ea8",5:"ffffcca1dab441b6c42c7fb8253494",6:"ffffccc7e9b47fcdbb41b6c42c7fb8253494",7:"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84",8:"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84",9:"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58"},GnBu:{3:"e0f3dba8ddb543a2ca",4:"f0f9e8bae4bc7bccc42b8cbe",5:"f0f9e8bae4bc7bccc443a2ca0868ac",6:"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac",7:"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e",8:"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e",9:"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081"},BuGn:{3:"e5f5f999d8c92ca25f",4:"edf8fbb2e2e266c2a4238b45",5:"edf8fbb2e2e266c2a42ca25f006d2c",6:"edf8fbccece699d8c966c2a42ca25f006d2c",7:"edf8fbccece699d8c966c2a441ae76238b45005824",8:"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824",9:"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b"},PuBuGn:{3:"ece2f0a6bddb1c9099",4:"f6eff7bdc9e167a9cf02818a",5:"f6eff7bdc9e167a9cf1c9099016c59",6:"f6eff7d0d1e6a6bddb67a9cf1c9099016c59",7:"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450",8:"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450",9:"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636"},PuBu:{3:"ece7f2a6bddb2b8cbe",4:"f1eef6bdc9e174a9cf0570b0",5:"f1eef6bdc9e174a9cf2b8cbe045a8d",6:"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d",7:"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b",8:"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b",9:"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858"},BuPu:{3:"e0ecf49ebcda8856a7",4:"edf8fbb3cde38c96c688419d",5:"edf8fbb3cde38c96c68856a7810f7c",6:"edf8fbbfd3e69ebcda8c96c68856a7810f7c",7:"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b",8:"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b",9:"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b"},RdPu:{3:"fde0ddfa9fb5c51b8a",4:"feebe2fbb4b9f768a1ae017e",5:"feebe2fbb4b9f768a1c51b8a7a0177",6:"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177",7:"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177",8:"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177",9:"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a"},PuRd:{3:"e7e1efc994c7dd1c77",4:"f1eef6d7b5d8df65b0ce1256",5:"f1eef6d7b5d8df65b0dd1c77980043",6:"f1eef6d4b9dac994c7df65b0dd1c77980043",7:"f1eef6d4b9dac994c7df65b0e7298ace125691003f",8:"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f",9:"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f"},OrRd:{3:"fee8c8fdbb84e34a33",4:"fef0d9fdcc8afc8d59d7301f",5:"fef0d9fdcc8afc8d59e34a33b30000",6:"fef0d9fdd49efdbb84fc8d59e34a33b30000",7:"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000",8:"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000",9:"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000"},YlOrRd:{3:"ffeda0feb24cf03b20",4:"ffffb2fecc5cfd8d3ce31a1c",5:"ffffb2fecc5cfd8d3cf03b20bd0026",6:"ffffb2fed976feb24cfd8d3cf03b20bd0026",7:"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026",8:"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026",9:"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026"},YlOrBr:{3:"fff7bcfec44fd95f0e",4:"ffffd4fed98efe9929cc4c02",5:"ffffd4fed98efe9929d95f0e993404",6:"ffffd4fee391fec44ffe9929d95f0e993404",7:"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04",8:"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04",9:"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506"},Purples:{3:"efedf5bcbddc756bb1",4:"f2f0f7cbc9e29e9ac86a51a3",5:"f2f0f7cbc9e29e9ac8756bb154278f",6:"f2f0f7dadaebbcbddc9e9ac8756bb154278f",7:"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486",8:"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486",9:"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d"},Blues:{3:"deebf79ecae13182bd",4:"eff3ffbdd7e76baed62171b5",5:"eff3ffbdd7e76baed63182bd08519c",6:"eff3ffc6dbef9ecae16baed63182bd08519c",7:"eff3ffc6dbef9ecae16baed64292c62171b5084594",8:"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594",9:"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b"},BluesDark:{2:"132B4356B1F7"},Greens:{3:"e5f5e0a1d99b31a354",4:"edf8e9bae4b374c476238b45",5:"edf8e9bae4b374c47631a354006d2c",6:"edf8e9c7e9c0a1d99b74c47631a354006d2c",7:"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32",8:"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32",9:"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b"},Oranges:{3:"fee6cefdae6be6550d",4:"feeddefdbe85fd8d3cd94701",5:"feeddefdbe85fd8d3ce6550da63603",6:"feeddefdd0a2fdae6bfd8d3ce6550da63603",7:"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04",8:"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04",9:"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704"},Reds:{3:"fee0d2fc9272de2d26",4:"fee5d9fcae91fb6a4acb181d",5:"fee5d9fcae91fb6a4ade2d26a50f15",6:"fee5d9fcbba1fc9272fb6a4ade2d26a50f15",7:"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d",8:"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d",9:"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d"},Greys:{3:"f0f0f0bdbdbd636363",4:"f7f7f7cccccc969696525252",5:"f7f7f7cccccc969696636363252525",6:"f7f7f7d9d9d9bdbdbd969696636363252525",7:"f7f7f7d9d9d9bdbdbd969696737373525252252525",8:"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",9:"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000",256:"fffffffffffffefefefefefefdfdfdfdfdfdfcfcfcfcfcfcfbfbfbfbfbfbfafafafafafaf9f9f9f9f9f9f9f9f9f8f8f8f8f8f8f7f7f7f7f7f7f6f6f6f6f6f6f5f5f5f5f5f5f4f4f4f4f4f4f3f3f3f3f3f3f2f2f2f2f2f2f1f1f1f1f1f1f0f0f0f0f0f0efefefefefefeeeeeeeeeeeeededededededececececececebebebebebebeaeaeaeaeaeae9e9e9e9e9e9e8e8e8e8e8e8e7e7e7e7e7e7e6e6e6e6e6e6e5e5e5e5e5e5e4e4e4e4e4e4e3e3e3e3e3e3e2e2e2e2e2e2e1e1e1e1e1e1e0e0e0e0e0e0dfdfdfdfdfdfdedededddddddddddddcdcdcdcdcdcdbdbdbdbdbdbdadadadadadad9d9d9d9d9d9d8d8d8d7d7d7d7d7d7d6d6d6d6d6d6d5d5d5d5d5d5d4d4d4d4d4d4d3d3d3d2d2d2d2d2d2d1d1d1d1d1d1d0d0d0cfcfcfcfcfcfcececececececdcdcdcdcdcdcccccccbcbcbcbcbcbcacacacacacac9c9c9c8c8c8c8c8c8c7c7c7c7c7c7c6c6c6c5c5c5c5c5c5c4c4c4c3c3c3c3c3c3c2c2c2c2c2c2c1c1c1c0c0c0c0c0c0bfbfbfbebebebebebebdbdbdbcbcbcbcbcbcbbbbbbbabababababab9b9b9b8b8b8b8b8b8b7b7b7b6b6b6b6b6b6b5b5b5b4b4b4b4b4b4b3b3b3b2b2b2b2b2b2b1b1b1b0b0b0afafafafafafaeaeaeadadadadadadacacacabababaaaaaaaaaaaaa9a9a9a8a8a8a7a7a7a7a7a7a6a6a6a5a5a5a4a4a4a4a4a4a3a3a3a2a2a2a1a1a1a0a0a0a0a0a09f9f9f9e9e9e9d9d9d9c9c9c9c9c9c9b9b9b9a9a9a9999999898989797979797979696969595959494949393939292929191919090909090908f8f8f8e8e8e8d8d8d8c8c8c8b8b8b8a8a8a8989898888888787878686868585858484848383838282828181818080807f7f7f7e7e7e7d7d7d7c7c7c7b7b7b7a7a7a7878787777777676767575757474747373737272727070706f6f6f6e6e6e6d6d6d6b6b6b6a6a6a6969696767676666666565656363636262626060605f5f5f5d5d5d5c5c5c5a5a5a5959595757575555555454545252525050504e4e4e4c4c4c4a4a4a4848484646464444444242424040403d3d3d3b3b3b3838383535353232322e2e2e2b2b2b2727272222221c1c1c15151500000"},PuOr:{3:"f1a340f7f7f7998ec3",4:"e66101fdb863b2abd25e3c99",5:"e66101fdb863f7f7f7b2abd25e3c99",6:"b35806f1a340fee0b6d8daeb998ec3542788",7:"b35806f1a340fee0b6f7f7f7d8daeb998ec3542788",8:"b35806e08214fdb863fee0b6d8daebb2abd28073ac542788",9:"b35806e08214fdb863fee0b6f7f7f7d8daebb2abd28073ac542788",10:"7f3b08b35806e08214fdb863fee0b6d8daebb2abd28073ac5427882d004b",11:"7f3b08b35806e08214fdb863fee0b6f7f7f7d8daebb2abd28073ac5427882d004b"},BrBG:{3:"d8b365f5f5f55ab4ac",4:"a6611adfc27d80cdc1018571",5:"a6611adfc27df5f5f580cdc1018571",6:"8c510ad8b365f6e8c3c7eae55ab4ac01665e",7:"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e",8:"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e",9:"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e",10:"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30",11:"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30"},PRGn:{3:"af8dc3f7f7f77fbf7b",4:"7b3294c2a5cfa6dba0008837",5:"7b3294c2a5cff7f7f7a6dba0008837",6:"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837",7:"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837",8:"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837",9:"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837",10:"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b",11:"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b"},PiYG:{3:"e9a3c9f7f7f7a1d76a",4:"d01c8bf1b6dab8e1864dac26",5:"d01c8bf1b6daf7f7f7b8e1864dac26",6:"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221",7:"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221",8:"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221",9:"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221",10:"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419",11:"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419"},RdBu:{3:"ef8a62f7f7f767a9cf",4:"ca0020f4a58292c5de0571b0",5:"ca0020f4a582f7f7f792c5de0571b0",6:"b2182bef8a62fddbc7d1e5f067a9cf2166ac",7:"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac",8:"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac",9:"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac",10:"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061",11:"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061"},RdGy:{3:"ef8a62ffffff999999",4:"ca0020f4a582bababa404040",5:"ca0020f4a582ffffffbababa404040",6:"b2182bef8a62fddbc7e0e0e09999994d4d4d",7:"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d",8:"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d",9:"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d",10:"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a",11:"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a"},RdYlBu:{3:"fc8d59ffffbf91bfdb",4:"d7191cfdae61abd9e92c7bb6",5:"d7191cfdae61ffffbfabd9e92c7bb6",6:"d73027fc8d59fee090e0f3f891bfdb4575b4",7:"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4",8:"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",9:"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",10:"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695",11:"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"},Spectral:{3:"fc8d59ffffbf99d594",4:"d7191cfdae61abdda42b83ba",5:"d7191cfdae61ffffbfabdda42b83ba",6:"d53e4ffc8d59fee08be6f59899d5943288bd",7:"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd",8:"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd",9:"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd",10:"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2",11:"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2"},RdYlGn:{3:"fc8d59ffffbf91cf60",4:"d7191cfdae61a6d96a1a9641",5:"d7191cfdae61ffffbfa6d96a1a9641",6:"d73027fc8d59fee08bd9ef8b91cf601a9850",7:"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850",8:"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850",9:"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850",10:"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837",11:"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837"},Accent:{3:"7fc97fbeaed4fdc086",4:"7fc97fbeaed4fdc086ffff99",5:"7fc97fbeaed4fdc086ffff99386cb0",6:"7fc97fbeaed4fdc086ffff99386cb0f0027f",7:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17",8:"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"},Dark2:{3:"1b9e77d95f027570b3",4:"1b9e77d95f027570b3e7298a",5:"1b9e77d95f027570b3e7298a66a61e",6:"1b9e77d95f027570b3e7298a66a61ee6ab02",7:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d",8:"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"},Paired:{3:"a6cee31f78b4b2df8a",4:"a6cee31f78b4b2df8a33a02c",5:"a6cee31f78b4b2df8a33a02cfb9a99",6:"a6cee31f78b4b2df8a33a02cfb9a99e31a1c",7:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6f",8:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00",9:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d6",10:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9a",11:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99",12:"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"},Default:{20:"fe296c487eb6a7ce31f8cc03ff8c02699696b7784483acd0c2e076fadc5aff549fffaf549ab8b7d2a6833d699b87ac22cda908d02158d07300567676",36:"ff00000000ff00ff00ffff0000ffffff00ff993300000080808000ff6600008080660066ff99cc666699333300ffcc99ccffff9999ffff80803366ff339966ffcc0000ccffd020909933660066cc99cc00ff990033cccccc99ff800000333399008000ffffcc99ccff800080"},Basic:{24:"0000ffff004dffbf0074ff00a400ffff7400ffff0000ffffff0000ffd3003d00ff00ff00ff00ffff9200d3ff000090ff6d00ffff4900ffe80000ff92ff0090ffaa00aaff00004dff"},Light:{24:"6565ffff6593ffd865abff65c865ffffab65ffff6565ffffff6565ffe5658965ff65ff65ff65ffffbd65e5ff6565bcffa765ffff9165fff16565ffbdff65bcffcc65ccff656593ff"},Favorite:{1:"ff0000",2:"ff000000ffff",3:"ff000000ff000000ff",4:"ff000080ff0000ffff8000ff",5:"ff0000bfff0000ff800040ffff00ff",6:"ff0000ffff0000ff0000ffff0000ffff00ff",8:"ff0000ffbf0080ff0000ff4000ffff0040ff8000ffff00bf",10:"ff0000ff8000ffff0080ff0000ff0000ff8000ffff0080ff0000ff8000ff",12:"ff0000ff8000ffff0080ff0000ff0000ff8000ffff0080ff0000ff8000ffff00ffff0080",24:"ff0000ff4000ff8000ffbf00ffff00bfff0080ff0040ff0000ff0000ff4000ff8000ffbf00ffff00bfff0080ff0040ff0000ff4000ff8000ffbf00ffff00ffff00bfff0080ff0040"},Bootstrap:{1:"337ab7",2:"337ab7d9534f",3:"337ab75cb85cd9534f",4:"337ab75cb85cf0ad4ed9534f",5:"337ab75cb85c5bc0def0ad4ed9534f",6:"337ab75cb85c9370db5bc0def0ad4ed9534f",7:"337ab75cb85cd9534ff0ad4e5bc0de84fe83ff9976",8:"337ab75cb85cd9534ff0ad4e5bc0de84fe83ff9976c86727"},ColorSpectrum:{3:"ff000000ff000000ff",4:"ff000080ff0000ffff8000ff",5:"ff0000ccff0000ff660066ffcc00ff",6:"ff0000ffff0000ff0000ffff0000ffff00ff",7:"ff0000ffdb0049ff0000ff920092ff4900ffff00db",8:"ff0000ffbf0080ff0000ff4000ffff0040ff8000ffff00bf",9:"ff0000ffaa00aaff0000ff0000ffaa00aaff0000ffaa00ffff00aa",10:"ff0000ff9900ccff0033ff0000ff6600ffff0066ff3300ffcc00ffff0099",11:"ff0000ff8b00e8ff005dff0000ff2e00ffb900b9ff002eff5d00ffe800ffff008b",12:"ff0000ff8000ffff0080ff0000ff0000ff8000ffff0080ff0000ff8000ffff00ffff0080"},White:{1:"ffffff"},Grey:{1:"d3d3d3",2:"d3d3d3cbcbcb",3:"d3d3d3cbcbcbc3c3c3",4:"d3d3d3cbcbcbc3c3c3bbbbbb",5:"d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3",6:"d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3ababab",7:"d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a3",8:"d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b",9:"d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b939393",10:"d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b9393938b8b8b"},GreyHC:{4:"ffffffbbbbbb777777333333",6:"ffffffcccccc999999666666333333000000",13:"d3d3d3c3c3c3b3b3b3a3a3a3939393838383737373636363535353434343333333232323131313"},BlueGrey:{1:"0ab0db",2:"0ab0dbd3d3d3",3:"0ab0dbd3d3d3cbcbcb",4:"0ab0dbd3d3d3cbcbcbc3c3c3",5:"0ab0dbd3d3d3cbcbcbc3c3c3bbbbbb",6:"0ab0dbd3d3d3cbcbcbc3c3c3bbbbbbb3b3b3",7:"0ab0dbd3d3d3cbcbcbc3c3c3bbbbbbb3b3b3ababab",8:"0ab0dbd3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a3",9:"0ab0dbd3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b",10:"0ab0dbd3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b939393",11:"0ab0dbd3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b9393938b8b8b"},BlueRedGrey:{1:"0ab0db",2:"0ab0dbfe6969",3:"0ab0dbfe6969d3d3d3",4:"0ab0dbfe6969d3d3d3cbcbcb",5:"0ab0dbfe6969d3d3d3cbcbcbc3c3c3",6:"0ab0dbfe6969d3d3d3cbcbcbc3c3c3bbbbbb",7:"0ab0dbfe6969d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3",8:"0ab0dbfe6969d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3ababab",9:"0ab0dbfe6969d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a3",10:"0ab0dbfe6969d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b",11:"0ab0dbfe6969d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b939393",12:"0ab0dbfe6969d3d3d3cbcbcbc3c3c3bbbbbbb3b3b3abababa3a3a39b9b9b9393938b8b8b"},Black:{1:"000000"},Diverging:{5:"f5841dedbb69d0d5e155b5d90c4487"},DivergingAlt:{5:"9e0418dd6c72d0d5e135a0c8042750"},Brand:{4:"cfe2f15eaccf0e76b0042751"},Complementary:{4:"f7d6d5ff8581e040439e0418"},Colorful:{5:"fcf6c4b1ca91718be67d53b0920148"},ColorfulAlt:{5:"fcf6c4edb681c77b7a7f50930e3587"},WHO:{6:"108dc98eca3affa16ae65550ffa3005bc2e7"},NPG:{10:"e64b354dbbd500a0873c5488f39b7f8491b491d1c2dc00007e6148b09c85"},AAAS:{10:"3b4992ee0000008b45631879008280bb00215f559ba200568081801b1919"},NEJM:{8:"bc3c290072b5e1872720854e7876b16f99adffdc91ee4c97"},Lancet:{9:"00468bed000042b5400099b4925e9ffdaf91ad002aadb6b61b1919"},Jama:{7:"374e55df8f4400a1d5b2474579af976a659980796b"},JCO:{10:"0073c2efc000868686cd534c7aa6dc003c678f77003b3b3ba730304a6990"},Economist:{12:"6794a7014d6476c0c101a2d97ad2f600887dadadad7bd3f67c260bee8f7176c0c1a18376"},EconomistBG:{5:"d5e4ebc3d6dfed111aebebebc9c9c9"},Excel:{7:"ff00ffffff0000ffff8000808000000080800000ff"},Excel2:{7:"993366ffffccccffff660066ff80800066ccccccff"},Excel3:{10:"365e9698333477973d5d437c36869fd1702f8197c5c47f80acc4849887b0"},GGPlot:{1:"595959",2:"f8766d00bfc4",3:"f8766d00ba38619cff",4:"f8766d7cae0000bfc4c77cff",5:"f8766da3a50000bf7d00b0f6e76bf3",6:"f8766db79f0000ba3800bfc4619cfff564e3",7:"f8766dc49a0053b40000c09400b6eba58afffb61d7",8:"f8766dcd96007cae0000be6700bfc400a9ffc77cffff61cc",9:"f8766dd3920093aa0000ba3800c19f00b9e3619cffdb72fbff61c3",10:"f8766dd89000a3a50039b60000bf7d00bfc400b0f69590ffe76bf3ff62bc",11:"f8766ddb8e00aea20064b20000bd5c00c1a700bade00a6ffb385ffef67ebff63b6",12:"f8766dde8c00b79f007cae0000ba3800c08b00bfc400b4f0619cffc77cfff564e3ff64b0",13:"f8766de18a00be9c008cab0024b70000be7000c1ab00bbda00acfc8b93ffd575fef962ddff65ac",14:"f8766de38900c49a0099a80053b40000bc5600c09400bfc400b6eb06a4ffa58affdf70f8fb61d7ff66a8",15:"f8766de58700c99800a3a5006bb10000ba3800bf7d00c0af00bcd800b0f6619cffb983ffe76bf3fd61d1ff67a4",16:"f8766de68613cd9600aba3007cae000cb70200be6700c19a00bfc400b8e700a9ff8494ffc77cffed68edff61ccff68a1",17:"f8766de7851ed09400b2a10089ac0045b50000bc5100c08700c0b200bcd600b3f229a3ff9c8dffd277fff166e8ff61c7ff689e",18:"f8766de88526d39200b79f0093aa005eb30000ba3800bf7400c19f00bfc400b9e300adfa619cffae87ffdb72fbf564e3ff61c3ff699c"},Solarized:{1:"b58900",2:"b58900859900",3:"b58900c671c4859900",4:"b58900dc322f268bd2859900",5:"b58900dc322f6c71c4268bd2859900",6:"b58900cb4b16d336826c71c42aa198859900",7:"b58900cb4b16dc322f6c71c4268bd22aa198859900",8:"b58900cb4b16dc322fd336826c71c4268bd22aa198859900"},SolarizedBase:{7:"002b36073642586e7583949693a1a1eee8d5fdf6e3",8:"002b36073642586e75657b8383949693a1a1eee8d5fdf6e3"},PaulTol:{1:"4477aa",2:"4477aacc6677",3:"4477aaddcc77cc6677",4:"4477aa117733ddcc77cc6677",5:"4477aa88ccee117733ddcc77cc6677",6:"4477aa88ccee117733ddcc77cc6677aa4499",7:"33228888ccee44aa99117733ddcc77cc6677aa4499",8:"33228888ccee44aa99117733999933ddcc77cc6677aa4499",9:"33228888ccee44aa99117733999933ddcc77cc6677882255aa4499",10:"33228888ccee44aa99117733999933ddcc77661100cc6677882255aa4499",11:"3322886699cc88ccee44aa99117733999933ddcc77661100cc6677882255aa4499",12:"3322886699cc88ccee44aa99117733999933ddcc77661100cc6677aa4466882255aa4499"},Highcharts:{1:"21b1f4",2:"21b1f44f52c1",3:"21b1f44f52c126e17b",4:"21b1f44f52c126e17bfe693d",5:"21b1f44f52c126e17bfe693d6a8bba",6:"21b1f44f52c126e17bfe693d6a8bbad26cf6",7:"21b1f44f52c126e17bfe693d6a8bbad26cf636e0cb",8:"21b1f44f52c126e17bfe693d6a8bbad26cf636e0cbf94b46",9:"21b1f44f52c126e17bfe693d6a8bbad26cf636e0cbf94b46ffb471",10:"21b1f44f52c126e17bfe693d6a8bbad26cf636e0cbf94b46ffb47192e8e1"},ColorBlind:{8:"000000e69f0056b4e9009e73f0e4420072b2d55e00cc79a7"},Tableau:{20:"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5",10:"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"},TableauMedium:{10:"729eceff9e4a67bf5ced665dad8bc9a8786eed97caa2a2a2cdcc5d6dccda"},TableauLight:{10:"aec7e8ffbb7898df8aff9896c5b0d5c49c94f7b6d2c7c7c7dbdb8d9edae5"},TableauGrey:{5:"60636aa5acaf4144518f8782cfcfcf"},TableauColorBlind:{10:"006ba4ff800eababab5959595f9ed1c85200898989a2c8ecffbc79cfcfcf"},TableauTrafficLight:{9:"b10318dba13a309343d82526ffc15669b764f26c64ffdd719fcd99"},TableauPurpleGrey:{12:"7b66d2a699e8dc5fbdffc0da5f5a41b4b19b995688d898baab6ad5d098ee8b7c6edbd4c5"},TableauBlueRed:{12:"2c69b0b5c8e2f02720ffb6b0ac613ce9c39b6ba3d6b5dffdac8763ddc9b4bd0a36f4737a"},TableauGreenOrange:{12:"32a251acd98dff7f0fffb9773cb7cc98d9e4b85a0dffd94a39737c86b4a982853bccc94d"},TableauCyclic:{20:"1f83b41696ac18a18829a03c54a33882a93fadb828d8bd35ffbd4cffb022ff9c0eff810ee75727d23e4ec94d8cc04aa7b446b39658b18061b46f63bb"},TableauPairSequential:{32:"bccfb49c0824bccfb409622ab4d4da26456ef0c2947b3014c3c3c31e1e1ee5e5e5ffb2b6e5e5e5b7e6a7e5e5e5c4d8f3e5e5e5ffcc9ef5cac7bd1100dbe8b43c8200f3e0c2bb5137feffd941b7c4f7e4c6bb5137efedf5807dbaf0f0f0737373"},TableauTripleDiverging:{48:"9c0824cacaca26456e9c0824cacaca09622a9c0824ffffff09622a9c0824cacaca1e1e1e9c0824ffffff1e1e1e09622acacaca26456e7b3014cacaca26456e7b3014ffffff26456effb2b6e5e5e5b7e6a7ffb2b6ffffffb7e6a7ffb2b6ffffffc6c6c6ffcc9ee5e5e5c4d8f3ffcc9effffffc4d8f3e0ad30e4e4e27492aaeda389cde1d35c8b70529985dbcf47c26b51"},WallStreetJournal:{4:"efefefe9f3ead4dee7f8f2e4"},WallStreetJournal2:{4:"d3ba68d5695d5d8ca865a479"},WallStreetJournalRedGreen:{2:"088158ba2f2a"},WallStreetJournalBlackGreen:{4:"00000059595959a77f008856"},WallStreetJournalDemRep:{3:"006a8eb1283aa8a6a7"},WallStreetJournal3:{6:"c72e29016392be9c2e098154fb832d000000"},Stata:{15:"1a476f90353b55752fe37e006e8e84c10534938dd2cac27ea0522d7b92a82d6d669c8847bfa19cffd200d9e6eb"},Stata2:{15:"ffff0000ff000080ffff00ffff7f00ff0000add8e6ffe47400ff80c0dcc0ff45000000ffff00806e8e84a0522d"},Stata3:{15:"006000ff45001a476f90353b6e8e84a0522dff7f00ff00ff00ffffff000000ff009c8847800080c0dcc0add8e6"},StataMono:{15:"606060a0a0a0808080404040000000e0e0e0202020707070909090b0b0b0d0d0d0f0f0f0303030c0c0c0505050"},BlackAndWhite:{3:"f0f0f0bdbdbd636363",4:"f7f7f7cccccc969696525252",5:"f7f7f7cccccc969696636363252525",6:"f7f7f7d9d9d9bdbdbd969696636363252525",7:"f7f7f7d9d9d9bdbdbd969696737373525252252525",8:"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525",9:"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000"},BehancePair:{2:"6b5dd3cec8ff",4:"6b5dd3cec8ffffa2c0ffc6db",6:"6b5dd3cec8ffffa2c0ffc6db3f8cffa0d7e7",8:"6b5dd3cec8ffffa2c0ffc6db3f8cffa0d7e7fece73ffa25f",10:"6b5dd3cec8ffffa2c0ffc6db3f8cffa0d7e7fece73ffa25f1b1d218d8e90"},BehanceTrio:{3:"6b5dd3cec8ff9d93e9",6:"6b5dd3cec8ff9d93e9ffa2c0ffc6dbff78a4",9:"6b5dd3cec8ff9d93e9ffa2c0ffc6dbff78a43f8cffa0d7e71b49c5",12:"6b5dd3cec8ff9d93e9ffa2c0ffc6dbff78a43f8cffa0d7e71b49c5fece73ffa25ffee2ab",15:"6b5dd3cec8ff9d93e9ffa2c0ffc6dbff78a43f8cffa0d7e71b49c5fece73ffa25ffee2ab1b1d218d8e90494a4d"},BehanceQuartet:{4:"6b5dd3cec8ff9d93e98072dc",8:"6b5dd3cec8ff9d93e98072dcffa2c0ffc6dbff78a4ffbed3",12:"6b5dd3cec8ff9d93e98072dcffa2c0ffc6dbff78a4ffbed33f8cffa0d7e71b49c5cdf4ff",16:"6b5dd3cec8ff9d93e98072dcffa2c0ffc6dbff78a4ffbed33f8cffa0d7e71b49c5cdf4fffece73ffa25ffee2abfedd9d",20:"6b5dd3cec8ff9d93e98072dcffa2c0ffc6dbff78a4ffbed33f8cffa0d7e71b49c5cdf4fffece73ffa25ffee2abfedd9d1b1d218d8e90494a4dfafafa"},Behance:{1:"6b5dd3",2:"6b5dd3ffa2c0",3:"6b5dd3ffa2c03f8cff",4:"6b5dd3ffa2c03f8cfffece73",5:"6b5dd33f8cffffa2c0fece731b1d21",6:"6b5dd3ffa2c03f8cff9d93e9ffc6dba0d7e7",7:"6b5dd33f8cffffa2c0fece731b1d21ffa25fcdf4ff",8:"6b5dd3ffa2c03f8cfffece739d93e9a0d7e7ffc6dbfee2ab",9:"6b5dd33f8cffffa2c0fece731b1d219d93e9a0d7e7ffc6dbfee2ab",10:"6b5dd33f8cffffa2c0fece731b1d219d93e9a0d7e7ffc6dbfee2ab8d8e90",15:"6b5dd33f8cffffa2c0fece731b1d219d93e9a0d7e7ffc6dbfee2ab8d8e90cec8ff1b49c5ff78a4ffa25f494a4d",20:"6b5dd33f8cffffa2c0fece731b1d219d93e9a0d7e7ffc6dbfee2ab8d8e90cec8ff1b49c5ff78a4ffa25f494a4d8072dccdf4ffffbed3fedd9dfafafa"},GGBlanket:{1:"357BA2",2:"0095A8FFA600",3:"003f5cbc5090ffa600",4:"003f5cbc5090ffa60050bc70",5:"003f5cbc5090ffa60050bc70005aff",6:"003f5cbc5090ffa60050bc70005affff9f5c",7:"003f5cbc5090ffa60050bc70005affff9f5c7a5195",8:"003f5cbc5090ffa60050bc70005affff9f5c7a5195ff6e00",12:"003f5cbc5090ffa600007f8cd075a8ffcc3300bfbfe59bc0fff56600ffffffb6c1ffff99"},Prism:{1:"1f7ff1",2:"1f7ff1814cff",3:"1f7ff1814cffff7d00",4:"1f7ff1814cffff7d0012c5ff",5:"1f7ff1814cffff7d0012c5fff4d4fe",6:"1f7ff1814cffff7d0012c5fff4d4fee9c505",7:"1f7ff1814cffff7d0012c5fff4d4fee9c505898790"},PrismPair:{2:"1f7ff112c5ff",4:"1f7ff112c5ff814cfff4d4fe",6:"1f7ff112c5ff814cfff4d4feff7d00e9c505",8:"1f7ff112c5ff814cfff4d4feff7d00e9c505042d710ccffe"},PrismTrio:{3:"61459939d4fbfe7d29"},BMS:{4:"be2bbb585454a59fa0ede7e8",9:"be2bbb585454a59fa0ede7e8ffeccdfedccad9c5c4c6ffe6c0f2fc"},BMSPrimary:{4:"BE2BBBA69F9F595454EEE7E7"},BMSSecondary:{5:"ffeccdfedccad9c5c4c6ffe6c0f2fc",6:"ffeccdfedccaead6c8e0cbc3d9c5c4d2cac9",8:"FFECCDFEDCCAEAD5C9DFCBC3DAC5C5D2CAC8C5FFE6C0F2FB"},BMSTertiary:{2:"c6ffe6c0f2fc"},BMSTertiaryLight:{5:"59FFB9FDA97D33D6F1CB7C78FFD186"},BMSTertiaryDark:{5:"1DCE9BDF603A009FBA772A28FFAC25"},BMSBackground:{3:"f0ebeaefe6e7f9f7fa"},BMSWheat:{4:"ffeccdfed187feac25c37901"},BMSPink:{4:"fedccafea97de0613cba4421"},BMSBrown:{4:"d9c5c4cb7c79782a28511515"},BMSGreen:{4:"c6ffe652e7bd1ecd9a138967"},BMSBlue:{4:"c0f2fc33d7f102a0baa0778a"},CanvasXpress:{1:"0ab0db",2:"0ab0dbfe6969",3:"0ab0dbfed385fe6969",4:"0ab0dbfed385fe696947db0a",5:"0ab0db9e0adbfed385fe696947db0a",6:"0ab0db9e0adbfed385fe696947db0aff7d00",7:"0ab0db9e0adbfed385fe696947db0aff7d00ffa2c0",8:"0ab0db9e0adbfed385fe696947db0aff7d00ffa2c0a0d7e7",16:"0ab0dbfe6969fed38547db0a9e0adbff7d00ffa2c0a0d7e763b5e5f9a7a7fef0c783e16fc763e5ffb347ffc1d3bfe2ed"},CanvasXpressTraditional:{1:"4575b4",2:"d730274575b4",3:"d7191cfdae612c7bb6",4:"d7191cfdae61abd9e92c7bb6",5:"d7191cfdae61ffffbfabd9e92c7bb6",6:"d73027fc8d59fee090e0f3f891bfdb4575b4",7:"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4",8:"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4",9:"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4",10:"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695",11:"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695"},CanvasXpressOLD:{1:"f2000d",2:"f2000d000df2",3:"f2000d000df20df200",4:"f2000d000df20df200f2f20d",5:"f2000d000df20df200f2f20df20df2",6:"f2000d000df20df200f2f20df20df20df2f2",7:"f2000d000df20df200f2f20df20df20df2f2f2f2f2",8:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd3",9:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fe",10:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b",11:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d0016",12:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d",13:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00",14:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808",15:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808fed38b",16:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808fed38bd38bfe",17:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808fed38bd38bfe8bfed3",18:"f2000d000df20df200f2f20df20df20df2f2f2f2f2fe8bd38bd3fed3fe8b5d001600165d165d00080808fed38bd38bfe8bfed3404040"},Matlab:{7:"0072bdd95319edb1207e2f8e77ac304dbeeea2142f"},Parula:{10:"352a870f5cdd127dd8079ccf15b1b459bd8ca5be6be1b952fcce2ef9fb0e"},Viridis:{3:"44015421908cfde725",4:"44015431688e35b779fde725",5:"4401543b528b21908c5dc863fde725",6:"4401544144872a788e22a8847ad151fde725",7:"440154443a8331688e21908c35b7798fd744fde725",8:"44015446337e365c8d277f8e1fa1874ac16d9fda3afde725",9:"440154472d7b3b528b2c728e21908c27ad815dc863aadc32fde725",10:"4401544828783e4a8931688e26828e1f9e8935b7796dcd59b4de2cfde725",11:"44015448257641448735608d2a788e21908c22a88443bf717ad151bbdf27fde725",12:"440154482173433e8538598c2d708e25858e1e9b8a2bb07f51c56a85d54ac2df23fde725",256:"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"},Magma:{3:"000004b63679fcfdbf",4:"000004721f81f1605dfcfdbf",5:"00000451127cb63679fb8861fcfdbf",6:"0000043b0f708c2981de4968fe9f6dfcfdbf",7:"0000042d1160721f81b63679f1605dfeaf77fcfdbf",8:"0000042311515f187f982d80d3436ef8765cfeba80fcfdbf",9:"0000041d114751127c822681b63679e65164fb8861fec287fcfdbf",10:"000004180f3e451077721f819f2f7fcd4071f1605dfd9567fec98dfcfdbf",11:"000004150e373b0f70641a808c2981b63679de4968f76f5cfe9f6dfece91fcfdbf",12:"000004120d323310685a167e7d2482a3307ec83e73e95562f97c5dfea873fed395fcfdbf",256:"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf"},Plasma:{3:"0d0887cc4678f0f921",4:"0d08879c179eed7953f0f921",5:"0d08877e03a8cc4678f89441f0f921",6:"0d08876a00a8b12a90e16462fca636f0f921",7:"0d08875d01a69c179ecc4678ed7953fdb32ff0f921",8:"0d08875402a38b0aa5b93289db5c68f48849febc2af0f921",9:"0d08874c02a17e03a8a92395cc4678e56b5df89441fdc328f0f921",10:"0d088747039f7301a89c179ebd3786d8576bed7953fa9e3bfdc926f0f921",11:"0d088742049e6a00a8900da4b12a90cc4678e16462f1844bfca636fcce25f0f921",12:"0d08873e049c6300a78707a6a62098c03a83d5546ee76f5af58c46fdad32fcd225f0f921",256:"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"},Inferno:{3:"000004bb3754fcffa4",4:"000004781c6ded6925fcffa4",5:"00000456106ebb3754f98c0afcffa4",6:"000004420a68932667dd513afca50afcffa4",7:"000004330a5f781c6dbb3754ed6925fcb519fcffa4",8:"000004280b5465156e9f2a63d44842f57d15fac127fcffa4",9:"000004210c4a56106e89226abb3754e35932f98c0af9c932fcffa4",10:"0000041b0c424b0c6b781c6da52c60cf4446ed6925fb9a06f7d03cfcffa4",11:"000004170c3a420a686b186e932667bb3754dd513af3771afca50af6d645fcffa4",12:"000004140b353a096360136e85216ba92e5ecb4149e65d2ff78311fcad12f5db4bfcffa4",256:"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4"},Cividis:{3:"00204d7c7b78ffea46",4:"00204d575c6da69d75ffea46",5:"00204d414d6b7c7b78bcaf6fffea46",6:"00204d31446b666970958f78cbba69ffea46",7:"00204d233e6c575c6d7c7b78a69d75d3c164ffea46",8:"00204d16396d4b546c6c6e728e8a79b3a772dbc761ffea46",9:"00204d05366e414d6b61646f7c7b789b9477bcaf6fe0cb5effea46",10:"00204d00336f39486b575c6d7071738a8779a69d75c4b56ce4cf5bffea46",11:"00204d00326f31446b4e576c6669707c7b78958f78b0a473cbba69e7d159ffea46",12:"00204d00306f2a406c48526b5e626e7273748784799e9677b6a971d0be67ead357ffea46",256:"00204c00204e00215000225100235300235500245600255800265a00265b00275d00285f002861002963002a64002a66002b68002c6a002d6c002d6d002e6e002e6f002f6f002f6f00306f00316f00316f00326e00336e00346e00346e01356e06366e0a376d0e376d12386d15396d17396d1a3a6c1c3b6c1e3c6c203c6c223d6c243e6c263e6c273f6c29406b2b416b2c416b2e426b2f436b31446b32446b33456b35466b36466b37476b38486b3a496b3b496b3c4a6b3d4b6b3e4b6b404c6b414d6b424e6b434e6b444f6b45506b46506b47516b48526b49536b4a536b4b546b4c556b4d556b4e566b4f576c50586c51586c52596c535a6c545a6c555b6c565c6c575d6d585d6d595e6d5a5f6d5b5f6d5c606d5d616e5e626e5f626e5f636e60646e61656f62656f63666f64676f65676f666870676970686a70686a70696b716a6c716b6d716c6d726d6e726e6f726f6f726f70737071737172737272747373747474757575757575757676767777767878767978777a79777b7a777b7b787c7b787d7c787e7d787f7e78807e78817f788280788381788481788582788683788784788885788985788a86788b87788c88788d88788e89788f8a78908b78918c78928c78938d78948e78958f78968f779790779891779992779a93779b93779c94779d95779e96769f9776a09876a19876a29976a39a75a49b75a59c75a69c75a79d75a89e74a99f74aaa074aba174aca173ada273aea373afa473b0a572b1a672b2a672b4a771b5a871b6a971b7aa70b8ab70b9ab70baac6fbbad6fbcae6ebdaf6ebeb06ebfb16dc0b16dc1b26cc2b36cc3b46cc5b56bc6b66bc7b76ac8b86ac9b869cab969cbba68ccbb68cdbc67cebd67d0be66d1bf66d2c065d3c065d4c164d5c263d6c363d7c462d8c561d9c661dbc760dcc860ddc95fdeca5edfcb5de0cb5de1cc5ce3cd5be4ce5be5cf5ae6d059e7d158e8d257e9d356ebd456ecd555edd654eed753efd852f0d951f1da50f3db4ff4dc4ef5dd4df6de4cf7df4bf9e049fae048fbe147fce246fde345ffe443ffe542ffe642ffe743ffe844ffe945"},Rainbow:{3:"ff000000ff000000ff",4:"ff000080ff0000ffff8000ff",5:"ff0000ccff0000ff660066ffcc00ff",6:"ff0000ffff0000ff0000ffff0000ffff00ff",7:"ff0000ffdb0049ff0000ff920092ff4900ffff00db",8:"ff0000ffbf0080ff0000ff4000ffff0040ff8000ffff00bf",9:"ff0000ffaa00aaff0000ff0000ffaa00aaff0000ffaa00ffff00aa",10:"ff0000ff9900ccff0033ff0000ff6600ffff0066ff3300ffcc00ffff0099",11:"ff0000ff8b00e8ff005dff0000ff2e00ffb900b9ff002eff5d00ffe800ffff008b",12:"ff0000ff8000ffff0080ff0000ff0000ff8000ffff0080ff0000ff8000ffff00ffff0080"},Heat:{3:"ff0000ff8000ffff00",4:"ff0000ff8000ffff00ffff80",5:"ff0000ff5500ffaa00ffff00ffff80",6:"ff0000ff4000ff8000ffbf00ffff00ffff80",7:"ff0000ff3300ff6600ff9900ffcc00ffff00ffff80",8:"ff0000ff3300ff6600ff9900ffcc00ffff00ffff40ffffbf",9:"ff0000ff2a00ff5500ff8000ffaa00ffd500ffff00ffff40ffffbf",10:"ff0000ff2400ff4900ff6d00ff9200ffb600ffdb00ffff00ffff40ffffbf",11:"ff0000ff2000ff4000ff6000ff8000ff9f00ffbf00ffdf00ffff00ffff40ffffbf",12:"ff0000ff2000ff4000ff6000ff8000ff9f00ffbf00ffdf00ffff00ffff2affff80ffffd5"},LastAirBenderFire:{8:"ecb100a100007E605EFF45009948234B4C4E572530000000"},LastAirBenderAir:{7:"ff9933C24841FFFF338B5B4587AFD1EEB05ADBC5A0"},LastAirBenderEarth:{9:"015E05B1A8667A5C1264674225351C4C7022C7C45ED2CFABFEFED8"},LastAirBenderWater:{8:"0047ab1DB4D3A2CAEDAFB5B8120976fffafa174D79949BBC"},SpongeBob:{11:"C86925FDF56CC4433F989B46FC95765D57AFB2CE31FF2027000000B1D6C5AB8323"},Simpsons:{10:"fed90f424f46d1b271FB4122ABC67D0363C37A491E000000FC020946732E"},RickyAndMorty:{9:"01B4C697ce4cFFF874BEE5FDF675DA44281d3a4767F8D3ACE64358"},ParksAndRecreation:{10:"bdbdbda51209ffdb58ec70147A491EC24841005502f7fcb969983ab5651d"},KimPossible:{12:"FF8C0002466370D42389160402001F9CF6F7FFCE455D734DFEC3BB662C9Cfff9f5000000"},GravityFalls:{14:"417BA1ff1493ffff2e3456348b0000ff670093C0D58b45139248A71c88594747478fbc8fd2b48c000000"},GameOfThronesStark:{9:"cadde17B906F174D79fffafa898989D4CDB1708090120976000000"},GameOfThronesStannis:{7:"FF0000ff8d1aFFD700b20000cc6600FFFF66000000"},GameOfThronesLannister:{6:"89080AC5AA73FEDF25C248418B5B45000000"},GameOfThronesTyrell:{9:"068105F7DC27808000AB681BF9FE768DA08071749798FB983CB371"},GameOfThronesTargaryen:{5:"AC1F25272727ff993382878896804b"},GameOfThronesMartell:{8:"ff8000cc6600b81b1873110ff8fc23fafd7b4c2600a57642"},GameOfThronesTully:{6:"212250AE432FE4EDCA8B5B454682B4000000"},GameOfThronesGreyjoy:{6:"000000708090D4CDB1DCDCDCF7DC27808080"},GameOfThronesManderly:{7:"40e0d080808000ff00282828015202195953FFFFFF"},GameOfThronesArryn:{7:"007fff7fbfff0019334c4cffffefb2a89797FFFFFF"},Brooklyn99Regular:{10:"e7298a72bcd4e41a1cFCF40E49f149f16913525252F9FEFF000E33000000"},Brooklyn99Dark:{9:"6CA9C33A3533000E33800000CBCFD2175E78DAA520174D79000000"}};for(var e in CanvasXpress.colorSchemes){for(var f in CanvasXpress.colorSchemes[e]){var c=CanvasXpress.colorSchemes[e][f].match(/.{6}/g);CanvasXpress.colorSchemes[e][f]=c?c.map(function(a){return"#"+a}):[]}}var b=["Viridis","Magma","Plasma","Inferno","Cividis"];var b=["Viridis"];for(var d=0;d<b.length;d++){var e=JSON.parse(JSON.stringify(CanvasXpress.colorSchemes[b[d]]));CanvasXpress.colorSchemes[b[d]+"Inv"]={};for(var f in e){CanvasXpress.colorSchemes[b[d]+"Inv"][f]=e[f].reverse()}}}();CanvasXpress.instances=CanvasXpress.instances||[];CanvasXpress.config=CanvasXpress.config||[];CanvasXpress.transitions=CanvasXpress.transitions||{};CanvasXpress.cacheImages=CanvasXpress.cacheImages||{};CanvasXpress.cacheImagesReady=CanvasXpress.cacheImagesReady||false;CanvasXpress.cachePatterns=CanvasXpress.cachePatterns||{};CanvasXpress.cacheText=CanvasXpress.cacheText||{};CanvasXpress.fonts=CanvasXpress.fonts||{"American Typewriter":true,"Andale Mono":true,Arial:true,Baskerville:true,"Bradley Hand":true,"Brush Script MT":true,"Comic Sans MS":true,Courier:true,Didot:true,Georgia:true,"Gill Sans":true,Helvetica:true,Impact:true,"Lucida Console":true,Luminari:true,Monaco:true,Optima:true,Palatino:true,Roboto:true,Tahoma:true,"Times New Roman":true,"Trebuchet MS":true,Verdana:true};CanvasXpress.selector=CanvasXpress.selector||{vars:{},smps:{},meta:{},comp:{},nodes:{},edges:{},mixed:{},selections:0,groups:{},graphType:false};CanvasXpress.hidden=CanvasXpress.hidden||{hiddenVars:{},hiddenSmps:{},hiddenGrps:{},hiddenMapFeatures:{},hiddenNodes:{},hiddenEdges:{}};CanvasXpress.stack=CanvasXpress.stack||{};CanvasXpress.current=CanvasXpress.current||false;CanvasXpress.chain=CanvasXpress.chain||{};CanvasXpress.registered="A4131277112F07673FF6AE042960E118E26D2";CanvasXpress.system=CanvasXpress.system||{};CanvasXpress.ready=CanvasXpress.ready||false;CanvasXpress.readyFonts=CanvasXpress.readyFonts||false;CanvasXpress.png="data:image/png;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";CanvasXpress.letters=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];CanvasXpress.dates={Sun:1,Mon:2,Tue:3,Wed:4,Thu:5,Fri:6,Sat:7,Sunday:1,Monday:2,Tuesday:3,Wednesday:4,Thursday:5,Friday:6,Saturday:7,Jan:"01",Feb:"02",Mar:"03",Apr:"04",May:"05",Jun:"06",Jul:"07",Aug:"08",Sep:"09",Oct:"10",Nov:"11",Dec:"12",January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"};CanvasXpress.countries={"-99":["Unknown","Unknown","Unknown","UNK",0,0,"UNK"],ABW:["Aruba","Americas","Caribbean","AW",12.515,-69.976,"ABW"],AFG:["Afghanistan","Asia","Southern Asia","AF",33.838,66.026,"AFG"],AGO:["Angola","Africa","Middle Africa","AO",-12.296,17.544,"AGO"],AIA:["Anguilla","Americas","Caribbean","AI",18.222,-63.061,"AIA"],ALA:["Aland Islands","Europe","Northern Europe","AX",60.205,19.953,"ALA"],ALB:["Albania","Europe","Southern Europe","AL",41.142,20.068,"ALB"],AND:["Andorra","Europe","Southern Europe","AD",42.548,1.576,"AND"],ANT:["Netherlands Antilles","Americas","Caribbean","AN",12.187,-68.694,"NLD"],ARE:["United Arab Emirates","Asia","Western Asia","AE",23.903,54.34,"ARE"],ARG:["Argentina","Americas","South America","AR",-35.377,-65.168,"ARG"],ARM:["Armenia","Asia","Western Asia","AM",40.286,44.946,"ARM"],ASM:["American Samoa","Oceania","Polynesia","AS",-14.305,-170.708,"ASM"],ATF:["French Southern and Antarctic Territories","Antarctica","Antartica","TF",-49.192,68.861,"FRA"],ATG:["Antigua & Barbuda","Americas","Caribbean","AG",17.279,-61.792,"ATG",["Antigua and Barbuda"]],AUS:["Australia","Oceania","Australia and New Zealand","AU",-25.735,134.489,"AUS"],AUT:["Austria","Europe","Western Europe","AT",47.592,14.14,"AUT"],AZE:["Azerbaijan","Asia","Western Asia","AZ",40.296,48.819,"AZE"],BDI:["Burundi","Africa","Eastern Africa","BI",-3.357,29.887,"BDI"],BEL:["Belgium","Europe","Western Europe","BE",50.642,4.663,"BEL"],BEN:["Benin","Africa","Western Africa","BJ",9.647,2.343,"BEN"],BFA:["Burkina Faso","Africa","Western Africa","BF",12.277,-1.741,"BFA"],BGD:["Bangladesh","Asia","Southern Asia","BD",23.843,90.268,"BGD"],BGR:["Bulgaria","Europe","Eastern Europe","BG",42.761,25.231,"BGR"],BHR:["Bahrain","Asia","Western Asia","BH",26.022,50.559,"BHR"],BHS:["Bahamas","Americas","Caribbean","BS",24.201,-76.547,"BHS"],BIH:["Bosnia & Herzegovina","Europe","Southern Europe","BA",44.168,17.786,"BIH",["Bosnia and Herzegovina"]],BLR:["Belarus","Europe","Eastern Europe","BY",53.539,28.046,"BLR"],BLZ:["Belize","Americas","Central America","BZ",17.217,-88.685,"BLZ"],BMU:["Bermuda","Americas","Northern America","BM",32.316,-64.74,"BMU"],BOL:["Bolivia","Americas","South America","BO",-16.715,-64.671,"BOL"],BRA:["Brazil","Americas","South America","BR",-10.774,-53.09,"BRA"],BRB:["Barbados","Americas","Caribbean","BB",13.178,-59.562,"BRB"],BRN:["Brunei Darussalam","Asia","South-Eastern Asia","BN",4.521,114.761,"BRN",["Brunei"]],BTN:["Bhutan","Asia","Southern Asia","BT",27.415,90.429,"BTN"],BVT:["Bouvet Island","Antarctica","Antartica","BV",-54.422,3.412,"NOR"],BWA:["Botswana","Africa","Southern Africa","BW",-22.183,23.815,"BWA"],CAF:["Central African Republic","Africa","Middle Africa","CF",6.571,20.482,"CAF"],CAN:["Canada","Americas","Northern America","CA",61.392,-98.266,"CAN"],CCK:["Cocos (Keeling) Islands","Asia","South-Eastern Asia","CC",-12.172,96.836,"AUS"],CHE:["Switzerland","Europe","Western Europe","CH",46.802,8.234,"CHE"],CHL:["Chile","Americas","South America","CL",-37.853,-71.374,"CHL"],CHN:["China","Asia","Eastern Asia","CN",36.567,103.904,"CHN"],CIV:["Cote d'Ivoire","Africa","Western Africa","CI",7.631,-5.556,"CIV"],CMR:["Cameroon","Africa","Middle Africa","CM",5.685,12.743,"CMR"],COD:["Democratic Republic of the Congo","Africa","Middle Africa","CD",-2.877,23.655,"COD",["Democratic Republic of Congo"]],COG:["Congo","Africa","Middle Africa","CG",-0.841,15.224,"COG"],COK:["Cook Islands","Oceania","Polynesia","CK",-20.935,-158.909,"NZL"],COL:["Colombia","Americas","South America","CO",3.901,-73.074,"COL"],COM:["Comoros","Africa","Eastern Africa","KM",-11.893,43.675,"COM"],CPV:["Cape Verde","Africa","Western Africa","CV",15.978,-23.968,"CPV"],CRI:["Costa Rica","Americas","Central America","CR",9.97,-84.188,"CRI"],CUB:["Cuba","Americas","Caribbean","CU",21.621,-79.037,"CUB"],CXR:["Christmas Island","Asia","South-Eastern Asia","CX",-10.445,105.703,"AUS"],CYM:["Cayman Islands","Americas","Caribbean","KY",19.308,-81.239,"GBR"],CYP:["Cyprus","Asia","Western Asia","CY",35.045,33.221,"CYP"],CZE:["Czech Republic","Europe","Eastern Europe","CZ",49.742,15.338,"CZE",["Czechia"]],DEU:["Germany","Europe","Western Europe","DE",51.106,10.393,"DEU"],DJI:["Djibouti","Africa","Eastern Africa","DJ",11.749,42.577,"DJI"],DMA:["Dominica","Americas","Caribbean","DM",15.435,-61.356,"DMA"],DNK:["Denmark","Europe","Northern Europe","DK",55.963,10.046,"DNK"],DOM:["Dominican Republic","Americas","Caribbean","DO",18.894,-70.485,"DOM"],DZA:["Algeria","Africa","Northern Africa","DZ",28.163,2.632,"DZA"],ECU:["Ecuador","Americas","South America","EC",-1.428,-78.768,"ECU"],EGY:["Egypt","Africa","Northern Africa","EG",26.553,29.79,"EGY"],EGY1:["Ma'tan al-Sarra","Africa","Northern Africa","EGY1",21.892,33.743,"EGY"],ERI:["Eritrea","Africa","Eastern Africa","ER",15.373,38.841,"ERI"],ESH:["Western Sahara","Africa","Northern Africa","EH",24.661,-13.137,"ESH"],ESP:["Spain","Europe","Southern Europe","ES",40.226,-3.65,"ESP"],EST:["Estonia","Europe","Northern Europe","EE",58.674,25.527,"EST"],ETH:["Ethiopia","Africa","Eastern Africa","ET",8.633,39.616,"ETH"],FIN:["Finland","Europe","Northern Europe","FI",64.5,26.266,"FIN"],FJI:["Fiji","Oceania","Melanesia","FJ",-17.454,171.983,"FJI"],FLK:["Falkland Islands (Malvinas)","Americas","South America","FK",-51.738,-59.364,"GBR",["Falkland Islands"]],FRA:["France","Europe","Western Europe","FR",46.564,2.551,"FRA"],FRA1:["Glorioso Islands","Africa","Eastern Africa","FRA1",-11.567,47.29,"FRA"],FRO:["Faroe Islands","Europe","Northern Europe","FO",62.031,-6.885,"DNK"],FSM:["Micronesia (Federated States of)","Oceania","Micronesia","FM",6.492,159.404,"FSM",["Federated States of Micronesia"]],GAB:["Gabon","Africa","Middle Africa","GA",-0.591,11.797,"GAB"],GBR:["United Kingdom of Great Britain and Northern Ireland","Europe","Northern Europe","GB",54.155,-2.896,"GBR",["United Kingdom"]],GBR1:["Jersey","Europe","Northern Europe","GBR1",49.219,-2.129,"GBR"],GBR2:["South Georgia & the South Sandwich Islands","Antarctica","Antartica","GBR2",-54.489,-36.383,"GBR"],GBR3:["Guernsey","Europe","Northern Europe","GBR3",49.458,-2.577,"GBR"],GEO:["Georgia","Asia","Western Asia","GE",42.176,43.517,"GEO"],GHA:["Ghana","Africa","Western Africa","GH",7.959,-1.208,"GHA"],GIB:["Gibraltar","Europe","Southern Europe","GI",36.138,-5.345,"GBR"],GIN:["Guinea","Africa","Western Africa","GN",10.438,-10.942,"GIN"],GLP:["Guadeloupe","Americas","Caribbean","GP",16.203,-61.537,"FRA"],GMB:["Gambia","Africa","Western Africa","GM",13.452,-15.387,"GMB",["The Gambia"]],GNB:["Guinea-Bissau","Africa","Western Africa","GW",12.03,-14.966,"GNB"],GNQ:["Equatorial Guinea","Africa","Middle Africa","GQ",1.712,10.341,"GNQ"],GRC:["Greece","Europe","Southern Europe","GR",39.068,22.959,"GRC"],GRD:["Grenada","Americas","Caribbean","GD",12.112,-61.68,"GRD"],GRL:["Greenland","Americas","Northern America","GL",74.72,-41.39,"DNK"],GTM:["Guatemala","Americas","Central America","GT",15.702,-90.357,"GTM"],GUF:["French Guiana","Americas","South America","GF",3.924,-53.242,"FRA"],GUM:["Guam","Oceania","Micronesia","GU",13.443,144.775,"GUM"],GUY:["Guyana","Americas","South America","GY",4.792,-58.975,"GUY"],HKG:["Hong Kong","Asia","Eastern Asia","HK",22.377,114.11,"CHN"],HMD:["Heard Island and McDonald Islands","Antarctica","Antartica","HM",-53.092,73.498,"AUS"],HND:["Honduras","Americas","Central America","HN",14.819,-86.62,"HND"],HRV:["Croatia","Europe","Southern Europe","HR",45.051,16.411,"HRV"],HTI:["Haiti","Americas","Caribbean","HT",18.941,-72.68,"HTI"],HUN:["Hungary","Europe","Eastern Europe","HU",47.166,19.413,"HUN"],IDN:["Indonesia","Asia","South-Eastern Asia","ID",-2.231,117.3,"IDN"],IMY:["Isle of Man","Europe","Northern Europe","IM",54.229,-4.526,"GBR"],IND:["India","Asia","Southern Asia","IN",22.326,79.386,"IND"],IND1:["Arunachal Pradesh","Asia","Eastern Asia","IND1",28.121,94.35,"IND"],IOT:["British Indian Ocean Territory","Africa","Eastern Africa","IO",-7.335,72.434,"IOT"],IRL:["Ireland","Europe","Northern Europe","IE",53.176,-8.151,"IRL"],IRN:["Iran (Islamic Republic of)","Asia","Southern Asia","IR",32.739,54.197,"IRN",["Iran","Islamic Republic of Iran"]],IRQ:["Iraq","Asia","Western Asia","IQ",33.048,43.772,"IRQ"],ISL:["Iceland","Europe","Northern Europe","IS",64.997,-18.606,"ISL"],ISR:["Israel","Asia","Western Asia","IL",31.358,34.965,"ISR"],ITA:["Italy","Europe","Southern Europe","IT",42.795,12.071,"ITA"],JAM:["Jamaica","Americas","Caribbean","JM",18.151,-77.32,"JAM"],JOR:["Jordan","Asia","Western Asia","JO",31.253,36.786,"JOR"],JPN:["Japan","Asia","Eastern Asia","JP",37.562,137.99,"JPN"],KAZ:["Kazakhstan","Asia","Central Asia","KZ",48.015,66.657,"KAZ",["Baikonur Cosmodrome"]],KAZ1:["Baikonur Cosmodrome","Asia","Central Asia","KAZ1",45.965,63.305,"KAZ"],KEN:["Kenya","Africa","Eastern Africa","KE",0.529,37.858,"KEN"],KGZ:["Kyrgyzstan","Asia","Central Asia","KG",41.465,74.555,"KGZ"],KHM:["Cambodia","Asia","South-Eastern Asia","KH",12.716,104.923,"KHM"],KIR:["Kiribati","Oceania","Micronesia","KI",1.834,-154.459,"KIR"],KNA:["Saint Kitts and Nevis","Americas","Caribbean","KN",17.326,-62.754,"KNA"],KOR:["Republic of Korea","Asia","Eastern Asia","KR",36.375,127.834,"KOR"],KSV:["Kosovo","Europe","Eastern Europe","KV",42.602,20.903,"KSV"],KWT:["Kuwait","Asia","Western Asia","KW",29.34,47.59,"KWT"],LAO:["Lao People's Democratic Republic","Asia","South-Eastern Asia","LA",18.502,103.763,"LAO",["Lao DPR","Laos"]],LBN:["Lebanon","Asia","Western Asia","LB",33.92,35.888,"LBN"],LBR:["Liberia","Africa","Western Africa","LR",6.448,-9.308,"LBR"],LBY:["Libyan Arab Jamahiriya","Africa","Northern Africa","LY",27.043,18.023,"LBY",["Libya"]],LCA:["Saint Lucia","Americas","Caribbean","LC",13.897,-60.969,"LCA"],LIE:["Liechtenstein","Europe","Western Europe","LI",47.151,9.554,"LIE"],LKA:["Sri Lanka","Asia","Southern Asia","LK",7.608,80.704,"LKA"],LSO:["Lesotho","Africa","Southern Africa","LS",-29.582,28.243,"LSO"],LTU:["Lithuania","Europe","Northern Europe","LT",55.335,23.898,"LTU"],LUX:["Luxembourg","Europe","Western Europe","LU",49.77,6.087,"LUX"],LVA:["Latvia","Europe","Northern Europe","LV",56.857,24.929,"LVA"],MAC:["Macao","Asia","Eastern Asia","MO",22.183,113.55,"CHN"],MAR:["Morocco","Africa","Northern Africa","MA",31.883,-6.318,"MAR"],MCO:["Monaco","Europe","Western Europe","MC",43.747,7.412,"MCO"],MDA:["Moldova","Europe","Eastern Europe","MD",47.193,28.473,"MDA",["Republic of Moldova"]],MDG:["Madagascar","Africa","Eastern Africa","MG",-19.374,46.706,"MDG"],MDV:["Maldives","Asia","Southern Asia","MV",3.216,73.252,"MDV"],MEX:["Mexico","Americas","Central America","MX",23.95,-102.533,"MEX"],MHL:["Marshall Islands","Oceania","Micronesia","MH",7.643,168.626,"MHL"],MKD:["The former Yugoslav Republic of Macedonia","Europe","Southern Europe","MK",41.599,21.697,"MKD",["Macedonia"]],MLI:["Mali","Africa","Western Africa","ML",17.35,-3.525,"MLI"],MLT:["Malta","Europe","Southern Europe","MT",35.89,14.441,"MLT"],MMR:["Myanmar","Asia","South-Eastern Asia","MM",21.154,96.506,"MMR"],MNE:["Montenegro","Europe","Southern Europe","ME",42.791,19.25,"MNE"],MNG:["Mongolia","Asia","Eastern Asia","MN",46.835,103.083,"MNG"],MNP:["Northern Mariana Islands","Oceania","Micronesia","MP",15.088,145.679,"USA"],MOZ:["Mozambique","Africa","Eastern Africa","MZ",-17.26,35.551,"MOZ"],MRT:["Mauritania","Africa","Western Africa","MR",20.259,-10.333,"MRT"],MSR:["Montserrat","Americas","Caribbean","MS",16.735,-62.187,"GBR"],MTQ:["Martinique","Americas","Caribbean","MQ",14.652,-61.022,"FRA"],MUS:["Mauritius","Africa","Eastern Africa","MU",-20.252,57.87,"MUS"],MWI:["Malawi","Africa","Eastern Africa","MW",-13.217,34.307,"MWI"],MYS:["Malaysia","Asia","South-Eastern Asia","MY",3.792,109.708,"MYS"],MYT:["Mayotte","Africa","Eastern Africa","YT",-12.819,45.138,"FRA"],NAM:["Namibia","Africa","Southern Africa","NA",-22.134,17.218,"NAM"],NCL:["New Caledonia","Oceania","Melanesia","NC",-21.317,165.715,"FRA"],NER:["Niger","Africa","Western Africa","NE",17.426,9.397,"NER"],NFK:["Norfolk Island","Oceania","Australia and New Zealand","NF",-29.038,167.952,"AUS"],NGA:["Nigeria","Africa","Western Africa","NG",9.593,8.105,"NGA"],NIC:["Nicaragua","Americas","Central America","NI",12.839,-85.035,"NIC"],NIU:["Niue","Oceania","Polynesia","NU",-19.053,-169.869,"NZL"],NLD:["Netherlands","Europe","Western Europe","NL",52.249,5.603,"NLD"],NOR:["Norway","Europe","Northern Europe","NO",64.448,14.084,"NOR"],NPL:["Nepal","Asia","Southern Asia","NP",28.253,83.938,"NPL"],NRU:["Nauru","Oceania","Micronesia","NR",-0.529,166.923,"NRU"],NZL:["New Zealand","Oceania","Australia and New Zealand","NZ",-41.839,171.779,"NZL"],OMN:["Oman","Asia","Western Asia","OM",20.597,56.111,"OMN"],PAK:["Pakistan","Asia","Southern Asia","PK",29.357,68.79,"PAK"],PAN:["Panama","Americas","Central America","PA",8.507,-80.103,"PAN"],PCN:["Pitcairn Island","Oceania","Polynesia","PN",-24.477,-128.594,"GBR"],PER:["Peru","Americas","South America","PE",-9.164,-74.376,"PER"],PHL:["Philippines","Asia","South-Eastern Asia","PH",11.741,122.878,"PHL"],PLW:["Palau","Oceania","Micronesia","PW",7.501,134.568,"PLW"],PNG:["Papua New Guinea","Oceania","Melanesia","PG",-6.479,145.241,"PNG"],POL:["Poland","Europe","Eastern Europe","PL",52.124,19.4,"POL"],PRI:["Puerto Rico","Americas","Caribbean","PR",18.221,-66.463,"USA"],PRK:["Democratic People's Republic of Korea","Asia","Eastern Asia","KP",40.143,127.181,"PRK",["Democratic Republic of Korea","Dem. Rep. of Korea"]],PRT:["Portugal","Europe","Southern Europe","PT",39.691,-7.963,"PRT"],PRT1:["Azores Islands","Europe","Southern Europe","PRT1",38.332,-27.304,"PRT"],PRT2:["Madeira Islands","Europe","Southern Europe","PRT2",32.747,-16.985,"PRT"],PRY:["Paraguay","Americas","South America","PY",-23.237,-58.392,"PRY"],PSE:["West Bank","Asia","Western Asia","PS",31.946,35.256,"XXX"],PSE:["Gaza Strip","Asia","Western Asia","PS",31.401,34.372,"XXX"],PYF:["French Polynesia","Oceania","Polynesia","PF",-14.855,-146.419,"FRA"],QAT:["Qatar","Asia","Western Asia","QA",25.297,51.188,"QAT"],REU:["Reunion","Africa","Eastern Africa","RE",-21.122,55.538,"FRA"],ROU:["Romania","Europe","Eastern Europe","RO",45.843,24.969,"ROU"],RUS:["Russian Federation","Europe","Eastern Europe","RU",61.949,96.568,"RUS",["Russia"]],RUS1:["Kuril Islands","Asia","Eastern Asia","RUS1",44.691,147.162,"RUS"],RWA:["Rwanda","Africa","Eastern Africa","RW",-1.998,29.917,"RWA"],SAU:["Saudi Arabia","Asia","Western Asia","SA",24.122,44.545,"SAU"],SDN:["Sudan","Africa","Northern Africa","SD",16.019,29.958,"SDN"],SDN1:["Abyei","Africa","Northern Africa","SDN1",9.767,28.398,"SDN"],SDN2:["Hala'ib Triangle","Africa","Northern Africa","SDN2",22.3,35.615,"SDN"],SDN3:["Ilemi Triangle","Africa","Northern Africa","SDN3",4.764,35.108,"SDN"],SEN:["Senegal","Africa","Western Africa","SN",14.366,-14.468,"SEN"],SGP:["Singapore","Asia","South-Eastern Asia","SG",1.351,103.808,"SGP"],SGS:["South Georgia & the South Sandwich Islands","Americas","South America","GS",-54.429,-36.587,"GBR"],SHN:["Saint Helena","Africa","Western Africa","SH",-15.965,-5.711,"GBR"],SJM:["Svalbard and Jan Mayen Islands","Europe","Northern Europe","SJ",78.828,18.363,"NOR"],SLB:["Solomon Islands","Oceania","Melanesia","SB",-8.919,159.634,"SLB"],SLE:["Sierra Leone","Africa","Western Africa","SL",8.56,-11.792,"SLE"],SLV:["El Salvador","Americas","Central America","SV",13.736,-88.867,"SLV"],SMR:["San Marino","Europe","Southern Europe","SM",43.943,12.458,"SMR"],SOM:["Somalia","Africa","Eastern Africa","SO",6.063,45.862,"SOM"],SPM:["Saint Pierre and Miquelon","Americas","Northern America","PM",46.946,-56.262,"FRA"],SRB:["Serbia","Europe","Southern Europe","RS",44.031,20.805,"SRB"],SSD:["South Sudan","Africa","Middle Africa","SS",7.295,30.315,"SSD"],STP:["Sao Tome and Principe","Africa","Middle Africa","ST",0.456,6.736,"STP"],SUR:["Suriname","Americas","South America","SR",4.126,-55.912,"SUR"],SVK:["Slovakia","Europe","Eastern Europe","SK",48.707,19.491,"SVK"],SVN:["Slovenia","Europe","Southern Europe","SI",46.123,14.826,"SVN"],SWE:["Sweden","Europe","Northern Europe","SE",62.789,16.739,"SWE"],SWZ:["Swaziland","Africa","Southern Africa","SZ",-26.563,31.497,"SWZ"],SYC:["Seychelles","Africa","Eastern Africa","SC",-6.355,52.229,"SYC"],SYR:["Syrian Arab Republic","Asia","Western Asia","SY",35.013,38.505,"SYR",["Syria"]],TCA:["Turks and Caicos Islands","Americas","Caribbean","TC",21.836,-71.813,"GBR"],TCD:["Chad","Africa","Middle Africa","TD",15.361,18.664,"TCD"],TGO:["Togo","Africa","Western Africa","TG",8.534,0.975,"TGO"],THA:["Thailand","Asia","South-Eastern Asia","TH",15.127,101.017,"THA"],TJK:["Tajikistan","Asia","Central Asia","TJ",38.528,71.042,"TJK"],TKL:["Tokelau","Oceania","Polynesia","TK",-9.196,-171.853,"TKL"],TKM:["Turkmenistan","Asia","Central Asia","TM",39.218,58.391,"TKM"],TLS:["Timor-Leste","Asia","South-Eastern Asia","TL",-8.823,125.853,"TLS"],TON:["Tonga","Oceania","Polynesia","TO",-20.403,-174.837,"TON"],TTO:["Trinidad and Tobago","Americas","Caribbean","TT",10.468,-61.254,"TTO"],TUN:["Tunisia","Africa","Northern Africa","TN",34.11,9.561,"TUN"],TUR:["Turkey","Asia","Western Asia","TR",39.06,35.179,"TUR"],TUV:["Tuvalu","Oceania","Polynesia","TV",-7.828,178.557,"TUV"],TWN:["Taiwan","Asia","Eastern Asia","TW",23.754,120.95,"CHN"],TZA:["United Republic of Tanzania","Africa","Eastern Africa","TZ",-6.271,34.823,"TZA",["Tanzania"]],UGA:["Uganda","Africa","Eastern Africa","UG",1.279,32.386,"UGA"],UKR:["Ukraine","Europe","Eastern Europe","UA",49.017,31.387,"UKR"],URY:["Uruguay","Americas","South America","UY",-32.8,-56.013,"URY"],USA:["United States of America","Americas","Northern America","US",45.695,-112.492,"USA",["United States"]],USA1:["Guantanamo","Americas","Caribbean","USA1",19.927,-75.143,"USA"],USA2:["Jarvis Island","Americas","Northern America","USA2",-0.387,-160.028,"USA"],USA3:["Midway Island","Americas","Northern America","USA3",28.205,-177.379,"USA"],UZB:["Uzbekistan","Asia","Central Asia","UZ",41.75,63.169,"UZB"],VAT:["Holy See","Europe","Southern Europe","VA",41.903,12.452,"VAT",["Vatican City"]],VCT:["Saint Vincent and the Grenadines","Americas","Caribbean","VC",13.254,-61.194,"VCT"],VEN:["Venezuela","Americas","South America","VE",7.122,-66.17,"VEN"],VGB:["British Virgin Islands","Americas","Caribbean","VG",18.444,-64.531,"GBR"],VIR:["United States Virgin Islands","Americas","Caribbean","VI",17.905,-64.808,"USA"],VNM:["Vietnam","Asia","South-Eastern Asia","VN",16.659,106.301,"VNM"],VUT:["Vanuatu","Oceania","Melanesia","VU",-16.256,167.718,"VUT"],WSM:["Samoa","Oceania","Polynesia","WS",-13.759,-172.16,"WSM"],XXX1:["Paracel Islands","Asia","South-Eastern Asia","XXX1",16.701,112.375,"XXX"],XXX2:["Spratly Islands","Asia","South-Eastern Asia","XXX2",10.562,115.597,"XXX"],XXY1:["Aksai Chin","Asia","Eastern Asia","XXY1",35.033,79.127,"XXY"],XXZ1:["Jammu-Kashmir","Asia","Eastern Asia","XXZ1",34.55,75.807,"XXZ"],YEM:["Yemen","Asia","Western Asia","YE",15.905,47.599,"YEM"],ZAF:["South Africa","Africa","Southern Africa","ZA",-28.994,25.088,"ZAF"],ZMB:["Zambia","Africa","Eastern Africa","ZM",-13.454,27.798,"ZMB"],ZWE:["Zimbabwe","Africa","Eastern Africa","ZW",-19.001,29.871,"ZWE"]};CanvasXpress.usa={AK:["Alaska",63.588753,-154.493062],AL:["Alabama",32.318231,-86.902298],AR:["Arkansas",35.20105,-91.831833],AZ:["Arizona",34.048928,-111.093731],CA:["California",36.778261,-119.417932],CO:["Colorado",39.550051,-105.782067],CT:["Connecticut",41.603221,-73.087749],DC:["District of Columbia",38.905985,-77.033418],DE:["Delaware",38.910832,-75.52767],FL:["Florida",27.664827,-81.515754],GA:["Georgia",32.157435,-82.907123],HI:["Hawaii",19.898682,-155.665857],IA:["Iowa",41.878003,-93.097702],ID:["Idaho",44.068202,-114.742041],IL:["Illinois",40.633125,-89.398528],IN:["Indiana",40.551217,-85.602364],KS:["Kansas",39.011902,-98.484246],KY:["Kentucky",37.839333,-84.270018],LA:["Louisiana",31.244823,-92.145024],MA:["Massachusetts",42.407211,-71.382437],MD:["Maryland",39.045755,-76.641271],ME:["Maine",45.253783,-69.445469],MI:["Michigan",44.314844,-85.602364],MN:["Minnesota",46.729553,-94.6859],MO:["Missouri",37.964253,-91.831833],MS:["Mississippi",32.354668,-89.398528],MT:["Montana",46.879682,-110.362566],NC:["North Carolina",35.759573,-79.0193],ND:["North Dakota",47.551493,-101.002012],NE:["Nebraska",41.492537,-99.901813],NH:["New Hampshire",43.193852,-71.572395],NJ:["New Jersey",40.058324,-74.405661],NM:["New Mexico",34.97273,-105.032363],NV:["Nevada",38.80261,-116.419389],NY:["New York",43.299428,-74.217933],OH:["Ohio",40.417287,-82.907123],OK:["Oklahoma",35.007752,-97.092877],OR:["Oregon",43.804133,-120.554201],PA:["Pennsylvania",41.203322,-77.194525],PR:["Puerto Rico",18.220833,-66.590149],RI:["Rhode Island",41.580095,-71.477429],SC:["South Carolina",33.836081,-81.163725],SD:["South Dakota",43.969515,-99.901813],TN:["Tennessee",35.517491,-86.580447],TX:["Texas",31.968599,-99.901813],UT:["Utah",39.32098,-111.093731],VA:["Virginia",37.431573,-78.656894],VT:["Vermont",44.558803,-72.577841],WA:["Washington",47.751074,-120.740139],WI:["Wisconsin",43.78444,-88.787868],WV:["West Virginia",38.597626,-80.454903],WY:["Wyoming",43.075968,-107.290284]};CanvasXpress.maps={Africa:"/data/json/africa.geo.json",Asia:"/data/json/asia.geo.json",Countries:"/data/json/countries.geo.json",Europe:"/data/json/europe.geo.json",NorthAmerica:"/data/json/north-america.geo.json",Oceania:"/data/json/oceania.geo.json",SouthAmerica:"/data/json/south-america.geo.json",USACounties:"/data/json/usa-counties.json",USADistricts:"/data/json/usa-districts.json",USAStates:"/data/json/usa-states.json",WorldContinents:"/data/json/world-continents-geo.json",World:"/data/json/world.geojson",WorldMedium:"/data/json/worldm.geojson",WorldHigh:"/data/json/worldh.geojson",WorldDeprecated:"/data/json/world.geo.json"};CanvasXpress.example={y:{vars:["A","B","C"],smps:["X","Y","Z"],data:[[1,2,3],[4,5,6],[7,8,9]]}};CanvasXpress.geojson={type:"FeatureCollection",features:[{type:"Feature",properties:{name:"Dummy"},geometry:{type:"Polygon",coordinates:[[[-180,-90],[180,-90],[180,90],[-180,90],[-180,-90]]]}}]};CanvasXpress.chromosomes={hg38:{columns:["start","end","name","stain"],order:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,"X","Y"],data:{1:[[0,2300000,"p36.33","gneg"],[2300000,5300000,"p36.32","gpos25"],[5300000,7100000,"p36.31","gneg"],[7100000,9100000,"p36.23","gpos25"],[9100000,12500000,"p36.22","gneg"],[12500000,15900000,"p36.21","gpos50"],[15900000,20100000,"p36.13","gneg"],[20100000,23600000,"p36.12","gpos25"],[23600000,27600000,"p36.11","gneg"],[27600000,29900000,"p35.3","gpos25"],[29900000,32300000,"p35.2","gneg"],[32300000,34300000,"p35.1","gpos25"],[34300000,39600000,"p34.3","gneg"],[39600000,43700000,"p34.2","gpos25"],[43700000,46300000,"p34.1","gneg"],[46300000,50200000,"p33","gpos75"],[50200000,55600000,"p32.3","gneg"],[55600000,58500000,"p32.2","gpos50"],[58500000,60800000,"p32.1","gneg"],[60800000,68500000,"p31.3","gpos50"],[68500000,69300000,"p31.2","gneg"],[69300000,84400000,"p31.1","gpos100"],[84400000,87900000,"p22.3","gneg"],[87900000,91500000,"p22.2","gpos75"],[91500000,94300000,"p22.1","gneg"],[94300000,99300000,"p21.3","gpos75"],[99300000,101800000,"p21.2","gneg"],[101800000,106700000,"p21.1","gpos100"],[106700000,111200000,"p13.3","gneg"],[111200000,115500000,"p13.2","gpos50"],[115500000,117200000,"p13.1","gneg"],[117200000,120400000,"p12","gpos50"],[120400000,121700000,"p11.2","gneg"],[121700000,123400000,"p11.1","acen"],[123400000,125100000,"q11","acen"],[125100000,143200000,"q12","gvar"],[143200000,147500000,"q21.1","gneg"],[147500000,150600000,"q21.2","gpos50"],[150600000,155100000,"q21.3","gneg"],[155100000,156600000,"q22","gpos50"],[156600000,159100000,"q23.1","gneg"],[159100000,160500000,"q23.2","gpos50"],[160500000,165500000,"q23.3","gneg"],[165500000,167200000,"q24.1","gpos50"],[167200000,170900000,"q24.2","gneg"],[170900000,173000000,"q24.3","gpos75"],[173000000,176100000,"q25.1","gneg"],[176100000,180300000,"q25.2","gpos50"],[180300000,185800000,"q25.3","gneg"],[185800000,190800000,"q31.1","gpos100"],[190800000,193800000,"q31.2","gneg"],[193800000,198700000,"q31.3","gpos100"],[198700000,207100000,"q32.1","gneg"],[207100000,211300000,"q32.2","gpos25"],[211300000,214400000,"q32.3","gneg"],[214400000,223900000,"q41","gpos100"],[223900000,224400000,"q42.11","gneg"],[224400000,226800000,"q42.12","gpos25"],[226800000,230500000,"q42.13","gneg"],[230500000,234600000,"q42.2","gpos50"],[234600000,236400000,"q42.3","gneg"],[236400000,243500000,"q43","gpos75"],[243500000,248956422,"q44","gneg"]],2:[[0,4400000,"p25.3","gneg"],[4400000,6900000,"p25.2","gpos50"],[6900000,12000000,"p25.1","gneg"],[12000000,16500000,"p24.3","gpos75"],[16500000,19000000,"p24.2","gneg"],[19000000,23800000,"p24.1","gpos75"],[23800000,27700000,"p23.3","gneg"],[27700000,29800000,"p23.2","gpos25"],[29800000,31800000,"p23.1","gneg"],[31800000,36300000,"p22.3","gpos75"],[36300000,38300000,"p22.2","gneg"],[38300000,41500000,"p22.1","gpos50"],[41500000,47500000,"p21","gneg"],[47500000,52600000,"p16.3","gpos100"],[52600000,54700000,"p16.2","gneg"],[54700000,61000000,"p16.1","gpos100"],[61000000,63900000,"p15","gneg"],[63900000,68400000,"p14","gpos50"],[68400000,71300000,"p13.3","gneg"],[71300000,73300000,"p13.2","gpos50"],[73300000,74800000,"p13.1","gneg"],[74800000,83100000,"p12","gpos100"],[83100000,91800000,"p11.2","gneg"],[91800000,93900000,"p11.1","acen"],[93900000,96000000,"q11.1","acen"],[96000000,102100000,"q11.2","gneg"],[102100000,105300000,"q12.1","gpos50"],[105300000,106700000,"q12.2","gneg"],[106700000,108700000,"q12.3","gpos25"],[108700000,112200000,"q13","gneg"],[112200000,118100000,"q14.1","gpos50"],[118100000,121600000,"q14.2","gneg"],[121600000,129100000,"q14.3","gpos50"],[129100000,131700000,"q21.1","gneg"],[131700000,134300000,"q21.2","gpos25"],[134300000,136100000,"q21.3","gneg"],[136100000,141500000,"q22.1","gpos100"],[141500000,143400000,"q22.2","gneg"],[143400000,147900000,"q22.3","gpos100"],[147900000,149000000,"q23.1","gneg"],[149000000,149600000,"q23.2","gpos25"],[149600000,154000000,"q23.3","gneg"],[154000000,158900000,"q24.1","gpos75"],[158900000,162900000,"q24.2","gneg"],[162900000,168900000,"q24.3","gpos75"],[168900000,177100000,"q31.1","gneg"],[177100000,179700000,"q31.2","gpos50"],[179700000,182100000,"q31.3","gneg"],[182100000,188500000,"q32.1","gpos75"],[188500000,191100000,"q32.2","gneg"],[191100000,196600000,"q32.3","gpos75"],[196600000,202500000,"q33.1","gneg"],[202500000,204100000,"q33.2","gpos50"],[204100000,208200000,"q33.3","gneg"],[208200000,214500000,"q34","gpos100"],[214500000,220700000,"q35","gneg"],[220700000,224300000,"q36.1","gpos75"],[224300000,225200000,"q36.2","gneg"],[225200000,230100000,"q36.3","gpos100"],[230100000,234700000,"q37.1","gneg"],[234700000,236400000,"q37.2","gpos50"],[236400000,242193529,"q37.3","gneg"]],3:[[0,2800000,"p26.3","gpos50"],[2800000,4000000,"p26.2","gneg"],[4000000,8100000,"p26.1","gpos50"],[8100000,11600000,"p25.3","gneg"],[11600000,13200000,"p25.2","gpos25"],[13200000,16300000,"p25.1","gneg"],[16300000,23800000,"p24.3","gpos100"],[23800000,26300000,"p24.2","gneg"],[26300000,30800000,"p24.1","gpos75"],[30800000,32000000,"p23","gneg"],[32000000,36400000,"p22.3","gpos50"],[36400000,39300000,"p22.2","gneg"],[39300000,43600000,"p22.1","gpos75"],[43600000,44100000,"p21.33","gneg"],[44100000,44200000,"p21.32","gpos50"],[44200000,50600000,"p21.31","gneg"],[50600000,52300000,"p21.2","gpos25"],[52300000,54400000,"p21.1","gneg"],[54400000,58600000,"p14.3","gpos50"],[58600000,63800000,"p14.2","gneg"],[63800000,69700000,"p14.1","gpos50"],[69700000,74100000,"p13","gneg"],[74100000,79800000,"p12.3","gpos75"],[79800000,83500000,"p12.2","gneg"],[83500000,87100000,"p12.1","gpos75"],[87100000,87800000,"p11.2","gneg"],[87800000,90900000,"p11.1","acen"],[90900000,94000000,"q11.1","acen"],[94000000,98600000,"q11.2","gvar"],[98600000,100300000,"q12.1","gneg"],[100300000,101200000,"q12.2","gpos25"],[101200000,103100000,"q12.3","gneg"],[103100000,106500000,"q13.11","gpos75"],[106500000,108200000,"q13.12","gneg"],[108200000,111600000,"q13.13","gpos50"],[111600000,113700000,"q13.2","gneg"],[113700000,117600000,"q13.31","gpos75"],[117600000,119300000,"q13.32","gneg"],[119300000,122200000,"q13.33","gpos75"],[122200000,124100000,"q21.1","gneg"],[124100000,126100000,"q21.2","gpos25"],[126100000,129500000,"q21.3","gneg"],[129500000,134000000,"q22.1","gpos25"],[134000000,136000000,"q22.2","gneg"],[136000000,139000000,"q22.3","gpos25"],[139000000,143100000,"q23","gneg"],[143100000,149200000,"q24","gpos100"],[149200000,152300000,"q25.1","gneg"],[152300000,155300000,"q25.2","gpos50"],[155300000,157300000,"q25.31","gneg"],[157300000,159300000,"q25.32","gpos50"],[159300000,161000000,"q25.33","gneg"],[161000000,167900000,"q26.1","gpos100"],[167900000,171200000,"q26.2","gneg"],[171200000,176000000,"q26.31","gpos75"],[176000000,179300000,"q26.32","gneg"],[179300000,183000000,"q26.33","gpos75"],[183000000,184800000,"q27.1","gneg"],[184800000,186300000,"q27.2","gpos25"],[186300000,188200000,"q27.3","gneg"],[188200000,192600000,"q28","gpos75"],[192600000,198295559,"q29","gneg"]],4:[[0,4500000,"p16.3","gneg"],[4500000,6000000,"p16.2","gpos25"],[6000000,11300000,"p16.1","gneg"],[11300000,15000000,"p15.33","gpos50"],[15000000,17700000,"p15.32","gneg"],[17700000,21300000,"p15.31","gpos75"],[21300000,27700000,"p15.2","gneg"],[27700000,35800000,"p15.1","gpos100"],[35800000,41200000,"p14","gneg"],[41200000,44600000,"p13","gpos50"],[44600000,48200000,"p12","gneg"],[48200000,50000000,"p11","acen"],[50000000,51800000,"q11","acen"],[51800000,58500000,"q12","gneg"],[58500000,65500000,"q13.1","gpos100"],[65500000,69400000,"q13.2","gneg"],[69400000,75300000,"q13.3","gpos75"],[75300000,78000000,"q21.1","gneg"],[78000000,81500000,"q21.21","gpos50"],[81500000,83200000,"q21.22","gneg"],[83200000,86000000,"q21.23","gpos25"],[86000000,87100000,"q21.3","gneg"],[87100000,92800000,"q22.1","gpos75"],[92800000,94200000,"q22.2","gneg"],[94200000,97900000,"q22.3","gpos75"],[97900000,100100000,"q23","gneg"],[100100000,106700000,"q24","gpos50"],[106700000,113200000,"q25","gneg"],[113200000,119900000,"q26","gpos75"],[119900000,122800000,"q27","gneg"],[122800000,127900000,"q28.1","gpos50"],[127900000,130100000,"q28.2","gneg"],[130100000,138500000,"q28.3","gpos100"],[138500000,140600000,"q31.1","gneg"],[140600000,145900000,"q31.21","gpos25"],[145900000,147500000,"q31.22","gneg"],[147500000,150200000,"q31.23","gpos25"],[150200000,154600000,"q31.3","gneg"],[154600000,160800000,"q32.1","gpos100"],[160800000,163600000,"q32.2","gneg"],[163600000,169200000,"q32.3","gpos100"],[169200000,171000000,"q33","gneg"],[171000000,175400000,"q34.1","gpos75"],[175400000,176600000,"q34.2","gneg"],[176600000,182300000,"q34.3","gpos100"],[182300000,186200000,"q35.1","gneg"],[186200000,190214555,"q35.2","gpos25"]],5:[[0,4400000,"p15.33","gneg"],[4400000,6300000,"p15.32","gpos25"],[6300000,9900000,"p15.31","gneg"],[9900000,15000000,"p15.2","gpos50"],[15000000,18400000,"p15.1","gneg"],[18400000,23300000,"p14.3","gpos100"],[23300000,24600000,"p14.2","gneg"],[24600000,28900000,"p14.1","gpos100"],[28900000,33800000,"p13.3","gneg"],[33800000,38400000,"p13.2","gpos25"],[38400000,42500000,"p13.1","gneg"],[42500000,46100000,"p12","gpos50"],[46100000,48800000,"p11","acen"],[48800000,51400000,"q11.1","acen"],[51400000,59600000,"q11.2","gneg"],[59600000,63600000,"q12.1","gpos75"],[63600000,63900000,"q12.2","gneg"],[63900000,67400000,"q12.3","gpos75"],[67400000,69100000,"q13.1","gneg"],[69100000,74000000,"q13.2","gpos50"],[74000000,77600000,"q13.3","gneg"],[77600000,82100000,"q14.1","gpos50"],[82100000,83500000,"q14.2","gneg"],[83500000,93000000,"q14.3","gpos100"],[93000000,98900000,"q15","gneg"],[98900000,103400000,"q21.1","gpos100"],[103400000,105100000,"q21.2","gneg"],[105100000,110200000,"q21.3","gpos100"],[110200000,112200000,"q22.1","gneg"],[112200000,113800000,"q22.2","gpos50"],[113800000,115900000,"q22.3","gneg"],[115900000,122100000,"q23.1","gpos100"],[122100000,127900000,"q23.2","gneg"],[127900000,131200000,"q23.3","gpos100"],[131200000,136900000,"q31.1","gneg"],[136900000,140100000,"q31.2","gpos25"],[140100000,145100000,"q31.3","gneg"],[145100000,150400000,"q32","gpos75"],[150400000,153300000,"q33.1","gneg"],[153300000,156300000,"q33.2","gpos50"],[156300000,160500000,"q33.3","gneg"],[160500000,169000000,"q34","gpos100"],[169000000,173300000,"q35.1","gneg"],[173300000,177100000,"q35.2","gpos25"],[177100000,181538259,"q35.3","gneg"]],6:[[0,2300000,"p25.3","gneg"],[2300000,4200000,"p25.2","gpos25"],[4200000,7100000,"p25.1","gneg"],[7100000,10600000,"p24.3","gpos50"],[10600000,11600000,"p24.2","gneg"],[11600000,13400000,"p24.1","gpos25"],[13400000,15200000,"p23","gneg"],[15200000,25200000,"p22.3","gpos75"],[25200000,27100000,"p22.2","gneg"],[27100000,30500000,"p22.1","gpos50"],[30500000,32100000,"p21.33","gneg"],[32100000,33500000,"p21.32","gpos25"],[33500000,36600000,"p21.31","gneg"],[36600000,40500000,"p21.2","gpos25"],[40500000,46200000,"p21.1","gneg"],[46200000,51800000,"p12.3","gpos100"],[51800000,53000000,"p12.2","gneg"],[53000000,57200000,"p12.1","gpos100"],[57200000,58500000,"p11.2","gneg"],[58500000,59800000,"p11.1","acen"],[59800000,62600000,"q11.1","acen"],[62600000,62700000,"q11.2","gneg"],[62700000,69200000,"q12","gpos100"],[69200000,75200000,"q13","gneg"],[75200000,83200000,"q14.1","gpos50"],[83200000,84200000,"q14.2","gneg"],[84200000,87300000,"q14.3","gpos50"],[87300000,92500000,"q15","gneg"],[92500000,98900000,"q16.1","gpos100"],[98900000,100000000,"q16.2","gneg"],[100000000,105000000,"q16.3","gpos100"],[105000000,114200000,"q21","gneg"],[114200000,117900000,"q22.1","gpos75"],[117900000,118100000,"q22.2","gneg"],[118100000,125800000,"q22.31","gpos100"],[125800000,126800000,"q22.32","gneg"],[126800000,130000000,"q22.33","gpos75"],[130000000,130900000,"q23.1","gneg"],[130900000,134700000,"q23.2","gpos50"],[134700000,138300000,"q23.3","gneg"],[138300000,142200000,"q24.1","gpos75"],[142200000,145100000,"q24.2","gneg"],[145100000,148500000,"q24.3","gpos75"],[148500000,152100000,"q25.1","gneg"],[152100000,155200000,"q25.2","gpos50"],[155200000,160600000,"q25.3","gneg"],[160600000,164100000,"q26","gpos50"],[164100000,170805979,"q27","gneg"]],7:[[0,2800000,"p22.3","gneg"],[2800000,4500000,"p22.2","gpos25"],[4500000,7200000,"p22.1","gneg"],[7200000,13700000,"p21.3","gpos100"],[13700000,16500000,"p21.2","gneg"],[16500000,20900000,"p21.1","gpos100"],[20900000,25500000,"p15.3","gneg"],[25500000,27900000,"p15.2","gpos50"],[27900000,28800000,"p15.1","gneg"],[28800000,34900000,"p14.3","gpos75"],[34900000,37100000,"p14.2","gneg"],[37100000,43300000,"p14.1","gpos75"],[43300000,45400000,"p13","gneg"],[45400000,49000000,"p12.3","gpos75"],[49000000,50500000,"p12.2","gneg"],[50500000,53900000,"p12.1","gpos75"],[53900000,58100000,"p11.2","gneg"],[58100000,60100000,"p11.1","acen"],[60100000,62100000,"q11.1","acen"],[62100000,67500000,"q11.21","gneg"],[67500000,72700000,"q11.22","gpos50"],[72700000,77900000,"q11.23","gneg"],[77900000,86700000,"q21.11","gpos100"],[86700000,88500000,"q21.12","gneg"],[88500000,91500000,"q21.13","gpos75"],[91500000,93300000,"q21.2","gneg"],[93300000,98400000,"q21.3","gpos75"],[98400000,104200000,"q22.1","gneg"],[104200000,104900000,"q22.2","gpos50"],[104900000,107800000,"q22.3","gneg"],[107800000,115000000,"q31.1","gpos75"],[115000000,117700000,"q31.2","gneg"],[117700000,121400000,"q31.31","gpos75"],[121400000,124100000,"q31.32","gneg"],[124100000,127500000,"q31.33","gpos75"],[127500000,129600000,"q32.1","gneg"],[129600000,130800000,"q32.2","gpos25"],[130800000,132900000,"q32.3","gneg"],[132900000,138500000,"q33","gpos50"],[138500000,143400000,"q34","gneg"],[143400000,148200000,"q35","gpos75"],[148200000,152800000,"q36.1","gneg"],[152800000,155200000,"q36.2","gpos25"],[155200000,159345973,"q36.3","gneg"]],8:[[0,2300000,"p23.3","gneg"],[2300000,6300000,"p23.2","gpos75"],[6300000,12800000,"p23.1","gneg"],[12800000,19200000,"p22","gpos100"],[19200000,23500000,"p21.3","gneg"],[23500000,27500000,"p21.2","gpos50"],[27500000,29000000,"p21.1","gneg"],[29000000,36700000,"p12","gpos75"],[36700000,38500000,"p11.23","gneg"],[38500000,39900000,"p11.22","gpos25"],[39900000,43200000,"p11.21","gneg"],[43200000,45200000,"p11.1","acen"],[45200000,47200000,"q11.1","acen"],[47200000,51300000,"q11.21","gneg"],[51300000,51700000,"q11.22","gpos75"],[51700000,54600000,"q11.23","gneg"],[54600000,60600000,"q12.1","gpos50"],[60600000,61300000,"q12.2","gneg"],[61300000,65100000,"q12.3","gpos50"],[65100000,67100000,"q13.1","gneg"],[67100000,69600000,"q13.2","gpos50"],[69600000,72000000,"q13.3","gneg"],[72000000,74600000,"q21.11","gpos100"],[74600000,74700000,"q21.12","gneg"],[74700000,83500000,"q21.13","gpos75"],[83500000,85900000,"q21.2","gneg"],[85900000,92300000,"q21.3","gpos100"],[92300000,97900000,"q22.1","gneg"],[97900000,100500000,"q22.2","gpos25"],[100500000,105100000,"q22.3","gneg"],[105100000,109500000,"q23.1","gpos75"],[109500000,111100000,"q23.2","gneg"],[111100000,116700000,"q23.3","gpos100"],[116700000,118300000,"q24.11","gneg"],[118300000,121500000,"q24.12","gpos50"],[121500000,126300000,"q24.13","gneg"],[126300000,130400000,"q24.21","gpos50"],[130400000,135400000,"q24.22","gneg"],[135400000,138900000,"q24.23","gpos75"],[138900000,145138636,"q24.3","gneg"]],9:[[0,2200000,"p24.3","gneg"],[2200000,4600000,"p24.2","gpos25"],[4600000,9000000,"p24.1","gneg"],[9000000,14200000,"p23","gpos75"],[14200000,16600000,"p22.3","gneg"],[16600000,18500000,"p22.2","gpos25"],[18500000,19900000,"p22.1","gneg"],[19900000,25600000,"p21.3","gpos100"],[25600000,28000000,"p21.2","gneg"],[28000000,33200000,"p21.1","gpos100"],[33200000,36300000,"p13.3","gneg"],[36300000,37900000,"p13.2","gpos25"],[37900000,39000000,"p13.1","gneg"],[39000000,40000000,"p12","gpos50"],[40000000,42200000,"p11.2","gneg"],[42200000,43000000,"p11.1","acen"],[43000000,45500000,"q11","acen"],[45500000,61500000,"q12","gvar"],[61500000,65000000,"q13","gneg"],[65000000,69300000,"q21.11","gpos25"],[69300000,71300000,"q21.12","gneg"],[71300000,76600000,"q21.13","gpos50"],[76600000,78500000,"q21.2","gneg"],[78500000,81500000,"q21.31","gpos50"],[81500000,84300000,"q21.32","gneg"],[84300000,87800000,"q21.33","gpos50"],[87800000,89200000,"q22.1","gneg"],[89200000,91200000,"q22.2","gpos25"],[91200000,93900000,"q22.31","gneg"],[93900000,96500000,"q22.32","gpos25"],[96500000,99800000,"q22.33","gneg"],[99800000,105400000,"q31.1","gpos100"],[105400000,108500000,"q31.2","gneg"],[108500000,112100000,"q31.3","gpos25"],[112100000,114900000,"q32","gneg"],[114900000,119800000,"q33.1","gpos75"],[119800000,123100000,"q33.2","gneg"],[123100000,127500000,"q33.3","gpos25"],[127500000,130600000,"q34.11","gneg"],[130600000,131100000,"q34.12","gpos25"],[131100000,133100000,"q34.13","gneg"],[133100000,134500000,"q34.2","gpos25"],[134500000,138394717,"q34.3","gneg"]],10:[[0,3000000,"p15.3","gneg"],[3000000,3800000,"p15.2","gpos25"],[3800000,6600000,"p15.1","gneg"],[6600000,12200000,"p14","gpos75"],[12200000,17300000,"p13","gneg"],[17300000,18300000,"p12.33","gpos75"],[18300000,18400000,"p12.32","gneg"],[18400000,22300000,"p12.31","gpos75"],[22300000,24300000,"p12.2","gneg"],[24300000,29300000,"p12.1","gpos50"],[29300000,31100000,"p11.23","gneg"],[31100000,34200000,"p11.22","gpos25"],[34200000,38000000,"p11.21","gneg"],[38000000,39800000,"p11.1","acen"],[39800000,41600000,"q11.1","acen"],[41600000,45500000,"q11.21","gneg"],[45500000,48600000,"q11.22","gpos25"],[48600000,51100000,"q11.23","gneg"],[51100000,59400000,"q21.1","gpos100"],[59400000,62800000,"q21.2","gneg"],[62800000,68800000,"q21.3","gpos100"],[68800000,73100000,"q22.1","gneg"],[73100000,75900000,"q22.2","gpos50"],[75900000,80300000,"q22.3","gneg"],[80300000,86100000,"q23.1","gpos100"],[86100000,87700000,"q23.2","gneg"],[87700000,91100000,"q23.31","gpos75"],[91100000,92300000,"q23.32","gneg"],[92300000,95300000,"q23.33","gpos50"],[95300000,97500000,"q24.1","gneg"],[97500000,100100000,"q24.2","gpos50"],[100100000,101200000,"q24.31","gneg"],[101200000,103100000,"q24.32","gpos25"],[103100000,104000000,"q24.33","gneg"],[104000000,110100000,"q25.1","gpos100"],[110100000,113100000,"q25.2","gneg"],[113100000,117300000,"q25.3","gpos75"],[117300000,119900000,"q26.11","gneg"],[119900000,121400000,"q26.12","gpos50"],[121400000,125700000,"q26.13","gneg"],[125700000,128800000,"q26.2","gpos50"],[128800000,133797422,"q26.3","gneg"]],11:[[0,2800000,"p15.5","gneg"],[2800000,11700000,"p15.4","gpos50"],[11700000,13800000,"p15.3","gneg"],[13800000,16900000,"p15.2","gpos50"],[16900000,22000000,"p15.1","gneg"],[22000000,26200000,"p14.3","gpos100"],[26200000,27200000,"p14.2","gneg"],[27200000,31000000,"p14.1","gpos75"],[31000000,36400000,"p13","gneg"],[36400000,43400000,"p12","gpos100"],[43400000,48800000,"p11.2","gneg"],[48800000,51000000,"p11.12","gpos75"],[51000000,53400000,"p11.11","acen"],[53400000,55800000,"q11","acen"],[55800000,60100000,"q12.1","gpos75"],[60100000,61900000,"q12.2","gneg"],[61900000,63600000,"q12.3","gpos25"],[63600000,66100000,"q13.1","gneg"],[66100000,68700000,"q13.2","gpos25"],[68700000,70500000,"q13.3","gneg"],[70500000,75500000,"q13.4","gpos50"],[75500000,77400000,"q13.5","gneg"],[77400000,85900000,"q14.1","gpos100"],[85900000,88600000,"q14.2","gneg"],[88600000,93000000,"q14.3","gpos100"],[93000000,97400000,"q21","gneg"],[97400000,102300000,"q22.1","gpos100"],[102300000,103000000,"q22.2","gneg"],[103000000,110600000,"q22.3","gpos100"],[110600000,112700000,"q23.1","gneg"],[112700000,114600000,"q23.2","gpos50"],[114600000,121300000,"q23.3","gneg"],[121300000,124000000,"q24.1","gpos50"],[124000000,127900000,"q24.2","gneg"],[127900000,130900000,"q24.3","gpos50"],[130900000,135086622,"q25","gneg"]],12:[[0,3200000,"p13.33","gneg"],[3200000,5300000,"p13.32","gpos25"],[5300000,10000000,"p13.31","gneg"],[10000000,12600000,"p13.2","gpos75"],[12600000,14600000,"p13.1","gneg"],[14600000,19800000,"p12.3","gpos100"],[19800000,21100000,"p12.2","gneg"],[21100000,26300000,"p12.1","gpos100"],[26300000,27600000,"p11.23","gneg"],[27600000,30500000,"p11.22","gpos50"],[30500000,33200000,"p11.21","gneg"],[33200000,35500000,"p11.1","acen"],[35500000,37800000,"q11","acen"],[37800000,46000000,"q12","gpos100"],[46000000,48700000,"q13.11","gneg"],[48700000,51100000,"q13.12","gpos25"],[51100000,54500000,"q13.13","gneg"],[54500000,56200000,"q13.2","gpos25"],[56200000,57700000,"q13.3","gneg"],[57700000,62700000,"q14.1","gpos75"],[62700000,64700000,"q14.2","gneg"],[64700000,67300000,"q14.3","gpos50"],[67300000,71100000,"q15","gneg"],[71100000,75300000,"q21.1","gpos75"],[75300000,79900000,"q21.2","gneg"],[79900000,86300000,"q21.31","gpos100"],[86300000,88600000,"q21.32","gneg"],[88600000,92200000,"q21.33","gpos100"],[92200000,95800000,"q22","gneg"],[95800000,101200000,"q23.1","gpos75"],[101200000,103500000,"q23.2","gneg"],[103500000,108600000,"q23.3","gpos50"],[108600000,111300000,"q24.11","gneg"],[111300000,111900000,"q24.12","gpos25"],[111900000,113900000,"q24.13","gneg"],[113900000,116400000,"q24.21","gpos50"],[116400000,117700000,"q24.22","gneg"],[117700000,120300000,"q24.23","gpos50"],[120300000,125400000,"q24.31","gneg"],[125400000,128700000,"q24.32","gpos50"],[128700000,133275309,"q24.33","gneg"]],13:[[0,4600000,"p13","gvar"],[4600000,10100000,"p12","stalk"],[10100000,16500000,"p11.2","gvar"],[16500000,17700000,"p11.1","acen"],[17700000,18900000,"q11","acen"],[18900000,22600000,"q12.11","gneg"],[22600000,24900000,"q12.12","gpos25"],[24900000,27200000,"q12.13","gneg"],[27200000,28300000,"q12.2","gpos25"],[28300000,31600000,"q12.3","gneg"],[31600000,33400000,"q13.1","gpos50"],[33400000,34900000,"q13.2","gneg"],[34900000,39500000,"q13.3","gpos75"],[39500000,44600000,"q14.11","gneg"],[44600000,45200000,"q14.12","gpos25"],[45200000,46700000,"q14.13","gneg"],[46700000,50300000,"q14.2","gpos50"],[50300000,54700000,"q14.3","gneg"],[54700000,59000000,"q21.1","gpos100"],[59000000,61800000,"q21.2","gneg"],[61800000,65200000,"q21.31","gpos75"],[65200000,68100000,"q21.32","gneg"],[68100000,72800000,"q21.33","gpos100"],[72800000,74900000,"q22.1","gneg"],[74900000,76700000,"q22.2","gpos50"],[76700000,78500000,"q22.3","gneg"],[78500000,87100000,"q31.1","gpos100"],[87100000,89400000,"q31.2","gneg"],[89400000,94400000,"q31.3","gpos100"],[94400000,97500000,"q32.1","gneg"],[97500000,98700000,"q32.2","gpos25"],[98700000,101100000,"q32.3","gneg"],[101100000,104200000,"q33.1","gpos100"],[104200000,106400000,"q33.2","gneg"],[106400000,109600000,"q33.3","gpos100"],[109600000,114364328,"q34","gneg"]],14:[[0,3600000,"p13","gvar"],[3600000,8000000,"p12","stalk"],[8000000,16100000,"p11.2","gvar"],[16100000,17200000,"p11.1","acen"],[17200000,18200000,"q11.1","acen"],[18200000,24100000,"q11.2","gneg"],[24100000,32900000,"q12","gpos100"],[32900000,34800000,"q13.1","gneg"],[34800000,36100000,"q13.2","gpos50"],[36100000,37400000,"q13.3","gneg"],[37400000,43000000,"q21.1","gpos100"],[43000000,46700000,"q21.2","gneg"],[46700000,50400000,"q21.3","gpos100"],[50400000,53600000,"q22.1","gneg"],[53600000,55000000,"q22.2","gpos25"],[55000000,57600000,"q22.3","gneg"],[57600000,61600000,"q23.1","gpos75"],[61600000,64300000,"q23.2","gneg"],[64300000,67400000,"q23.3","gpos50"],[67400000,69800000,"q24.1","gneg"],[69800000,73300000,"q24.2","gpos50"],[73300000,78800000,"q24.3","gneg"],[78800000,83100000,"q31.1","gpos100"],[83100000,84400000,"q31.2","gneg"],[84400000,89300000,"q31.3","gpos100"],[89300000,91400000,"q32.11","gneg"],[91400000,94200000,"q32.12","gpos25"],[94200000,95800000,"q32.13","gneg"],[95800000,100900000,"q32.2","gpos50"],[100900000,102700000,"q32.31","gneg"],[102700000,103500000,"q32.32","gpos50"],[103500000,107043718,"q32.33","gneg"]],15:[[0,4200000,"p13","gvar"],[4200000,9700000,"p12","stalk"],[9700000,17500000,"p11.2","gvar"],[17500000,19000000,"p11.1","acen"],[19000000,20500000,"q11.1","acen"],[20500000,25500000,"q11.2","gneg"],[25500000,27800000,"q12","gpos50"],[27800000,30000000,"q13.1","gneg"],[30000000,30900000,"q13.2","gpos50"],[30900000,33400000,"q13.3","gneg"],[33400000,39800000,"q14","gpos75"],[39800000,42500000,"q15.1","gneg"],[42500000,43300000,"q15.2","gpos25"],[43300000,44500000,"q15.3","gneg"],[44500000,49200000,"q21.1","gpos75"],[49200000,52600000,"q21.2","gneg"],[52600000,58800000,"q21.3","gpos75"],[58800000,59000000,"q22.1","gneg"],[59000000,63400000,"q22.2","gpos25"],[63400000,66900000,"q22.31","gneg"],[66900000,67000000,"q22.32","gpos25"],[67000000,67200000,"q22.33","gneg"],[67200000,72400000,"q23","gpos25"],[72400000,74900000,"q24.1","gneg"],[74900000,76300000,"q24.2","gpos25"],[76300000,78000000,"q24.3","gneg"],[78000000,81400000,"q25.1","gpos50"],[81400000,84700000,"q25.2","gneg"],[84700000,88500000,"q25.3","gpos50"],[88500000,93800000,"q26.1","gneg"],[93800000,98000000,"q26.2","gpos50"],[98000000,101991189,"q26.3","gneg"]],16:[[0,7800000,"p13.3","gneg"],[7800000,10400000,"p13.2","gpos50"],[10400000,12500000,"p13.13","gneg"],[12500000,14700000,"p13.12","gpos50"],[14700000,16700000,"p13.11","gneg"],[16700000,21200000,"p12.3","gpos50"],[21200000,24200000,"p12.2","gneg"],[24200000,28500000,"p12.1","gpos50"],[28500000,35300000,"p11.2","gneg"],[35300000,36800000,"p11.1","acen"],[36800000,38400000,"q11.1","acen"],[38400000,47000000,"q11.2","gvar"],[47000000,52600000,"q12.1","gneg"],[52600000,56000000,"q12.2","gpos50"],[56000000,57300000,"q13","gneg"],[57300000,66600000,"q21","gpos100"],[66600000,70800000,"q22.1","gneg"],[70800000,72800000,"q22.2","gpos50"],[72800000,74100000,"q22.3","gneg"],[74100000,79200000,"q23.1","gpos75"],[79200000,81600000,"q23.2","gneg"],[81600000,84100000,"q23.3","gpos50"],[84100000,87000000,"q24.1","gneg"],[87000000,88700000,"q24.2","gpos25"],[88700000,90338345,"q24.3","gneg"]],17:[[0,3400000,"p13.3","gneg"],[3400000,6500000,"p13.2","gpos50"],[6500000,10800000,"p13.1","gneg"],[10800000,16100000,"p12","gpos75"],[16100000,22700000,"p11.2","gneg"],[22700000,25100000,"p11.1","acen"],[25100000,27400000,"q11.1","acen"],[27400000,33500000,"q11.2","gneg"],[33500000,39800000,"q12","gpos50"],[39800000,40200000,"q21.1","gneg"],[40200000,42800000,"q21.2","gpos25"],[42800000,46800000,"q21.31","gneg"],[46800000,49300000,"q21.32","gpos25"],[49300000,52100000,"q21.33","gneg"],[52100000,59500000,"q22","gpos75"],[59500000,60200000,"q23.1","gneg"],[60200000,63100000,"q23.2","gpos75"],[63100000,64600000,"q23.3","gneg"],[64600000,66200000,"q24.1","gpos50"],[66200000,69100000,"q24.2","gneg"],[69100000,72900000,"q24.3","gpos75"],[72900000,76800000,"q25.1","gneg"],[76800000,77200000,"q25.2","gpos25"],[77200000,83257441,"q25.3","gneg"]],18:[[0,2900000,"p11.32","gneg"],[2900000,7200000,"p11.31","gpos50"],[7200000,8500000,"p11.23","gneg"],[8500000,10900000,"p11.22","gpos25"],[10900000,15400000,"p11.21","gneg"],[15400000,18500000,"p11.1","acen"],[18500000,21500000,"q11.1","acen"],[21500000,27500000,"q11.2","gneg"],[27500000,35100000,"q12.1","gpos100"],[35100000,39500000,"q12.2","gneg"],[39500000,45900000,"q12.3","gpos75"],[45900000,50700000,"q21.1","gneg"],[50700000,56200000,"q21.2","gpos75"],[56200000,58600000,"q21.31","gneg"],[58600000,61300000,"q21.32","gpos50"],[61300000,63900000,"q21.33","gneg"],[63900000,69100000,"q22.1","gpos100"],[69100000,71000000,"q22.2","gneg"],[71000000,75400000,"q22.3","gpos25"],[75400000,80373285,"q23","gneg"]],19:[[0,6900000,"p13.3","gneg"],[6900000,12600000,"p13.2","gpos25"],[12600000,13800000,"p13.13","gneg"],[13800000,16100000,"p13.12","gpos25"],[16100000,19900000,"p13.11","gneg"],[19900000,24200000,"p12","gvar"],[24200000,26200000,"p11","acen"],[26200000,28100000,"q11","acen"],[28100000,31900000,"q12","gvar"],[31900000,35100000,"q13.11","gneg"],[35100000,37800000,"q13.12","gpos25"],[37800000,38200000,"q13.13","gneg"],[38200000,42900000,"q13.2","gpos25"],[42900000,44700000,"q13.31","gneg"],[44700000,47500000,"q13.32","gpos25"],[47500000,50900000,"q13.33","gneg"],[50900000,53100000,"q13.41","gpos25"],[53100000,55800000,"q13.42","gneg"],[55800000,58617616,"q13.43","gpos25"]],20:[[0,5100000,"p13","gneg"],[5100000,9200000,"p12.3","gpos75"],[9200000,12000000,"p12.2","gneg"],[12000000,17900000,"p12.1","gpos75"],[17900000,21300000,"p11.23","gneg"],[21300000,22300000,"p11.22","gpos25"],[22300000,25700000,"p11.21","gneg"],[25700000,28100000,"p11.1","acen"],[28100000,30400000,"q11.1","acen"],[30400000,33500000,"q11.21","gneg"],[33500000,35800000,"q11.22","gpos25"],[35800000,39000000,"q11.23","gneg"],[39000000,43100000,"q12","gpos75"],[43100000,43500000,"q13.11","gneg"],[43500000,47800000,"q13.12","gpos25"],[47800000,51200000,"q13.13","gneg"],[51200000,56400000,"q13.2","gpos75"],[56400000,57800000,"q13.31","gneg"],[57800000,59700000,"q13.32","gpos50"],[59700000,64444167,"q13.33","gneg"]],21:[[0,3100000,"p13","gvar"],[3100000,7000000,"p12","stalk"],[7000000,10900000,"p11.2","gvar"],[10900000,12000000,"p11.1","acen"],[12000000,13000000,"q11.1","acen"],[13000000,15000000,"q11.2","gneg"],[15000000,22600000,"q21.1","gpos100"],[22600000,25500000,"q21.2","gneg"],[25500000,30200000,"q21.3","gpos75"],[30200000,34400000,"q22.11","gneg"],[34400000,36400000,"q22.12","gpos50"],[36400000,38300000,"q22.13","gneg"],[38300000,41200000,"q22.2","gpos50"],[41200000,46709983,"q22.3","gneg"]],22:[[0,4300000,"p13","gvar"],[4300000,9400000,"p12","stalk"],[9400000,13700000,"p11.2","gvar"],[13700000,15000000,"p11.1","acen"],[15000000,17400000,"q11.1","acen"],[17400000,21700000,"q11.21","gneg"],[21700000,23100000,"q11.22","gpos25"],[23100000,25500000,"q11.23","gneg"],[25500000,29200000,"q12.1","gpos50"],[29200000,31800000,"q12.2","gneg"],[31800000,37200000,"q12.3","gpos50"],[37200000,40600000,"q13.1","gneg"],[40600000,43800000,"q13.2","gpos50"],[43800000,48100000,"q13.31","gneg"],[48100000,49100000,"q13.32","gpos50"],[49100000,50818468,"q13.33","gneg"]],X:[[0,4400000,"p22.33","gneg"],[4400000,6100000,"p22.32","gpos50"],[6100000,9600000,"p22.31","gneg"],[9600000,17400000,"p22.2","gpos50"],[17400000,19200000,"p22.13","gneg"],[19200000,21900000,"p22.12","gpos50"],[21900000,24900000,"p22.11","gneg"],[24900000,29300000,"p21.3","gpos100"],[29300000,31500000,"p21.2","gneg"],[31500000,37800000,"p21.1","gpos100"],[37800000,42500000,"p11.4","gneg"],[42500000,47600000,"p11.3","gpos75"],[47600000,50100000,"p11.23","gneg"],[50100000,54800000,"p11.22","gpos25"],[54800000,58100000,"p11.21","gneg"],[58100000,61000000,"p11.1","acen"],[61000000,63800000,"q11.1","acen"],[63800000,65400000,"q11.2","gneg"],[65400000,68500000,"q12","gpos50"],[68500000,73000000,"q13.1","gneg"],[73000000,74700000,"q13.2","gpos50"],[74700000,76800000,"q13.3","gneg"],[76800000,85400000,"q21.1","gpos100"],[85400000,87000000,"q21.2","gneg"],[87000000,92700000,"q21.31","gpos100"],[92700000,94300000,"q21.32","gneg"],[94300000,99100000,"q21.33","gpos75"],[99100000,103300000,"q22.1","gneg"],[103300000,104500000,"q22.2","gpos50"],[104500000,109400000,"q22.3","gneg"],[109400000,117400000,"q23","gpos75"],[117400000,121800000,"q24","gneg"],[121800000,129500000,"q25","gpos100"],[129500000,131300000,"q26.1","gneg"],[131300000,134500000,"q26.2","gpos25"],[134500000,138900000,"q26.3","gneg"],[138900000,141200000,"q27.1","gpos75"],[141200000,143000000,"q27.2","gneg"],[143000000,148000000,"q27.3","gpos100"],[148000000,156040895,"q28","gneg"]],Y:[[0,300000,"p11.32","gneg"],[300000,600000,"p11.31","gpos50"],[600000,10300000,"p11.2","gneg"],[10300000,10400000,"p11.1","acen"],[10400000,10600000,"q11.1","acen"],[10600000,12400000,"q11.21","gneg"],[12400000,17100000,"q11.221","gpos50"],[17100000,19600000,"q11.222","gneg"],[19600000,23800000,"q11.223","gpos50"],[23800000,26600000,"q11.23","gneg"],[26600000,57227415,"q12","gvar"]]}}};CanvasXpress.graphTypes={Alluvial:["Alluvial","Sankey"],Area:["Area"],AreaLine:["AreaLine"],Bar:["Bar"],BarLine:["BarLine"],Boxplot:["Boxplot"],Bin:["Bin","Scatter2D"],Binplot:["Binplot","Scatter2D"],Bubble:["Bubble","Circular"],Bullet:["Bullet","Bar"],Bump:["Bump","Scatter2D"],CDF:["CDF","Scatter2D"],Chord:["Chord","Circular"],Circular:["Circular"],Cleveland:["Cleveland","Dotplot"],Contour:["Contour","Scatter2D"],Correlation:["Correlation"],Density:["Density"],Distribution:["Distribution","Scatter2D"],Donut:["Donut","Circular"],DotLine:["DotLine"],Dotplot:["Dotplot"],Dumbbell:["Dumbbell","Dotplot"],Fish:["Fish"],Gantt:["Gantt"],Genome:["Genome"],Heatmap:["Heatmap"],Hex:["Hex","Scatter2D"],Hexplot:["Hexplot","Scatter2D"],Histogram:["Histogram","Scatter2D"],KaplanMeier:["KaplanMeier","Scatter2D"],Line:["Line"],Lollipop:["Lollipop","Bar"],Map:["Map"],Meter:["Meter"],Network:["Network"],ParallelCoordinates:["ParallelCoordinates"],Pareto:["Pareto","BarLine"],Pie:["Pie"],QQ:["QQ","Scatter2D"],Quantile:["Quantile","Scatter2D"],Radar:["Radar","Circular"],Ribbon:["Ribbon","Sankey"],Ridgeline:["Ridgeline","Scatter2D"],Sankey:["Sankey"],Scatter2D:["Scatter2D"],Scatter3D:["Scatter3D"],ScatterBubble2D:["ScatterBubble2D"],Spaghetti:["Spaghetti","Scatter2D"],Stacked:["Stacked"],StackedLine:["StackedLine"],StackedPercent:["StackedPercent"],StackedPercentLine:["StackedPercentLine"],Streamgraph:["Streamgraph","Scatter2D"],Sunburst:["Sunburst","Circular"],TagCloud:["TagCloud"],TimeSeries:["TimeSeries","Scatter2D"],Tornado:["Tornado","Stacked"],Tree:["Tree"],Treemap:["Treemap"],Upset:["Upset","Heatmap"],Violin:["Violin","Boxplot"],Volcano:["Volcano","Scatter2D"],Venn:["Venn"],Waterfall:["Waterfall","Bar"],WordCloud:["WordCloud","TagCloud"],AllGraphs:["Alluvial","Area","AreaLine","Bar","BarLine","Boxplot","Bin","Binplot","Bubble","Bullet","Bump","CDF","Chord","Circular","Cleveland","Contour","Correlation","Density","Distribution","Donut","DotLine","Dotplot","Dumbbell","Fish","Gantt","Genome","Heatmap","Hex","Hexplot","Histogram","KaplanMeier","Line","Lollipop","Map","Meter","Network","ParallelCoordinates","Pareto","Pie","QQ","Quantile","Radar","Ribbon","Ridgeline","Sankey","Scatter2D","Scatter3D","ScatterBubble2D","Spaghetti","Stacked","StackedLine","StackedPercent","StackedPercentLine","Streamgraph","Sunburst","TagCloud","TimeSeries","Tornado","Tree","Treemap","Upset","Violin","Volcano","Venn","Waterfall","WordCloud"],AllGraphsCol:["Alluvial","Area","AreaLine","Bar","BarLine","Boxplot","Bullet","Bubble","Bump","CDF","Circular","Cleveland","Density","Distribution","DotLine","Dotplot","Dumbbell","Gantt","Histogram","KaplanMeier","Line","Lollipop","Map","Network","ParallelCoordinates","Pareto","QQ","Quantile","Radar","Ribbon","Ridgeline","Sankey","Scatter2D","Scatter3D","ScatterBubble2D","Spaghetti","Sunburst","TagCloud","TimeSeries","Tree","Treemap","Violin","Volcano","Waterfall","WordCloud"],AllGraphsNH:["AreaLine","Bar","BarLine","Boxplot","Bin","Binplot","Bubble","Bullet","Bump","CDF","Chord","Circular","Cleveland","Contour","Correlation","Density","Distribution","Donut","DotLine","Dotplot","Dumbbell","Fish","Gantt","Genome","Hex","Hexplot","Histogram","KaplanMeier","Line","Lollipop","Map","Meter","Network","ParallelCoordinates","Pareto","Pie","QQ","Quantile","Radar","Ridgeline","Scatter2D","Scatter3D","ScatterBubble2D","Spaghetti","Stacked","StackedLine","StackedPercent","StackedPercentLine","Streamgraph","Sunburst","TagCloud","Tornado","TimeSeries","Tree","Treemap","Violin","Volcano","Venn","Waterfall","WordCloud"],AllGraphsNL:["Area","AreaLine","Bar","BarLine","Boxplot","Bin","Binplot","Bubble","Bullet","Bump","CDF","Chord","Circular","Cleveland","Contour","Correlation","Density","Distribution","Donut","DotLine","Dotplot","Dumbbell","Fish","Gantt","Genome","Heatmap","Hex","Hexplot","Histogram","KaplanMeier","Line","Lollipop","Map","Meter","Network","ParallelCoordinates","Pareto","Pie","QQ","Quantile","Radar","Ridgeline","Scatter2D","Scatter3D","ScatterBubble2D","Spaghetti","Stacked","StackedLine","StackedPercent","StackedPercentLine","Streamgraph","Sunburst","TagCloud","Tornado","TimeSeries","Tree","Treemap","Upset","Violin","Volcano","Venn","Waterfall","WordCloud"],AllGraphsShpSiz:["Boxplot","Bump","Cleveland","DotLine","Dotplot","Dumbbell","Network","Scatter2D","Scatter3D","ScatterBubble2D","Spaghetti","TimeSeries","Tree","Violin","Volcano"],AreaGraphs:["Area","AreaLine"],AttGraphs:["Bar","BarLine","Boxplot","Cleveland","DotLine","Dotplot","Dumbbell","Gantt","Heatmap","Line","Lollipop","ParallelCoordinates","Pareto","Stacked","StackedLine","StackedPercent","StackedPercentLine","TagCloud","Tornado","Tree","Treemap","Upset","Violin","Venn","Waterfall","WordCloud"],BarGraphs:["Bar","BarLine","Bullet","Lollipop","Pareto","Waterfall"],BinHexPlots:["Bin","Binplot","Hex","Hexplot","Scatter2D"],ClusterGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Circular","Cleveland","Correlation","DotLine","Dotplot","Dumbbell","Heatmap","Line","Stacked","StackedLine","StackedPercent","StackedPercentLine","Tornado","Tree","Treemap"],CombinationLineGraphs:["AreaLine","BarLine","DotLine","Pareto","StackedLine","StackedPercentLine"],ContourGraphs:["Pareto","Heatmap","Scatter2D"],DecorationGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Bin","Binplot","Bullet","CDF","Cleveland","Contour","Density","Distribution","DotLine","Dotplot","Dumbbell","Hex","Hexplot","Histogram","KaplanMeier","Line","Lollipop","Network","Pareto","QQ","Quantile","Ridgeline","Scatter2D","Scatter3D","ScatterBubble2D","Spaghetti","Stacked","StackedLine","StackedPercent","StackedPercentLine","TimeSeries","Tornado","Violin","Volcano","Waterfall"],DensityGraphs:["Boxplot","Density","Distribution","Histogram","Ridgeline","Scatter2D","Violin"],DotGraphs:["Boxplot","Cleveland","DotLine","Dotplot","Dumbbell","Violin"],HierarchicalGraphs:["Bubble","Circular","Tree","Treemap"],IdeogramGraphs:["Circular","Genome"],LineGraphs:["Area","AreaLine","BarLine","DotLine","Line","ParallelCoordinates","Pareto","StackedLine","StackedPercentLine"],LinkGraphs:["Alluvial","Chord","Ribbon","Sankey"],NonSegregatable:["Alluvial","Bubble","Chord","Circular","Fish","Gantt","Genome","Map","Network","Radar","Ribbon","Sankey","Sunburst","TagCloud","Tree","Treemap","Venn","WordCloud"],OneDGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Bullet","Cleveland","DotLine","Dotplot","Dumbbell","Gantt","Heatmap","Line","Lollipop","Meter","ParallelCoordinates","Pareto","Stacked","StackedLine","StackedPercent","StackedPercentLine","TagCloud","Tornado","Tree","Treemap","Upset","Violin","Waterfall","WordCloud"],OneDGraphsGrp:["Bar","BarLine","Boxplot","Cleveland","DotLine","Dotplot","Dumbbell","Line","Pareto","Violin","Waterfall"],OneDGraphsNR:["Area","AreaLine","Bar","BarLine","Boxplot","Bullet","Cleveland","DotLine","Dotplot","Dumbbell","Line","Lollipop","ParallelCoordinates","Pareto","Waterfall"],OneTwoThreeeDGraphs:["Alluvial","Area","AreaLine","Bar","BarLine","Boxplot","Bin","Binplot","Bubble","Bullet","CDF","Chord","Circular","Cleveland","Contour","Correlation","Density","Distribution","Donut","DotLine","Dotplot","Dumbbell","Fish","Gantt","Heatmap","Hex","Hexplot","Histogram","KaplanMeier","Line","Lollipop","Meter","ParallelCoordinates","Pareto","Pie","QQ","Quantile","Radar","Ribbon","Ridgeline","Sankey","Scatter2D","Scatter3D","ScatterBubble2D","Spaghetti","Stacked","StackedLine","StackedPercent","StackedPercentLine","Streamgraph","Sunburst","TagCloud","Tornado","TimeSeries","Tree","Treemap","Upset","Violin","Volcano","Waterfall","WordCloud"],RangeGraphs:["Bar","Bullet","Meter"],OverlayGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Bullet","Cleveland","DotLine","Dotplot","Dumbbell","Heatmap","Line","Lollipop","Pareto","Stacked","StackedLine","StackedPercent","StackedPercentLine","Tornado","Violin","Waterfall"],ScatterGraphs:["Bin","Binplot","Bump","CDF","Contour","Density","Distribution","Hex","Hexplot","Histogram","KaplanMeier","QQ","Quantile","Ridgeline","Scatter2D","ScatterBubble2D","Scatter3D","Spaghetti","Streamgraph","TimeSeries","Volcano"],ScatterGraphsND:["Bin","Binplot","Hex","Hexplot","Scatter2D","ScatterBubble2D","Scatter3D","Spaghetti","TimeSeries","Volcano"],Scatter2Graphs:["Bin","Binplot","Bump","CDF","Contour","Density","Distribution","Hex","Hexplot","Histogram","KaplanMeier","QQ","Quantile","Ridgeline","Scatter2D","ScatterBubble2D","Spaghetti","Streamgraph","TimeSeries","Volcano"],Scatter2GraphsPlus:["Bin","Binplot","Bump","CDF","Contour","Density","Distribution","Donut","Hex","Hexplot","Histogram","KaplanMeier","QQ","Quantile","Ridgeline","Scatter2D","ScatterBubble2D","Spaghetti","Streamgraph","TimeSeries","Volcano"],Scatter2Bump:["Bump","Scatter2D"],Scatter3DGraphs:["Bar","Network","Scatter3D"],Scatter3DGraphsNB:["Network","Scatter3D"],Scatter3DGraphsNN:["Bar","Scatter3D"],SortGraphs:["Area","AreaLine","Bar","BarLine","Boxplot","Bullet","Cleveland","DotLine","Dotplot","Dumbbell","Line","Lollipop","Pareto","Stacked","StackedLine","StackedPercent","StackedPercentLine","Tornado","Violin","Waterfall"],StackedGraphs:["Stacked","StackedLine","StackedPercent","StackedPercentLine","Tornado"],SquareOneDGraphs:["Bar","BarLine","Boxplot","Bullet","Pareto","Stacked","StackedLine","StackedPercent","StackedPercentLine","Tornado","Waterfall"],ThreeDGraphs:["ScatterBubble2D","Scatter3D"],TwoThreeeDGraphs:["Bin","Binplot","CDF","Contour","Density","Distribution","Hex","Hexplot","Histogram","KaplanMeier","QQ","Quantile","Ridgeline","Scatter2D","ScatterBubble2D","Scatter3D","Spaghetti","Streamgraph","TimeSeries","Volcano"]};CanvasXpress.datasets=false;CanvasXpress.Rdatasets=false;CanvasXpress.colorNames={aliceblue:"f0f8ff",antiquewhite1:"ffefdb",antiquewhite2:"eedfcc",antiquewhite3:"cdc0b0",antiquewhite4:"8b8378",antiquewhite:"faebd7",aqua:"00ffff",aquamarine1:"7fffd4",aquamarine2:"76eec6",aquamarine4:"458b74",aquamarine:"7fffd4",azure1:"f0ffff",azure2:"e0eeee",azure3:"c1cdcd",azure4:"838b8b",azure:"f0ffff",beige:"f5f5dc",bisque1:"ffe4c4",bisque2:"eed5b7",bisque3:"cdb79e",bisque4:"8b7d6b",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blue1:"0000ff",blue2:"0000ee",blue3:"1874cd",blue4:"00008b",blueviolet:"8a2be2",brown1:"ff4040",brown2:"ee3b3b",brown3:"cd3333",brown4:"8b2323",brown:"a52a2a",burlywood1:"ffd39b",burlywood2:"eec591",burlywood3:"cdaa7d",burlywood4:"8b7355",burlywood:"deb887",cadetblue1:"98f5ff",cadetblue2:"8ee5ee",cadetblue3:"7ac5cd",cadetblue4:"53868b",cadetblue:"5f9ea0",chartreuse1:"7fff00",chartreuse2:"76ee00",chartreuse3:"66cd00",chartreuse4:"458b00",chartreuse:"7fff00",chocolate1:"ff7f24",chocolate2:"ee7621",chocolate3:"cd661d",chocolate:"d2691e",coral1:"ff7256",coral2:"ee6a50",coral3:"cd5b45",coral4:"8b3e2f",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk1:"fff8dc",cornsilk2:"eee8cd",cornsilk3:"cdc8b1",cornsilk4:"8b8878",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",cyan1:"00ffff",cyan2:"00eeee",cyan3:"00cdcd",cyan4:"008b8b",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod1:"ffb90f",darkgoldenrod2:"eead0e",darkgoldenrod3:"cd950c",darkgoldenrod4:"8b6508",darkgoldenrod4:"8b6508",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen1:"caff70",darkolivegreen2:"bcee68",darkolivegreen3:"a2cd5a",darkolivegreen4:"6e8b3d",darkolivegreen:"556b2f",darkorange1:"ff7f00",darkorange2:"ee7600",darkorange3:"cd6600",darkorange4:"8b4500",darkorange:"ff8c00",darkorchid1:"bf3eff",darkorchid2:"b23aee",darkorchid3:"9a32cd",darkorchid4:"68228b",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen1:"c1ffc1",darkseagreen2:"b4eeb4",darkseagreen3:"9bcd9b",darkseagreen4:"698b69",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray1:"97ffff",darkslategray2:"8deeee",darkslategray:"2f4f4f",darkslategray3:"79cdcd",darkslategray4:"528b8b",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink1:"ff1493",deeppink2:"ee1289",deeppink3:"cd1076",deeppink4:"8b0a50",deeppink:"ff1493",deepskyblue:"00bfff",deepskyblue1:"00bfff",deepskyblue2:"00b2ee",deepskyblue3:"009acd",deepskyblue4:"00688b",dimgray:"696969",dimgrey:"696969",dodgerblue1:"1e90ff",dodgerblue:"1e90ff",dodgerblue2:"1c86ee",dodgerblue3:"1874cd",dodgerblue4:"104e8b",firebrick1:"ff3030",firebrick2:"ee2c2c",firebrick3:"cd2626",firebrick4:"8b1a1a",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold1:"ffd700",gold2:"eec900",gold3:"cdad00",gold4:"8b7500",goldenrod1:"ffc125",goldenrod2:"eeb422",goldenrod3:"cd9b1d",goldenrod4:"8b6914",goldenrod:"daa520",goldenrod:"daa520",gold:"ffd700",gray10:"1a1a1a",gray1:"030303",gray11:"1c1c1c",gray12:"1f1f1f",gray13:"212121",gray14:"242424",gray15:"262626",gray16:"292929",gray17:"2b2b2b",gray18:"2e2e2e",gray19:"303030",gray20:"333333",gray2:"050505",gray21:"363636",gray22:"383838",gray23:"3b3b3b",gray24:"3d3d3d",gray25:"404040",gray26:"424242",gray27:"454545",gray28:"474747",gray29:"4a4a4a",gray30:"4d4d4d",gray3:"080808",gray31:"4f4f4f",gray32:"525252",gray33:"545454",gray34:"575757",gray35:"595959",gray36:"5c5c5c",gray37:"5e5e5e",gray38:"616161",gray39:"636363",gray40:"666666",gray4:"0a0a0a",gray41:"696969",gray42:"6b6b6b",gray43:"6e6e6e",gray44:"707070",gray45:"737373",gray46:"757575",gray47:"787878",gray48:"7a7a7a",gray49:"7d7d7d",gray50:"7f7f7f",gray5:"0d0d0d",gray51:"828282",gray52:"858585",gray53:"878787",gray54:"8a8a8a",gray55:"8c8c8c",gray56:"8f8f8f",gray57:"919191",gray58:"949494",gray59:"969696",gray60:"999999",gray6:"0f0f0f",gray61:"9c9c9c",gray62:"9e9e9e",gray63:"a1a1a1",gray64:"a3a3a3",gray65:"a6a6a6",gray66:"a8a8a8",gray67:"ababab",gray68:"adadad",gray69:"b0b0b0",gray70:"b3b3b3",gray7:"121212",gray71:"b5b5b5",gray72:"b8b8b8",gray73:"bababa",gray74:"bdbdbd",gray75:"bfbfbf",gray76:"c2c2c2",gray77:"c4c4c4",gray78:"c7c7c7",gray79:"c9c9c9",gray:"808080",gray80:"cccccc",gray8:"141414",gray81:"cfcfcf",gray82:"d1d1d1",gray83:"d4d4d4",gray84:"d6d6d6",gray85:"d9d9d9",gray86:"dbdbdb",gray87:"dedede",gray88:"e0e0e0",gray89:"e3e3e3",gray90:"e5e5e5",gray9:"171717",gray91:"e8e8e8",gray92:"ebebeb",gray93:"ededed",gray94:"f0f0f0",gray95:"f2f2f2",gray97:"f7f7f7",gray98:"fafafa",gray99:"fcfcfc",gray:"bebebe",green:"008000",green1:"00ff00",green2:"00ee00",green3:"00cd00",green4:"008b00",greenyellow:"adff2f",grey10:"1a1a1a",grey1:"030303",grey11:"1c1c1c",grey12:"1f1f1f",grey13:"212121",grey14:"242424",grey15:"262626",grey16:"292929",grey17:"2b2b2b",grey18:"2e2e2e",grey19:"303030",grey20:"333333",grey2:"050505",grey21:"363636",grey22:"383838",grey23:"3b3b3b",grey24:"3d3d3d",grey25:"404040",grey26:"424242",grey27:"454545",grey28:"474747",grey29:"4a4a4a",grey30:"4d4d4d",grey3:"080808",grey31:"4f4f4f",grey32:"525252",grey33:"545454",grey34:"575757",grey35:"595959",grey36:"5c5c5c",grey37:"5e5e5e",grey38:"616161",grey39:"636363",grey40:"666666",grey4:"0a0a0a",grey41:"696969",grey42:"6b6b6b",grey43:"6e6e6e",grey44:"707070",grey45:"737373",grey46:"757575",grey47:"787878",grey48:"7a7a7a",grey49:"7d7d7d",grey50:"7f7f7f",grey5:"0d0d0d",grey51:"828282",grey52:"858585",grey53:"878787",grey54:"8a8a8a",grey55:"8c8c8c",grey56:"8f8f8f",grey57:"919191",grey58:"949494",grey59:"969696",grey60:"999999",grey6:"0f0f0f",grey61:"9c9c9c",grey62:"9e9e9e",grey63:"a1a1a1",grey64:"a3a3a3",grey65:"a6a6a6",grey66:"a8a8a8",grey67:"ababab",grey68:"adadad",grey69:"b0b0b0",grey70:"b3b3b3",grey7:"121212",grey71:"b5b5b5",grey72:"b8b8b8",grey73:"bababa",grey74:"bdbdbd",grey75:"bfbfbf",grey76:"c2c2c2",grey77:"c4c4c4",grey78:"c7c7c7",grey79:"c9c9c9",grey:"808080",grey80:"cccccc",grey8:"141414",grey81:"cfcfcf",grey82:"d1d1d1",grey83:"d4d4d4",grey84:"d6d6d6",grey85:"d9d9d9",grey86:"dbdbdb",grey87:"dedede",grey88:"e0e0e0",grey89:"e3e3e3",grey90:"e5e5e5",grey9:"171717",grey91:"e8e8e8",grey92:"ebebeb",grey93:"ededed",grey94:"f0f0f0",grey95:"f2f2f2",grey97:"f7f7f7",grey98:"fafafa",grey99:"fcfcfc",grey:"808080",honeydew1:"f0fff0",honeydew2:"e0eee0",honeydew3:"c1cdc1",honeydew4:"838b83",honeydew:"f0fff0",hotpink1:"ff6eb4",hotpink2:"ee6aa7",hotpink3:"cd6090",hotpink4:"8b3a62",hotpink:"ff69b4",indianred1:"ff6a6a",indianred2:"ee6363",indianred3:"cd5555",indianred4:"8b3a3a",indianred:"cd5c5c",indigo:"4b0082",ivory1:"fffff0",ivory2:"eeeee0",ivory3:"cdcdc1",ivory4:"8b8b83",ivory:"fffff0",khaki1:"fff68f",khaki2:"eee685",khaki3:"cdc673",khaki4:"8b864e",khaki:"f0e68c",lavenderblush1:"fff0f5",lavenderblush2:"eee0e5",lavenderblush3:"cdc1c5",lavenderblush4:"8b8386",lavenderblush:"fff0f5",lavender:"e6e6fa",lawngreen:"7cfc00",lemonchiffon1:"fffacd",lemonchiffon2:"eee9bf",lemonchiffon3:"cdc9a5",lemonchiffon4:"8b8970",lemonchiffon:"fffacd",lightblue1:"bfefff",lightblue2:"b2dfee",lightblue3:"9ac0cd",lightblue4:"68838b",lightblue:"add8e6",lightcoral:"f08080",lightcyan1:"e0ffff",lightcyan2:"d1eeee",lightcyan3:"b4cdcd",lightcyan4:"7a8b8b",lightcyan:"e0ffff",light:"eedd82",lightgoldenrod1:"ffec8b",lightgoldenrod2:"eedc82",lightgoldenrod3:"cdbe70",lightgoldenrod4:"8b814c",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink1:"ffaeb9",lightpink2:"eea2ad",lightpink3:"cd8c95",lightpink4:"8b5f65",lightpink:"ffb6c1",lightsalmon1:"ffa07a",lightsalmon2:"ee9572",lightsalmon3:"cd8162",lightsalmon4:"8b5742",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue1:"b0e2ff",lightskyblue2:"a4d3ee",lightskyblue3:"8db6cd",lightskyblue4:"607b8b",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue1:"cae1ff",lightsteelblue2:"bcd2ee",lightsteelblue3:"a2b5cd",lightsteelblue4:"6e7b8b",lightsteelblue:"b0c4de",lightyellow1:"ffffe0",lightyellow2:"eeeed1",lightyellow3:"cdcdb4",lightyellow4:"8b8b7a",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta2:"ee00ee",magenta3:"cd00cd",magenta4:"8b008b",magenta:"ff00ff",maroon1:"ff34b3",maroon2:"ee30a7",maroon3:"cd2990",maroon4:"8b1c62",maroon:"800000",maroon:"b03060",medium:"66cdaa",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid1:"e066ff",mediumorchid2:"d15fee",mediumorchid3:"b452cd",mediumorchid4:"7a378b",mediumorchid:"ba55d3",mediumpurple1:"ab82ff",mediumpurple2:"9f79ee",mediumpurple3:"8968cd",mediumpurple4:"5d478b",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose1:"ffe4e1",mistyrose2:"eed5d2",mistyrose3:"cdb7b5",mistyrose4:"8b7d7b",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite1:"ffdead",navajowhite2:"eecfa1",navajowhite3:"cdb38b",navajowhite4:"8b795e",navajowhite:"ffdead",navy:"000080",navyblue:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab1:"c0ff3e",olivedrab2:"b3ee3a",olivedrab4:"698b22",olivedrab:"6b8e23",orange1:"ffa500",orange2:"ee9a00",orange3:"cd8500",orange4:"8b5a00",orange:"ffa500",orangered1:"ff4500",orangered2:"ee4000",orangered3:"cd3700",orangered4:"8b2500",orangered:"ff4500",orchid1:"ff83fa",orchid2:"ee7ae9",orchid3:"cd69c9",orchid4:"8b4789",orchid:"da70d6",pale:"db7093",palegoldenrod:"eee8aa",palegreen1:"9aff9a",palegreen2:"90ee90",palegreen3:"7ccd7c",palegreen4:"548b54",palegreen:"98fb98",paleturquoise1:"bbffff",paleturquoise2:"aeeeee",paleturquoise3:"96cdcd",paleturquoise4:"668b8b",paleturquoise:"afeeee",palevioletred1:"ff82ab",palevioletred2:"ee799f",palevioletred3:"cd6889",palevioletred4:"8b475d",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff1:"ffdab9",peachpuff2:"eecbad",peachpuff3:"cdaf95",peachpuff4:"8b7765",peachpuff:"ffdab9",peru:"cd853f",pink1:"ffb5c5",pink2:"eea9b8",pink3:"cd919e",pink4:"8b636c",pink:"ffc0cb",plum1:"ffbbff",plum2:"eeaeee",plum3:"cd96cd",plum4:"8b668b",plum:"dda0dd",powderblue:"b0e0e6",purple1:"9b30ff",purple2:"912cee",purple3:"7d26cd",purple4:"551a8b",purple:"800080",purple:"a020f0",rebeccapurple:"663399",red1:"ff0000",red2:"ee0000",red3:"cd0000",red4:"8b0000",red:"ff0000",rosybrown1:"ffc1c1",rosybrown2:"eeb4b4",rosybrown3:"cd9b9b",rosybrown4:"8b6969",rosybrown:"bc8f8f",royalblue1:"4876ff",royalblue2:"436eee",royalblue3:"3a5fcd",royalblue:"4169e1",royalblue4:"27408b",saddlebrown:"8b4513",salmon1:"ff8c69",salmon2:"ee8262",salmon3:"cd7054",salmon4:"8b4c39",salmon:"fa8072",sandybrown:"f4a460",seagreen1:"54ff9f",seagreen2:"4eee94",seagreen:"2e8b57",seagreen3:"43cd80",seagreen4:"2e8b57",seashell1:"fff5ee",seashell2:"eee5de",seashell3:"cdc5bf",seashell4:"8b8682",seashell:"fff5ee",sienna1:"ff8247",sienna2:"ee7942",sienna3:"cd6839",sienna4:"8b4726",sienna:"a0522d",silver:"c0c0c0",skyblue1:"87ceff",skyblue2:"7ec0ee",skyblue3:"6ca6cd",skyblue4:"4a708b",skyblue:"87ceeb",slateblue1:"836fff",slateblue2:"7a67ee",slateblue3:"6959cd",slateblue4:"473c8b",slateblue:"6a5acd",slategray1:"c6e2ff",slategray2:"b9d3ee",slategray3:"9fb6cd",slategray4:"6c7b8b",slategray:"708090",slategrey:"708090",snow1:"fffafa",snow2:"eee9e9",snow3:"cdc9c9",snow4:"8b8989",snow:"fffafa",springgreen:"00ff7f",springgreen1:"00ff7f",springgreen2:"00ee76",springgreen3:"00cd66",springgreen4:"008b45",steelblue1:"63b8ff",steelblue2:"5cacee",steelblue3:"4f94cd",steelblue4:"36648b",steelblue:"4682b4",tan1:"ffa54f",tan2:"ee9a49",tan3:"cd853f",tan4:"8b5a2b",tan:"d2b48c",teal:"008080",thistle1:"ffe1ff",thistle2:"eed2ee",thistle3:"cdb5cd",thistle4:"8b7b8b",thistle:"d8bfd8",tomato1:"ff6347",tomato2:"ee5c42",tomato3:"cd4f39",tomato4:"8b3626",tomato:"ff6347",turquoise1:"00f5ff",turquoise2:"00e5ee",turquoise3:"00c5cd",turquoise4:"00868b",turquoise:"40e0d0",violet:"ee82ee",violetred1:"ff3e96",violetred2:"ee3a8c",violetred3:"cd3278",violetred4:"8b2252",violetred:"d02090",wheat1:"ffe7ba",wheat2:"eed8ae",wheat3:"cdba96",wheat4:"8b7e66",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow1:"ffff00",yellow2:"eeee00",yellow3:"cdcd00",yellow4:"8b8b00",yellow:"ffff00",yellowgreen:"9acd32"};CanvasXpress.colorWords=["4627f67737371607","465647365647f62705028607162774","475707e6944627f67737371605d28536d2","271656c636","465677f6c6c6160247f6e6022756767657265644","4627f677373716070216028647967702e4f435a402371602566716370247f6e6e61634","d65647379737","27567676572656443796","373756270785371667e61634","4707972736e656","47079727365646","374627f67527f6c6f636","5346d6","47c61637","473756769646","465686361636","4627f67737371607021602864796770274653502371602566716370247f6e6e61634","74e405d6f62764164716445637271607","56c696644616f6c6","56671637","74653556671637","47e6962707","0742","850742","8642","6742","7742","27563777f6272456a796c616964796e696","4642","472756c616","56079747f647f62707","56c6f637e6f636","76f6c6","2756767657265646","5636e616d627f666275607","37569647275607f6270556e696665646","e6f696471636f6c6","56d616e64737f686","473656a626f4","57e656d647875647e6f636","57e656d647875647e6f636e6f6","07f64737","0476e696274735f647","27f6272754","4787564577162746","27f6c6f63447e6f666","5646f6e43796","373756c6461656843796","47361656253796","46562756473796765627"];CanvasXpress.salt="7A64D88308227186991C253EA";CanvasXpress.ambiguityCodes={"-":["-"],A:["A"],C:["C"],G:["G"],T:["T"],M:["A","C"],R:["A","G"],W:["A","T"],S:["C","G"],Y:["C","T"],K:["G","T"],V:["A","C","G"],H:["A","C","T"],D:["A","G","T"],B:["C","G","T"],N:["A","C","G","T"],X:["A","C","G","T"]};CanvasXpress.codon={TTT:["F","Phe","Phenylalanine"],TCT:["S","Ser","Serine"],TAT:["Y","Tyr","Tyrosine"],TGT:["C","Cys","Cysteine"],TTC:["F","Phe","Phenylalanine"],TCC:["S","Ser","Serine"],TAC:["Y","Tyr","Tyrosine"],TGC:["C","Cys","Cysteine"],TTA:["L","Leu","Leucine"],TCA:["S","Ser","Serine"],TAA:["*","Stop","Ochre"],TGA:["*","Stop","Opal"],TTG:["L","Leu","Leucine"],TCG:["S","Ser","Serine"],TAG:["*","Stop","Amber"],TGG:["W","Trp","Tryptophan"],CTT:["L","Leu","Leucine"],CCT:["P","Pro","Proline"],CAT:["H","His","Histidine"],CGT:["R","Arg","Arginine"],CTC:["L","Leu","Leucine"],CCC:["P","Pro","Proline"],CAC:["H","His","Histidine"],CGC:["R","Arg","Arginine"],CTA:["L","Leu","Leucine"],CCA:["P","Pro","Proline"],CAA:["Q","Gln","Glutamine"],CGA:["R","Arg","Arginine"],CTG:["L","Leu","Leucine"],CCG:["P","Pro","Proline"],CAG:["Q","Gln","Glutamine"],CGG:["R","Arg","Arginine"],ATT:["I","Ile","Isoleucine"],ACT:["T","Thr","Threonine"],AAT:["N","Asn","Asparagine"],AGT:["S","Ser","Serine"],ATC:["I","Ile","Isoleucine"],ACC:["T","Thr","Threonine"],AAC:["N","Asn","Asparagine"],AGC:["S","Ser","Serine"],ATA:["I","Ile","Isoleucine"],ACA:["T","Thr","Threonine"],AAA:["K","Lys","Lysine"],AGA:["R","Arg","Arginine"],ATG:["M","Met","Methionine"],ACG:["T","Thr","Threonine"],AAG:["K","Lys","Lysine"],AGG:["R","Arg","Arginine"],GTT:["V","Val","Valine"],GCT:["A","Ala","Alanine"],GAT:["D","Asp","Aspartic acid"],GGT:["G","Gly","Glycine"],GTC:["V","Val","Valine"],GCC:["A","Ala","Alanine"],GAC:["D","Asp","Aspartic acid"],GGC:["G","Gly","Glycine"],GTA:["V","Val","Valine"],GCA:["A","Ala","Alanine"],GAA:["E","Glu","Glutamic acid"],GGA:["G","Gly","Glycine"],GTG:["V","Val","Valine"],GCG:["A","Ala","Alanine"],GAG:["E","Glu","Glutamic acid"],GGG:["G","Gly","Glycine"]};CanvasXpress.reverseComplement={A:"T",C:"G",G:"C",T:"A",U:"A",Y:"R",R:"Y",W:"W",S:"S",K:"M",M:"K",B:"V",V:"B",D:"H",H:"D",X:"X",N:"N",a:"t",c:"g",g:"c",t:"a",u:"a",y:"r",r:"y",w:"w",s:"s",k:"m",m:"k",b:"v",v:"b",d:"h",h:"d",x:"x",n:"n"," ":" ","-":"-","/":"/","[":"[","]":"]"};CanvasXpress.themeParams={backgroundType:true,citationAlign:true,citationColor:true,citationFontStyle:true,citationScaleFontFactor:true,colorScheme:true,fitLineColor:true,guidesShow:true,guidesColor:true,layoutSpacing:true,legendBackgroundBorderColor:true,legendBackgroundColor:true,legendColumns:true,legendHorizontalJustification:true,legendInside:true,legendKeyBackgroundBorderColor:true,legendKeyBackgroundColor:true,legendPosition:true,legendTextColor:true,legendTextFontStyle:true,legendTextScaleFontFactor:true,legendTitleColor:true,legendTitleFontStyle:true,legendTitleScaleFontFactor:true,lineDecoration:true,mapOutlineColor:true,objectBorderColor:true,panelBackgroundBorderColor:true,panelBackgroundColor:true,plotBackgroundBorderColor:true,plotBackgroundColor:true,showLegend:true,showLegendTitle:true,smpTextRotate:true,stripBackgroundBorderColor:true,stripBackgroundColor:true,stripTextColor:true,stripTextFontStyle:true,stripTextScaleFontFactor:true,subtitleAlign:true,subtitleColor:true,subtitleFontStyle:true,subtitleScaleFontFactor:true,titleAlign:true,titleColor:true,titleFontStyle:true,titleScaleFontFactor:true,varTextRotate:true,rAxisGridMajorColor:true,rAxisGridMajorLineType:true,rAxisGridMajorShow:true,rAxisGridMajorWidth:true,rAxisGridMinorColor:true,rAxisGridMinorLineType:true,rAxisGridMinorShow:true,rAxisGridMinorWidth:true,rAxisLineBottomColor:true,rAxisLineBottomLineType:true,rAxisLineBottomShow:true,rAxisLineBottomWidth:true,rAxisLineTopColor:true,rAxisLineTopLineType:true,rAxisLineTopShow:true,rAxisLineTopWidth:true,rAxisTextColor:true,rAxisTextFontStyle:true,rAxisTextScaleFontFactor:true,rAxisTicksColor:true,rAxisTicksLength:true,rAxisTicksShow:true,rAxisTitleColor:true,rAxisTitleFontStyle:true,rAxisTitleScaleFontFactor:true,xAxisGridMajorColor:true,xAxisGridMajorLineType:true,xAxisGridMajorShow:true,xAxisGridMajorWidth:true,xAxisGridMinorColor:true,xAxisGridMinorLineType:true,xAxisGridMinorShow:true,xAxisGridMinorWidth:true,xAxisLineBottomColor:true,xAxisLineBottomLineType:true,xAxisLineBottomShow:true,xAxisLineBottomWidth:true,xAxisLineTopColor:true,xAxisLineTopLineType:true,xAxisLineTopShow:true,xAxisLineTopWidth:true,xAxisTextColor:true,xAxisTextFontStyle:true,xAxisTextScaleFontFactor:true,xAxisTicksColor:true,xAxisTicksLength:true,xAxisTicksShow:true,xAxisTitleColor:true,xAxisTitleFontStyle:true,xAxisTitleScaleFontFactor:true,widthFactor:true,yAxisGridMajorColor:true,yAxisGridMajorLineType:true,yAxisGridMajorShow:true,yAxisGridMajorWidth:true,yAxisGridMinorColor:true,yAxisGridMinorLineType:true,yAxisGridMinorShow:true,yAxisGridMinorWidth:true,yAxisLineLeftColor:true,yAxisLineLeftLineType:true,yAxisLineLeftShow:true,yAxisLineLeftWidth:true,yAxisLineRightColor:true,yAxisLineRightLineType:true,yAxisLineRightShow:true,yAxisLineRightWidth:true,yAxisTextColor:true,yAxisTextFontStyle:true,yAxisTextScaleFontFactor:true,yAxisTicksColor:true,yAxisTicksLength:true,yAxisTicksShow:true,yAxisTitleColor:true,yAxisTitleFontStyle:true,yAxisTitleScaleFontFactor:true,zAxisGridMajorColor:true,zAxisGridMajorLineType:true,zAxisGridMajorShow:true,zAxisGridMajorWidth:true,zAxisGridMinorColor:true,zAxisGridMinorLineType:true,zAxisGridMinorShow:true,zAxisGridMinorWidth:true,zAxisLineBottomColor:true,zAxisLineBottomLineType:true,zAxisLineBottomShow:true,zAxisLineBottomWidth:true,zAxisLineTopColor:true,zAxisLineTopLineType:true,zAxisLineTopShow:true,zAxisLineTopWidth:true,zAxisTextColor:true,zAxisTextFontStyle:true,zAxisTextScaleFontFactor:true,zAxisTicksColor:true,zAxisTicksLength:true,zAxisTicksShow:true,zAxisTitleColor:true,zAxisTitleFontStyle:true,zAxisTitleScaleFontFactor:true};CanvasXpress.setThemeDefinitions=function(){CanvasXpress.themes=[["bw","classic","cx","cxdark","dark","economist","excel","ggblanket","grey","highcharts","light","linedraw","minimal","ptol","solarized","stata","tableau","void0","wsj"],["axis.line","element_blank",,,,"element_blank",,"element_blank",,"element_blank",,"element_blank","element_blank","element_blank","element_blank",,,"element_blank",],["axis.line.arrow",,false,,,,false,,,,,,,,,false,false,,,false],["axis.line.colour",,"#000000",,,,,,,,"#999999",,,,,"#93a1a1",,,],["axis.line.linetype",,,,,,,,,,,,,,,1,,,],["axis.line.linewidth",,1,,,,0.8,,,,1,,,,,,,,],["axis.line.y",,,,,,"element_blank",,,,,,,,,,,,,"element_blank"],["axis.line.y.left",,,"element_blank","element_blank",,,,"element_blank",,,,,,,,,,],["axis.line.y.right",,,"element_blank","element_blank",,,,"element_blank",,,,,,,,,,],["axis.minor.ticks.length",0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0.75,0,0.75],["axis.minor.ticks.y.left",,,,,,,,"element_blank",,,,,,,,,,],["axis.minor.ticks.y.right",,,,,,,,"element_blank",,,,,,,,,,],["axis.text",,,,,,,,,,,,,,,,,,"element_blank"],["axis.text.colour","#4d4d4d","#4d4d4d",,,"#4d4d4d",,"#4d4d4d",,"#4d4d4d","#4d4d4d","#4d4d4d","#000000","#4d4d4d","#4d4d4d","#4d4d4d",,"#4d4d4d",],["axis.text.face",,,,,,,,,,,,,,,,,,,"bold"],["axis.text.r.hjust",0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,,0.5],["axis.text.r.margin",2.2,2.2,2.2,2.2,2.2,2.2,2.2,2.2,2.2,2.2,2.2,2.2,2.2,2.2,2.4,2.4,2.2,,2.4],["axis.text.size",12,12,,,12,11,12,,12,12,12,12,12,12,12,12,12,,12],["axis.text.x.colour",,,,,,,,,,,,,,,,"#000000",,],["axis.text.x.margin",2.2,2.2,11,11,2.2,10,2.2,11,2.2,2.2,2.2,2.2,2.2,2.2,2.4,2.4,2.2,,2.4],["axis.text.x.top.margin",2.2,2.2,3.3,3.3,2.2,10,2.2,3.3,2.2,2.2,2.2,2.2,2.2,2.2,2.4,2.4,2.2,,2.4],["axis.text.x.top.vjust",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,0],["axis.text.x.vjust",1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,,1],["axis.text.y.angle",,,,,,,,,,,,,,,,90,,],["axis.text.y.colour",,,,,,,,,,,,,,,,"#000000",,],["axis.text.y.hjust",1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,,1],["axis.text.y.margin",2.2,2.2,2.75,2.75,2.2,10,2.2,2.75,2.2,2.2,2.2,2.2,2.2,2.2,2.4,2.4,2.2,,2.4],["axis.text.y.right.hjust",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,,0],["axis.text.y.right.margin",2.2,2.2,2.75,2.75,2.2,2.2,2.2,2.75,2.2,2.2,2.2,2.2,2.2,2.2,2.4,2.4,2.2,,2.4],["axis.text.y.vjust",,,,,,,,,,,,,,,,0.5,,],["axis.ticks",,,,,,,,,,"element_blank",,,"element_blank","element_blank",,,,],["axis.ticks.arrow",false,false,,,false,false,false,,false,,false,false,,,false,false,false,,false],["axis.ticks.colour","#333333","#333333",,,"#333333",,"#333333",,"#333333",,"#b3b3b3","#000000",,,"#93a1a1",,"#333333",],["axis.ticks.length",2.75,2.75,2.75,2.75,2.75,-5,2.75,2.75,2.75,2.75,2.75,2.75,2.75,2.75,3,2.75,2.75,0,3],["axis.ticks.length.x",,,3.66,3.66,,,,3.66,,,,,,,,,,],["axis.ticks.length.y",,,2.75,2.75,,,,2.75,,,,,,,,,,],["axis.ticks.linewidth",,,,,0.5,,,,,,0.5,0.5,,,,,,],["axis.ticks.x.arrow",,,,,,,,,,,,,,,,false,,,false],["axis.ticks.x.colour",,,,,,,,,,,,,,,,"#000000",,],["axis.ticks.y",,,,,,"element_blank",,,,,,,,,,,,,"element_blank"],["axis.ticks.y.arrow",,,,,,,,,,,,,,,,false,,],["axis.ticks.y.colour",,,,,,,,,,,,,,,,"#000000",,],["axis.ticks.y.left",,,"element_blank","element_blank",,,,"element_blank",,,,,,,,,,],["axis.ticks.y.right",,,"element_blank","element_blank",,,,"element_blank",,,,,,,,,,],["axis.title",,,,,,,,,,,,,,,,,,"element_blank","element_blank"],["axis.title.colour",,,,,,,,,,,,,,,,"#000000",,],["axis.title.size",,,,,,12,,,,,,,,,,12,,],["axis.title.x.margin",2.75,2.75,8.25,8.25,2.75,,2.75,8.25,2.75,2.75,2.75,2.75,2.75,2.75,3,3,2.75,,3],["axis.title.x.top.margin",2.75,2.75,11,11,2.75,2.75,2.75,11,2.75,2.75,2.75,2.75,2.75,2.75,3,3,2.75,,3],["axis.title.x.top.vjust",0,0,,,0,0,0,,0,0,0,0,0,0,0,0,0,,0],["axis.title.x.vjust",1,1,,,1,,1,,1,1,1,1,1,1,1,1,1,,1],["axis.title.y.angle",90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,,90],["axis.title.y.margin",2.75,2.75,11,11,2.75,,2.75,11,2.75,2.75,2.75,2.75,2.75,2.75,3,3,2.75,,3],["axis.title.y.right.angle",-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,,-90],["axis.title.y.right.margin",2.75,2.75,11,11,2.75,2.75,2.75,11,2.75,2.75,2.75,2.75,2.75,2.75,3,3,2.75,,3],["axis.title.y.right.vjust",1,1,,,1,1,1,,1,5.5,1,1,5.5,5.5,1,1,1,,1],["axis.title.y.vjust",1,1,,,1,,1,,1,1,1,1,1,1,1,0,1,,1],["legend.background",,,,,,,,,,"element_blank",,,"element_blank","element_blank",,,,],["legend.background.colour",null,null,null,null,null,,"#000000",null,null,,null,null,,,null,"#000000",null,,null],["legend.background.linetype",,,,,,0,1,,,,,,,,,1,,],["legend.background.linewidth",5.5,5.5,0,0,5.5,null,null,0,5.5,,5.5,5.5,,,null,null,5.5,,6],["legend.box",,,,,,,,,,,,,,,,"vertical",,,"vertical"],["legend.box.background","element_blank","element_blank",,,"element_blank","element_blank","element_blank",,"element_blank","element_blank","element_blank","element_blank","element_blank","element_blank","element_blank","element_blank","element_blank",,"element_blank"],["legend.box.margin",null,null,0,0,null,null,null,0,null,null,null,null,null,null,null,null,null,,null],["legend.box.spacing",11,11,,,11,11,11,,11,11,11,11,11,11,12,12,11,,12],["legend.byrow",,,false,false,,,,false,,,,,,,,,,],["legend.direction",,,"vertical","vertical",,,,"vertical",,,,,,,,,,,"horizontal"],["legend.justification","center","center","center","center","center","center","center",[0,1],"center","center","center","center","center","center","center","center","center",,"center"],["legend.key",,,,,,,,,,"element_blank",,,"element_blank","element_blank",,,,],["legend.key.colour",,,"#FFFFFF","#000000",,,null,"#FFFFFF",,,,,,,,null,,],["legend.key.fill",,,"#FFFFFF","#000000",,,,"#FFFFFF",,,,,,,,"#ffffff",,],["legend.key.linetype",,,,,,0,,,,,,,,,0,0,,],["legend.key.linewidth",,,8.25,8.25,,5.5,5.5,8.25,,,,,,,6,6,,],["legend.key.size",12,12,19.25,19.25,12,12,12,19.25,12,12,12,12,12,12,12,12,12,12,12],["legend.key.spacing",5.5,5.5,,,5.5,5.5,5.5,,5.5,5.5,5.5,5.5,5.5,5.5,6,6,5.5,5.5,6],["legend.key.spacing.x",,,3.6,3.6,,,,3.6,,,,,,,,,,],["legend.key.spacing.y",,,3.6,3.6,,,,3.6,,,,,,,,,,],["legend.location",,,"panel","panel",,,,"panel",,,,,,,,,,],["legend.margin",5.5,5.5,8.25,8.25,5.5,5.5,5.5,8.25,5.5,5.5,5.5,5.5,5.5,5.5,6,6,5.5,,6],["legend.position","right","right","right","right","right","top","right","right","right","right","right","right","right","right","right","bottom","right","right","top"],["legend.spacing",11,11,11,11,11,15,11,11,11,11,11,11,11,11,12,0.25,11,,12],["legend.text.margin",,,5.5,5.5,,,,5.5,,,,,,,,,,],["legend.text.size",12,12,,,12,16,12,,12,12,12,12,12,12,12,12,12,12,12],["legend.ticks.length",0.2,0.2,3.4,3.4,0.2,0.2,0.2,3.4,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2,0.2],["legend.title.hjust",0,0,,,0,0,0,,0,0,0,0,0,0,0,0.5,0,0,0],["legend.title.margin",,,5.5,5.5,,,,5.5,,,,,,,,,,],["legend.title.position",,,"top","top",,,,"top",,,,,,,,,,],["legend.title.size",,,,,,12,,,,,,,,,,14,,],["line",,,,,,,,,,,,,,,,,,"element_blank"],["line.arrow",false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,,false],["line.colour","#000000","#000000","#121B24","#FFFFFF","#000000","#000000","#000000","#121B24","#000000","#000000","#000000","#000000","#000000","#000000","#93a1a1","#000000","#000000",,"#000000"],["line.lineend","butt","butt","square","square","butt",,"butt","square","butt","butt","butt","butt","butt","butt","butt","butt","butt",,"butt"],["line.linetype",1,1,1,1,1,,1,1,1,1,1,1,1,1,1,1,1,,1],["line.linewidth",0.5,0.5,0.33,0.33,0.5,,0.5,0.33,0.5,0.5,0.5,0.5,0.5,0.5,0.55,0.5,0.5,,0.55],["panel.background",,,,,,,,,,"element_blank",,,"element_blank","element_blank",,,,],["panel.background.colour",null,null,"#FFFFFF","#000000",null,,null,"#FFFFFF",null,,null,null,,,"#93a1a1",null,null,],["panel.background.fill","#ffffff","#ffffff","#FFFFFF","#000000","#7f7f7f",,"#C0C0C0","#FFFFFF","#ebebeb",,"#ffffff","#ffffff",,,"#fdf6e3","#ffffff","#ebebeb",],["panel.background.linetype",,,,,,0,,,,,,,,,,1,,],["panel.border",,"element_blank","element_blank","element_blank","element_blank","element_blank",,"element_blank","element_blank","element_blank",,,"element_blank","element_blank","element_blank","element_blank","element_blank",],["panel.border.colour","#333333",,,,,,"#000000",,,,"#b3b3b3","#000000",,,,,,],["panel.border.fill",null,,,,,,null,,,,null,null,,,,,,,null],["panel.border.linetype",,,,,,,1,,,,,,,,,,,],["panel.border.linewidth",,,,,,,,,,,1,1,,,,,,],["panel.grid.arrow",false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,,false],["panel.grid.colour","#ebebeb","#ebebeb","#F6F8FA","#F6F8FA","#6b6b6b","#ffffff","#ebebeb","#F6F8FA","#ffffff","#ebebeb","#dedede","#000000","#ebebeb","#ebebeb","#eee8d5",,"#ffffff",],["panel.grid.linetype",,,,,,,,,,,,,,,,,,,3],["panel.grid.linewidth",,,1,1,,,,4,,,,,,,,,,],["panel.grid.major",,"element_blank",,,,,,,,,,,,,,,,],["panel.grid.major.arrow",,,,,false,false,false,,,,false,false,,,false,false,,,false],["panel.grid.major.colour",,,,,,"#ffffff","#000000",,,,,,,,"#eee8d5","#eaf2f3",,,"#000000"],["panel.grid.major.linewidth",,,,,0.5,1.75,,,,,0.5,0.1,,,,,,],["panel.grid.major.x",,,,,,"element_blank","element_blank","element_blank",,,,,,,,"element_blank",,,"element_blank"],["panel.grid.minor",,"element_blank","element_blank","element_blank",,"element_blank","element_blank","element_blank",,,,,,,,"element_blank",,,"element_blank"],["panel.grid.minor.arrow",false,,,,false,,,,false,false,false,false,false,false,false,,false,],["panel.grid.minor.colour",,,,,,,,,,,,,,,"#eee8d5",,,],["panel.grid.minor.linewidth",0.5,,,,0.25,,,,0.5,0.5,0.25,0.05,0.5,0.5,0.5,,0.5,],["panel.grid.minor.x",,,"element_blank","element_blank",,,,"element_blank",,,,,,,,,,],["panel.ontop",false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false,false],["panel.spacing",5.5,5.5,22,22,5.5,5.5,5.5,22,5.5,5.5,5.5,5.5,5.5,5.5,6,5.5,5.5,5.5,6],["plot.background",,,,,,,,,,"element_blank",,,"element_blank","element_blank",,,,],["plot.background.colour","#ffffff","#ffffff",,"#000000","#ffffff",null,"#ffffff",,"#ffffff",,"#ffffff","#ffffff",,,null,null,"#ffffff",],["plot.background.fill",,,,"#000000",,"#d5e4eb",,,,,,,,,,"#eaf2f3",,],["plot.background.linetype",,,,,,,,,,,,,,,0,0,,],["plot.caption.colour",,,"#121B24","#FFFFFF",,,,"#121B24",,,,,,,,,,],["plot.caption.hjust",1,1,0,0,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1],["plot.caption.margin",5.5,5.5,5.5,5.5,5.5,5.5,5.5,5.5,5.5,5.5,5.5,5.5,5.5,5.5,6,6,5.5,5.5,6],["plot.caption.position","panel","panel","plot","plot","panel","panel","panel","plot","panel","panel","panel","panel","panel","panel","panel","panel","panel","panel","panel"],["plot.caption.size",12,12,10,10,12,12,12,10,12,12,12,12,12,12,12,10,12,12,12],["plot.caption.vjust",5.5,5.5,22,22,5.5,12,5.5,22,5.5,5.5,5.5,5.5,5.5,5.5,6,null,5.5,null,null],["plot.margin",5.5,5.5,22,22,5.5,12,5.5,22,5.5,5.5,5.5,5.5,5.5,5.5,6,null,5.5,null,null],["plot.subtitle.hjust",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.5,0,0,0],["plot.subtitle.margin",5.5,5.5,22,22,5.5,5.5,5.5,22,5.5,5.5,5.5,5.5,5.5,5.5,6,6,5.5,5.5,6],["plot.subtitle.size",,,,,,,,,,,,,,,,12,,],["plot.subtitle.vjust",1,1,,,1,1,1,,1,1,1,1,1,1,1,1,1,1,1],["plot.tag.hjust",0.5,0.5,0,0,0.5,0.5,0.5,0,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5],["plot.tag.position","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft","topleft"],["plot.tag.size",14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14],["plot.tag.vjust",0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5],["plot.title.face",,,"bold","bold",,"bold",,"bold",,,,,,,,,,,"bold"],["plot.title.hjust",0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.5,0,0,0],["plot.title.margin",5.5,5.5,27.5,27.5,5.5,,5.5,27.5,5.5,5.5,5.5,5.5,5.5,5.5,6,6,5.5,5.5,6],["plot.title.position","panel","panel","plot","plot","panel","panel","panel","plot","panel","panel","plot","panel","panel","panel","panel","panel","panel","panel","panel"],["plot.title.size",12,12,14,14,12,20,12,14,12,12,12,12,12,12,12,12,12,12,12],["plot.title.vjust",1,1,,,1,,1,,1,1,1,1,1,1,1,1,1,1,1],["rect",,,,,,,,,,,,,,,,,,"element_blank"],["rect.colour","#000000","#000000","#FFFFFF","#FFFFFF","#000000",null,"#000000","#FFFFFF","#000000","#000000","#000000","#000000","#000000","#000000","#93a1a1","#000000","#000000",,null],["rect.fill","#ffffff","#ffffff","#FFFFFF","#FFFFFF","#ffffff",null,"#ffffff","#FFFFFF","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#fdf6e3","#ffffff","#ffffff",,"#f8f2e4"],["rect.linetype",1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,,0],["rect.linewidth",0.5,0.5,0.33,0.33,0.5,,0.5,0.33,0.5,0.5,0.5,0.5,0.5,0.5,0.55,0.5,0.5,,0.55],["strip.background",,,,,,,,,,"element_blank",,,"element_blank","element_blank",,,,],["strip.background.colour","#333333","#000000",null,null,null,null,null,null,null,,null,,,,"#333333",null,null,],["strip.background.fill","#d9d9d9","#ffffff",null,null,"#262626",null,"#ffffff",null,"#d9d9d9",,"#b3b3b3","#000000",,,"#d9d9d9","#d9e6eb","#d9d9d9",],["strip.background.linetype",,,,,,0,0,,,,,,,,,1,,],["strip.background.linewidth",,2,,,,,,,,,,,,,,,,],["strip.clip","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit","inherit"],["strip.placement","inside","inside","outside","outside","inside","inside","inside","outside","inside","inside","inside","inside","inside","inside","inside","inside","inside",,"inside"],["strip.switch.pad.grid",2.75,2.75,0.15,0.15,2.75,2.75,2.75,0.15,2.75,2.75,2.75,2.75,2.75,2.75,3,3,2.75,2.75,3],["strip.switch.pad.wrap",2.75,2.75,0.15,0.15,2.75,2.75,2.75,0.15,2.75,2.75,2.75,2.75,2.75,2.75,3,3,2.75,2.75,3],["strip.text.colour","#1a1a1a","#1a1a1a",,,"#e5e5e5",,"#1a1a1a",,"#1a1a1a","#1a1a1a","#ffffff","#ffffff","#1a1a1a","#1a1a1a","#1a1a1a",,"#1a1a1a",],["strip.text.margin",4.4,4.4,7.26,7.26,4.4,,4.4,7.26,4.4,4.4,4.4,4.4,4.4,4.4,4.8,4.8,4.4,,4.8],["strip.text.size",12,12,,,12,16,12,,12,12,12,12,12,12,12,12,12,12,12],["strip.text.x.bottom.margin",,,11,11,,,,11,,,,,,,,,,],["strip.text.x.vjust",,,,,,,,,,,,,,,,0.5,,],["strip.text.y.angle",-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,-90,,-90],["strip.text.y.left.angle",90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,,90],["strip.text.y.left.margin",,,7.3333,7.3333,,,,7.3333,,,,,,,,,,],["strip.text.y.margin",,,7.3333,7.3333,,,,7.3333,,,,,,,,,,],["text.angle",0,0,0,0,0,,0,0,0,0,0,0,0,0,0,0,0,0,0],["text.colour","#000000","#000000","#121B24","#FFFFFF","#000000","#000000","#000000","#121B24","#000000","#000000","#000000","#000000","#000000","#000000","#93a1a1","#000000","#000000","#000000","#000000"],["text.debug",false,false,false,false,false,,false,false,false,false,false,false,false,false,false,false,false,false,false],["text.face","plain","plain","plain","plain","plain",,"plain","plain","plain","plain","plain","plain","plain","plain","plain","plain","plain","plain","plain"],["text.family",,,,,,,,,,,,,,,,"sans",,,"sans"],["text.hjust",0.5,0.5,0.5,0.5,0.5,,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5],["text.lineheight",0.9,0.9,0.9,0.9,0.9,,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,0.9,1,0.9,0.9,0.9],["text.margin",0,0,0,0,0,,0,0,0,0,0,0,0,0,0,0,0,0,0],["text.size",12,12,12,12,12,,12,12,12,12,12,12,12,12,12,12,12,12,12],["text.vjust",0.5,0.5,0.5,0.5,0.5,,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,0.5,1,0.5,0.5,0.5],["title.colour",,,,,,,,,,,,,,,"#657b83","#1e2d53",,],["title.family",,,,,,,,,,,,,,,,,,,"mono"],["title.size",,,,,,,,,,,,,,,,,,,24]];CanvasXpress.themeDef={};var a=CanvasXpress.themes.shift();for(var d=0;d<a.length;d++){CanvasXpress.themeDef[a[d]]={}}for(var d=0;d<CanvasXpress.themes.length;d++){var b=CanvasXpress.themes[d];var e=b.shift();for(var c=0;c<b.length;c++){if(b[c]!==undefined){CanvasXpress.themeDef[a[c]][e]=b[c]}}}delete CanvasXpress.themes}();CanvasXpress.styleParams={toggleSwitchBackgroundColor:true,fontWidgetsSize:true,fontWidgetsColor:true,backgroundWidgetsColor:true,baseWidgetsColor:true,hoverWidgetsColor:true,accentWidgetsColor:true,contrastWidgetsColor:true,iconClsA:true,iconClsB:true,iconClsC:true,iconClsX:true,widgetsStripedColor:true,dataTableStriped:true,dataTableColored:true,dataTableAccentColor:true,dataTableBackgroundColor:true,dataTableBorderColor:true,dataTableBanner:true,dataTableBannerImage:true,dataTableBannerBorderColor:true,dataTableBannerBackgroundColor:true,dataTableBannerTextColor:true,dataTableToolbar:true,dataTableToolbarBackgroundColor:true,dataTableToolbarBorderColor:true,dataTableHeaderBackgroundColor:true,dataTableHeaderTextColor:true,dataTableRowNumbers:true,dataTableCellBackgroundColor:true,dataTableOddCellBackgroundColor:true,dataTableCellBorders:true,dataTableCellBorderColor:true,dataTableCellTextColor:true,dataTableActiveCellBorderColor:true,dataTableStatus:true,dataTableStatusBackgroundColor:true,dataTableStatusBorderColor:true,dataTableStatusTextColor:true,dataTablePagination:true,dataTablePaginationSize:true,dataTablePaginationBackgroundColor:true,dataTablePaginationBorderColor:true,dataTablePaginationTextColor:true,dataTableCellHoverBackgroundColor:true,dataTableRowHoverBackgroundColor:true};CanvasXpress.setStyleDefinitions=function(){CanvasXpress.styles=[["cx","modern","stripped","old","bms","rdc","ngs360"],["toggleSwitchBackgroundColor","#999999","#536aff","#999999","#999999","#bf2bff","#999999","#7b7b7b"],["fontWidgetsSize","12px","12px","12px","12px","12px","12px","12px"],["fontWidgetsColor","#555b62","#222222","#222222","#222222","#222222","#222222","#222222"],["backgroundWidgetsColor","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],["baseWidgetsColor","#cccccc","#536aff","#cccccc","#cccccc","#bdb8b8","#ffffff","#f0f0f0"],["hoverWidgetsColor","rgba(204, 204, 204, 0.6)","rgba(83,105,255, 0.2)","rgba(204, 204, 204, 0.6)","rgba(204, 204, 204, 0.6)","rgba(190, 43, 187, 0.1)","rgba(42,106,220,0.2)","rgb(204, 204, 204, 0.6)"],["accentWidgetsColor","rgba(204, 204, 204, 0.4)","rgba(83, 105, 255, 0.1)","rgba(204, 204, 204, 0.4)","#ebebeb","rgba(190, 43, 187, 0.6)","rgba(42,106,220,0.1)","#ebebeb"],["contrastWidgetsColor","#7b7b7b","#536aff","#7b7b7b","#7b7b7b","#bf2bff","#2a6bdc","#7b7b7b"],["iconClsA","#000000","#5369ff","#000000","#000000","#BE2BBB","#2A6ADC","#000000"],["iconClsB","#454545","#292929","#454545","#454545","#595454","#292929","#454545"],["iconClsC","#999999","#999999","#999999","#999999","#999999","#999999","#999999"],["iconClsX","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#2A6ADC","#ffffff"],["widgetsStripedColor","#f2f2f2","#f6f8ff","#f2f2f2","#f2f2f2","#f2f2f2","#e3f2fd","#f2f2f2"],["dataTableStriped",true,true,true,true,true,true,true],["dataTableColored",false,false,false,false,false,false,false],["dataTableAccentColor","#087ad1","#536aff","#7b7b7b","#7b7b7b","#bf2bff","#2a6bdc","#7b7b7b"],["dataTableBackgroundColor","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],["dataTableBorderColor","#087ad1","#536aff","#7b7b7b","#7b7b7b","#bf2bff","#2a6bdc","#7b7b7b"],["dataTableBanner",true,true,true,true,true,true,true],["dataTableBannerImage",false,false,false,false,"https://www.canvasxpress.org/assets/images/BMS.png","https://www.canvasxpress.org/assets/images/RDC.png","https://www.canvasxpress.org/assets/images/NGS360.png"],["dataTableBannerBorderColor","#087ad1","#536aff","rgba(204, 204, 204, 0.4)","#ebebeb","rgba(190, 43, 187, 0.6)","#2a6bdc","#ebebeb"],["dataTableBannerBackgroundColor","#cccccc","#536aff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],["dataTableBannerTextColor","#555b62","#222222","#222222","#222222","#222222","#222222","#222222"],["dataTableToolbar",true,true,true,true,true,true,true],["dataTableToolbarBackgroundColor","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],["dataTableToolbarBorderColor","#087ad1","#536aff","rgba(204, 204, 204, 0.4)","#ebebeb","rgba(190, 43, 187, 0.6)","#2a6bdc","#ebebeb"],["dataTableHeaderBackgroundColor","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],["dataTableHeaderTextColor","#555b62","#222222","#222222","#222222","#222222","#222222","#222222"],["dataTableRowNumbers",true,true,true,true,true,true,true],["dataTableCellBackgroundColor","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],["dataTableOddCellBackgroundColor","#f7f8f9","#dce2ff","#f7f8f9","#f7f8f9","#f7f8f9","#e3f2fd","#f7f8f9"],["dataTableCellBorders","rows","rows","rows","rows","rows","rows","rows"],["dataTableCellBorderColor","#d7e2e6","#536aff","rgba(204, 204, 204, 0.4)","#ebebeb","rgba(190, 43, 187, 0.6)","rgba(42,106,220,0.1)","#ebebeb"],["dataTableCellTextColor","#555b62","#222222","#222222","#222222","#222222","#222222","#222222"],["dataTableActiveCellBorderColor","#7cb6e2","#dce2ff","#7b7b7b","#7b7b7b","#bf2bff","#2a6bdc","#7b7b7b"],["dataTableStatus",true,true,true,true,true,true,true],["dataTableStatusBackgroundColor","#ffffff","#536aff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],["dataTableStatusBorderColor","#087ad1","#ffffff","rgba(204, 204, 204, 0.4)","#ebebeb","rgba(190, 43, 187, 0.6)","#2a6bdc","#ebebeb"],["dataTableStatusTextColor","#555b62","#ffffff","#222222","#222222","#222222","#222222","#222222"],["dataTablePagination",false,false,false,false,false,false,false],["dataTablePaginationSize",25,25,25,25,25,25,25],["dataTablePaginationBackgroundColor","#ffffff","#536aff","#ffffff","#ffffff","#ffffff","#ffffff","#ffffff"],["dataTablePaginationBorderColor","#087ad1","#ffffff","rgba(204, 204, 204, 0.4)","#ebebeb","rgba(190, 43, 187, 0.6)","#2a6bdc","#ebebeb"],["dataTablePaginationTextColor","#555b62","#ffffff","#222222","#222222","#222222","#222222","#222222"],["dataTableCellHoverBackgroundColor","rgba(124, 182, 226, 0.2)","rgba(83,105,255, 0.2)","rgba(204, 204, 204, 0.6)","rgba(204, 204, 204, 0.6)","rgba(190, 43, 187, 0.1)","rgba(42,106,220,0.2)","rgb(204, 204, 204, 0.6)"],["dataTableRowHoverBackgroundColor","rgba(124, 182, 226, 0.2)","rgba(83,105,255, 0.2)","rgba(204, 204, 204, 0.6)","rgba(204, 204, 204, 0.6)","rgba(190, 43, 187, 0.1)","rgba(42,106,220,0.2)","rgb(204, 204, 204, 0.6)"]];CanvasXpress.styleDef={};var d=CanvasXpress.styles.shift();for(var c=0;c<d.length;c++){CanvasXpress.styleDef[d[c]]={}}for(var c=0;c<CanvasXpress.styles.length;c++){var a=CanvasXpress.styles[c];var e=a.shift();for(var b=0;b<a.length;b++){if(a[b]!==undefined){CanvasXpress.styleDef[d[b]][e]=a[b]}}}delete CanvasXpress.styles}();CanvasXpress.R={lty:[[0,0],[],[8,6],[1,3],[1,3,5,3],[14,6],[4,3,8,3]],ltyNames:["blank","solid","dashed","dotted","dotdash","longdash","twodash"]};CanvasXpress.factory=CanvasXpress.factory||{version:60.5,buildDate:"02-26-2026",client:"",siteSrc:false,valid:typeof window.cX=="string"?window.cX:undefined,href:window.location.href,llmService:typeof window.cXLLMService=="string"?window.cXLLMService:undefined};CanvasXpress.factory.services="https://www.canvasxpress.org/cgi-bin/services.pl";CanvasXpress.prototype.init=function(f,d,b,c,e,h,g,a){this.N5=function(j){try{CanvasXpress}catch(i){return false}CanvasXpress.instances.push(this);this.initStart();this.initData();this.initAesthetics();this.initScale();this.initGeometry();this.initStatistics();this.initFacets();this.initCoordinates();this.initTheme();this.initRender();this.initUI();this.initProcess(j)};if(!f){throw new Error("No target provided")}else{if(typeof(f)=="object"&&f.isGGPlot){return new cxplot(f)}else{this.N5(CanvasXpress.createObject(f,d,b,c,e,h,g,a))}}};CanvasXpress.prototype.initProcess=function(o){this.wu=function(o){this.target=o.target;this.events=o.events;this.info=o.info;this.userId=1;this.url={};this.meta={ids:{},time:{start:parseInt(performance.timeOrigin),current:0,end:null,elapsed:[]},data:false,canvas:{},config:{user:o.config,orig:{},vals:{},remote:false},ggplot:{aes:{},config:[],coords:[],data:[],facet:[],geoms:[],labels:{},layers:{},order:{},scales:[],theme:[],map:{}},vals:{},render:{objects:[],groups:{},types:{},order:[],map:{},origin:[],transition:false},console:[],events:{},stack:[],def:{},dom:{},layout:{}};this.config={};this.legend={color:{},shape:{},size:{},sample:{},variable:{},line:{},pattern:{},outline:{},connect:{},contour:{},bin2d:{},decoration:{},oncoprint:{},overlays:{},colorNode:{},shapeNode:{},sizeNode:{},patternNode:{},colorEdge:{},sizeEdge:{},colorLabel:{},sizeLabel:{}};this.scales={};this.panel={};this.plot={}};this.GW=function(t){var c=this.meta.time.current||performance.now();if(!t){t=""}var n=performance.now();this.meta.time.elapsed.push([t,parseInt(n-c),parseInt(n)]);this.meta.time.current=n};this.gh=function(o){this.qS(o);this.eg(o);this.jk(o);this.sK(o);this.hu(o);this.Vs(o)};this.qS=function(o){if(typeof(o.data)=="function"){try{o.data=o.data.call(this)}catch(e){alert("Not a valid Data object:\n"+e)}}else{if(!o.noValidate){try{JSON.stringify(o.data)}catch(e){alert("Data object malformed:\n"+e)}if(o instanceof Object&&o.hasOwnProperty("data")&&o.data.hasOwnProperty("y")&&o.data.y.hasOwnProperty("data")&&o.data.hasOwnProperty("x")&&o.data.hasOwnProperty("z")){if(o.data.y.data instanceof Array&&o.data.y.data[0] instanceof Array&&o.data.y.hasOwnProperty("vars")&&o.data.y.hasOwnProperty("smps")&&o.data.x==null&&o.data.z==null){for(var i=0;i<o.data.y.data.length;i++){for(var j=0;j<o.data.y.data[i].length;j++){var v=o.data.y.data[i][j];var n=v===null||v===undefined?true:!isNaN(parseFloat(v))&&isFinite(v);if(!n){for(var ii=0;ii<o.data.y.data.length;ii++){o.data.y.data[ii].unshift(o.data.y.vars[ii])}o.data.y.data.unshift(o.data.y.smps);o.data.y.data[0].unshift("");o.data=o.data.y.data;if(o.hasOwnProperty("config")){o.config.isDataFrame=true}return o}}}}}}}};this.eg=function(o){if(o.config){if(typeof(o.config)=="function"){try{o.config=o.config.call(this)}catch(e){alert("Not a valid Data object:\n"+e)}}else{if(!o.noValidate){try{JSON.stringify(o.config)}catch(e){alert("Config object malformed:\n"+e)}}}}};this.jk=function(o){if(o.events){for(var t in o.events){var v=o.events[t];if(typeof v==="string"&&v.startsWith&&v.startsWith("/Function(")&&v.endsWith&&v.endsWith(")/")){v=v.substring(10,v.length-2).replace(/&quot;/g,'"');v=eval("("+v+")");o.events[t]=v}}}};this.sK=function(o){if(!o.info){o.info=""}};this.hu=function(o){if(o.afterRender){try{JSON.stringify(o.afterRender)}catch(e){alert("AfterRender object malformed:\n"+e)}}};this.Vs=function(o){var p=false;if(o.config&&o.config.xAxis&&o.config.yAxis){if((o.config.xAxis[0]=="vars"||o.config.xAxis[0]=="smps")&&o.config.yAxis[0]=="y"){this.zc(o)}}else{if(o.data&&Array.isArray(o.data)&&o.data[0]&&((o.data[0].x&&o.data[0].y)||o.data[0].values)){if(o.data[0].type||o.data[0].mode){this.Lj(o)}}}};this.lA=function(c){if(!c){c=this}if(c.transposeData){return true}if(c.transformData){}if(c.asSampleFactors&&c.asSampleFactors.length){return true}if(c.asVariableFactors&&c.asVariableFactors.length){return true}if(c.stringSampleFactors&&c.stringSampleFactors.length){return true}if(c.stringVariableFactors&&c.stringVariableFactors.length){return true}if(c.stringNodeAttributes&&c.stringNodeAttributes.length){return true}if(c.stringEdgeAttributes&&c.stringEdgeAttributes.length){return true}if(c.showHistogram){return true}if(c.ridgeBy){return true}if(c.sortData&&c.sortData.length){return true}if(c.filterData&&c.filterData.length){return true}if(c.asDOE){}return false};this.AH=function(c){var afterRender=[];if(c.showHistogram||c.ridgeBy){if(c.showHistogram===true&&c.colorBy){afterRender.unshift(["createHistogram",[false,true],{}])}else{afterRender.unshift(["createHistogram",[c.ridgeBy||c.showHistogram||c.colorBy,true],{}])}}if(c.stringVariableFactors&&c.stringVariableFactors.length){for(var i=0;i<c.stringVariableFactors.length;i++){afterRender.unshift(["switchNumericToString",[c.stringVariableFactors[i]],{}])}}if(c.stringSampleFactors&&c.stringSampleFactors.length){for(var i=0;i<c.stringSampleFactors.length;i++){afterRender.unshift(["switchNumericToString",[c.stringSampleFactors[i],true],{}])}}if(c.stringNodeAttributes&&c.stringNodeAttributes.length){for(var i=0;i<c.stringNodeAttributes.length;i++){afterRender.unshift(["switchNumericToString",[c.stringNodeAttributes[i],false],{}])}}if(c.stringEdgeAttributes&&c.stringEdgeAttributes.length){for(var i=0;i<c.stringEdgeAttributes.length;i++){afterRender.unshift(["switchNumericToString",[c.stringEdgeAttributes[i],true],{}])}}if(c.asVariableFactors&&c.asVariableFactors.length){for(var i=0;i<c.asVariableFactors.length;i++){afterRender.unshift(["switchVarToAnnotation",[c.asVariableFactors[i]],{}])}}if(c.asSampleFactors&&c.asSampleFactors.length){for(var i=0;i<c.asSampleFactors.length;i++){afterRender.unshift(["switchSmpToAnnotation",[c.asSampleFactors[i]],{}])}}if(c.transposeData){afterRender.unshift(["transpose",[false,true],{}])}if(c.transformData){afterRender.unshift(["transform",[c.transformData,c.transformAxis,false,true],{}])}if(c.sortData&&c.sortData.length){for(var i=0;i<c.sortData.length;i++){afterRender.push(["modifySort",[c.sortData[i][0],c.sortData[i][1],c.sortData[i][2],false,i==c.sortData.length-1?true:false],{}])}}if(c.filterData&&c.filterData.length){for(var i=0;i<c.filterData.length;i++){afterRender.push(["modifyFilter",[c.filterData[i][0],c.filterData[i][1],c.filterData[i][2],c.filterData[i][3],i==c.filterData.length-1?true:false],{}])}}if(c.asDOE){afterRender.push(["createDOE",[],{}])}return afterRender};this.yh=function(){if(this.isCxplot&&this.meta.config.user.aes){var aes=this.meta.config.user.aes;if(aes.stringVariableFactors){this.stringVariableFactors=this.TU(aes.stringVariableFactors)}if(aes.stringSampleFactors){this.stringSampleFactors=this.TU(aes.stringSampleFactors)}if(aes.asVariableFactors){this.asVariableFactors=this.TU(this.asVariableFactors)}if(aes.asSampleFactors){this.asSampleFactors=this.TU(aes.asSampleFactors)}}};this.Hz=function(arr){var that=this;var getSelectedDataPoints=function(){if(that.selectedDataPoints.length&&!CanvasXpress.selector.selections){var draw=false;var x=that.xAxisIndices&&that.xAxisIndices.length?that.xAxisIndices[0]:0;var y=that.yAxisIndices&&that.yAxisIndices.length?that.yAxisIndices[0]:1;for(var i=0;i<that.selectedDataPoints.length;i++){var vi=that.tU(that.selectedDataPoints[i]);var si=that.yV(that.selectedDataPoints[i]);if(vi>=0){that.rE([vi,x,y]);draw=true}if(si>=0){that.rE([that.varIndices[0],si]);draw=true}}if(draw){that.Yt()}}};var isPWC=function(){for(var i=0;i<arr.length;i++){if(arr[i][0]=="geom_pwc"){return true}}return false};var isDecor=function(){for(var i=0;i<arr.length;i++){if(arr[i][0].match(/marker/i)){return true}}return false};this.afterRendering=true;if(!arr){arr=[]}var t=this.meta.time.start;var v=this.graphType=="Scatter2D"&&this.scatterType=="visium";this.yh();if(this.showHistogram||this.ridgeBy){if(this.showHistogram===true){arr.push(["createHistogram",[false],{},t,true])}else{arr.push(["createHistogram",[this.ridgeBy||this.showHistogram],{},t,true])}}if(this.stringVariableFactors.length){for(var i=0;i<this.stringVariableFactors.length;i++){arr.unshift(["switchNumericToString",[this.stringVariableFactors[i],false],{},t,true])}this.stringVariableFactors=[];this.layoutRestore=false}if(this.stringSampleFactors.length){for(var i=0;i<this.stringSampleFactors.length;i++){arr.unshift(["switchNumericToString",[this.stringSampleFactors[i],true],{},t,true])}this.stringSampleFactors=[];this.layoutRestore=false}if(this.stringNodeAttributes.length){for(var i=0;i<this.stringNodeAttributes.length;i++){arr.unshift(["switchNumericToString",[this.stringNodeAttributes[i],false],{},t,true])}this.stringNodeAttributes=[];this.layoutRestore=false}if(this.stringEdgeAttributes.length){for(var i=0;i<this.stringEdgeAttributes.length;i++){arr.unshift(["switchNumericToString",[this.stringEdgeAttributes[i],true],{},t,true])}this.stringEdgeAttributes=[];this.layoutRestore=false}if(this.asVariableFactors.length){for(var i=0;i<this.asVariableFactors.length;i++){arr.unshift(["switchVarToAnnotation",[this.asVariableFactors[i],false],{},t,true])}this.asVariableFactors=[];this.layoutRestore=false}if(this.asSampleFactors.length){for(var i=0;i<this.asSampleFactors.length;i++){arr.unshift(["switchSmpToAnnotation",[this.asSampleFactors[i],false],{},t,true])}this.asSampleFactors=[];this.layoutRestore=false}if(this.transposeData){arr.unshift(["transpose",[false,this.sortData.length||this.selectedDataPoints.length],{},t,true]);this.transposeData=false;delete (CanvasXpress.stack[this.target].config.transposeData)}if(this.pivotBy&&!this.isPivot){arr.push(["pivotX",[this.pivotBy],{},t,true])}if(this.sortData){for(var i=0;i<this.sortData.length;i++){arr.push(["modifySort",[this.sortData[i][0],this.sortData[i][1],this.sortData[i][2],false,i==this.sortData.length-1?false:true],{},t,true])}this.sortData=[];delete (CanvasXpress.stack[this.target].config.sortData)}if(this.filterData){for(var i=0;i<this.filterData.length;i++){arr.push(["modifyFilter",[this.filterData[i][0],this.filterData[i][1],this.filterData[i][2],this.filterData[i][3],i==this.filterData.length-1?false:true],{}])}this.filterData=[];delete (CanvasXpress.stack[this.target].config.filterData)}var n1=arr.length-1;var ld=false;var pw=isPWC();var dc=isDecor();for(var i=0;i<arr.length;i++){var ar=arr[i];var fn=ar.shift();if(fn){var pr=ar.length>0?ar.shift():[];var cn=ar.length>0?ar.shift():{};var tm=ar.length>0?ar.shift():t;var rp=ar.length>0?ar.shift():false;if(this.view=="table"&&fn=="setDimensions"){continue}if(fn=="setDimensions"){if(this.width==pr[0]&&this.height==pr[1]){continue}}if(fn=="updateDataFilter"||fn=="resetDataFilter"){this.skipRender=true}var dr=arr[i+1]&&arr[i+1][0]&&arr[i+1][0].match(/drag/i)?true:false;this.skipRender=fn=="createDOE"||fn=="createHistogram"||fn=="modifyColorScheme"||fn.match(/segregate/)||dr?false:!this.showTransition&&i<n1?true:this.view=="table"?false:false;if(fn.match(/switch/)){this.skipRender=i<n1?true:false}if(fn.match(/updateConfig/)){this.skipRender=false}if(pw){if(fn.match(/geom_boxplot|geom_bar/)){this.skipRender=false}}if(this.graphType=="Sankey"&&i==0){this.skipRender=false}if(this.debug||dc){this.skipRender=false}for(var c in cn){this[c]=cn[c]}if(fn.match(/switch/)&&v&&i==n1){ld=true}if(this[fn]){if(fn=="modifySort"&&this.groupingFactors.length&&i==n1){this.x9()}this[fn].apply(this,pr)}if(fn.match(/^switch/)&&i==n1&&!ld){this.x9()}if(rp){var ii=CanvasXpress.stack[this.target].afterRender.length-1;CanvasXpress.stack[this.target].afterRender[ii][4]=true}if(ld){this.ff()}else{if(n1==i){this.YQ(false,true)}}}}if(this.asDOE&&this.wi()){this.wY(this.asDOE)}getSelectedDataPoints();this.dU("afterRender");this.afterRendering=false;this.stackInitial=arr.length};this.h3=function(){if(this.toDoPivot){this.cR(this.toDoPivot);this.toDoPivot=false}else{if(this.prompt){this.FB()}}};this.T4=function(){if(window.location.search!=""){var p=location.search.substring(1).split("&");for(var i=0;i<p.length;i++){var v=p[i].split("=");if(!v[0]){continue}if(v[0].match(/^cX/)){this.url[v[0]]=v[1]||true}else{this.url[v[0]]=v[1]=="false"?false:v[1]=="true"?true:v[1]}}}};this.Ki=function(){var arr=CanvasXpress.alias.split("#");var t0=arr.pop().split("");var t1=arr.shift().split("");var t={};for(var i=0;i<t0.length;i++){t[t1[i]]=t0[i]}for(var i=0;i<arr.length;i++){var w=arr[i].split("");var n=w.length;var f="";for(var j=0;j<n-2;j++){f+=t[w[j]]}var g=w[n-2]+w[n-1];if(this[g]){this[f]=this[g]}}};this.iS=function(){if(this.url.hasOwnProperty("cXprint")||this.printThumbnail){this.printThumbnail=false;var f=this.url.cXprint!==true&&this.url.cXprint!=="true"?this.url.cXprint:this.saveFilename?this.saveFilename:this.target+".png";var t=this;var c=function(blb,fn){t.ny(blb,fn);setTimeout(function(){window.close()},4000)};t.print(false,f,c)}else{if(this.url.hasOwnProperty("cXprintBase64")||this.cacheBase64){this.cacheBase64=false;var c=function(){return};if(CanvasXpress.$(this.target)){this.print(false,false,c)}}}};this.fo=function(o,e){var t=this;var w=window;var q=t.$w;if(this.verbose){w[q(8)][q(31)][q(32)](o)}};this.dU=function(cllr,scope){var that=this;var runCallback=function(){var t=scope||that;if(t.graphType=="Map"&&t.mapId&&!window[t.mapId]){return}if(t.fonts&&t.fonts.length>0&&!CanvasXpress.readyFonts){CanvasXpress.readyFonts=true;return}t.fo("canvasXpress data ready - "+cllr);t.iS();CanvasXpress.ready=true};if(CanvasXpress.cacheImagesReady){if(cllr=="afterRender"){if(!this.isAnimation&&!this.isTransitionOn&&!this.isUpdateRemoteData){runCallback()}}else{if(this.graphType=="Network"){if(!this.isAnimation&&!this.isUpdateRemoteData){runCallback()}}else{if(!this.isTransitionOn){runCallback()}}}}};this.A2=function(){CanvasXpress.stack[this.target].stateCX.push(this.xh())};this.VL=function(e){if(this.view=="table"){this.viewLast="table";this.view="canvas";this.P9(e,"table")}else{if(this.view=="layout"){this.viewLast="layout";this.view="canvas";this.P9(e,"layout")}else{if(this.view=="explore"){this.viewLast="explore";this.view="canvas";this.TA(e)}else{if(this.view=="customize"){this.viewLast="customize";this.view="canvas";this.Vz(e)}else{if(this.view.match(/chat/i)){if(this.view==="tableChat"){this.viewLast="table";this.view="canvas";this.P9(e,"table")}else{this.viewLast="chat";this.view="canvas"}this.Ah(e)}}}}}};this.c9=function(f){var s=CanvasXpress.stack[this.target];var b=this.lA();this.qM(false,false,false,false,false,false,b);this.Hz(s.afterRenderInit);this.A2();CanvasXpress.current=this;this.VL();this.meta.time.end=parseInt(performance.now());this.h3();this.hT();if(f){f.call(this)}};this.uY=function(f){if(!this.lazyLoad||(!this.loaded&&this.Rs(this.meta.canvas.ctx.canvas))){this.c9(f)}};this.yi=function(o){var t=this;t.wu(o);t.GW("init");t.T4();t.gh(o);t.XS();t.Ki();t.yn();t.Db();t.xB(o.config);t.Q6();t.Zh();t.xO();t.YN(o.data);t.GW("initData");t.V1();t.lh();t.Ur();t.oL(o.data,o.config,o.events,o.info,o.afterRender);t.KM();t.Ki();t.uY(o.callback)};this.yi(o)};CanvasXpress.prototype.initStart=function(){this.initIO();this.initCrypt();this.initDOM();this.initViewport();this.initConfig()};CanvasXpress.prototype.initDataset=function(){this.af=function(){delete (this.meta.data);this.QM(false,false,false,true)};this.k8=function(c){if(c){this.meta.data={tracks:[]}}for(var H=0;H<this.data.tracks.length;H++){var y=this.data.tracks[H];var p={};if(y.type=="dataframe"){for(var E in y.dataframe){var I=y.dataframe[E];if(this.eb(I)){var s=this.cp(I);var a=this[this.axisAlgorithm](s[0],s[1],5,this.isGraphTime,this.axisWilkinsonLoose);var q=[];for(var B=0;B<a.length;B++){q.push(a[B].toString())}var f=this.pQ(q);var J=this.pb(f,this.xAxisTextFont);var A=Math.min(s[0],a[0]);var G=Math.max(s[1],a[a.length-1]);var z=(y.height||this.featureTypeDefault)/((G-A)*1.05);var h=this.dl(y.colorSpectrum||this.colorSpectrum,A,G,y.colorSpectrumZeroValue||this.colorSpectrumZeroValue,y.colorSpectrumBreaks||this.colorSpectrumBreaks,true);p[E]={type:"Numeric",range:s,values:a,valuesStr:q,maxValueStrLen:J,min:A,max:G,units:z,brew:h}}else{var b={};for(var B=0;B<I.length;B++){b[I[B]]=true}var x=this.Z7(b);var D={};var F=0;var K=0;var u="";for(var B=0;B<x.length;B++){D[x[B]]=B;var g=this.pb(x[B],this.xAxisTextFont);if(g>F){F=g;K=x[B].length;u=x[B]}}var e=[];for(var B=0;B<x.length;B++){if(y.meta&&y.meta.hasOwnProperty(E)&&y.meta[E].hasOwnProperty("color")&&y.meta[E].color.hasOwnProperty(x[B])){e.push(y.meta[E].color[x[B]])}else{e.push(this.colors[B%this.colors.length])}}var w=[];for(var B=0;B<x.length;B++){if(y.meta&&y.meta.hasOwnProperty(E)&&y.meta[E].hasOwnProperty("shape")&&y.meta[E].shape.hasOwnProperty(x[B])){w.push(y.meta[E].shape[x[B]])}else{w.push(this.shapes[B%this.shapes.length])}}p[E]={type:"String",levels:x,order:D,maxLevLen:F,maxLevChr:K,maxLevStr:u,colors:e,shapes:w,sizes:this.fT(x.length)}}}}else{if(y.type.match(/bar|heatmap/)){var I=y.data;var r=[];for(var C=0;C<I.length;C++){for(var B=0;B<I[C].data.length;B++){r.push(I[C].data[B])}}var s=this.cp(r);var a=this[this.axisAlgorithm](s[0],s[1],5,this.isGraphTime,this.axisWilkinsonLoose);var q=[];for(var C=0;C<a.length;C++){q.push(a[C].toString())}var f=this.pQ(q);var J=this.pb(f,this.xAxisTextFont);var A=Math.min(s[0],a[0]);var G=Math.max(s[1],a[a.length-1]);var z=(y.height||this.featureTypeDefault)/((G-A)*1.05);var h=this.dl(y.colorSpectrum||this.colorSpectrum,A,G,y.colorSpectrumZeroValue||this.colorSpectrumZeroValue,y.colorSpectrumBreaks||this.colorSpectrumBreaks,true);p={range:s,values:a,valuesStr:q,maxValueStrLen:J,min:A,max:G,units:z,brew:h}}}this.meta.data.tracks.push(p)}};this.FV=function(s,P,N){var g=this;var R=this.meta.data;var z=this.data;var u=["nodes","edges"];var y=this.nodeFont;var E={x:true,y:true,z:true,width:true,height:true,eventless:true,color:true,hideLabel:true,imagePath:true,size:true,shape:true,endArrow:true,startArrow:true,elbows:true};var h=function(d){for(var a in d){if(d[a]["t"]=="Numeric"){var e=g.Nv(d[a]["o"]);if(e.length==2&&(d[a]["o"].hasOwnProperty("true")&&d[a]["o"].hasOwnProperty("false"))){d[a]["t"]="String"}else{if(e.length==1&&(d[a]["o"].hasOwnProperty("true")||d[a]["o"].hasOwnProperty("false"))){d[a]["t"]="String"}else{if(e.length==1&&d[a]["o"].hasOwnProperty("")){d[a]["t"]="String"}}}}}return d};var M=function(a){var j={};for(var e=0;e<g.data[a].length;e++){var l=g.data[a][e];for(var d in l){if(E.hasOwnProperty(d)){continue}var k=l[d]===null?false:l[d];if(typeof(k)!="object"){if(j.hasOwnProperty(d)){if(!j[d]["o"].hasOwnProperty(k)){j[d]["o"][k]=true}if(isNaN(k)){j[d]["t"]="String"}}else{j[d]={o:{},t:isNaN(k)?"String":"Numeric"};j[d]["o"][k]=true}}else{if(!j.hasOwnProperty(d)){j[d]={o:{}}}j[d]["t"]="Object";for(var o in k){j[d]["o"][o]=true}}}}return h(j)};var f=function(d){var a=g.Z7(c[d]["o"]);if(g.legendOrder&&g.legendOrder[d]){var j=g.TU(g.legendOrder[d]);for(var e=0;e<a.length;e++){if(!j.includes(a[e])){j.push(a[e])}}return j}else{return a}};if(!s||s=="nodes"||s=="edges"){if(s&&N&&R[s][P]){delete (R[s][P])}for(var K=0;K<u.length;K++){var F=u[K];if(s){if(s!=F){continue}}if(z[F]){if(F=="edges"){for(var D=0;D<z[F].length;D++){var L=z[F][D];if(!L.hasOwnProperty("id")){L.id=L.id1+" -> "+L.id2}}}var c=M(F);for(var H in c){if(P){if(P!=H){continue}}var b={};b.len=this.pb(H,y);b.type=c[H]["t"];var J=0;var Q=0;var B="";if((this.colorKey&&this.colorKey.hasOwnProperty(H))||(this.legendOrder&&this.legendOrder.hasOwnProperty(H))){b.type="String"}if(b.type=="String"||b.type=="Object"){var C=f(H);b.unique=this.um(C);b.levels=C;b.order={};for(var I=0;I<C.length;I++){b.order[C[I]]=I;var p=this.pb(C[I],y);if(p>J){J=p;Q=C[I].length;B=C[I]}}b.clicked={};for(var I=0;I<C.length;I++){b.clicked[C[I]]=true}b.maxLevLen=J;b.maxLevChr=Q;b.maxLevStr=B;b.colors=[];var q=0;for(var I=0;I<C.length;I++){b.colors.push(this.colors[q%this.colors.length]);q++}if(this.colorKey&&this.colorKey.hasOwnProperty(H)){for(var I in this.colorKey[H]){if(b.order.hasOwnProperty(I)){b.colors[b.order[I]]=this.colorKey[H][I]}}}b.shapes=[];var q=0;for(var I=0;I<C.length;I++){b.shapes.push(this.shapes[q%this.shapes.length]);q++}if(this.shapeKey&&this.shapeKey.hasOwnProperty(H)){for(var I in this.shapeKey[H]){if(b.order.hasOwnProperty(I)){b.shapes[b.order[I]]=this.shapeKey[H][I]}}}b.sizes=this.fT(C.length,F=="edges");if(this.sizeKey&&this.sizeKey.hasOwnProperty(H)){for(var I in this.sizeKey[H]){if(b.order.hasOwnProperty(I)){b.sizes[b.order[I]]=this.sizeKey[H][I]}}}b.patterns=[];var q=0;for(var I=0;I<C.length;I++){b.patterns.push(this.patterns[q%this.patterns.length]);q++}if(this.patternKey&&this.patternKey.hasOwnProperty(H)){for(var I in this.patternKey[H]){if(b.order.hasOwnProperty(I)){b.patterns[b.order[I]]=this.patternKey[H][I]}}}}else{b.unique=false;var C=this.Z7(c[H]["o"]);var x=this.cp(C);b.rmin=x[0];b.rmax=x[1];b.n=C.length;var O=this.colorSpectrum;if(F=="edges"){b.colorBrew=this.dl(O,x[0],x[1])}else{b.colorBrew=this.dl(O,x[0],x[1],this.colorSpectrumZeroValue,this.colorSpectrumBreaks)}b.min=b.colorBrew.min;b.max=b.colorBrew.max;b.zero=b.colorBrew.zero;b.vals=b.colorBrew.vals;b.incr=b.colorBrew.incr;b.decs=b.colorBrew.decs;b.levels=b.colorBrew.vals;b.order={};for(var I=0;I<b.levels.length;I++){b.order[b.levels[I]]=I;var p=this.pb(b.levels[I],y);if(p>J){J=p;Q=b.levels[I].toString().length;B=b.levels[I]}b.maxLevLen=J;b.maxLevChr=Q;b.maxLevStr=B}b.shapes=this.shapes;b.sizes=this.sizes;b.patterns=this.patterns}R[F][H]=b}}}}if(this.decorations.length&&this.decorationsType=="heatmap"){var w=[];R.decorations={};R.decorations.unique=false;R.decorations.type="Numeric";R.decorations.n=0;for(var I=0;I<this.decorations.length;I++){var H=this.decorations[I];if(R.nodes[H]&&R.nodes[H].type=="Numeric"){R.decorations.n+=R.nodes[H].n;w.push(R.nodes[H].rmin);w.push(R.nodes[H].rmax)}else{if(R.nodes[H]&&R.nodes[H].type=="Object"){for(var G=0;G<R.nodes[H].levels.length;G++){var A=R.nodes[H].levels[G];for(var D=0;D<z.nodes.length;D++){if(z.nodes[D][H]&&z.nodes[D][H].hasOwnProperty(A)&&z.nodes[D][H][A]&&!isNaN(z.nodes[D][H][A])){R.decorations.n++;w.push(z.nodes[D][H][A])}}}}}}if(w.length){var O=this.colorSpectrum;var x=this.cp(w);R.decorations.rmin=x[0];R.decorations.rmax=x[1];R.decorations.colorBrew=this.dl(O,x[0],x[1],this.colorSpectrumZeroValue,this.colorSpectrumBreaks);R.decorations.min=R.decorations.colorBrew.min;R.decorations.max=R.decorations.colorBrew.max;R.decorations.zero=R.decorations.colorBrew.zero;R.decorations.vals=R.decorations.colorBrew.vals;R.decorations.incr=R.decorations.colorBrew.incr;R.decorations.decs=R.decorations.colorBrew.decs;R.decorations.levels=R.decorations.colorBrew.vals;R.decorations.order={};for(var I=0;I<R.decorations.levels.length;I++){R.decorations.order[R.decorations.levels[I]]=I;var p=this.pb(R.decorations.levels[I],y);if(p>J){J=p;Q=R.decorations.levels[I].toString().length;B=R.decorations.levels[I]}R.decorations.maxLevLen=J;R.decorations.maxLevChr=Q;R.decorations.maxLevStr=B}}}};this.MR=function(y,t,f,w,c,s){var r={};var q,o,d;var l=this.meta.config.user;if(this.legendOrder&&this.legendOrder[y]){for(q=0;q<this.legendOrder[y].length;q++){r[this.legendOrder[y][q]]=q}o=this.legendOrder[y].length;var x=t?this.Nv(t):f;for(q=0;q<x.length;q++){if(!r.hasOwnProperty(x[q])){r[x[q]]=o++}}return r}if(this.isCxplot&&l.aes&&l.aes.meta&&l.aes.meta[y]){var a={};o=0;for(q=0;q<l.aes.meta[y].length;q++){var k=l.aes.meta[y][q];if(t.hasOwnProperty(k)||t.hasOwnProperty(k+"\x00")){a[k]=o++}}return a}if(w){var u={};var g=this;d=this.Nv(t).sort(function(A,z){return new Date(g.dateFormat(A)).getTime()-new Date(g.dateFormat(z)).getTime()});for(q=0;q<d.length;q++){if(!u.hasOwnProperty(d[q])){u[d[q]]=q}}return u}if(c){d=this.Nv(t).sort(function(A,z){return parseInt(CanvasXpress.dates[A])-parseInt(CanvasXpress.dates[z])});var j={};for(q=0;q<d.length;q++){j[d[q]]=q}return j}if(s){var p={};o=0;for(q=0;q<s.length;q++){if(!p.hasOwnProperty(s[q])){p[s[q]]=o++}}return p}var h=this.Nv(t);var b=true;for(q=0;q<h.length;q++){if(!h[q].match("\x00")){b=false;break}}if(b){d=h.sort(function(A,z){return Number(A.replace("\x00",""))-Number(z.replace("\x00",""))});var e={};for(q=0;q<d.length;q++){e[d[q]]=q}return e}return false};this.ir=function(d,e,t,x,g){var f=this[d+"Key"];var a=f?f[x]:null;var o=CanvasXpress.colorSchemes;if(a){if(this.wo(a)){t[d+"By"]=a;t[d+"s"]=[];for(var s=0;s<g.length;s++){var b=g[s];if(!t[d+"By"].hasOwnProperty(b)){var y=Number(b.replace("\x00",""));if(t[d+"By"].hasOwnProperty(y)){t[d+"By"][b]=t[d+"By"][y]}else{t[d+"By"][b]=e[s%e.length]}}else{if(d==="color"){t[d+"By"][b]=this.u5(t[d+"By"][b])}}t[d+"s"][s]=t[d+"By"][b]}}else{if(this.tO(a)){t[d+"s"]=a}else{if(d==="color"){var r=g.length;var p=o[a];if(!p[r]){var c=this.Nv(p).sort(function(z,j){return z-j});if(r>c[c.length-1]){r=c[c.length-1]}else{if(r<c[0]){r=c[0]}else{var k=r;while(!p[k]&&k<c[c.length-1]){k++}if(!p[k]){k=r;while(!p[k]&&k>c[0]){k--}}r=k}}}t[d+"s"]=[];for(var s=0;s<p[r].length;s++){t[d+"s"][s]=this.u5(p[r][s])}}}}}else{t[d+"s"]=[];if(d==="color"&&g.length>e.length&&e.length===1&&this.graphType==="Map"){var q=o[this.colorScheme];var h=g.length;var w=this.Nv(q).sort(function(z,j){return z-j});if(h>w[w.length-1]){h=w[w.length-1]}else{if(h<w[0]){h=w[0]}}var l=q[h]||q[w[w.length-1]];for(var s=0;s<l.length;s++){t[d+"s"][s]=this.u5(l[s])}}else{for(var s=0;s<g.length;s++){var u=e[s%e.length];t[d+"s"].push(d==="color"?this.u5(u):u)}}}};this.we=function(c,k,l,t){var p=this.colorSpectrum;var o=this[c+"Key"];var r=o?o[t]:null;var u=CanvasXpress.colorSchemes;if(r){if(this.wo(r)){k[c+"By"]=r;for(var f=0;f<l.length;f++){var e=l[f].toString();if(!k[c+"By"].hasOwnProperty(e)){k[c+"By"][e]=this[c+"s"][f%this[c+"s"].length]}}k.orderS=this.MR(t,false,l)}else{if(c==="color"){if(this.tO(r)){p=r}else{var d=u[r];var b=this.Nv(d).sort(function(w,j){return w-j});p=d.hasOwnProperty(8)?d[8]:d[b[0]]}}}}if(c==="color"){k.colorBrew=this.dl(p,k.rmin,k.rmax,this.colorSpectrumZeroValue,this.colorSpectrumBreaks,true);var s=["min","max","zero","vals","incr","decs"];var q=this.Ry(l).sort(function(w,j){return w-j});for(var f=0;f<s.length;f++){k[s[f]]=k.colorBrew[s[f]]}k.levels=q.length<k.colorBrew.vals.length?k.colorBrew.vals:(q.length>10?k.colorBrew.vals:q);k.order={};k.maxLevLen=0;k.maxLevChr=0;k.maxLevStr="";for(var f=0;f<k.levels.length;f++){var a=k.levels[f];k.order[a]=f;var g=a.toString();var h=this.pb(g,this.font);if(h>k.maxLevLen){k.maxLevLen=h;k.maxLevChr=g.length;k.maxLevStr=g}}}else{k[c+"s"]=c==="connect"?this.colors:this[c+"s"]}};this.wD=function(ab,p,f,O,F){var U=this.meta.data;var D=this.data;var I=["x","z","w"];var V=this.font;if(!ab||I.indexOf(ab)!==-1){if(ab&&f){if(!p){delete U[ab]}else{if(U[ab]&&U[ab][p]){delete U[ab][p]}}}for(var T=0;T<I.length;T++){var Z=I[T];if(ab&&ab!==Z){continue}V=Z==="z"?this.varTextFont:this.smpTextFont;var x=D[Z];if(!x){continue}for(var u in x){if(p&&p!==u){continue}if(Z==="w"&&u!=="smps"&&u!=="grps"){continue}if(Z==="w"&&u==="grps"){U[Z].smps={};for(var S=0;S<x.smps.length;S++){U[Z].smps[x.smps[S]]=S}continue}var H={origin:Z,len:this.pb(u,V)};var W=x[u];var z=this.eb(W)&&!this.sH(W)&&!this.kx(W);H.type=z?"Numeric":"String";if(H.type==="String"&&this.aI(W)){var R=[];for(var S=0;S<W.length;S++){var d=new Date(this.dateFormat(W[S])).getTime();R.push(isNaN(d)?null:d)}if(this.eb(R)){H.type="Numeric";W=R}}if(H.type==="String"){this.Mb(Z,u);H.unique=this.um(W);H["boolean"]=this.Gt(W);H.date=this.aI(W);H.monthDay=this.cA(W);H.geo=this.u6(W)||this.zS(W);H.priority=this.bt(W);H.image=this.t2(W);if(H["boolean"]&&this.isR){for(var S=0;S<W.length;S++){if(W[S]!=null&&typeof W[S]==="string"){if(W[S].toLowerCase()==="true"){W[S]=true}else{if(W[S].toLowerCase()==="false"){W[S]=false}else{W[S]=null}}}}}if(H.image){for(var S=0;S<W.length;S++){if(this.images.indexOf(W[S])===-1){this.images.push(W[S]);W[S]=this.KU(W[S])}}}var X=this.Jp(W);var J=this.Ek(W);var aa=this.MR(u,X,false,H.date,H.monthDay,H.priority);var C=this.nM(this.Nv(X));H.levels=aa?C.sort(function(r,j){var ac=aa[r]!==undefined?aa[r]:(aa[r.replace("\x00","")]!==undefined?aa[r.replace("\x00","")]:Infinity);var k=aa[j]!==undefined?aa[j]:(aa[j.replace("\x00","")]!==undefined?aa[j.replace("\x00","")]:Infinity);return ac-k}):C;H.clicked={};for(var S=0;S<H.levels.length;S++){H.clicked[H.levels[S]]=true}H.n=[];for(var S=0;S<H.levels.length;S++){H.n.push(X[H.levels[S]])}H.unordered=J;H.order={};H.maxLevLen=0;H.maxLevChr=0;H.maxLevStr="";for(var S=0;S<C.length;S++){var e=C[S];H.order[e]=aa&&aa.hasOwnProperty(e)?aa[e]:S;var w=this.pb(e,V);if(w>H.maxLevLen){H.maxLevLen=w;H.maxLevChr=e.length;H.maxLevStr=e}}this.ir("color",this.colors,H,u,H.levels);this.ir("shape",this.shapes,H,u,H.levels);this.ir("size",this.fT(H.levels.length),H,u,H.levels);this.ir("pattern",this.patterns,H,u,H.levels);this.ir("linePattern",this.linePatterns,H,u,H.levels);this.ir("connect",this.colors,H,u,H.levels)}else{H.unique=false;H.date=this.uH(W);H["boolean"]=false;var g=[];for(var S=0;S<W.length;S++){g.push(W[S]==null||W[S]===this.missingDataValue?Number.NaN:Number(W[S]))}var h=this.cp(g);H.rmin=h[0]+(H.date?86400000:0);H.rmax=h[1]+(H.date?86400000:0);H.n=g.length;this.we("color",H,g,u);this.we("shape",H,g,u);this.we("size",H,g,u);this.we("pattern",H,g,u);this.we("linePattern",H,g,u);this.we("connect",H,g,u)}U[Z][u]=H;if(!U.m[Z]){U.m[Z]={}}if(!U.m[Z].maxFacLen||H.len>U.m[Z].maxFacLen){U.m[Z].maxFacLen=H.len;U.m[Z].maxFacChr=u.length;U.m[Z].maxFacStr=u}}}if(O){return}for(var T=0;T<I.length;T++){var Z=I[T];if(ab&&ab!==Z){continue}V=Z==="z"?this.varTextFont:this.smpTextFont;var B;if(Z==="z"){B={lev:"y",prp:"vars",lab:"Var"}}if(Z==="x"||Z==="q"){B={lev:"y",prp:"smps",lab:"Smp"}}if(Z==="w"){B={lev:"w",prp:"smps",lab:"Smp"}}if(B&&D[B.lev]){var a=0,b=0,q="";var o=D[B.lev][B.prp];for(var S=0;S<o.length;S++){if(o[S]!=null){var t=o[S].toString();var w=this.pb(t,V);if(w>a){a=w;b=t.length;q=t}}}U[B.lev]["max"+B.lab+"Len"]=a;U[B.lev]["max"+B.lab+"Chr"]=b;U[B.lev]["max"+B.lab+"Str"]=q;U[B.lev].vars=this.u6(D.y.vars)?"World":this.zS(D.y.vars)?"USA":this.aI(D.y.vars)?"Date":"String";U[B.lev].smps=this.u6(D.y.smps)?"World":this.zS(D.y.smps)?"USA":this.aI(D.y.smps,true)?"Date":"String";if(U[B.lev].smps==="Date"){U[B.lev].date=this.Oo(D.y.smps)}var K={};var Y={};if(Z==="x"){var P=D.y.smps;for(var S=0;S<P.length;S++){var N=this.cp(this.BO(S));K[P[S]]={min:N[0],max:N[1],type:"Numeric",date:this.uH(this.BO(S))};Y[P[S]]=true;if(F){K[P[S]].time=F[S]}}}else{if(Z==="z"){var M=D.y.vars;for(var S=0;S<D.y.data.length;S++){var N=this.cp(D.y.data[S]);K[M[S]]={min:N[0],max:N[1],type:"Numeric",date:this.uH(D.y.data[S])};Y[M[S]]=true}}else{if(Z==="w"){var e=this.isGroupedData?this.data.w:this.data.y;var c=(this.layoutValid&&this.data.l&&this.data.l.smps)?this.data.l.smps.map(function(k,j){return j}):(this.isGroupedData&&this.grpIndices?this.grpIndices:this.smpIndices);for(var S=0;S<c.length;S++){var N=this.cp(this.wT(S));K[e.smps[S]]={min:N[0],max:N[1],type:"Numeric",date:this.uH(this.wT(S))}}}}}if(!U[B.lev].clicked){U[B.lev].clicked={}}if(!U[B.lev]["range"]){U[B.lev]["range"]={}}this.RX(U[B.lev]["range"],K);this.RX(U[B.lev].clicked,Y)}}this.NM(ab&&p?this.meta.data[ab][p]:false)}else{if(ab==="y"&&D.y){var a=0,b=0,q="";for(var S=0;S<D.y.vars.length;S++){if(D.y.vars[S]!=null){var t=D.y.vars[S].toString();var w=this.pb(t,V);if(w>a){a=w;b=t.length;q=t}}}U.y.maxVarLen=a;U.y.maxVarChr=b;U.y.maxVarStr=q;U.y.vars=this.u6(D.y.vars)?"World":this.zS(D.y.vars)?"USA":this.aI(D.y.vars)?"Date":"String";if(!U.y.range){U.y.range={}}for(var S=0;S<D.y.data.length;S++){var N=this.cp(D.y.data[S]);U.y.range[D.y.vars[S]]={min:N[0],max:N[1],type:"Numeric"}}}else{if(D.y&&D.y[ab]){U[ab]={};var y=0,A=0,G="";var L=D.y[ab];if(this.k2(L)){for(var S=0;S<L.length;S++){for(var Q=0;Q<L[S].length;Q++){L[S][Q]=L[S][Q]!=null?Number(L[S][Q]):Number.NaN}}var h=this.H6(L);U[ab].rmin=h[0];U[ab].rmax=h[1];U[ab].n=L.length*(L[0]?L[0].length:0);U[ab].type="Numeric";U[ab].colorBrew=this.dl(this.colorSpectrum,h[0],h[1],null,false,true);var l=["min","max","zero","vals","incr","decs"];for(var S=0;S<l.length;S++){U[ab][l[S]]=U[ab].colorBrew[l[S]]}U[ab].levels=U[ab].colorBrew.vals;U[ab].order={};for(var S=0;S<U[ab].levels.length;S++){var e=U[ab].levels[S];U[ab].order[e]=S;var E=e.toString();var w=this.pb(E,V);if(w>y){y=w;A=E.length;G=E}}U[ab].maxLevLen=y;U[ab].maxLevChr=A;U[ab].maxLevStr=G;U[ab].shapes=this.shapes;U[ab].sizes=this.sizes;U[ab].patterns=this.patterns}else{var s={};for(var S=0;S<L.length;S++){for(var Q=0;Q<L[S].length;Q++){if(L[S][Q]!=null){s[L[S][Q]]=true}else{L[S][Q]=""}}}var C=this.nM(this.Nv(s));U[ab].levels=C;U[ab].order={};for(var S=0;S<C.length;S++){var e=C[S];U[ab].order[e]=S;var w=this.pb(e,V);if(w>y){y=w;A=e.length;G=e}}U[ab].maxLevLen=y;U[ab].maxLevChr=A;U[ab].maxLevStr=G;U[ab].type="String";U[ab].colors=[];for(var S=0;S<C.length;S++){U[ab].colors.push(this.colors[S%this.colors.length])}}}}}};this.dL=function(){if(!this.meta.data){if(!this.graphType.match(/(Scatter)/)&&this.data.y&&this.data.y.smps&&this.aI(this.data.y.smps,true)){this.FI(this.data)}if(this.graphType=="Network"){this.meta.data={nodes:{},edges:{},decorations:{}};this.FV()}else{if(this.graphType=="Genome"){this.meta.data={tracks:[]};this.k8()}else{if(this.graphType=="Venn"){this.meta.data={}}else{this.meta.data={w:{},x:{},y:{},z:{},m:{},p:{g:[],l:[],i:[]},l:[],q:{l:{},g:[],b:false,o:false},f:false,r:false,u:false,s:false,b:{l:[],g:false,c:false},c:{z:{},s:{},p:[]},d:{m:{},v:[],g:[],s:{},a:{},l:[],q:null,x:{},y:{},z:{},d:{}}};if(this.data.y){var L=/(^\d{1,4}?[\.|\\/|-]\d{1,2}?[\.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/;var N=this.data.y;var D=N.data;var z=new Array(N.smps.length).fill(true);var p=[];if(this.isRawData){var K=this.xAxisTime;var w=this.yAxisTime;var P=this.xAxis[0];var c=this.yAxis[0];var M=this.missingDataValue;for(var H=0,I=N.smps.length;H<I;H++){if((K&&P==N.smps[H])||(w&&c==N.smps[H])){p.push(H)}}for(var H=0,I=p.length;H<I;H++){for(var G=0,h=D.length;G<h;G++){var a=D[G][p[H]];if(a!=null&&toString.call(a)!=="[object Date]"&&L.test(a)){D[G][p[H]]=new Date(a).getTime()}}}var I=D.length;for(var H=0;H<I;H++){if(D[H]!=null){var h=D[H].length;for(var G=0;G<h;G++){var J=D[H][G];if(J!=null){if(z[G]&&!this.aI([J])){z[G]=false}D[H][G]=J==M?Number.NaN:Number(J)}else{D[H][G]=Number.NaN}}}else{if(this.graphType=="Map"){D[H]=[]}}}}else{var y=this.summaryType=="iqr"?["iqr1","iqr3","median","qtl1","qtl3","out"]:[this.summaryType];var u=y.length;var M=this.missingDataValue;var b=this.summaryType;for(var H=0;H<u;H++){var x=y[H];if(N.hasOwnProperty(x)){var B=N[x];var q=B.length;for(var G=0;G<q;G++){var s=B[G];var g=s.length;for(var F=0;F<g;F++){if(x=="out"){var e=s[F];var A=e.length;for(var E=0;E<A;E++){if(e[E]!=null){e[E]=e[E]==M?Number.NaN:Number(e[E])}else{D[H][G]=Number.NaN}}}else{if(s[F]!=null){s[F]=s[F]==M?Number.NaN:Number(s[F])}else{s[F]=Number.NaN}}}}}else{if(x){N[x]=[];var Q=b=="iqr"?"median":b;var O=N[Q];var o=O.length;for(var G=0;G<o;G++){var s=N[x][G]=[];var r=O[G];var C=r.length;for(var F=0;F<C;F++){s[F]=[]}}}}}var x=b=="iqr"?"median":b;var B=N[x];var q=B?B.length:0;N.data=[];if(x){for(var H=0;H<q;H++){N.data.push(B[H])}}}}this.wD(false,false,false,false,z)}}}}};this.WL=function(a){var b=this.isGroupedData?this.data.w:this.data.y;if(a=="cor"&&b.cor){return true}else{if(a=="venn"&&this.data.venn){return true}else{if(a=="network"&&this.data.nodes){return true}else{if(a=="genome"&&this.data.tracks){return true}else{if(a=="sum"&&b.sum&&b.sum[0].length>0){return true}else{if(a=="max"&&b.max&&b.max[0].length>0){return true}else{if(a=="min"&&b.min&&b.min[0].length>0){return true}else{if(a=="count"&&b.count&&b.count[0].length>0){return true}else{if(a=="mean"&&b.mean&&b.mean[0].length>0){return true}else{if(a=="median"&&b.median&&b.median[0].length>0){return true}else{if(a=="iqr"&&b.iqr1&&b.qtl1&&b.median&&b.qtl3&&b.iqr3&&b.median[0].length>0){return true}else{if(a=="raw"&&this.isRawData){return true}else{return false}}}}}}}}}}}}};this.l1=function(aw,f,Q,ag,J){var W=this;var r=this.isDOE?this.data.l.data[this.layoutCurrent||0]:false;var t=this.isGroupedData&&!f&&this.data.w?this.data.w:this.data.y;var ah=this.graphType=="Scatter2D"&&this.scatterType=="visium"?CanvasXpress.cacheImages[this.backgroundImageMD5||this.KU(this.backgroundImage)]:false;var w=this.Qu(true);var at=Number.POSITIVE_INFINITY;var K=Number.NEGATIVE_INFINITY;var A=Number.POSITIVE_INFINITY;var ab=Number.NEGATIVE_INFINITY;if(this.setMin!=null&&this.setMax!=null){this.minData=Number(this.setMin);this.maxData=Number(this.setMax);return}if(this.isGroupedData&&!aw&&!r){aw=this.graphType=="Boxplot"?"iqr":this.summaryType;if(this.graphType=="Boxplot"&&!this.isBoxplotCalc){this.hW(this.groupingFactors,false,false,false,true);t=this.data.w}}if(this.isGroupedData&&!f&&this.data.w&&!ag&&!r&&!this.layoutCurrent){for(var ak=0;ak<t.min.length;ak++){if(t.min[ak]){for(var aj=0;aj<t.min[ak].length;aj++){if(!isNaN(t.min[ak][aj])){at=Math.min(at,t.min[ak][aj])}if(!isNaN(t.max[ak][aj])){K=Math.max(K,t.max[ak][aj])}}}}}else{if(this.graphType=="Meter"){var H;if(this.layoutValid&&this.segregateVariablesBy.length&&this.segregateSamplesBy.length){H=this.data.l.comp[this.layoutCurrent||0][0][0]}else{if(this.layoutValid&&this.segregateVariablesBy.length&&!this.segregateSamplesBy.length){H=this.layoutCurrent||0}else{if(this.layoutValid&&this.segregateSamplesBy.length){H=this.xAxis.length?this.tU(this.xAxis[0]):0}else{H=this.layoutValid?(this.layoutCurrent||0):this.xAxis.length?this.tU(this.xAxis[0]):0}}}this.meterIndex=H>=0?H:0;var Y=this.data.y.data[this.meterIndex];at=0;K=this.K1(Y,true)}else{if(w){var G=this.varIndices.length;for(var ak=0;ak<G;ak++){var S=this.varIndices[ak];var E=this.smpIndices.length;var N=0;at=0;for(var aj=0;aj<E;aj++){var C=this.smpIndices[aj];var O=this.data.y.data[S][C];if(!isNaN(O)){N+=O;at=Math.min(N,at);K=Math.max(N,K)}}}}else{if(aw=="fish"){if(J=="xAxis"){at=this.fishTimepoints[0]-((this.fishTimepoints[this.fishTimepoints.length-1]-this.fishTimepoints[0])/5);K=this.fishTimepoints[this.fishTimepoints.length-1]}else{at=0;K=100}}else{if(aw=="genome"){var S=this.data.tracks.length;for(var ak=0;ak<S;ak++){var C=this.data.tracks[ak].data.length;for(var aj=0;aj<C;aj++){if(this.data.tracks[ak].type=="box"){var au=this.data.tracks[ak].data[aj].data.length;for(var ai=0;ai<au;ai++){Y=this.data.tracks[ak].data[aj].data[ai];K=Math.max(K,Math.max(Y[0],Y[1]));at=Math.min(at,Math.min(Y[0],Y[1]))}}else{if(this.data.tracks[ak].type=="sequence"){Y=this.data.tracks[ak].data[aj].offset;K=Math.max(K,Y+this.data.tracks[ak].data[aj].sequence.length);at=Math.min(at,Y)}else{if(this.data.tracks[ak].type.match(/bar|heatmap/)){Y=this.data.tracks[ak].data[aj].offset;K=this.data.tracks[ak].autowidth?Math.max(K,Y+this.data.tracks[ak].data[aj].data.length):Math.max(K,Y);at=Math.min(at,Y)}else{if(this.data.tracks[ak].type=="dataframe"){var au=this.data.tracks[ak].data[0].data.length;for(var ai=0;ai<au;ai++){Y=this.data.tracks[ak].dataframe[this.data.tracks[ak].data[0].data[ai].xAxis];K=Math.max(K,Y[Y.length-1]);at=Math.min(at,Y[0])}}else{if(this.data.tracks[ak].type=="marker"){var au=this.data.tracks[ak].data[aj].data.length;for(var ai=0;ai<au;ai++){Y=this.data.tracks[ak].data[aj].data[ai];K=Math.max(K,Y[Y.length-1]);at=Math.min(at,Y[0])}}else{Y=this.data.tracks[ak].data[aj].offset;K=Math.max(K,Y);at=Math.min(at,Y)}}}}}}}}else{if(aw=="circular"){if(this.circularType=="chord"){this.circularChord=this.K6();at=0;K=this.circularChord.total}else{var ap=J&&this[J].length?this.tU(this[J]):this.tU();if(ap>=0){var ad=this.cp(this.data.y.data[ap]);at=ad[0];K=ad[1]}else{at=0;K=1}}}else{if(aw=="gantt"){if(!this.data.gantt){this.isGanttDataFormated=false;this.oV()}var ak=this.tU(this.ganttStart?this.ganttStart:this.xAxis[0]?this.xAxis[0]:this.data.y.vars[0]);this.ganttStart=this.data.y.vars[ak];var aj=this.tU(this.ganttEnd?this.ganttEnd:this.xAxis[1]?this.xAxis[1]:this.data.y.vars[1]?this.data.y.vars[1]:this.data.y.vars[0]);this.ganttEnd=this.data.y.vars[aj]||this.data.y.vars[0];var ar=this.aj(this.data.gantt);at=ar[ak].sort(function(d,c){return d-c})[0];K=ar[aj].sort(function(d,c){return c-d})[0]}else{if(aw=="km"&&!f){if(!this.layoutValid){this.Jl()}if(J=="y"){at=0;K=1}else{var ac=this.layoutValid&&this.meta.data.p.l.length?this.meta.data.p.l:this.meta.data.p.g;if(this.layoutValid&&this.meta.data.p.l.length){for(var ak=0;ak<ac.length;ak++){for(var aj=0;aj<ac[ak].length;aj++){at=Math.min(at,ac[ak][aj].data.time[0]);K=Math.max(K,ac[ak][aj].data.time[ac[ak][aj].data.time.length-1])}}}else{for(var ak=0;ak<ac.length;ak++){at=Math.min(at,ac[ak].data.time[0]);K=Math.max(K,ac[ak].data.time[ac[ak].data.time.length-1])}}}}else{if(aw=="qq"||aw=="cdf"){if(aw=="qq"){this.Fn()}else{this.bH()}var ac=this.layoutValid?this.meta.data.p.l:this.meta.data.p.g;if(this.layoutValid){for(var ak=0;ak<ac.length;ak++){for(var aj=0;aj<ac[ak].length;aj++){at=Math.min(at,ac[ak][aj].data[J][0]);K=Math.max(K,ac[ak][aj].data[J][ac[ak][aj].data[J].length-1])}}}else{for(var ak=0;ak<ac.length;ak++){at=Math.min(at,ac[ak].data[J][0]);K=Math.max(K,ac[ak].data[J][ac[ak].data[J].length-1])}}}else{if(aw=="density"&&t.density){var P=function(d){for(var c=1;c<W.data.l.name.length;c++){if(W.data.l.name[c]==d){return c-1}}return 0};if(J=="xAxis"){var ap=this.layoutCurrent||0;at=t.density[ap].histogram.breaks[0];K=t.density[ap].histogram.breaks[t.density[ap].histogram.breaks.length-1]}else{if(this.histogramAsDotplot&&J=="yAxis"){if(this.histogramStackDir!="down"){at=-0.5;K=0.5}else{at=0;K=1}}else{if(this.densityPosition.match(/filled|stacked/)){if(this.histogramStat=="count"){if(this.densityPosition=="filled"){K=t.global.maxY}else{if(this.densityPosition=="stacked"){K=t.global.maxY}}}else{if(this.densityPosition=="filled"){K=1}else{if(this.densityPosition=="stacked"){K=t.position.max}}}at=0}else{if(this.histogramType=="stacked"&&this.histogramStat=="count"){if(this.layoutValid&&this.data.l){for(var ak=0;ak<this.data.l.axes.length;ak++){var u=[];var h=0;for(var aj=0;aj<this.data.l.axes[ak].yAxis.length;aj++){var ap=P(this.data.l.axes[ak].yAxis[aj]);h+=t.density[ap].histogram.maxY}K=Math.max(K,h)}}else{K=t.global.maxY}at=0}else{if(this.histogramType=="stacked"){K=0}for(var ak=0;ak<this.smpIndices.length;ak++){if(this.histogramType=="stacked"){K+=t.density[this.smpIndices[ak]-1].globalMaxY}else{K=Math.max(K,t.density[this.smpIndices[ak]-1].globalMaxY)}}at=0}}}}}else{if(aw=="percentile"&&!f&&!ag){at=0;K=100}else{if((aw=="mean"||aw=="median"||aw=="sum"||aw=="max"||aw=="min"||aw=="count")&&!f){if(ag){if(this.dodgeBy){var aq=this.dodgeBy;this.dodgeBy=false;this.groupingFactors.push(aq);this.hW(this.groupingFactors,false,false,false,true);K=this.maxData;at=this.minData;this.groupingFactors.pop();this.hW(this.groupingFactors,false,false,false,true);this.dodgeBy=aq}else{K=0;at=0;ab=0;A=0;var o=this.isGroupedData?this.grpIndices:this.smpIndices;var ao=this.isTransformedData?t.trans:t[this.summaryType];var V=this.graphType=="Circular"&&this.showIdeogram;var F=V?[this.varIndices,o]:[o,this.varIndices];var y=F[0].length;for(var ak=0;ak<y;ak++){var S=F[0][ak];var e=0;var g=0;var z=F[1].length;for(var aj=0;aj<z;aj++){var C=this.isGroupedData?aj:F[1][aj];var O=V?ao[S][C]:ao[C][S];if(!isNaN(O)){A=Math.min(O,A);ab=Math.max(O,ab);if(O>0){e+=O}else{if(O<0){g+=O}}}}K=Math.max(e,K);at=Math.min(g,at)}}}else{var G=this.isDOE&&this.isDOE==1?this.data.y.vars.length:this.varIndices.length;for(var ak=0;ak<G;ak++){var S=this.varIndices[ak];if(S==undefined){continue}var Y;var ae;if(this.isTransformedData){Y=t.trans[S]||t.trans[ak];ae=t.tstdev?(t.tstdev[S]||t.tstdev[ak]):false}else{if(this.summaryType=="mean"){Y=t.mean[S]||t.mean[ak]}else{if(this.summaryType=="median"){Y=t.median[S]||t.median[ak]}else{if(this.summaryType=="sum"){Y=t.sum[S]||t.sum[ak]}else{if(this.summaryType=="max"){Y=t.max[S]||t.max[ak]}else{if(this.summaryType=="min"){Y=t.min[S]||t.min[ak]}else{if(this.summaryType=="count"){Y=t.count[S]||t.count[ak]}}}}}}ae=t.stdev?(t.stdev[S]||t.stdev[ak]):false}if(Y){var am=Y.length;for(var aj=0;aj<am;aj++){var Z;var O=Y[aj];if(ae){Z=ae[aj]/2}else{Z=Number.NaN}if(!isNaN(O)){if(!isNaN(Z)){if(Q){if(O>0){at=Math.min(O-Z,at);K=Math.max(O+Z,K)}}else{at=Math.min(O-Z,at);K=Math.max(O+Z,K)}}else{if(Q){if(O>0){at=Math.min(O,at);K=Math.max(O,K)}}else{at=Math.min(O,at);K=Math.max(O,K)}}}}}}}}else{if(this.summaryType=="mean"&&!this.isRawData){var S=this.isDOE&&this.isDOE==1?this.data.y.vars.length:this.varIndices.length;for(var ak=0;ak<S;ak++){if(this.varIndices[ak]==undefined){continue}var C=this.smpIndices.length;for(var aj=0;aj<C;aj++){var O=t.mean[this.varIndices[ak]][this.smpIndices[aj]];var al=t.stdev&&t.stdev[this.varIndices[ak]]&&t.stdev[this.varIndices[ak]][this.smpIndices[aj]]/2?t.stdev[this.varIndices[ak]][this.smpIndices[aj]]/2:0;if(!isNaN(O)){if(!isNaN(al)){at=Math.min(O-al,at);K=Math.max(O+al,K)}else{at=Math.min(O,at);K=Math.max(O,K)}}}}}else{if((aw=="iqr"&&!f&&this.grpIndices)||(this.summaryType=="iqr"&&!this.isRawData)){var G=this.isDOE&&this.isDOE==1?this.data.y.vars.length:this.varIndices.length;for(var ak=0;ak<G;ak++){var S=this.varIndices[ak];var M=this.grpIndices?this.grpIndices:this.smpIndices;var av=M.length;if(t.iqr1[S]){for(var aj=0;aj<av;aj++){var C=M[aj];var D=t.iqr1[S][C];var B=t.iqr3[S][C];var X=t.out[S][C];if(!isNaN(D)&&!isNaN(B)){if(Q){if(D>0&&B>0){at=Math.min(D,at);K=Math.max(B,K)}}else{at=Math.min(D,at);K=Math.max(B,K)}}if(X){var T=X.length;for(var ai=0;ai<T;ai++){if(!isNaN(X[ai])){if(Q){if(X[ai]>0){at=Math.min(X[ai],at);K=Math.max(X[ai],K)}}else{at=Math.min(X[ai],at);K=Math.max(X[ai],K)}}}}}}}}else{if(aw=="cor"){var o=this.correlationAxis=="variables"?this.varIndices:this.isGroupedData?this.grpIndices:this.smpIndices;var S=o.length;for(var ak=0;ak<S;ak++){var C=o.length;for(var aj=0;aj<C;aj++){var O=this.isTransformedData&&t.trans?t.trans[ak][aj]:t.cor[ak][aj];if(!isNaN(O)){if(Q){if(O>0){at=Math.min(O,at);K=Math.max(O,K)}}else{at=Math.min(O,at);K=Math.max(O,K)}}}}}else{if(r){var C=J=="xAxis"?0:1;if(this.graphType=="Scatter2D"){for(var ak=0;ak<r.y.data.length;ak++){var O=r.y.data[ak][C];if(!isNaN(O)){at=Math.min(O,at);K=Math.max(O,K)}}}else{for(var ak=0;ak<r.y.data[C].length;ak++){var O=r.y.data[C][ak];if(!isNaN(O)){at=Math.min(O,at);K=Math.max(O,K)}}}}else{var ao=this.isTransformedData&&t.trans?t.trans:t.data;var a=ah?ah.height:false;if(ao&&ao.length>0){if(ag){var V=this.graphType=="Circular"&&this.showIdeogram;var F=V?[this.varIndices,this.smpIndices]:[this.smpIndices,this.varIndices];var y=F[0].length;K=0;at=0;ab=0;A=0;for(var ak=0;ak<y;ak++){var e=0;var g=0;var z=F[1].length;for(var aj=0;aj<z;aj++){var O=V?ao[F[0][ak]][F[1][aj]]:ao[F[1][aj]][F[0][ak]];if(!isNaN(O)){A=Math.min(O,A);ab=Math.max(O,ab);if(O>0){e+=O}else{if(O<0){g+=O}}}}K=Math.max(e,K);at=Math.min(g,at)}}else{var S=this.motionBy||(this.isDOE&&this.isDOE==1)?this.data.y.vars.length:this.varIndices.length;for(var ak=0;ak<S;ak++){if(this.varIndices[ak]==undefined){continue}var C=this.smpIndices.length;for(var aj=0;aj<C;aj++){var L=this.motionBy?ak:this.varIndices[ak];if(ao[L]){var O=a?a-ao[L][this.smpIndices[aj]]:ao[L][this.smpIndices[aj]];if(!isNaN(O)){if(Q){if(O>0){at=Math.min(O,at);K=Math.max(O,K)}}else{at=Math.min(O,at);K=Math.max(O,K)}}}}}if(this[J+"Transform"]=="sqrt"){at=Math.sqrt(at);K=Math.sqrt(K)}}}}}}}}}}}}}}}}}}}if(this.graphType=="Boxplot"&&this.showViolinBoxplot&&!this.violinTrim){var x=this.meta.data.d;if(this.isGroupedData){x=x.g;var S=x.length;for(var ak=0;ak<S;ak++){var C=x[ak].length;for(var aj=0;aj<C;aj++){var an=x[ak][aj].density.xy;if(an.length){if(!isNaN(an[0][0])){at=Math.min(at,an[0][0])}if(!isNaN(an[an.length-1][0])){K=Math.max(K,an[an.length-1][0])}}}}if(aw.match(/log/)){if(at<=0){at=Math.max(Number.MIN_VALUE,at)}if(K<=0){K=Math.max(Number.MIN_VALUE,K)}}}else{x=x.v;var S=x.length;for(var ak=0;ak<S;ak++){var an=x[ak].density.xy;if(an.length){if(!isNaN(an[0][0])){at=Math.min(at,an[0][0])}if(!isNaN(an[an.length-1][0])){K=Math.max(K,an[an.length-1][0])}}}}}else{if(this.graphType=="Scatter2D"&&this.scatterType=="visium"){var R=CanvasXpress.cacheImages[this.backgroundImageMD5||this.KU(this.backgroundImage)];at=0;K=J.match(/y/i)?R.height:R.width}else{if(this.graphType=="Scatter2D"&&this.ribbonBy){var ao=this.isTransformedData&&t.trans?t.trans:t.data;var x=this.meta.data;if(this.tO(this.ribbonBy)){if(this.tO(this.ribbonBy[0])&&this.tO(this.ribbonBy[1])&&J=="yAxis"){for(var ak=0;ak<this.ribbonBy[0].length;ak++){var q=this.ribbonBy[0][ak];var b=this.ribbonBy[1][ak];if(!isNaN(q)){at=Math.min(q,at)}if(!isNaN(b)){K=Math.max(b,K)}}}else{if(x.z&&x.z.hasOwnProperty(this.ribbonBy[0])&&x.z[this.ribbonBy[0]].type=="Numeric"&&x.z.hasOwnProperty(this.ribbonBy[1])&&x.z[this.ribbonBy[1]].type=="Numeric"){for(var ak=0;ak<this.varIndices.length;ak++){var b=this.data.z[this.ribbonBy[0]][this.varIndices[ak]];var q=this.data.z[this.ribbonBy[1]][this.varIndices[ak]];if(!isNaN(b)){at=Math.min(b,at);K=Math.max(b,K)}if(!isNaN(q)){at=Math.min(q,at);K=Math.max(q,K)}}}else{var U=this.yV(this.ribbonBy);if(this.tO(U)&&J=="yAxis"){for(var ak=0;ak<this.varIndices.length;ak++){for(var aj=0;aj<this.smpIndices.length;aj++){var b=ao[this.varIndices[ak]][U[0]];var q=ao[this.varIndices[ak]][U[1]];if(!isNaN(b)){at=Math.min(b,at);K=Math.max(b,K)}if(!isNaN(q)){at=Math.min(q,at);K=Math.max(q,K)}}}}}}}else{if(x.z&&x.z.hasOwnProperty(this.ribbonBy)&&x.z[this.ribbonBy].type=="Numeric"){for(var ak=0;ak<this.varIndices.length;ak++){var Z=this.data.z[this.ribbonBy][this.varIndices[ak]];for(var aj=0;aj<this.smpIndices.length;aj++){var O=ao[this.varIndices[ak]][this.smpIndices[aj]];if(!isNaN(O)&&!isNaN(Z)){at=Math.min(O-Z,at);K=Math.max(O+Z,K)}}}}else{for(var ak=0;ak<this.varIndices.length;ak++){for(var aj=0;aj<this.smpIndices.length;aj++){var O=ao[this.varIndices[ak]][this.smpIndices[aj]];var Z=ao[this.varIndices[ak]][U];if(!isNaN(O)&&!isNaN(Z)){at=Math.min(O-Z,at);K=Math.max(O+Z,K)}}}}}}else{if(this.showHistogram||this.isDOE){var aa=this.yc();if(aa){if(this.isDOE){if(this.isDOE&&this.layoutCurrent&&this.data.l.data&&this.data.l.data[this.layoutCurrent]&&this.data.l.params&&!this.data.l.params[this.layoutCurrent].showHistogram){}else{if(J=="xAxis"){at=aa.histogram?aa.histogram.breaks[0]:aa.density.histogram.breaks[0];K=aa.histogram?aa.histogram.breaks[aa.histogram.breaks.length-1]:aa.density.histogram.breaks[aa.density.histogram.breaks.length-1]}else{if(J=="yAxis"){switch(this.densityPosition){case"filled":at=0;K=aa.density?aa.density.histogram.maxY:aa.histogram.maxY;break;case"stacked":at=0;K=aa.density?aa.density.histogram.maxY:aa.histogram.maxY;break;default:at=0;K=this.histogramType=="stacked"&&aa.density?aa.density.histogram.maxY:this.histogramType=="stacked"?aa.histogram.maxY:this.layoutCurrent?aa.histogram.maxY:this.K1(aa.summary.cols);break}}}}}else{if(J=="xAxis"){at=aa.density.minData;K=aa.density.maxData}else{if(J=="yAxis"){if(this.histogramStat=="count"){switch(this.densityPosition){case"filled":at=0;K=this.layoutValid?aa.summary.globalMaxCount:aa.density.histogram.maxY;break;case"stacked":at=0;K=this.layoutValid?aa.summary.globalMaxCount:aa.density.histogram.maxY;break;default:at=0;K=this.layoutValid&&this.histogramType=="stacked"?aa.summary.globalMaxCount:this.histogramType=="stacked"?aa.density.histogram.maxY:this.K1(aa.summary.cols);break}}else{if(this.histogramStat=="density"){switch(this.densityPosition){case"filled":at=0;K=1;break;case"stacked":at=0;K=aa.summary.position.max;break;default:at=0;K=aa.summary.globalMaxY;break}}}}}}}}else{if(this.graphType=="Scatter2D"&&this.colorBy&&this.scatterType=="area"&&J=="yAxis"){this.WR();if(this.meta.data.s){var aa=this.layoutValid?this.meta.data.s.layout[this.layoutCurrent||0]:this.meta.data.s;at=0;K=aa.maxY}}else{if(this.graphType=="Scatter2D"&&(this.colorBy||this.yAxis.length>1)&&!this.dataPointSizeScaleFactor&&this.scatterType=="stream"){if(J=="xAxis"){var I=(K-at)*this.scatterStreamExtraSpan;at-=I;K+=I}else{if(J=="yAxis"){this.Fc();if(this.meta.data.s){var aa=this.layoutValid?this.meta.data.s.layout[this.layoutCurrent||0]:this.meta.data.s;switch(this.scatterStreamType){case"mirror":at=-aa.maxY;K=aa.maxY;break;case"ridge":at=0;K=aa.maxY*2;break;case"proportional":at=0;K=1;break}}}}}else{if(this.graphType=="Scatter2D"&&J=="yAxis"&&(this.showLoessFit||this.showRegressionFit||this.showQuantileRegressionFit)){if(this.showLoessFit){this.b8()}if(this.showRegressionFit){this.hE()}if(this.showQuantileRegressionFit){this.HS()}if(this.meta.data.s){var af=this.meta.data.s;if(af.minY!=null&&af.minY<Number.POSITIVE_INFINITY&&af.maxY!=null&&af.maxY>Number.NEGATIVE_INFINITY){if(this.dataPointSizeScaleFactor){at=Math.min(at,af.minY);K=Math.max(K,af.maxY)}else{at=af.minY;K=af.maxY}}}}}}}}}}if(this.decorations){if(this.decorations.error){for(var ak=0;ak<this.decorations.error.length;ak++){if(this.graphType=="Scatter2D"){}else{at=Math.min(at,this.decorations.error[ak].min);K=Math.max(K,this.decorations.error[ak].max)}}}if(this.decorations.marker){for(var ak=0;ak<this.decorations.marker.length;ak++){if(this.decorations.marker[ak].type=="pwc"){K=Math.max(K,this.decorations.marker[ak].ymax)}}}if(this.decorations.text){for(var ak=0;ak<this.decorations.text.length;ak++){if(this.decorations.text[ak].value!=null){at=Math.min(at,this.decorations.text[ak].value);K=Math.max(K,this.decorations.text[ak].value)}}}}this.minData=this.setMin!=null?this.setMin:at==Number.POSITIVE_INFINITY||at==Number.NEGATIVE_INFINITY?0:at;this.maxData=this.setMax!=null?this.setMax:K==Number.NEGATIVE_INFINITY||K==Number.POSITIVE_INFINITY?1:K;if(ag&&aw!="percentile"){this.minDataStacked=A;this.maxDataStacked=ab}};this.ba=function(a){var c=false;if(this.scatterPlotMatrix&&a!=null){var b=this.meta.data.s&&this.meta.data.s.density?this.meta.data.s.density:false;if(b&&b.layout&&b.Global&&b.Global.Samples&&b.Global.sets&&this.layoutValidN!=null&&b.Global.sets[b.layout[this.layoutValidN][a]]){c=b.Global.Samples[b.Global.sets[b.layout[this.layoutValidN][a]].name.split(":")[1]].summary}}else{c=this.meta.data.s&&this.meta.data.s.density&&this.meta.data.s.density.Global&&this.meta.data.s.density.Global.summary?this.meta.data.s.density.Global.summary:false}if(c){return{data:c.histogram,vars:c.vars,smps:this.TU(c.smps).splice(1,c.smps.length-1)}}else{return false}};this.Tw=function(k,p,s,q){this.filterFitIndices=[];for(var h=0;h<this.varIndices.length;h++){this.filterFitIndices.push(false)}var f=k!=null?(this.layoutParams?this.layoutParams[k].setMinX:null):this.setMinX;var b=k!=null?(this.layoutParams?this.layoutParams[k].setMaxX:null):this.setMaxX;var e=k!=null?(this.layoutParams?this.layoutParams[k].setMinY:null):this.setMinY;var a=k!=null?(this.layoutParams?this.layoutParams[k].setMaxY:null):this.setMaxY;var o=this.Ep(this.scatterPlotMatrix?p:this.xAxisIndices[p],"x",q);var l=this.Ep(this.scatterPlotMatrix?s:this.yAxisIndices[s],"y",q);for(var h=0;h<o.length;h++){var r=this.varIndices[h];var d=o[h];var c=l[h];if(d==null||c==null||isNaN(d)||isNaN(c)){if(q){this.filterFitIndices[q[h]]=true}else{this.filterFitIndices[r]=true}}else{if((f===null||(d>=f&&d<=b))&&(e===null||(c>=e&&c<=a))){}else{if(q){this.filterFitIndices[q[h]]=true}else{this.filterFitIndices[r]=true}}}}for(var h=0;h<o.length;h++){if(o[h]==null||l[h]==null||isNaN(o[h])||isNaN(l[h])){o.splice(h,1);l.splice(h,1);h--}}if(this.skipFilterFit&&(f===null||f<=b)&&(e===null||e<=a)){return[o,l]}this.skipFilterFit=false;var j=[];var g=[];for(let h=0;h<o.length;h++){var d=o[h];var c=l[h];if((f===null||(d>=f&&d<=b))&&(e===null||(c>=e&&c<=a))){j.push(d);g.push(c)}}return[j,g]};this.yc=function(){var I=this;var K=[];var S=function(aw,an,aq){var aa=[];var aj=[];var q=aw.sets||[aw];var ah=0;if(!I.isDOE){for(var av=0;av<q.length;av++){aa=aa.concat(q[av].data);aj=I.histogramAsDotplot?aj.concat([av]):aj.concat(q[av].idxs);ah=Math.max(ah,q[av].globalMaxY)}}var ad=!I.isDOE?I.yu(aa,an,aj):aw;var ab={globalMaxY:ah,vars:[],smps:[],data:[],histogram:[],values:[],cols:[],position:{factor:1,max:0,tot:[]},stacked:[],filled:[]};var ao=ad.histogram.count.length;var am=ad.histogram.breaks;var aB=ad.histogram.fbreaks;var ap=am[0];for(var av=0;av<ao;av++){ab.vars.push("Bin"+(av+1)+" ("+ad.histogram.breaks[av]+" - "+ad.histogram.breaks[av+1]+")");ab.data[av]=[];ab.data[av][0]=am[av+1]-ap;ab.histogram[av]=[];ab.values[av]=[];for(var au=0;au<q.length;au++){ab.histogram[av][au]=[];ab.values[av][au]=[]}}ab.smps.push("Bin");for(var av=0;av<q.length;av++){var az=0;ab.smps.push(q[av].name);var ac=[];for(var au=0;au<ao;au++){ac[au]=0}for(var au=0;au<q[av].data.length;au++){var af=q[av].data[au];var ay=q[av].idxs[au];if(typeof !isNaN(parseFloat(af))&&isFinite(af)){var al=I.KI(af,aB);ac[al]++;if(ab.histogram[al]&&ab.histogram[al][av]){ab.histogram[al][av].push(ay);ab.values[al][av].push(af)}}}for(var au=0;au<ao;au++){ab.data[au][av+1]=ac[au];az=Math.max(az,ac[au])}ab.cols.push(az)}for(var av=0;av<ad.xy.length;av++){ab.position.tot[av]=0}var at=[];var ar=0;for(var av=0;av<q.length;av++){var ai=q[av];var aA=I.qI(ai.xy,ad.xy);var ak=[];var ae=[];for(var au=0;au<ad.xy.length;au++){ak[au]=[ad.xy[au][0],ab.position.tot[au]];ab.position.tot[au]+=aA[au][1];ae[au]=[ad.xy[au][0],ab.position.tot[au]]}ab.stacked[av]=ae.concat(ak.reverse());at.push(aA);for(var au=0;au<ab.position.tot.length;au++){ar=Math.max(ar,ab.position.tot[au])}ab.position.max=ar;ab.position.factor=ad.histogram.maxY/ar}var ax=[];for(var av=0;av<ad.xy.length;av++){ax[av]=0}for(var av=0;av<q.length;av++){var ai=q[av];var aA=at.shift();var ak=[];var ae=[];for(var au=0;au<ad.xy.length;au++){ak[au]=[ad.xy[au][0],ax[au]];ax[au]+=(ab.position.tot[au]>0?aA[au][1]/ab.position.tot[au]:0);ae[au]=[ad.xy[au][0],ax[au]]}ab.filled[av]=ae.concat(ak.reverse())}if(aq!=null){var az=0;for(var av=0;av<aq.length;av++){var ag=0;for(var au=0;au<aq[av].length;au++){ag+=ab.cols[aq[av][au]]}az=Math.max(az,ag)}ab.globalMaxCount=az}if(!I.isDOE){aw.density=ad}aw.summary=ab};var b=function(){var j=I.meta.data.s.density;if(I.isDOE&&j.DOE){if(I.layoutCurrent){return j.DOE[I.data.l.smps[I.layoutCurrent]]}else{return j.Global}}else{if(I.scatterPlotMatrix){return I.layoutCurrent!==false&&j.layout[I.layoutCurrent].length?j.Global.Samples[j.Global.sets[j.layout[I.layoutCurrent][0]].name.split(":")[1]]:false}else{if(j.Global){return j.Global}}}};var s=function(k,j){return k.filter(function(l){return j.includes(l)})};var C=function(){var l=[];var j=[];var aa=[];var q=[];var ab=I.meta.data.s.density.layout;if(I.segregateVariablesBy.length){if(I.meta.data.z&&I.meta.data.z.hasOwnProperty(I.segregateVariablesBy[0])){l=I.meta.data.z[I.segregateVariablesBy[0]].levels}if(I.segregateVariablesBy.length>1&&I.meta.data.z&&I.meta.data.z.hasOwnProperty(I.segregateVariablesBy[1])){j=I.meta.data.z[I.segregateVariablesBy[1]].levels}}if(I.segregateSamplesBy.length){if(I.meta.data.z&&I.meta.data.z.hasOwnProperty(I.segregateSamplesBy[0])){aa=I.meta.data.z[I.segregateSamplesBy[0]].levels}else{if(I.segregateSamplesBy[0]=="sample"){aa=I.data.y.smps}}if(I.segregateSamplesBy.length>1&&I.meta.data.z&&I.meta.data.z.hasOwnProperty(I.segregateSamplesBy[1])){q=I.meta.data.z[I.segregateSamplesBy[1]].levels}}var k=(l.length||1)*(j.length||1)*(aa.length||1)*(q.length||1);if(ab.length&&ab.length==k){return true}else{return false}};var A=function(ag,ae){var ac=[];var ab=ae||I.segregateVariablesBy[ag];var aj=I.meta.data.z[ab].levels;var ap=I.data;if(!Z.hasOwnProperty("Factor")){Z.Factor={}}var ai=0;for(var am=0;am<aj.length;am++){Z.layout[am]=[];var ah=I.meta.data.z[ab].levels[am];Z.Factor[ah]={};var ad=[];for(var al=0;al<I.varIndices.length;al++){var an=I.varIndices[al];if(String(ap.z[ab][an])==ah){ad.push(an)}}ac.push(I.TU(ad));var q=[];for(var al=0;al<I.smpIndices.length;al++){var an=I.smpIndices[al];var l=[];var ao=[];var aq=ah+":"+ap.y.smps[an];for(var ak=0;ak<ad.length;ak++){var aa=ad[ak];var af=ap.y.data[aa][an];if(typeof !isNaN(parseFloat(af))&&isFinite(af)){l.push(af);ao.push(aa)}}Z.Factor[ah][ap.y.smps[an]]=I.yu(l,"Factor:"+aq,ao);q.push(Z.Factor[ah][ap.y.smps[an]]);Z.layout[am].push(ai++)}K=K.concat(q)}return ac};if(!this.meta.data.s){this.meta.data.s={}}if(!this.meta.data.s.density){this.meta.data.s.density={}}if(!this.meta.data.s.density.layout){this.meta.data.s.density.layout=[]}if(this.isDOE&&this.meta.data.s.density.hasOwnProperty("DOE")){return b()}else{if(this.meta.data.s.ready&&!this.isDOE){var Q=this.segregateSamplesBy.length+this.segregateVariablesBy.length;if(Q&&!C()){this.meta.data.s={};this.meta.data.s.density={};this.meta.data.s.density.layout=[]}else{return b()}}}if(this.isDOE){if(this.meta.config.user.graphType==this.graphType||this.meta.config.user.graphType==this.meta.data.s.graphType||this.meta.config.user.graphType=="Heatmap"){var X=this.data;var y=this.meta.data.s.graphType||this.meta.config.user.graphType||this.graphType;var Z=this.meta.data.s.density;var d=y.match(/Scatter|Map/)?X.z:X.x;var a=y.match(/Scatter|Map/)?this.hr("z","Numeric"):this.hr("x","Numeric");var c=this.data.l.doe;var o=false;if(!Z.hasOwnProperty("DOE")){Z.DOE={}}if(a&&a.length){for(var T=0;T<a.length;T++){var H=a[T];var t=[];var B=[];for(var R=0;R<c.length;R++){var J=d[H][c[R]];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(c[R])}}Z.DOE[H]=this.yu(t,"DOE:"+H,B);S(Z.DOE[H],"Global-"+H)}}var N=Object.keys(Z.DOE).length;while(N<this.maxDOENumber+1&&!o){if(y.match(/Scatter|^Map/)){for(var T=0;T<X.y.smps.length;T++){var H=X.y.smps[T];var t=[];var B=[];for(var R=0;R<this.varIndices.length;R++){var J=X.y.data[this.varIndices[R]][T];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(this.varIndices[R])}}Z.DOE[H]=this.yu(t,"DOE:"+H,B);S(Z.DOE[H],"Global-"+H);N++;if(N>this.maxDOENumber){break}}}else{for(var T=0;T<X.y.vars.length;T++){var H=X.y.vars[T];var t=[];var B=[];for(var R=0;R<this.smpIndices.length;R++){var J=X.y.data[T][this.smpIndices[R]];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(this.smpIndices[R])}}Z.DOE[H]=this.yu(t,"DOE:"+H,B);S(Z.DOE[H],"Global-"+H);N++;if(N>this.maxDOENumber){break}}}o=true}}}else{if(this.graphType.match(/Scatter|Map/)){if(this.segregateVariablesBy.length&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.segregateVariablesBy[0])){var Z=I.meta.data.s.density;var V=A(0);if(this.segregateVariablesBy.length==2||(this.showHistogram!=true&&this.showHistogram!=this.segregateVariablesBy[0])){var e=this.segregateVariablesBy.length==2?this.segregateVariablesBy[1]:this.showHistogram;var U=this.segregateVariablesBy.length==2?A(1):A(false,e);K=[];var h=this.meta.data.z[this.segregateVariablesBy[0]].levels;var f=this.meta.data.z[e].levels;var X=this.data;var N=0;for(var T=0;T<h.length;T++){for(var R=0;R<f.length;R++){Z.layout[N]=[];var G=this.meta.data.z[this.segregateVariablesBy[0]].levels[T];var E=this.meta.data.z[e].levels[R];var r=G+":"+E;Z.Factor[r]={};var z=s(V[T],U[R]);var M=[];for(var P=0;P<this.smpIndices.length;P++){var Y=this.smpIndices[P];var t=[];var B=[];var w=r+":"+X.y.smps[Y];for(var O=0;O<z.length;O++){var D=z[O];var J=X.y.data[D][Y];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(D)}}Z.Factor[r][X.y.smps[Y]]=this.yu(t,"Factor:"+w,B);M.push(Z.Factor[r][X.y.smps[Y]]);if(this.segregateVariablesBy.length==2){Z.layout[N].push(N++)}else{Z.layout[T].push(N++)}}K=K.concat(M)}}}}else{if((this.segregateSamplesBy.length&&this.segregateSamplesBy[0]=="sample")||(this.scatterPlotMatrix&&this.scatterPlotMatrix!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.scatterPlotMatrix))){var u=this.scatterPlotMatrix?this.scatterPlotMatrix:this.showHistogram;var Z=this.meta.data.s.density;var W=u!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(u)?this.meta.data.z[u].levels:false;var X=this.data;var N=0;if(this.scatterPlotMatrix){var L=this.scatterPlotMatrixType=="all"?this.smpIndices.length+1:this.smpIndices.length;for(var T=0;T<L;T++){for(var R=0;R<L;R++){Z.layout[N++]=[]}}N=0}if(!Z.hasOwnProperty("Samples")){Z.Samples={}}if(W){for(var T=0;T<this.smpIndices.length;T++){if(!this.scatterPlotMatrix){if(!Z.layout[T]){Z.layout[T]=[]}}var F=this.smpIndices[T];Z.Samples[X.y.smps[F]]={};var x=[];for(var R=0;R<W.length;R++){var r=this.meta.data.z[u].levels[R];var z=[];for(var P=0;P<this.varIndices.length;P++){var Y=this.varIndices[P];if(String(X.z[u][Y])==r){z.push(Y)}}var t=[];var B=[];var w=X.y.smps[F]+":"+r;for(var P=0;P<z.length;P++){var Y=z[P];var J=X.y.data[Y][F];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(Y)}}Z.Samples[X.y.smps[F]][r]=this.yu(t,"Samples:"+w,B);x.push(Z.Samples[X.y.smps[F]][r]);if(this.scatterPlotMatrix){Z.layout[(T*this.smpIndices.length)+(T%this.smpIndices.length)+(this.scatterPlotMatrixType=="all"?T:0)].push(N++)}else{Z.layout[T].push(N++)}}K=K.concat(x)}if(this.scatterPlotMatrixType=="all"){var F=this.smpIndices.length*(this.smpIndices.length+1);var N=0;for(var T=0;T<this.smpIndices.length;T++){for(var R=0;R<W.length;R++){Z.layout[F].push(N++)}F++}}}else{for(var T=0;T<this.smpIndices.length;T++){Z.layout[T]=[];var F=this.smpIndices[T];var t=[];var B=[];for(var R=0;R<this.varIndices.length;++R){var p=this.varIndices[R];var J=X.y.data[p][F];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(p)}}Z.Samples[X.y.smps[F]]=this.yu(t,"Samples:"+X.y.smps[F],B);Z.layout[T].push(N++);K=K.concat([Z.Samples[X.y.smps[F]]])}}}else{if((this.showHistogram&&this.showHistogram!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.showHistogram))||(this.ridgeBy&&this.ridgeBy&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.ridgeBy))){var u=this.ridgeBy?this.ridgeBy:this.showHistogram;var Z=this.meta.data.s.density;var W=this.meta.data.z[u].levels;var X=this.data;var N=0;if(!Z.hasOwnProperty("Factor")){Z.Factor={}}for(var T=0;T<W.length;T++){var r=this.meta.data.z[u].levels[T];Z.Factor[r]={};var z=[];for(var R=0;R<this.varIndices.length;R++){var p=this.varIndices[R];if(String(X.z[u][p])==r){z.push(p)}}for(var R=0;R<this.smpIndices.length;R++){var p=this.smpIndices[R];var t=[];var B=[];var w=r+":"+X.y.smps[p];for(var P=0;P<z.length;P++){var Y=z[P];var J=X.y.data[Y][p];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(Y)}}Z.Factor[r][X.y.smps[p]]=this.yu(t,"Factor:"+w,B);K.push(Z.Factor[r][X.y.smps[p]])}}}else{if(!this.meta.data.s.density.hasOwnProperty("Variables")){var Z=this.meta.data.s.density;var X=this.data;if(!Z.hasOwnProperty("Samples")){Z.Samples={}}for(var T=0;T<this.smpIndices.length;T++){var F=this.smpIndices[T];var t=[];var B=[];for(var R=0;R<this.varIndices.length;R++){var p=this.varIndices[R];var J=X.y.data[p][F];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(p)}}Z.Samples[X.y.smps[F]]=this.yu(t,"Samples:"+X.y.smps[F],B);K.push(Z.Samples[X.y.smps[F]])}}}}}}else{var Z=this.meta.data.s.density;var W=this.stackBy&&this.meta.data.x.hasOwnProperty(this.stackBy)?this.meta.data.x[this.stackBy].levels:false;var X=this.data;if(!Z.hasOwnProperty("Variables")){Z.Variables={}}if(W){var x=[];for(var T=0;T<this.varIndices.length;T++){var F=this.varIndices[T];Z.Variables[X.y.vars[F]]={};for(var R=0;R<W.length;R++){var r=this.meta.data.x[this.stackBy].levels[R];var g=[];for(var P=0;P<this.smpIndices.length;P++){var Y=this.smpIndices[P];if(String(X.x[this.stackBy][Y])==r){g.push(Y)}}var t=[];var B=[];var w=X.y.vars[F]+":"+r;for(var P=0;P<g.length;P++){var Y=g[P];var J=X.y.data[F][Y];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(Y)}}Z.Variables[X.y.vars[F]][r]=this.yu(t,"Variables:"+w,B);x.push(Z.Variables[X.y.vars[F]][r])}K=K.concat(x)}}else{for(var T=0;T<this.varIndices.length;T++){var F=this.varIndices[T];var t=[];var B=[];for(var R=0;R<this.smpIndices.length;R++){var p=this.smpIndices[R];var J=X.y.data[F][p];if(typeof !isNaN(parseFloat(J))&&isFinite(J)){t.push(J);B.push(p)}}Z.Variables[X.y.vars[F]]=this.yu(t,"Variables:"+X.y.vars[F],B);K.push(Z.Variables[X.y.vars[F]])}}}}if(K.length){if(!Z.hasOwnProperty("Global")){Z.Global={sets:K};S(Z.Global,"Global",Z.layout)}if(Z.Samples&&this.scatterPlotMatrix){Z.Global.Samples={};for(var T in Z.Samples){Z.Global.Samples[T]={sets:[]};for(var R in Z.Samples[T]){Z.Global.Samples[T].sets.push(Z.Samples[T][R])}S(Z.Global.Samples[T],"Global-"+T)}}}this.meta.data.s.ready=true;this.meta.data.s.graphType=this.meta.data.s.graphType||this.graphType;return b()};this.b8=function(a,g){var f=this.meta.console;if(!a){if(!this.meta.data.s){this.meta.data.s={loess:{},layout:[]}}else{if(this.meta.data.s&&!this.meta.data.s.hasOwnProperty("loess")){this.meta.data.s.loess={}}}if(this.layoutValid&&this.meta.data.s.layout.length!=this.data.l.comp.length){for(var e=0;e<this.data.l.comp.length;e++){this.meta.data.s.layout[e]={loess:{}};this.b8(true,e)}}else{this.b8(true)}}else{var b=g!=null?this.meta.data.s.layout[g]:this.meta.data.s;var h=this.showLoessFit!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.showLoessFit)?this.meta.data.z[this.showLoessFit].levels:false;var p=this.axesType=="XYZ"?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length);b.minY=Number.POSITIVE_INFINITY;b.maxY=Number.NEGATIVE_INFINITY;for(var e=0;e<p;e++){var k=this.axesType=="Y"||this.axesType=="XYZ"?0:e;var r=this.axesType=="X"||this.axesType=="XYZ"?0:e;var o=this.xAxisIndices[k]+":"+this.yAxisIndices[r];if(h){for(var d=0;d<h.length;d++){var l=this.iW(this.showLoessFit,h[d],g!=null?this.data.l.comp[g]:false);var q=this.Tw(g,k,r,l);if(q[0].length>5){try{b.loess[o+":"+h[d]]=this.P0([q[0],q[1]],"Loess:"+o+":"+h[d]+(g!=null?":"+g:""));b.minY=Math.min(b.minY,b.loess[o+":"+h[d]].range[2]);b.maxY=Math.max(b.maxY,b.loess[o+":"+h[d]].range[3])}catch(c){f.push(["setLoessData",q[0].length,o+":"+h[d],c])}}}}else{var l=g!=null?this.data.l.comp[g]:false;var q=this.Tw(g,k,r,l);if(q[0].length>5){try{b.loess[o]=this.P0([q[0],q[1]],"Global:"+o+(g!=null?":"+g:""));b.minY=Math.min(b.minY,b.loess[o].range[2]);b.maxY=Math.max(b.maxY,b.loess[o].range[3])}catch(c){f.push(["setLoessData",q[0].length,o,c])}}}}}};this.hE=function(a,g){var f=this.meta.console;if(!a){if(!this.meta.data.s){this.meta.data.s={regression:{},layout:[]}}else{if(this.meta.data.s&&!this.meta.data.s.hasOwnProperty("regression")){this.meta.data.s.regression={}}}if(this.layoutValid&&this.meta.data.s.layout&&this.data.l&&this.data.l.comp&&this.meta.data.s.layout.length!=this.data.l.comp.length){for(var e=0;e<this.data.l.comp.length;e++){this.meta.data.s.layout[e]={regression:{}};this.hE(true,e)}}else{this.hE(true)}}else{var b=g!=null?this.meta.data.s.layout[g]:this.meta.data.s;var h=this.showRegressionFit!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.showRegressionFit)?this.meta.data.z[this.showRegressionFit].levels:false;var q=this.scatterPlotMatrix?this.data.y.smps.length:this.axesType=="XYZ"?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length);b.minY=Number.POSITIVE_INFINITY;b.maxY=Number.NEGATIVE_INFINITY;if(this.scatterPlotMatrix){for(var e=0;e<q;e++){for(var d=0;d<q;d++){if(e==d){continue}var p=e+":"+d;if(h){for(var c=0;c<h.length;c++){var o=this.iW(this.showRegressionFit,h[c],this.data.l.comp[e]);var s=this.Tw(g,e,d,o);if(s[0].length>3){b.regression[p+":"+h[c]]=this.kD(s[0],s[1],"Regression:"+p+":"+h[c]);b.minY=Math.min(b.minY,b.regression[p+":"+h[c]][4][2]);b.maxY=Math.max(b.maxY,b.regression[p+":"+h[c]][4][3])}else{f.push(["setRegressionData",s[0].length,p+":"+h[c],"Less than 3 values"])}}}else{var o=g!=null?this.data.l.comp[g]:false;var s=this.Tw(g,e,d,o);if(s[0].length>3){b.regression[p]=this.kD(s[0],s[1],"Global:"+p+(g!=null?":"+g:""));b.minY=Math.min(b.minY,b.regression[p][4][2]);b.maxY=Math.max(b.maxY,b.regression[p][4][3])}else{f.push(["setRegressionData",s[0].length,p,"Less than 3 values"])}}}}}else{for(var e=0;e<q;e++){var l=this.axesType=="Y"||this.axesType=="XYZ"?0:e;var r=this.axesType=="X"||this.axesType=="XYZ"?0:e;var p=this.xAxisIndices[l]+":"+this.yAxisIndices[r];if(h){for(var d=0;d<h.length;d++){var o=this.iW(this.showRegressionFit,h[d],g!=null?this.data.l.comp[g]:false);var s=this.Tw(g,l,r,o);if(s[0].length>3){b.regression[p+":"+h[d]]=this.kD(s[0],s[1],"Regression:"+p+":"+h[d]+(g!=null?":"+g:""));b.minY=Math.min(b.minY,b.regression[p+":"+h[d]][4][2]);b.maxY=Math.max(b.maxY,b.regression[p+":"+h[d]][4][3])}else{f.push(["setRegressionData",s[0].length,p+":"+h[d],"Less than 3 values"])}}}else{var o=g!=null?this.data.l.comp[g]:false;var s=this.Tw(g,l,r,o);if(s[0].length>=3){b.regression[p]=this.kD(s[0],s[1],"Global:"+p+(g!=null?":"+g:""));b.minY=Math.min(b.minY,b.regression[p][4][2]);b.maxY=Math.max(b.maxY,b.regression[p][4][3])}else{f.push(["setRegressionData",s[0].length,p,"Less than 3 values"])}}}}}};this.HS=function(a,g){var f=this.meta.console;if(!a){if(!this.meta.data.s){this.meta.data.s={quantileRegression:{},layout:[]}}else{if(this.meta.data.s&&!this.meta.data.s.hasOwnProperty("quantileRegression")){this.meta.data.s.quantileRegression={}}}if(this.layoutValid&&this.meta.data.s.layout.length!=this.data.l.comp.length){for(var e=0;e<this.data.l.comp.length;e++){this.meta.data.s.layout[e]={quantileRegression:{}};this.HS(true,e)}}else{this.HS(true)}}else{var b=g!=null?this.meta.data.s.layout[g]:this.meta.data.s;var h=this.showQuantileRegressionFit!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.showQuantileRegressionFit)?this.meta.data.z[this.showQuantileRegressionFit].levels:false;var p=this.axesType=="XYZ"?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length);b.minY=Number.POSITIVE_INFINITY;b.maxY=Number.NEGATIVE_INFINITY;for(var e=0;e<p;e++){var k=this.axesType=="Y"||this.axesType=="XYZ"?0:e;var r=this.axesType=="X"||this.axesType=="XYZ"?0:e;var o=this.xAxisIndices[k]+":"+this.yAxisIndices[r];if(h){for(var d=0;d<h.length;d++){var l=this.iW(this.showQuantileRegressionFit,h[d],g!=null?this.data.l.comp[g]:false);var q=this.Tw(g,k,r,l);if(q[0].length>5){try{b.quantileRegression[o+":"+h[d]]=this.yX(q[0],q[1],this.quantiles,"QuantileRegression:"+o+":"+h[d]+(g!=null?":"+g:""));if(this.wo(b.quantileRegression[o+":"+h[d]])){b.minY=Math.min(b.minY,b.quantileRegression[o+":"+h[d]].range[2]);b.maxY=Math.max(b.maxY,b.quantileRegression[o+":"+h[d]].range[3])}}catch(c){f.push(["setQuantileRegressionData",q[0].length,o+":"+h[d],c])}}}}else{var l=g!=null?this.data.l.comp[g]:false;var q=this.Tw(g,k,r,l);if(q[0].length>5){try{b.quantileRegression[o]=this.yX(q[0],q[1],this.quantiles,"Global:"+o+(g!=null?":"+g:""));if(this.wo(b.quantileRegression[o])){b.minY=Math.min(b.minY,b.quantileRegression[o].range[2]);b.maxY=Math.max(b.maxY,b.quantileRegression[o].range[3])}}catch(c){f.push(["setQuantileRegressionData",q[0].length,o,c])}}}}}};this.WR=function(b,o){if(!b){if(!this.meta.data.s||(this.layoutValid&&this.meta.data.s.layout.length!=this.data.l.comp.length)){if(!this.meta.data.s){this.meta.data.s={areas:{},layout:[]}}}if(this.layoutValid&&this.meta.data.s.layout.length!=this.data.l.comp.length){for(var f=0;f<this.data.l.comp.length;f++){this.meta.data.s.layout[f]={areas:{}};this.WR(true,f)}}else{this.WR(true)}}else{var c=o!=null?this.meta.data.s.layout[o]:this.meta.data.s;var g=[];var p=this.meta.data.z[this.colorBy].levels;var h=this.Ry(this.Ep(this.xAxisIndices[0],"x")).sort(function(u,j){return u-j});for(var f=0;f<p.length;f++){var r=this.iW(this.colorBy,p[f]);if(r.length==0){delete c.areas[p[f]];continue}var l=this.Ep(this.xAxisIndices[0],"x",r).sort(function(u,j){return u-j});var d=this.Ep(this.yAxisIndices[0],"y",r).sort(function(u,j){return l[u]-l[j]});var s=0;var t=[[],[]];for(var e=0;e<h.length;e++){var r=l.indexOf(h[e]);if(r>=0){t[0].push(l[r]);t[1].push(d[r]);s=r}else{if(e==0){t[0].push(h[e]);t[1].push(h[e]<l[0]?NaN:0)}else{if(s<d.length){t[0].push(h[e]);t[1].push(this.Vn(h[e-1],d[s],h[e+1],d[s+1],h[e]))}else{t[0].push(h[e]);t[1].push(NaN)}}}}c.areas[p[f]]=t}for(var f=0;f<p.length;f++){var q=c.areas[p[f]];if(q){for(e=0;e<h.length;e++){if(!g[e]){g[e]=0}if(!isNaN(c.areas[p[f]][1][e])){g[e]+=c.areas[p[f]][1][e]}}}}c.totals=g;var k=Number.NEGATIVE_INFINITY;for(var f in g){k=Math.max(k,g[f])}c.minY=0;c.maxY=k}};this.Fc=function(p,D){if(!p){if(!this.meta.data.s||(this.layoutValid&&this.meta.data.s.layout.length!=this.data.l.comp.length)){if(!this.meta.data.s){this.meta.data.s={wiggles:{},layout:[]};this.Fc(true)}if(this.layoutValid&&this.meta.data.s.layout.length!=this.data.l.comp.length){for(var y=0;y<this.data.l.comp.length;y++){this.meta.data.s.layout[y]={wiggles:{}};this.Fc(true,y)}}}}else{var b=D!=null?this.meta.data.s.layout[D]:this.meta.data.s;var u=[];var s=this.colorBy?this.meta.data.z[this.colorBy].levels:this.yAxis;var k=this.Ry(this.Ep(this.xAxisIndices[0],"x")).sort(function(l,j){return l-j});var C=Number.POSITIVE_INFINITY;var B=Number.NEGATIVE_INFINITY;var z=Number.NEGATIVE_INFINITY;var o=this.meta.console;for(var y=0;y<s.length;y++){var q=this.colorBy?this.iW(this.colorBy,s[y],D!=null?this.data.l.comp[D]:false):false;var r=this.Ep(this.xAxisIndices[0],"x",q);var E=this.colorBy?this.Ep(this.yAxisIndices[0],"y",q):this.Ep(this.yAxisIndices[y],"y",q);var g=[[],[]];for(var w=0;w<k.length;w++){var q=r.indexOf(k[w]);if(q>=0){g[0].push(r[q]);g[1].push(E[q])}else{g[0].push(k[w]);g[1].push(0)}}if(r.length>5){this.loessSpan=this.scatterStreamBandwidth?Math.max(0.1,this.scatterStreamBandwidth-0.45):0.3;try{var t=this.P0([g[0],g[1]],"Stream"+s[y]+(D!=null?D:""));for(var w=0;w<t.y.length;w++){t.y[w]=Math.max(t.y[w],0);z=Math.max(z,t.y[w])}C=Math.min(C,t.x[0]);B=Math.max(B,t.x[t.x.length-1]);b.wiggles[s[y]]=t}catch(f){o.push(["setStreamData",r.length,s[y],f])}}}var r=[];var h=(B-C)/(this.scatterStreamNumber-1);var x=(B-C)*this.scatterStreamExtraSpan;var A=z/500;for(var y=C-(this.scatterStreamTrueRange.match(/none|min_x/)?x:0);y<=B+(this.scatterStreamTrueRange.match(/none|max_x/)?x:0);y+=h){r.push(y)}for(var y=0;y<s.length;y++){var t=b.wiggles[s[y]];if(t&&t.x&&t.y){var d=this.TU(t.x);var c=this.TU(t.y);d.unshift(C-x);d.push(B+x);c.unshift(0);c.push(0);var e=this.LO(d,c,r);for(var w=0;w<e[1].length;w++){e[1][w]=Math.max(e[1][w],A)}b.wiggles[s[y]].stream={x:e[0],y:e[1]};for(w=0;w<e[0].length;w++){if(!u[w]){u[w]=0}u[w]+=Math.abs(e[1][w]*0.5)}}}b.totals=u;var a=Number.NEGATIVE_INFINITY;for(var y in u){a=Math.max(a,u[y])}b.minY=-a;b.maxY=a}};this.H6=function(g){var d=Number.POSITIVE_INFINITY;var a=Number.NEGATIVE_INFINITY;var e=this.varIndices.length;for(var c=0;c<e;c++){var f=this.smpIndices.length;for(var b=0;b<f;b++){if(this.varIndices[c]!=null&&this.smpIndices[b]!=null&&g[this.varIndices[c]]!=null){var h=g[this.varIndices[c]][this.smpIndices[b]];if(!isNaN(h)){d=Math.min(h,d);a=Math.max(h,a)}}}}d=d==Number.POSITIVE_INFINITY||d==Number.NEGATIVE_INFINITY?-1:d;a=a==Number.NEGATIVE_INFINITY||a==Number.POSITIVE_INFINITY?1:a;return[d,a]};this.xQ=function(){var d=this.data.y;if(this.isGroupedData){this.data.w={};d=this.data.w}var b=["vars","smps","labs","glab","desc","data","mean","median","stdev","n","qtl1","qtl3","iqr1","iqr3","out","conf","nfac","trans","tstdev","cor","min","max","sum","count","grps","grpIdxs","factors","scale"];var c=b.length;for(var a=0;a<c;a++){if(!d[b[a]]){if(b[a]=="factors"){d[b[a]]={}}else{d[b[a]]=[]}}}d.iqr=d.median};this.Ux=function(a){var c=["mean","median","stdev","n","qtl1","qtl3","iqr1","iqr3","out","conf","nfac","cor","min","max","sum","count","grps","grpIdxs","factors","scale"];var d=c.length;if(this.isGroupedData){if(!this.isTransformedData){c.push("trans");c.push("tstdev")}d=c.length;for(var b=0;b<d;b++){delete (this.data.y[c[b]])}delete (this.data.w)}else{if(!this.isTransformedData){c.push("trans");c.push("tstdev")}d=c.length;if(this.isRawData){for(var b=0;b<d;b++){delete (this.data.y[c[b]])}}else{}}if(a&&this.isRawData){this.xQ()}};this.Zl=function(f,I){var b=this.isGroupedData?this.data.w:this.data.y;var h=this.isGroupedData?false:true;var A=Number.POSITIVE_INFINITY;var z=Number.NEGATIVE_INFINITY;if(!this.isGroupedData){this.xQ()}var d=["trans","tstdev","mean","median","stdev","qtl1","qtl3","iqr1","iqr3","out","conf","nfac","n","min","max","sum","count","scale"];var E=function(j,c){if(!b[j][c]){b[j][c]=[]}};if(f=="gantt"){if(!this.data.gantt){this.isGanttDataFormated=false;this.oV()}var G=this.tU(this.ganttStart?this.ganttStart:this.xAxis[0]?this.xAxis[0]:this.data.y.vars[0]);this.ganttStart=this.data.y.vars[G];var F=this.tU(this.ganttEnd?this.ganttEnd:this.xAxis[1]?this.xAxis[1]:this.data.y.vars[1]?this.data.y.vars[1]:this.data.y.vars[0]);this.ganttEnd=this.data.y.vars[F]||this.data.y.vars[0];var K=this.aj(this.data.gantt);A=K[G].sort(function(j,c){return j-c})[0];z=K[F].sort(function(j,c){return c-j})[0];b.min=[[A]];b.max=[[z]];b.scale=this[this.axisAlgorithm](A,z,5,this.isGraphTime,this.axisWilkinsonLoose)}else{if(f=="cor"){this.isBoxplotCalc=false;if(this.correlationAxis=="samples"){if(this.isGroupedData&&b.cor.length==0){this.qO(true,true,true)}var r=this.isGroupedData?this.grpIndices:this.smpIndices;var l=r.length;for(var G=0;G<l;G++){var w=r[G];var s=this.wT(w);if(!b.cor[w]){b.cor[w]=[]}var g=r.length;for(var F=G;F<g;F++){var H=r[F];if(!b.cor[H]){b.cor[H]=[]}var q=this.wT(H);if(G==F){if(this.isTransformedData){b.trans[w][H]=1}b.cor[w][H]=1}else{b.cor[w][H]=this.u3(s,q);b.cor[H][w]=b.cor[w][H];if(this.isTransformedData){b.trans[w][H]=b.cor[w][H];b.trans[H][w]=b.cor[H][w]}}A=Math.min(A,b.cor[w][H]);z=Math.max(z,b.cor[w][H])}}}else{var l=this.varIndices.length;for(var G=0;G<l;G++){var w=this.varIndices[G];if(!b.cor[w]){b.cor[w]=[]}var g=this.varIndices.length;for(var F=G;F<g;F++){var H=this.varIndices[F];if(!b.cor[H]){b.cor[H]=[]}if(G==F){b.cor[w][H]=1;if(this.isTransformedData){b.trans[w][H]=1}}else{b.cor[w][H]=this.u3(b.data[w],b.data[H],h);b.cor[H][w]=b.cor[w][H];if(this.isTransformedData){b.trans[w][H]=b.cor[w][H];b.trans[H][w]=b.cor[H][w]}}A=Math.min(A,b.cor[w][H]);z=Math.max(z,b.cor[w][H])}}}b.min=[A];b.max=[z];b.scale=this[this.axisAlgorithm](A,z,5,this.isGraphTime,this.axisWilkinsonLoose)}else{this.isBoxplotCalc=f=="iqr"?true:false;var l=this.isDOE&&this.isDOE==1?this.data.y.vars.length:this.varIndices.length;for(var G=0;G<l;G++){var a;var w=this.varIndices[G];if(w==undefined){continue}var u=d.length;for(var F=0;F<u;F++){E(d[F],w)}if(this.isGroupedData){if(!I){var y=this.isTransformedData?this.data.y.trans:this.data.y.data;a=[];var p=this.data.w.grps.length;for(var F=0;F<p;F++){a[F]=[];var o=this.data.w.grps[F].length;for(var D=0;D<o;D++){var e=this.data.w.grps[F][D];a[F].push(y[w][e])}}}else{a=I[w]}}else{b.grps=[];a=[];var g=this.smpIndices.length;for(var F=0;F<g;F++){var H=this.smpIndices[F];b.grps[F]=[];b.grps[F].push(H);a[F]=[this.isTransformedData&&b.trans?b.trans[w][H]:b.data[w][H]]}}if(f=="iqr"){this.summaryType="iqr";if(this.isRawData){if(!this.isGroupedData){var g=this.smpIndices.length;for(var F=0;F<g;F++){var H=this.smpIndices[F];if(this.isTransformedData){b.trans[w][F]=a[F][0]}b.mean[w][H]=a[F][0];b.median[w][H]=a[F][0];b.qtl1[w][H]=a[F][0];b.qtl3[w][H]=a[F][0];b.iqr1[w][H]=a[F][0];b.iqr3[w][H]=a[F][0];b.out[w][H]=[];b.n[w][H]=1;b.conf[w][H]=[];b.min[w][H]=a[F][0];b.max[w][H]=a[F][0]}}else{var u=a.length;for(var F=0;F<u;F++){var x=this.UL(a[F]);if(this.isTransformedData){b.trans[w][F]=x[1]}b.mean[w][F]=x[0];b.median[w][F]=x[2];b.qtl1[w][F]=x[1];b.qtl3[w][F]=x[3];b.iqr1[w][F]=x[4];b.iqr3[w][F]=x[5];b.out[w][F]=x[6];b.n[w][F]=x[7];b.conf[w][F]=x[8]?x[8]:[];b.min[w][F]=x[9]?x[9][0]:NaN;b.max[w][F]=x[9]?x[9][1]:NaN}}}b.iqr=b.median}else{if(f=="median"){this.summaryType="median";if(this.isRawData){var u=a.length;for(var F=0;F<u;F++){var C=this.lJ(a[F],h);var B=this.K1(a[F],h);var x=this.xZ(a[F],h);if(this.isTransformedData){b.trans[w][F]=x[1]}b.min[w][F]=C;b.max[w][F]=B;b.median[w][F]=x[0];b.n[w][F]=x[1]}}}else{if(f=="mean"||f=="raw"){this.summaryType="mean";if(this.isRawData){var u=a.length;for(var F=0;F<u;F++){var C=this.lJ(a[F],h);var B=this.K1(a[F],h);var x=this.gI(a[F],h);if(this.isTransformedData){b.trans[w][F]=x[0];b.tstdev[w][F]=x[1]}b.min[w][F]=C;b.max[w][F]=B;b.mean[w][F]=x[0];b.stdev[w][F]=x[1];b.n[w][F]=x[2]}}}else{if(f=="min"||f=="max"){this.summaryType=f;if(this.isRawData){var u=a.length;for(var F=0;F<u;F++){var C=this.lJ(a[F],h);var B=this.K1(a[F],h);if(this.isTransformedData){b.trans[w][F]=B}b.min[w][F]=C;b.max[w][F]=B;b.n[w][F]=a[F].length}}}else{if(f=="sum"){this.summaryType="sum";if(this.isRawData){var u=a.length;for(var F=0;F<u;F++){var J=this.RD(a[F],h);if(this.isTransformedData){b.trans[w][F]=J}b.min[w][F]=0;b.max[w][F]=J;b.sum[w][F]=J;b.n[w][F]=a[F].length}}}else{if(f=="count"){this.summaryType="count";if(this.isRawData){var u=a.length;for(var F=0;F<u;F++){var t=a[F].length;if(this.isTransformedData){b.trans[w][F]=t}b.min[w][F]=0;b.max[w][F]=t;b.count[w][F]=t;b.n[w][F]=t}}}}}}}}}if(f=="iqr"){for(var G=0;G<b.n.length;G++){if(b.n[G]){for(var F=0;F<b.n[G].length;F++){b.nfac[G][F]=Math.sqrt((b.n[G][F])/(this.smpIndices.length))*2}}}}for(var G=0;G<b.min.length;G++){if(b.min[G]){for(var F=0;F<b.min[G].length;F++){A=Math.min(A,b.min[G][F]);z=Math.max(z,b.max[G][F])}}}b.scale=this[this.axisAlgorithm](A,z,this.xAxisTicks,this.isGraphTime,this.axisWilkinsonLoose)}}};this.HV=function(){var e=this.isGroupedData?this.data.w:this.data.y;var d;for(var b=0;b<this.varIndices.length;b++){var c=this.varIndices[b];e.data[c]=[];e.trans[c]=[];if(this.summaryType=="mean"){for(var a=0;a<e.mean[c].length;a++){e.data[c][a]=e.mean[c][a]}}else{if(this.summaryType=="median"||this.summaryType=="iqr"){for(var a=0;a<e.median[c].length;a++){e.data[c][a]=e.median[c][a]}}else{if(this.summaryType=="sum"){for(var a=0;a<e.sum[c].length;a++){e.data[c][a]=e.sum[c][a]}}else{if(this.summaryType=="max"){for(var a=0;a<e.max[c].length;a++){e.data[c][a]=e.max[c][a]}}else{if(this.summaryType=="min"){for(var a=0;a<e.min[c].length;a++){e.data[c][a]=e.min[c][a]}}else{if(this.summaryType=="count"){for(var a=0;a<e.count[c].length;a++){e.data[c][a]=e.count[c][a]}}}}}}}if(!d){d=c}}return d};this.Jb=function(b,c,a){switch(b){case"log2":return a?Math.pow(2,c):Math.log(c)/Math.LN2;case"log10":return a?Math.pow(10,c):Math.log(c)/Math.LN10;case"-log2":return a?-Math.pow(2,c):-Math.log(c)/Math.LN2;case"-log10":return a?-Math.pow(10,c):-Math.log(c)/Math.LN10;case"exp2":return a?Math.log(c)/Math.LN2:Math.pow(2,c);case"exp10":return a?Math.log(c)/Math.LN10:Math.pow(10,c);case"sqrt":return a?c*c:Math.sqrt(c);default:return c}};this.kX=function(e,d,a,c){if(this.KV()||this.graphType.match(/Area/)){return}if(!this.isGroupedData){this.xQ()}var b=this.transformData;this.transformData=e;this.transformAxis=d;this.xAxisMaxStrLength=false;this.xAxis2MaxStrLength=false;this.yAxisMaxStrLength=false;this.zAxisMaxStrLength=false;if(e=="reset"||e=="undo"){this.Ph();this.transformData=false;this.isTransformedData=false;if(this.tempIndices){if(this.isGroupedData){this.grpIndices=this.tempIndices}else{this.smpIndices=this.tempIndices}this.tempIndices=false}}else{if(e=="save"){this.bD();this.transformData=false;this.isTransformedData=false}else{if(e=="log2"||e=="log10"||e=="-log2"||e=="-log10"||e=="exp2"||e=="exp10"||e=="sqrt"){if(this.cg(e)){this.isTransformedData=e}else{this.transformData=b;return}}else{if(e=="ratio2"||e=="ratio10"){this.Ab(e,a);this.isTransformedData=e}else{this.HJ(e,d,!this.isRawData||this.isGroupedData?this.HV():0);this.isTransformedData=e}}}}delete (this.meta.def.colorBrew);if(this.graphType=="Boxplot"){this.summarizeBoxplot=true}this.Mn();if(!c){this.x9({func:"transform",par:[e,d,a,c]})}};this.Ph=function(){var d=this.data.y;for(var b=0;b<this.varIndices.length;b++){var c=this.varIndices[b];for(var a=0;a<d.data[c].length;a++){if(d.trans&&d.trans[c]&&!isNaN(d.data[c][a])){d.trans[c][a]=d.data[c][a]}}}if(this.isGroupedData){this.isTransformedData=false;this.hW(this.groupingFactors,false,false,false,true)}};this.bD=function(){var a=this.isGroupedData?this.groupingFactors:false;var e=this.data.y;if(e.trans&&e.trans.length>0){this.qO();for(var c=0;c<this.varIndices.length;c++){var d=this.varIndices[c];for(var b=0;b<e.data[d].length;b++){if(!isNaN(e.data[d][b])){e.data[d][b]=e.trans[d][b]}}}if(a){this.isTransformedData=false;this.hW(a,false,false,false,true)}}};this.cg=function(e){var g=this.data.y;var a=this.vM(g.data);if(e.match(/log/)){if(a[0]<=0){if(!this.nanOmit){alert("Cannot log transform values <= 0");return false}else{this.fo("Dropping values <= 0");alert("Dropping values <= 0")}}e=e=="log2"?"log2":e=="-log2"?"-log2":e=="-log10"?"-log10":"log10"}else{if(e.match(/exp/)){if(a[1]>=1000){alert("Cannot exp transform values > 1000");return false}e=e=="exp2"?"exp2":"exp10"}}if(!g.trans){g.trans=[]}if(!g.tstdev){g.tstdev=[]}var f=this.motionBy?this.data.y.vars.length:this.isGroupedData?this.data.y.vars.length:!this.isDOE?this.data.y.vars.length:this.varIndices.length;for(var c=0;c<f;c++){var d=this.motionBy||!this.isDOE?c:this.varIndices[c];if(!g.trans[d]){g.trans[d]=[]}if(!g.tstdev[d]){g.tstdev[d]=[]}for(var b=0;b<g.data[d].length;b++){if(!isNaN(g.data[d][b])){if(e=="log2"){this.transformBase=2;g.trans[d][b]=Math.log(g.data[d][b])/Math.LN2}else{if(e=="log10"){this.transformBase=10;g.trans[d][b]=Math.log(g.data[d][b])/Math.LN10}else{if(e=="-log2"){this.transformBase=2;g.trans[d][b]=-Math.log(g.data[d][b])/Math.LN2}else{if(e=="-log10"){this.transformBase=10;g.trans[d][b]=-Math.log(g.data[d][b])/Math.LN10}else{if(e=="exp2"){this.transformBase=2;g.trans[d][b]=Math.pow(2,g.data[d][b])}else{if(e=="exp10"){this.transformBase=10;g.trans[d][b]=Math.pow(10,g.data[d][b])}else{if(e=="sqrt"){g.trans[d][b]=Math.sqrt(g.data[d][b])}}}}}}}}}}if(this.isGroupedData){this.isTransformedData=e;this.hW(this.groupingFactors,false,false,true,true)}return true};this.Ab=function(){var h=[];var p=this.data;var a=this.isGroupedData&&!this.graphType.match(/dotplot|boxplot/i)?p.w:p.y;if(this.isGroupedData&&this.ratioGroupReference&&p.x.hasOwnProperty(this.ratioGroupReference)){if(!this.ratioLevelReference){for(var u=0;u<p.x[this.ratioGroupReference].length;u++){if(p.x[this.ratioGroupReference][u]!=null){this.ratioLevelReference=p.x[this.ratioGroupReference][u];break}}}if(this.groupingFactors.length==1){this.ratioReference=this.yV(this.ratioLevelReference);if(this.ratioReference<0){this.ratioLevelReference=p.w.smps[0];this.ratioReference=0}h=[this.ratioReference]}else{var f=[];for(var u=0;u<this.groupingFactors.length;u++){if(this.groupingFactors[u]!=this.ratioGroupReference){f.push(this.groupingFactors[u])}}var b={};var x=[];var t=0;for(var u=0;u<this.smpIndices.length;u++){var k=this.smpIndices[u];var o=[];var A;for(var s=0;s<f.length;s++){var w=f[s];A=p.x[w][k];if(!A){A="NA"}o.push(A)}A=o.join(" - ");if(!b.hasOwnProperty(A)){p.w.smps.push(A);x[t]=A;b[A]=[];b[A].push(k);t++}else{b[A].push(k)}}h=this.MJ(this.ratioGroupReference,this.ratioLevelReference);this.ratioReference=[];for(var u=0;u<p.w.grps.length;u++){var g=p.w.grps[u][0];var q=false;for(var r in b){for(var s=0;s<b[r].length;s++){if(g==b[r][s]){q=this.l4(b[r]);break}}if(q){break}}for(var s=0;s<h.length;s++){if(q.hasOwnProperty(h[s])){this.ratioReference.push(h[s]);break}}}}}else{if(this.ratioSampleReference){var y=this.isGroupedData&&this.graphType.match(/dotplot|boxplot/i);if(y){this.isGroupedData=false;this.ratioReference=this.yV(this.ratioSampleReference);this.isGroupedData=true}else{this.ratioReference=this.yV(this.ratioSampleReference)}}if(this.ratioReference<0){this.ratioSampleReference=p.y.smps[0];this.ratioReference=0}h=[this.ratioReference]}for(var u=0;u<this.varIndices.length;u++){var k=this.varIndices[u];if(!a.trans){a.trans=[]}if(!a.stdev){a.stdev=[]}if(!a.trans[k]){a.trans[k]=[]}if(!a.stdev[k]){a.stdev[k]=[]}for(var s=0;s<a.data[k].length;s++){var e;if(this.isGroupedData&&this.ratioGroupReference&&p.x.hasOwnProperty(this.ratioGroupReference)){if(this.groupingFactors.length==1){e=p.w.mean[k][this.ratioReference]}else{e=p.w.mean[k][this.ratioReference[s]]}}else{e=a.data[k][this.ratioReference]}if(!isNaN(a.data[k][s])&&!isNaN(e)&&e>0){var c=this.transformBase==2?"ratio2":"ratio10";var z=a.data[k][s]/e;var d=a.stdev[k][s];if(c=="ratio2"){a.trans[k][s]=Math.log(z)/Math.LN2;if(d&&d>0){a.tstdev[k][s]=Math.log(d)/Math.LN2}}else{if(c=="ratio10"){a.trans[k][s]=Math.log(z)/Math.LN10;if(d&&d>0){a.tstdev[k][s]=Math.log(d)/Math.LN10}}}}}}};this.HJ=function(s,p,o){var c=this.isGroupedData&&!this.graphType.match(/dotplot|boxplot/i)?this.data.w:this.data.y;var k=this.isGroupedData?false:true;var q;p=p?p:this.transformAxis;if(p=="samples"){for(var g=0;g<c.data[o].length;g++){var b=[];for(var d=0;d<this.varIndices.length;d++){var h=this.varIndices[d];b.push(c.data[h][g])}if(s=="percentile"){q=this.cp(b)}else{if(s=="zscore"){q=this.gI(b,k)}}for(var d=0;d<this.varIndices.length;d++){var h=this.varIndices[d];if(!c.trans){c.trans=[]}if(!c.trans[h]){c.trans[h]=[]}if(!isNaN(c.data[h][g])){if(s=="percentile"){c.trans[h][g]=this.cL(q[0],q[1],c.data[h][g])}else{if(s=="zscore"){c.trans[h][g]=(c.data[h][g]-q[0])/q[1]}}}}}}else{for(var g=0;g<this.varIndices.length;g++){var r=this.varIndices[g];if(!c.trans){c.trans=[]}if(!c.trans[r]){c.trans[r]=[]}var b=c.data[r];if(s=="percentile"){q=this.cp(b)}else{if(s=="zscore"){q=this.gI(b,k)}}for(var d=0;d<b.length;d++){if(!isNaN(c.data[r][d])){if(s=="percentile"){c.trans[r][d]=this.cL(q[0],q[1],c.data[r][d])}else{if(s=="zscore"){c.trans[r][d]=(c.data[r][d]-q[0])/q[1]}}}}}}};this.zV=function(c){var d=this.TU(this.segregateSamplesBy);var b=this.TU(this.segregateVariablesBy);this.g5(true);this.hW(c,false,false,true,true,true);this.HF(b,d,true)};this.hW=function(ai,S,r,ad,c,C,aj){var M=this;if(this.KV()){return}if(!this.isRawData){return}var ag=this.data;if(!this.tO(ai)){ai=[ai]}else{ai=this.Ry(ai)}if(!ai||ai.length<1||!ag.x){return this.qO()}if(ai.length>1&&ai.includes("__FACTOR__")){ai=ai.filter(function(a){return a!="__FACTOR__"})}for(var Z=0;Z<ai.length;Z++){if(!ai||!ag.x[ai[Z]]){return this.qO()}}if(!this.isDOE&&this.layoutComb&&ag.l&&!this.gS(ag.l.group,ai)){this.zV(ai);ag.l.group=ai;if(!c){this.x9({func:"groupSamples",par:[ai,S,r,ad,c,C,aj]})}return}if(ag.l&&ag.l.group){ag.l.group=ai}var w={};var Q={};var f=this.l4(this.smpOverlays);var z=ag.w&&ag.w.smps?ag.w.smps:false;var D=this.TU(this.hiddenGrps);if(!this.isDOE&&!ad){this.F3(true)}if(!ad){this.F3()}this.isGroupedData=true;this.groupingFactors=ai;this.Ux(true);this.hiddenGrps=aj?D:[];this.isGroupedData=false;var am=this.smpIndices.length;for(var Z=0;Z<am;Z++){var y=this.smpIndices[Z];var G=[];var q=[];var B;var V;for(var Y=0;Y<ai.length;Y++){var N=ai[Y];B=this.Mk(y,"x",N);if(this.meta.data.x[N].type=="Numeric"){B=B||"null"}else{B=B===false?"false":(B||"null")}G.push(B);if(!f.hasOwnProperty(N)){q.push(B)}}B=G.join(" :: ");V=q.length>0?q.join(" :: "):"";if(!w.hasOwnProperty(B)){ag.w.smps.push(B);Q[B]=V;w[B]=[]}w[B].push(y)}this.isGroupedData=true;if(ag.w.smps.length<1){ag.w.smps=z;this.x9({func:"groupSamples",par:[ai,S,r,ad,c,C,aj]});return}if(this.isCxplot&&ai.length==1&&this.meta.data.x&&this.meta.data.x.hasOwnProperty(ai[0])&&this.meta.data.x[ai[0]].levels&&this.meta.data.x[ai[0]].type!="Numeric"){if(this.sortIncludeEmpty){if(this.meta.config.user.aes.hasOwnProperty("meta")){if(ai[0]==this.meta.config.user.aes.x&&this.meta.config.user.aes.meta.hasOwnProperty("xLabels")){var aa=this.TU(this.meta.config.user.aes.meta.xLabels);var ac=false;for(var Z=0;Z<aa.length;Z++){if(this.meta.data.x[ai[0]].levels.includes(aa[Z])){continue}else{ac=true}}ag.w.smps=ac?this.TU(this.meta.data.x[ai[0]].levels):aa}else{if(ai[0]==this.meta.config.user.aes.y&&this.meta.config.user.aes.meta.hasOwnProperty("yLabels")){var aa=this.TU(this.meta.config.user.aes.meta.yLabels);var ac=false;for(var Z=0;Z<aa.length;Z++){if(this.meta.data.x[ai[0]].levels.includes(aa[Z])){continue}else{ac=true}}ag.w.smps=ac?this.TU(this.meta.data.x[ai[0]].levels):aa}else{ag.w.smps=this.TU(this.meta.data.x[ai[0]].levels)}}}else{ag.w.smps=this.TU(this.meta.data.x[ai[0]].levels)}}}else{if(this.isCxplot&&ai.length==2&&this.meta.data.x&&this.meta.data.x.hasOwnProperty(ai[0])&&this.meta.data.x[ai[0]].levels&&this.meta.data.x[ai[0]].type!="Numeric"&&this.meta.data.x.hasOwnProperty(ai[1])&&this.meta.data.x[ai[1]].levels&&this.meta.data.x[ai[1]].type!="Numeric"){if(this.sortIncludeEmpty){var l=this.meta.data.x;ag.w.smps=this.TU(ag.w.smps.sort(function(s,k){var t=s.split(" :: ");var j=k.split(" :: ");var d=l[ai[0]].levels.indexOf(t[0]);var a=l[ai[0]].levels.indexOf(j[0]);if(d==a){d=l[ai[1]].levels.indexOf(t[1]);a=l[ai[1]].levels.indexOf(j[1])}return d-a}))}}else{if(this.sortOnGrouping){if(this.sortOnGrouping=="size"){ag.w.smps.sort(function(j,d){return w[j].length-w[d].length})}else{if(this.sortOnGrouping=="descending"){ag.w.smps.sort().reverse()}else{ag.w.smps.sort()}}}}}if(this.groupingFactors.length==1&&this.meta.data.x&&this.meta.data.x.hasOwnProperty(this.groupingFactors[0])&&this.meta.data.x[this.groupingFactors[0]].priority){ag.w.smps=this.TU(this.meta.data.x[this.groupingFactors[0]].levels)}var am=ag.w.smps.length;if(this.legendOrder&&this.legendOrder.hasOwnProperty(this.groupingFactors[0])){var L=this.legendOrder[this.groupingFactors[0]];ag.w.smps=ag.w.smps.sort(function(j,d){var s=j.split(" :: ")[0];var k=d.split(" :: ")[0];j=s;d=k;return L.indexOf(j)-L.indexOf(d)})}else{ag.w.smps=ag.w.smps.sort()}for(var Z=0;Z<am;Z++){var B=ag.w.smps[Z];ag.w.labs.push(Q[B]);ag.w.grps.push(w[B]);ag.w.grpIdxs.push(Z)}this.grpIndices=[];if(r){var am=r.length;for(var Z=0;Z<am;Z++){this.grpIndices.push(r[Z]);if(!aj){this.hiddenGrps.push(false)}}}else{var am=ag.w.grps.length;for(var Z=0;Z<am;Z++){this.grpIndices.push(Z);if(!aj){this.hiddenGrps.push(false)}}}var am=this.varIndices.length;var U=ag.w.vars;for(var Z=0;Z<am;Z++){U.push(ag.y.vars[this.varIndices[Z]])}var T={};var h=this.meta.data.x;for(var B in ag.x){T[B]=h[B].type=="Numeric"}var am=ag.w.grps.length;for(var Z=0;Z<am;Z++){var E=ag.w.grps[Z];var ak=E?E.length:0;for(var B in ag.x){var g=ag.x[B];var ae=ag.w.factors[B];if(!ae){ae=ag.w.factors[B]=[]}var J;if(T[B]){J=[];for(var Y=0;Y<ak;Y++){var H=g[E[Y]];if(!isNaN(H)){J.push(H)}}ae.push(this.NA(J))}else{J={};for(var Y=0;Y<ak;Y++){var H=g[E[Y]];if(H!=null&&H!==""){J[H]=true}}var A=this.Nv(J);ae.push(A.join(" + "))}}}var ab=this.meta.data.x;for(var B in ag.x){if(ab[B]["boolean"]){var ae=ag.w.factors[B];var x=ae.length;for(var Z=0;Z<x;Z++){ae[Z]=ae[Z]!=="false"}}}var T=[];if(S){T=this.tO(S)?S:[S]}else{S=this.graphType=="Boxplot"?"iqr":this.graphType.match(/Stacked/i)?"sum":this.summaryType?this.summaryType:"mean";T.push(S)}var F=this.isTransformedData;var u=this.summaryType;var e=ag.y;for(var R=0,I=T.length;R<I;R++){var o=[];var al=T[R];var W=F?e.trans:true;var af;if(F&&e.trans){af=e.trans?e.trans:this.data.y.trans}else{if(this.isRawData){af=e.data}else{af=e[u]||e[this.summaryType]}}var am=this.isDOE&&this.isDOE==1?this.data.y.vars.length:this.varIndices.length;for(var Z=0;Z<am;Z++){var K=this.varIndices[Z];if(K==undefined){continue}var P=o[K]=[];var p=ag.w.grps;var ak=p.length;for(var Y=0;Y<ak;Y++){var b=P[Y]=[];var O=p[Y];var ah=O?O.length:0;for(var X=0;X<ah;X++){b.push(af[K][O[X]])}}}this.Zl(al,o)}this.u4();this.PR(false,false,false,!this.layoutComb);if(!C){this.xAxisValues=[];this.xAxis2Values=[];this.yAxisValues=[];this.zAxisValues=[];if(!this.layoutComb||!this.layoutAdjust){if(typeof(this.setAxes)=="function"){this.DT()}}}if(!W){this.cg(this.isTransformedData)}if(!c){this.x9({func:"groupSamples",par:[ai,S,r,ad,c,C,aj]})}};this.qO=function(f,c,a){if(this.KV()){return}var b=this.groupingFactors.length==1&&this.groupingFactors[0]=="__FACTOR__";if(!this.isGroupedData&&!this.groupingFactors.length){return}this.F3(true);this.isGroupedData=false;var e=this.data;if(e.l){delete (e.l.group)}if(e.w&&!a){delete (e.w)}this.groupingFactors=[];this.hiddenGrps=[];this.wD("w");if(!c){this.PR(false,false,false,true)}if(this.summaryType=="iqr"&&b){this.summaryType="raw";this.graphType="Bar"}if(!f){this.x9({func:"ungroupSamples",par:[f,c,a]})}return};this.Qs=function(){this.isGroupedData=false;this.hW(this.groupingFactors,false,false,false,true)};this.uz=function(){var a={data:this.aj(this.data),config:this.SC()};if(this.toDoPivot){a.config.colorBy=this.toDoPivot;a.config.groupingFactors.push(this.toDoPivot)}a.config.groupingFactors=this.TU(this.groupingFactors);a.config.segregateVariablesBy=this.TU(this.segregateVariablesBy);a.config.segregateSamplesBy=this.TU(this.segregateSamplesBy);return a};this.jK=function(b){this.WI();if(this.KV()){return}if(this.isPivot){var a=this.aj(this.data.y.unpivoted);this.colorBy=a.config.colorBy;this.g5(true);if(this.isGroupedData){this.qO(true)}this.YN(a.data,true);if(a.config.groupingFactors.length){this.hW(a.config.groupingFactors,false,false,false,true)}this.isPivot=false;if(a.config.segregateVariablesBy.length||a.config.segregateSamplesBy.length){this.HF(a.config.segregateVariablesBy,a.config.segregateSamplesBy,true)}if(!b){this.x9({func:"removePivot",par:[b]})}}};this.HH=function(e,h){this.WI();if(this.KV()){return}var b=this.uz();this.isPivot=true;this.colorBy=false;var f={y:{data:[],vars:[],smps:[]}};this.g5(true);if(this.isGroupedData){this.qO(true)}var g=e.shift();for(var d=0;d<e.length;d++){f.y.vars.push(e[d][0]);var a=[];for(var c=1;c<g.length;c++){a.push(e[d][c])}f.y.data.push(a)}g.shift();f.y.smps=g;this.YN(f,true);this.data.y.unpivoted=b;if(b.config.segregateVariablesBy.length||b.config.segregateSamplesBy.length){this.HF(b.config.segregateVariablesBy,b.config.segregateSamplesBy,true)}this.Ux();if(b.config.groupingFactors.length){this.groupingFactors=this.TU(b.config.groupingFactors);this.im([cat],true,"groupingFactors")}if(!h){this.x9({func:"pivot",par:[e,h]})}};this.cR=function(e,f){this.WI();if(this.KV()){return}if(this.isPivot||!this.Gl()){return}var y=this.uz();var N={y:{vars:[],smps:[],data:[]}};var b=function(c){var d=[];for(var k=0;k<h.length;k++){if(h[k]!=e){var j=L.x[h[k]][c];if(j===false){j="false"}else{if(j===null){j="null"}else{if(j===true){j="true"}}}d.push(j.toString().replace("\x00",""))}}return d.length?d.join("\x00"):"x"+c};this.g5(true);if(this.isGroupedData){this.qO(true)}var h=this.Z7(this.data.x);var G=this.meta.data.x[e];var L=this.data;var r=G.levels;var H=r.length;var B=[];var A={};for(var K=0;K<H;K++){B[K]={};for(var J=0;J<L.y.smps.length;J++){var s=L.x[e][J];if(s===false){s="false"}else{if(s===null){s="null"}else{if(s===true){s="true"}}}if(s==r[K]){var M=b(J);if(!B[K][M]){B[K][M]=[]}B[K][M].push(J)}if(M!=null){A[M]=true}}}for(var M in A){var g=0;for(var K=0;K<H;K++){if(B[K].hasOwnProperty(M)){g=Math.max(g,B[K][M].length)}}A[M]=g}for(var K=0;K<H;K++){for(J=0;J<L.y.vars.length;J++){N.y.data[K+J]=[];if(L.y.vars.length==1){N.y.vars.push(r[K].replace("\x00",""))}else{N.y.vars.push(L.y.vars[J]+"::"+r[K].replace("\x00",""))}for(var M in A){var F=this.Nv(B[K]);for(var I=0;I<A[M];I++){if(K==0&&J==0){N.y.smps.push(M);var E=M.split("\x00");var D=0;for(var C=0;C<h.length;C++){if(h[C]!=e){if(!N.x){N.x={}}if(!N.x.hasOwnProperty(h[C])){N.x[h[C]]=[]}N.x[h[C]].push(E[D++])}}}if(B[K].hasOwnProperty(M)&&B[K][M][I]!=null){N.y.data[K+J].push(L.y.data[J][B[K][M][I]])}else{N.y.data[K+J].push(null)}}}}}for(var M in N.x){if(this.um(N.x[M])){N.y.smps=N.x[M];delete (N.x[M]);break}}if(N.y.data.length!=N.y.vars.length||N.y.data[0].length!=N.y.smps.length){if(y.config.segregateVariablesBy.length||y.config.segregateSamplesBy.length){this.HF(N.config.segregateVariablesBy,N.config.segregateSamplesBy)}this.Ux();if(y.config.groupingFactors.length){this.groupingFactors=this.TU(y.config.groupingFactors)}if(!this.isCxplot){alert("Invalid Pivoting")}return}else{this.isPivot=true;this.colorBy=false;y.factor=e}if(N.y.vars.includes("null")){var a=null;for(var K=0;K<N.y.vars.length;K++){if(N.y.vars[K]=="null"){a=K;break}}if(a!=null){N.y.vars.splice(a,1);N.y.data.splice(a,1)}}this.YN(N,true);this.data.y.unpivoted=y;this.Ux();if(y.config.groupingFactors.length){this.groupingFactors=this.TU(y.config.groupingFactors);this.im([e],true,"groupingFactors")}if(y.config.segregateVariablesBy.length||y.config.segregateSamplesBy.length){this.HF(y.config.segregateVariablesBy,y.config.segregateSamplesBy,true)}if(!f){this.x9({func:"pivotX",par:[e,f]})}};this.Ho=function(h,a,g){var c=[];var f=this.data;for(var b=0;b<f.y.smps.length;b++){c.push([f.x[h][b],f.x[a][b],f.y.data[0][b]])}var e=this.CV(c,0,1,2);return this.HH(e,g)};this.H2=function(o,a,f,c){var e=[];var k;var h=this.data;if(h.x.hasOwnProperty(o)){for(var g=0;g<h.y.smps.length;g++){e.push([h.x[o][g],h.y.data[0][g],h.y.data[1][g]])}if(h.y.vars[0]==a){k=this.CV(e,0,1,2)}else{if(h.y.vars[1]==a){k=this.CV(e,0,2,1)}}}else{if(h.x.hasOwnProperty(a)){for(var g=0;g<h.y.smps.length;g++){e.push([h.x[a][g],h.y.data[0][g],h.y.data[1][g]])}if(h.y.vars[0]==o){k=this.CV(e,1,0,2)}else{if(h.y.vars[1]==o){k=this.CV(e,2,0,1)}}}}if(f){var l=this.TU(k[0]);l.shift();l.unshift(0);e=[];for(var g=0;g<k.length;g++){e[g]=[];for(var b=0;b<l.length;b++){e[g][l[b]]=k[g][b]}}for(var g=0;g<f.length;g++){e[0][g+1]=f[g]}k=e}return this.HH(k,c)};this.ud=function(e,a,d){var c;e=this.tU(e);a=this.tU(a);for(var b=0;b<this.data.y.vars.length;b++){if(b!=e&&b!=a){c=b;break}}return this.HH(this.CV(this.nG(this.data.y.data),e,a,c),d)};this.Nc=function(f){var h=f.x;var g=f.z;if(h){f.z=h}else{delete (f.z)}if(g){f.x=g}else{delete (f.x)}var l=f.y.smps;f.y.smps=f.y.vars;f.y.vars=l;var k=f.y.data;f.y.data=[];var b=f.y.vars.length;for(var c=0;c<b;c++){f.y.data[c]=[];var e=f.y.smps.length;for(var a=0;a<e;a++){f.y.data[c][a]=k[a][c]}}return f};this.rq=function(B,f,a){if(this.KV()){return}this.WI();if(this.graphType.match(/Gantt/)){this.s1(100,100,"Data transpose not allowed for Gantt graphs",5000);return}if(this.graphType=="Bar"&&this.barType=="lollipop"&&!a){this.s1(100,100,"Data transpose not allowed for Lollipops",5000);return}var y=this.data;var t=this.meta.data;if(B){return this.nG(B)}else{this.qO(true);this.kX("reset",false,false,true);if(y.l){delete (y.l)}var e=["varOverlays","varOverlayInfo","varOverlayProperties","varOverlaysStrLength","varOverlaysThicknessBottom","varOverlaysThicknessTop","varDendrogramNewick","colorVarDendrogramBy","heatmapVarSeparateBy","variablesClustered","segregateVariablesBy"];var g=["smpOverlays","smpOverlayInfo","smpOverlayProperties","smpOverlaysStrLength","smpOverlaysThicknessBottom","smpOverlaysThicknessTop","smpDendrogramNewick","colorSmpDendrogramBy","heatmapSmpSeparateBy","samplesClustered","segregateSamplesBy"];for(var w=0;w<e.length;w++){if(this[e[w]]||this[g[w]]){var o=this[e[w]];var p=this[g[w]];this[e[w]]=p;this[g[w]]=o}}var l=y.x;var k=y.z;if(l){y.z=l}else{delete (y.z)}if(k){y.x=k}else{delete (y.x)}var q=t.x;var c=t.z;t.x=c;t.z=q;for(var w in t.x){t.x[w].origin="x"}for(var w in t.z){t.z[w].origin="z"}var h=t.y.maxSmpChr;var b=t.y.maxSmpLen;var C=t.y.maxSmpStr;t.y.maxSmpChr=t.y.maxVarChr;t.y.maxSmpLen=t.y.maxVarLen;t.y.maxSmpStr=t.y.maxVarStr;t.y.maxVarChr=h;t.y.maxVarLen=b;t.y.maxVarStr=C;var r=y.y.smps;y.y.smps=y.y.vars;y.y.vars=r;var A=y.y.data;y.y.data=[];for(var w=0;w<y.y.vars.length;w++){y.y.data[w]=[];for(var u=0;u<y.y.smps.length;u++){y.y.data[w][u]=A[u][w]}}this.xAxis=[];this.yAxis=[];this.zAxis=[];this.YN(this.data);this.Ux();this.PR(false,false,false,true);this.dataTableTransposed=!this.dataTableTransposed;if(!f){this.x9({func:"transpose",par:[B,f]})}}};this.K6=function(){var q={};var x=[];var N=[];var I=[];var A=[];for(var F=0;F<this.varIndices.length;F++){var l=this.varIndices[F];var L=this.data.y.vars[l];x.push(L);q[L]={};for(var E=0;E<this.smpIndices.length;E++){var K=this.smpIndices[E];var J=this.data.y.smps[K];x.push(J);q[L][J]=this.data.y.data[l][K]}}x=this.Ry(x);var B=x.length;var k=0;for(var F=0;F<B;F++){N[F]=[];A.push(this.XX(0,B-1,1));var b=0;for(var E=0;E<B;E++){N[F][E]=0;if(q[x[F]]&&q[x[F]][x[E]]){N[F][E]=q[x[F]][x[E]]}b+=N[F][E]}I.push(b);k+=b}for(var F=0;F<A.length;F++){A[F].sort(function(d,c){return N[F][c]-N[F][d]})}if(this.circularArc>360){this.circularArc=360}else{if(this.circularArc<90){this.circularArc=90}}var y=this.circularArc*(Math.PI*2)/360;var p=(y-this.MC(this.circularArcSectorSeparation)*(this.circularArc==360?B:B-1))/k;var h=[];var f=[];var C=0;for(var F=0;F<B;F++){var a=C;for(var E=0;E<B;E++){var H=A[F][E];var M=N[F][H];var D=C;var P=C+=M*p;h[H*B+F]={idx:F,sid:H,start:D,end:P,value:M,color:this.colors[H%this.colors.length]}}f[F]={name:x[F],idx:F,start:a,end:C,value:I[F],color:this.colors[F%this.colors.length]};C+=this.MC(this.circularArcSectorSeparation)}var O=[];for(var F=0;F<B;F++){for(var E=F;E<B;E++){var e=h[E*B+F];var G=h[F*B+E];if(e.value||G.value){O.push({source:e,target:G})}}}if(!this.data.x){this.data.x={}}this.data.x.__SUM__=I;this.wD("x","__SUM__",false,true);return{chords:O,segments:f,total:k,unit:p}};this.yH=function(){var b=[];for(var a=0;a<this.data.y.smps.length;a++){b.push(" ")}if(!this.data.x){this.data.x={}}this.data.x.__FACTOR__=b;this.wD("x","__FACTOR__",false,true);this.hW(["__FACTOR__"],false,false,false,true)};this.qR=function(b,e){if(b){this.data.y.smps.push("__COUNT__");for(var a=0;a<this.data.y.vars.length;a++){this.data.y.data[a].push(1)}}else{this.data.y.vars.push("__COUNT__");var c=[];for(var a=0;a<this.data.y.smps.length;a++){c.push(1)}this.data.y.data.push(c)}this.wD("y");this.QI(true,true);this.bb();if(!e){this.x9({func:"countData",par:[]})}};this.B2=function(b,c){if(b){var a=this.yV("__COUNT__");if(a>=0){this.data.y.smps.splice(a,1);for(var a=0;a<this.data.y.vars.length;a++){this.data.y.data[a].splice(a,1)}}}else{var a=this.tU("__COUNT__");if(a>=0){this.data.y.vars.splice(a,1);this.data.y.data.splice(a,1)}this.wD("y");this.QI(true,true);this.bb()}if(!c){this.x9({func:"uncountData",par:[]})}};this.VY=function(b,e){if(b){this.data.y.smps.push("__SEQ__");for(var a=0;a<this.data.y.vars.length;a++){this.data.y.data[a].push(a+1)}}else{this.data.y.vars.push("__SEQ__");var c=[];for(var a=0;a<this.data.y.smps.length;a++){c.push(a+1)}this.data.y.data.push(c)}this.wD("y");this.QI(true,true);this.bb();if(!e){this.x9({func:"sequenceData",par:[]})}};this.Jn=function(b,c){if(b){var a=this.yV("__SEQ__");if(a>=0){this.data.y.smps.splice(a,1);for(var a=0;a<this.data.y.vars.length;a++){this.data.y.data[a].splice(a,1)}}}else{var a=this.tU("__SEQ__");if(a>=0){this.data.y.vars.splice(a,1);this.data.y.data.splice(a,1)}}this.wD("y");this.QI(true,true);this.bb();if(!c){this.x9({func:"unsequenceData",par:[]})}};this.uP=function(){var u=this.isDOE?this.data.l.data[this.layoutCurrent]:false;var g=this.isDOE?u.y.data[0]:this.TU(this.data.y.data[this.meterIndex]);var t=this.isDOE?u.y.meter.group:this.groupingFactors.length?this.groupingFactors[0]:false;var e=this.isDOE?u.x[t]:t?this.TU(this.data.x[t]):false;var h=this.isDOE?u.y.meter.summary:this.summaryType;var c=this.isDOE?u.y.meter.topology:this.meterTopology;var p=t&&(!this.isDOE||this.isDOE==1)?this.meta.data.x[t]:t&&this.isDOE>1?this.meta.data.z[t]:false;var j=this.isDOE&&this.isDOE>1?this.varIndices:this.smpIndices;this.isMeterSummarized={data:g,count:g.length,sum:this.RD(g),mean:this.NA(g),max:this.K1(g)};var q=this.isMeterSummarized;var a=this.rangeSegments.length&&!this.isDOE?this.rangeSegments[this.rangeSegments.length-1]:false;switch(h){case"count":case"countTotal":q.value=q.count;q.scale=this[this.axisAlgorithm](0,a||q.count,5,false,this.axisWilkinsonLoose);q.reference=q.count;break;case"average":case"mean":case"raw":q.value=q.mean;q.scale=this[this.axisAlgorithm](0,a||q.max,5,false,this.axisWilkinsonLoose);q.reference=q.max;break;case"sum":case"sumTotal":q.value=q.sum;q.scale=this[this.axisAlgorithm](0,a||q.sum,5,false,this.axisWilkinsonLoose);q.reference=q.sum;break;case"percentage":case"percentageTotal":q.value=100;q.scale=this[this.axisAlgorithm](0,a||100,5,false,this.axisWilkinsonLoose);q.reference=100;break}q.range=a||q.scale[q.scale.length-1];var k=this.SP();var b=this.isDOE?this.layoutWidth:this.width-(this.marginLeft+this.marginRight);var o=(this.isDOE?this.layoutHeight:this.height)-(k+this.marginTop+this.marginBottom);if(t){if(p&&p.type=="String"){q.n=p.levels.length;let ratio=b/o;let inverseRatio=o/b;let condition=q.n<2&&c=="auto";let condition2=c=="auto"&&ratio>q.n-0.5;let condition3=c=="auto"&&inverseRatio>q.n-0.5;let condition4=c=="horizontal";let condition5=c=="vertical";if(condition||condition2||condition4){q.cols=q.n;q.rows=1}else{if(condition3||condition5){q.cols=1;q.rows=q.n}else{q.cols=Math.ceil(Math.sqrt(q.n));q.rows=Math.ceil(q.n/q.cols)}}q[t]={};q.levels=p.levels;for(var f=0;f<j.length;f++){var d=e[f];if(!q[t][d]){q[t][d]={data:[],count:0,sum:0,mean:0,max:0}}q[t][d].data.push(g[f])}for(var f in q[t]){q[t][f].count=q[t][f].data.length;q[t][f].sum=this.RD(q[t][f].data);q[t][f].mean=this.NA(q[t][f].data);q[t][f].max=this.K1(q[t][f].data);switch(h){case"count":q[t][f].value=q[t][f].count;q[t][f].scale=this[this.axisAlgorithm](0,q[t][f].count,5,false,this.axisWilkinsonLoose);q[t][f].reference=q[t][f].count;break;case"countTotal":q[t][f].value=q[t][f].count;q[t][f].scale=this[this.axisAlgorithm](0,q.count,5,false,this.axisWilkinsonLoose);q[t][f].reference=q.count;break;case"average":case"mean":case"raw":q[t][f].value=q[t][f].mean;q[t][f].scale=this[this.axisAlgorithm](0,q[t][f].max,5,false,this.axisWilkinsonLoose);q[t][f].reference=q[t][f].max;break;case"sum":q[t][f].value=q[t][f].sum;q[t][f].scale=this[this.axisAlgorithm](0,q[t][f].sum,5,false,this.axisWilkinsonLoose);q[t][f].reference=q[t][f].sum;break;case"sumTotal":q[t][f].value=q[t][f].sum;q[t][f].scale=this[this.axisAlgorithm](0,q.sum,5,false,this.axisWilkinsonLoose);q[t][f].reference=q.sum;break;case"percentage":q[t][f].value=100;q[t][f].scale=this[this.axisAlgorithm](0,100,5,false,this.axisWilkinsonLoose);q[t][f].reference=100;break;case"percentageTotal":q[t][f].value=q[t][f].mean*100/q.max;q[t][f].scale=this[this.axisAlgorithm](0,Math.max(100,q[t][f].value),5,false,this.axisWilkinsonLoose);q[t][f].reference=Math.max(100,q[t][f].value);break}}}else{t=false}}if(!t){q.n=1;q.cols=1;q.rows=1}q.width=b/q.cols;q.height=o/q.rows};this.uV=function(){if(this.isSwimmerSumarized){if(this.isGroupedData!=this.isSwimmerSumarized.grouped){delete this.isSwimmerSumarized}}if(!this.isSwimmerSumarized){var u=this;var o=function(){var c={title:"Response",shape:[u.shapes[0],u.shapes[1]],shapeColor:["grey","grey"],size:[false,false],line:[false,false],lineColor:[false,false],lineStart:[false,false],lineEnd:[false,false],text:["Response Start","Response End"]};for(var e in z.color){c.shape.push(false);c.shapeColor.push(false);c.size.push(false);c.line.push("solid");c.lineColor.push(z.color[e]);c.lineStart.push(false);c.lineEnd.push(false);c.text.push(e)}c.shape.push("triangle");c.shapeColor.push("grey");c.size.push(false);c.line.push(false);c.lineColor.push(false);c.lineStart.push(false);c.lineEnd.push(false);c.text.push("Continued Response");return c};var z={high:[],cap:[],fill:[],color:{},shape:{},smps:{},grouped:this.isGroupedData};var a=this.Md();var b=this.tU(this.swimHigh);var q=this.tU(this.swimStart);var f=this.tU(this.swimEnd);if(!this.swimStatus){this.swimStatus="Status"}if(!this.swimHighCap){this.swimHighCap="HighCap"}var B=this.meta.data.x&&this.meta.data.x.hasOwnProperty(this.swimStatus)?this.meta.data.x[this.swimStatus]:false;var y=this.meta.data.x&&this.meta.data.x.hasOwnProperty(this.swimHighCap)?this.meta.data.x[this.swimHighCap]:false;if(this.isGroupedData){this.isGroupedData=false;for(var p=0;p<a.length;p++){for(var k=0;k<this.data.w.grps[a[p]].length;k++){var t=this.data.w.grps[a[p]][k];var r=this.Cb(b,t,false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);var A=this.Cb(q,t,false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);var w=this.Cb(f,t,false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);z.smps[this.data.w.smps[a[p]]]=p;z.fill[p]=this.wn(a[p],t,"colorBy");if(B){var d=this.Mk(t,"x",this.swimStatus);if(!z[d]){z[d]=[]}if(!z[d][p]){z[d][p]=[]}z[d][p].push([A,w]);z.color[d]=this.uf(this.meta.data.x[this.swimStatus].colors[this.meta.data.x[this.swimStatus].order[d]],-50)}else{if(!z.none){z.none=[]}if(!z.none[p]){z.none[p]=[]}z.none[p].push([A,w]);z.color.none="green"}z.high.push(r);if(y){var x=this.Mk(t,"x",this.swimHighCap);z.cap[p]=x&&x.match(/arrow/i)?true:false}}}this.isGroupedData=true}else{for(var p=0;p<a.length;p++){var r=this.Cb(b,a[p],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);var A=this.Cb(q,a[p],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);var w=this.Cb(f,a[p],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);z.smps[this.data.y.smps[a[p]]]=p;z.fill[p]=this.wn(r[p],a[p],"colorBy");if(B){var d=this.Mk(a[p],"x",this.swimStatus);if(!z[d]){z[d]=[]}if(!z[d][p]){z[d][p]=[]}z[d][p].push([A,w]);z.color[d]=this.uf(this.meta.data.x[this.swimStatus].colors[this.meta.data.x[this.swimStatus].order[d]],-50)}else{if(!z.none){z.none=[]}if(!z.none[p]){z.none[p]=[]}z.none[p].push([A,w]);z.color.none="green"}z.high.push(r);if(y){var x=this.Mk(a[p],"x",this.swimHighCap);z.cap[p]=x&&x.match(/arrow/i)?true:false}}}this.isSwimmerSumarized=z;this.customLegend[0]=o()}};this.et=function(){if(this.isOncoprint&&!this.isOncoprintSumarized){var g=this;var q=this.data;var k=80;var p=this.meta.data;var o=function(){for(var c=0;c<p[g.oncoprintCNA].levels.length;c++){if(p[g.oncoprintCNA].levels[c].match(/ampli/i)){return c}}return false};var a=function(){for(var c=0;c<p[g.oncoprintCNA].levels.length;c++){if(p[g.oncoprintCNA].levels[c].match(/delet/i)){return c}}return false};var l=function(){var x=p[g.oncoprintCNA].levels.length;var w={};var s=o();var c=a();var u=[];if(s!=null){w[p[g.oncoprintCNA].levels[s]]="rgb(255,0,0)"}if(c!=null){w[p[g.oncoprintCNA].levels[c]]="rgb(0,0,255)"}for(var t=0;t<p[g.oncoprintCNA].levels.length;t++){var j=p[g.oncoprintCNA].levels[t];if(w.hasOwnProperty(j)){u.push(w[j])}else{if(j==""){u.push("rgb(220,220,220)")}else{u.push(g.colors[t])}}}p[g.oncoprintCNA].colors=u};var r=function(){if(g.oncoprintMUT){var j=p[g.oncoprintMUT].levels.length;if(CanvasXpress.colorSchemes.Greens[j]){p[g.oncoprintMUT].colors=CanvasXpress.colorSchemes.Greens[j]}else{if(j==2){var c=CanvasXpress.colorSchemes.Greens[3];p[g.oncoprintMUT].colors=[c[1],c[2]]}else{if(j==1){p[g.oncoprintMUT].colors=["rgb(0,153,0)"]}else{p[g.oncoprintMUT].colors=CanvasXpress.colorSchemes.Greens[9]}}}}};var f={cols:[],rows:[]};l();r();for(var e=0;e<q.y.vars.length;e++){f.rows[e]={CNA:{},MUT:{},TOT:0};for(var d=0;d<p[this.oncoprintCNA].levels.length;d++){var h=p[this.oncoprintCNA].levels[d];f.rows[e].CNA[h]=0}for(var d=0;d<p[this.oncoprintMUT].levels.length;d++){var b=p[this.oncoprintMUT].levels[d];f.rows[e].MUT[b]=0}}for(var e=0;e<q.y.smps.length;e++){f.cols[e]={CNA:{},MUT:{},TOT:0};for(var d=0;d<p[this.oncoprintCNA].levels.length;d++){var h=p[this.oncoprintCNA].levels[d];f.cols[e].CNA[h]=0}for(var d=0;d<p[this.oncoprintMUT].levels.length;d++){var b=p[this.oncoprintMUT].levels[d];f.cols[e].MUT[b]=0}}for(var e=0;e<q.y.vars.length;e++){for(var d=0;d<q.y.smps.length;d++){var h=this.Cb(e,d,false,false,false,false,this.oncoprintCNA);var b=this.Cb(e,d,false,false,false,false,this.oncoprintMUT);if(h){f.rows[e].CNA[h]++;f.cols[d].CNA[h]++}if(b){f.rows[e].MUT[b]++;f.cols[d].MUT[b]++}if(h||b){f.rows[e].TOT++;f.cols[d].TOT++}}}if(!q.z){q.z={}}for(var e=0;e<p[this.oncoprintCNA].levels.length;e++){var h=p[this.oncoprintCNA].levels[e];q.z[h]=[];for(var d=0;d<q.y.vars.length;d++){q.z[h][d]=f.rows[d].CNA[h]}this.wD("z",h,false,true);this.varOverlayProperties[h]={type:"Stacked",position:"top",thickness:k,color:p[this.oncoprintCNA].colors[e],showName:false,showBox:false};if(this.oncoprintColSummary){this.varOverlays.push(h)}}for(var e=0;e<p[this.oncoprintMUT].levels.length;e++){var b=p[this.oncoprintMUT].levels[e];q.z[b]=[];for(var d=0;d<q.y.vars.length;d++){q.z[b][d]=f.rows[d].MUT[b]}this.wD("z",b,false,true);this.varOverlayProperties[b]={type:"Stacked",position:"top",thickness:k,color:p[this.oncoprintMUT].colors[e],showName:false,showBox:false};if(this.oncoprintColSummary){this.varOverlays.push(b)}}q.z["Altered-Vars"]=[];q.z["% Altered-Vars"]=[];for(var e=0;e<q.y.vars.length;e++){q.z["Altered-Vars"][e]=f.rows[e].TOT;q.z["% Altered-Vars"][e]=(f.rows[e].TOT/q.y.smps.length*100).toFixed(1)+"%"}this.wD("z","Altered-Vars",false,true);this.wD("z","% Altered-Vars",false,true);this.varOverlayProperties["% Altered-Vars"]={type:"Text",position:"bottom",thickness:this.overlaysThickness+2,showName:false};if(!q.x){q.x={}}for(var e=0;e<p[this.oncoprintCNA].levels.length;e++){var h=p[this.oncoprintCNA].levels[e];q.x[h]=[];for(var d=0;d<q.y.smps.length;d++){q.x[h][d]=f.cols[d].CNA[h]}this.wD("x",h,false,true);this.smpOverlayProperties[h]={type:"Stacked",position:"right",thickness:k,color:p[this.oncoprintCNA].colors[e],showName:false,showBox:false};if(this.oncoprintRowSummary){this.smpOverlays.push(h)}}for(var e=0;e<p[this.oncoprintMUT].levels.length;e++){var b=p[this.oncoprintMUT].levels[e];q.x[b]=[];for(var d=0;d<q.y.smps.length;d++){q.x[b][d]=f.cols[d].MUT[b]}this.wD("x",b,false,true);this.smpOverlayProperties[b]={type:"Stacked",position:"right",thickness:k,color:p[this.oncoprintMUT].colors[e],showName:false,showBox:false};if(this.oncoprintRowSummary){this.smpOverlays.push(b)}}q.x["Altered-Smps"]=[];q.x["% Altered-Smps"]=[];for(var e=0;e<q.y.smps.length;e++){q.x["Altered-Smps"][e]=f.cols[e].TOT;q.x["% Altered-Smps"][e]=(f.cols[e].TOT/q.y.vars.length*100).toFixed(1)+"%"}this.wD("x","Altered-Smps",false,true);this.wD("x","% Altered-Smps",false,true);this.smpOverlayProperties["% Altered-Smps"]={type:"Text",position:"left",thickness:Math.ceil(p.x["% Altered-Smps"].maxLevLen),showName:false,rotate:true};if(this.oncoprintRowSummary){this.smpOverlays.push("% Altered-Smps")}this.isOncoprintSumarized=true;this.kY()}};this.AL=function(){if(this.isUpSet&&!this.isUpSetSumarized){this.isUpSetSumarized={vars:[],smps:[]};this.showHeatmapIndicator=false;this.showVariableNames=false;var l=[];var a=[];for(var g=0;g<this.data.y.smps.length;g++){l[g]=0;if(this.upSetSets.length){if(this.upSetSets.includes(this.data.y.smps[g])){a.push(g)}}else{a.push(g)}for(var f=0;f<this.data.y.vars.length;f++){if(this.data.y.data[f][g]>0){l[g]++}}}if(!this.data.x){this.data.x={}}this.data.x.Sets=l;a=a.sort(function(s,j){return l[j]-l[s]});if(!this.upSetSets.length){a=a.splice(0,this.nUpSets)}this.isUpSetSumarized.vars=this.TU(a.reverse());a=this.l4(a);var b=[];var o=[];var r=[];var c=[];var e={};var h={};var k=[];for(var g=0;g<this.data.y.vars.length;g++){o=[];b[g]=0;for(var f=0;f<this.data.y.smps.length;f++){if(this.data.y.data[g][f]>0){b[g]++;if(a.hasOwnProperty(f)){o.push(f)}}}var q=o.join(":");if(!e.hasOwnProperty(q)){e[q]=[]}e[q].push(g)}this.isUpSetSumarized.inter=e;var p=[];for(var g in e){var d=g.split(":").length;h[g]=e[g].length;if(g!=""){p.push(g)}for(var f=0;f<e[g].length;f++){r[e[g][f]]=h[g];c[e[g][f]]=g;k[e[g][f]]=d}}if(!this.data.z){this.data.z={}}this.data.z.Matrix=b;this.data.z.Size=r;this.data.z.Label=c;this.data.z.Terms=k;p=p.sort(function(s,j){return s.split(":").length-j.split(":").length||e[j].length-e[s].length});for(var g=0;g<p.length;g++){this.isUpSetSumarized.smps.push(e[p[g]][0])}this.smpIndices=this.isUpSetSumarized.vars;this.varIndices=this.isUpSetSumarized.smps;this.wD("z","Matrix");this.wD("z","Size");this.wD("z","Label");this.wD("z","Terms");this.varOverlayProperties.Size={type:"Bar",position:"top",color:this.upsetMainBarColor,thickness:(this.layoutValid?this.layoutHeight:this.height)*this.upsetMatrixPlotBarRatio,showBox:false};this.varOverlays.push("Size");this.wD("x","Sets");this.smpOverlayProperties.Sets={type:"Bar",position:"left",color:this.upsetSetsBarColor,thickness:(this.layoutValid?this.layoutWidth:this.width)*0.2,showBox:false};this.smpOverlays.push("Sets")}};this.Cb=function(h,g,o,d,f,p,q,l,b){var c=Number.NaN;var a=this.isGroupedData?this.data.w:this.data.y;if(l){c=this.data.y[l][h][g]}else{if(this.isGroupedData||!this.isRawData){if(this.isTransformedData){if(!o){c=a.trans[h][g]}else{if(o=="stdev"){c=a.tstdev[h][g]}else{if(a.hasOwnProperty(o)){c=a[o][h][g]}}}}else{o=o?o:this.summaryType;if(a.hasOwnProperty(o)){c=a[o][h]?a[o][h][g]:NaN}else{c=0}}}else{if(o){if(a[o]&&a[o][h]){c=a[o][h][g]}else{if(o=="sum"&&!this.isGroupedData){c=a.data[h][g]}}}else{if(this.isTransformedData&&a.trans&&a.trans.length){c=a.trans[h][g]}else{c=a.data[h][g]}if(b){c=b-c}}}}if(d!="percentile"&&((f!=null||p!=null||q))){if(q){if(o=="out"){for(var e=0;e<c.length;e++){c[e]*=q}}else{c*=q}}if(f!=null&&f!=false&&f!=undefined){if(o=="out"){for(var e=0;e<c.length;e++){c[e]=Math.max(f,c[e])}}else{c=Math.max(f,c)}}if(p!=null&&p!=false&&p!=undefined){if(o=="out"){for(var e=0;e<c.length;e++){c[e]=Math.min(p,c[e])}}else{c=Math.min(p,c)}}}if(d){if(!isNaN(c)){if(d=="log2"){c=Math.log(c)/Math.LN2}else{if(d=="log10"){c=Math.log(c)/Math.LN10}else{if(d=="-log2"){c=-Math.log(c)/Math.LN2}else{if(d=="-log10"){c=-Math.log(c)/Math.LN10}else{if(d=="exp2"){c=Math.pow(2,c)}else{if(d=="exp10"){c=Math.pow(10,c)}else{if(d=="sqrt"){c=Math.sqrt(c)}else{if(d=="percentile"){c=this.cL(f,p,c)}}}}}}}}}}return c==null?Number.NaN:c};this.BO=function(b){var a=[];var d=this.data.y.data.length;for(var c=0;c<d;c++){a.push(this.data.y.data[c][b])}return a};this.wT=function(k,o,j,d){var h=[];if(!o){o=this.varIndices}if(this.isGroupedData||!this.isRawData){var b=this.isGroupedData?this.data.w:this.data.y;if(this.isTransformedData){if(b.trans[0]&&b.trans[0][k]){h.push(b.trans[0][k])}}else{j=this.summaryType=="iqr"?"median":this.summaryType;if(b.hasOwnProperty(j)&&b[j].length){var c=this.isDOE&&this.isDOE==1?this.data.y.vars.length:o.length;for(var g=0;g<c;g++){var l=o[g];if(b[j][l]){h.push(b[j][l][k])}}}}}else{var f=j?this.data.y[j]:this.data.y.data;var c=this.isDOE&&this.isDOE==1?this.data.y.vars.length:o.length;var a=this.xAxisIndices||[];var p=this.yAxisIndices||[];var e=a.includes(k)?"x":p.includes(k)?"y":false;if(this.isTransformedData){for(var g=0;g<c;g++){var l=o[g];if(this.data.y.trans[l]){h.push(this.data.y.trans[l][k])}}}else{if(d){for(var g=0;g<c;g++){var l=o[g];if(l==undefined){continue}h.push(this.Cb(l,k,false,d,this[e+"AxisFloorValue"],this[e+"AxisCeilValue"],this[e+"AxisFactorValue"]))}}else{for(var g=0;g<c;g++){var l=o[g];if(f[l]){if(e){h.push(this.Cb(l,k,false,d,this[e+"AxisFloorValue"],this[e+"AxisCeilValue"],this[e+"AxisFactorValue"]))}else{h.push(f[l][k])}}}}}}return h};this.hU=function(b){var a=[];var e=this.smpIndices.length;if(this.isTransformedData){for(var c=0;c<e;c++){var d=this.smpIndices[c];a.push(this.data.y.trans[b][d])}}else{for(var c=0;c<e;c++){var d=this.smpIndices[c];a.push(this.data.y.data[b][d])}}return a};this.C6=function(a){var c={};if(this.data.z){for(var b in this.data.z){c[b]=this.Mk(a,"z",b)}}c[name]=this.data.y.vars[a];return c};this.sO=function(a){if(this.isGroupedData){return this.Yg(a)}else{return this.R0(a)}};this.R0=function(a){var c={};if(this.data.x){for(var b in this.data.x){c[b]=this.Mk(a,"x",b)}}else{i=Math.min(Math.max(Math.floor(v*(m.vals.length+1)/m.vals[n])-1,0),n)}c.name=this.data.y.vars[a];return c};this.Yg=function(a){var d=[];var e=this.data.w.grps[a].length;for(var b=0;b<e;b++){var c=this.data.w.grps[a][b];d.push(this.getMetaDataForSmpAtIndex[c])}return d};this.PR=function(f,a,b,e){var d=this.layoutComb&&this.layoutParams?this.layoutParams[f||0]:this;if(!a){a=d.varIndices}if(!b){b=this.isGroupedData?d.grpIndices:d.smpIndices}if(e||!d.startingVarIndices||d.startingVarIndices.length==0){d.startingVarIndices=this.TU(a)}if(this.isGroupedData){if(e||!d.startingGrpIndices||d.startingGrpIndices.length==0){d.startingGrpIndices=this.TU(b)}}else{if(e||!d.startingSmpIndices||d.startingSmpIndices.length==0){d.startingSmpIndices=this.TU(b)}}};this.eP=function(c){var f=["colorNodeBy","shapeNodeBy","sizeNodeBy","patternNodeBy"];var h=["colorEdgeBy","SizeEdgeBy"];var g=this.meta.data;for(var e=0;e<f.length;e++){var b=this[f[e]];if(!g.nodes.hasOwnProperty(b)){this[f[e]]=false}}for(var e=0;e<h.length;e++){var b=this[h[e]];if(!g.edges.hasOwnProperty(b)){this[h[e]]=false}}if(this.decorations){var k=[];for(var e=0;e<this.decorations.length;e++){var j=this.decorations[e];if(g.nodes.hasOwnProperty(j)){k.push(j)}}this.decorations=k}if(c){this.U6()}};this.mU=function(e){var r=this;var q=["color","shape","size","line","pattern","outline","connect","motion","ellipse","ridge","stack","pie"];var b=this.Pt();var c="";var o=function(){if(r.graphType.match(/Scatter/)){if(r.meta.data.hasOwnProperty("z")&&r.meta.data.z.hasOwnProperty("variable")){return"variable"}else{return false}}else{if(r.meta.data.hasOwnProperty("x")&&r.meta.data.x.hasOwnProperty("variable")){return"variable"}else{return false}}};for(var h=0;h<q.length;h++){var u=this[q[h]+"By"];if(this.tO(u)){u=u[0]}var s=this[u+"Data"];if(u){if(this.isMultidimensionalData){if(s&&!this.data.y[s]){this[q[h]+"By"]=false;this[u+"Data"]=false}}else{if(u=="variable"){continue}else{if(u=="data"&&this.ridgeBy){continue}else{if(this.data.x&&this.data.x.hasOwnProperty(u)){continue}else{if(this.data.z&&this.data.z.hasOwnProperty(u)){if(q[h].match(/ellipse|ridge/)&&this.meta.data.z[u].type=="Numeric"){this[q[h]+"By"]=false}continue}else{if(this.yV(u)!=-1||this.yV(u,true)!=-1){continue}else{if(this.yW()&&u=="sample"&&(q[h]=="shape"||q[h]=="color")){continue}else{this[q[h]+"By"]=false}}}}}}}}}if(this.treemapBy.length>0){var k=[];var g=[];for(var h=0;h<this.treemapBy.length;h++){if(this.treemapBy[h]=="sample"){g.push("sample")}else{if(!this.data.x||!this.data.x.hasOwnProperty(this.treemapBy[h])){g.push("sample")}else{if(this.data.x&&this.data.x.hasOwnProperty(this.treemapBy[h])){k.push(this.treemapBy[h])}}}}if(g.length>0){}this.treemapBy=k}var p=this.graphType.match(/Boxplot|Dotplot|Gantt|Scatter|Map|Circular/)||this.graphType=="Tree";if(this.shapeBy&&!this.isMultidimensionalData&&!p){c+="shapeBy changed to false (shapeBy not support in"+this.graphType+")\n";this.shapeBy=false}else{if(this.shapeBy&&this.groupingFactors.length>1&&!p){c+="shapeBy changed to variable (multiple grouping factors not allowed)\n";this.shapeBy="variable"}else{if(this.shapeBy&&this.groupingFactors.length==1&&this.shapeBy!=this.groupingFactors[0]&&!p){c+="shapeBy changed to variable (grouping factor should the same as shapeBy)\n";this.shapeBy="variable"}}}if(this.sizeBy&&!this.isMultidimensionalData&&!p){c+="sizeBy changed to false (sizeBy not support in"+this.graphType+")\n";this.sizeBy=false}else{if(this.sizeBy&&this.groupingFactors.length>1&&!p){c+="sizeBy changed to variable (multiple grouping factors not allowed)\n";this.sizeBy="variable"}else{if(this.sizeBy&&this.groupingFactors.length==1&&this.sizeBy!=this.groupingFactors[0]&&!p){c+="sizeBy changed to variable (grouping factor should the same as sizeBy)\n";this.sizeBy="variable"}}}if(this.colorBy&&this.graphType=="Heatmap"&&!this.isMultidimensionalData){this.mJ(this.colorBy)}else{if(this.graphType=="Heatmap"&&this.heatmapType=="split"&&b){this.GG()}else{if(this.colorBy&&this.groupingFactors.length>1&&!this.graphType.match(/Boxplot|Dotplot|Gantt|Scatter|Stacked|Treemap/)&&!this.isCxplot){c+="colorBy changed to variable (multiple grouping factors not allowed)\n";this.colorBy="variable"}else{if(this.colorBy&&this.groupingFactors.length==1&&this.colorBy!=this.groupingFactors[0]&&!this.graphType.match(/Boxplot|Dotplot|Gantt|Scatter|Stacked|Treemap|Line/)&&this.barType!="swimmer"){if(this.toDoPivot){this.colorBy=false}else{c+="colorBy changed to variable (grouping factor should the same as colorBy)\n";this.colorBy="variable"}}}}}if((this.shapeBy||this.sizeBy||this.patternBy||this.outlineBy)&&!this.colorBy&&!this.isMultidimensionalData&&!this.graphType=="Heatmap"&&!this.isCxplot){this.colorBy="variable"}else{if(!this.shapeBy&&!this.sizeBy&&!this.patternBy&&this.colorBy=="variable"&&this.graphType!="Map"){this.colorBy=o()}}if(this.shapeBy=="variable"&&!this.colorBy&&!this.yW()){this.colorBy="variable"}if(this.sizeBy=="variable"&&!this.colorBy&&!this.yW()){this.colorBy="variable"}if(this.patternBy=="variable"&&!this.colorBy&&!this.yW()){this.colorBy="variable"}if(this.stackBy&&!this.colorBy){this.colorBy=this.stackBy}else{if(this.stackBy&&this.colorBy&&this.stackBy!=this.colorBy){c+="colorBy changed to stackBy (remove stackBy to color by different factor)\n";this.colorBy=this.stackBy}}if(this.dodgeBy&&!this.colorBy){this.colorBy=this.dodgeBy}else{if(this.dodgeBy&&this.colorBy&&this.dodgeBy!=this.colorBy){c+="colorBy changed to dodgeBy (remove dodgeBy to color by different factor)\n";this.colorBy=this.dodgeBy}}if(this.lineBy&&!this.colorBy&&this.isGroupedData){}else{if(this.lineBy&&this.colorBy&&this.lineBy!=this.colorBy&&this.isGroupedData){c+="colorBy changed to lineBy (remove lineBy to color by different factor)\n";this.colorBy=this.lineBy}else{if(this.lineBy&&!this.isGroupedData&&this.graphType!="Scatter2D"){c+="Data needs to be grouped";this.lineBy=false}}}if(c!=""){this.s1(10,10,c,3000)}if(this.colorBy||this.shapeBy||this.sizeBy||this.lineBy){var q=["colorBy","shapeBy","lineBy"];var t=[];for(var h=0;h<q.length;h++){if(this[q[h]]){t.push(q[h])}}var w=[];for(var f=0;f<t.length;f++){if(w.indexOf(this[t[f]])===-1){w.push(this[t[f]])}}if(w.length===1){this.legendCombine=t}}if(e){this.U6()}};this.hr=function(e,d){var a=[];if(this.meta.data[e]){for(var b in this.meta.data[e]){if(d&&this.meta.data[e][b].type==d){a.push(b)}else{if(!d){a.push(b)}}}}return a};this.QN=function(d,f,c,k,e){var l=d.vals.length-1;var g;if((k[e]=="shapes"&&!this.shapeByContinuous)||(k[e]=="sizes"&&!this.sizeByContinuous)){for(var j=0;j<d.vals.length;j++){if(f<=d.vals[j]){g=j;break}}}else{g=Math.min(Math.max(Math.floor(f*(d.vals.length+1)/d.vals[l])-1,0),l)}return c?g:parseInt(this[k[e]][g%this[k[e]].length])};this.By=function(b,d,c){var e=b.vals?b.vals.length-1:b.values.length-1;return parseFloat((((d-b.min)/(b.max-b.min))*(this[c][e]-this[c][0])))+parseInt(this[c][0])};this.Mk=function(a,d,e,c){var f=d=="x"?this.data.x:d=="z"?this.data.z:false;if(this.isGroupedData&&!c&&d!="z"){var b=this.data.w;return b&&b.factors.hasOwnProperty(e)?b.factors[e][a]:"NoCatFound"}else{if(f&&f.hasOwnProperty(e)){return f[e][a]}else{return undefined}}};this.NO=function(e,c,q){var g=e?this.meta.data.nodes:this.meta.data.edges;var b=this[q];var k={colorNodeBy:"colors",colorEdgeBy:"colors",shapeNodeBy:"shapes",sizeNodeBy:"sizes",sizeEdgeBy:"sizes",patternNodeBy:"patterns"};var l=0.5;if(e){if(b&&g.hasOwnProperty(b)&&e.hasOwnProperty(b)&&e[b]!=null){if(g[b].type=="Numeric"&&q!="shapeNodeBy"){switch(q){case"colorNodeBy":return e[b]!=null?this.PW(g[b].colorBrew,Number(e[b])):false;case"shapeNodeBy":var j=parseInt(this.cL(g[b].min,g[b].max,Number(e[b]))/10);return j==10?"circle":"pie"+j;case"sizeNodeBy":var o=g[b].max-g[b].min<=10?100:g[b].max-g[b].min<=100?50:20;var j=parseInt(this.cL(g[b].min,g[b].max,Number(e[b])))/o;return Math.pow(l+j,2);case"patternNodeBy":return"closed"}}else{if(k[q]){var j=g[b].order[e[b]];return g[b][k[q]][j]}else{alert("Ooops")}}}else{q=q.replace("NodeBy","");if(e.hasOwnProperty(q)){return e[q]}else{switch(q){case"color":return this.nodeColor;case"shape":return"circle";case"size":return 1;case"pattern":return"closed"}}}}else{if(b&&g.hasOwnProperty(b)&&(c.hasOwnProperty(b))){if(q=="colorEdgeBy"){if(g[b].type=="Numeric"){return this.PW(g[b].colorBrew,Number(c[b]))}else{if(k[q]){var j=g[b].order[c[b]];return g[b][k[q]][j]}else{alert("Ooops")}}}else{if(q="sizeEdgeBy"){if(g[b].type=="Numeric"){l=Math.min(this.minEdgeSize,this.edgeThickness);var j=(parseInt(this.cL(g[b].min,g[b].max,Number(c[b]||g[b].min)))/100)*this.maxEdgeSize*this.edgeThickness;return l+(isNaN(j)?l:j)}else{if(k[q]){var j=g[b].order[c[b]];return j*this.edgeThickness}else{alert("Ooops")}}}else{alert("Ooops. Not implemented yet!")}}}else{if(q=="colorEdgeBy"){return c.color||this.edgeColor}else{if(q="sizeEdgeBy"){return c.thickness||this.edgeThickness}else{alert("Ooops. Not implemented yet!")}}}}};this.wn=function(G,E,F,D,w){var e=this;var y,x,j,B,k;var u=D||this[F];var C=this.ii();var A=this.groupingFactors&&this.groupingFactors.length==1;var o=this.data;var H=this.meta.data;var z={colorVarDendrogramBy:"colors",colorSmpDendrogramBy:"colors",colorBy:"colors",colorLabelBy:"colors",colorByData:"colors",outlineBy:"colors",outlineByData:"colors",markerBy:"colors",shapeBy:"shapes",shapeByData:"shapes",sizeBy:"sizes",sizeLabelBy:"sizes",sizeByData:"sizes",patternBy:"patterns",patternByData:"patterns",stackBy:"colors",dodgeBy:"colors",lineBy:"colors",linePatternBy:"linePatterns",confidenceBy:"colors"};var d=function(){var b={};var h=0;if(E>=0&&o.w.grps[E]){for(var g=0;g<o.w.grps[E].length;g++){var c=H.x[u].type;var a=o.x[u][o.w.grps[E][g]];if(!b.hasOwnProperty(a)){b[a]=true;h++}if(h>1){return false}}}return true};var f=function(){if(!e.patternBy){if(G>e.colors.length-1&&!e.colorBy){return e[z[F]][Math.floor(G/e.colors.length)]}else{return e[z[F]][0]}}else{return e[z[F]][0]}};var r=F&&this[z[F]]?this[z[F]].length:false;if(G!=null&&E!=null&&u&&o.y.hasOwnProperty(u)){y=o.y[u][G][E];x=H[u];j=x.type}else{if(E!=null&&u&&o.x&&o.x.hasOwnProperty(u)){x=H.x[u];if(C||!this.isGroupedData){j=x.type;y=this.graphType=="Gantt"?o.x[u][E]:this.isGroupedData?o.w.smps[E]:o.x[u][E];if(x[F]&&x[F].hasOwnProperty(y)){return x[F][y]}else{if(F=="colorSmpDendrogramBy"&&x.colorBy&&x.colorBy.hasOwnProperty(y)){return x.colorBy[y]}}}else{if((A&&(this.groupingFactors[0]==u||d()))||(!A&&this.isGroupedData&&this.isCxplot&&this.groupingFactors.length>1)){j=x.type;y=E!==false&&E>=0&&o.w.grps[E]?o.x[u][o.w.grps[E][0]]:false;if(y&&F.match(/color|patternBy/)){if(x[F]&&x[F].hasOwnProperty(y)){return x[F][y]}else{if(x[z[F]]){return x[z[F]][x.order[y]%r]}else{return this[z[F]][x.order[y]%r]}}}else{return x[z[F]]?x[z[F]][0]:F.match(/color/)?this[z[F]][0]:F=="patternBy"?f():this[z[F]][0]}}else{return G!=null&&F.match(/color/)?this[z[F]][G%r]:F=="patternBy"?f():this[z[F]][0]}}}else{if(G!=null&&u&&o.z&&o.z.hasOwnProperty(u)){x=H.z[u];j=x.type;y=o.z[u][G];if(x[F]&&(x[F].hasOwnProperty(y)||x[F][y])){return x[F][y]}else{if(x[F]&&(x[F].hasOwnProperty(y+"\x00")||x[F][y+"\x00"])){return x[F][y+"\x00"]}else{if(x[F]&&x[F][y.replace("\x00","")]){return x[F][y.replace("\x00","")]}else{if(F=="colorVarDendrogramBy"&&x.colorBy&&x.colorBy.hasOwnProperty(y)){return x.colorBy[y]}else{if(x[F]&&F=="linePatterns"&&x.order&&x.order.hasOwnProperty(y)){return x[F][x.order[y]%this[F].length]}}}}}}else{if(G!=null&&E!=null&&F&&((this.isGroupedData&&H.w.smps.hasOwnProperty(F))||(!this.isGroupedData&&H.y.range.hasOwnProperty(F)))){y=o.y.data[G][E];x=H.y.range[F];j=H.y.type}else{if(G!=null&&!this.isGroupedData&&u&&H.y.range.hasOwnProperty(u)){x=H.y.range[u];j=x.type;k=E!=null?false:this.yV(u);y=E!=null?o.y.data[G][E]:o.y.data[G]?o.y.data[G][k>=0?k:0]:0;if(H.modified&&H.modified.z&&H.modified.z[u]){return this[z[F]][y%r]}else{if(!x.colorBrew){x.colorBrew=this.dl(false,x.min,x.max);x.vals=x.colorBrew.vals}}}else{if(G!=null){if(u){return this[z[F]][G%r]}else{return !u&&F.match(/color/)?this[z[F]][G%r]:F=="patternBy"?f():this[z[F]][0]}}else{return this[z[F]][0]}}}}}}if(j=="Numeric"){if(F.match(/color|outlineBy/)){return !isNaN(y)&&y!==null?this.PW(x.colorBrew,Number(y)):this.missingDataColor}else{if(F.match(/shapeBy/)){if(!isNaN(y)){return this.shapeByContinuous?"pie"+this.QN(x,y,true,z,F):this[z[F]][this.QN(x,y,true,z,F)]}else{return"sphere"}}else{if(F.match(/sizeBy/)){if(!isNaN(y)){return this.sizeByContinuous?this.By(x,y,z[F]):this.QN(x,y,false,z,F)}else{return this[z[F]][0]}}else{if(F.match(/patternBy/)){if(!isNaN(y)){return this.QN(x,y,false,z,F)}else{return"closed"}}}}}}else{if(j=="String"){if(x[z[F]]){if(w){if(F=="sizeLabelBy"){return this.Uu([5,9,13,17,21],this.cL(x[z[F]][0],x[z[F]][x[z[F]].length-1],x[z[F]][x.order[y]%x[z[F]].length])/100)}else{return this.cL(x[z[F]][0],x[z[F]][x[z[F]].length-1],x[z[F]][x.order[y]%x[z[F]].length])}}else{return F=="sizeBy"?parseInt(x[z[F]][x.order[y]%x[z[F]].length]):x[z[F]][x.order[y]%x[z[F]].length]}}else{return F=="sizeBy"?parseInt(this[z[F]][x.order[y]%this[z[F]].length]):this[z[F]][x.order[y]%this[z[F]].length]}}}};this.rj=function(a,t){var s=this.meta.data;var d=this.data;var u=this.graphType=="Network"?["nodes","edges"]:["x","z"];if(a&&t){t.colors=a;t.connects=a}else{for(var p=0;p<u.length;p++){var f=u[p];if(d[f]){if(this.graphType=="Network"){this.decorationsTextColors=[];return}else{var b=d[f]||s[f];for(var h in b){if(s[f][h]&&s[f][h].type=="String"){var r=b[h];var q=this.Ek(d[f]?r:r.levels);var c=this.nM(q);var e=c.length;if((!this.colorKey&&this.graphType!="Map")||(this.colorKey&&!this.colorKey.hasOwnProperty(h))){s[f][h].colors=[];var w=0;if(e!=a.length&&this.colorScheme){var g=this.NH(e,this.colorScheme);for(var l=0;l<c.length;l++){s[f][h].colors.push(g[w%g.length]);w++}}else{for(var l=0;l<c.length;l++){s[f][h].colors.push(a[w%a.length]);w++}}}}}}}}}};this.u4=function(){if(this.groupingFactors.length){var e=true;if(this.colorBy&&this.groupingFactors.includes(this.colorBy)&&this.data.w&&this.groupingFactors.length>1){e=false;var a=this.groupingFactors.indexOf(this.colorBy);for(var c=0;c<this.data.w.smps.length;c++){if(this.data.w.smps[c].length){if(!this.data.w.glab[c]){this.data.w.glab[c]=this.TU(this.data.w.smps[c])}var d=this.data.w.glab[c].split(" :: ");d.splice(a,1).join(" :: ");if(this.showLegend){this.data.w.smps[c]=d}}}}if(this.shapeBy&&this.groupingFactors.includes(this.shapeBy)&&this.data.w&&this.groupingFactors.length>1){e=false;var a=this.groupingFactors.indexOf(this.shapeBy);for(var c=0;c<this.data.w.smps.length;c++){if(this.data.w.smps[c].length){if(!this.data.w.glab[c]){this.data.w.glab[c]=this.TU(this.data.w.smps[c])}var d=this.data.w.glab[c].split(" :: ");d.splice(a,1).join(" :: ");if(this.showLegend){this.data.w.smps[c]=d}}}}if(e){if(this.data.w&&this.data.w.glab.length==this.data.w.smps.length){this.data.w.smps=this.TU(this.data.w.glab)}}}if(this.data.w&&this.data.w.smps&&this.groupingFactors.length){for(var c=0;c<this.segregateSamplesBy.length;c++){var a=this.groupingFactors.indexOf(this.segregateSamplesBy[c]);for(var b=0;b<this.data.w.smps.length;b++){if(this.data.w.smps[b].length){if(!this.data.w.glab[b]){this.data.w.glab[b]=this.TU(this.data.w.smps[b])}var d=this.data.w.glab[b].split(" :: ");if(a>=0){d.splice(a,1).join(" :: ")}else{d=d.join(" :: ")}this.data.w.smps[b]=d}}}}if(this.data.w){this.wD("w")}};this.qT=function(b,f,c){if(b!=null&&f){if(!c){c=this.Bj(f)}var e=[];if(this.tO(b)){if(this.tO(f)){var g=b.length;for(var d=0;d<g;d++){if(c.hasOwnProperty(b[d])){e.push(c[b[d]])}}return e}else{return c.hasOwnProperty(f)?c[f[d]]:-1}}else{return f.indexOf(b.toString())}}};this.sF=function(q,d,p,h,b){var j=[];var t={};var e=this.data[p];var g=this.meta.data[p];if(e&&q&&e[q]){g=g[q];for(var k=0;k<d.length;k++){var r=d[k];var f=this.Mk(r,p,q,h)||"";if(!t.hasOwnProperty(f)){j.push(f)}t[f]=true}if(g&&b){if(g.monthDay){j=j.sort(function(l,c){return parseInt(CanvasXpress.dates[l])-parseInt(CanvasXpress.dates[c])})}else{if(this.scatterPlotMatrix){j=j.sort(function(l,c){return l.toLowerCase().localeCompare(c.toLowerCase())})}else{j=j.sort(function(l,c){return g.n[g.order[c]]-g.n[g.order[l]]||c>l})}}}}return j};this.sN=function(k,e,b,j,g){var r=[];var d=this.data[j];if(d&&k&&d[k]){if(e){for(var f=0;f<b.length;f++){var q=b[f];var p=this.Mk(q,j,k);if(p==e){if(g&&!g[q]){r.push(q)}else{r.push(q)}}}}else{for(var f=0;f<b.length;f++){var q=b[f];var p=this.Mk(q,j,k);if(!p){if(g&&!g[q]){r.push(q)}else{r.push(q)}}}}}return r};this.hA=function(p,d,l,g,k){var b={};var h=[];var j=false;var e=this.data[k];if(!d){d=k=="x"?this.smpIndices:this.varIndices}if(e&&e.hasOwnProperty(p)){for(var f=0;f<d.length;f++){var r=d[f];var q=this.Mk(r,k,p);if(q!=null){b[q]=true;h.push(q)}else{j=true}}if(j){h.push("")}if(g){return l?h.join("+"):h}else{h=[]}for(var f in b){h.push(f)}if(j){h.push("")}return l?h.join("+"):h}};this.OU=function(a,c,b){var f=this.data;if(f.y){var k=f.y.smps;if(!k&&f.y.vars){if(!f.y.data){alert("Missing data object")}k=[];for(var e=0;e<f.y.data[0].length;e++){k.push("smp"+(e+1))}f.y.smps=k}var h=[];var g=[];if(a){for(var e=0;e<a.length;e++){h.push(a[e]);g.push(false)}}else{for(var e=0;e<k.length;e++){h.push(e);g.push(false)}}if(!c&&this.varIndices){this.V7()}this.smpIndices=this.sortDir=="descending"?h.reverse():h;this.hiddenSmps=this.sortDir=="descending"?g.reverse():g}if(this.data.w&&this.data.w.smps){h=[];g=[];this.hiddenGrps=[];for(var e=0;e<this.data.w.smps.length;e++){h.push(e);g.push(false)}this.grpIndices=this.sortDir=="descending"?h.reverse():h;this.hiddenGrps=this.sortDir=="descending"?g.reverse():g}if(this.layoutComb&&this.layoutParams&&!b){for(var e=0;e<this.layoutParams.length;e++){var j=this.layoutParams[e];if(j){if(j.startingSmpIndices){j.smpIndices=j.startingSmpIndices;j.smpIndicesStart=-1}if(this.isGroupedData&&j.startingGrpIndices){j.grpIndices=j.startingGrpIndices;j.grpIndicesStart=-1}}}}};this.yV=function(b,e,d,f,c){if(!f){f=this.isGroupedData&&!e?this.data.w.smps:this.data.y.smps;c=this.Bj(f)}return this.qT(b,f,c)};this.WE=function(b){return this[b]||[]};this.MJ=function(c,b,d){return this.sN(c,b,d||this.smpIndices,"x",this.hiddenSmps)};this.FP=function(b,c){return this.sF(b,c||this.smpIndices,"x",true)};this.tM=function(b,e){if(this.isGroupedData&&!this.data.w){this.grpIndices=[];for(var d=0;d<b.length;d++){this.grpIndices.push(b[d])}}else{this.smpIndices=[];for(var d=0;d<b.length;d++){this.smpIndices.push(b[d])}}if(e){var c=this.l4(b);var g=this.isGroupedData?this.data.w:this.data.y;var f=this.isGroupedData?this.hiddenGrps:this.hiddenSmps;for(var d=0;d<g.smps.length;d++){if(c.hasOwnProperty(d)){f[d]=false}else{f[d]=true}}}};this.as=function(g){if(this.KV()){return}if(g){var b=this.isGroupedData?this.data.w:this.data.y;var e=this.isGroupedData?this.hiddenGrps:this.hiddenSmps;var f=[];if(this.tO(g)){for(var d=0;d<g.length;d++){for(var c=0;c<b.smps.length;c++){if(b.smps[c]==g[d]){if(e[c]){e[c]=false}else{e[c]=true}break}}}}else{for(var d=0;d<b.smps.length;d++){if(b.smps[d]==g){if(e[d]){e[d]=false}else{e[d]=true}break}}}var a=[];for(var d=0;d<b.smps.length;d++){if(!e[d]){a.push(d)}}this.tM(a);this.x9({func:"hideUnhideSmps",par:[g]})}};this.J9=function(){var c=[];var g=this.isGroupedData?this.data.w.smps:this.data.y.smps;var h=this.isGroupedData?this.data.w:this.data.y;var e=this.isGroupedData?this.hiddenGrps:this.hiddenSmps;var f=this.isGroupedData?this.grpIndices:this.smpIndices;for(var d=0;d<g.length;d++){var a=-1;for(var b=0;b<f.length;b++){if(f[b]==d){a=b;break}}c.push({name:g[d],hidden:e[d],index:a})}return c};this.JA=function(b,e,d,c){return this.hA(b,e,d,c,"x")};this.lG=function(g,h){var j=this.data;if(j.y){var c=j.y.vars;if(!c){c=[];if(j.y.data){for(var f=0;f<j.y.data.length;f++){c.push("var"+(f+1))}}else{c=[];j.y.data=null}j.y.vars=c}var a=[];var b=[];if(!this.isDOE&&this.xAxis.length&&this.PG()){g=this.xAxis2.length?this.tU(this.xAxis).concat(this.tU(this.xAxis2)):this.tU(this.xAxis);if(this.tO(g)){if(!g.length&&(this.isPivot||this.graphType=="Pie"||this.graphType=="Map")){for(var f=0;f<j.y.data.length;f++){g.push(f)}}}else{if(g>=0){g=[g]}else{g=false}}}if(g&&g.length){for(var f=0;f<g.length;f++){a.push(g[f]);b.push(false)}}else{for(var f=0;f<c.length;f++){a.push(f);b.push(false)}}if(!h&&this.smpIndices){this.V7()}if(this.layoutComb&&this.layoutParams){for(var f=0;f<this.layoutParams.length;f++){var e=this.layoutParams[f];if(e&&e.startingVarIndices){e.varIndices=e.startingVarIndices;e.varIndicesStart=-1}}}this.varIndices=a;this.hiddenVars=b}};this.tU=function(b,e,d,c){if(!d){d=this.data.y.vars;c=this.Bj(d)}return this.qT(b,d,c)};this.Uf=function(c,b){var d=this[c+"VarIndices"];d=[];for(var e=0;e<b.length;e++){d.push(b[e])}};this.wV=function(b){return this[b+"VarIndices"]};this.iW=function(c,b,d){return this.sN(c,b,d||this.varIndices,"z",this.hiddenVars)};this.fO=function(b,c){return this.sF(b,c||this.varIndices,"z")};this.FE=function(b){this.varIndices=[];for(var c=0;c<b.length;c++){this.varIndices.push(b[c])}};this.CK=function(f){if(this.KV()){return}var e=this.data.y;var d=this.hiddenVars;if(f){if(this.tO(f)){for(var c=0;c<f.length;c++){for(var b=0;b<e.vars.length;b++){if(e.vars[b]==f[c]){if(d[b]){d[b]=false}else{d[b]=true}break}}}}else{for(var c=0;c<e.vars.length;c++){if(e.vars[c]==f){if(d[c]){d[c]=false}else{d[c]=true}break}}}var a=[];for(var c=0;c<e.vars.length;c++){if(!d[c]){a.push(c)}}this.FE(a);this.x9({func:"hideUnhideVars",par:[f]})}};this.tD=function(){var d=[];for(var c=0;c<this.data.y.vars.length;c++){var a=-1;for(var b=0;b<this.varIndices.length;b++){if(this.varIndices[b]==c){a=b;break}}d.push({name:this.data.y.vars[c],hidden:this.hiddenVars[c],index:a})}return d};this.MK=function(b,e,d,c){return this.hA(b,e,d,c,"z")};this.O1=function(){var e=this.data.nodes;var g={};var f={};var a={};for(var b=0;b<e.length;b++){var c=e[b];g[c.id]=c;f[c.id]=b;a[c.id]=false}this.nodes=g;this.data.nodeIndices=f;this.nodeInitialCache=a;this.ta()};this.Ui=function(){if(this.data.nodeIndices){var a=this.data.nodeIndices;var e=this.data.nodes;var f={};for(var b=0;b<e.length;b++){var c=e[b];f[c.id]=c}e=[];for(var b in a){e[a[b]]=f[b]}this.data.nodes=e;this.nodes=f;this.ta()}else{this.O1()}};this.AM=function(c){this.nodes={};this.data.nodeIndices={};var f=this.data.nodes;for(var a=0;a<f.length;a++){var b=f[a];b.hide=false;this.nodes[b.id]=b;this.data.nodeIndices[b.id]=a}var d=this.data.edges;for(var a=0;a<d.length;a++){d[a].hide=false}this.ta();if(!c){this.V7()}};this.ta=function(){this.hiddenNodes={};this.hiddenEdges={};var d=this.data.nodes;for(var a=0;a<d.length;a++){this.hiddenNodes[d[a].id]=false}var b=this.data.edges;for(var a=0;a<b.length;a++){var c=b[a].id1+":"+b[a].id2;this.hiddenEdges[c]=false}};this.h4=function(b,c){c=c?true:false;this.isHiddenNodes=c;var f=this.data.nodes;var j=this.nodes;if(b){if(this.tO(b)){for(var a=0;a<b.length;a++){var g=b[a];var e=f[this.data.nodeIndices[g]];e.hide=c;if(j&&j[g]!=null){j[g].hide=c}}}}else{for(var a=0;a<f.length;a++){var e=f[a];e.hide=c;if(j&&j[e.id]!=null){j[e.id].hide=c}}this.WI();this.x9({func:"hideUnhideNodes",par:[b,c]})}};this.Ff=function(){var d=this.data.tracks;for(var c=0;c<d.length;c++){var a=d[c];a.hide=false;var e=a.data;for(var b=0;b<e.length;b++){e[b].hide=false}}};this.cN=function(c,b,d){var e=this.meta.map.geojson.features;if(d){for(var a=0;a<e.length;a++){e[a].hidden=d}}for(var a=0;a<c.length;a++){e[c[a]].hidden=b}};this.RY=function(){if(this.meta.map&&this.meta.map.geojson){for(var a=0;a<this.meta.map.geojson.features.length;a++){this.meta.map.geojson.features[a].hidden=false}}};this.ww=function(c,a,b){if(this.graphType=="Network"){this.Ui()}else{if(this.graphType!="Genome"&&this.graphType!="Venn"){this.lG(c,b);this.OU(a,b)}}};this.F3=function(c){if(this.isGroupedData&&this.grpIndices&&this.data.w){if(c&&this.grpIndices.length){var a=[];for(var b=0;b<this.grpIndices.length;b++){var d=this.data.w.grps[this.grpIndices[b]];if(d){a=a.concat(d)}}this.smpIndices=a}else{this.ww()}}};this.QM=function(j,b,f,e){var d=this.graphType;var a=["colorByData","outlineByData","shapeByData","sizeByData","patternByData"];var h=["data2","data3","data4","data5","data6"];if(!e){this.ww(j,b,f)}if(d=="Network"||d=="Genome"||d=="Venn"){this.dL()}else{this.dL();for(var c=0;c<a.length;c++){if(this[a[c]]&&this.data.y.hasOwnProperty(this[a[c]])){this.wD(this[a[c]])}else{this[a[c]]=false}}if(this.oncoprintCNA&&this.data.y.hasOwnProperty(this.oncoprintCNA)){this.wD(this.oncoprintCNA);this.isOncoprint=true}if(this.oncoprintMUT&&this.data.y.hasOwnProperty(this.oncoprintMUT)){this.wD(this.oncoprintMUT)}if(this.heatmapType=="upset"){this.isUpSet=true}for(var c=0;c<h.length;c++){if(this.data.y.hasOwnProperty(h[c])){this.wD(h[c])}}}};this.Hx=function(c){var b=["sankey","tree","bubble","gantt","contour"];for(var a=0;a<b.length;a++){delete (c[b[a]])}return c};this.oV=function(){if(!this.isGanttDataFormated){this.data.gantt=[];for(var b=0;b<this.data.y.vars.length;b++){this.data.gantt[b]=[];for(var a=0;a<this.data.y.smps.length;a++){var c=this.data.y.data[b][a]!=null?this.KY(this.data.y.data[b][a]).getTime():null;this.data.gantt[b].push(c)}}this.isGanttDataFormated=true}};this.Zq=function(){if(!this.isQQ){this.fh(true)}};this.gK=function(){if(!this.isCDF){this.K4(true)}};this.UZ=function(){if(!this.isManhattanDataFormated){var h=this;var q=function(t,x){var u=0;for(var w=0;w<t-1;w++){u+=h.chromosomeLengths[w]}return u+x};var k=this.manhattanMarkerChromosomeNumber?this.yV(this.manhattanMarkerChromosomeNumber):-1;var o=this.manhattanMarkerPosition?this.yV(this.manhattanMarkerPosition):-1;var b=this.manhattanMarkerLogPValue?this.yV(this.manhattanMarkerLogPValue):-1;var s=this.manhattanRangeStart?this.yV(this.manhattanRangeStart):-1;var j=this.manhattanRangeEnd?this.yV(this.manhattanRangeEnd):-1;var d=this.manhattanCNV?this.yV(this.manhattanCNV):-1;if(this.scatterType=="manhattan"){if(k<0){this.scatterType=false;alert("Missing marker chromosome number");return}if(o<0){this.scatterType=false;alert("Missing marker base position");return}if(b<0){this.scatterType=false;alert("Missing marker p-value");return}}else{if(this.scatterType=="manhattanCNV"){if(k<0){this.scatterType=false;alert("Missing marker chromosome number");return}if(s<0){this.scatterType=false;alert("Missing marker start base position");return}if(j<0){this.scatterType=false;alert("Missing marker end base position");return}if(d<0){this.scatterType=false;alert("Missing CNV value");return}}}if(!this.chromosomeLengths.length&&(o>=0||j>=0)){var a=[];for(var g=0;g<this.data.y.vars.length;g++){var f=this.data.y.data[g][k];var l=this.scatterType=="manhattan"?this.data.y.data[g][o]:this.data.y.data[g][j];if(!a[f]){a[f]=[]}a[f].push(l)}for(var g=0;g<a.length;g++){this.chromosomeLengths[g]=this.K1(a[g]||[0])+1}}else{if(!this.chromosomeLengths.length){alert("Ooops! Missing chromosome lengths and no way to calculate them.");this.scatterType=false;return}}if(this.scatterType=="manhattan"){var p=this.yV("Manhattan");if(p>=0){for(var g=0;g<this.data.y.vars.length;g++){this.data.y.data[g][p]=q(this.data.y.data[g][k],this.data.y.data[g][o])}}else{this.data.y.smps.push("Manhattan");for(var g=0;g<this.data.y.vars.length;g++){this.data.y.data[g].push(q(this.data.y.data[g][k],this.data.y.data[g][o]))}}}else{if(this.scatterType=="manhattanCNV"){var e=this.yV("ManhattanStart");var r=this.yV("ManhattanEnd");if((e<0&&r>=0)||(e>=0&&r<0)){this.scatterType=false;return}else{if(e>=0&&r>=0){for(var g=0;g<this.data.y.vars.length;g++){this.data.y.data[g][e]=q(this.data.y.data[g][k],this.data.y.data[g][s]);this.data.y.data[g][r]=q(this.data.y.data[g][k],this.data.y.data[g][j])}}else{this.data.y.smps.push("ManhattanStart");this.data.y.smps.push("ManhattanEnd");for(var g=0;g<this.data.y.vars.length;g++){this.data.y.data[g].push(q(this.data.y.data[g][k],this.data.y.data[g][s]));this.data.y.data[g].push(q(this.data.y.data[g][k],this.data.y.data[g][j]))}}}}else{alert("Ooops! Wrong Manhattan type.");this.scatterType=false;return}}var c=this.meta.config.user;this.manhattanMarkerChromosomeNumberIndex=k;this.manhattanMarkerPositionIndex=o;this.manhattanMarkerLogPValueIndex=b;this.manhattanRangeStartIndex=s;this.manhattanRangeEndIndex=j;this.manhattanCNVIndex=d;this.xAxis=this.scatterType=="manhattanCNV"?["ManhattanStart"]:["Manhattan"];this.xAxisTitle=c.xAxisTitle||"Chromosome";this.yAxis=this.scatterType=="manhattanCNV"?[this.data.y.smps[d]]:[this.data.y.smps[b]];this.yAxisTitle=c.yAxisTitle||(this.scatterType=="manhattanCNV"?this.data.y.smps[d]:this.data.y.smps[b]);this.xAxisGridMajorShow=c.xAxisGridMajorShow||false;this.xAxisGridMinorShow=c.xAxisGridMinorShow||false;this.xAxisLineRighShow=c.xAxisLineRightShow||false;this.yAxisGridMinorShow=c.yAxisGridMinorShow||false;this.yAxisLineTopShow=c.yAxisLineTopShow||false;this.yAxisLineBottomShow=c.yAxisLineBottomShow||false;this.isManhattanDataFormated=true}};this.jY=function(){if(this.sankeySource&&this.sankeyTarget){this.data.sankey={nodes:[],links:[]};var g={};for(var c=0;c<this.smpIndices.length;c++){var e=this.smpIndices[c];var d=this.Mk(e,"x",this.sankeySource);var b=this.Mk(e,"x",this.sankeyTarget);var a=this.Cb(this.xAxisIndices[0],e,false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);this.data.sankey.links.push({source:d,target:b,value:a,id:e});g[d]=true;g[b]=true}var h=0;for(var c in g){this.data.sankey.nodes.push({name:c,id:h++})}var f={};this.data.sankey.nodes.forEach(function(j){f[j.name]=j});this.data.sankey.links=this.data.sankey.links.map(function(j){return{source:f[j.source],target:f[j.target],parent:j.parent,value:j.value,id:j.id}})}else{if(this.data.sankey){var f={};this.data.sankey.nodes.forEach(function(j){f[j.name]=j});this.data.sankey.links=this.data.sankey.links.map(function(j){return{source:f[j.source],target:f[j.target],parent:j.parent,value:j.value,id:j.id}})}}};this.hM=function(b){if(this.graphType=="Sankey"||(this.graphType=="Circular"&&(this.circularType=="sunburst"||this.circularType=="bubble"))){this.xAxisIndices[0]=this.tU(this.xAxis[0])}if(this.hierarchy.length>0){if(!this.data[b]||(this.data[b].hierarchy&&!this.gS(this.data[b].hierarchy,this.hierarchy))){this.data[b]={};this.data[b]["data"]={name:this.hierarchy[0],children:[]};for(var f=0;f<this.smpIndices.length;f++){var l=this.smpIndices[f];var a=this.data[b]["data"].children;for(var e=0;e<this.hierarchy.length;e++){var c=this.hierarchy[e];var h=-1;for(var d=0;d<a.length;d++){if(this.Mk(l,"x",c)==a[d].name){h=d}}if(h==-1){var g=this.Mk(l,"x",c);if(g!=null){a.push({name:g,children:[]});h=a.length-1}else{if(e==this.hierarchy.length-1){a.push({name:this.data.y.smps[l],size:this.data.y.data[this.xAxisIndices[0]][l],idx:l});continue}else{continue}}}a=a[h].children;if(e===this.hierarchy.length-1){a.push({name:this.data.y.smps[l],size:this.data.y.data[this.xAxisIndices[0]][l],idx:l})}}}}}else{this.data[b]={};this.data[b]["data"]={name:"Samples",children:[]};for(var f=0;f<this.smpIndices.length;f++){var l=this.smpIndices[f];var a=this.data[b]["data"].children;a.push({name:this.data.y.smps[l],size:this.data.y.data[this.xAxisIndices[0]][l],idx:l})}}};this.L3=function(a){var b=window.location.origin;var d={};var c=[];for(m in CanvasXpress.countries){var e=CanvasXpress.countries[m][0];d[m]=[e,b+"/data/maps/"+m+".json"];c.push(e)}for(m in CanvasXpress.usa){var e=CanvasXpress.usa[m][0];d[m]=[e,b+"/data/maps/"+m+".json"];c.push(e)}for(m in CanvasXpress.maps){d[m]=[m,CanvasXpress.maps[m]];c.push(m)}return a?c:d};this.bN=function(c){if(!c){c="png"}var b=window.location.origin+"/data/flags"+(c=="svg"?"/svg/3x2/":"/png/");var a={};for(m in CanvasXpress.countries){var e=CanvasXpress.countries[m][0];var d=c=="svg"?CanvasXpress.countries[m][3]:CanvasXpress.countries[m][3].toLowerCase();a[m]=[e,b+d+"."+c]}return a};this.YN=function(g,f,b){var d=this;var j=function(o){if(d.isJupyter&&o.hasOwnProperty("y")&&!o.hasOwnProperty("x")&&!o.hasOwnProperty("z")){var e=d.TU(o.y.vars);var l=d.TU(o.y.smps);l.unshift("Id");o=o.y.data;for(var k=0;k<o.length;k++){o[k].unshift(e[k])}o.unshift(l)}return o};if(g&&typeof g=="string"){try{g=JSON.parse(g)}catch(h){}}g=j(g);this.data=g||CanvasXpress.example;this.isExample=g?false:true;if(this.isExample){this.$(this.target).style.display="none"}this.nodesData=false;this.edgesData=false;this.featuresData=false;if(f){delete this.meta.data;this.meta.vals={}}this.validGraphTypes=[];if(Array.isArray(g)&&Array.isArray(g[0])){var c=this.arrayToCX(this.TU(g),this.meta.config.user);this.data=c.data;if(c.config&&c.config.summaryType){this.summaryType=c.config.summaryType;this.dataTableZeroHeader=c.config.dataTableZeroHeader||"";this.dataTableColOrder=c.config.dataTableColsOrder||[];this.dataTableColHide=c.config.dataTableColsHide||[]}this.Bg();if(c.config&&c.config.graphType=="Scatter2D"){this.Sx()}if(c.config.isGraphTime){this.isGraphTime=true;this.xAxisTime=c.config.xAxisTime;this.yAxisTime=c.config.yAxisTime}}else{if(this.isDataFrame&&Array.isArray(g)&&Array.isArray(g[0])){var c=this.ja(g,this.meta.config.user);this.data=c.data;this.Bg();if(c.config&&c.config.graphType=="Scatter2D"){this.Sx()}if(c.config.isGraphTime){this.isGraphTime=true;this.xAxisTime=c.config.xAxisTime;this.yAxisTime=c.config.yAxisTime}}else{this.Cv()}}if(CanvasXpress.graphTypes.OneDGraphs.includes(this.graphType)){if(this.yAxis.length){if(this.data.y.vars.includes(this.yAxis[0])){this.graphOrientation="vertical";if(this.xAxisTitle){this.smpTitle=this.xAxisTitle}if(this.yAxisTitle){this.xAxisTitle=this.yAxisTitle}}else{if(this.data.y.smps.includes(this.yAxis[0])){this.graphOrientation="horizontal";if(this.yAxisTitle){this.smpTitle=this.yAxisTitle}}}}else{if(this.yAxisTitle){this.smpTitle=this.yAxisTitle}}}if(this.data&&(this.data.y||this.data.venn||this.data.nodes||this.data.tracks||this.data.fx)){if(this.data.fx){this.Mx()}if(this.data.venn){if(this.graphType=="Venn"){this.summaryType="venn"}this.validGraphTypes.push("Venn")}if(this.data.nodes){if(this.graphType=="Network"){this.summaryType="network"}this.validGraphTypes.push("Network")}if(this.data.tracks){if(this.graphType=="Genome"){this.summaryType="genome"}this.validGraphTypes.push("Genome")}if(this.data.y){this.llmHeader=this.DL();if(!this.data.y&&!this.data.y.cor&&!this.data.y.close){alert("Dude! there is not a valid data structure");return}else{if(this.data.y.data){this.isRawData=true;this.summaryType=this.summaryType&&this.summaryType.match(/iqr|median|mean|cor|sum|max|min|count|gantt/)?this.summaryType:"raw";if(this.summaryType=="cor"){this.graphType="Correlation"}else{if(this.summaryType=="iqr"){this.graphType="Boxplot"}else{if(this.summaryType=="gantt"){this.graphType="Gantt"}else{if(this.data.y[this.summaryType]){if(this.gS(this.data.y[this.summaryType],this.data.y.data)){this.isRawData=false}}}}}if(this.graphType=="Gantt"){var a=this.tU(this.ganttStart?this.ganttStart:this.xAxis[0]?this.xAxis[0]:this.data.y.vars[0]);this.ganttStart=this.data.y.vars[a];a=this.tU(this.ganttEnd?this.ganttEnd:this.xAxis[1]?this.xAxis[1]:this.data.y.vars[1]?this.data.y.vars[1]:this.data.y.vars[0]);this.ganttEnd=this.data.y.vars[a]||this.data.y.vars[0];this.oV()}else{if(this.graphType=="Scatter2D"&&this.scatterType&&this.scatterType.match(/manhattan/)){this.UZ()}}}else{this.isRawData=false;if(this.data.y.iqr1&&this.data.y.qtl1&&this.data.y.median&&this.data.y.qtl3&&this.data.y.iqr3){this.summaryType="iqr"}else{if(this.data.y.median){this.summaryType="median"}else{if(this.data.y.mean){this.summaryType="mean"}else{if(this.data.y.cor){this.summaryType="cor"}else{if(this.data.y.sum){this.summaryType="sum"}else{if(this.data.y.max){this.summaryType="max"}else{if(this.data.y.min){this.summaryType="min"}else{if(this.data.y.count){this.summaryType="count"}else{this.summaryType=false}}}}}}}}}}this.validGraphTypes.push("Bar");this.validGraphTypes.push("Line");this.validGraphTypes.push("Area");this.validGraphTypes.push("AreaLine");this.validGraphTypes.push("BarLine");this.validGraphTypes.push("Boxplot");this.validGraphTypes.push("Dotplot");this.validGraphTypes.push("DotLine");this.validGraphTypes.push("Heatmap");this.validGraphTypes.push("Stacked");this.validGraphTypes.push("StackedLine");this.validGraphTypes.push("StackedPercent");this.validGraphTypes.push("StackedPercentLine");this.validGraphTypes.push("Pie");this.validGraphTypes.push("Correlation");this.validGraphTypes.push("Circular");if(this.data.y.smps||this.isDOE){if(this.data.y.smps.length>2||this.isDOE){this.validGraphTypes.push("Scatter2D");this.validGraphTypes.push("ScatterBubble2D");this.validGraphTypes.push("Scatter3D")}else{if(this.data.y.smps.length>1||this.isDOE){this.validGraphTypes.push("Scatter2D")}}}}this.validGraphTypes.sort();this.QM(false,false,b)}}};CanvasXpress.prototype.initAesthetics=function(){this.initLegendUtils();this.initMarkerUtils()};CanvasXpress.prototype.initScale=function(){};CanvasXpress.prototype.initGeometry=function(){this.initPrimitives();this.initUtils();this.initDendrograms();this.initGraph()};CanvasXpress.prototype.initStatistics=function(){this.initNumeric();this.initjLouvain();this.initCola();this.initMathUtils();this.initSankeyUtils();this.initTreeUtils();this.initCirclePackUtils();this.initNetworkUtils();this.initFFT();this.initContour();this.initDensity();this.initHist();this.initLoess();this.initQuantreg();this.initLAPACK();this.initClusterUtils()};CanvasXpress.prototype.initFacets=function(){this.initLayout()};CanvasXpress.prototype.initCoordinates=function(){this.initAxes()};CanvasXpress.prototype.initTheme=function(){this.oe=function(c){var a=c.toLowerCase().replace(/ /g,"");switch(a){case"grey":case"gray":case"igray":case"ggplot":return CanvasXpress.themeDef.grey;case"bw":case"blackandwhite":return CanvasXpress.themeDef.bw;case"linedraw":return CanvasXpress.themeDef.linedraw;case"light":return CanvasXpress.themeDef.light;case"dark":return CanvasXpress.themeDef.dark;case"minimal":return CanvasXpress.themeDef.minimal;case"classic":return CanvasXpress.themeDef.classic;case"void":case"void0":return CanvasXpress.themeDef.void0;case"economist":return CanvasXpress.themeDef.economist;case"excel":return CanvasXpress.themeDef.excel;case"solarized":return CanvasXpress.themeDef.solarized;case"paulTol":case"paultol":case"ptol":return CanvasXpress.themeDef.ptol;case"highcharts":return CanvasXpress.themeDef.highcharts;case"wallstreetjournal":case"wallstreet":case"wsj":return CanvasXpress.themeDef.wsj;case"tableau":return CanvasXpress.themeDef.tableau;case"stata":return CanvasXpress.themeDef.stata;case"ggblanket":return CanvasXpress.themeDef.ggblanket;case"cx":case"canvasxpress":return CanvasXpress.themeDef.cx;case"cxdark":case"canvasxpressdark":return CanvasXpress.themeDef.cxdark;case"cx2":case"canvasxpresstraditional":return CanvasXpress.themeDef.grey;default:var b=this.TU(CanvasXpress.themeDef.light);b["panel.border.colour"]=null;return b}};this.fQ=function(b){if(!b){b="x"}var e=["AxisShow","Axis2Show","AxisTitleColor","AxisTitleScaleFontFactor","AxisTextColor","AxisTextScaleFontFactor","AxisTicksShow","AxisTicksColor","AxisTicksLength","AxisTicksWidth","AxisLineBottomShow","AxisLineBottomColor","AxisLineBottomLineType","AxisLineBottomWidth","AxisLineTopShow","AxisLineTopColor","AxisLineTopLineType","AxisLineTopWidth","AxisGridMajorShow","AxisGridMajorColor","AxisGridMajorLineType","AxisGridMajorWidth","AxisGridMinorShow","AxisGridMinorColor","AxisGridMinorLineType","AxisGridMinorWidth"];var f=["r","z"];for(var d=0;d<f.length;d++){for(var c=0;c<e.length;c++){this[f[d]+e[c]]=this[b+e[c]]}}};this.Mc=function(c){var b=c.toLowerCase().replace(/ /g,"");var a=CanvasXpress.graphTypes.OneDGraphs.includes(this.graphType);this.theme="none";this.backgroundType="panel";this.colorScheme="User";this.guidesShow=false;this.guidesColor="#cccccc";this.lineDecoration="symbol";this.mapOutlineColor="#cccccc";this.objectBorderColor="rgba(0,0,0,0)";this.fitLineColor="#FFD700";this.legendColumns=1;this.widthFactor=1;switch(b){case"grey":case"gray":case"igray":case"ggplot":this.guidesShow=true;this.guidesColor="#ffffff";this.mapOutlineColor="#ffffff";this.fitLineColor="#0000FF";this.objectBorderColor="rgba(0,0,0,0)";this.colorScheme="GGPlot";break;case"bw":case"blackandwhite":this.backgroundType="solid";this.lineDecoration="pattern";this.colorScheme="BlackAndWhite";break;case"linedraw":this.colorScheme="GGPlot";break;case"light":this.colorScheme="GGPlot";break;case"dark":this.colorScheme="GGPlot";break;case"minimal":this.colorScheme="GGPlot";break;case"classic":this.colorScheme="GGPlot";break;case"void":case"void0":this.colorScheme="GGPlot";break;case"economist":this.colorScheme="Economist";this.backgroundType="solid";this.mapOutlineColor="#D5E4EB";this.legendColumns=8;if(a){this.xAxisTicksMajorShow=true}break;case"excel":this.colorScheme="Excel";this.mapOutlineColor="#C0C0C0";if(a){this.xAxisTicksMajorShow=true}break;case"solarized":this.colorScheme="Solarized";this.backgroundType="solid";this.mapOutlineColor="#FDF6E3";break;case"paulTol":case"paultol":case"ptol":this.colorScheme="PaulTol";this.backgroundType="solid";this.mapOutlineColor="#ffffff";break;case"highcharts":this.colorScheme="Highcharts";this.backgroundType="solid";this.mapOutlineColor="#ffffff";this.objectBorderColor="rgba(0,0,0,0)";this.widthFactor=0.75;break;case"wallstreetjournal":case"wsj":this.colorScheme="WallStreetJournal3";this.backgroundType="solid";this.mapOutlineColor="#F8F2E4";this.legendColumns=4;if(a){this.xAxisTicksMajorShow=true}break;case"tableau":this.colorScheme="TableauMedium";this.mapOutlineColor="#E5E5E5";break;case"stata":this.colorScheme="Stata";this.mapOutlineColor="#EAF2F3";this.legendColumns=4;if(a){this.xAxisTicksMajorShow=true}break;case"ggblanket":this.colorScheme="GGBlanket";break;case"cx":case"canvasxpress":this.colorScheme="CanvasXpress";this.stripBackgroundColor="rgba(0,0,0,0)";this.stripBackgroundBorderColor="rgba(0,0,0,0)";this.objectBorderColor="rgba(0,0,0,0)";this.xAxisLineBottomShow=true;this.xAxisTicksShow=true;break;case"cx2":case"canvasxpresstraditional":this.colorScheme="CanvasXpressTraditional";this.objectBorderColor="rgb(0,0,0)";this.panelBackgroundBorderColor="#337AB7";break;case"cxdark":case"canvasxpressdark":this.colorScheme="CanvasXpress";this.stripBackgroundColor="rgba(0,0,0,0)";this.stripBackgroundBorderColor="rgba(0,0,0,0)";this.objectBorderColor="rgba(0,0,0,0)";this.xAxisLineBottomShow=true;this.xAxisTicksShow=true;this.xAxisLineBottomColor="rgb(255,255,255)";this.smpTextColor="rgb(255,255,255)";this.smpTitleColor="rgb(255,255,255)";break;case"lastairbenderfire":this.plotBackgroundColor="#ede5d3";this.backgroundType="solid";this.xAxisGridMajorColor="#ffffff";this.yAxisGridMajorColor="#ffffff";this.zAxisGridMajorColor="#ffffff";this.rAxisGridMajorColor="#ffffff";this.colorScheme="LastAirBenderFire";break;case"lastairbenderair":this.plotBackgroundColor="#ede5d3";this.backgroundType="solid";this.xAxisGridMajorColor="#ffffff";this.yAxisGridMajorColor="#ffffff";this.zAxisGridMajorColor="#ffffff";this.rAxisGridMajorColor="#ffffff";this.colorScheme="LastAirBenderAir";break;case"lastairbenderwater":this.plotBackgroundColor="#ede5d3";this.backgroundType="solid";this.xAxisGridMajorColor="#ffffff";this.yAxisGridMajorColor="#ffffff";this.zAxisGridMajorColor="#ffffff";this.rAxisGridMajorColor="#ffffff";this.colorScheme="LastAirBenderWater";break;case"lastairbenderearth":this.plotBackgroundColor="#ede5d3";this.backgroundType="solid";this.xAxisGridMajorColor="#ffffff";this.yAxisGridMajorColor="#ffffff";this.zAxisGridMajorColor="#ffffff";this.rAxisGridMajorColor="#ffffff";this.colorScheme="LastAirBenderEarth";break;case"gameofthronestargaryen":this.colorScheme="GameOfThronesTargaryen";break;case"gameofthronesstark":this.colorScheme="GameOfThronesStark";break;case"gameofthronesstannis":this.colorScheme="GameOfThronesStannis";break;case"gameofthroneslannister":this.colorScheme="GameOfThronesLannister";break;case"gameofthronestyrell":this.colorScheme="GameOfThronesTyrell";break;case"gameofthronesmartell":this.colorScheme="GameOfThronesMartell";break;case"gameofthronestully":this.colorScheme="GameOfThronesTully";break;case"gameofthronesgreyjoy":this.colorScheme="GameOfThronesGreyjoy";break;case"gameofthronesmanderly":this.colorScheme="GameOfThronesManderly";break;case"gameofthronesarryn":this.colorScheme="GameOfThronesArryn";break;default:this.colorScheme="User";this.colors=["#0ab0db","#fe6969","#fed385","#47db0a","#9e0adb","#ff7d00","#ffa2c0","#a0d7e7","#63b5e5","#f9a7a7","#fef0c7","#83e16f","#c763e5","#ffb347","#ffc1d3","#bfe2ed"];break}};this.pO=function(a){return this.wA(a)};this.s2=function(){this.defaultThemeValues={};for(var a in CanvasXpress.themeParams){this.defaultThemeValues[a]=this[a]}};this.wA=function(c,a){if(!c){c=CanvasXpress.stack[this.target]&&CanvasXpress.stack[this.target].config&&CanvasXpress.stack[this.target].config.theme?CanvasXpress.stack[this.target].config.theme:"none"}var b=this.oe(c);this.Ct(b,true);this.fQ();this.Mc(c);this.s2();if(!a){this.x9({func:"setTheme",par:[c]})}}};CanvasXpress.prototype.initRender=function(){this.To=function(p){var l=this;var c=function(i){return s&&s.map.hasOwnProperty(i)?s.map[i]:false};if(!this.counterFoo){this.counterFoo=[]}if(!this.counterFoo[this.layoutCurrent||0]){this.counterFoo[this.layoutCurrent||0]=0}this.counterFoo[this.layoutCurrent||0]++;var m=function(i,B){var C=i.replace("draw","get")+"Area";return l[C].apply(l,B)};var q=p.p;var r=p.i;var y=p.m;var n=p.g;var t=p.s;var d=p.b;var A=p.t;var f=p.h;var h=this.meta.render;var s=h.transition;var x=q.shift();var k=p.i?m(x,q):false;var b=x.match(/^draw/)?x.replace("draw","").substring(0,1):"O";var g=h.objects.length;var o=this.transparencyHidden;n=n!=null?n.toString():g;if(!h.groups.hasOwnProperty(n)){h.groups[n]=[]}if(!h.types.hasOwnProperty(A)){h.types[A]={all:[],drawShape:[],drawLine:[],drawText:[],drawArcText:[],other:[]}}if(!h.order.includes(A)){h.order.push(A)}var w=h.types[A].hasOwnProperty(x)?h.types[A][x].length:h.types[A].other.length;var u=r&&this.tO(r)?r.join(":"):r?r:A+":"+b+":"+this.dQ(w);h.objects.push({func:x,params:q,idx:r,id:u,n:g,modifier:y,group:n,area:k,layout:(this.layoutComb?this.layoutCurrent:false),type:A,skip:t,baseline:d});h.groups[n].push(g);h.types[A].all.push(g);switch(x){case"drawShape":h.types[A].drawShape.push(g);break;case"drawLine":h.types[A].drawLine.push(g);break;case"drawText":h.types[A].drawText.push(g);break;case"drawArcText":h.types[A].drawText.push(g);break;default:h.types[A].other.push(g);break}if(n!=g&&x=="drawLine"&&h.objects[n].idx){if(!r){r=h.objects[n].idx}u=r.join(":")+":"+h.groups[n].length;h.objects[g].id=u;if(this.showBoxplotOriginalData){}}h.origin[g]=[];var a=h.map;var z=h.origin[g];if(this.showTransition){if(A=="Data"&&r&&!this.graphType.match(/Scatter|Treemap|Circular/)){if(this.isGroupedData){if((this.UT()&&r[r.length-1]!="box")||this.graphType.match(/Stacked/)){u=r[0]+":"+r[r.length-1];a[u]=g;z.push(c(u))}else{if(r.length==2&&n==g){var e=this.data.w.grps[r[1]]||[];var j=e.length;for(var v=0;v<j;v++){u=r[0]+":"+e[v];a[u]=g;z.push(c(u))}}else{if(r.length==3&&r[2]=="box"){var e=this.data.w.grps[r[1]]||[];var j=e.length;for(var v=0;v<j;v++){u=r[0]+":"+e[v]+":box";a[u]=g;z.push(c(u))}}else{a[u]=g;z.push(c(u))}}}}else{a[u]=g;z.push(c(u))}}else{a[u]=g;z.push(c(u))}}if(CanvasXpress.graphTypes.OneTwoThreeeDGraphs.includes(this.graphType)||this.graphType=="TagCloud"||this.graphType=="Map"||this.graphType=="Network"||this.graphType=="Sankey"){if(f){if(this.filterMode=="color"){switch(x){case"drawShape":q[5]=this.missingDataColor;q[6]=this.missingDataColor;break;case"drawLine":q[5]=this.missingDataColor;break;case"drawText":q[4]=this.missingDataColor;break;case"drawArcText":q[7]=this.missingDataColor;break}}else{switch(x){case"drawShape":q[5]=this.b9(this.pP(q[5]),o,true);q[6]=this.b9(this.pP(q[6])||this.foreground,o,true);break;case"drawLine":q[5]=this.b9(this.pP(q[5]),o,true);break;case"drawText":q[4]=this.b9(this.pP(q[4]),o,true);break;case"drawArcText":q[7]=this.b9(this.pP(q[7]),o,true);break}}}}if(this.debug&&!this.isSVG||(this.graphType=="Network"&&this.is3DNetwork&&this.isR)){this.db(g,g+1)}return g};this.se=function(c,d){var a=this.meta.render;var b=this.E1();if(a.objects.length>0&&!this.skipTransition&&this.showTransition){delete (a.transition);if(!d){if(this.graphType=="Network"&&!this.isLayoutDone){}else{a.transition=this.TU(a)}}}if(!c){a.objects=[];a.groups={};a.types={};a.order=[];a.map={};a.origin=[]}b.resetRender();b.resetContext()};this.db=function(k,f,h){if(!this.skipRender){this.GW("render - start");var j=this.E1();var c=this.meta.render.objects;var g=0;if(c.length>0){if(!k){k=0}if(!f){f=c.length}for(var d=k;d<f;d++){var b=c[d];var a=b.params;switch(b.func){case"drawShape":this.Fe(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],j);break;case"drawLine":this.b6(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],j);break;case"drawText":this.i0(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],j);break;case"setClipArea":this.Ad(a[0],j);break;case"resetClipArea":this.Kj(j);break;case"setGlobalCompositionOperation":this.Hl(a[0],j);break;default:this[b.func].apply(this,b.params);break}g++}}j.render();this.GW("render - end - "+g+"/"+(f-k)+" objects");if(!h){j.resetRender()}}}};CanvasXpress.prototype.initUI=function(){this.initSave();this.initSVG();this.initInterface();this.initFilterUtils();this.initSortUtils();this.initTooltip();this.initTooltipMouse();this.initTooltipDiv();this.initLLM();this.initToolbar();this.initDispatcher();this.initMenus();this.initLinks();this.initDataFilter();this.initDataTable();this.initCodeInfo();this.initBin();this.initCustomizer();this.initEvents();this.initAnimation();this.initRemote()};CanvasXpress.prototype.initDOM=function(){this.$=function(a){return window.document.getElementById(a)};this.$cX=function(b,f,c){var d=window.document.createElement(b);if(f){for(var a in f){d[a]=f[a]}}if(c){for(var a in c){d.style[a]=c[a]}}return d};this.$cXI=function(u,A,d,i,r,c){try{CanvasXpress}catch(w){return false}var v=this;var p=function(h){var f=h.target;while(f.tagName!=="svg"){f=f.parentNode}var j=v.view=="layout"||v.view=="explore"||v.view=="customize";var e=f.parentNode.className.match(/cX-Chat/);var g=j?f.getBoundingClientRect():e?v.Ej(h,f.parentNode.parentNode):v.Ej(h,f.parentNode);var b=v.$(v.target+"canvasXpressAltTooltip");var a;if(!f.dataset.title){var l=f.querySelector("title");if(!l){return false}a=l?l.innerHTML:"";f.setAttribute("data-title",a);l.parentNode.removeChild(l)}else{a=f.dataset.title}if(a=="Chat with AI"){g.y+=v.height-4}if(b){b.innerHTML=a;b.style.display="block";b.style.left=((g.left||g.x)-1.5)+"px";b.style.top=((g.top||g.y)+18)+"px"}return false};var B=function(){var a=v.$(v.target+"canvasXpressAltTooltip");if(a){a.style.display="none"}};var y=document.createElementNS("http://www.w3.org/2000/svg","svg");var w=function(b){var f={};var g=b.split(/class=/);var m="<style>";for(var l=1;l<g.length;l++){var e=g[l].match(/'(.+?)'/);if(e){var o=e[1].split(/\s+/);for(var a=0;a<o.length;a++){var j=o[a];if(CanvasXpress.icons.classes.hasOwnProperty(j)&&!f.hasOwnProperty(j)){var h=CanvasXpress.icons.classes[j];h=h.replace(/l:/g,"stroke-miterlimit:");h=h.replace(/w:/g,"stroke-width:");h=h.replace(/n:/g,"font:");h=h.replace(/s:/g,"stroke:");h=h.replace(/f:/g,"fill:");m+="."+j+h}}}}m+="</style>";return m};if(CanvasXpress.icons.use.hasOwnProperty(u)){var s="<rect class='cxnc' x='0' y='0' width='100' height='100' />";if(CanvasXpress.icons.gradients.hasOwnProperty(u)){var n=CanvasXpress.icons.gradients[u];n=n.replace(/s=/g,"style=");n=n.replace(/o=/g,"offset=");n=n.replace(/c=/g,"stop-color=");n=n.replace(/q=/g,"gradientTransform=");n=n.replace(/u=/g,"gradientUnits=");n=n.replace(/<\/s/g,"</stop").replace(/<s/g,"<stop");n=n.replace(/<\/r/g,"</radialGradient").replace(/<r/g,"<radialGradient");n=n.replace(/<\/l/g,"</linearGradient").replace(/<l/g,"<linearGradient");s+=n}for(var t=0;t<CanvasXpress.icons.use[u].length;t++){var n=CanvasXpress.icons.symbols[CanvasXpress.icons.use[u][t]];n=n.replace(/<\/y/g,"</polyline").replace(/<y/g,"<polyline");n=n.replace(/<\/l/g,"</line").replace(/<l/g,"<line");n=n.replace(/<\/c/g,"</circle").replace(/<c/g,"<circle");n=n.replace(/<\/r/g,"</rect").replace(/<r/g,"<rect");n=n.replace(/<\/p/g,"</path").replace(/<p /g,"<path ");n=n.replace(/<\/t/g,"</text").replace(/<t/g,"<text");n=n.replace(/tr=/g,"transform=");n=n.replace(/q=/g,"points=");n=n.replace(/h=/g,"height=");n=n.replace(/w=/g,"width=");n=n.replace(/c=/g,"class=");if(c){n=n.replace(/class='cxw0'/,"class='"+c+"'")}s+=n}var k=w(s);if(!r){r=24}y.setAttribute("xmlns","http://www.w3.org/2000/svg");y.setAttribute("viewBox","0 0 100 100");y.setAttribute("style","width:"+r+"px;height:"+r+"px;box-sizing:border-box;");if(A){for(var t in A){if(t=="className"){y.setAttribute("class",A[t])}else{y.setAttribute(t,A[t])}}}y.addEventListener("mousemove",p.bind(event));y.addEventListener("mouseout",B);var x=A&&A.hasOwnProperty("title")?"<title>"+A.title+"</title>":"";if(d){for(var t in d){y.style[t]=d[t]}}y.innerHTML=x+k+s}return i?new XMLSerializer().serializeToString(y):y};this.$cXIU=function(r,p,s,c){try{CanvasXpress}catch(n){return false}var i="";var q=function(d){var f={};var g=d.split(/class=|c=/);var l="<style>";for(var j=1;j<g.length;j++){var e=g[j].match(/'(.+?)'/);if(e){var a=e[1].split(/\s+/);for(var b=0;b<a.length;b++){var h=a[b];if(CanvasXpress.icons.classes.hasOwnProperty(h)&&!f.hasOwnProperty(h)){l+="."+h+CanvasXpress.icons.classes[h]}}}}l+="</style>";l=l.replace(/l:/g,"stroke-miterlimit:");l=l.replace(/w:/g,"stroke-width:");l=l.replace(/n:/g,"font:");l=l.replace(/s:/g,"stroke:");l=l.replace(/f:/g,"fill:");return l};if(r&&CanvasXpress.icons.use.hasOwnProperty(p)){var m="";if(CanvasXpress.icons.gradients.hasOwnProperty(p)){m+=CanvasXpress.icons.gradients[p];m=m.replace(/&quot;/g,'"').replace(/&apos;/g,"'");m=m.replace(/<\/y/g,"</polyline").replace(/<y/g,"<polyline");m=m.replace(/<\/l/g,"</line").replace(/<l/g,"<line");m=m.replace(/<\/c/g,"</circle").replace(/<c/g,"<circle");m=m.replace(/<\/r/g,"</rect").replace(/<r/g,"<rect");m=m.replace(/<\/p/g,"</path").replace(/<p /g,"<path ");m=m.replace(/<\/t/g,"</text").replace(/<t/g,"<text");m=m.replace(/tr=/g,"transform=");m=m.replace(/q=/g,"points=");m=m.replace(/h=/g,"height=");m=m.replace(/w=/g,"width=");m=m.replace(/c=/g,"class=")}for(var n=0;n<CanvasXpress.icons.use[p].length;n++){var o=CanvasXpress.icons.symbols[CanvasXpress.icons.use[p][n]].replace(/&quot;/g,'"').replace(/&apos;/g,"'");o=o.replace(/<\/y/g,"</polyline").replace(/<y/g,"<polyline");o=o.replace(/<\/l/g,"</line").replace(/<l/g,"<line");o=o.replace(/<\/c/g,"</circle").replace(/<c/g,"<circle");o=o.replace(/<\/r/g,"</rect").replace(/<r/g,"<rect");o=o.replace(/<\/p/g,"</path").replace(/<p /g,"<path ");o=o.replace(/<\/t/g,"</text").replace(/<t/g,"<text");o=o.replace(/tr=/g,"transform=");o=o.replace(/q=/g,"points=");o=o.replace(/h=/g,"height=");o=o.replace(/w=/g,"width=");o=o.replace(/c=/g,"class=");m+=o}m="<rect class='cxnc' x='0' y='0' width='100' height='100' />"+m;var k=q(m);if(s){for(var n in s){if(n=="className"){r.setAttribute("class",s[n])}else{r.setAttribute(n,s[n]);if(n=="title"){i="<title>"+s[n]+"</title>"}}}}if(c){for(var n in c){r.style[n]=c[n]}}r.innerHTML=i+k+m}};this.$pX=function(){var a=this;var b=a.$w;var c=a.$(a.target+b(2));if(c){return c.value}else{if(a.meta.config&&a.meta.config.user&&a.meta.config.user[b(0)]){return a.meta.config.user[b(0)]}else{return false}}};this.Cy=function(c){var b="";for(var a=0;a<c.length;a++){b+=""+c.charCodeAt(a).toString(16)}return b};this.$h=function(c){var b="";for(var a=0;a<c.length;a+=2){b+=String.fromCharCode(parseInt(c.substr(a,2),16))}return b};this.$w=function(a,d){var b=function(g){var f="";for(var e=0;e<g.length;e+=2){f+=String.fromCharCode(parseInt(g.substr(e,2),16))}return f};try{CanvasXpress}catch(c){return false}return a>50?CanvasXpress.colorWords[a]:d?b(CanvasXpress.colorWords[a].split("").reverse().join("")).split("").reverse().join(""):b(CanvasXpress.colorWords[a].split("").reverse().join(""))};this.Gf=function(){try{CanvasXpress}catch(a){return false}if(CanvasXpress.instances.length==1){this.beaconImage=this.$cX("img",{id:this.target+"-cX-Beacon-Image",src:(window.navigator.onLine?"https://www.canvasxpress.org/assets/images/beacon.gif?"+CanvasXpress.factory.client:CanvasXpress.png),width:1,height:1,loading:"eager",title:"CanvasXpress",alt:"CanvasXpress"})}else{this.beaconImage=CanvasXpress.instances[0].beaconImage}};this.$$=function(){try{CanvasXpress}catch(u){return false}var d=this;var r=CanvasXpress;var t=function(b){if(!b){b=r[s[4]]}else{if(b.length>36){return 0}}var j=b.length;var g=Number(b.substring(2,3));var h=Number(b.substring(j-3,j-2));var e=b.substring(3+g,3+g+5)[s[7]]("")[s[8]]()[s[9]]("");var a=b.substring(j-(3+h+5),j-(3+h));return Number(e+""+a+"000")};var m=["686578546f537472696e67","6472617754657874","666163746f7279","73797374656d","72656769737465726564","76616c6964","737562737472696e67","73706c6974","72657665727365","6a6f696e","43616e766173587072657373","4e6f7420612076616c696420636f7079206f6620","556e737570706f727465642056657273696f6e206f6620","20522056657273696f6e","204e6f64652056657273696f6e","697352566965776572","697352436f6e736f6c65","68726566","2f7777772e63616e7661737870726573732e6f72672f646973742f","72616e646f6d496e744265747765656e","666f6e7453697a65","666f6e744e616d65","69734378706c6f74","6378706c6f742042792043616e766173587072657373","736574506978656c496d616765","64697361626c65426561636f6e","69734a757079746572"];var s=[];for(var v=0;v<m.length;v++){s.push(d.$h(m[v]))}var x=Number(t());var c=Number(d.meta.time.start);var i=isNaN(r[s[2]][s[5]])?Number(t(r[s[2]][s[5]])):0;var q=new RegExp(s[18]).test(r[s[2]][s[17]])||r[s[3]][s[15]]||r[s[3]][s[16]];var w=d[s[22]]?s[23]:s[10];if(!q){if(x-c<0){if(!i||i-c<0){if(r[s[2]][s[5]]){w=s[11]+s[10]}setTimeout(function(){d.$$$(w)},d[s[19]](1,3)*1000)}}}};this.$$$=function(b){var h=this;var e=["6472617754657874","666f6e744e616d65"];var l=[];var j=Math.min(h.width,h.height);var k=j>1200?24:j>800?20:j>500?16:j>300?12:8;for(var g=0;g<e.length;g++){l.push(h.$h(e[g]))}var c=k+"px "+h[l[1]];h[l[0]](b,h.width-(k/2.66),h.height-(k/1.66),c,"rgba(0,0,0,1)","right","middle",false,false,false,false,false,true)};this.DW=function(){var b=this.$(this.target);var a=this.$(this.target+"-cX-Loader");if(a){a.style.display="block"}};this.hT=function(){if(!this.prompt){var a=this.$(this.target+"-cX-Loader");if(a){a.style.display="none"}this.loaded=true;this.$$()}};this.ZT=function(){var a=this.$cX("canvas").setAttribute("id",this.oy("-canvasXpress-"));window.document.body.appendChild(a);return a.id};this.oy=function(b,c){var d=0;var a=this.target+b+d;while(this.meta.ids[a]){d++;a=this.target+b+d}this.meta.ids[a]=true;return c?d:a};this.m5=function(b,e,a,d){if(b&&e){var f=this.$(b);if(f){return}else{f=this.$cX("canvas",{id:b,width:a,height:d});this.RO(f)}e.parentNode.insertBefore(f,e.nextSibling)}};this.RO=function(b,a){if(!a){a=this.meta.canvas.ctx.canvas}CanvasXpress.transferDatasetAttributes(a,b)};this.TT=function(a){var b=this.$(a);if(b){b.parentNode.removeChild(b)}};this.X0=function(){var c=window.document;var a=window.innerWidth||c.documentElement.clientWidth||c.body.clientWidth;var b=window.innerHeight||c.documentElement.clientHeight||c.body.clientHeight;return[a,b]};this.Tg=function(){var c=window.document.documentElement;var a=(window.pageXOffset||c.scrollLeft)-(c.clientLeft||0);var b=(window.pageYOffset||c.scrollTop)-(c.clientTop||0);return[a,b]};this.Rs=function(g,h){var f=this.X0();var e=g.getBoundingClientRect();var i=e.right-(this.width*0.5);var a=e.bottom-(this.height*0.5);return e.left>=0&&e.top>=0&&i<=f[0]&&a<=f[1]};this.md=function(a,b){return a&&a.classList?a.classList.contains(b):false};this.bf=function(a,b){if(a){a.classList.add(b)}};this.Nn=function(a,b){if(a){a.classList.remove(b)}};this.rU=function(d,c,b){if(d){d.classList.remove(c);d.classList.add(b)}};this.q6=function(e,g){var f=this.$cX("div",false,{position:"absolute",visibility:"hidden",top:-9999+"px",left:-9999+"px"});f.style.width="auto";f.style.whiteSpace="nowrap";f.className=g||"";f.textContent=e;document.body.appendChild(f);var a=f.offsetWidth;var b=f.offsetHeight;document.body.removeChild(f);return[a,b]};this.Ay=function(c){var b="";var d=getComputedStyle(c);for(var a=0;a<d.length;a++){b+=d[a]+":"+d.wn(d[a])+";"}return b};this.Y6=function(b){if(!b){return}try{CanvasXpress}catch(a){b.preventDefault();b.stopPropagation();return false}if(CanvasXpress.system.browser.match(/safari/i)){return false}else{if(b.preventDefault){b.preventDefault()}else{b.returnValue=false}}};this.cc=function(a){if(!a){return}if(a.stopPropagation){a.stopPropagation()}else{a.cancelBubble=true}};this.Jq=function(a){return CanvasXpress.system.isIE?"on"+a:a};this.uk=function(b,a){if("createEvent" in document){var c=document.createEvent("HTMLEvents");c.initEvent(a,false,true);b.dispatchEvent(c)}else{var c=document.createEventObject();c.eventType=a;b.fireEvent("on"+c.eventType,c)}};this.cQ=function(b){var d={};for(var a in b){d[a]=b[a]}return d};this.qD=function(f,e,h,d,c){if(f&&(typeof f)==="string"){f=this.$(f)}if(f&&e&&h){if(typeof h==="string"){var b=this[h];if(typeof b==="function"){h=b}else{return}}var g=this.meta.events;var a=f.id||f;if(!g[a]){g[a]={}}g[a][e]=[h,c];if(CanvasXpress.system.isIE){f.attachEvent(this.Jq(e),h)}else{if(e==="mousewheel"){f.addEventListener(e,h,c);f.addEventListener("DOMMouseScroll",h,c)}else{f.addEventListener(e,h,c)}}}};this.g4=function(d,b,g,e,c){if(d&&(typeof d)==="string"){d=this.$(d)}if(d&&b&&g){if(typeof g==="string"){var h=this[g];if(typeof h==="function"){g=h}else{return}}var f=this.meta.events;var a=d.id||d;var i=f[a];if(i&&i.hasOwnProperty(b)){delete i[b];if(CanvasXpress.system.isIE){d.detachEvent(this.Jq(b),g)}else{d.removeEventListener(b,g,c);if(b==="mousewheel"){d.removeEventListener("DOMMouseScroll",g,c)}}var j=this.Nv(f[a]);if(j&&j.length<1){delete f[a]}}}};this.cI=function(c,f,d,e,b,a){if(typeof this[c]==="function"){if(c&&f&&d&&e){var g=this[d];b=b||[];a=a||false;if(typeof e==="function"){this[c](f,d,e,b,a)}else{if(typeof g==="function"){f.setAttribute("data-callback-"+d,e);if(b){if(Array.isArray(b)){b=JSON.stringify(b)}f.setAttribute("data-params-"+d,b)}this[c](f,d,g,b,a)}}}}};this.oQ=function(){var a=this.meta.events;for(var b in a){var d=this.$(b)||b;for(var c in a[b]){this.g4(d,c,a[b][0],a[b][1])}}};this.lC=function(){var a=window.document;if(a.selection){a.selection.empty()}else{if(window.getSelection){window.getSelection().removeAllRanges()}}};this.zL=function(a){var b=a.target||a.srcElement;if(typeof(b)!="object"){b=this.$(b)}if(b instanceof SVGElement&&b.ownerSVGElement){b=b.ownerSVGElement}return b};this.dispatchEvent=function(a,b){a.dispatchEvent(b)};this.Pn=function(d,a){if(d){var b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(b){b(d)}else{if(!a){a=1000/60}window.setTimeout(d,a)}}};this.setTimeout=function(g,h){if(this.isR){setTimeout(g,h)}else{var f=this;var e=function(a){return new Promise(function(b,c){if(a){setTimeout(b,a)}else{setTimeout(b,1000)}})};e(h).then(function(){g.apply(f)})}};this.mG=function(b,a){this.fo("canvasXpress setInterval ready - "+a);return setInterval(b,a)};this.Jg=function(c,a){var j=this.$cX("div",{className:"CanvasXpressSelectDropdown"});var f=this.$cX("h2",{className:"CanvasXpressSelectDropdown",innerHTML:c});var e=this.$cX("select",{id:this.target+":"+c,className:"CanvasXpressSelectDropdown"},{height:"30px",padding:"0 10px"});var g=this.$cX("option",{value:"All",innerHTML:"All"});e.appendChild(g);for(var b=0;b<a.length;b++){var g=this.$cX("option",{value:a[b],innerHTML:a[b]});e.appendChild(g)}j.appendChild(f);j.appendChild(e);return j};this.YX=function(o,a,p){var m=this.$cX("div",{id:this.target+":"+o,className:"CanvasXpressRadioGroup"});var g=this.$cX("h2",{className:"CanvasXpressRadioGroup",innerHTML:o});var j=this.$cX("form",{className:"CanvasXpressRadioGroup"});for(var b=0;b<a.length;b++){var n=this.$cX("label",{className:"CanvasXpressRadioGroup",innerHTML:a[b]},{marginRight:"18px"});var k=this.$cX("input",{type:"radio",name:o,value:a[b],checked:p&&a[b]==p?true:false});n.appendChild(k);j.appendChild(n)}m.appendChild(g);m.appendChild(j);return m};this.NW=function(w,q,u,o,k){var n="cX-Toggle";var v=this.$cX("div",{className:n});var t=this.$cX("label",{className:n});var r=k?this.$cX("input",{className:n,params:w,type:"checkbox"}):this.$cX("input",{id:w||this.oy("-cX-Toggle-"),className:n,type:"checkbox"});if(q){r.checked=true}var s=this.$cX("div",{className:n+"-Switch"});var l=this.$cX("span",{className:n,innerHTML:u||""});var m=this.$cX("span",{className:n,innerHTML:o||""});t.appendChild(l);t.appendChild(r);t.appendChild(s);t.appendChild(m);v.appendChild(t);return v};this.VO=function(M,ah,ac,W,af,an){if(ac!=null&&W!=null){ac=parseFloat(ac);W=parseFloat(W);if(ac>W){var P=W;W=ac;ac=P}}var ai=this.iH(ac,W,4);ac=ai[0];W=ai[ai.length-1];var Y=W-ac;var aw=(((Y*1000000)-(parseInt(Y)*1000000))/1000000).toString().replace(/\./,"").length-1;var ar=Math.pow(1/10,(aw+1));var U=ac>0?Math.log10(ac):ac==0?0:null;var S=W>0?Math.log10(W):W==0?0:null;var au=[];var i="CanvasXpressRangeSlider";var K=an?"Small":"";if(U!=null&&S!=null){var N=this.iH(U,S,4);for(var V=0;V<N.length;V++){au.push(this.gG((Math.pow(10,N[V])),aw))}au=this.c3(au)}var av=this.$cX("div",{className:i+"Container"},{width:af+"px"});var ak=this.$cX("div",{className:i+"ContainerTop"});var ap=this.$cX("div",{className:i+"ContainerTop"},{width:"50%"});var X=this.$cX("span",{className:i+"ContainerTop",innerHTML:M});var Z=this.NW(ah+"LinLog",true,"Log","Lin");var R=this.$cX("div",{className:i+"ContainerBottom"});var ad=this.$cX("input",{id:(ah+"Min")||this.oy("-cX-RangeSliderMin-"),className:i,type:"range",min:ac,max:W,value:ac,step:ar});var aa=this.$cX("input",{id:(ah+"Max")||this.oy("-cX-RangeSliderMax-"),className:i,type:"range",min:ac,max:W,value:W,step:ar});var aq=this.$cX("input",{id:(ah+"InputMin")||this.oy("-cX-RangeSliderInputMin-"),className:i+"Min",type:"number",min:ac,max:W,value:ac,step:ar});var ao=this.$cX("input",{id:(ah+"InputMax")||this.oy("-cX-RangeSliderInputMax-"),className:i+"Max",type:"number",min:ac,max:W,value:W,step:ar});var al=this.$cX("div",{className:i+"Input"});var ae=this.$cX("div",{className:i});var ag=this.$cX("div",{className:i+"Track"});var aj=this.$cX("div",{className:i+"Range"});var am=this.$cX("div",{className:i+"ThumbLeft"});var at=this.$cX("div",{className:i+"ThumbRight"});var O=this.$cX("div",{className:i+"Ticks"});var T=this.$cX("div",{className:i+"Ticks"},{display:"none"});for(var V=0;V<ai.length;V++){O.appendChild(this.$cX("span",{className:i+"TicksLong"+K,innerHTML:ai[V]}));if(V<ai.length-1){for(var ab=0;ab<4;ab++){O.appendChild(this.$cX("span",{className:i+"Ticks",innerHTML:""}))}}}for(var V=0;V<au.length;V++){T.appendChild(this.$cX("span",{className:i+"TicksLong"+K,innerHTML:au[V]}));if(V<au.length-1){for(var ab=0;ab<4;ab++){T.appendChild(this.$cX("span",{className:i+"Ticks",innerHTML:""}))}}}if(U==null||S==null){Z.style.display="none"}ap.appendChild(X);ak.appendChild(ap);Z.firstChild.firstChild.nextSibling.tickLinear=O;Z.firstChild.firstChild.nextSibling.tickLog=T;Z.firstChild.firstChild.nextSibling.minRange=ad;Z.firstChild.firstChild.nextSibling.maxRange=aa;ak.appendChild(Z);aq.minRange=ad;ao.maxRange=aa;al.appendChild(aq);al.appendChild(ao);ad.decs=aw;ad.minInput=aq;ad.maxRange=aa;ad.minThumb=am;ad.range=aj;ad.linLog=Z.firstChild.firstChild.nextSibling;aa.decs=aw;aa.maxInput=ao;aa.minRange=ad;aa.maxThumb=at;aa.range=aj;aa.linLog=Z.firstChild.firstChild.nextSibling;ae.appendChild(ag);ae.appendChild(aj);ae.appendChild(am);ae.appendChild(at);R.appendChild(al);R.appendChild(ad);R.appendChild(aa);R.appendChild(ae);R.appendChild(O);R.appendChild(T);av.appendChild(ak);av.appendChild(R);return av};this.DU=function(){try{return window.self!==window.top}catch(a){return true}};this.Db=function(){var c=this;var a=window;var e=c.$w;Error.stackTraceLimit=0;var f=function(){var j=a.navigator.userAgent;var h;var i=j.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(/trident/i.test(i[1])){h=/\brv[ :]+(\d+)/g.exec(j)||[];return"IE "+(h[1]||"")}if(i[1]==="Chrome"){h=j.match(/\b(OPR|Edge)\/(\d+)/);if(h!=null){return h.slice(1).join(" ").replace("OPR","Opera")}}i=i[2]?[i[1],i[2]]:[a.navigator.appName,a.navigator.appVersion,"-?"];if((h=j.match(/version\/(\d+)/i))!=null){i.splice(1,1,h[1])}return i.join(" ")};var b=function(){var k=a.navigator.userAgent;var i=a.navigator.platform;var j=["Macintosh","MacIntel","MacPPC","Mac68K"];var h=["Win32","Win64","Windows","WinCE"];var m=["iPhone","iPad","iPod"];var l=null;if(j.indexOf(i)!==-1){l="Mac OS"}else{if(m.indexOf(i)!==-1){l="iOS"}else{if(h.indexOf(i)!==-1){l="Windows"}else{if(/Android/.test(k)){l="Android"}else{if(!l&&/Linux/.test(i)){l="Linux"}}}}}return l};var d=f().split(" ");var g=b();a[e(8)][e(31)]=a[e(8)][e(31)]||a[e(31)];a[e(8)][e(6)]={browser:d[0],browserVersion:d[1],os:g,alt:(g=="Mac OS"?"&#8997;":"Alt"),command:"&#8984;",control:(g=="Mac OS"?"&#8963;":"Ctrl"),shift:(g=="Mac OS"?"&#8679;":"Shift"),isNode:typeof exports==="object"&&typeof module!=="undefined",isReact:typeof React!="undefined",isjQuery:typeof $==="function",isReveal:typeof Reveal!="undefined",isZoom:typeof zoom!="undefined",isIE:this.browser=="IE"?true:false,isInIframe:(d[0].match(/safari/i)?true:this.DU())}}};CanvasXpress.prototype.initSVG=function(){function g(o,l){var n=Object.keys(l),m;for(m=0;m<n.length;m++){o=o.replace(new RegExp("\\{"+n[m]+"\\}","gi"),l[n[m]])}return o}function h(m){var o,n,l;if(!m){throw new Error("cannot create a random attribute name for an undefined object")}o="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";n="";do{n="";for(l=0;l<12;l++){n+=o[Math.floor(Math.random()*o.length)]}}while(m[n]);return n}function d(n,p){var o,m,r={},q,l;n=n.split(",");p=p||10;for(o=0;o<n.length;o+=2){m="&"+n[o+1]+";";q=parseInt(n[o],p);r[m]="&#"+q+";"}r["\\xa0"]="&#160;";return r}function f(m){var l={left:"start",right:"end",center:"middle",start:"start",end:"end"};return l[m]||l.start}function c(m){var l={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return l[m]||l.alphabetic}var a=d("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var j={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}};var i=function(m,l){this.__root=m;this.__ctx=l};i.prototype.addColorStop=function(p,l){var m=this.__ctx.__createElement("stop"),n,o;m.setAttribute("offset",p);if(l.indexOf("rgba")!==-1){n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi;o=n.exec(l);m.setAttribute("stop-color",g("rgb({r},{g},{b})",{r:o[1],g:o[2],b:o[3]}));m.setAttribute("stop-opacity",o[4])}else{m.setAttribute("stop-color",l)}this.__root.appendChild(m)};var e=function(m,l){this.__root=m;this.__ctx=l};var k=function(n){var l={width:500,height:500,desc:"",enableMirroring:false},m;if(arguments.length>1){m=l;m.width=arguments[0];m.height=arguments[1]}else{if(!n){m=l}else{m=n}}if(!(this instanceof k)){return new k(m)}this.width=m.width||l.width;this.height=m.height||l.height;this.desc=m.desc||l.desc;this.enableMirroring=m.enableMirroring!==undefined?m.enableMirroring:l.enableMirroring;this.canvas=this;this.__document=m.document||document;if(m.ctx){this.__ctx=m.ctx}else{this.__canvas=this.__document.createElement("canvas");this.__ctx=this.__canvas.getContext("2d")}this.__setDefaultStyles();this.__stack=[this.__getStyleState()];this.__groupStack=[];this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg");this.__root.setAttribute("version",1.1);this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg");this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");this.__root.setAttribute("width",this.width);this.__root.setAttribute("height",this.height);this.__root.setAttribute("desc",this.desc);this.__ids={};this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs");this.__root.appendChild(this.__defs);this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g");this.__root.appendChild(this.__currentElement)};k.prototype.__createElement=function(l,p,r){if(typeof p==="undefined"){p={}}var o=this.__document.createElementNS("http://www.w3.org/2000/svg",l),q=Object.keys(p),n,m;if(r){o.setAttribute("fill","none");o.setAttribute("stroke","none")}for(n=0;n<q.length;n++){m=q[n];o.setAttribute(m,p[m])}return o};k.prototype.__setDefaultStyles=function(){var n=Object.keys(j),m,l;for(m=0;m<n.length;m++){l=n[m];this[l]=j[l].canvas}};k.prototype.__applyStyleState=function(l){if(!l){return}var o=Object.keys(l),n,m;for(n=0;n<o.length;n++){m=o[n];this[m]=l[m]}};k.prototype.__getStyleState=function(){var n,l={},o=Object.keys(j),m;for(n=0;n<o.length;n++){m=o[n];l[m]=this[m]}return l};k.prototype.__applyStyleToCurrentElement=function(u){var q=this.__currentElement;var n=this.__currentElementsToStyle;if(n){q.setAttribute(u,"");q=n.element;n.children.forEach(function(y){y.setAttribute(u,"")})}var x=Object.keys(j),o,l,w,m,v,p;for(o=0;o<x.length;o++){l=j[x[o]];w=this[x[o]];if(l.apply){if(w instanceof e){if(w.__ctx){while(w.__ctx.__defs.childNodes.length){m=w.__ctx.__defs.childNodes[0].getAttribute("id");this.__ids[m]=m;this.__defs.appendChild(w.__ctx.__defs.childNodes[0])}}q.setAttribute(l.apply,g("url(#{id})",{id:w.__root.getAttribute("id")}))}else{if(w instanceof i){q.setAttribute(l.apply,g("url(#{id})",{id:w.__root.getAttribute("id")}))}else{if(l.apply.indexOf(u)!==-1&&l.svg!==w){if((l.svgAttr==="stroke"||l.svgAttr==="fill")&&w.indexOf&&w.indexOf("rgba")!==-1){v=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi;p=v.exec(w);q.setAttribute(l.svgAttr,g("rgb({r},{g},{b})",{r:p[1],g:p[2],b:p[3]}));var r=p[4];var t=this.globalAlpha;if(t!=null){r*=t}q.setAttribute(l.svgAttr+"-opacity",r)}else{var s=l.svgAttr;if(x[o]==="globalAlpha"){s=u+"-"+l.svgAttr;if(q.getAttribute(s)){continue}}q.setAttribute(s,w)}}}}}}};k.prototype.__closestGroupOrSvg=function(l){l=l||this.__currentElement;if(l.nodeName==="g"||l.nodeName==="svg"){return l}else{return this.__closestGroupOrSvg(l.parentNode)}};k.prototype.getSerializedSvg=function(s){var q=new XMLSerializer().serializeToString(this.__root),n,m,l,p,o,r;r=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi;if(r.test(q)){q=q.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')}if(s){n=Object.keys(a);for(m=0;m<n.length;m++){l=n[m];p=a[l];o=new RegExp(l,"gi");if(o.test(q)){q=q.replace(o,p)}}}return q};k.prototype.getSvg=function(){return this.__root};k.prototype.save=function(){var m=this.__createElement("g");var l=this.__closestGroupOrSvg();this.__groupStack.push(l);l.appendChild(m);this.__currentElement=m;this.__stack.push(this.__getStyleState())};k.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();this.__currentElementsToStyle=null;if(!this.__currentElement){this.__currentElement=this.__root.childNodes[1]}var l=this.__stack.pop();this.__applyStyleState(l)};k.prototype.__addTransform=function(m){var n=this.__closestGroupOrSvg();if(n.childNodes.length>0){if(this.__currentElement.nodeName==="path"){if(!this.__currentElementsToStyle){this.__currentElementsToStyle={element:n,children:[]}}this.__currentElementsToStyle.children.push(this.__currentElement);this.__applyCurrentDefaultPath()}var o=this.__createElement("g");n.appendChild(o);this.__currentElement=o}var l=this.__currentElement.getAttribute("transform");if(l){l+=" "}else{l=""}l+=m;this.__currentElement.setAttribute("transform",l)};k.prototype.scale=function(l,m){if(m===undefined){m=l}this.__addTransform(g("scale({x},{y})",{x:l,y:m}))};k.prototype.rotate=function(m){var l=(m*180/Math.PI);this.__addTransform(g("rotate({angle},{cx},{cy})",{angle:l,cx:0,cy:0}))};k.prototype.translate=function(l,m){this.__addTransform(g("translate({x},{y})",{x:l,y:m}))};k.prototype.transform=function(m,l,q,p,o,n){this.__addTransform(g("matrix({a},{b},{c},{d},{e},{f})",{a:m,b:l,c:q,d:p,e:o,f:n}))};k.prototype.beginPath=function(){var m,l;this.__currentDefaultPath="";this.__currentPosition={};m=this.__createElement("path",{},true);l=this.__closestGroupOrSvg();l.appendChild(m);this.__currentElement=m};k.prototype.__applyCurrentDefaultPath=function(){var l=this.__currentElement;if(l.nodeName==="path"){l.setAttribute("d",this.__currentDefaultPath)}else{console.error("Attempted to apply path command to node",l.nodeName)}};k.prototype.__addPathCommand=function(l){this.__currentDefaultPath+=" ";this.__currentDefaultPath+=l};k.prototype.moveTo=function(l,m){if(this.__currentElement.nodeName!=="path"){this.beginPath()}this.__currentPosition={x:l,y:m};this.__addPathCommand(g("M {x} {y}",{x:l,y:m}))};k.prototype.closePath=function(){if(this.__currentDefaultPath){this.__addPathCommand("Z")}};k.prototype.lineTo=function(l,m){this.__currentPosition={x:l,y:m};if(this.__currentDefaultPath.indexOf("M")>-1){this.__addPathCommand(g("L {x} {y}",{x:l,y:m}))}else{this.__addPathCommand(g("M {x} {y}",{x:l,y:m}))}};k.prototype.bezierCurveTo=function(n,m,p,o,l,q){this.__currentPosition={x:l,y:q};this.__addPathCommand(g("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:n,cp1y:m,cp2x:p,cp2y:o,x:l,y:q}))};k.prototype.quadraticCurveTo=function(n,m,l,o){this.__currentPosition={x:l,y:o};this.__addPathCommand(g("Q {cpx} {cpy} {x} {y}",{cpx:n,cpy:m,x:l,y:o}))};var b=function(m){var l=Math.sqrt(m[0]*m[0]+m[1]*m[1]);return[m[0]/l,m[1]/l]};k.prototype.arcTo=function(F,o,E,n,q){var G=this.__currentPosition&&this.__currentPosition.x;var p=this.__currentPosition&&this.__currentPosition.y;if(typeof G=="undefined"||typeof p=="undefined"){return}if(q<0){throw new Error("IndexSizeError: The radius provided ("+q+") is negative.")}if(((G===F)&&(p===o))||((F===E)&&(o===n))||(q===0)){this.lineTo(F,o);return}var u=b([G-F,p-o]);var t=b([E-F,n-o]);if(u[0]*t[1]===u[1]*t[0]){this.lineTo(F,o);return}var m=(u[0]*t[0]+u[1]*t[1]);var v=Math.acos(Math.abs(m));var B=b([u[0]+t[0],u[1]+t[1]]);var r=q/Math.sin(v/2);var A=F+r*B[0];var z=o+r*B[1];var l=[-u[1],u[0]];var w=[t[1],-t[0]];var s=function(I){var H=I[0];var J=I[1];if(J>=0){return Math.acos(H)}else{return -Math.acos(H)}};var D=s(l);var C=s(w);this.lineTo(A+l[0]*q,z+l[1]*q);this.arc(A,z,q,D,C)};k.prototype.stroke=function(){if(this.__currentElement.nodeName==="path"){this.__currentElement.setAttribute("paint-order","fill stroke markers")}this.__applyCurrentDefaultPath();this.__applyStyleToCurrentElement("stroke")};k.prototype.fill=function(){if(this.__currentElement.nodeName==="path"){this.__currentElement.setAttribute("paint-order","stroke fill markers")}this.__applyCurrentDefaultPath();this.__applyStyleToCurrentElement("fill")};k.prototype.rect=function(m,o,n,l){if(this.__currentElement.nodeName!=="path"){this.beginPath()}this.moveTo(m,o);this.lineTo(m+n,o);this.lineTo(m+n,o+l);this.lineTo(m,o+l);this.lineTo(m,o);this.closePath()};k.prototype.fillRect=function(m,q,o,l){var p,n;p=this.__createElement("rect",{x:m,y:q,width:o,height:l},true);n=this.__closestGroupOrSvg();n.appendChild(p);this.__currentElement=p;this.__applyStyleToCurrentElement("fill")};k.prototype.strokeRect=function(m,q,o,l){var p,n;p=this.__createElement("rect",{x:m,y:q,width:o,height:l},true);n=this.__closestGroupOrSvg();n.appendChild(p);this.__currentElement=p;this.__applyStyleToCurrentElement("stroke")};k.prototype.__clearCanvas=function(){var o=this.__closestGroupOrSvg(),l=o.getAttribute("transform");var n=this.__root.childNodes[1];var p=n.childNodes;for(var m=p.length-1;m>=0;m--){if(p[m]){n.removeChild(p[m])}}this.__currentElement=n;this.__groupStack=[];if(l){this.__addTransform(l)}};k.prototype.clearRect=function(m,q,o,l){if(m===0&&q===0&&o===this.width&&l===this.height){this.__clearCanvas();return}var p,n=this.__closestGroupOrSvg();p=this.__createElement("rect",{x:m,y:q,width:o,height:l,fill:"#FFFFFF"},true);n.appendChild(p)};k.prototype.createLinearGradient=function(m,o,l,n){var p=this.__createElement("linearGradient",{id:h(this.__ids),x1:m+"px",x2:l+"px",y1:o+"px",y2:n+"px",gradientUnits:"userSpaceOnUse"},false);this.__defs.appendChild(p);return new i(p,this)};k.prototype.createRadialGradient=function(o,q,n,m,p,l){var r=this.__createElement("radialGradient",{id:h(this.__ids),cx:m+"px",cy:p+"px",r:l+"px",fx:o+"px",fy:q+"px",gradientUnits:"userSpaceOnUse"},false);this.__defs.appendChild(r);return new i(r,this)};k.prototype.__parseFont=function(){var m=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i;var l=m.exec(this.font);var n={style:l[1]||"normal",size:l[4]||"10px",family:l[6]||"sans-serif",weight:l[3]||"normal",decoration:l[2]||"normal",href:null};if(this.__fontUnderline==="underline"){n.decoration="underline"}if(this.__fontHref){n.href=this.__fontHref}return n};k.prototype.__wrapTextLink=function(m,n){if(m.href){var l=this.__createElement("a");l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m.href);l.appendChild(n);return l}return n};k.prototype.__applyText=function(q,l,r,p){var n=this.__parseFont(),o=this.__closestGroupOrSvg(),m=this.__createElement("text",{"font-family":n.family,"font-size":n.size,"font-style":n.style,"font-weight":n.weight,"text-decoration":n.decoration,x:l,y:r,"text-anchor":f(this.textAlign),"dominant-baseline":c(this.textBaseline)},true);m.appendChild(this.__document.createTextNode(q));this.__currentElement=m;this.__applyStyleToCurrentElement(p);o.appendChild(this.__wrapTextLink(n,m))};k.prototype.fillText=function(m,l,n){this.__applyText(m,l,n,"fill")};k.prototype.strokeText=function(m,l,n){this.__applyText(m,l,n,"stroke")};k.prototype.measureText=function(l){this.__ctx.font=this.font;return this.__ctx.measureText(l)};k.prototype.arc=function(t,s,q,r,m,v){if(r===m){return}r=r%(2*Math.PI);m=m%(2*Math.PI);if(r===m){m=((m+(2*Math.PI))-0.001*(v?-1:1))%(2*Math.PI)}var z=t+q*Math.cos(m),w=s+q*Math.sin(m),p=t+q*Math.cos(r),o=s+q*Math.sin(r),n=v?0:1,l=0,u=m-r;if(u<0){u+=2*Math.PI}if(v){l=u>Math.PI?0:1}else{l=u>Math.PI?1:0}this.lineTo(p,o);this.__addPathCommand(g("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:q,ry:q,xAxisRotation:0,largeArcFlag:l,sweepFlag:n,endX:z,endY:w}));this.__currentPosition={x:z,y:w}};k.prototype.clip=function(){var m=this.__closestGroupOrSvg(),l=this.__createElement("clipPath"),o=h(this.__ids),n=this.__createElement("g");this.__applyCurrentDefaultPath();m.removeChild(this.__currentElement);l.setAttribute("id",o);l.appendChild(this.__currentElement);this.__defs.appendChild(l);m.setAttribute("clip-path",g("url(#{id})",{id:o}));m.appendChild(n);this.__currentElement=n};k.prototype.drawImage=function(){var n=Array.prototype.slice.call(arguments),z=n[0],u,t,v,F,x=0,w=0,C,G,s,y,l,q,o,D,p,m,B;if(n.length===3){u=n[1];t=n[2];C=z.width;G=z.height;v=C;F=G}else{if(n.length===5){u=n[1];t=n[2];v=n[3];F=n[4];C=z.width;G=z.height}else{if(n.length===9){x=n[1];w=n[2];C=n[3];G=n[4];u=n[5];t=n[6];v=n[7];F=n[8]}else{throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length)}}}s=this.__closestGroupOrSvg();o=this.__currentElement;var r="translate("+u+", "+t+")";if(z instanceof k){y=z.getSvg().cloneNode(true);if(y.childNodes&&y.childNodes.length>1){l=y.childNodes[0];while(l.childNodes.length){B=l.childNodes[0].getAttribute("id");this.__ids[B]=B;this.__defs.appendChild(l.childNodes[0])}q=y.childNodes[1];if(q){var E=q.getAttribute("transform");var A;if(E){A=E+" "+r}else{A=r}q.setAttribute("transform",A);s.appendChild(q)}}}else{if(z.nodeName==="CANVAS"||z.nodeName==="IMG"){D=this.__createElement("image");D.setAttribute("width",v);D.setAttribute("height",F);D.setAttribute("preserveAspectRatio","none");if(x||w||C!==z.width||G!==z.height){p=this.__document.createElement("canvas");p.width=v;p.height=F;m=p.getContext("2d");m.drawImage(z,x,w,C,G,0,0,v,F);z=p}D.setAttribute("transform",r);D.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",z.nodeName==="CANVAS"?z.toDataURL():z.getAttribute("src"));s.appendChild(D)}}};k.prototype.createPattern=function(o,m){var n=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),p=h(this.__ids),l;n.setAttribute("id",p);n.setAttribute("width",o.width);n.setAttribute("height",o.height);if(o.nodeName==="CANVAS"||o.nodeName==="IMG"){l=this.__document.createElementNS("http://www.w3.org/2000/svg","image");l.setAttribute("width",o.width);l.setAttribute("height",o.height);l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.nodeName==="CANVAS"?o.toDataURL():o.getAttribute("src"));n.appendChild(l);this.__defs.appendChild(n)}else{if(o instanceof k){n.appendChild(o.__root.childNodes[1]);this.__defs.appendChild(n)}}return new e(n,this)};k.prototype.setLineDash=function(l){if(l&&l.length>0){this.lineDash=l.join(",")}else{this.lineDash=null}};k.prototype.drawFocusRing=function(){};k.prototype.createImageData=function(){};k.prototype.getImageData=function(){};k.prototype.putImageData=function(){};k.prototype.globalCompositeOperation=function(){};k.prototype.setTransform=function(){};this.z2=k};CanvasXpress.prototype.initInterface=function(){this.HU=function(c){var b=this;b.WI();b.DW();var a=new XMLHttpRequest();a.open("GET",c,true);a.onreadystatechange=function(){if(a.readyState==4){if(a.status==200){var e=b.parseJSON(a.responseText);if(e){window.cXMap=e;b.updateData({data:false,config:{graphType:"Map",topoJSON:e,mapId:"cXMap"}});b.hT()}else{b.hT();alert("Oooops! Not a valid CanvasXpress json map file")}}else{b.hT();alert("Oooops! Not a valid CanvasXpress json map file")}}};a.send()};this.Ss=function(h){this.WI();var i=h.target.files[0];var j=i.name.split(".");var a=new FileReader();var g=j.pop();if(g=="json"){a.onload=function(){try{var b=this.parseJSON(a.result);this.lg();this.layoutValid=false;for(var p in b.config){this[p]=b.config[p]}if(b.afterRender){for(var d=0;d<b.afterRender.length;d++){var e=b.afterRender[d];var c=e[0];var f=e[1]||[];this[c].apply(this,f)}}else{this.x9({func:"loadParamsFile",par:(r)})}}catch(r){alert("Oooops! Not a valid CanvasXpress json parameter file")}};a.readAsText(i)}else{alert("Oooops! Not a valid CanvasXpress json parameter file")}};this.pd=function(d){var g=[];var f=[];var h=[];var c=[];for(var b=0;b<d.links.length;b++){var a=d.links[b];if(a.source&&a.target&&a.value){h.push(a.source);c.push(a.target);f.push(a.value);g.push("Smp"+(b+1))}}var e={y:{vars:["Weight"],smps:g,data:[f]},x:{Source:h,Target:c}};return{renderTo:"newSankey",data:e,config:{graphType:"Sankey",sankeySource:"Source",sankeyTarget:"Target"}}};this.mn=function(a){var b=this;var c=function(k){var w=0;var g=[];var q=[];var e={};var C=function(f,j,l,i){return Array.prototype.concat.apply(f.map(function(m){if(!e.hasOwnProperty(m.name)){e[m.name]=0}e[m.name]++;if(e[m.name]>1){m.name+=e[m.name]}var p=b.TU(m);p.level=l||1;p.parent=i||null;return p}),f.map(function(m){w=Math.max(w,(l||1)+1);if(!m.children){g.push(m.name);q.push(m.value||1)}return C(j(m)||[],j,(l||1)+1,m.name)}))};var d=function d(f){return f.children||null};var h=C(d(k),d).map(function(f){f.n=f.children?f.children.length:0;return delete f.children&&f});var B={y:{vars:["Dummy"],smps:g,data:[q]},x:{}};for(var x=0;x<B.y.smps.length;x++){for(var v=0;v<h.length;v++){if(!h[v].n&&B.y.smps[x]==h[v].name){h[v].smp=x;break}}}var n=[];var z=a.name;B.x[z]=[];n.push(z);for(var x=2;x<w-1;x++){B.x[z+x]=[];n.push(z+x)}var A={};for(var x=0;x<h.length;x++){A[h[x].name]=x}for(var x=0;x<n.length;x++){for(var v=0;v<B.y.smps.length;v++){B.x[n[x]][v]=null}}for(var x=0;x<h.length;x++){if(h[x].parent){var r=h[x].parent;var t=A[r];var o=h[x].smp;var u=h[x].level-1;var y=h[t].parent;B.x[z+(u>1?u:"")][o]=h[t].name;while(y){t=A[y];u=h[t].level;B.x[z+(u>1?u:"")][o]=h[t].name;y=h[t].parent}}}return{renderTo:"newTree",data:B,config:{graphType:"Tree",hierarchy:n}}};return c(a)};this.EA=function(a,c,h,b,f){var d=b?b:(a.target?a.target.files[0]:a.files[0]);if(!d){return}var i=d.type;var e=d.name.split(".");var g=e[e.length-1].toLowerCase();this.WI();this.DW();if(i==="image/png"){this.OX(d,h)}else{if(i==="application/x-bzip2"){this.NN(d,e)}else{if(g==="parquet"){this.fK(d,e,h)}else{if(g==="json"){this.Oq(d,a,c,h,b)}else{if(g==="geojson"){this.aL(d)}else{if(g==="svg"){this.EL(d,h)}else{if(["txt","csv","tsv","tab","lsk","sql"].indexOf(g)>-1){this.xG(d,e,g,f,h)}else{if(g==="esv"){this.Mr(d,e,h)}else{if(g==="gml"){this.iB(d,e,h)}else{if(g.match(/ml$/)||g==="gexf"){this.Zy(d,e,g,h)}else{this.hT()}}}}}}}}}}};this.qo=function(c){var b=c.config;if(b&&b.backgroundImage){if(!Array.isArray(b.backgroundImage)&&b.backgroundImage.match(/^javascript:\/\//)&&b.backgroundImageSrc){var a=new Image();a.id=b.backgroundImage.split("//")[1];a.style.display="none";a.src="data:image/png;base64,"+atob(b.backgroundImageSrc);document.body.appendChild(a);CanvasXpress.cacheImages[this.KU(a.src)]=a}else{if(Array.isArray(b.backgroundImage)){b.backgroundImageMD5=this.HI(b.backgroundImage);var a=new Image();a.onload=function(){CanvasXpress.cacheImages[b.backgroundImageMD5]=this};a.crossOrigin="anonymous";a.src=this.gR(b.backgroundImage)}}}};this.OX=function(d,f){var e=this;var a=new FileReader();var c=function(h,k){var g="";for(var j=0;j<4;j++){g+=String.fromCharCode(h.getUint8(k+j))}return g==="tEXt"};var b=function(g,l,k){var j="";for(var h=0;h<k;h++){j+=String.fromCharCode(g.getUint8(l+h))}return j.match(/CanvasXpress/)};a.onload=function(){var p=new DataView(this.result);var j=p.getUint32(8);var n=p.getUint32(8+4+4+j+4);if(c(p,8+4+4+j+4+4)&&b(p,8+4+4+j+4+4+4,n)){var g=p.getUint32(8+4+4+j+4+4+4+n+4);var q=8+4+4+j+4+4+4+n+4+4+4;var h="";for(var k=0;k<g;k++){h+=String.fromCharCode(p.getUint8(q+k))}h=h.replace("ReproducibleResearch\0","");var o;try{o=e.parseJSON(decodeURIComponent(h))}catch(l){o=e.parseJSON(h)}e.qo(o);var m=e.$w;if(o.config[m(0)]){e.hT();e.mM(o)}else{e.F2(o,f);e.hT()}}else{e.hT();e.backgroundImage="data:image/png;base64, "+e.jR(this.result);e.JW({func:"changeAttribute",par:["backgroundImage",e.backgroundImage]});e.backgroundType="image";e.JW({func:"changeAttribute",par:["backgroundType","image"]});e.skipStack=true;e.x9();e.skipStack=false;alert("Oooops! Not a valid CanvasXpress Image\nUsing image as background!")}};a.readAsArrayBuffer(d)};this.NN=function(c,b){var d=this;var a=new FileReader();a.onload=function(){var f=d.NX(this.result);if(b[1].match(/ml$/)){try{CanvasXpress.loadRemoteData(b[0],f,false,false,d.updateRemoteData)}catch(g){d.hT();alert("Oooops! Not a valid bz2 file for CanvasXpress")}}else{d.hT();alert("Oooops! Not a valid bz2 file for CanvasXpress")}};a.readAsBinaryString(c)};this.fK=function(c,b,e){var d=this;var a=new FileReader();a.onload=function(){try{var f=d.kf(a.result);f.renderTo=b[0];d.F2(f,e);d.hT()}catch(g){d.hT();alert("Oooops! Not a valid parquet file for CanvasXpress")}};a.readAsArrayBuffer(c)};this.Oq=function(d,f,c,g,b){var e=this;var a=new FileReader();a.onload=function(){try{var m=e.parseJSON(a.result);e.qo(m);var l=e.$w;if(m.config[l(0)]){e.hT();e.mM(m)}else{if(m.data||(m&&m.config&&m.config.graphType==="Map")){if(m.config.topoJSON){if(m.config.mapId){delete window[m.config.mapId];delete e.meta.map;delete e.topoJSON}}else{if(e.graphType==="Map"&&e.Lt(m)){e.x9();e.hT();return}}e.F2(m,g);e.hT()}else{if(m.config){e.lg();e.layoutValid=false;for(var j in m.config){e[j]=m.config[j]}if(m.afterRender){for(var h=0;h<m.afterRender.length;h++){var k=m.afterRender[h];e[k[0]].apply(e,k[1]||[])}}else{e.x9({func:"loadFile",par:[f,c,g,b]})}}else{if(m.children&&m.children.length){m=e.mn(m);e.F2(m,g);e.hT()}else{if(m.nodes&&m.links){m=e.pd(m);e.F2(m,g);e.hT()}else{if(m.type&&m.type.match(/FeatureCollection|Topology/)){var o={data:false,config:{graphType:"Map",topoJSON:m,mapId:"cXMap"}};window.cXMap=m;e.updateData(o);e.hT()}}}}}}}catch(n){e.hT();alert("Oooops! Not a valid CanvasXpress json file")}};a.readAsText(d)};this.aL=function(b){var c=this;var a=new FileReader();a.onload=function(){try{var d=c.parseJSON(a.result);c.qx(c.TU(c.data.y.vars),true);var g=c.TU(c.data);for(var f=0;f<d.features.length;f++){g.y.vars[f]="Id"+(f+1);g.y.data[f]=[0]}if(d.type&&d.type.match(/FeatureCollection|Topology/)){var j={data:g,config:{graphType:"Map",topoJSON:d,mapId:"cXMap"}};window.cXMap=d;c.updateData(j);c.hT()}}catch(h){c.hT();alert("Oooops! Not a valid geojson file")}};a.readAsText(b)};this.EL=function(b,d){var c=this;var a=new FileReader();a.onload=function(){try{var g=c.SVGtoCX(a.result);var f=c.$w;if(g.config[f(0)]){c.hT();c.mM(g)}else{c.F2(g,d);c.hT()}}catch(h){c.hT();alert("Oooops! Not a valid CanvasXpress json file")}};a.readAsText(b)};this.xG=function(c,b,g,e,f){var d=this;var a=new FileReader();a.onload=function(){try{var i=a.result;var h;if(d.graphType==="Network"){h=d.arrayToCXNetwork(d.parseDelimited(i),false,false,false,d.data);if(h&&!d.tO(h)){var k=h.fail>0?h.fail+" records couldn't be mapped to network data":"";alert(h.rows+" "+h.type+" records added to network data\n"+k);if(h.type==="node"){d.ea(h.data)}else{d.Kr(h.data)}d.hT();return}else{h=d.arrayToCX(d.parseDelimited(i))}}else{h=d.r8(d.parseDelimited(i),d.graphType==="Map");if(h&&!d.tO(h)){alert(h.recs+(h.addt?" records added as an additional data set\n":" records added to meta data\n"));d.mC(h.data,h.addt);d.hT();return}else{if(g==="lsk"||g==="sql"){h=d.arrayToCX(CanvasXpress.HH(d.parseDelimited(i)))}else{h=d.arrayToCX(d.parseDelimited(i))}}}h.renderTo=b[0].replace(/\s/g,"").replace(/\(/g,"").replace(/\)/g,"");if(e){h.config.view="table"}d.F2(h,f);d.hT()}catch(j){d.hT();alert("Oooops! Not a valid CanvasXpress delimited file")}};a.readAsText(c)};this.Mr=function(c,b,e){var d=this;var a=new FileReader();a.onload=function(){try{var f=d.arrayToCXNetwork(d.parseDelimited(a.result),false,false,false,d.data,"edge");f.renderTo=b[0];d.F2(f,e);d.hT()}catch(g){d.hT();alert("Oooops! Not a valid CanvasXpress delimited file")}};a.readAsText(c)};this.iB=function(c,b,e){var d=this;var a=new FileReader();a.onload=function(){try{var f=d.JS(a.result);f.renderTo=b[0];d.F2(f,e);d.hT()}catch(g){d.hT();alert("Oooops! Not a valid gml file for CanvasXpress")}};a.readAsText(c)};this.Zy=function(c,b,f,e){var d=this;var a=new FileReader();a.onload=function(){try{CanvasXpress.loadRemoteData(b[0],a.result,false,false,d.updateRemoteData)}catch(g){d.hT();alert("Oooops! Not a valid "+f+" file for CanvasXpress")}};a.readAsText(c)};this.mO=function(h,g){if(this.isEditable||g){var a=this.QZ();var j="<link rel='stylesheet' href='https://www.canvasxpress.org/dist/canvasXpress.css' type='text/css'/>\n";j+="<script type='text/javascript' src='https://www.canvasxpress.org/dist/canvasXpress.min.js'><\/script>\n\n";j+="<canvas id='"+this.target+"' width='"+this.width+"' height='"+this.height+"'></canvas>";var b=this.$cX("form",{id:"submitToJSFiddle",method:"post",action:"https://jsfiddle.net/api/post/library/pure/",target:"check"},{display:"none"});document.body.appendChild(b);var d=this.$cX("textarea",{name:"title",value:(this.title||"CanvasXpress")});var i=this.$cX("textarea",{name:"html",value:j});var k=this.$cX("textarea",{name:"js",value:a});var c=this.$cX("button",{type:"submit"});b.appendChild(d);b.appendChild(i);b.appendChild(k);b.appendChild(c);c.click();document.body.appendChild(b)}};this.oS=function(i,h){if(this.isEditable||h){this.WI();var a=this.QZ().replace(/\'/g,"");var k='<link rel="stylesheet" href="https://www.canvasxpress.org/dist/canvasXpress.css" type="text/css"/>\n';k+='<script type="text/javascript" src="https://www.canvasxpress.org/dist/canvasXpress.min.js"><\/script>\n\n';k+='<canvas id="'+this.target+'" width="'+this.width+'" height="'+this.height+'"></canvas>';var c="https://www.canvasxpress.org/dist/canvasXpress.css;https://www.canvasxpress.org/dist/canvasXpress.min.js";var g='{"title": "'+(this.title||"CanvasXpress")+'", "html": "'+k+'" js: "'+a+'" js_external: "'+c+'"}';g='{"title": "CanvasXpress", "html": "'+k.replace(/"/g,"'")+'", "js": "'+a.replace(/"/g,"'")+'", "js_external": "'+c.replace(/"/g,"'")+'"}';var b=this.$cX("form",{id:"submitToCodePen",method:"post",action:"https://codepen.io/pen/define",target:"_blank"},{display:"none"});document.body.appendChild(b);var j=this.$cX("input",{type:"hidden",name:"data",value:g});var d=this.$cX("button",{type:"submit"});b.appendChild(j);b.appendChild(d);d.click();document.body.appendChild(b)}};this.ph=function(){this.So();var e=CanvasXpress.stack[this.target];var b=e.afterRender;var c=[];for(var d=0;d<b.length;d++){if(b[d][0].match(/^sort/)){c.push(this.TU(b[d]))}}return this.O5({renderTo:e.renderTo,data:this.data,config:this.SC(),afterRender:c,factory:e.factory,system:e.system,version:e.version})};this.save=function(i,h,c,d){var b=this.$w;var k=this.$pX();this.WI();var j=h?h+".json":this.saveFilename?this.saveFilename+".json":"cX-"+this.target+".json";j=j.replace(/.json.json$/,".json");CanvasXpress.stack[this.target].factory=CanvasXpress.factory;CanvasXpress.stack[this.target].system=CanvasXpress.system;if(k){CanvasXpress.stack[this.target].data=that[b(9)](this.G0(CanvasXpress.stack[this.target].data),k);CanvasXpress.stack[this.target].config[b(0)]=true}var g;if(c){g=this.O5({config:CanvasXpress.stack[this.target].config,afterRender:CanvasXpress.stack[this.target].afterRender||[]})}else{if(d||(i&&(i.ctrlKey||i.altKey))){g=this.ph()}else{g=this.O5(this.jp(this.SK(CanvasXpress.stack[this.target])))}}var a=new Blob([g],{type:"text/plain"});this.ny(a,j)};this.saveSVG=function(i,h){var d=this.$pX();var b=this.$w;this.WI();CanvasXpress.stack[this.target].factory=CanvasXpress.factory;CanvasXpress.stack[this.target].system=CanvasXpress.system;this.isSVG=true;var k=this.showTransition;var c=this.jp(this.SK(CanvasXpress.stack[this.target]));if(d){c.data=that[b(9)](this.G0(c.data),d);c.config[b(0)]=true}c=this.isReproducibleResearch?this.G0(c):"";this.showTransition=false;this.meta.canvas.SVG=new this.z2({width:this.width,height:this.height,desc:c});this.meta.canvas.SVG.render=function(){var f=this.o.length;for(var q=0;q<f;q++){var s=this.o[q];var n=s.funcs;for(var j in s){if(j!=="funcs"){this[j]=s[j]}}if(n){var r=n.length;for(var j=0;j<r;j++){var e=n[j];var p=e[0];if(this[p]){this[p].apply(this,e[1])}}}}};this.meta.canvas.SVG.resetRender=function(){this.o=[]};this.meta.canvas.SVG.resetContext=function(){this.direction="ltr";this.fillStyle="#000000";this.filter="none";this.font="10px sans-serif";this.fontKerning="auto";this.fontStretch="normal";this.fontVariantCaps="normal";this.globalAlpha=1;this.globalCompositeOperation="source-over";this.imageSmoothingEnabled=true;this.imageSmoothingQuality="low";this.letterSpacing="0px";this.lineCap="butt";this.lineDashOffset=0;this.lineJoin="miter";this.lineWidth=1;this.miterLimit=10;this.shadowBlur=0;this.shadowColor="rgba(0, 0, 0, 0)";this.shadowOffsetX=0;this.shadowOffsetY=0;this.strokeStyle="#000000";this.textAlign="start";this.textBaseline="alphabetic";this.textRendering="auto";this.wordSpacing="0px"};this.Xa(true);var g=this.meta.canvas.SVG.getSerializedSvg();if(this.isReproducibleResearch){this.s1(100,100,"<h2>Please be aware <br>the actual data is stored<br>inside the downloaded image</h2>",5000)}var l=h?h+".svg":this.saveFilename?this.saveFilename+".svg":"cX-"+this.target+".svg";l=l.replace(/.svg.svg$/,".svg");var a=new Blob([g],{type:"image/svg+xml"});this.ny(a,l);this.showTransition=k;delete (this.meta.canvas.SVG);this.isSVG=false};this.jR=function(c){var e="";var b=new Uint8Array(c);var a=b.byteLength;for(var d=0;d<a;d++){e+=String.fromCharCode(b[d])}return window.btoa(e)};this.j4=function(c){var d=window.atob(c);var a=d.length;var b=new Uint8Array(a);for(var e=0;e<a;e++){b[e]=d.charCodeAt(e)}return b.buffer};this.H1=function(){if(this.useLeaflet){var b=this.$("leaflet-"+this.target);if(b){var a=this.meta.canvas.ctx.canvas;var h=this.$cX("canvas",{width:this.width,height:this.height});var c=h.getContext("2d");var e=b.getElementsByTagName("img");for(var d=0;d<e.length;d++){var f=e[d];var j=f._leaflet_pos.x;var g=f._leaflet_pos.y;c.VJ(f,j,g,256,256)}c.VJ(a,0,0,this.width,this.height);return h}}};this.print=function(o,m,e){var f=this;var d=window;var s=f.width;var k=f.height;var p=f.printMagnification;var g=f.autoScaleFont;var n=f.showTransition;var i=f.skipStack;var r=["outlineWidth","lineThickness","xAxisGridMajorWidth","yAxisGridMajorWidth","zAxisGridMajorWidth","xAxisGridMinorWidth","yAxisGridMinorWidth","zAxisGridMinorWidth","xAxisLineLeftWidth","xAxisLineRightWidth","yAxisLineTopWidth","yAxisLineBottomWidth","guidesWidth","boxplotMedianWidth","boxplotConnectWidth","treeLinkWidth","connectByWidth","histogramBarWidth","heatmapCellBoxWidth","heatmapCellBoxHighlightWidth","edgeThickness","maxTextSize","treemapBorderWidth","errorBarsThickness","ganttDependencyThickness"];var q=function(v){if(p===1){return}if(v){for(var u=0;u<r.length;u++){f[r[u]]/=p}f.autoScaleFont=g;f.showTransition=n;f.setDimensions(s,k,true);f.skipStack=i}else{f.skipStack=true;f.showTransition=false;for(var u=0;u<r.length;u++){f[r[u]]*=p}f.autoScaleFont=true;f.setDimensions(s*p,k*p,true)}};var b=function(){var x;var v=[];for(var w=0;w<256;w++){x=w;for(var u=0;u<8;u++){x=((x&1)?(3988292384^(x>>>1)):(x>>>1))}v[w]=x}return v};var j=function(x){var u=d.crcTable||(d.crcTable=b());var w=0^(-1);for(var v=0;v<x.length;v++){w=(w>>>8)^u[(w^x.charCodeAt(v))&255]}return(w^(-1))>>>0};var c=function(v,u){var w=new Uint8Array(v.byteLength+u.byteLength);w.set(new Uint8Array(v),0);w.set(new Uint8Array(u),v.byteLength);return w.buffer};var a=function(z){var x="tEXt";var y=z.length;var A=j(x+z);var v=new ArrayBuffer(12+y);var u=new DataView(v);u.setUint32(0,y);for(var w=0;w<x.length;w++){u.setUint8(4+w,x.charCodeAt(w))}for(var w=0;w<z.length;w++){u.setUint8(8+w,z.charCodeAt(w))}u.setUint32(8+y,A);return v};var t=function(){var u=false;var v=f.$pX();var w=f.$w;if(f.isReproducibleResearch){if(f.printMagnification!=1){delete (CanvasXpress.stack[f.target].config.showTransition)}if(o&&(o.ctrlKey||o.altKey)){u=f.ph()}else{u=f.jp(f.SK(CanvasXpress.stack[f.target]))}}else{u=f.parseJSON(o.ctrlKey||o.altKey?f.ph():f.G0(CanvasXpress.stack[f.target]));u.afterRender=[u.afterRender[0]]}if(v){u.config[w(0)]=true;u.data=f[w(9)](f.G0(u.data),v)}return encodeURIComponent(f.G0(u))};var h=function(v){var u=new FileReader();var w=f.isReproducibleResearch?"<h2>Please be aware that the actual data is stored inside the image! Right click to save!</h2>":"<h2>Right click to save image</h2>";u.onload=function(x){w+="<img width="+f.width+" height="+f.height+' src="'+x.target.result+'"/>';f.i2(o,w,f.zL(o),{maxWidth:f.width+"px",whiteSpace:"normal"},40,40)};u.readAsDataURL(v)};q();this.WI();CanvasXpress.stack[f.target].factory=CanvasXpress.factory;CanvasXpress.stack[f.target].system=CanvasXpress.system;if(!CanvasXpress.factory.valid){this.$$$("CanvasXpress")}var l=this.useLeaflet?this.H1():this.meta.canvas.ctx.canvas;l.toBlob(function(v){var u=new FileReader();var w=m?m+".png":(f.saveFilename?f.saveFilename+".png":"cX-"+f.target+".png");w=w.replace(/\.png\.png$/,".png");u.onloadend=function(){var C=new DataView(this.result);var z=C.getUint32(8);var x=8+4+4+z+4;var y=this.result.slice(0,x);var B=this.result.slice(x);var A=a("Software\0CanvasXpress Version: "+CanvasXpress.factory.version);var F=a("ReproducibleResearch\0"+t());var E=c(y,A);E=c(E,F);E=c(E,B);var D=new Blob([E],{type:"image/png"});f.meta.base64=f.jR(E);if(e){e(D,w)}else{if(f.printType==="download"){if(f.isReproducibleResearch){f.s1(100,100,"<h2>Please be aware <br>the actual data is stored<br>inside the downloaded image</h2>",5000)}f.ny(D,w)}else{h(D)}}q(true)};u.readAsArrayBuffer(v)},"image/png")};this.yq=function(d){var a=this.meta.canvas.ctx;this.meta.canvas.ctx=new this.z2({width:this.width,height:this.height});this.x9({func:"exportToSVG",par:[d]});var b=this.Mz(this.meta.canvas.ctx.getSerializedSvg());var c=window.open("",this.target+"-SVG");c.document.write(b);this.meta.canvas.ctx=a;this.x9({func:"exportToSVG",par:[d]});return false};this.JQ=function(a){return this.TC(a)};this.gJ=function(e,b){var c="<table>";for(var a=0;a<e.length;a++){c+="<tr><td>";c+=e[a].join("</td><td>");c+="</td></tr>"}c+="</table>";return b?c:window.open().document.write(c)};this.TC=function(e){var c="";for(var a=0;a<e.length;a++){c+=e[a].join("\t")+"\n"}var b=this.$(this.target+"-cX-linkTab");if(!b){b=this.$cX("a",{id:this.target+"-cX-linkTab"},{display:"none"});window.document.body.appendChild(b)}b.download=this.target+".tsv";b.href="data:text/tab-separated-values;charset=UTF-8,"+encodeURIComponent(c);b.click()};this.H5=function(e){if(!e||!e.data||!e.meta){return""}var d='<div class="cX-DataTable-Container">';d+='<table class="cX-DataTable-Tooltip">';d+="<tbody>";var c=e.data[0];d+='<tr class="cX-DataTable-Row">';for(var b=0;b<c.length;b++){d+='<th class="cX-DataTable-Cell-Head">';d+='<div class="cX-DataTable-Cell-Tooltip">'+c[b]+"</div>";d+="</th>"}d+="</tr>";for(var h=1;h<e.data.length;h++){var g=e.data[h];d+='<tr class="cX-DataTable-Row">';for(var b=0;b<c.length;b++){var f=g[b];if(b===0){d+='<th class="cX-DataTable-Cell-Head">';d+='<div class="cX-DataTable-Cell-Tooltip">'+f+"</div>";d+="</th>"}else{d+='<td class="cX-DataTable-Cell">';var a=(e.meta.colr&&e.meta.colr[h])?e.meta.colr[h][b]:undefined;if(a){d+='<div class="cX-DataTable-Cell-Tooltip" style="background-color:'+a+';">'+f+"</div>"}else{d+='<div class="cX-DataTable-Cell-Tooltip">'+f+"</div>"}d+="</td>"}}d+="</tr>"}d+="</tbody>";d+="</table>";d+="</div>";return d};this.PK=function(){var h=new Set(["xAxis","yAxis","zAxis","rAxis","xAxis2","graphType","dataTableTransposed","layoutAxis","showHistogram","showHistogramDensity","isContour","showTransition","showAnimation","scatterType","circularType","barType","ringOrder","showViolinBoxplot"]);var b=this.SC();var f=b.graphType;if(this.showHistogram){f=this.ridgeBy?"Ridgeline":this.showHistogramDensity?"Density":"Histogram"}else{if(this.isContour){f="Contour"}else{if(b.scatterType){f=this.Y5(b.scatterType);if(f=="Bin2d"){f="Binplot"}else{if(f=="Km"){f="Kaplan-Meier"}else{if(f=="Qq"){f="QQ"}}}}else{if(b.circularType){f=this.Y5(b.circularType)}else{if(b.barType){f=this.Y5(b.barType)}else{if(this.scatterPlotMatrix){f="SPLOM"}else{if(this.showViolinBoxplot){f="Violin"}}}}}}}var e=CanvasXpress.doc.P.graphType.L.replace("{_value_}",f)+(this.scatterPlotMatrix?". ":" of ");if(b.rAxis){e+=b.rAxis.join(", ")+" in the R axis";if(b.yAxis){e+=" and "+b.yAxis.join(", ")+" in the Y axis"}e+=". "}else{if(b.xAxis&&b.xAxis2){e+=b.xAxis.join(", ")+" in the X axis and "+b.xAxis2.join(", ")+" in the secondary X axis. "}else{if(b.xAxis&&b.yAxis&&b.zAxis){e+=b.xAxis.join(", ")+" in the X axis, "+b.yAxis.join(", ")+" in the Y axis and "+b.zAxis.join(", ")+" in the Z axis. "}else{if(b.xAxis&&b.yAxis){if(this.showHistogram||b.xAxis[0]==b.yAxis[0]){e+=b.xAxis.join(", ")+". "}else{e+=b.xAxis.join(", ")+" in the X axis and "+b.yAxis.join(", ")+" in the Y axis. "}}else{if(b.xAxis){e+=b.xAxis.join(", ")+". "}}}}}for(var a in b){if(!a.match(/^llm/)&&!h.has(a)){var c=CanvasXpress.doc.P[a].L;var j=CanvasXpress.doc.P[a].T;if(c.match(/^\{/)&&j=="boolean"){var k=c.match(/^\{(.+?)\|(.+?)\}/);if(b[a]){e+=c.replace(/\{.+?\}/,k[1])+". "}else{e+=c.replace(/\{.+?\}/,k[2])+". "}}else{if(a=="sortData"){var k=b[a][0];if(k.length&&k.length>2){e+=k[1]==="var"?"Sort variables by "+k[2]+". ":"Sort samples by "+k[2]+". "}}else{if(a.match(/^filter/)){var g=this.meta.config.user.filterData;if(g){for(var d=0;d<g.length;d++){e+="Filter data that is "+g[d][2]+" to "+g[d][3].join(", ")+". "}}}else{if(a.match(/ScaleFontFactor/)){var k=c.match(/^\{(.+?)\|(.+?)\}/);if(b[a]>1){e+=c.replace(/\{.+?\}/,k[1]).replace("{_value_}",b[a])+". "}else{e+=c.replace(/\{.+?\}/,k[2]).replace("{_value_}",b[a])+". "}}else{if(j=="array"){e+=c.replace("{_value_}",b[a].join(", "))+". "}else{if(j=="object"){}else{e+=c.replace("{_value_}",b[a])+". "}}}}}}}}return this.eS(e,60)};this.wz=function(g){var h=[];var b=g.split(/\n(?=(?:(?:[^"]*"){2})*[^"]*$)/);var c=["header","quote","row.names","fill","check.names","stringsAsFactors"];var f=false;for(var e=0;e<b.length;e++){var a=b[e];if(a.match(/library\(canvasXpress\)/)){h.push(a.replace("library(canvasXpress)",'library(<span class="cX-code-value">canvasXpress</span>)'))}else{if(a.match(/canvasXpress\(/)){h.push(a.replace("canvasXpress(",'<span class="cX-code-value">canvasXpress</span>('));f=true}else{if(a.match(/\"http.+\"/)){a=a.replace(/(\"http.+?\")/,'<span class="cX-code-string">$1</span>');for(var d=0;d<c.length;d++){a=a.replace(c[d],'<span class="cX-code-key">'+c[d]+"</span>")}a=a.replace('""','<span class="cX-code-string">""</span>,');a=a.replace(/\"\t\"/,'<span class="cX-code-string">"&#92;t"</span>');a=a.replace("=1,",'=<span class="cX-code-number">1</span>,');a=a.replace(/FALSE/g,'<span class="cX-code-boolean">FALSE</span>');a=a.replace(/TRUE/g,'<span class="cX-code-boolean">TRUE</span>');h.push(a)}else{if(f){if(a.match(/\".+?\"/)){a=a.replace(/(\".+?\")/g,'<span class="cX-code-string">$1</span>')}else{if(a.match(/[^xis][\d\.]+/)){a=a.replace(/([\d\.]+)/,'<span class="cX-code-number">$1</span>')}}a=a.replace(/\n/,"&#92;n");a=a.replace(/(\w+)?=/,'<span class="cX-code-key">$1=</span>');a=a.replace(/FALSE/g,'<span class="cX-code-boolean">FALSE</span>');a=a.replace(/TRUE/g,'<span class="cX-code-boolean">TRUE</span>')}h.push(a)}}}}return'<pre class="cX-code-content">\n<code>'+h.join("</code>\n<code>")+"</code>\n</pre>"};this.S9=function(e,d,f,b){var a=this.G0(e,d?d:null,2);if(a.length>10000){f=false}if(f){a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}a=a.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(g){var c="number";if(/^"/.test(g)){if(/:$/.test(g)){g=g.replace(":"," =");c="key"}else{c="string"}}else{if(/true|false/.test(g)){g=g.replace("false","FALSE").replace("true","TRUE");c="boolean"}else{if(/null/.test(g)){g=g.replace("null","NULL");c="null"}}}return f?('<span class="cX-code-'+c+'">'+g+"</span>"):g});if(b){return a.replace(/\[/g,"list(").replace(/]/g,")").replace(/{/g,"list(").replace(/}/g,")").replace(/^list\(\n/,"").replace(/\)$/,"")}else{return a.replace(/\[/g,"list(").replace(/]/g,")").replace(/{/g,"list(").replace(/}/g,")").replace(/^list\(\n/,"").replace(/\)$/,"")}};this.GC=function(){var g=[];var m=[];var n,b,q,a,o,h;var k="";var f=CanvasXpress.stack[this.target].data;var p="<span class=cX-code-value>canvasXpress</span>(\n";if(this.meta.config.remote&&!this.wo(this.meta.config.remote.data)){if(this.meta.config.remote.data===false){k+="data = FALSE\n"}else{k+='data = "'+this.meta.config.remote.data+'"\n'}p+="  <span class=cX-code-key>data</span> = data,\n"}else{if(this.graphType=="Map"&&!this.wo(this.meta.config.remote.data)){k+="";p+="  <span class=cX-code-key>data</span> = <span class=cX-code-value>FALSE</span>,\n"}else{if(f.y){g=[];for(var e=0;e<f.y.vars.length;e++){var l=[];for(var d=0;d<f.y.smps.length;d++){l.push(f.y.data[e][d]!=null?f.y.data[e][d]:"NA")}g.push("<span class=cX-code-number>"+l.join("</span>,<span class=cX-code-number>")+"</span>,")}g[g.length-1]=g[g.length-1].replace(/,$/,"");b="vals = c("+g.join("\n")+")\n";q='vars = c(<span class=cX-code-string>"'+f.y.vars.join('"</span>,\n<span class=cX-code-string>"')+'"</span>)\n';a='smps = c(<span class=cX-code-string>"'+f.y.smps.join('"</span>,\n<span class=cX-code-string>"')+'"</span>)\n';o="data = as.data.frame(matrix(vals, <span class=cX-code-key>nrow</span> = <span class=cX-code-number>"+f.y.vars.length+"</span>, <span class=cX-code-key>ncol</span> = <span class=cX-code-number>"+f.y.smps.length+"</span>, <span class=cX-code-key>byrow</span> = <span class=cX-code-boolean>TRUE</span>, <span class=cX-code-key>dimnames</span> = list(vars, smps)))\n";k+=b+q+a+o;p+="  <span class=cX-code-key>data</span> = data,\n"}if(f.x){g=[];m=[];b="";for(var e in f.x){var c=this.meta.data.x&&this.meta.data.x[e]?this.meta.data.x[e].type:this.meta.data.z&&this.meta.data.z[e]?this.meta.data.z[e].type:"fail";if(c=="Numeric"){g.push("<span class=cX-code-number>"+f.x[e].join("</span>,\n<span class=cX-code-number>")+"</span>,")}else{g.push('<span class=cX-code-string>"'+f.x[e].join('"</span>,\n<span class=cX-code-string>"')+'"</span>,')}m.push(e)}g[g.length-1]=g[g.length-1].replace(/,$/,"");b="valx = c("+g.join("\n ")+")\n";if(this.graphType=="Tree"){b=b.replace(/\"\"/g,"NA")}q='varx = c(<span class=cX-code-string>"'+m.join('"</span>,<span class=cX-code-string>"')+'"</span>)\n';o="datx = as.data.frame(matrix(valx, <span class=cX-code-key>nrow</span> = <span class=cX-code-number>"+m.length+"</span>, <span class=cX-code-key>ncol</span> = <span class=cX-code-number>"+f.y.smps.length+"</span>, <span class=cX-code-key>byrow</span> = <span class=cX-code-boolean>TRUE</span>, <span class=cX-code-key>dimnames</span> = list(varx, smps)))\n";k+=b+q+o;p+="  <span class=cX-code-key>smpAnnot</span> = datx,\n"}if(f.z){g=[];m=[];b="";for(var e in f.z){var c=this.meta.data.z&&this.meta.data.z[e]?this.meta.data.z[e].type:this.meta.data.x&&this.meta.data.x[e]?this.meta.data.x[e].type:"fail";if(c=="Numeric"){g.push("<span class=cX-code-number>"+f.z[e].join("</span>,\n<span class=cX-code-number>")+"</span>,")}else{g.push('<span class=cX-code-string>"'+f.z[e].join('"</span>,\n<span class=cX-code-string>"')+'"</span>,')}m.push(e)}g[g.length-1]=g[g.length-1].replace(/,$/,"");b="valz = c("+g.join("\n ")+")\n";a='smpz = c(<span class=cX-code-string>"'+m.join('"</span>,<span class=cX-code-string>"')+'"</span>)\n';o="datz = as.data.frame(matrix(valz, <span class=cX-code-key>nrow</span> = <span class=cX-code-number>"+f.y.vars.length+"</span>, <span class=cX-code-key>ncol</span> = <span class=cX-code-number>"+m.length+"</span>, <span class=cX-code-key>byrow</span> = <span class=cX-code-boolean>FALSE</span>, <span class=cX-code-key>dimnames</span> = list(vars, smpz)))\n";k+=b+a+o;p+="  <span class=cX-code-key>varAnnot</span> = datz,\n"}if(f.nodes){k+="nodes = list(\n"+this.S9(f.nodes,function(j,i){if(j!="layout"){return i}},false,true)+")\n";p+='  <span class=cX-code-key>"nodeData"</span> = nodes,\n'}if(f.edges){k+="edges = list(\n"+this.S9(f.edges,false,false,true)+")\n";p+='  <span class=cX-code-key>"edgeData"</span> = edges,\n'}if(f.groups){k+="groups = list(\n"+this.S9(f.groups,false,false,true)+")\n";p+='  <span class=cX-code-key>"groupData"</span> = groups,\n'}if(f.constraints){k+="constraints = list(\n"+this.S9(f.constraints,false,false,true)+")\n";p+='  <span class=cX-code-key>"constraintData"</span> = constraints,\n'}if(f.venn){k+="venn = data.frame(\n"+this.S9(f.venn.data,false,true)+")\n";p+="  <span class=cX-code-key>vennData</span> = venn,\n";if(f.venn.legend){k+="legn = data.frame(\n"+this.S9(f.venn.legend,false,true)+")\n";p+="  <span class=cX-code-key>vennLegend</span> = legn,\n"}}if(f.tracks){p+="  <span class=cX-code-key>tracks</span> = genome,\n";k+="genome = list(\n"+this.S9(f.tracks,false,true)+")\n"}}}n=this.meta.config.remote?this.aj(this.meta.config.remote.config):this.aj(CanvasXpress.stack[this.target].config);if(CanvasXpress.stack[this.target].afterRender&&CanvasXpress.stack[this.target].afterRender.length>1){n.afterRender=this.TU(CanvasXpress.stack[this.target].afterRender)}p+=this.S9(n,false,true)+")";h="library(<span class=cX-code-value>canvasXpress</span>)\n"+k+p;return"<code>"+h.replace(/\n/g,"</code>\n<code>")+"</code>"};this.O5=function(d,b,e,a){return e&&d?this.z9(d,b):d?this.G0(d,b,a||2):false};this.z9=function(c,b){if(c){var a=this.G0(c,b?b:null,2);if(a.length>10000){return a}else{a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}a=a.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var d="number";if(/^"/.test(e)){if(/:$/.test(e)){d="key"}else{d="string"}}else{if(/true|false/.test(e)){d="boolean"}else{if(/null/.test(e)){d="null"}}}return'<span class="cX-code-'+d+'">'+e+"</span>"});return a}else{return false}};this.sw=function(g,e){var d=function(h){return h.replace(/"/g,"&quot;").replace(/^\s*/g,"").replace(/'\s*\+\s*'/g,"' + '").replace(/'\s*\+\s*Math/g,"' + Math").replace(/\*/g," * ").replace(/\)\//g,") / ").replace(/<(.+?)>/g,"&lt;$1&gt;")};g=g.replace(/{/g,"{\n").replace(/}/g,"\n}");var b=g.split(/\n/);var a=[d(b[0])];var f="  ";if(!e){e=""}for(var c=1;c<b.length;c++){b[c]=d(b[c]);if(b[c].match(/[\w{}]/)){if(b[c].match(/}\s*else\s*\{\s*$/)){f=f.replace("  ","");a.push(e+f+b[c]);f+="  "}else{if(b[c].match(/\{\s*$/)){a.push(e+f+b[c]);f+="  "}else{if(b[c].match(/\}\s*;*\s*$/)){f=f.replace("  ","");a.push(e+f+b[c])}else{a.push(e+f+b[c])}}}}}return a.join("\n")};this.P1=function(d,a){var c="{\n";if(!a){a="  "}for(var b in d){c+=a+'"'+b+'": '+d[b]+",\n"}a=a.replace("  ","");return c.replace(/,\n$/,"\n")+a+"}"};this.Mz=function(n){var f=/(>)\s*(<)(\/*)/g;var t=/ *(.*) +\n/g;var e=/(<.+>)(.+\n)/g;var d=n.replace(f,"$1\n$2$3").replace(t,"$1\n").replace(e,"$1\n$2");var r=0;var b="";var a=d.split("\n");var k=0;var q="other";var v={"single->single":0,"single->closing":-1,"single->opening":0,"single->other":0,"closing->single":0,"closing->closing":-1,"closing->opening":0,"closing->other":0,"opening->single":1,"opening->closing":0,"opening->opening":1,"opening->other":1,"other->single":0,"other->closing":-1,"other->opening":0,"other->other":0};for(var p=0;p<a.length;p++){var h=a[p];var u=Boolean(h.match(/<.+\/>/));var g=Boolean(h.match(/<\/.+>/));var m=Boolean(h.match(/<[^!].*>/));var c=u?"single":g?"closing":m?"opening":"other";var s=q+"->"+c;q=c;var l="";k+=v[s];for(var o=0;o<k;o++){l+="  "}b+=l+h+"\n"}return b};this.PE=function(d,h,b){var a=h?"  ":b?"        ":"    ";var c=this.ro(true).replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None");var g=this.sC(true).replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None");var f=this.rT(true);var e=this.hI(true);var i="";if(h){i+="<span class=cX-code-key>import</span> streamlit <span class=cX-code-key>as</span> st\n\n"}else{if(b){i+="<span class=cX-code-key>from</span> shiny <span class=cX-code-key>import</span> App, ui, render, reactive\n\n"}}i+="<span class=cX-code-key>from</span> canvasxpress.canvas <span class=cX-code-key>import</span> CanvasXpress\n";if(d||h||b){i+="<span class=cX-code-key>from</span> canvasxpress.plot <span class=cX-code-key>import</span> graph\n\n"}else{i+="<span class=cX-code-key>from</span> canvasxpress.plot <span class=cX-code-key>import</span> show_in_browser\n\n"}if(d){i+="graph(\n";i+="  CanvasXpress(\n";i+="    data = "+c+",\n";i+="    config = "+g+",\n";if(f){i+="    events = "+f.replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"}if(e){i+="    after_render = "+e.replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"}i+="    width = <span class=cX-code-number>"+this.width+"</span>,\n";i+="    height = <span class=cX-code-number>"+this.height+"</span>\n";i+="  )\n";i+=")\n\n"}else{if(h){i+="chord_chart = CanvasXpress(\n";i+="  config = "+g+",\n";if(f){i+="  events = "+f.replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"}if(e){i+="  after_render = "+e.replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"}i+="  width = <span class=cX-code-number>"+this.width+"</span>,\n";i+="  height = <span class=cX-code-number>"+this.height+"</span>\n";i+=")\n\n";i+="<span class=cX-code-comment># Write the UI to the browser</span>\n";i+="<span class=cX-code-comment># This code will be re-executed with each click of the button</span>\n\n";i+="<span class=cX-code-comment># Name the theme</span>\n";i+='st.title(<span class=cX-code-key>"CanvasXpress in Streamlit!"</span>)\n\n';i+="<span class=cX-code-comment># Some columns to organize the button and chart</span>\n";i+="column1, column2 = st.columns(2)\n\n";i+="<span class=cX-code-comment># A column with our data generator button</span>\n";i+="column1.write(\n";i+="  <span class=cX-code-comment># This has no associated action, so by default</span>\n";i+="  <span class=cX-code-comment># it triggers a redraw of the UI.</span>\n";i+='  st.button(<span class=cX-code-key>"Generate New Data"</span>)\n';i+=")\n\n";i+="<span class=cX-code-comment># Another column with the chart displayed</span>\n";i+="<span class=cX-code-comment># With each redraw generate new random values</span>\n";c=c.replace(/\n  /g,"\n");i+="chord_chart.data = "+c+"\n";i+="column2.write(\n";i+="  <span class=cX-code-comment># This plots the CanvasXpress chart into the UI.</span>\n";i+="  graph(chord_chart)\n";i+=")\n\n";i+="<span class=cX-code-comment># On the command line, execute:</span>\n";i+="<span class=cX-code-comment># </span>\n";i+="<span class=cX-code-comment># </span>   streamlit run app.py\n";i+="<span class=cX-code-comment># </span>\n";i+="<span class=cX-code-comment># And output similar to the following will be provided:</span>\n";i+="<span class=cX-code-comment># </span>\n";i+="<span class=cX-code-comment># </span>   Running on http://localhost:8501/ (Press CTRL+C to quit)\n"}else{if(b){i+="app_ui = ui.page_fluid(\n";i+="  ui.row(\n";i+="    <span class=cX-code-comment># Define widgets here - for example:</span>\n";i+="    ui.input_slider(\n";i+='      <span class=cX-code-key>"points_desired"</span>,\n';i+='      <span class=cX-code-key>"Points"</span>,\n';i+="      min = <span class=cX-code-number>"+this.minData+"</span>,\n";i+="      max = <span class=cX-code-number>"+this.maxData+"</span>,\n";i+="      value = <span class=cX-code-number>"+this.minData+"</span>\n";i+="    )\n";i+="  )\n";i+="  ui.row(\n";i+='    ui.output_ui(<span class=cX-code-key>"chart_view"</span>),\n';i+="  )\n";i+=")\n\n";i+="def server(input, output, session):\n";i+="  @render.ui\n";i+="  @reactive.event(input.points_desired)\n";i+="  def chart_view():\n";i+="    return graph(\n";i+="      CanvasXpress(\n";i+="        data = "+c+",\n";i+="        config = "+g+",\n";if(f){i+="        events = "+f.replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"}if(e){i+="        after_render = "+e.replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"}i+="        width = <span class=cX-code-number>"+this.width+"</span>,\n";i+="        height = <span class=cX-code-number>"+this.height+"</span>\n";i+="    )\n";i+="  )\n\n";i+="app = App(app_ui, server)\n\n";i+="<span class=cX-code-comment># On the command line, execute:</span>\n";i+="<span class=cX-code-comment># </span>\n";i+="<span class=cX-code-comment># </span>   shiny run --reload --launch-browser app.py\n";i+="<span class=cX-code-comment># </span>\n";i+="<span class=cX-code-comment># And output similar to the following will be provided:</span>\n";i+="<span class=cX-code-comment># </span>\n";i+="<span class=cX-code-comment># </span>   Uvicorn running on http://127.0.0.1:8000 (Press CTRL+C to quit)\n"}else{i+='<span class=cX-code-key>if</span> __name__ == <span class=cX-code-key>"__main__"</span>:\n';i+="  <span class=cX-code-comment># Define a CX bar chart with some basic data</span>\n";i+="  chart: CanvasXpress = CanvasXpress(\n";i+="    render_to = "+this.target+",\n";i+="    data = "+c+",\n";i+="    config = "+g+",\n";if(f){i+="    events = "+f.replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"}if(e){i+="    after_render = "+e.replace(/\n/g,"\n"+a).replace(/true/g,"True").replace(/false/g,"False").replace(/null/g,"None")+",\n"}i+="    width = <span class=cX-code-number>"+this.width+"</span>,\n";i+="    height = <span class=cX-code-number>"+this.height+"</span>\n";i+="  )\n\n";i+="  <span class=cX-code-comment># Display the chart in its own Web page</span>\n";i+="  show_in_browser(chart)\n"}}}return"<code>"+i.replace(/\n/g,"</code>\n<code>")+"</code>"};this.lc=function(){var k=JSON.parse(this.meta.config.user.cxplot);var l=JSON.stringify(k.data).replace(/\],/g,"],\n  ");var c=this.tO(k.geoms)?k.geoms:[k.geoms];var a={};var h="";if(k.aes&&k.order){k.aes.meta={};Object.assign(k.aes.meta,k.order);if(!k.aes.hasOwnProperty("x")){for(var b=0;b<c.length;b++){var d=c[b];if(k.layers[d]&&k.layers[d].hasOwnProperty("x")){k.aes.x=k.layers[d].x;break}}}if(!k.aes.hasOwnProperty("y")){for(var b=0;b<c.length;b++){var d=c[b];if(k.layers[d]&&k.layers[d].hasOwnProperty("y")){k.aes.y=k.layers[d].y;break}}}}var m=JSON.stringify(k.aes);var j=["labels","scales","colors","coordinates","theme","facet","config"];h+="<span class=cX-code-key>var</span> data = "+l+";\n\n";h+='<span class=cX-code-key>var</span> cxp = <span class=cX-code-value>new</span> cxplot("canvas", data, aes('+m+"));\n";for(var b=0;b<c.length;b++){var d=a[c[b]]?c[b]+"."+a[c[b]]:c[b];var e=c[b].toLowerCase().replace("geom","geom_").replace("2","_2").replace("filled","_filled").replace("_qql","_qq_l").replace("ridgesgradient","ridges_gradient").replace("ridges","_ridges");if(this[e]&&!this.skipGeoms){h+="cxp.<span class=cX-code-key>"+e+"</span>("+JSON.stringify(k.layers[d])+");\n"}a[d]=a[d]?a[d]+1:1}for(var b=0;b<j.length;b++){if(k[j[b]]){var e="gg_"+j[b];if(this.tO(k[j[b]])){if(k[j[b]].length>0){h+="cxp.<span class=cX-code-key>"+e+"</span>("+JSON.stringify(k[j[b]])+");\n"}}else{h+="cxp.<span class=cX-code-key>"+e+"</span>("+JSON.stringify(k[j[b]])+");\n"}}}return"<code>"+h.replace(/\n/g,"</code>\n<code>")+"</code>"};this.d1=function(g,f){var a=[["Id"]];for(var e=0;e<this.data.y.vars.length;e++){a[e+1]=[];a[e+1][0]=this.data.y.vars[e]}for(var e=0;e<this.data.y.smps.length;e++){a[0][e+1]=this.data.y.smps[e];for(var d=0;d<this.data.y.vars.length;d++){a[d+1][e+1]=this.data.y.data[d][e]}}if(g&&this.data[g]){if(g=="x"){for(var e in this.data.x){var b=a.length;a[b]=[];a[b][0]=e;for(var d=0;d<this.data.y.smps.length;d++){a[b][d+1]=this.data.x[e][d]}}}else{if(g=="z"){for(var e in this.data.z){var b=a[0].length;a[0][b]=e;for(var d=0;d<this.data.y.vars.length;d++){a[d+1][b]=this.data.z[e][d]}}}}}return f?this.nG(a):a};this.Lt=function(d){if(d){var g={};for(var e=0;e<this.data.y.vars.length;e++){g[this.data.y.vars[e]]=e}var c=0;for(var e=0;e<d.data.y.vars.length;e++){if(g.hasOwnProperty(d.data.y.vars[e])){c++}}var f=0;for(var e=0;e<d.data.y.smps.length;e++){if(g.hasOwnProperty(d.data.y.smps[e])){f++}}if(c>0||f>0){if(c>f){}else{for(var e=0;e<d.data.y.vars.length;e++){this.data.z[d.data.y.vars[e]]=[];for(var b=0;b<d.data.y.smps.length;b++){if(g.hasOwnProperty(d.data.y.smps[b])){var a=g[d.data.y.smps[b]];this.data.z[d.data.y.vars[e]][a]=d.data.y.data[e][b]}}}if(d.data.hasOwnProperty("x")){for(var e in d.data.x){this.data.z[e]=[];for(var b=0;b<d.data.y.smps.length;b++){if(g.hasOwnProperty(d.data.y.smps[b])){var a=g[d.data.y.smps[b]];this.data.z[e][a]=d.data.x[e][b]}}}}}this.colorBy=d.data.y.vars[0];this.wD("z",false,false,true);return true}}return false};this.r8=function(a,b){if(this.varIndices.length&&this.smpIndices.length){var g=this;var B=function(i){if(i=="s"){return{y:{smps:g.TU(g.data.y.smps)},x:{}}}else{return{y:{vars:g.TU(g.data.y.vars)},z:{}}}};var C={};if(b&&this.data.z&&this.data.z.hasOwnProperty("cXId")){for(var x=0;x<this.data.z.cXId.length;x++){C[this.data.z.cXId[x]]=x}}var k={s:[],v:[]};var l={s:[],v:[]};var s;var v=2;var r=false;for(var x=1;x<a.length;x++){s=this.yV(a[x][0]);if(s>-1){k.s.push([x,s]);continue}s=b&&C.hasOwnProperty(a[x][0])?C[a[x][0]]:this.tU(a[x][0]);if(s>-1){k.v.push([x,s]);continue}}for(var x=1;x<a[0].length;x++){s=b&&C.hasOwnProperty(a[x][0])?C[a[x][0]]:this.tU(a[0][x]);if(s>-1){l.v.push([x,s]);continue}s=this.yV(a[0][x]);if(s>-1){l.s.push([x,s]);continue}}var h=k.s.length>v?k.s.length:0;var f=k.v.length>v?k.v.length:0;var e=l.s.length>v?l.s.length:0;var d=l.v.length>v?l.v.length:0;var z=this.data.y.smps.length;var A=this.data.y.vars.length;if(h||f||e||d){var t=0;if(h==z&&d==A){var D=[];for(var x=0;x<l.v.length;x++){var o=l.v[x][0];var c=l.v[x][1];D[c]=[];for(var w=0;w<k.s.length;w++){var y=k.s[w][0];var q=k.s[w][1];D[c][q]=a[y][o];t++}}r=true}else{if(e==z&&f==A){var D=[];for(var x=0;x<k.v.length;x++){var o=k.v[x][0];var c=k.v[x][1];D[c]=[];for(var w=0;w<l.s.length;w++){var y=l.s[w][0];var q=l.s[w][1];D[c][q]=a[o][y];t++}}r=true}else{if(h>=f&&h>=e&&h>=d){var D=B("s");for(var x=1;x<a[0].length;x++){D.x[a[0][x]]=[];var u=0;for(var w=0;w<k.s.length;w++){var y=k.s[w][0];var q=k.s[w][1];D.x[a[0][x]][q]=a[y][x];t++;u=a[y][x]?u+1:u}if(!u){delete D.x[a[0][x]]}}}else{if(f>=h&&f>=e&&f>=d){var D=B("v");for(var x=1;x<a[0].length;x++){D.z[a[0][x]]=[];var u=0;for(var w=0;w<k.v.length;w++){var y=k.v[w][0];var q=k.v[w][1];D.z[a[0][x]][q]=a[y][x];t++;u=a[y][x]?u+1:u}if(!u){delete D.z[a[0][x]]}}}else{if(e>h&&e>=f&&e>=d){var D=B("s");for(var x=0;x<l.s.length;x++){var o=l.s[x][0];var c=l.s[x][1];var u=0;for(var w=1;w<a.length;w++){if(x==0){D.x[a[w][0]]=[]}D.x[a[w][0]][c]=a[w][o];t++;u=a[w][o]?u+1:u}if(!u){delete D.x[a[w][0]]}}}else{if(d>h&&d>=f&&d>=e){var D=B("v");for(var x=0;x<k.s.length;x++){var o=k.s[x][0];var c=k.s[x][1];var u=0;for(var w=1;w<a.length;w++){if(x==0){D.z[a[w][0]]=[]}D.z[a[w][0]][c]=a[w][o];t++;u=a[w][o]?u+1:u}if(!u){delete D.z[a[w][0]]}}}}}}}}return{data:D,recs:t,addt:r}}else{if(b){var D=this.arrayToCX(a);this.data.x=D.data.x;this.data.y.smps=D.data.y.smps;this.data.y.vars=this.TU(this.data.z.id);this.updateData(this.data);var p=this.meta.map.geojson.features;for(var x=0;x<p.length;x++){p[x].properties.key=this.data.y.vars[x];p[x].properties.varId=[x]}return{data:false,recs:this.data.y.smps.length,addt:false}}else{return a}}}return a};this.Wr=function(){var c=this;this.loadLLMDatasets=!this.loadLLMDatasets;this.WI();if(CanvasXpress.datasets){return}var b=function(d){CanvasXpress.datasets=c.parseJSON(d)};var a=window.location.origin+"/data/json/LLMdatasets.json";this.br(a,false,b)};this.QE=function(){var c=this;var b=function(d){CanvasXpress.Rdatasets=c.parseJSON(d)};var a=this.RdatasetsURL+"datasets.json";this.br(a,false,b);this.WI()};this.wt=function(a,b){this.rW(this.RdatasetsURL+"csv/"+a+"/"+b+".csv");this.Rdataset={library:a,dataset:b,url:this.RdatasetsURL+"json/"+a+"/"+b+"Info.json",info:false}};this.Rh=function(a,b){this.rW(this.RdatasetsURL+"datasetsCX.csv")};this.sj=function(){var f=this;var b=this.appendNetworkData.length>0?this.appendNetworkData.shift():false;var d=function(n){var l=function(z){var y={};var B=z[0];var r=0;var w=0;var u=0;var q={};var A=false;for(var x=1;x<z.length;x++){var s=z[x][0];var t=z[x][1];if(f.data.nodeIndices.hasOwnProperty(s)&&f.data.nodeIndices.hasOwnProperty(t)){w++}else{if(f.data.nodeIndices.hasOwnProperty(s)){r++}else{u++}}q[s]=x}if(!r&&!w){for(var x=0;x<f.data.nodes.length;x++){var s=f.data.nodes[x];if(s.hasOwnProperty("extId")&&q.hasOwnProperty(s.extId)){z[q[s.extId]][0]=s.id;r++}}}if(w>r){r=0;w=0;u=0;A="edge";for(var x=1;x<z.length;x++){var s=z[x][0];var t=z[x][1];if(f.data.nodeIndices.hasOwnProperty(s)&&f.data.nodeIndices.hasOwnProperty(t)){w++;y[s+":"+t]={};for(var v=2;v<B.length;v++){y[s+":"+t][B[v]]=z[x][v]}}else{u++}}}else{if(r>8){r=0;w=0;u=0;A="node";for(var x=1;x<z.length;x++){var s=z[x][0];if(f.data.nodeIndices.hasOwnProperty(s)){r++;y[s]={};for(var v=1;v<B.length;v++){y[s][B[v]]=z[x][v]}}else{u++}}}else{return z}}if((A=="edge"&&(w>5||w>=z.length-1))||(A=="node"&&(r>5||r>=z.length-1))){return{data:y,rows:Math.max(r,w),fail:u,type:A}}else{return z}};var o=l(f.parseDelimited(n));if(o&&!f.tO(o)){var k="";if(o.fail>0){k=o.fail+" records couldn't be mapped to network data"}f.s1(100,150,o.rows+" "+o.type+" records added to network data\n"+k,5000);var p=f.meta.config.user;var e=["colorNodeBy","shapeNodeBy","sizeNodeBy","patternNodeBy","colorEdgeBy","SizeEdgeBy","decorations"];for(var m=0;m<e.length;m++){var j=e[m];if(p.hasOwnProperty(j)){f[j]=p[j]}}if(o.type=="node"){f.ea(o.data)}else{f.Kr(o.data)}if(f.appendNetworkData.length>0){f.sj()}else{f.x9({func:"appendNetworkDataFromURL"});f.hT()}}};var c=function(e){if(e.type=="node"){f.ea(e.data)}else{f.Kr(e.data)}if(f.appendNetworkData.length>0){f.sj()}else{f.x9({func:"appendNetworkDataFromURL"});f.hT()}};var a=function(e){return function(i){if(b.match(/\.txt$/)||b.match(/\.csv$/)||b.match(/\.tsv$/)||b.match(/\.tab$/)){d(i)}else{f.hT();alert("Oooops! Not a CanvasXpress Network delimited file")}}};if(b){if(typeof(b)=="string"){var g=null;try{g=JSON.parse(b);return c(g)}catch(h){g=null}g=this.parseDelimited(b)||null;if(g){return d(b)}if(this.isValidURL(b)){return this.br(b,false,a)}}else{c(b)}}};this.rW=function(a){this.br(a,false,this.setDataSetFromURL,"text")};this.uT=function(g){var d=CanvasXpress.getSetCurrentObject();var c=function(i){d.Rdataset.info=d.parseJSON(i)};var f=d.arrayToCX(d.parseDelimited(g));var h=d.$(d.target+"-cX-DOM").parentNode;if(h.parentNode){h=h.parentNode}var b=d.oy("-cX-data-sets-");var e=d.$cX("canvas",{id:b,width:d.originalWidth,height:d.originalHeight});d.RO(e);h.appendChild(e);f.renderTo=b;f.config.view="table";var a=new CanvasXpress(f);a.Rdataset=d.Rdataset;a.br(a.Rdataset.url,false,c,false,false,a);a.Sn(d.target);a.dh()};this.oL=function(e,d,i,c,f){if(!CanvasXpress.stack){CanvasXpress.stack={}}var b=this.$(this.target);var g=this.TU(d)||false;if(g&&this.graphName){for(var a in this.graphName){g[a]=this.graphName[a]}}if(g&&this.scatterContext){g.graphType=this.scatterContext}var h=this.isCxplot&&this.tO(e)?this.TU(this.data):e?this.aj(e):false;if(this.isGraphTime){g.isGraphTime=true}if(this.xAxisTime){g.xAxisTime=this.xAxisTime}if(this.yAxisTime){g.yAxisTime=this.yAxisTime}if(b){CanvasXpress.stack[this.target]={version:CanvasXpress.factory.version,renderTo:this.target,data:h,config:g,events:i?i:false,info:c?c.toString().replace(/'/g,"'").replace(/"/g,"'"):false,afterRenderInit:f?f:false,afterRender:[["setDimensions",[b.originalWidth,b.originalHeight,true]]],stateCX:[],stateIndexCX:0,noValidate:true}}};this.bq=function(d){if(d.data){if(d.config.stringSampleFactors){for(var b=0;b<d.config.stringSampleFactors.length;b++){var c=d.config.stringSampleFactors[b];if(d.data.x&&d.data.x[c]){for(var a=0;a<d.data.x[c].length;a++){d.data.x[c][a]=d.data.x[c][a]}}}}if(d.config.stringVariableFactors){for(var b=0;b<d.config.stringVariableFactors.length;b++){var c=d.config.stringVariableFactors[b];if(d.data.z&&d.data.z[c]){for(var a=0;a<d.data.z[c].length;a++){d.data.z[c][a]=d.data.z[c][a]}}}}CanvasXpress.stack[this.target].data=d.data}};this.ck=function(){return CanvasXpress.stack[this.target].afterRender};this.xh=function(){var g={meta:true,animationOn:true,arrows:true,beaconImage:true,bubble:true,changingColorItemOn:true,changingColorOn:true,changingSliderItemOn:true,cola:true,colaConnector:true,currentCanvasContext:true,draggingOn:true,doubleClick:true,events:true,functions:true,gantt:true,images:true,info:true,infoStartTime:true,isHighlightCanvas:true,isTransitionOn:true,keyOn:true,lastCanvasEvent:true,lastMousemove:true,leafletMap:true,lines:true,moveSankeyId:true,movingOn:true,nodes:true,panningOn:true,patterns:true,resetOn:true,resizeCanvasCursorShow:true,shapes:true,sizes:true,skipClick:true,skipTransition:true,times:true,transitionIter:true,userId:true,validGraphTypes:true,vennCompartments:true,xMouseDown:true,yMouseDown:true,mousedownElement:true,filteringNumericOn:true};if(this.graphType!="Network"||(this.graphType=="Network"&&this.networkLayoutType=="cola")){g.data=true}var f=Object.keys(this);var a=this.l4(CanvasXpress.config);var e=[];for(var d=0;d<f.length;d++){var h=f[d];if(a.hasOwnProperty(h)){e.push(h)}else{if(!this.qj(this[h])&&!g.hasOwnProperty(h)){e.push(h)}}}var b={};for(var d=0;d<e.length;d++){var h=e[d];b[h]=this.wo(this[h])?this.TU(this[h],true):this[h]}return b};this.kK=function(a){if(!a){a=0}var b=CanvasXpress.stack[this.target].stateCX[a];for(var e in b){this[e]=b[e]}var d={calculateLayout:this.calculateLayout};this.calculateLayout=false;this.skipStack=true;this.x9({func:"setConfigState",par:[a]});this.skipStack=false;for(var e in d){this[e]=d[e]}};this.JW=function(h){if(this.skipStack||!h){return}var k=h.func;var d=h.par?this.Nd(h.par):[];var l=h.prop?this.TU(h.prop):{};var m=h.video!==undefined?true:false;var j=new Date().getTime();var e=CanvasXpress.stack[this.target];if(!k||!e){return}if(!this.reproduceVideoMode&&m){return}var i=e.afterRender;var a=i.length;switch(k){case"setDimensions":if(d&&d[0]===this.width&&d[1]===this.height){return}i.push([k,d,{},m,j]);break;case"broadcastDraw":k=d[0].func;d=d[0]&&d[0].par?this.Nd(d[0].par):[];l=d[0]&&d[0].prop||{};if(k){i.push([k,d,l,m,j])}break;case"drawIndicesAfterPannEvent":case"drawIndicesAfterWheelEvent":case"drawRangesAfterWheelEvent":case"updateDragCircular":case"updateDragScatter":case"updateDragNetwork":case"updateDragGenome":case"updateDragMap":case"updateDragMarker":var g=e.stateCX;var f=(k!=="updateDragNetwork"||!d[0].shiftKey);if(a>1&&i[a-1][0]===k&&f){var c=j-i[a-1][4];if(c<1000){i.pop();g.pop()}}i.push([k,d,l,m,j]);break;case"handleWheelEvent":i.push([k,d,l,m,j]);break;default:i.push([k,d,l,m,j]);break}if(!this.disableUndoRedoKeys){if(e.stateIndexCX<e.stateCX.length-1){e.stateCX.splice(e.stateIndexCX+1)}var b=this.xh();e.stateCX.push(b);e.stateIndexCX=e.stateCX.length-1}this.meta.stack.push([k,this.meta.time.start,this.meta.time.elapsed])};this.Kc=function(a){this.QX(a,true)};this.QX=function(b,a,c){if(this.motionBy){return}this.skipStack=true;this.reproducing=true;this.At();this.oU();this.iu(b,true);this.meta.ids={};if(c){this.Jc();this.EW(b,true,true)}else{this.py(b);if((b&&b.shiftKey)||a){this.EW(b,true)}}};this.Kv=function(a){this.Nm(a,true)};this.Nm=function(h,b,k){var j=this.SK(CanvasXpress.stack[this.target]);if(!this.isRawData){if(j.data.y){delete j.data.y.data}}this.isQQ=false;this.isCDF=false;j.config.showTransition=b?true:false;if(k){var f=this.TU(j.afterRender);j.afterRender=[];for(var g=0;g<f.length;g++){var l=f[g];if(l[0]=="addCDFPlot"&&j.config.decorations){delete j.config.decorations.cdf}if(l&&l[4]){j.afterRender.push(l)}}}this.Sn(this.target,true);new CanvasXpress(j)}};CanvasXpress.prototype.initSave=function(){
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
(function(g){g.URL=g.URL||g.webkitURL;if(g.Blob&&g.URL){try{new Blob;return}catch(j){}}var i=g.BlobBuilder||g.WebKitBlobBuilder||g.MozBlobBuilder||(function(v){var m=function(F){return Object.prototype.toString.call(F).match(/^\[object\s(.*)\]$/)[1]},E=function s(){this.data=[]},C=function o(H,F,G){this.data=H;this.size=H.length;this.type=F;this.encoding=G},w=E.prototype,B=C.prototype,y=v.FileReaderSync,k=function(F){this.code=this[this.name=F]},x=("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),A=x.length,r=v.URL||v.webkitURL||v,z=r.createObjectURL,l=r.revokeObjectURL,q=r,u=v.btoa,p=v.atob,n=v.ArrayBuffer,t=v.Uint8Array,D=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;C.fake=B.fake=true;while(A--){k.prototype[x[A]]=A+1}if(!r.createObjectURL){q=v.URL=function(G){var F=document.createElementNS("http://www.w3.org/1999/xhtml","a"),H;F.href=G;if(!("origin" in F)){if(F.protocol.toLowerCase()==="data:"){F.origin=null}else{H=G.match(D);F.origin=H&&H[1]}}return F}}q.createObjectURL=function(G){var H=G.type,F;if(H===null){H="application/octet-stream"}if(G instanceof C){F="data:"+H;if(G.encoding==="base64"){return F+";base64,"+G.data}else{if(G.encoding==="URI"){return F+","+decodeURIComponent(G.data)}}if(u){return F+";base64,"+u(G.data)}else{return F+","+encodeURIComponent(G.data)}}else{if(z){return z.call(r,G)}}};q.revokeObjectURL=function(F){if(F.substring(0,5)!=="data:"&&l){l.call(r,F)}};w.append=function(J){var L=this.data;if(t&&(J instanceof n||J instanceof t)){var K="",G=new t(J),H=0,I=G.length;for(;H<I;H++){K+=String.fromCharCode(G[H])}L.push(K)}else{if(m(J)==="Blob"||m(J)==="File"){if(y){var F=new y;L.push(F.readAsBinaryString(J))}else{throw new k("NOT_READABLE_ERR")}}else{if(J instanceof C){if(J.encoding==="base64"&&p){L.push(p(J.data))}else{if(J.encoding==="URI"){L.push(decodeURIComponent(J.data))}else{if(J.encoding==="raw"){L.push(J.data)}}}}else{if(typeof J!=="string"){J+=""}L.push(unescape(encodeURIComponent(J)))}}}};w.getBlob=function(F){if(!arguments.length){F=null}return new C(this.data.join(""),F,"raw")};w.toString=function(){return"[object BlobBuilder]"};B.slice=function(I,F,H){var G=arguments.length;if(G<3){H=null}return new C(this.data.slice(I,G>1?F:this.data.length),H,this.encoding)};B.toString=function(){return"[object Blob]"};B.close=function(){this.size=0;delete this.data};return E}(g));g.Blob=function(o,n){var q=n?(n.type||""):"";var m=new i();if(o){for(var p=0,k=o.length;p<k;p++){if(Uint8Array&&o[p] instanceof Uint8Array){m.append(o[p].buffer)}else{m.append(o[p])}}}var l=m.getBlob(q);if(!l.slice&&l.webkitSlice){l.slice=l.webkitSlice}return l};var h=Object.getPrototypeOf||function(k){return k.__proto__};g.Blob.prototype=h(new g.Blob())}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content||this));
/*! @source http://purl.eligrey.com/github/canvas-toBlob.js/blob/master/canvas-toBlob.js */
(function(g){var h=g.Uint8Array,j=g.HTMLCanvasElement,i=j&&j.prototype,k=/\s*;\s*base64\s*(?:;|$)/i,l="toDataURL",n,m=function(u){var v=u.length,r=new h(v/4*3|0),t=0,x=0,y=[0,0],o=0,w=0,s,p,q;while(v--){p=u.charCodeAt(t++);s=n[p-43];if(s!==255&&s!==q){y[1]=y[0];y[0]=p;w=(w<<6)|s;o++;if(o===4){r[x++]=w>>>16;if(y[1]!==61){r[x++]=w>>>8}if(y[0]!==61){r[x++]=w}o=0}}}return r};if(h){n=new h([62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51])}if(j&&(!i.toBlob||!i.toBlobHD)){if(!i.toBlob){i.toBlob=function(v,t){if(!t){t="image/png"}if(this.mozGetAsFile){v(this.mozGetAsFile("canvas",t));return}if(this.msToBlob&&/^\s*image\/png\s*(?:$|;)/i.test(t)){v(this.msToBlob());return}var s=Array.prototype.slice.call(arguments,1),q=this[l].apply(this,s),p=q.indexOf(","),u=q.substring(p+1),o=k.test(q.substring(0,p)),r;if(Blob.fake){r=new Blob;if(o){r.encoding="base64"}else{r.encoding="URI"}r.data=u;r.size=u.length}else{if(h){if(o){r=new Blob([m(u)],{type:t})}else{r=new Blob([decodeURIComponent(u)],{type:t})}}}v(r)}}if(!i.toBlobHD&&i.toDataURLHD){i.toBlobHD=function(){l="toDataURLHD";var o=this.toBlob();l="toDataURL";return o}}else{i.toBlobHD=i.toBlob}}}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content||this));var f=typeof window==="object"&&window.window===window?window:typeof self==="object"&&self.self===self?self:typeof global==="object"&&global.global===global?global:this;function e(g,h){if(typeof h==="undefined"){h={autoBom:false}}else{if(typeof h!=="object"){console.warn("Depricated: Expected third argument to be a object");h={autoBom:!h}}}if(h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(g.type)){return new Blob([String.fromCharCode(65279),g],{type:g.type})}return g}function b(h,g,i){var j=new XMLHttpRequest();j.open("GET",h);j.responseType="blob";j.onload=function(){a(j.response,g,i)};j.onerror=function(){console.error("could not download file")};j.send()}function c(g){var h=new XMLHttpRequest();h.open("HEAD",g,false);h.send();return h.status>=200&&h.status<=299}function d(h){try{h.dispatchEvent(new MouseEvent("click"))}catch(i){var g=document.createEvent("MouseEvents");g.initMouseEvent("click",true,true,window,0,0,0,80,20,false,false,false,false,0,null);h.dispatchEvent(g)}}var a=f.saveAs||(typeof window!=="object"||window!==f)?function a(){}:"download" in HTMLAnchorElement.prototype?function a(i,j,k){var g=f.URL||f.webkitURL;var h=document.createElement("a");j=j||i.name||"download";h.download=j;h.rel="noopener";if(typeof i==="string"){h.href=i;if(h.origin!==location.origin){c(h.href)?b(i,j,k):d(h,h.target="_blank")}else{d(h)}}else{h.href=g.createObjectURL(i);setTimeout(function(){g.revokeObjectURL(h.href)},40000);setTimeout(function(){d(h)},0)}}:"msSaveOrOpenBlob" in navigator?function a(h,i,j){i=i||h.name||"download";if(typeof h==="string"){if(c(h)){b(h,i,j)}else{var g=document.createElement("a");g.href=h;g.target="_blank";setTimeout(function(){d(g)})}}else{navigator.msSaveOrOpenBlob(e(h,j),i)}}:function a(h,j,g,k){k=k||open("","_blank");if(k){k.document.title=k.document.body.innerText="downloading..."}if(typeof h==="string"){return b(h,j,g)}var l=h.type==="application/octet-stream";var o=/constructor/i.test(f.HTMLElement)||f.safari;var p=/CriOS\/[\d]+/.test(navigator.userAgent);if((p||(l&&o))&&typeof FileReader==="object"){var m=new FileReader();m.onloadend=function(){var q=m.result;q=p?q:q.replace(/^data:[^;]*;/,"data:attachment/file;");if(k){k.location.href=q}else{location=q}k=null};m.readAsDataURL(h)}else{var n=f.URL||f.webkitURL;var i=n.createObjectURL(h);if(k){k.location=i}else{location.href=i}k=null;setTimeout(function(){n.revokeObjectURL(i)},40000)}};this.ny=a};CanvasXpress.prototype.initConfig=function(){this.ss=function(cat){var d=CanvasXpress.doc;if(!d.M[cat]){d.M[cat]={}}if(!d.M[cat].P){d.M[cat].P=[];d.M[cat].U={}}};this.hd=function(cat){var d=CanvasXpress.doc;if(d.M[cat]){d.M[cat].P=d.M[cat].P.sort()}};this.OS=function(base,color,desc,cat,llm,k){this[base+"Color"]=color==false?false:(color||"rgb(0,0,0)");var d=CanvasXpress.doc;var p=[base+"Color"];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[base+"Color"]={C:"Color for the "+desc+"<br>",D:this[base+"Color"],M:cat,T:"color",L:llm||("Color the "+this.gW(base)+" {_value_}")};if(desc.match(/^[x|y|r].+axis/)){d.P[base+"Color"].L="Color the "+desc.toLowerCase().replace(/ var /," variable ").replace(/ smp /," sample ")+"{_value_}"}};this.z7=function(base,color,desc,cat,llm,k){this[base]=color||"rgb(0,0,0)";var d=CanvasXpress.doc;var p=[base];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[base]={C:"Color for the "+desc+"<br>",D:this[base],M:cat,T:"color",L:llm||("Color the "+this.gW(base)+" {_value_}")}};this.S4=function(name,def,opts,desc,cat,llm,k,func){this[name]=def||false;var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:this[name],M:cat,O:opts,T:"string",L:llm||(name.match(/By$/)?this.Y5(name.replace(/By$/," ").replace(/ var /," variable ").replace(/ smp /," sample "))+"data by {_value_}":("Set the "+this.gW(name)+" to {_value_}"))};if(func){d.P[name].F=func}};this.g1=function(name,def,opts,desc,cat,llm,k,func){this[name]=def||"";var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:this[name],M:cat,O:opts,T:"string",L:llm||("Set the "+this.gW(name)+" to {_value_}")};if(func){d.P[name].F=func}};this.YP=function(name,def,desc,cat,llm,k){this[name]=def||false;if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:this[name],M:cat,T:"string",L:llm||("Set the "+this.gW(name)+" to {_value_}")}}};this.Xt=function(name,def,desc,cat,llm,k){this[name]=def==null?null:(def||0);if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:this[name],M:cat,T:"integer",L:llm||("Set the "+this.gW(name)+" to {_value_}")}}};this.gl=function(name,def,desc,cat,llm,k){this[name]=def!=null?def:null;if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:this[name],M:cat,T:"float",L:llm||("Set the "+this.gW(name)+" to {_value_}")};if(desc.match(/^[x|y|r].+axis/)){d.P[name].L="Set the "+desc.toLowerCase().replace(/ var /," variable ").replace(/ smp /," sample ")+" to {_value_}"}}};this.lj=function(name,def,desc,cat,llm,k){this[name]=def||false;if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:this[name],M:cat,T:"boolean",L:llm||("Set the "+this.gW(name)+" to {boolean}")};if(!llm&&desc.match(/^Flag to \w.+/)){var f=desc.split(/\./);var m=f[0].match(/^Flag to (\w+)(.+)/);if(m.length){var v=this.Y5(m[1]);d.P[name].L="{"+v+"|Do Not "+v+"}"+m[2]}}}};this.oi=function(name,def,desc,cat,llm,k){this[name]=def||[];if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:JSON.parse(JSON.stringify(this[name])),M:cat,T:"array",L:llm||("Set the "+this.gW(name)+" to {_value_}")}}};this.od=function(name,def,desc,cat,llm,k){this[name]=def==false?false:(def||[]);if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:JSON.parse(JSON.stringify(this[name])),M:cat,T:"array",L:llm||("Set the "+this.gW(name)+" to {_value_}")}}};this.Dm=function(name,def,desc,cat,llm,k){this[name]=def==false?false:{};if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:JSON.parse(JSON.stringify(this[name])),M:cat,T:"object",L:llm||("Set the "+this.gW(name)+" to {_value_}")}}};this.ms=function(name,def,desc,cat,llm,k){this[name]=def==false?false:{};if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:JSON.parse(JSON.stringify(this[name])),M:cat,T:"object or array",L:llm||("Set the "+this.gW(name)+" to {_value_}")}}};this.Y4=function(name,def,desc,cat,llm,k){this[name]=def||{cases:[],comp:[],op:[],type:[],value:[]};if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:JSON.parse(JSON.stringify(this[name])),M:cat,T:"filter",L:llm||("Filter data where "+this.gW(name)+" {_value_}")}}};this.Wk=function(name,def,desc,cat,llm,k){this[name]=def||false;if(k){var d=CanvasXpress.doc;var p=[name];k.push.apply(k,p);this.ss(cat);d.M[cat].P=d.M[cat].P.concat(p);d.P[name]={C:desc+"<br>",D:this[name],M:cat,T:"url",L:llm||("Set the URL for "+this.gW(name).replace(/url/i,"")+" to {_value_}")}}};this.Wy=function(cat,desc,graphs,md,llm){var d=CanvasXpress.doc;this.ss(cat);d.M[cat].U={C:desc,U:CanvasXpress.graphTypes[graphs],L:llm,X:md?md:"Other CanvasXpress Parameters"}};this.No=function(base,fill,color,size,type,desc,cat,llm,k){this.OS(base,fill||"rgba(255,255,255,0)",desc,cat,llm,k);this.OS(base+"Border",color||"rgba(255,255,255,0)","border in "+desc,cat,llm,k);this.gl(base+"BorderSize",size||1,"Size for the border line in "+desc,cat,llm,k);this.S4(base+"BorderLineType",type||"solid",["rect","solid","spline","dotted","dashed","dotdash","longdash","twodash"],"Type of line for the border in "+desc,cat,llm,k);this.hd(cat)};this.PF=function(base,face,color,size,scale,align,line,rotate,margin,desc,cat,llm,k){var s=this.gW(base);this.g1(base+"FontStyle",face||"",["","bold","italic","bold italic"],"Font style for the "+desc,cat,llm,k);this.OS(base,color==false?false:(color||"rgb(0,0,0)"),"text in "+desc,cat,llm,k);this.Xt(base+"FontSize",size||11,"Font size for the text in "+desc+". Be aware that auto scaling font must be turned off for this property to take effect. A more convenient way to modify the size is to use the "+base+"ScaleFontFactor",cat,llm,k);this.gl(base+"ScaleFontFactor",scale||1,"Scaling factor used to increase or decrease the "+desc+" font size in the canvas",cat,llm||("{Increase|Decrease} the size of the "+s+" by a factor of {_value_}").replace(/ var /," variable ").replace(/ smp /," sample "),k);this.S4(base+"Align",align||"center",["left","center","right"],"Alignment (or position) for the "+desc,cat,llm||("Align the "+s+" to the {_value_}").replace(/ var /," variable ").replace(/ smp /," sample "),k);this.S4(base+"Baseline",line||"middle",["top","middle","bottom"],"Baseline (or reference line) for the "+desc,cat,llm,k);this.Xt(base+"Rotate",margin!=null?rotate:0,"Rotation in degrees for the "+desc,cat,llm||("Rotate the "+s+" {_value_} degrees").replace(/ var /," variable ").replace(/ smp /," sample "),k);this.gl(base+"Margin",margin!=null?margin:5,"Margin to pad or separate the characters in the "+desc,cat,llm,k);this.hd(cat)};this.cr=function(base,show,newick,pos,color,desc,cat,llm,k){var l=base.toLowerCase();var p=base=="Var"?["top","bottom"]:["left","right"];this.TO(base+"Dendrogram",show==false?false:true,desc,cat,llm,k);this.lj(l+"DendrogramUseHeight",false,"Boolean flag to allow the use of height in the provided Newick string for branch representation in the "+desc,cat,llm,k);this.lj(l+"DendrogramHang",true,"Flag to use extend the lines to the end of the terminal nodes when the newick is provided for the "+desc,cat,llm,k);this.YP(l+"DendrogramNewick",newick||false,"Custom dendrogram in Newick format created outside CanvasXpress to define and specify the hierarchy for the "+desc+".",cat,llm,k);this.n8(l+"Dendrogram",pos,p,desc+" in the plot. It could be top, bottom, right or left depending on the orientation of the graph",cat,llm,k);this.S4("color"+base+"DendrogramBy",color||false,[false],"Name of metadata annotation to color the "+desc,cat,llm,k);this.hd(cat)};this.FX=function(base,color,trn,wid,len,type,show,desc,cat,llm,k){this.OS(base,color,desc,cat,llm,k);this.gl(base+"Transparency",trn||1,"Transparency for the color of the "+desc,cat,llm,k);this.gl(base+"Width",wid||1,"Width for the "+desc,cat,llm,k);this.Ae(base,type,desc,cat,llm,k);if(base!="fitLine"&&!base.match(/Grid|Right|Left|Bottom|Top/)){this.gl(base+"Length",len||null,"Length for the "+desc,cat,llm,k);this.ZO(base,show,desc,cat,llm,k)}this.hd(cat)};this.s5=function(base,show,height,desc,cat,llm,k){var s=this.gW(base);this.lj(base+"HistogramShow",show==false?false:true,"Flag to show/hide the histogram in the "+desc,cat,llm||"{Show|Hide} the "+s+" histogram",k);this.Xt(base+"HistogramHeight",height||80,"Size in pixels for the histogram in the "+desc,cat,llm,k);this.hd(cat)};this.CZ=function(base,show,height,pos,desc,cat,llm,k){var s=this.gW(base);this.lj(base+"RugShow",show==false?false:true,"Flag to show/hide a data rug in the "+desc,cat,llm||"{Show|Hide} the "+s+" rug",k);this.Xt(base+"RugHeight",height||80,"Size in pixels for the data rug in the "+desc,cat,llm,k);this.S4(base+"RugPosition",pos?pos[0]:false,pos,"Position for the data rug in the"+desc,cat,llm,k);this.hd(cat)};this.n8=function(base,pos,opts,desc,cat,llm,k){var s=this.gW(base.replace(/^Var/,"Variable").replace(/^Smp/,"Sample"));this.S4(base+"Position",pos||"right",opts,"Position for the "+desc,cat,llm||"Put the "+s+" on the {_value_}",k)};this.Ei=function(base,dir,desc,cat,llm,k){this.S4(base+"Direction",dir||"vertical",["vertical","horizontal"],"Direction for "+desc,cat,llm,k)};this.TO=function(base,show,desc,cat,llm,k){var s=this.gW(base.replace(/^Var/,"Variable").replace(/^Smp/,"Sample"));this.lj("show"+base,show==false?false:true,"Flag to show/hide the "+desc,cat,llm||"{Show|Hide} the"+s,k)};this.ZO=function(base,show,desc,cat,llm,k){var s=this.gW(base);this.lj(base+"Show",show==false?false:true,"Flag to show/hide the "+desc,cat,llm||"{Show|Hide} the "+s,k)};this.Ae=function(base,style,desc,cat,llm,k){this.S4((base+"LineType").replace("LineLine","Line"),style||"solid",["rect","solid","spline","dotted","dashed","dotdash","longdash","twodash"],"Type of line for the "+desc,cat,llm,k)};this.S3=function(base,trn,desc,cat,llm,k){var s=this.gW(base);this.S4(base+"Transform",trn||false,[false,"log2","log10","-log2","-log10","exp2","exp10","sqrt","percentile"],"Type of transformation for values in "+desc,cat,llm||"Transform the "+s+" to {_value_}",k)};this.yr=function(base,desc,cat,llm,k){var c=base.toUpperCase();var s=c=="Y"?["Right","Left"]:c=="X"?["Top","Bottom"]:[];var p=c=="Y"?["left","rigth","both"]:c=="X"?["bottom","top","both"]:false;var f=c=="Y"?" on the left":c=="X"?" on the bottom":"";var a=c=="Y"?" on the right":c=="X"?" on the top":"";var t=c=="Z"?10:5;this.oi(base+"Axis",[],"Name of the samples, groups or variables to be displayed in the "+desc,cat,llm,k);this.oi(base+"AxisIndices",[]);if(c=="X"){this.oi(base+"Axis2",[],"Name of the samples, groups or variables to be displayed in the second "+desc,cat,llm,k)}if(c!="R"){this.Xt(base+"AxisCurrent",0,"Sample id that is currently displayed in the "+desc+". Important when there are more that one series displayed in the graph",cat,llm,k)}this.lj(base+"AxisShow",true,"Flag to show/hide the "+desc+f,cat,llm||"{Show|Hide} the "+desc,k);if(c=="X"||c=="Y"){this.lj(base+"Axis2Show",false,"Flag to show/hide the "+desc+a,cat,llm||"{Show|Hide} the "+desc,k);this.lj(base+"Axis2Rotate",false,"Flag to rotate 180 degrees the direction of the "+desc+a,cat,llm,k)}this.gl("setMin"+c,null,"Set the minimum value for data in the "+desc,cat,llm||"Set the minimum value for data in the "+desc+" to {_value_}",k);this.gl("setMax"+c,null,"Set the maximum value for data in the "+desc,cat,llm||"Set the maximum value for data in the "+desc+" to {_value_}",k);if(c!="R"&&c!="Z"){this.gl("setPanningMin"+c,null,"Set the minimum value allowed to pann the data in the "+desc,cat,llm,k);this.gl("setPanningMax"+c,null,"Set the maximum value allowed to pann the data in the "+desc,cat,llm,k)}this.gl(base+"AxisAbsMin",null);this.gl(base+"AxisAbsMax",null);this.YP(base+"AxisMaxStrLength",false);this.gl(base+"AxisMin",null);this.gl(base+"AxisMax",null);this.gl(base+"AxisRange",null);this.gl(base+"AxisIncr",null);this.gl(base+"AxisDecs",null);this.lj(base+"AxisExtensionMin",false);this.lj(base+"AxisExtensionMax",false);if(c=="X"){this.gl("setMin"+c+2,null,"Set the minimum value for data in the second "+desc,cat,llm||"Set the minimum value for data in the "+desc+" to {_value_}",k);this.gl("setMax"+c+2,null,"Set the maximum value for data in the second "+desc,cat,llm||"Set the maximum value for data in the "+desc+" to {_value_}",k);this.gl(base+"Axis2AbsMin",null);this.gl(base+"Axis2AbsMax",null);this.YP(base+"Axis2MaxStrLength",false)}this.lj(base+"AxisTime",false,"Flag to force date format in "+desc,cat,llm,k);this.lj(base+"AxisExact",false,"Flag to force exact values in "+desc,cat,llm,k);this.oi(base+"AxisValues",[]);this.oi(base+"AxisValuesRaw",[]);this.oi(base+"AxisMinorValues",[]);this.oi(base+"AxisSetValues",[],"Set the values for the axis in the "+desc,cat,llm,k);this.oi(base+"AxisSetMinorValues",[],"Set the minor values for the axis in the "+desc,cat,llm,k);if(c=="X"){this.oi(base+"Axis2Values",[]);this.oi(base+"Axis2ValuesRaw",[]);this.oi(base+"Axis2MinorValues",[])}this.S3(base+"Axis",false,desc,cat,llm,k);this.lj(base+"AxisTransformTicks",false,"Flag to transform the values of the ticks in the "+desc,cat,llm,k);this.lj(base+"AxisTransformLinearTicks",false,"Flag to transform the values of the ticks back to linear scale in the "+desc,cat,llm,k);this.gl(base+"AxisCeilValue",null,"Value to ceil the data in the "+desc,cat,llm,k);this.gl(base+"AxisFloorValue",null,"Value to floor the data in the "+desc,cat,llm,k);this.gl(base+"AxisFactorValue",null,"Value to factor the data in the "+desc,cat,llm,k);this.YP(base+"AxisTitle",false,desc+" title "+f,cat,llm,k);if(c!="R"){this.YP(base+"Axis2Title",false,desc+"2 title "+a,cat,llm,k)}this.lj(base+"AxisTitleDynamic",false,"Set the title for the "+desc+" dynamically as it changes when configured by the user",cat,llm,k);this.PF(base+"AxisTitle","","rgb(0,0,0)",8,1,"center","middle",0,5,"axis title",cat,llm,k);this.PF(base+"AxisText","","rgb(0,0,0)",8,1,"center","middle",0,5,"axis text",cat,llm,k);this.FX(base+"AxisGridMajor","rgb(204, 204, 204)",1,1,5,"solid",true,"major grid lines in the "+desc+f,cat,llm,k);this.ZO(base+"AxisGridMajor",true,"major grid lines in the "+desc,cat,llm||"{Show|Hide} the major grid lines in the "+desc,k);this.FX(base+"AxisGridMinor","rgb(204, 204, 204)",1,0.5,5,"solid",true,"minor grid lines in the "+desc,cat,llm,k);this.ZO(base+"AxisGridMinor",true,"minor grid lines in the "+desc,cat,llm||"{Show|Hide} the minor grid lines in the "+desc,k);this.FX(base+"AxisTicks","rgb(204, 204, 204)",1,1,null,"solid",true,"marker lines across the "+desc,cat,llm,k);for(var i=0;i<s.length;i++){}for(var i=0;i<s.length;i++){this.FX(base+"AxisLine"+s[i],"rgb(204, 204, 204)",1,1,null,"solid",true,s[i].toLocaleLowerCase()+" line across the "+desc,cat,llm,k);this.ZO(base+"AxisLine"+s[i],false," line in the "+desc,cat,llm,k)}this.YP(base+"AxisTickFormat",false,desc+" format for the tick values in the "+desc+'. It could be a string with the sprintf format or an array where the first parameter is the sprintf format and the second parameter is a modification applied to the value before is passed to the sprintf function, i.e. ("/1000", "+ 100", etc.)',cat,llm,k);this.Xt(base+"AxisTicks",t,"Approx number of tick lines in the "+desc,cat,llm,k);if(c=="X"){this.YP(base+"Axis2TickFormat",false,desc+" format for the tick values in the second "+desc+'. It could be a string with the sprintf format or an array where the first parameter is the sprintf format and the second parameter is a modification applied to the value before is passed to the sprintf function, i.e. ("/1000", "+ 100", etc.)',cat,llm,k);this.Xt(base+"Axis2Ticks",t,"Approx number of tick lines in the second "+desc,cat,llm,k)}this.FX(base+"AxisLogTicks","rgb(0,0,0)",1,1,8,"solid",false,"log tick lines in the "+desc+f,cat,llm,k);if(c=="X"||c=="Y"){this.Xt(base+"AxisMinorTicks",2,"Number of minor ticks between major ticks in the "+desc,cat,llm,k);this.s5(base+"Axis",false,80,desc,cat,llm,k);if(p){this.CZ(base+"Axis",false,15,p,desc,cat,llm,k)}}this.hd(cat)};this.gW=function(str){return str.replace(/([A-Z])/g," $1").toLowerCase().replace(/ var /," variable ").replace(/ smp /," sample ").replace("variableiable","variable")};this.lg=function(){var k=CanvasXpress.config;var t=["bw","classic","cx","cxdark","dark","economist","excel","ggblanket","ggplot","gray","grey","highcharts","igray","light","linedraw","minimal","none","ptol","solarized","stata","tableau","void0","wsj","cx2"];var b="rgb(0,0,0)";var w="rgb(255,255,255)";var n="rgba(0,0,0,0)";var m="rgba(255,255,255,0)";var c;c="General";this.Wy(c,"General properties used in all visualizations","AllGraphs","Core",true);this.S4("graphType","Bar",CanvasXpress.graphTypes.AllGraphs,"Specifies the type of graph to be rendered",c,"Create a {_value_} graph",k);this.YP("graphName",false,"String used to store popular graph or plot names to map to the real graphType parameter in CanvasXpress",c);this.S4("theme","none",t,"The style for the plot or theme will control all the non-data elements of the plot including titles, legends, axes, panel and plot background colors and other stylistic elements",c,"",k);c="General One Dimensional Graphs";this.Wy(c,"General properties used in one dimensional visualizations","OneDGraphs","One Dimensional Graphs",true);this.S4("graphOrientation","horizontal",["horizontal","vertical"],"Specifies the orientation of one-dimensional graphs",c,"Orient the graph {_value_}",k);this.lj("invertGraph",false,"Option to reverse one-dimensional horizontal graphs for plotting from right to left",c,"{Invert|Do not invert} the graph",k);c="Plot Data Type";this.Wy(c,"Type of plot","AllGraphs","",false);this.lj("isR",false,"Flag to indicate visualization wasa done through the R API interface",c,"",k);this.lj("isChat",false,"Expose the chat interface at instatiation of the plot",c,"{Show|Hide} the chat interface",k);this.lj("isCxplot",false,"Flag to indicate visualization wasa done through the cxplot interface",c,"",k);this.YP("isGGMatrix",false,"String to correspond to the longest label to put in the left margin if the plot is part of a ggplot extension library, ggmatrix",c,"",k);this.lj("isDataFrame",false,"Flag to use data object as a data frame from R or Python",c,"",k);c="Plot Mode";this.Wy(c,"Properties to customize the plot","AllGraphs","",false);this.lj("isEditable",true,"Prevent data editing in JS Fiddle and CodePen by disabling the option in the File menu",c,"{Enable|Disable} edit of the graph on third party sites",k);this.lj("isReproducibleResearch",true,"Flag to track user modifications for Reproducible Research",c,"{Keep|Do not keep} track of modifications",k);this.Xt("reproduceTime",1000,"Duration in milliseconds to wait for replicating user modifications via the UI",c,"",k);this.lj("reproduceVideoMode",false,"Flag to indicate reproduction will be used to create a video",c,"",k);this.gl("reproduceVideoFactorTime",1.25,"Factor used to adjust the reproduceTime. The larger, the slower",c,"",k);c="Plot Performance";this.Wy(c,"Properties to improve plot performance","AllGraphs","",false);this.Xt("overplotPixels",500000,"Specify the pixel count for stacking to address overplotting. Increased values result in reduced overplotting, particularly advantageous for datasets with numerous variables",c,"",k);this.Xt("fullTextMeasureCheck",500,"Perform a comprehensive review of variable and sample name lengths when exceeding the specified quantity. This is beneficial for extensive data sets, as canvas lacks an efficient method for measuring text",c,"",k);this.lj("skipRender",false,"Flag to skip rendering of the graph",c);c="Plot View";this.Wy(c,"General view properties","AllGraphs","Core",true);this.S4("view","canvas",["canvas","table","layout","explore"],"Specify the initial view or display for the visualization",c,"View data in a {_value_}",k);c="Graph Metadata";this.Wy(c,"General graph metadata properties used in all graphs","AllGraphs","",false);this.oi("tags",[],"Tags",c,"",k);this.Dm("metaData",{},"Metadata for the columns of files retrieved from a URL",c,"",k);this.YP("password",false,"Password to protect exploring data",c,"",k);this.gl("createVersion",false,"CanvasXpress Version used to create plot. This is parsed from the PNG or JSON data loaded",c);this.Dm("createFactory",false,"CanvasXpress Factory used to create plot. This is parsed from the PNG or JSON data loaded",c);c="Foreground and Background";this.Wy(c,"Foreground and Background properties used in all visualizations","AllGraphs","Core",true);this.z7("foreground",b,"Specifies the default foreground color for text and lines not covered in a more specific configuration property",c,"",k);this.z7("background",w,"Specifies the default background color for elements in the canvas not covered in a more specific configuration property",c,"",k);c="Plot and Panel Areas";this.Wy(c,"General plot and panel properties used in all graphs","AllGraphs","Core",true);this.No("plotBackground",w,"rgba(204,204,204,0)",1,"solid","plot background. This includes the entire graph area","Plot and Panel Areas","",k);this.No("panelBackground",w,"rgba(204,204,204,0)",1,"solid","panel background. This includes only the area where the data is plotted","Plot and Panel Areas","",k);this.S4("backgroundType","solid",["solid","gradient","panel","panelGradient","panelSolidGradient","image","panelImage"],"Specifies the style for the background of the canvas. The canvas background is composed of a frame with a panel where the data is plotted. Either of these elements the may be a solid or gradient color or an image of your choosing. The colorScheme property will be used If gradient is specified",c,"",k);this.Wk("backgroundImage",false,"Specifies the url for the background image when the background type is of the type image or panelImage",c,"",k);this.YP("backgroundImageSrc",false,"Specifies the source for the background image when the background type is of the type image or panelImage",c,"",k);c="Transparency";this.Wy(c,"General transparency properties used in all graphs","AllGraphs","",false);this.gl("transparency",null,"Unit interval or fraction of transparency applied to all elements in the visualizations",c,"",k);this.gl("transparencyHidden",0.1,"Unit interval or fraction of transparency applied to elements that are hidden",c,"",k);c="Shadows";this.Wy(c,"Shadow properties used in most visualizations","AllGraphs","",false);this.TO("Shadow",false,"shadows in all graph objects in the canvas. It will be forced to false if the browser is IE",c,"",k);this.TO("TextShadow",false,"shadows in text in the canvas. It will be forced to false if the browser is IE",c,"",k);this.Xt("shadowOffsetX",1,"Length in pixels for the shadow offset in the X axis",c,"",k);this.Xt("shadowOffsetY",1,"Length in pixels for the shadow offset in the Y axis",c,"",k);this.Xt("shadowBlur",2,"Amount in blur for the shadow",c,"",k);this.OS("shadow","rgba(0,0,0,0.5)","shadow",c,"",k);c="Gradients";this.Wy(c,"Properties used to adjust color gradients in all visualizations","AllGraphs","Core",true);this.lj("gradient",false,"Flag to apply a color gradient to all elements in the graphs",c,"",k);this.S4("gradientType","radial",["linear","radial"],"Specifies the type of gradient pattern",c,"",k);this.S4("gradientOrientation","vertical",["vertical","horizontal"],"Specifies the orientation of the gradient when the gradient type is linear.",c,"",k);c="Aspect Ratio, Space and Width";this.Wy(c,"Properties used to adjust the aspect ratio, space and width in most visualizations","AllGraphs","Core",true);this.lj("adjustAspectRatio",true,"Flag to resize graph elements in the plots to fit within the specified canvas width and height. If the flag is set to false the width and height of the canvas will be sized according to the number of elements in the data set",c,"",k);this.Xt("adjustAspectRatioMax",3,"Specifies the number of times to try to automatically adjust the size of the canvas when adjustAspectRatio is true",c);this.Xt("adjustAspectRatioYTries",0,"Counter set when trying to automatically adjust the vertical size of the canvas when adjustAspectRatio is true",c);this.Xt("adjustAspectRatioXTries",0,"Counter set when trying to automatically adjust the horizontal size of the canvas when adjustAspectRatio is true",c);this.gl("percentAspectRatioPlotArea",0.35,"Specifies the minimum unit interval or fraction for the plotting area",c,"",k);this.gl("fixedAspectRatio",0,"Keep fixed aspect ratio expressed as y / x. A zero value is used to ignore otherwise the x and y axes are set accordingly. This has a use only in visium plots",c,"",k);this.Xt("variableSpace",2,"Pixels between the data series in one-dimensional plots",c,"",k);this.Xt("widthFactor",1,"Factor to adjust the width of the graph elements in one-dimensional and three-dimensional plots. The greater the number, the wider the elements",c,"",k);this.Xt("dataPointSize",10,"Approximate pixel size for the data points in scatter plots, dotplots and boxplots. The size will be adjusted according to the dimensions of the graph",c,"",k);this.gl("dataPointSizeScaleFactor",1,"Factor used to adjust the size of the dataPointSize",c,"",k);this.Xt("setPlotX",0,"Set the x dimension of the plotting area to the specified number of pixels, provided the value is greater than zero. This is used to align multiple graphs in a web page",c,"",k);this.Xt("setPlotY",0,"Set the y dimension of the plotting area to the specified number of pixels, provided the value is greater than zero. This is used to align multiple graphs in a web page",c,"",k);this.Xt("setPlotLeft",0,"Set the left dimension of the plotting area to the specified number of pixels, provided the value is greater than zero. This is used to align multiple graphs in a web page",c,"",k);this.Xt("setPlotTop",0,"Set the top dimension of the plotting area to the specified number of pixels, provided the value is greater than zero. This is used to align multiple graphs in a web page",c,"",k);c="Margins";this.Wy(c,"Margin properties used in most visualizations","AllGraphs","Core",true);this.Xt("margin",8,"Relative length in pixels for the distance between various objects in the graphs. This value is adjusted acording to the graph dimensions if the adjustAspectRatio parameter is set to true",c,"",k);this.Xt("marginLeft",8,"Specifies the length in pixels for the left margin in the canvas",c,"",k);this.Xt("marginTop",8,"Specifies the length in pixels for the top margin in the canvas",c,"",k);this.Xt("marginBottom",8,"Specifies the length in pixels for the bottom margin in the canvas",c,"",k);this.Xt("marginRight",16,"Specifies the length in pixels for the right margin in the canvas",c,"",k);c="Text";this.Wy(c,"Properties associated with text attributes","AllGraphs","Core",true);this.oi("fonts",[],"Goggle Fonts",c,"",k);this.oi("fontsExternal",[],"External Fonts",c,"",k);this.S4("fontName","Arial",Object.keys(CanvasXpress.fonts),"Font name. Web-Safe HTML fonts",c,"",k);this.g1("fontStyle","",["","bold","italic","bold italic"],"Font style",c,"",k);this.OS("font",b,"font",c,"",k);this.Xt("fontSize",11,"Font size for text in complex plot only. See other categories to modify specific font sizes",c,"",k);this.gl("fontScaleFontFactor",1,"Scaling factor used to increase or decrease the font size in the canvas",c,"",k);this.S4("align","center",["right","center","left"],"Default horizontal alignment for drawing text",c,"",k);this.S4("baseline","middle",["top","middle","bottom"],"Default vertical alignment for drawing text",c,"",k);this.Xt("maxTextSize",40,"Maximum size for any text in the canvas",c,"",k);this.Xt("minTextSize",4,"Minimum size for any text in the canvas",c,"",k);this.lj("autoScaleFont",true,"Flag to adjust the font size in many visualization. Please be aware that scaling factors can still modify the font size. This flag needs to be false for the text to accept the specified font size",c,"",k);this.Xt("scaleTextConstantMult",25,"Constants to autoscale text",c);this.gl("scaleTextConstantAdd",2,"Constants to autoscale text (extra)",c);this.gl("scaleTextConstantFactor",55,"Constants to autoscale text across all fonts. The higherthe value, the smaller the text",c);c="Marginal Text";this.Wy(c,"Properties associated with marginal text","AllGraphs","Core",true);this.YP("topMarginalText",false,"Text to include at the top of the graph in the top margin",c,"",k);this.PF("topMarginalText","",b,13,1,"left","top",0,5,"top marginal text",c,"",k);this.YP("bottomMarginalText",false,"Text to include at the bottom of the graph in the bottom margin",c,"",k);this.PF("bottomMarginalText","",b,13,1,"left","top",0,5,"bottom marginal text",c,"",k);this.YP("leftMarginalText",false,"Text to include at the left of the graph in the left margin",c,"",k);this.PF("leftMarginalText","",b,13,1,"left","center",0,5,"left marginal text",c,"",k);this.YP("rightMarginalText",false,"Text to include at the right of the graph in the right margin",c,"",k);this.PF("rightMarginalText","",b,13,1,"left","center",0,5,"right marginal text",c,"",k);c="Text Placement";this.Wy(c,"Properties associated with text placements attributes","AllGraphs","Core",true);this.lj("optimizeTextPosition",false,"Flag to optimize position for text in many plots",c,"",k);this.S4("optimizeTextPositionStrategy","greedy",["annealing","greedy","boundingBox"],"Startegy to optimize placement of text",c,"",k);this.lj("optimizeTextPositionEnforceBounds",true,"Flag to enforce bounds when optimizing position for text in many plots",c,"",k);this.lj("optimizeTextPositionRemoveOverlaps",true,"Flag to remove overlaps when optimizing position for text in many plots",c,"",k);this.Xt("optimizeTextPositionTemperature",1000,"Temperature parameter when optimizing position for text in many plots",c,"",k);this.Xt("optimizeTextPositionCooling",1,"Cooling parameter when optimizing position for text in many plots",c,"",k);c="Titles and Subtitles";this.Wy(c,"Properties associated with titles and subtitles","AllGraphs","Core",true);this.YP("title",false,"Title of the graph",c,"",k);this.YP("subtitle",false,"Subtitle of the graph",c,"",k);this.PF("title","bold",b,13,1,"center","middle",0,5,"title",c,"",k);this.PF("subtitle","",b,12,1,"center","middle",0,5,"subtitle",c,"",k);c="Citations or References";this.Wy(c,"Properties associated with citations or references of the plot","AllGraphs","Core",true);this.YP("citation",false,"A reference citation of the graph which is placed at the bottom right corner",c,"",k);this.PF("citation","",b,8,1,"right","middle",0,5,"citations",c,"",k);c="Lines";this.Wy(c,"Properties to adjust Lines","AllGraphs","Core",true);this.Xt("dashLength",8,"Size in pixels of the length of the dashes and the separation between the dashes in the dashed lines",c,"",k);this.Xt("dotLength",1,"Size in pixels of the length between dots in the doted lines",c,"",k);this.gl("arrowQuadraticFactor",2.3,"Factor to use to bend the quadratic lines",c,"",k);this.S4("arrowHeadType","filledArc",["wire","filledStraight","filledArc","filledQuadratic","filledBezier"],"Type for the head of the arrows",c,"",k);this.lj("arrowHeadTypeOpen",false,"Flag to use white fill for the arrow head",c,"",k);this.Xt("arrowHeadSize",10,"Size in pixels of the arrow head in arrow lines",c,"",k);this.gl("arrowHeadAngle",22.5,"The angle for the head of the arrow",c,"",k);this.S4("capType","butt",["butt","round","square"],"Default type of cap for lines",c,"",k);this.S4("joinType","mitter",["mitter","bevel","round"],"Default type for joining lines",c,"",k);this.Xt("lineWidthEvent",0.5,"Size in pixels of the width for the events in the lines",c);this.gl("outlineWidth",1,"Default width in pixels for lines in networks and other line elements in all visualizations except for the lines in the line plots",c,"",k);this.gl("lineThickness",1,"Default thickness in pixels for the lines in line plots",c,"",k);this.lj("adjustBezier",false,"Flag to select the bezier line type. the bezier can start from the top or bottom (vertical), or from the side (horizontal). This will be based on the location of the two points joined by the line",c,"",k);this.oi("lines",["line","solid","straight","bezier","curved","curvedCC","dashedLine","dashedBezier","dashedCurved","dashedCurvedCC","dottedLine","dottedBezier","dottedCurved","dottedCurvedCC"],"Line types in network graphs for the edges (or connections) between network nodes.<br> There are three styles: solid, dashed and dotted and four sub types: straight, bezier, curved (clockwise) and curvedCC (counter clockwise). The line types can be any combination of a style followed by a subtype. By default the type is always a solid straight line so there is no need to specify solid or stright as a style if there is a subtype.<br> Lines can also have elbows which are specified as a 2D-array. In the case a straight solid line each elements in the array will have an x,y coordinate and each segment will be perpendicular to the previous one. For example in this edge object:<br> <i>{ ..., type : line, elbows : [ [20, 40], [60, 80] ], ... }</i><br> A special subtype of line called segmented can also have elbows which are not perpendicalar to each other. For example in this edge object:<br> <i>{ ..., type : segmented, elbows : [ [20, 40], [60, 80] ], ... }</i><br> In the case of a bezier curved each element of the array will have an x,y coordinate for the control point 1, an x,y coordinate for the control point 2 and an x,y coordinate for the end of the line.<br> <i>{ ..., type : bezier, elbows : [ [20, 40, 40, 20, 40, 40], ... ], ... }</i><br> If the property elbow is specified the line will be drawn using the first and last elements of the array rather than the coordinates of the two nodes. A property startX and startY can be used to better adjust the position of the starting line. Similarly, a property endX and endY can be used to better adjust the position of the end line. These properties have a maginitud between -1 to 1 which will be used based on the width and height of the source and target node. For example in the following edge object the line will start in the middle bottom of the source node and will end at the upper left of the target node.<br>  <i>{ ..., type : line, startX : 0, startY : 1, endX : -1, endY : -0.5, ... }</i>",c);this.oi("arrows",["arrow","square","round"],"Arrows for the edges (or connections) in network graphs.<br> There are three arrow types: arrow, square and round. They can be at the start or at the end of the line. To specify an arrow at the start of the line include a startArrow property in the edge; to specify an arrow at the end of the line include a endArrow property in the edge. For example in this edge object:<br> <i>{ ..., type : line, startArrow : square, endArrow : arrow, ... }</i>",c);c="Colors";this.Wy(c,"Properties to adjust Colors","AllGraphs","Core",true);this.S4("colorScheme","User",Object.keys(CanvasXpress.colorSchemes).sort(),"Color schemes can be user defined which will take the colors in the color property or one provided in canvasXpress. The order of the colors will be used to sequentially select when a different color is needed in a particular visualization",c,"",k);this.oi("colors",["#0ab0db","#fe6969","#fed385","#47db0a","#9e0adb","#ff7d00","#ffa2c0","#a0d7e7","#63b5e5","#f9a7a7","#fef0c7","#83e16f","#c763e5","#ffb347","#ffc1d3","#bfe2ed"],c,c,"",k);this.oi("colorHSV",[0,0,1],"Color HSV. Hue, Saturation and Value used when configuring colors",c);this.oi("colorRGB",[1,1,1],"Color RGB. Red, Green, Blue used when configuring colors",c);this.oi("colorSpectrum",["#4575b4","#91bfdb","#e0f3f8","#ffffbf","#fee090","#fc8d59","#d73027"],"An array with valid color names to create a color brew for the default color indicators",c,"",k);this.lj("colorSpectrumBinned",false,"Flag to bin the color spectrum based on the colorSpectrumBreaks or the colorSpectrum colors",c,"",k);this.oi("colorSpectrumBreaks",[],"An array with numbers in ascending order for the color spectrum to create discontinuous spectra. It must have the same length of the colorSpectrum array for example [0, 0.3, 1]",c,"",k);this.gl("colorSpectrumZeroValue",null,"A value to be at the center of the color spectrum to produce symmetrical heatmaps",c,"",k);this.Xt("colorSpectrumNumber",100,"Number of colors to use in the color spectrum",c);this.Xt("colorSpectrumTarget",10,"Approximate number of colors to use to build the color spectrum",c);this.OS("odd",w,"odd numbers in samples when the property block contrast is set in one dimensional plots or the color for odd number residues in translations in genome plots",c,"",k);this.OS("even","rgb(245,245,245)","even numbers in samples when the property block contrast is set in one dimensional plots or the color for odd number residues in translations in genome plots",c,"",k);this.S4("blindnessType",false,[false,"protanopia","deuteranopia","tritanopia","monochromatic"],"Color Blindness",c,"",k);this.Dm("colorSpectrumByFactor",{},"Color spectrum by factor in heatmaps. The first key represents the name of the factor within the x/z data object. The subsequent keys correspond to each level of that factor. Finally, the next keys include show, order, spectrum, setMin, setMax, zero, and breaks, each paired with their respective values",c,"",k);this.Dm("colorSpectrumByObject",{},"Color spectrum by object in heatmaps. The first key represents the name of the data object. The subsequent keys include show, order, spectrum, setMin, setMax, zero, and breaks, each paired with their respective values",c,"",k);c="Shapes";this.Wy(c,"Properties to adjust Shapes","AllGraphs","Core",true);this.Xt("roundedPolygonRadius",5,"Radius for rounded polygons",c,"",k);this.lj("useRoundRectangles",false,"Flag to use round rectangles in bar graphs, stacked graphs and boxplots",c,"",k);this.S4("plotStyle","default",["default","ggplot","ggplotSwitched","open","border"],"Style for some shapes used mainly in boxplot, violin and density plots",c,"",k);c="Sizes";this.Wy(c,"Properties to adjust Sizes","AllGraphs","Core",true);this.oi("sizes",[8,12,16,20,24,28,32,36,40,44,48],"Array with sizes used invisualizations. The order will dictate the utilization in the visualization",c,"",k);this.Xt("initialSize",null,"Initial size in pixels for the objects in the visualizations",c,"",k);this.Xt("sizeStep",4,"Size step in pixels for the objects in the visualizations",c,"",k);c="General Attributes";this.Wy(c,"Properties related to Shapes, Images and Patterns","AllGraphs","Core",true);this.oi("shapes",["sphere","square","triangle","star","rhombus","octagon","oval","plus","minus","pacman","pacman2","mdavid","rect2","pentagon","rect3","arc","rectangle","image"],"Array with shapes used in visualizations. The order will dictate the utilization in the visualization",c,"",k);this.oi("images",[],"Array of urls of images used in scatter plots. Additional shapes will be used if the array does not contain as many images as needed",c,"",k);this.oi("patterns",["solid","hatchForward","hatchReverse","stripeHorizontal","stripeVertical","polkaDot","crossHatch","crossStripe","squares","circles","plus","minus","bars","squiglesVertical","squiglesHorizontal","brickForward","brickReverse","art","pcx","hatchForward3","hatchReverse3"],"Patterns used in visualizations to fill objects. This array must contain one or more pattern names and in concert with the color array can be used to specify the pattern colors for all filled objects in the visualizations.. The order will dictate the utilization in the visualization",c,"",k);this.oi("linePatterns",["solid","dotted","dashed","dotdash","longdash","twodash"],"Line Patterns used in line visualizations",c,"",k);this.OS("patternStroke","rgb(0,0,0)","Color for the stroke of the patterns used in visualizations",c,"",k);this.OS("patternFill","rgba(0,0,0,0)","Color for the fill of the patterns used in visualizations",c,"",k);this.Xt("patternStrokeWidth",1,"Width in pixels for the stroke of the patterns used in visualizations",c,"",k);c="Samples";this.Wy(c,"Properties associated with samples","OneTwoThreeeDGraphs","Columns And Rows",true);this.Xt("maxSmpStringLen",25,"Maximum length in characters a sample label or description can have so anything above is truncated",c,"",k);this.YP("smpTitle",false,"Title for the sample axis in one dimensional plots",c,"Set the sample title to {_value_}",k);this.Xt("smpLabelInterval",1,"Interval for the sample labels in one dimensional and circular plots",c,"",k);this.lj("smpLabelImage",false,"Flag to use images as sample labels when possible",c,"",k);this.lj("smpLabelImageRound",false,"Flag to use round images as sample labels",c,"",k);this.lj("smpLabelAutoAlignPosition",true,"Flag to use best position for sample labels depending on the location of them. It will align them right when placed in the left of the graphs and viceversa",c,"",k);this.TO("SampleNames",true,"sample names",c,"",k);this.oi("highlightSmp",[],"Name of samples to highlight",c,"",k);this.OS("smpHighlight","#fe6969","higlighted samples",c,"",k);this.PF("smpTitle","",b,11,1,"center","middle",0,5,"sample title",c,"",k);this.PF("smpText","","rgb(77,77,77)",11,1,"right","middle",0,5,"sample labels",c,"",k);c="Variables";this.Wy(c,"Properties associated with variables","OneTwoThreeeDGraphs","Columns And Rows",true);this.Xt("maxVarStringLen",25,"Maximum length in characters a variable label or description can have so anything above is truncated",c,"",k);this.YP("varTitle",false,"Title for the variables in hetamap plots",c,"Set the variable title to {_value_}",k);this.Xt("varLabelInterval",1,"Interval for the variable labels in heatmaps",c,"",k);this.TO("VariableNames",true,"variable names",c,"",k);this.oi("highlightVar",[],"Name of variables to highlight",c,"",k);this.OS("varHighlight","#fe6969","higlighted variables",c,"",k);this.PF("varTitle","",b,11,1,"center","middle",0,5,"variable title",c,"",k);this.PF("varText","","rgb(77,77,77)",11,1,"center","middle",0,5,"variable text",c,"",k);c="Bins";this.Wy(c,"Function to bin samples and variables","OverlayGraphs","",false);this.Dm("binConfigurations",{},"Properties for the binning functions",c,"",k);c="Overlays";this.Wy(c,"Colored boxes to help in the visualization of samples and variables","OverlayGraphs","One Dimensional Graphs",true);this.Xt("maxOverlayStringLen",30,"Maximum length in characters for the sample or variable metadata when included as an overlay. Anything above is truncated",c,"",k);this.Xt("overlaysThickness",28,"Relative length in pixels for the thickness of the colored boxes to classify samples and or variables in one dimensional plots. This value is adjusted acording to the graph dimensions if the adjustAspectRatio parameter is set to true",c,"",k);this.oi("smpOverlays",[],"Sample metadata to overlay in one dimensional plots",c,"",k);this.Dm("smpOverlayProperties",{},"Object to assign properties of the sample overlays. The key should be a valid sample annotation (metadata) and the value and object with properties like: type, color, spectrum, scheme, showLegend, showName, showBox, rotate, position, thicknes",c,"",k);this.Xt("smpOverlaysLegendColumns",1,"Number of columns for the sample overlay legends",c,"",k);this.TO("SmpOverlaysLegend",false,"sample overlay legends",c,"",k);this.oi("varOverlays",[],"Variable metadata to overlay in heatmap plots",c,"",k);this.Dm("varOverlayProperties",{},"Object to assign properties of the variable overlays. The key should be a valid variable annotation (metadata) and the value and object with properties like: type, color, spectrum, scheme, showLegend, showName, showBox, rotate, position, thicknes",c,"",k);this.Xt("varOverlaysLegendColumns",1,"Number of columns for the variable overlay legends",c,"",k);this.TO("VarOverlaysLegend",false,"sample overlay legends",c,"",k);this.n8("overlaysLegend","topRight",["topRight","right","bottomLeft","bottom"],"the variable and sample overlays legend",c,"",k);this.TO(c,true,"overlays in one dimensional plots",c,"",k);this.TO("NameOverlays",true,"the overlays name",c,"",k);this.TO("ValueOverlays",true,"overlay values in one dimensional plots",c,"",k);this.PF("overlayText","",b,11,1,"center","middle",0,5,"overlays",c,"",k);this.No("panelOverlayBackground",w,"rgba(204,204,204,1)",1,"solid","panel background",c,"",k);c="Legends";this.Wy(c,"Legends for variables and samples","OverlayGraphs","Legends",true);this.lj("legendInside",false,"Flag to position the legend inside the graphs",c,"",k);this.Xt("legendColumns",1,"Number of columns in legends",c,"Divide the legend in {_value_} columns",k);this.Xt("legendRows",1,"Number of rows in legends",c,"Divide the legend in {_value_} rows",k);this.Xt("legendMax",50,"Maximum number of items in the variable legends. If there are more items the legend will be hidden",c,"Set the maximum number of items in the legend to {_value_} ",k);this.lj("legendStyleGgplot",false,"Flag to use ggplot style for the size legends",c,"",k);this.Dm("legendOrder",false,"Object to specify custom order for the levels in the legends. The key of the object is the name of a valid sample or variable annotation included in the data object. The value for element is an array with the levels for the corresponding factor",c,"",k);this.lj("legendOrderByCols",true,"Flag to draw legends by columns in the graphs",c,"",k);this.oi("customLegend",[],"Custom legends : Array of objects [{ size : [], shape : [], shapeColor : [], line : [], lineColor : [], lineStart : [], lineEnd : [], text : [], x : number, y : number, title : string }]",c,"",k);this.TO("Legend",true,"legend",c,"",k);this.TO("VariableLegend",true,"legend variable",c,"",k);this.TO("SampleLegend",true,"legend sample. Not implemented!!!!!",c,"",k);this.TO("ColorLegend",true,"legend color",c,"",k);this.TO("ShapeLegend",true,"legend shape",c,"",k);this.TO("SizeLegend",true,"legend size",c,"",k);this.TO("OutlineLegend",true,"legend outline",c,"",k);this.TO("PatternLegend",true,"legend pattern",c,"",k);this.TO("ConnectLegend",true,"legend connect",c,"",k);this.TO("LineLegend",true,"legend line",c,"",k);this.TO("ColorLabelLegend",true,"legend label color",c,"",k);this.TO("SizeLabelLegend",true,"legend label size",c,"",k);this.TO("ColorNodeLegend",true,"legend node color",c,"",k);this.TO("ShapeNodeLegend",true,"legend node shape",c,"",k);this.TO("SizeNodeLegend",true,"legend node size",c,"",k);this.TO("PatternNodeLegend",true,"legend node pattern",c,"",k);this.TO("ColorEdgeLegend",true,"legend edge color",c,"",k);this.TO("SizeEdgeLegend",true,"legend edge size",c,"",k);this.TO("LegendTitle",true,"the legend title",c,"",k);this.TO("LegendBorder",true,"the legend border",c,"",k);this.n8("legend","right",["topRight","right","bottomRight","bottom","bottomLeft","left","topLeft","top"],"the legend",c,"",k);this.gl("legendHorizontalJustification",0.5,"Horizontal justification for legends when legend are in top or bottom positions",c,"",k);this.gl("legendVerticalJustification",0.5,"Vertical justification for legends when legend are in left or right positions",c,"",k);this.Ei("legend","vertical","legend",c,"",k);this.No("legendBackground",m,m,0.5,"solid","legend background",c,"",k);this.No("legendKeyBackground",m,m,1,"solid","legend key background",c,"",k);this.Xt("legendKeySize",15,"Width in pixels for the legend key",c,"",k);this.Xt("legendKeyMargin",5,"Width in pixels for the legend key margin",c,"",k);this.PF("legendText","",b,11,1,"left","middle",0,8,"legends",c,"",k);this.PF("legendTitle","",b,11,1,"left","middle",0,8,"legends",c,"",k);c="Decorations";this.Wy(c,"Additional elements added to graphs to increase data understanding","DecorationGraphs","Core",true);this.ms("decorations",false,'Enables visual annotations on your graph, with its structure depending on the graphType. For network graphs, it is an array of node property names; for one-dimensional graphs, it is an object with primary keys like line, range, point, text, marker, or error; and for scatter plots, it is an object with primary keys such as linear, exponential, logarithmic, power, polynomial, nonlinearfit, regression, normal, line, text, label, point, range, image, or polygon. In the latter two cases, the value for each primary key is an array of objects, where each object specifies the properties of a decoration, for example, for a one-dimensional line: {line: [{value: 5, color: "#ff0000", width: 2, label: "Threshold", align: "right"}]}, or for a scatter plot linear fit: {linear: [{x: 1, y: 2, x2: 3, y2: 4, color: "#ff0000", width: 2, label: "Threshold", align: "right"}]}',c,"",k);this.Xt("decorationsWidth",20,"Length in pixels of the width for the decorations. Only applicable to Network graphs.",c,"",k);this.Xt("decorationsHeight",40,"Length in pixels of the height for the decorations. Only applicable to Network graphs.",c,"",k);this.S4("decorationsType","bar",["pie","bar","heatmap","stacked","stackedpercent"],"Type for the decorations and only applicable to Network graphs. The types stacked and stackedpercent must be two dimensional. Heatmap could be one or two dimensional",c,"",k);this.oi("decorationsColors",[],"Array of colors used for the decorations. Only applicable to Network graphs",c,"",k);this.Dm("decorationsProperties",{},"Object to assign properties like color, position, etc. Only applicable to Network graphs",c,"",k);this.lj("decorationsClipped",true,"Flag to clip decorations to the x,y area of the plot.",c,"",k);this.gl("decorationsTransparency",0.2,"Transparency for range decorations type only. Also, it is not applicable to Network graphs",c,"",k);this.TO(c,true,"decorations",c,"",k);this.TO("DecorationsLegend",true,"decoration legends",c,"",k);this.TO("DecorationsBorder",false,"the decoration legends border",c,"",k);this.n8("decorations","bottom",["topRight","right","bottomRight","bottom","bottomLeft","left","topLeft","top"],"the decorations",c,"",k);this.No("decorationsBackground",m,"rgb(204,204,204)",0.5,"solid","decoration legends background",c,"",k);this.PF("decorationsText","",b,11,1,"center","middle",0,5,"decoration legends",c,"",k);this.lj("decorationsOnTop",true,"Flag to draw decorations after drawing the data. Not applicable to Network graphs",c,"",k);this.lj("decorationsTransform",true,"Flag to transform the data in decorations produced in Cxplot. Not applicable to Network graphs",c,"",k);c="Data";this.Wy(c,"Data related parameters","OneTwoThreeeDGraphs","Core",true);this.lj("isGroupedData",false,"Flag to indicate if the data is grouped",c);this.lj("isBoxplotCalc",false,"Flag to indicate if the iqr has been calculated when the graph type is Boxplot",c);this.oi("groupingFactors",[],"An array that holds the group names used for grouping the data. It must be a category in the data.x object",c,"Group data by {_value_}",k);this.S4("summaryType",false,[false,"iqr","median","mean","cor","min","max","count","sum"],"Summary type for the data when grouping",c,"",k);this.lj("transposeData",false,"Flag to transpose data as a parameter. This parameter accomplishes the same as the function transpose at load time",c,"",k);this.oi("appendNetworkData",[],"Array containing additional data files to append to networks. Useful for loading KEGG and Wikipatways to decorate the nodes and the edges",c,"",k);this.PF("dataText","",false,11,1,"center","middle",0,5,"data labels",c,"",k);c="Data Context";this.Wy(c,"Data context related parameters","OneTwoThreeeDGraphs","Core",true);this.oi("asSampleFactors",[],"Array containing variable names. Numeric variable data (in rows) to be treated as a sample factor (move from y to x object). This parameter accomplishes the same as the function switchVarToAnnotation at load time. It can be used in conjunction with the parameter stringSampleFactors to be treated as a string. TO DO: write example",c,"",k);this.oi("asVariableFactors",[],"Array containing sample names. Numeric sample data (in columns) to be treated as a variable factor (move from y to z object). This parameter accomplishes the same as the function switchSmpToAnnotation at load time. It can be used in conjunction with the parameter stringVariableFactors to be treated as a string. TO DO: write example",c,"",k);this.oi("stringSampleFactors",[],"Array containing sample factors. The numeric sample factors will be treated as strings. This parameter accomplishes the same as the function switchNumericToString for samples at load time. It can be used in conjunction with the parameter asSampleFactors. TO DO: write example",c,"",k);this.oi("stringVariableFactors",[],"Array containing variable factors. The numeric variable factors will be treated as strings. This parameter accomplishes the same as the function switchNumericToString for variables at load time. It can be used in conjunction with the parameter asVariableFactors. TO DO: write example",c,"",k);this.oi("stringNodeAttributes",[],"Array containing node attributes. The numeric node attributes will be treated as strings. This parameter accomplishes the same as the function switchNumericToString for nodes at load time",c,"",k);this.oi("stringEdgeAttributes",[],"Array containing edge attributes. The numeric edge attributes will be treated as strings. This parameter accomplishes the same as the function switchNumericToString for edges at load time",c,"",k);c="Data Transformation";this.Wy(c,"Data transformation related parameters","OneTwoThreeeDGraphs","Core",true);this.lj("isTransformedData",false,"Flag to indicate the data is transformed",c);this.Xt("transformBase",10,"Default log or exponential transformation for the data",c);this.S4("transformData",false,[false,"log2","log10","-log2","-log10","exp2","exp10","sqrt","percentile","zscore","ratio2","ratio10","save","reset","undo"],"Default transformation type for ALL the data. Data can also be transformed by axis (x,y,z) to give more flexibility. false, save, reset and undo are NOT real transformations. They are only used in the canvasXpress UIs to save the transformed data",c,"",k);this.S4("transformAxis","samples",["samples","variables"],"Default axis to use to transform the data when either z-score or ratio transformation is used",c,"",k);c="Data Ratio Reference";this.Wy(c,"Data ratio related parameters","OneTwoThreeeDGraphs","",false);this.Xt("ratioReference",0,"Default index of sample used in ratio transformation. Almost private parameters used within the different CanvasXpress UIs",c,"",k);this.S4("ratioSampleReference",false,[false],"Name of the sample used in ratio transformation. Almost private parameters used within the different CanvasXpress UIs",c,"",k);this.S4("ratioGroupReference",false,[false],"Name of the group used in ratio transformation. Almost private parameters used within the different CanvasXpress UIs",c,"",k);this.S4("ratioLevelReference","",[],"Name of the level used in ratio transformation. Almost private parameters used within the different CanvasXpress UIs",c,"",k);c="Data Faceting";this.Wy(c,"Data faceting related parameters","AllGraphs","Faceting",true);this.oi("segregateSamplesBy",[],"An array that holds the annotation(s) used to segregate the samples ala Facet way in R. It must be categories in the data.x object",c,"Segregate samples by {_value_}",k);this.oi("segregateVariablesBy",[],"An array that holds the annotation(s) used to segregate the variables ala Facet way in R. It must be categories in the data.z object",c,"Segregate variables by {_value_}",k);this.YP("splitSamplesBy",false,"Factor (in the x data object) used to split the samples ala split in complex heatmap",c,"Split samples by {_value_}",k);this.YP("splitVariablesBy",false,"Factor (in the z data object) used to separate the variables ala split in complex heatmap",c,"Split variables by {_value_}",k);this.Xt("splitSeparation",10,"Length in pixels to separate the splits in samples and variables",c,"",k);c="Data Time Series";this.Wy(c,"Time series related parameters","OneTwoThreeeDGraphs","Multi Dimensional Graphs",true);this.S4("timeFormat","isoDate",["default","shortDate","mediumDate","longDate","fullDate","shortTime","mediumTime","longTime","isoDate","isoTime","isoDateTime","isoUtcDateTime","year","month","day","hour","minute","second"],"Time Format according to date.format.js Steven Levithan <stevenlevithan.com>",c,"",k);this.lj("isGraphTime",false,"Flag to indicate if the data is a time series so there is no need to plot every time interval. It is boolean in one dimensional plots or a string indicating the axis which is timed x, y or z",c,"",k);this.oi("timeValues",[],"Array containing the tick values when the the graph is a time series","Time Series");this.oi("timeValueIndices",[],"Array containing the indices of the values when the the graph is a time series","Time Series");this.Dm("timeValueProperties",{},"Object with all the time properties needed to plot the data","Time Series");c="Data Sorting";this.Wy(c,"Data sorting related parameters","OneTwoThreeeDGraphs","Sort",true);this.S4("sortDir","ascending",["ascending","descending"],"Default direction for data sorting. Almost private parameters used within the different CanvasXpress UIs",c,"",k);this.lj("sortCaseSensitive",false,"Flag to use case sensitive in ascii sorting. Almost private parameters used within the different CanvasXpress UIs",c,"",k);this.oi("sortData",[],"Array of arrays with sorting functions. Each function takes three parameters. The first parameter must be either smp to identify the parameters are related to the samples, var to identify the parameters are related to the variables, or cat to identify a sample or variable category. The second parameter can be either smp to indicate to sort the sample indices or var to indicate to sort the variable indices. The third parameter is the value for the key referenced by the first parameter. A special case for this parameter could be samples or variables to indicate to sort by the names of the samples or variables respectively. Here are some examples to sort the samples in the data: [ [cat, smp, Factor1] ]   : Sort the samples by the sample category Factor1 [ [var, smp, Variable1] ] : Sort the samples by the value of the Variable1 [ [cat, smp, samples] ]   : Sort the samples by their name.  Important!!!! This parameter will clean the data and remove any variables not used in the dataset at load time",c,"",k);this.S4("sortOnGrouping",false,[false,"ascending","descending"],"Sort the name of the groups after sample grouping.<br>",c,"",k);this.lj("sortIncludeEmpty",true,"Flag to include empty groups when sorting",c,"",k);c="Missing Data";this.Wy(c,"Missing data related parameters","OneTwoThreeeDGraphs","Core",true);this.OS("missingData","rgb(245,245,245)","missing data",c,"",k);this.YP("missingDataValue","NA","String value use to specify missing data",c,"",k);this.lj("nanOmit",false,"Flag to omit NaN values in log transformation",c,"",k);c="Error Bars";this.Wy(c,"Error bar and confidence intervals related parameters","OneTwoThreeeDGraphs","Core",true);this.TO("ErrorBars",true,"error bars in graphs",c,"",k);this.S4("errorBarsType","confidenceInterval95",["standardDeviation","standardErrorMean","confidenceInterval95"],"Type of error bars",c,"",k);this.OS("errorBars",b,"error bars in dotplots and barplots",c,"",k);this.gl("errorBarsThickness",3,"Thickness for the error bars in dotplots",c,"",k);this.Xt("errorBarsWidth",2,"Minimum size of the bar in pixels to determine to show or hide error bar ends in the graphs when available",c,"",k);this.S4("standardDeviationType","unbiased",["biased","unbiased"],"Type of Standard Deviation. biased uses n as denominator and unbiased uses (n - 1) as denominator where n is the number of values",c,"",k);c="Random";this.Wy(c,"Properties used to generate random data sets","AllGraphs","",false);this.Xt("randomSeed",8,"Specifies the random seed number to create pseudo random numbers",c,"",k);this.lj("pseudoRandom",true,"Flag to indicate to use pseudo random rather than random",c,"",k);this.S4("randomMethod","numericalRecipes",["jenkins","numericalRecipes"],"Random method",c,"",k);c="Ranges";this.Wy(c,"General parameters use in graphs that utilize ranges","RangeGraphs","Range Graphs",true);this.oi("rangeColors",[],"Colors for the background ranges in bullet and meter graphs",c,"",k);this.gl("rangeColorTransparency",0.6,"Transparency to apply to the range colors in bullet graphs",c,"",k);this.ZO("rangeStack",false,"labels for the background ranges in bullet graphs",c,"",k);this.oi("rangeStack",[],"Variable names to define the background ranges in bullet graphs. If left empty, the entire graph area will be used",c,"",k);this.oi("rangeSegments",[],"Top value for a particular range segments",c,"",k);c="X-Axis";this.Wy(c,"X axis parameters","OneTwoThreeeDGraphs","Axes",true);this.yr("x","X axis",c,"",k);c="Y-Axis";this.Wy(c,"Y axes parameters","TwoThreeeDGraphs","Axes",true);this.yr("y","Y axis",c,"",k);c="Z-Axis";this.Wy(c,"Z axes parameters","ThreeDGraphs","Axes",true);this.yr("z","Z axis",c,"",k);c="R-Axis";this.Wy(c,"R axis parameters","Circular","Circular Graphs",true);this.lj("rAxisPercentShow",false,"Flag to show on not the percent in each segment in the R axis",c,"",k);this.S4("rAxisLabelOrientation","perpendicular",["perpendicular","circular"],"Orientation to show the ticks values in circular plots",c,"",k);this.yr("r","R axis",c,"",k);c="Axis";this.Wy(c,"General axis parameters","OneTwoThreeeDGraphs","Axes",true);this.gl("axisExtension",0.1,"Percentage to extend the values of the data to ensure all the data points are plotted inside and not over the edges of the graph",c,"",k);this.S4("axisAlgorithm","rPretty",["heckbert","wilkinson","wilkinsonExtended","rPretty"],"Algorithm used to position tick labels on axes. See An Extension of Wilkinson Algorithm for Positioning Tick Labels on Axes. Justin Talbot, Sharon Lin, Pat Hanrahan",c,"",k);this.lj("axisWilkinsonLoose",false,"Flag to indicate whether to use loose positioning when using the wilkinson algorithm to position the labels on the axis. There will not be a difference most of the times",c,"",k);this.lj("axisCoordinate",false,"Flag to coordinate xAxis and xAxis2 in *-Line combination plots",c,"",k);this.gl("setMax",null,"Maximum value to set the data",c);this.gl("setMin",null,"Minimum value to set the data",c);c="Plot Area";this.Wy(c,"General parameters for the plotting area in one dimensional plots","OneDGraphs","One Dimensional Graphs",true);this.FX("guides","rgb(204,204,204)",1,1,5,"solid",false,"the variables and / or samples in one dimensional graphs and multidimensional heatmaps just for aesthetics",c,"",k);this.S4("guideStyle","line",["line","track"],"Style for the guides",c,"",k);this.lj("blockContrast",false,"Flag to creates a shade between the samples so there are two backgrounds, one for the odd samples and one for the even samples",c,"",k);this.lj("plotByVariable",false,"Flag to indicate whether to group the data variable rather than by sample",c,"",k);this.lj("is3DPlot",false,"Flag to create or not a 3D plot",c,"",k);this.TO("DataValues",false,"data values in the bar graphs, stacked graphs, dotplots and line graphs",c,"",k);this.S4("dataValuesFrequency","ends",["all","first","last","ends"],"Frequency for the data values in line graphs",c,"",k);this.S4("dataValuesPosition","outside",["inside","outside"],"Position for the data values in line graphs",c,"",k);this.lj("binned",false,"Flag to bin the data points in dotplots and boxplots",c,"",k);this.S4("binAlignment","center",["left","center","right"],"Alignment for the data points when binned",c,"",k);this.lj("jitter",false,"Flag to jitter the data points in dotplots, boxplots and scatter2D plots",c,"",k);this.gl("jitterFactor",0.8,"Factor for jittering. The larger the more jitter",c,"",k);this.lj("sina",false,"Flag to jitter the data points in dotplots, boxplots and scatter2D plots with sina style",c,"",k);this.OS("objectBorder",n,"border of all objects in one dimensional graphs. It turns into the non-transparent fill color if set to false",c,"",k);this.gl("objectColorTransparency",1,"The transparency for the color fill of all objects in one dimensional graphs. A value between 0 and 1",c,"",k);this.Xt("dotplotOutlineThreshold",5000,"Maximum number of data points before skipping plotting their outline but only the fill color",c,"",k);this.lj("linesOnGroups",true,"Flag to create lines on groups when multiple grouping factors are used",c,"",k);c="Hierarchy";this.Wy(c,"General parameters to build hierarchy for circular (sunburst) trees and bubbles graphs","HierarchicalGraphs","Hierarchical Graphs",true);this.oi("hierarchy",[],"Hierarchy for trees and bubble graphs made up of sample annotations present the data x object",c,"",k);c="Data Point Attributes";this.Wy(c,"General attributes for data points in scatter and one dimensional plots","OneTwoThreeeDGraphs","Core",true);this.S4("colorBy",false,[false,"variable"],"Name of a variable annotation or a sample name or the string variable to color the variables",c,"",k,"getXZData");this.Dm("colorKey",false,"Object to assign custom colors to sample annotations and variable annotations included in the data object. The key of the object is the name of an annotation in the data.x object, or the name of an annotation in the data.z object. The value for each key could be either: (1) a scalar with a valid color scheme (see this.meta.def.colorSchemes), or (2) an array with valid colors, or (3) an object to specify custom colors for each of the values of the annotation. A default color will be assigned to a data point whose value was not included the object. CanvasXpress will handle string and numeric annotation approprietly. However, if an object is specified like that one in number (3) the annotation will be treated as categorical even if the annotation is numeric",c,"",k);this.YP("colorByData",false,"String that identify the object containing a two dimensional array with discrete values used to color data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data2)",c,"",k);this.YP("colorLegendTitle",false,"Title for the color legend",c,"",k);this.S4("shapeBy",false,[false,"variable"],"Name of a variable annotation or a sample name or the string variable to shape the variables. When shapeByData is specified shapeBy is used for the title in the legend",c,"",k,"getXZData");this.lj("shapeByContinuous",false,"Flag to use pie shapes with continuous data as opposed to by binning the data and show regular shapes",c,"",k);this.Dm("shapeKey",false,"Object to assign custom shapes to sample annotations and variable annotations included in the data object. The key of the object is the name of an annotation in the data.x object or the name of an annotation in the data.z object. A default shape will be assigned to a data point whose value was not included the object",c,"",k);this.YP("shapeByData",false,"String that identify the object containing a two dimensional array with values used to shape data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data2)",c,"",k);this.S4("shapeByShape",false,[false,"sphere","square","triangle","star","rhombus","octagon","oval","plus","minus","mdavid"],"String that identify the shape to use in regular and multidimensional heatmaps. shapeByData will take precedence over this property",c,"",k);this.YP("shapeLegendTitle",false,"Title for the shape legend",c,"",k);this.S4("sizeBy",false,[false,"variable"],"Name of a variable annotation or a sample name or the string variable to size the variables. When sizeByData is specified sizeBy is used for the title in the legend",c,"",k,"getXZData");this.lj("sizeByContinuous",false,"Flag to show the size data continuously as opposed to by binning the sizes",c,"",k);this.Dm("sizeKey",false,"Object to assign custom sizes to sample annotations and variable annotations included in the data object. The key of the object is the name of an annotation in the data.x object or the name of an annotation in the data.z object. A default size will be assigned to a data point whose value was not included the object",c,"",k);this.YP("sizeByData",false,"String that identify the object containing a two dimensional array with values used to size data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data3)",c,"",k);this.YP("sizeLegendTitle",false,"Title for the size legend",c,"",k);this.YP("outlineBy",false,"Name of the annotation for the outline when drawing a multidimensional Heatmap",c,"",k,"getXZData");this.YP("outlineByData",false,"String that identify the object containing a two dimensional array with values used to color the outline data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data4)",c,"",k);this.S4("patternBy",false,[false,"variable"],"Name of a variable annotation or a sample name or the string variable to pattern the variables. When patternByData is specified patternBy is used for the title in the legend",c,"",k,"getXZData");this.Dm("patternKey",false,"Object to assign custom patterns to sample annotations and variable annotations included in the data object. The key of the object is the name of an annotation in the data.x object or the name of an annotation in the data.z object. A default pattern will be assigned to a data point whose value was not included the object",c,"",k);this.YP("patternByData",false,"String that identify the object containing a two dimensional array with values used to pattern the data points when drawing a multidimensional Heatmap. It must be located within the data.y object (for example: data.y.data4)",c,"",k);this.S4("connectBy",false,[false],"Name of a variable annotation to connect the variables",c,"",k,"getXZData");this.lj("connectByNoColor",false,"Flag to prevent coloring the lines by the connectBy annotation. Usefull when connectBy is used along with colorBy to avoid confusion of colors",c,"",k);this.OS("connectBy","rgb(204,204,204)","connectBy lines",c,"",k);this.Xt("connectByWidth",2,"Width for the line of the connectBy line",c,"",k);this.Dm("connectKey",false,"Object to assign custom colors to lines when samples are connected by a sample annotations included in the data object. The key of the object is the name of an annotation in the data.x object. A default connect will be assigned to a data point whose value was not included the object",c,"",k);this.Dm("connectByData",{},"Internal object with connectBy data",c);this.oi("treemapBy",[],"Array of sample annotations to treemap the variables. The array may also include sample to use as last level",c,"",k,"getXZData");this.S4("stackBy",false,[false],"Name of a sample annotation to stack the samples of each variable in Bar graphs",c,"",k,"getZData");this.S4("dodgeBy",false,[false],"Name of a sample annotation to dodge the samples of each variable in Bar graphs",c,"",k,"getXData");this.S4("lineBy",false,[false],"Name of a sample annotation to stack the samples of each variable in Line graphs",c,"",k,"getXData");this.S4("ribbonBy",false,[false],"Name of a sample annotation(s) to create a ribbon of each variable in scatter plots. If a single annotation is passed then it will be used as a standard deviation. If two annotations are passed then, it will be used as upper and lower confidence intervals. Alternatively it could be a pair of arrays witht the actual data. Works in coordination with the lineBy parameter",c,"",k);this.S4("ribbonByType","line",["line","area"],"Type of ribbon to create",c,"",k);this.S4("motionBy",false,[false,"variable"],"Utility to create dynamic filtering of data in Scatter plots",c,"",k);this.S4("markerBy",false,[false,"variable"],"Utility to create dynamic markers in Map. It must have a latitude and longitude metadata too",c,"",k);this.S4("ellipseBy",false,[false,"variable"],"Utility to create error ellipses in Scatter plots",c,"",k,"getZData");this.S4("confidenceBy",false,[false,"variable"],"Name of a variable annotation to color the confidence intervals",c,"",k,"getZData");this.S4("ridgeBy",false,[false],"Utility to create ridgelines in Scatter2D plots",c,"",k);this.S4("pieBy",false,[false],"Utility to create pie with a sample annotation",c,"",k);this.S4("pivotBy",false,[false],"Utility to pivot data with a sample annotation",c,"",k);this.S4("colorLabelBy",false,[false],"Name of the variable annotation to color the labels in Scatter2D plots",c,"",k,"getZData");this.S4("sizeLabelBy",false,[false],"Name of the variable annotation to size the labels in Scatter2D plots",c,"",k,"getZData");c="Fit Lines";this.Wy(c,"Parameters used to create regression, loess and quantiles lines in 2d scatter plots","Scatter2D","Line Fitting",true);this.FX("fitLine","#fed385",1,2,null,"solid",true,"fit line",c,"",k);c="Confidence Intervals";this.Wy(c,"Parameters used to create regression, loess and quantiles confidence intervals in 2d scatter plots","Scatter2D","Line Fitting",true);this.OS("confidenceInterval","rgb(50,50,50)","confidence intervals",c,"",k);this.TO("ConfidenceIntervals",true,"confidence intervals in the regression plots ",c,"",k);this.Xt("confidenceIntervalsMax",2000,"Maximum number of data values allowed for confidence intervals to display",c,"",k);this.gl("confidenceLevel",0.95,"Confidence level for regressions and ellipses",c,"",k);this.S4("confidenceIntervalColorCoordinate",false,["full","line",false],"Type of coordination to color fit line, confidence intervals and data points. Full is the same color for all elements. Line is the same color for confidence intervals and line fit only",c,"",k);c="Regression";this.Wy(c,"Parameters used to create regression lines in 2d scatter plots","Scatter2D","Line Fitting",true);this.TO("RegressionFit",false,"Flag to show the regression fit",c,"",k);this.TO("RegressionFitEquation",true,"Flag to show the regression fit equation",c,"",k);this.S4("regressionFitEquationPosition","top",["top","bottom"],"Position for the regression fit equation",c,"",k);this.TO("RegressionFullRange",false,"full range in regression plots",c,"",k);this.S4("regressionType","linear",["linear","exponential","logarithmic","power","polynomial"],"Type of linear least-squares fitting methods for simple data analysis",c,"",k);this.Xt("regressionOrder",2,"Specifies the number of degrees to solve for in polynomial regressions",c,"",k);c="Loess";this.Wy(c,"Parameters used to create smooth lines in 2d scatter plots","Scatter2D","Line Fitting",true);this.TO("LoessFit",false,"Flag to show the loess fit in Scatter plots",c,"",k);this.S4("loessDegree",2,[0,1,2],"Loess degree. 0 : Constant, 1 : Linear, 2 : Quadratic",c,"",k);this.Xt("loessSteps",30,"Loess steps. Number of steps to smooth the line",c,"",k);this.gl("loessBandwidth",0.8,"Loess bandwidth. Thickness for the confidence of the loess curve. A vaulue between 0 and 1",c,"",k);this.gl("loessCell",0.2,"Loess cell. If interpolation is used this controls the accuracy of the approximation via the maximum number of points in a cell in the kd tree. Cells with more than floor(n*span*cell) points are subdivided",c,"",k);this.gl("loessSpan",0.75,"Loess span. Factor to adjust the gaussian shape of the loess curve. A vaulue between 0 and 1",c,"",k);this.Xt("loessIteration",4,"Loess iterations",c);this.lj("loessNormalize",true,"Flag to normalize loess fit in Scatter2D plots",c,"",k);this.S4("loessFamily","gaussian",["gaussian","symmetric"],"Loess Family. Type of error distribution to be optimized in fitting. The default, gaussian, is fitting with least squares. Fitting with Tukeys biweight M-Estimator is used if family is symmetric",c,"",k);this.S4("loessSurface","interpolate",["direct","interpolate"],"Loess Surface. The fitted surface to be computed exactly (direct) or via interpolation from a kd tree",c,"",k);this.S4("loessStatistics","approximate",["approximate","exact"],"LoessStatistics. The statistics to be computed exactly, approximately or not at all? Exact computation can be very slow ",c,"",k);c="DOE";this.Wy(c,"Parameters used to create graphs with meta data","AllGraphs","Dashboard",false);this.Xt("maxDOENumber",8,"Maximum number of graphs when creating a DOE",c,"",k);this.oi("includeDOE",[],"Array containing the factors to include when exploring the DOE. If left empty all the factors will be included",c,"",k);this.lj("autoexpandDOE",true,"Flag to expand verticaly the extent of the meta data-plots when changing the size of the graphs",c,"",k);this.lj("extendedDOE",true,"Flag to extend DOE to include variables / samples",c,"",k);this.Dm("asDOE",false,"Object with configurations to create DOE",c,"",k);c="3D Attributes";this.Wy(c,"General parameters in 3d scatter plots and networks","Scatter3DGraphs","Multi Dimensional Graphs",true);this.gl("xRotate",45,"Starting number of degrees to rotate graph arround the X axis",c,"",k);this.gl("yRotate",0,"Starting number of degrees to rotate graph arround the Y axis",c,"",k);this.gl("zRotate",0,"Starting number of degrees to rotate graph arround the Z axis",c,"",k);this.gl("x3DRatio",1,"Value between 0 - 1 for adjusting the 3D of the X Axis",c,"",k);this.gl("y3DRatio",1,"Value between 0 - 1 for adjusting the 3D of the Y Axis",c,"",k);this.gl("z3DRatio",1,"Value between 0 - 1 for adjusting the 3D of the Z Axis",c,"",k);this.TO("3DGrid",true,"X,Y,Z grid in 3D plots",c,"",k);this.Xt("rotationSensitivity",450,"Factor to adjust the sensitivity of the mouse when rotating the graph",c,"",k);this.Xt("rotationStep",2,"Number of degrees used when the plot is automatically rotated",c);this.gl("perspectiveFactor",2.2,"Factor to use to make the 3D perspective. The higher the number the more perspective. Perspective of zero is no perspective at all",c,"",k);this.OS("outline3D",b,"outline of the 3D Scatters",c,"",k);c="Dendrograms";this.Wy(c,"General parameters in dendrograms","ClusterGraphs","Clustering Graphs",true);this.cr("Var",true,false,"top",false,"variable (column) dendrogram",c,"",k);this.cr("Smp",true,false,"left",false,"sample (row) dendrogram",c,"",k);this.Xt("dendrogramHeight",80,"Size in pixels for the dendrogram",c,"",k);this.OS("dendrogram",b,"dendrograms",c,"",k);c="Clustering";this.Wy(c,"Parameters used in clustering","ClusterGraphs","Clustering Graphs",true);this.S4("clusteringDistance","euclidianDistance",["euclidianDistance","manhattanDistance","maxDistance"],"Distance metric to use when clustering data",c,"",k);this.S4("linkage","complete",["single","complete","average"],"Linkage type to use when clustering data",c,"",k);this.S4("clusterAxis","samples",["samples","variables"],"Axis to use when clustering data",c,"",k);this.Xt("kmeansVarClusters",3,"Number of clusters when clustering variable data with kmeans",c,"",k);this.Xt("kmeansSmpClusters",3,"Number of clusters when clustering sample data with kmeans",c,"",k);this.Xt("maxIterations",500,"Number of maximum iterations when clustering data with kmeans for one dimensional graphs or maximum number of iterations when calculating force direct layout networks",c,"",k);this.S4("imputeMethod","mean",["mean","median"],"Imputation method for missing data when clustering",c,"",k);this.lj("samplesClustered",false,"Flag to cluster samples",c,"",k);this.lj("variablesClustered",false,"Flag to cluster variables",c,"",k);this.lj("samplesKmeaned",false,"Flag to k-mean samples",c,"",k);this.lj("variablesKmeaned",false,"Flag to k-mean variables",c,"",k);c="Ideograms";this.Wy(c,"General parameters for Ideograms","IdeogramGraphs","Circular Graphs",true);this.TO("Ideogram",false,"Human Chromosome Ideogram. Force circular plots to be two dimensional",c,"",k);this.S4("ideogram","hg38",["hg38"],'Ideogram. Additional ideograms can be loaded by appending to the CanvasXpress.chromosomes object. The format of the ideogram is based on the R data for USCS.hg19.chr<br> CanvasXpress.chromosomes = {<br> &nbsp;&nbsp;hg19 : {<br> &nbsp;&nbsp;&nbsp;&nbsp;order : [ 1, 2, 3, 4, 5, 6, 7, 8, ...],<br> &nbsp;&nbsp;&nbsp;&nbsp;data : {<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 : [ [ 0, 2300000, "p36.33", "gneg" ], ...],<br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 : [ [ 0, 4300000, "p25.3", "gneg" ],  ...],<br> &nbsp;&nbsp;&nbsp;&nbsp;}<br> &nbsp;&nbsp;}<br> }',c,"",k);this.YP("ideogramChromosomeNumber","1","Chromosome number",c,"",k);this.lj("ideogramShowFullChromosome",true,"Flag to show the full chromosome",c,"",k);this.PF("ideogramSegment","",b,10,1,"center","middle",0,8,"ideogram segment",c,"",k);this.Xt("ideogramHeight",20,"Default size in pixels of the ideogram height",c,"",k);this.YP("ideogramChromosome","chr","Factor name included in the data.z object used to map to the chromosome number",c,"",k);this.YP("ideogramChromosomePosition","pos","Factor name included in the data.z object used to map to the chromosome position",c,"",k);c="Combination Plots";this.Wy(c,"Parameters used in complex plots","AllGraphs","Faceting",true);this.gl("weight",1,"Fraction of the canvas to be used (a value between 0 and 1). Used when multiple graphs are displayed in one canvas. Could be an number or an array of numbers",c);this.gl("scaleX",1,"Scale factor for the X axis",c);this.gl("scaleY",1,"Scale factor for the Y axis",c);this.gl("translateX",0,"Amount to translate for the X axis",c);this.gl("translateY",0,"Amount to translate for the Y axis",c);this.gl("offsetX",0,"Additional amount to move for the X axis",c);this.gl("offsetY",0,"Additional amount to move for the Y axis",c);this.gl("layoutWidth",0,"Width of the current segment of the canvas when there are multiple graphs",c);this.gl("layoutHeight",0,"Height of the current segment of the canvas when there are multiple graphs",c);this.Xt("layoutCurrent",0,"Integer to identify the current graph being displayed in the canvas",c);this.YP("layout","1X1","Topology of the canvas. Number of rows and columns",c);this.lj("layoutComb",false,"Flag that identify that multiple graphs will be displayed in the canvas. This is the case when ata is segregated, splom, multiple pies or DOE visualizations",c);this.YP("layoutTopology",false,"Topology of the canvas. Number of columns and rows separated by X. For example: 2X1, 1X3, etc",c,"",k);this.lj("layoutAdjust",false,"Flag to force recalculating the ranges in the axes when multiple graphs are displayed in the canvas",c,"",k);this.lj("layoutGlobalGroups",false,"Flag to force same groups across all layout plots",c,"",k);this.lj("layoutCollapse",false,"Flag to make layout graphs without any space in between",c,"",k);this.Xt("layoutSpacing",8,"Spacing between layout graphs",c,"",k);this.S4("layoutType","wrap",["wrap","rows","cols"],"Type of layout to place the position for the labels in the trellis plot. Identify the axis that will be used to place the first segregating factor. rows will use the first segregating factor in the rows and the second in the columns. cols will use the first segregating factor in the columns and the second in the rows. wrap will wrap the segregating factors putting the sample factors in the columns",c,"",k);this.lj("layoutRemoveEmpty",true,"Flag to remove empty combinations in segregated layouts",c,"",k);this.lj("layoutCanvasCompartments",false,"Flag to draw lines around each graph in the layout in the canvas. Used only when debugging",c,"",k);this.oi("layoutConfig",[],"Array of object to assign visualization configurations to each layout",c,"",k);c="Combination Plot Strips";this.Wy(c,"Parameters used in strips complex plots","AllGraphs","Faceting",true);this.No("stripBackground",m,n,1,"solid","layout label strip background",c,"",k);this.PF("stripText","",b,11,1,"center","middle",0,5,"label strip text in layout graphs",c,"",k);this.ZO("strip",true,"the layout label strip",c,"",k);this.gl("stripThickness",30,"Thickness of the layout label strip",c,"",k);this.Xt("stripTextLines",1,"Lines for the layout label strip",c,"",k);this.Xt("stripTextMaxLength",100,"Maximum length for the layout label strip. If longer, text will be ellipsed",c,"",k);c="Images";this.Wy(c,"General parameters with images","AllGraphs","Core",false);this.Xt("imageTimeOut",1000,"Time in milliseconds to wait to load images",c,"",k);this.Xt("imageMaxTries",10,"Maximum times to try to load images. Used to calculate the timeout which will be imageTimeOut / imageTries which will be 100ms by default",c,"",k);this.Xt("imageTries",0,"Image try counter",c);c="Area Graphs";this.Wy(c,"General parameters in area graphs","AreaGraphs","Area Graphs",true);this.S4("areaType","overlapping",["overlapping","stacked","percent"],"Types of area graphs when displaying multiple series. The options include overlapping which is the default, stacked, and percent area graphs",c,"",k);c="Bar Graphs";this.Wy(c,"General parameters in bar graphs","BarGraphs","Bar Graphs",true);this.S4("barType","normal",["normal","lollipop","arrow","bullet","lollipopBullet","swimmer","waterfall"],"Flag to produce normal or other modifications of bar graphs",c,"",k);this.lj("barZero",true,"Flag to force zero in bar graphs with positive values",c,"",k);c="Bin Plots";this.Wy(c,"Parameters used to create bin plots in 2d scatter plots","BinHexPlots","Bin Plots",true);this.oi("binplotBins",[],"Approximate number of bins in a bin plot. It may vary considerably to the actual number used in the bin plot to ensure a pretty size for the intervals in the bin plot. ggplots default is 30",c,"",k);this.oi("binplotBinWidth",[],"Width in actual units for the histogram bin",c,"",k);this.lj("binplotDrop",true,"Flag to drop cells with zero counts in binplots",c,"",k);this.S4("binplotShape","hexagon",["rectangle","hexagon","oval"],"Type for the shape to use in binplots",c,"",k);this.S4("binplotColorScheme","BluesDark",Object.keys(CanvasXpress.colorSchemes).sort(),"Color scheme to use in binplots",c,"",k);c="Boxplot Graphs";this.Wy(c,"General parameters in Boxplot Graphs","Boxplot","Boxplot Graphs",true);this.Xt("boxplotOutliersRatio",10,"Ratio for the size of the outliers with respect to boxplot",c,"",k);this.OS("boxplotOutliers",false,"outlier data points in boxplots",c,"",k);this.OS("boxplotOutliersBorder",false,"border of outlier data points in boxplots",c,"",k);this.S4("boxplotOutliersShape","circle",["circle","square","triangle","diamond","plus","minus","star","circleOpen","squareOpen","triangleOpen","diamondOpen"],"Shape for the outlier data points",c,"",k);this.S4("boxplotWhiskersType","double",["single","double","none"],"Boxplot whiskers type",c,"",k);this.S4("boxplotType","boxWhiskers",["boxWhiskers","range"],"Boxplot type",c,"",k);this.lj("boxplotNotched",false,"Flag to notch boxplots",c,"",k);this.gl("boxplotTransparency",0.4,"Fraction to adjust color transparency for the boxplot id individual data points are shown",c,"",k);this.OS("boxplot",false,"boxplot if individual data points are shown",c,"",k);this.lj("boxplotVarWidth",false,"Flag to adjust the width of boxplots. Similar to R if true then the width is proportional to the sqare root of the number of observations",c,"",k);this.gl("boxplotCoef",1.5,"Number that determines how far the plot whiskers extend out from the box",c,"",k);this.S4("boxplotHingeFunction","summary",["summary","fivenum"],"Function to calculate the boxplor hinges. See https://chemicalstatistician.wordpress.com/2013/08/12/exploratory-data-analysis-the-5-number-summary-two-different-methods-in-r-2/",c,"",k);this.TO("BoxplotOriginalData",false,"observed data point in boxplots. (Should be called showBoxplotDataPoints)",c,"",k);this.OS("boxplotOriginalData",false,"data points in the boxplots",c,"",k);this.gl("boxplotDataPointTransparency",0.8,"Fraction to adjust color transparency for the data points when displaying original data in boxplots",c,"",k);this.OS("boxplotBorder",b,"line of the borders in boxplots",c,"",k);this.OS("boxplotMedian",false,"line of the median of data in boxplots",c,"",k);this.Xt("boxplotMedianWidth",2,"Width for the line of the median of data in boxplots",c,"",k);this.lj("boxplotMean",false,"Flag to show mean of data in boxplots",c,"",k);this.OS("boxplotMean","#fed385","data mean in boxplots",c,"",k);this.OS("boxplotMeanBorder","#fe6969","border of the data mean in boxplots",c,"",k);this.lj("boxplotConnect",false,"Flag to show data in boxplots connected",c,"",k);this.Xt("boxplotConnectWidth",2,"Width for the line of the connection of boxes in boxplots",c,"",k);c="Bubble Graphs";this.Wy(c,"General parameters in circular bubble graphs","Bubble","Bubble Graphs",true);this.OS("bubble","rgba(204,204,204,0.33)","Bubbles. Only applicable to the bubble subtype",c,"",k);this.OS("bubbleOutline",b,"Outline of bubbles. Only applicable to the bubble subtype",c,"",k);this.S4("bubbleLabel","auto",["first","last","all","auto","none"],"Position for the labels in bubble circular plot",c,"",k);this.S4("bubbleLabelPosition","center",["top","center","bottom"],"Position for the labels in bubble circular plot",c,"",k);this.S4("bubbleLabelLineType","arch",["line","arch"],"Line type when label is away from the bubble",c,"",k);c="Bullet Graphs";this.Wy(c,"General parameters in bullet graphs","Bullet","Bullet Graphs",true);this.gl("bulletWidthRatio",0.5,"A number between 0.1 and 1 to adjust the width of the bullet",c,"",k);this.S4("bulletStyle","square",["square","round","squareGradient","roundGradient"],"Style for the bullet",c,"",k);this.S4("bulletTargetVarName",false,[false],"Variable name to use to identify target in bullet graphs",c,"",k);this.gl("bulletTargetWidthRatio",0.7,"A number between 0.1 and 1 to adjust the width of the bullet target line",c,"",k);this.OS("bulletTargetVar",b,"bullet target line",c,"",k);this.S4("bulletTargetType","line",["line","circle","openCircle","star","openStar"],"Shape for the target of the bullet",c,"",k);this.gl("bulletTargetLineWidth",3,"Width for the target line in bullet graphs when the bulletTargetLine is a line",c,"",k);c="Chord Graphs";this.Wy(c,"General parameters in circular chord graphs","Chord","Circular Graphs",true);this.Xt("chordThickness",28,"Relative length in pixels of the chord thickness in the circular graphs. Only applicable to the chord subtype",c,"",k);this.S4("chordColor","largest",["source","target","largest","smallest"],"Color the ribbon according to either the source or the target of the connection",c,"",k);this.ZO("chordScale",true,"the scale in the chord graphs",c,"",k);c="Circular Graphs";this.Wy(c,"General parameters in circular graphs","Circular","Circular Graphs",true);this.S4("circularType","normal",["normal","radar","sunburst","chord","bubble"],"Property to set the subtype of circular graph. If set to sunburst or bubble then smpOverlays can be used to build a hierarchy for the graph",c,"",k);this.gl("circularCenterProportion",0.3,"Proportion of the center of the circular graph to use as void; that is the fraction of the radius in the middle of the graph",c,"",k);this.Xt("circularRotate",0,"Number of degrees to rotate the circular graph to adjust the starting point",c,"",k);this.Xt("circularArc",360,"Number of degrees to extend the circular graph",c,"",k);this.gl("circularLetterSeparationFactor",1,"Factor to adjust the spacing between letters in the circular graphs. The greater the number the closer the letters in the labels",c,"",k);this.S4("circularOverlayLevelOrientation","circular",["perpendicular","circular"],"Orientation to show the segregation levels",c,"",k);this.S4("circularSampleLabelOrientation","perpendicular",["perpendicular","circular"],"Orientation to show the sample names",c,"",k);this.S4("circularLabelsAlign","outside",["inside","outside"],"Position to align the variable and sample names in circular plot",c,"",k);this.S4("circularScalesAlign","inside",["inside","outside"],"Position to align the percent and radial axes in circular plot",c,"",k);this.S4("circularAnchorsAlign","inside",["inside","outside"],"Position to align the anchors in circular plot",c,"",k);this.S4("circularAnchors2Align","outside",["inside","outside"],"Position to align the anchors2 in circular plot",c,"",k);this.S4("circularDataPosition","distributed",["absolute","distributed"],"Position to align the data in 2D radial graphs and ideograms",c,"",k);this.Xt("circularAnchorLength",8,"Length in pixels of the height of the circular anchor",c,"",k);this.Xt("circularOverlayThickness",14,"Thickness in pixels of the circular overlay and ideogram",c,"",k);this.OS("circularAnchor","#0ab0db","circular anchor",c,"",k);c="Circular Graph Connections";this.Wy(c,"General parameters for connections in circular graphs","Circular","Circular Graphs",true);this.TO("CircularConnections",true,"connections in circular graphs",c,"",k);this.oi("circularConnections",[],"Array to store connections in circular graphs",c,"",k);this.gl("circularConnectionsTransparency",0.5,"Percentage of transparency applied to the connections in the circular graphs",c,"",k);c="Circular Graph Arc Sectors";this.Wy(c,"General parameters for arc sectors in circular graphs","Circular","Circular Graphs",true);this.Xt("circularArcSectorSeparation",5,"Number of degrees to separate the arc sectors in the circular plots. The arc sectors can be set with the segregateSampleBy property",c,"",k);this.oi("circularArcSectorRadius",[],"Array containing the proportion of the radius for each arc sector in the circular plot. If not specified then all radius will be the same. The plot will be scaled based of the largest value in the array",c,"",k);c="Circular Graph Tracks";this.Wy(c,"General parameters for tracks in circular graphs","Circular","Circular Graphs",true);this.Xt("circularTrackSeparation",5,"Number of pixels to separate the tracks in the circular plots",c,"",k);this.oi("circularTrackName",[],"An array specifying the names of each track in the circular plot. It must match the length of the *vars* array used for the data. Use an empty string to exclude a variable from the plot",c,"",k);this.oi("circularTrackGraphType",[],"Array containing the graph type for each track in the circular plot",c,"",k);this.oi("circularTrackGraphWeight",[],"Array containing the proportion of the dimensions for each data track in the circular plot. It must be a value between 0.1 and 1. If not specified then all track will be weighted the same",c,"",k);this.oi("circularTrackOrder",["percent","scale","dendrogram","ideogram","overlays","labels","anchors","data"],"Array containing the order of the tracks. The array includes the levels of the factor specified as either segregateSamplesBy when show the ideogram or segregateVariablesBy when there is no ideogram. It may also include any of the following terms: dendrogram, ideogram, labels, scale, percent and data. If there are sample overlays, the array may also contain any of the factor names include in the this.data.x object. This array supersede any other configurations for example for the sample overlays",c,"",k);c="Contours";this.Wy(c,"Parameters used to create contours in one and two dimensional plots","ContourGraphs","Contour Graphs",true);this.lj("isContour",false,"Flag to show the contour",c,"",k);this.lj("contourFilled",false,"Flag to color the contour plot",c,"",k);this.gl("contourFilledTransparency",1,"Transparency applied to the filled contours",c,"",k);this.TO("ContourBands",true,"contour bands",c,"",k);this.OS("contourBands","#0ab0db","the bands in contours",c,"",k);this.Xt("contourLevelWidth",null,"Width of contour levels",c,"",k);this.Xt("contourLevelNumber",10,"Numbe of contour levels. Overridden by contourLevelWidth",c,"",k);this.S4("contourStat","density",["density","ndensity","count"],"Contour density type",c,"",k);this.S4("contourType","normal",["normal","raster","point"],"Contour type",c,"",k);this.oi("contourLevels",[],"Numeric vector to set the contour levels. It is automatically calculated if not defined using the axisAlgorithm setting and the contourLevelNumber",c,"",k);this.TO("ContourLevel",false,"levels in contours",c,"",k);this.TO("ContourDataPoints",false,"data points in contours",c,"",k);this.OS("contourDataPoints",b,"data points in contours when the contour is filled",c,"",k);this.S4("contourColorScheme","Viridis",Object.keys(CanvasXpress.colorSchemes).sort(),"Color scheme to use in contours",c,"",k);c="Correlation Graphs";this.Wy(c,"General parameters for correlation","Correlation","Correlation Graphs",true);this.S4("correlationAxis","samples",["samples","variables"],"Axis used for the correlation",c,"",k);this.lj("correlationAnchorLegend",false,"Flag to show a region above the correlation plot that anchror a sample/variable to a position",c,"",k);this.Xt("correlationAnchorLegendAlignWidth",40,"Length in pixels of the height of the correlation anchor legend",c,"",k);this.Xt("correlationLabelInterval",1,"Interval for the sample or variable labels in the correlation plot",c,"",k);this.S4("correlationType","diamond",["diamond","circle"],"Shape to use in the correlation graphs",c,"",k);c="Density Plots";this.Wy(c,"Parameters used to create density plots in 1d and 2d scatter plots","DensityGraphs","Density Plots",true);this.TO("ScatterDensity",false,"density kernel in histograms",c,"",k);this.S4("densityKernel","gaussian",["gaussian","rectangular","triangular","epanechnikov","quartic","biweight","cosine","optcosine"],"Histogram density kernels",c,"",k);this.S4("densityPosition","normal",["normal","stacked","filled"],"Histogram density position",c,"",k);this.S4("bandwidthRule","nrd0",["nrd0","nrd","silverman"],"Bandwidth rule ",c,"",k);this.Xt("bandwidthCut",3,"Bandwidth cut",c,"",k);this.gl("bandwidthAdjust",1,"Bandwidth adjust for the window",c,"",k);c="Dotplot Graphs";this.Wy(c,"General parameters in dotplot graphs","DotGraphs","Dotplot Graphs",true);this.S4("dotplotType","normal",["arrow","bullet","cleveland","connected","line","lineConnected","normal","stacked","transition"],"Style for the dotplot. Transition plot are only applicable when data is grouped",c,"",k);c="Dumbbell Graphs";this.Wy(c,"General parameters in dumbbell graphs","DotGraphs","Dotplot Graphs",true);this.S4("dumbbellType","stacked",["arrow","bullet","cleveland","connected","line","lineConnected","stacked"],"Style for the dumbbell plot",c,"",k);c="Fish Graphs";this.Wy(c,"General parameters in fish graphs","Fish","Fish Graphs",true);this.oi("fishParents",[],"Fish Parents",c,"",k);this.oi("fishTimepoints",[],"Fish Timepoints",c,"",k);this.lj("fishSeparateIndependentClones",false,"Flag to separate indepenent clones",c,"",k);this.S4("fishShape","polygon",["spline","polygon"],"Fish Shape",c,"",k);this.oi("fishAxis",[],"Fish Axis (array with lines across the X Axis)",c,"",k);this.oi("fishAxisLabels",[],"Fish Axis Labels (array with names for the lines across the X Axis). Must have the same dimension as the fishAxis",c,"",k);this.oi("fishCloneLabels",[],"Fish Clone Labels (array with names for the clones). Must have the same dimension as the fishParents",c,"",k);c="Gantt Charts";this.Wy(c,"General parameters in gantt charts","Gantt","Gantt Charts",true);this.S4("ganttStart",false,[false],"Variable to use in Gantt plots as start date. Defaults to the first variable in the data set",c,"",k);this.S4("ganttEnd",false,[false],"Variable to use in Gantt plots as end date. Defaults to the second variable in the data set",c,"",k);this.S4("ganttCompletion",false,[false],"Variable annotation in the x object to use in Gantt plots as completion percentage. Must be a value between 0 and 1",c,"",k);this.S4("ganttDependency",false,[false],"Variable annotation in the x object to use in Gantt plots as dependency. Must be a valid sample / group name",c,"",k);this.S4("ganttDependencyEnd",false,[false],"Variable annotation for the type of ending for the dependency line. Options are arrow, square or round",c,"",k);this.OS("ganttDependency",false,"variable metadata used for the dependency line. Defaults to rgb(0,0,0)",c,"",k);this.gl("ganttDependencyThickness",false,"Variable annotation for the thickness of the dependency line. Defaults to 1",c,"",k);this.gl("ganttCompletionTransparency",0.5,"Fraction to adjust color transparency for completion",c,"",k);c="Genome Browser";this.Wy(c,"General parameters used in genome browser","Genome","Genome Graphs",true);this.Xt("genomeTicks",50,"Number of ticks in the genome browser",c,"",k);this.OS("wire","rgba(204,204,204,0.1)","ticks in the genome browser",c,"",k);this.Xt("periodTicksLabels",5,"Number of ticks to skip between values in the genome browser",c,"",k);this.S4("genomeResolution","low",["low","medium","high"],"Number to adjust the splines curvature",c,"",k);c="Genome Browser Tracks";this.Wy(c,"General parameters used in genome browser tracks","Genome","Genome Graphs",true);this.PF("trackName","",b,11,1,"center","middle",0,8,"track name","Genome Browser Tracks","",k);this.OS("trackFill",w,"fill of the tracks in the genome browser",c,"",k);this.OS("trackDir",b,"strand direction of the tracks in the genome browser",c,"",k);this.Xt("subtracksMaxDefault",8,"Maximum number of subtracks to show in a track",c,"",k);c="Genome Browser Features";this.Wy(c,"General parameters used in genome browser features","Genome","Genome Graphs",true);this.Xt("showFeatureNameThereshold",20,"Threshehold used to set te limit when there are too many features in the genome browser",c,"",k);this.PF("featureName","",b,11,1,"center","middle",0,8,"feature name",c,"",k);this.OS("featureFill",w,"fill of the feature in the genome browser",c,"",k);this.OS("featureDir",b,"strand direction of the feature in the genome browser",c,"",k);this.Xt("maxFeatureStringLen",30,"Maximum length in characters a feature label can have so anything above is truncated",c,"",k);this.Xt("featureWidthDefault",3,"Default size in pixels of the feature width",c,"",k);this.Xt("featureHeightDefault",14,"Default size in pixels of the feature height",c,"",k);this.S4("featureSpliceStyle","rect",["rect","broken"],"Default style for splicing in boxes",c,"",k);this.Xt("featureTraceHeight",40,"Default size in pixels of the trace height",c,"",k);this.Xt("featureTraceTrim",1,"Default triming for nucleotide values in the traces (expressed in percent)",c,"",k);this.lj("featureTracesShow",true,"Flag to use to show traces",c,"",k);this.Xt("featureQualityHeight",14,"Default size in pixels of the quality height",c,"",k);this.lj("featureQualityValues",false,"Flag to use to show values for the quality",c,"",k);this.lj("featureQualityShow",true,"Flag to use to show quality",c,"",k);this.Xt("featureSignalToNoiseHeight",14,"Default size in pixels of the quality height",c,"",k);this.lj("featureSignalToNoiseValues",false,"Flag to use to show values for the quality",c,"",k);this.lj("featureSignalToNoiseShow",true,"Flag to use to show quality",c,"",k);this.Xt("featureCoordinateHeight",14,"Default size in pixels of the coordinates height",c,"",k);this.lj("featureCoordinateShow",true,"Flag to use to show coordinates",c,"",k);this.Xt("featureTranslateHeight",14,"Default size in pixels of the translation height",c,"",k);this.lj("featureTranslateShow",true,"Flag to use to show tranlation",c,"",k);this.S4("featureTypeDefault","line",["box","bar","heatmap","sequence","triangle","line"],"Default type for the feature in the genome browser",c,"",k);this.lj("featureStaggered",false,"Flag to use to stagger the features in the genome panel",c,"",k);c="Genome Browser Sequences";this.Wy(c,"General parameters used in genome browser sequeces","Genome","Genome Graphs",true);this.PF("sequence","",b,11,1,"center","middle",0,8,"sequence",c,"",k);this.OS("sequenceFill",false,"background when showing sequnces in the box or sequence object in the Genome. The default is to use the background of the object. If specied a valid color then all the background of sequences will be uniform",c,"",k);this.OS("sequenceGAP","rgb(255,0,255)","deletions, insertions and gaps in the genome browser",c,"",k);this.OS("sequenceA","rgb(0,103,0)","adenines and alanines in the genome browser",c,"",k);this.OS("sequenceB",b,"degenerate C/G/T and asparagines in the genome browser",c,"",k);this.OS("sequenceC","rgb(0,0,255)","cytosines and cysteins in the genome browser",c,"",k);this.OS("sequenceD",b,"degenerate A/G/T and aspartic acids in the genome browser",c,"",k);this.OS("sequenceE",b,"glutamic acids in the genome browser",c,"",k);this.OS("sequenceF","rgb(0,0,255)","phenylalanines in the genome browser",c,"",k);this.OS("sequenceG",b,"guanines and glycines in the genome browser",c,"",k);this.OS("sequenceH","rgb(255,0,0)","degenerate A/C/T and histidines in the genome browser",c,"",k);this.OS("sequenceI","rgb(0,103,0)","isoleucines in the genome browser",c,"",k);this.OS("sequenceK","rgb(255,0,0)","degenerate G/T and lysines in the genome browser",c,"",k);this.OS("sequenceL","rgb(0,103,0)","leucines in the genome browser",c,"",k);this.OS("sequenceM","rgb(0,103,0)","degenerate A/G and methionines in the genome browser",c,"",k);this.OS("sequenceN",b,"degenerate A/C/G/T and asparagines in the genome browser",c,"",k);this.OS("sequenceP","rgb(255,165,0)","prolines in the genome browser",c,"",k);this.OS("sequenceQ",b,"glutamines in the genome browser",c,"",k);this.OS("sequenceR","rgb(255,0,0)","degenerate A/G and arginines in the genome browser",c,"",k);this.OS("sequenceS","rgb(255,165,0)","degenerate G/C and serines in the genome browser",c,"",k);this.OS("sequenceT","rgb(255,0,0)","thymidines and threonines in the genome browser",c,"",k);this.OS("sequenceU","rgb(255,0,0)","uracils in the genome browser",c,"",k);this.OS("sequenceV","rgb(0,103,0)","degenerate A/C/G and valines in the genome browser",c,"",k);this.OS("sequenceW","rgb(0,0,255)","degenerate A/T and tryptophans in the genome browser",c,"",k);this.OS("sequenceX",b,"any aminoacid code in the genome browser",c,"",k);this.OS("sequenceY","rgb(0,0,255)","degenerate C/T and tyrosines in the genome browser",c,"",k);this.OS("sequenceZ",b,"glutamines in the genome browser",c,"",k);this.OS("sequenceStart","rgb(0,204,0)","start codon in the genome browser",c,"",k);this.OS("sequenceEnd","rgb(255,0,0)","end codon in the genome browser",c,"",k);c="Heatmap Graphs";this.Wy(c,"General parameters for heatmaps","Heatmap","Heatmap Graphs",true);this.Xt("varIndicesStart",-1,"Number that indicates starting point for variables in heatmaps when the canvas is zoom in",c);this.Xt("smpIndicesStart",-1,"Number that indicates starting point for samples in heatmaps when the canvas is zoom in",c);this.Xt("grpIndicesStart",-1,"Number that indicates starting point for grouped samples in heatmaps when the canvas is zoom in",c);this.lj("isMultidimensionalData",false,"Flag to indicate if there is more than a single data set",c);this.lj("heatmapAutoAdjust",false,"Flag to adjust the color spectrum of the heatmaps when zooming in/out. The full spectrum range will be utilized to cover the selcted cells in the heatmap if the flag is set to true",c,"",k);this.lj("heatmapCellBox",true,"Flag to print a box around the heatmap cells",c,"",k);this.OS("heatmapCellBox","rgb(102,102,102)","heatmap boxes around the cells",c,"",k);this.gl("heatmapCellBoxWidth",1,"Width for the heatmap boxes around the cells",c,"",k);this.z7("heatmapCellBoxColorHighlight","#fed385","highlighted heatmap cells",c,"",k);this.gl("heatmapCellBoxHighlightWidth",1,"Width for the highlighting heatmap boxes around the cells",c,"",k);this.lj("heatmapHighlightByRowCol",false,"Flag to highlight specific rows and columns in the heatmap cells when a variable or a sample is selected",c,"",k);this.z7("heatmapHighlightByRowColIntersection","#9b6f2b","highlighted heatmap cells where rows and columns intersect",c,"",k);this.gl("heatmapHighlightByRowColIntersectionWidth",3,"Width for the highlighting heatmap boxes around the cells where rows and columns intersect",c,"",k);this.S4("varTitleLabelPosition","bottom",["bottom","top"],"Position for variable labels",c,"",k);this.S4("smpTitleLabelPosition","left",["left","right"],"Position for sample labels",c,"",k);this.S4("heatmapType","normal",["normal","circle","hexagon","upset","correlation","split"],"Type of Heatmap used to overlay a layer on top of an image. Special for spatial transcriptomics and UpSet plots",c,"",k);this.oi("heatmapSplits",[],"Array of data structures to use in the split heatmap. Currently only one (*data2*) is implemented",c);this.lj("heatmapCollapse",false,"Flag to collapse cells in heatmaps of type circle or hexagon. If true cells are ploted without outline otherwise the outline is the foreground color",c,"",k);c="Heatmap Color Indicators";this.Wy(c,"General parameters for heatmap color indicators","Heatmap","Heatmap Graphs",true);this.TO("HeatmapIndicator",true,"heatmap color indicator",c,"",k);this.Xt("heatmapIndicatorHeight",40,"Length in pixels for the heatmap indicator",c,"",k);this.Xt("heatmapIndicatorWidth",200,"Length in pixels for the heatmap indicator line width used for increase the size of the indicator",c,"",k);this.lj("adjustAspectRatioHeatmapIndicator",true,"Flag to ensure the heatmap indicator scales appropriately when the graph is rendered or the user manually resizes the graph, the adjustAspectRatio flag must be set to true for the adjustAspectRatioHeatmapIndicator to take effect",c,"",k);this.S4("heatmapIndicatorPosition","right",["topLeft","top","topRight","right"],"Position for the heatmap indicator",c,"",k);this.lj("heatmapIndicatorBeforeOverlays",true,"Flag to place the heatmap indicator before the overlay legends",c,"",k);this.lj("heatmapIndicatorHistogram",false,"Flag to show histogram in the heatmap indicator",c,"",k);this.OS("heatmapIndicatorHistogram","#0ab0db","heatmap indicator histogram",c,"",k);c="Histograms";this.Wy(c,"Parameters used to create histograms in 2d scatter plots","Scatter2D","Histograms",true);this.YP("showHistogram",false,"Flag or sample annotation to create histogram. If true is specified then the histogram will be done with all data",c,"",k);this.gl("histogramBarWidth",false,"Length in pixels for half of the bar width in the 2D scatter plot histogram",c);this.lj("histogramRight",true,"Flag to use histogram right binning.  If true, the histogram cells are right-closed (left open) intervals",c,"",k);this.lj("histogramLowest",true,"Flag to use histogram lowest binning. If true, an x[i] equal to the breaks value will be included in the first (or last, for right = FALSE) bar",c,"",k);this.Xt("histogramBins",30,"Approximate number of bins in a histogram. It may vary to the actual number used in the histogram to ensure a pretty size for the intervals in the histogram. Default is the same as in ggplot which is 30",c,"",k);this.oi("histogramBreaks",[],"Numeric vector to set the histogram breaks. It is automatically calculated if not defined using the axisAlgorithm setting and the histogramBins",c,"",k);this.gl("histogramBinWidth",false,"Width in actual units for the histogram bin",c,"",k);this.S4("histogramType","dodged",["dodged","staggered","stacked"],"Type of histogram when multiple series are present",c,"",k);this.TO("HistogramDensity",false,"density kernel in histograms",c,"",k);this.TO("HistogramPath",false,"histograms path",c,"",k);this.TO("FilledHistogramPath",false,"filled histogram path",c,"",k);this.gl("histogramPathFillTransparency",0.85,"Transparency applied to the filled histogram path",c,"",k);this.OS("histogramPath",false,"histogram path. If not specified the it defaults to the color of the histogram bars",c,"",k);this.Xt("histogramPathWidth",2,"Width for the line of the histogram path line",c,"",k);this.TO("FilledHistogramDensity",false,"filled histogram density",c,"",k);this.gl("histogramDensityFillTransparency",0.85,"Transparency applied to the filled histogram density",c,"",k);this.TO("HistogramDataPoints",false,"original data point in histograms",c,"",k);this.TO("HistogramQuantiles",false,"quantile 0.25 and 0.75 in density plots",c,"",k);this.TO("HistogramMedian",false,"histogram median",c,"",k);this.S4("histogramMedianLineType","dashed",["solid","dotted","dashed","dotdash","longdash","twodash"],"Line type for the histogram median",c,"",k);this.lj("showHistogramBars",false,"Flag to hide the histogram bars",c,"",k);this.S4("histogramSizeEstimator","sturges",["sturges","freedmanDiaconis","scott"],"Histogram size estimator",c,"",k);this.S4("histogramStat","count",["density","count"],"Histogram density type",c,"",k);this.lj("histogramAsDotplot",false,"Flag to use dots as histogram bars",c,"",k);this.No("histogramDotplot","#fe6969",b,0.5,"solid","data points in dotplot histograms","Histograms","",k);this.gl("histogramStackRatio",1,"Stack ratio for dotplot histograms. I has to be a value between 0 and 1",c,"",k);this.S4("histogramStackDir","down",["down","center","centerwhole"],"Direction to stack the dots in dotplot histograms",c,"",k);c="Kaplan Meier Plots";this.Wy(c,"Parameters used to create kaplan meier curves in 2d scatter plots","Scatter2D","Kaplan Meier Plots",true);this.TO("KMConfidenceIntervals",true,"confidence intervals in Kaplan-Meier plots ",c,"",k);this.TO("KMMedianSurvivalTime",false,"median survival time in Kaplan-Meier plots ",c,"",k);this.gl("kmConfidenceLevel",0.95,"Confidence level for Kaplan Meier plots",c,"",k);this.S4("kmConfidenceIntervalType","log",["ordinary","log","loglog"],"Confidence intervals type for Kaplan Meier estimates",c,"",k);this.lj("kmInvertCensored",false,"Flag to indicate whether zero values are censored or not in Kaplan-Meier plots",c,"",k);this.lj("kmCensoredRug",false,"Flag to indicate whether to show the censored data as a rug in Kaplan-Meier plots",c,"",k);this.YP("kmRiskTable",false,"Data to show the number of subjects at risk in Kaplan-Meier plots. It will be aligned to the major ticks in the x Axis",c,"",k);this.lj("kmPvalue",false,"Flag to show the p-value in Kaplan-Meier plots",c,"",k);this.YP("kmTime",false,"Data to use as time2 in Kaplan-Meier plots. It must be a numeric factor as it will be used to set the range for the events in the Kaplan-Meier plot",c,"",k);this.lj("kmCxplot",false,"Flag to indicate Kaplan-Meier plot was generated through survminer",c,"",k);this.oi("kmColors",[],"Array with colors for the Kaplan-Meier plots",c,"",k);c="Line Graphs";this.Wy(c,"General parameters in line graphs","LineGraphs","Line Graphs",true);this.S4("lineDecoration","symbol",[false,"dot","symbol","pattern"],"Lines decorations in the line graphs",c,"",k);this.S4("lineErrorType","bar",["bar","area"],"Line error type in the line graphs. The line type must be spline for the area error type. ",c,"",k);this.lj("coordinateLineColor",false,"Flag to use same color in BarLine plots. If set to true the color of the bars and the lines will be coordinated",c,"",k);this.S4("lineType","rect",["rect","solid","spline","dotted","dashed","dotdash","longdash","twodash"],"Type of line used to join the points in line graphs",c,"",k);this.gl("tension",0.3,"Curvature for the splines and hulls",c,"",k);this.Xt("tensionSegments",16,"Number of segments to smooth a quadratic curve",c,"",k);c="Lollipop Graphs";this.Wy(c,"General parameters in lollipop graphs","Bar","Bar Graphs",true);this.lj("barLollipopOpen",false,"Flag to use open pattern for the lollipop",c,"",k);c="Manhattan Plots";this.Wy(c,"General parameters in scatter plots","Scatter2D","Manhattan Plots",true);this.oi("chromosomeLengths",[],"Manhattan Chromosomes length is a sorted array by chromosome with the length in base pairs for each chromosome. It is required when scatterType is manhattan",c,"",k);this.oi("armLengths",[],"Manhattan Chromosomes arm length is a sorted array by chromosome with the length in base pairs for each chromosomeshort arm. It has to have the same dimesions as the chromosomeLengths",c,"",k);this.YP("manhattanMarkerChromosomeNumber",false,"Sample name included in the data.y.smps object used to map to the chromosome number",c,"",k);this.S4("manhattanMarkerPosition",false,[false],"Sample name included in the data.y.smps object used to map to the position in base pairs",c,"",k);this.S4("manhattanMarkerLogPValue",false,[false],"Sample name included in the data.y.smps object used to map to the negative log 10 p value",c,"",k);this.S4("manhattanCNV",false,[false],"Sample name included in the data.y.smps object used to map to the copy number value",c,"",k);this.S4("manhattanRangeStart",false,[false],"Sample name included in the data.y.smps object used to map the start position",c,"",k);this.S4("manhattanRangeEnd",false,[false],"Sample name included in the data.y.smps object used to map the end position",c,"",k);this.TO("manhattanRangeMiddle",false,"show dot in the middle of the range in manhattan plots",c,"",k);this.Xt("manhattanRangeLineWidth",10,"Number of pixels for the line width in manhattan plots",c,"",k);this.oi("manhattanColors",["rgb(128,128,128)","rgb(135,206,235)"],"Colors for the manhattan plots alternative chromosomes",c,"",k);this.oi("manhattanContrastColor","rgba(0,0,0,0.1)","Manhattan contrast color",c,"",k);c="Maps";this.Wy(c,"Map properties used in all visualizations","Map","Map Graphs",true);this.YP("topoJSON",false,"TopoJSON map string",c,"",k);this.YP("mapId",false,"Map Id for the map div in the DOM",c,"",k);this.YP("mapPropertyId",false,"Map Property Id use to match the data ids to the GeoJSON layer Id",c,"",k);this.S4("mapProjection","mercator",["mercator","albers","orthographic"],"Map projection",c,"",k);this.Dm("mapConfig",false,"Map config",c,"",k);this.Dm("mapConfigFeatures",false,"Map config for features use to translate and scale",c,"",k);this.oi("mapSmps",[],"Samples to use in maps",c,"",k);this.oi("hiddenMapFeatures",[],"Hidden Map features",c,"",k);this.oi("visibleMapFeatures",[],"Visible Map features. It Overrides the hidden features",c,"",k);this.OS("map","#0ab0db","maps",c,"",k);this.OS("mapOutline","rgb(204,204,204)","outline of the maps",c,"",k);this.S4("mapMarkerShape","drop",["drop","sphere","square","triangle","star","rhombus","octagon","mdavid","pentagon","rectangle"],"Default shape for the markers in map (if no shapeBy is specified",c,"",k);this.gl("mapMarkerShapeScaleFactor",1,"Scale factor for the marker shapes",c,"",k);c="Maps Albers";this.Wy(c,"Map albers properties used in map visualizations","Map","Map Graphs",true);this.gl("mapLatitudeOrigin",23,"Map Latitude Of Origin in degrees. (Applicable to Albers projection only). Default adjusts to USA maps",c,"",k);this.gl("mapCentralMeridian",-96,"Map Latitude Of Origin in degrees. (Applicable to Albers projection only). Default adjusts to USA maps",c,"",k);this.gl("mapStandardParallel1",29.5,"Map Standard Parallel 1 in degrees. (Applicable to Albers projection only). Default adjusts to USA maps",c,"",k);this.gl("mapStandardParallel2",45.5,"Map Standard Parallel 2 in degrees. (Applicable to Albers projection only). Default adjusts to USA maps",c,"",k);this.Wy("Maps Orthographic","Map orthographic properties used in map visualizations","Map","Map Graphs",true);this.lj("mapGraticuleShow",false,"Flag to show Map Graticule","Maps Orthographic","",k);this.S4("mapGraticuleType","solid",["dashed","solid"],"Map Graticule type","Maps Orthographic","",k);c="Maps Leaflet";this.Wy(c,"Map leaflet properties used in map visualizations","Map","Map Graphs",true);this.lj("useLeaflet",false,"Flag to use leaflet",c,"",k);this.gl("leafletAlpha",0.7,"Transparency for leaflet layers",c,"",k);this.gl("leafletZoomAlphaColor",6,"Zoom level before turning transparent the leaflet layers",c,"",k);this.S4("leafletTileType","street",["street","terrain","labels","satellite"],"Leaflet tile type",c,"",k);c="Meter Graphs";this.Wy(c,"General parameters in meter graphs","Meter","Meter Graphs",true);this.S4("meterType","gauge",["gauge","speedometer","vertical","horizontal","state","digital","number"],"Type of meter. ",c,"",k);this.S4("meterTopology","auto",["auto","grid","horizontal","vertical"],"Topology set up for the meters",c,"",k);this.OS("meterNeedle",b,"Meter Needle Color",c,"",k);this.OS("meterBackground","rgb(229,229,229)","Meter Background Color",c,"",k);this.Xt("meterThickness",50,"Thickness in pixels for the vertical, horizontal and state meters",c,"",k);c="Network Graphs";this.Wy(c,"General parameters used in networks","Network","Network Graphs",true);this.lj("calculateLayout",true,"Flag to force or not to calculate the network layout",c,"",k);this.lj("networkFreeze",false,"Flag to prevent autoscaling for the network layout. Useful when images are part of the network",c,"",k);this.Xt("networkMaxIterations",15,"Number of iterations to separate subnetworks",c,"",k);this.lj("networkFreezeOnLoad",false,"Flag to prevent autoscaling for the network layout after loading. Useful when images are part of the network",c,"",k);this.lj("preScaleNetwork",false,"Flag to prescale or not the network. This is an aesthetic parameter to make the graph look nicer... Sometimes..",c,"",k);this.lj("ignoreEventlessOrder",false,"Flag to render all nodes at one time rather that rendering first the eventless nodes and then the non-eventless nodes",c,"",k);this.od("subNetworks",false,"Array to keep independent networks",c);this.S4("networkLayoutType","forceDirected",["forceDirected","circular","radial","cola"],"Type of network layout",c,"",k);this.YP("networkRoot",false,"Node Id of the network root",c,"",k);this.lj("isNetworkMetrics",false,"Flag to calculate all network metrics: betweenness, closeness, eccentricity and degree",c,"",k);this.TO("NetworkRadialLayout",false,"radial layout wire",c,"",k);this.lj("is3DNetwork",false,"Flag to create or not a 3D network",c,"",k);this.lj("networkNodesOnTop",true,"Flag to draw the nodes on top of edges in the networks. Useful for very populated netwrok graphs. When is set to true all the edges will be in the background",c,"",k);this.lj("moveParentsWithChildren",false,"Flag to make parents move when a child is moved",c,"",k);this.oi("highlightNode",[],"Name of nodes in the data.nodes object to highlight",c,"",k);this.OS("nodeHighlight","rgb(255,0,0)","highlighted nodes",c,"",k);this.Xt("showNodeNameThreshold",50,"Thereshold used to set the limit to hide or display the name of nodes in a network. If the number of nodes exceed this thereshold then the name will not be shown",c,"",k);this.Xt("showNodeNameSizeThreshold",20,"Thereshold used to set the limit to hide or display the name of nodes in a network based on the size of the node. If the number of node size exceed this thereshold then the name will be shown",c,"",k);this.Xt("nodeSize",15,"Approximate pixels for the size of the nodes in the network. Automatically adjusted depending on the numebr of nodes in the network",c);this.gl("nodeSizeScaleFactor",1,"Scaling factor for increasing size of all nodes in the network",c,"",k);this.OS("edge",b,"edges",c,"",k);this.Xt("edgeThickness",1,"Default thickness for the edges in the networks",c);this.gl("edgeSeparationFactor",1,"Factor to adjust the separation between the edge and the node in the networks",c,"",k);this.S4("labelNodePosition","auto",["auto","center","top","right","bottom","left"],"Default position for the node label",c,"",k);this.PF("node","",false,11,1,"center","middle",0,8,"node","Network Graphs","",k);this.OS("node","rgb(245,245,245)","nodes",c,"",k);this.YP("networkVendor",false,"Network vendor",c,"",k);this.S4("networkProgressBarPosition","bottom",["none","bottom","center","top"],"Position for the progress bar",c,"",k);c="Network Algorithm Parameters";this.Wy(c,"General parameters used in the layout algorithms for networks","Network","Network Graphs",true);this.gl("networkConvergenceThreshold",0.05,"Threshold for the convergence of the network",c,"",k);this.S4("attractiveForceFunction","square",["square","cubic","log","pow","sqrt"],"Type of function to apply when calculating attractive force in forceDirected network layouts. Fruchterman-Reingold uses square while Eades uses log",c,"",k);this.S4("repulsiveForceFunction","square",["square","cubic","log","pow","sqrt"],"Type of function to apply when calculating repulsive force in forceDirected network layouts. Fruchterman-Reingold uses square while Eades uses log",c,"",k);this.lj("useBarnesHutSimulation",false,"Flag to use Barnes-Hut simulation",c,"",k);this.lj("networkDisjoint",true,"Flag to use positioning forces rather than centering forces. Applicable only to force directed layouts that contain multiple subnetworks",c,"",k);this.gl("networkSpeed",0.1,"Network Speed",c,"",k);this.gl("networkGravity",0.75,"Network Gravity",c,"",k);this.Xt("networkSpringLength",35,"Ideal length for links (springs in physical model)",c,"",k);this.gl("networkSpringCoeff",0.0008,"Hooks law coefficient. 1 - solid spring",c,"",k);this.gl("networkRepulsion",-1,"Coulombs law coefficient. Its used to repel nodes thus should be negative if you make it positive nodes start attract each other",c,"",k);this.gl("networkTheta",0.8,"Theta coefficient from Barnes Hut simulation. Ranged between (0, 1). The closer its to 1 the more nodes algorithm will have to go through. Setting it to one makes Barnes Hut simulation no different from brute-force forces calculation (each node is considered)",c,"",k);this.gl("networkDragCoeff",0.09,"Drag force coefficient. Used to slow down system, thus should be less than 1. The closer it is to 0 the less tight system will be",c,"",k);this.Xt("networkTimeStep",20,"Default time step (dt) for forces integration",c,"",k);this.oi("barnesHutUpdateQueue",[],"Barnes Hut Queue for performance and avoid Javascript GC",c);this.oi("barnesHutNodesCache",[],"Barnes Hut node cache for performance and avoid Javascript GC",c);this.Xt("barnesHutNodesCacheCurrent",0,"Barnes Hut idex for node cache for performance and avoid Javascript GC",c);c="Network Cola Algorithm Parameters";this.Wy(c,"General parameters used in the cola layout algorithm for networks","Network","Network Graphs",true);this.Xt("networkColaLinkDistance",20,"Ideal length for links",c,"",k);this.lj("networkColaAvoidOverlaps",true,"Flag to avoid overlaps of nodes in the cola network",c,"",k);this.lj("networkColaHandleDisconnected",true,"Flag to handle disconnected nodes in the cola network",c,"",k);this.gl("networkColaConvergenceThreshold",0.01,"Threshold for the convergence of the cola network",c,"",k);this.gl("networkColaGroupCompactness",0.000001,"Compactness for the groups in the cola network",c,"",k);this.Xt("networkColaSymmetricDiffLinkLengths",5,"Symmetric difference for the link lengths in the cola network",c,"",k);this.gl("networkColaJaccardLinkLength",false,"Ideal length foreach link based on the graph structure around that link. You can use this to create extra space around hub-nodes in dense graphs",c,"",k);this.gl("networkColaJaccardLinkLengthDefault",1,"Default length foreach link based on the graph structure around that link. You can use this to create extra space around hub-nodes in dense graphs",c,"",k);this.S4("networkColaFlowLayoutAxis",false,[false,"x","y"],"Causes constraints to be generated such that directed graphs are laid out either from left-to-right or top-to-bottom. A separation constraint is generated in the selected axis for each edge that is not involved in a cycle",c,"",k);this.gl("networkColaFlowLayoutSeparation",10,"Causes constraints to be generated such that directed graphs are laid out either from left-to-right or top-to-bottom. A separation constraint is generated in the selected axis for each edge that is not involved in a cycle",c,"",k);this.Xt("networkColaStartUnconstrainedIterations",0,"Number of iterations to run unconstrained",c,"",k);this.Xt("networkColaUserConstraintIterations",0,"Number of user iterations to run unconstrained",c,"",k);this.Xt("networkColaAllConstraintsIterations",0,"Number of iterations to run all constraints",c,"",k);this.Xt("networkColaGridSnapIterations",0,"Number of iterations to run grid snap",c,"",k);this.lj("networkColaKeepRunning",true,"Flag to keep running the cola network",c,"",k);this.lj("networkColaCenterGraph",true,"Flag to center the cola network",c,"",k);c="Network Node and Edge Attributes";this.Wy(c,"General parameters used for nodes and edges in networks","Network","Network Graphs",true);this.YP("colorNodeBy",false,"Name of the attribute to color the nodes",c,"",k);this.YP("shapeNodeBy",false,"Name of the attribute to shape the nods",c,"",k);this.YP("sizeNodeBy",false,"Name of the attribute to size the nodes",c,"",k);this.YP("patternNodeBy",false,"Name of the attribute to pattern the nodes",c,"",k);this.YP("colorEdgeBy",false,"Name of the attribute to color the edges",c,"",k);this.YP("sizeEdgeBy",false,"Name of the attribute to size the edges",c,"",k);this.gl("minEdgeSize",0,"Number of pixels to add to the minimum thickness for the edges when the edges are sized by a property. Should be a value between 0 and 1.5",c,"",k);this.gl("maxEdgeSize",10,"Thickness for the edges when the edges are sized by a property. Should be a value between 10 and 20",c,"",k);c="Network Communities";this.Wy(c,"General parameters used in network communities","Network","Network Graphs",true);this.TO("NetworkCommunities",false,"network communities",c,"",k);this.lj("calculateNetworkCommunities",true,"Flag to calculate the network communities using the jLouvain algorithm. If this flag is false the property community and communityColor for each node will need to be provided, otherwise all nodes will belong to a single community",c,"",k);this.lj("coordinateNetworkConvexHullCommunityColor",false,"Flag to coordinate colors of the nodes with convex hull for the network communities",c,"",k);this.gl("hullScale",1.25,"Scaling factor for extension of the hulls in the network communities",c,"",k);this.Xt("networkCommunities",null,"Number of network communities",c);this.oi("networkConvexHulls",[],"Array for the Network community convex hull property object",c);c="Oncoprint Graphs";this.Wy(c,"General parameters for oncoprints","Heatmap","Heatmap Graphs",true);this.lj("isOncoprint",false,"Flag to draw an oncoprint",c);this.YP("oncoprintCNA",false,"String to identify the data object to use to draw the copy number alterations; that is the amplifications (which will be colored red) and deletions (which will be colored blue). It MUST be a file with only two categorical levels",c,"",k);this.YP("oncoprintMUT",false,"String to identify the data object to use to draw the mutations. For example missense, non-synonymous, truncating, etc. Each level will be colored in a shade of green",c,"",k);this.lj("oncoprintHeatmapSwitch",false,"Flag to switch to Oncoprint or Heatmap visualization. Requieres data in the data object",c,"",k);this.lj("oncoprintNoAlterations",true,"Flag to switch to show variables and samples without any alterations",c,"",k);this.lj("oncoprintColSummary",false,"Flag to show column summary in oncoprints",c,"",k);this.lj("oncoprintRowSummary",false,"Flag to show row summary in oncoprints",c,"",k);this.TO("HeatmapOncoprint",false,"heatmap along with the oncoprint",c,"",k);this.S4("oncoprintHeatmapPosition","bottom",["right","bottom","left","top"],"Position for the heatmap in the oncoprint",c,"",k);c="Parallel Coordinates Graphs";this.Wy(c,"General parameters in Parallel Coordinates Graphs","ParallelCoordinates","Parallel Coordinates Graphs",false);this.oi("parallelCoordinates",[],"Array used to store and handle a parallel coordinates plot",c);c="Pie Charts";this.Wy(c,"General parameters in pie charts","Pie","Pie Charts",true);this.S4("pieType","separated",["separated","solid"],"Position for the pices of the pie",c,"",k);this.Xt("pieSegmentPrecision",0,"Number of decimals for values in the Pie charts",c,"",k);this.Xt("pieSegmentSeparation",1,"Length in pixels for the separation of the pieces of the pie charts",c,"",k);this.S4("pieSegmentLabels","inside",["inside","outside"],"Location for the values in the pie charts",c,"",k);this.S4("pieLabelType","percentage",["percentage","value"],"Pie label type to show the percentage of the slice or the actual number",c,"",k);this.gl("maxPieSectors",20,"Max pie sectors. After that number the sectors will be put in a sector named other",c,"",k);this.TO("PieValues",true,"values for the pie",c,"",k);this.TO("PieSampleLabel",true,"sample label when plotting multiple pies",c,"",k);this.gl("startPieSectors",270,"Starting degrees for pie sectors. 0 is equivalent to 3:00 oclock",c,"",k);this.gl("pieInnerRadius",0,"Percentage of the radius in the pies to remove to make a donut. It must be a number between 0 to 1",c,"",k);this.oi("pieColors",[],"Pie Colors. Defaults to the parameter colors",c,"",k);c="Quantile Regression Plots";this.Wy(c,"Parameters used to create Quantile Regression plots in 2d scatter plots","Scatter2D","Quantile Plots",true);this.oi("quantiles",["0.25","0.5","0.75"],"Array with quantiles to use in quantile regression plots",c,"",k);this.TO("QuantileRegressionFit",false,"Quantile Regression fit in Scatter2D plots",c,"",k);c="Ridgeline Plots";this.Wy(c,"Parameters used to create ridgeline plots in 1d and 2d scatter plots","Scatter2D","Ridgeline Plots",true);this.gl("ridgelineScale",1.5,"Scale for ridgeline",c,"",k);this.lj("ridgelineViolin",false,"Flag to use a violin to calculate the ridgeline plot",c,"",k);c="Sankey Diagrams";this.Wy(c,"General parameters in sankey diagrams","Sankey","Sankey Diagrams",true);this.Xt("sankeyNodeWidth",30,"Width for the Sankey nodes",c,"",k);this.Xt("sankeyNodePadding",8,"Padding between the Sankey nodes",c,"",k);this.Xt("sankeyIterations",32,"Number of iterations for the Sankey diagram. Stting iterations to zero will not reorder the nodes",c);this.S4("sankeySource",false,[false],"Name of a sample annotation to use as source in the sankey diagrams",c,"",k);this.S4("sankeyTarget",false,[false],"Name of a sample annotation to use as target in the sankey diagrams",c,"",k);this.oi("sankeyAxes",[],"Axes to include in the alluvial plots. It must sample annotations of the string type in the x object",c,"",k);this.OS("sankeyNodes",false,"sankey nodes",c,"",k);this.OS("sankeyLinks","rgba(204,204,204,0.66)","sankey lines (links)",c,"",k);this.OS("sankeyOutline",n,"sankey outline",c,"",k);this.PF("sankeyText","",b,11,1,"center","middle",90,0,"sankey diagram labels",c,"",k);this.ZO("sankeyText",true,"labels in the Sankey diagrams",c,"",k);this.PF("sankeyTitle","",b,11,1,"center","middle",0,0,"sankey diagram titles",c,"",k);this.ZO("sankeyTitle",true,"titles in the Sankey diagrams",c,"",k);this.lj("sankeyTextAuto",true,"Flag to adjust the text orientation and the visibility for the labels in the Sankey diagrams",c,"",k);this.lj("sankeyTextInside",true,"Flag to draw the text of the sankey labels inside the plot. It is only applicable when sankeyTextAuto is false",c,"",k);c="Scatter Plots";this.Wy(c,"General parameters in scatter plots","ScatterGraphs","Scatter Plots",true);this.S4("scatterType",false,[false,"line","bar","dot","area","image","lineImage","lineStep","boxplot","visium","manhattan","manhattanCNV","bin2d","polygon","stream"],"Type of scatter plot",c,"",k);this.lj("isBumpPlot",false,"Flag to create a Bump plot",c,"",k);this.TO("ScatterLineOriginalData",false,"observed data points in scatter plots with scatter type line",c,"",k);this.lj("scatterContext",false,"Flag to use Scatter2D when the graphType is not but the scatterType is line, bar, dot, area or boxplot",c);this.gl("scatterLineAlpha",1,"Transparency applied to lines in scatter plots",c,"",k);this.gl("scatterPointAlpha",1,"Thickness applied to data points in scatter plots",c,"",k);this.gl("groupingFactorWindow",false,"The width for the data when grouping in Scatter2D plots. This is the analogous parameter to cut_width in R. It defaults to a fifth of the data range. The scatterType must be boxplot to take this parameter into effect",c,"",k);this.OS("function",b,"function plots",c,"",k);this.OS("scatterDataPoints",b,"data points in scatter plots",c,"",k);this.TO("DataLabels",false,"data labels in scatter plots",c,"",k);this.lj("isDataLabels",false,"Flag to put a background in data labels",c,"",k);this.lj("isDataLabelsBackgroundColor",false,"Flag to use the color in the colorDataLabels as a background in data labels",c,"",k);this.No("dataLabelBackground",w,b,0.5,"solid","data labels background","Scatter Plots","",k);this.lj("scatterAxesEqual",false,"Flag to keep same range in both axes",c,"",k);this.Xt("scatterOutlineThreshold",50000,"Maximum number of data points before skipping plotting their outline but only the fill color",c,"",k);c="Scatter Plot Matrix";this.Wy(c,"Parameters used to create a matrix of 2d scatter plots","Scatter2D","Scatter Plots",true);this.S4("scatterPlotMatrix",false,[true,false],"Could be a boolean to plot a matrix of 2D scatterplots or a sample annotation to color and segregate the plots",c,"",k);this.S4("scatterPlotMatrixType","both",["both","upper","lower","correlation","correlationHistogram","correlationDensity","all","first"],"Type for the matrix of 2D scatterplots. Draw either in both panels, upper only or lower only. Show any combination of correlation, histogram, density and variability (boxplots). Also specify whether to use all versus all or only the first data set",c,"",k);this.TO("ScatterPlotMatrixLabels",false,"labels in the scatter plot matrix",c,"",k);c="Stream Plots";this.Wy(c,"General parameters in scatter plots","Scatter2D","Stream Plots",true);this.S4("scatterStreamType","mirror",["mirror","ridge","proportional"],"Type of stream scatter plot",c,"",k);this.gl("scatterStreamBandwidth",0.75,"Scatter stream bandwidth. Tensor for the wiggles of the stream wiggles. A vaulue between 0 and 1",c,"",k);this.Xt("scatterStreamNumber",1000,"Number of values for the wiggles",c,"",k);this.gl("scatterStreamExtraSpan",0.01,"Scatter stream extra extension for the wiggles. A vaulue between 0 and 1 as in percent",c,"",k);this.S4("scatterStreamTrueRange","both",["both","min_x","max_x","none"],"Expand the X axis",c,"",k);this.oi("scatterStreamWiggles",[],"Order for the streamgraph wiggles",c,"",k);c="Swimmer Graphs";this.Wy(c,"General parameters in swimmer graphs","Bar","",false);this.S4("swimHigh",false,[false],"Variable to use in Swimmer plot. Defaults to the first variable in the data set. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/",c,"",k);this.S4("swimStart",false,[false],"Variable to use in Swimmer Plot. Defaults to the second variable in the data set. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/",c,"",k);this.S4("swimEnd",false,[false],"Variable to use in Swimmer Plot. Defaults to the third variable in the data set. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/",c,"",k);this.S4("swimStatus",false,[false],"Name of sample annotation to use in Swimmer Plot. Defaults to Status. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/",c,"",k);this.S4("swimHighCap",false,[false],"Name of sample annotation to use in Swimmer Plot. Defaults to High Cap. See https://blogs.sas.com/content/graphicallyspeaking/2014/06/22/swimmer-plot/",c,"",k);c="Tag Cloud";this.Wy(c,"General parameters used in tag clouds","TagCloud","Tag Cloud",true);this.Xt("tagCloudTextWeightFactor",1,"Factor weight for text in tag cloud visualizations",c,"",k);this.Xt("tagCloudTextGridSize",8,"Size for the grid in text tag cloud visualizations",c,"",k);this.gl("tagCloudTextEllipticity",0.65,"Ellipticity for the for text in tag cloud visualizations",c,"",k);this.gl("tagCloudTextRotateRatio",0.1,"Ratio for rotation of text in cloud visualizations",c,"",k);this.S4("tagCloudShape",false,[false,"circle","cardioid","diamond","square","triangle","triangle2","pentagon","star"],"Shape for the tag cloud",c,"",k);this.lj("tagCloudMask",false,"Flag to add a shadow for the selected shape",c,"",k);this.oi("tagCloudGridPoints",[],"Array to keep state of the used space in the tag cloud visualization",c);c="Trees";this.Wy(c,"General parameters in trees","Tree","Tree Graphs",true);this.Xt("treeNodeSize",5,"Size for the Tree nodes",c);this.Xt("treeNodeId",0,"Id for the nodes in the tree",c);this.gl("treeNodeSizeScaleFactor",1,"Scale factor to adjust the size of tree nodes",c,"",k);this.S4("treeLabelAlign","center",["left","center","right"],"Alignment for labels the tree diagrams",c,"",k);this.OS("treeLink","rgba(204,204,204,0.66)","tree lines (links)",c,"",k);this.OS("treeNodeOutline","#0ab0db","tree node outline",c,"",k);this.Xt("treeLinkWidth",1,"Width for the Tree lines",c,"",k);this.lj("treeInverted",false,"Flag to plot the tree inverted",c,"",k);this.S4("treeType","normal",["bracket","circular","normal"],"Type of tree layout",c,"",k);this.lj("treeClickDisable",false,"Flag to disable clicking in tree plots",c,"",k);c="Tree Bracket";this.Wy(c,"General parameters in tree brackets","Tree","Tree Graphs",true);this.gl("treeBracketFactor",0.5,"Proportion of the tree bracket to use",c,"",k);this.gl("treeBracketLengthFactor",4,"Factor to extend the length of the tree node",c,"",k);c="Treemap Graphs";this.Wy(c,"General parameters for treemaps","Treemap","Treemap Graphs",true);this.Xt("treemapBorderWidth",3,"Width for the treemap border",c,"",k);this.OS("treemapBorder","rgba(204,204,204,0.33)","treemap header and border",c,"",k);c="UpSet Plots";this.Wy(c,"General parameters for upset","Heatmap","UpSet Plots",true);this.lj("isUpSet",false,"Flag to draw an upset plot",c);this.Xt("nUpSets",5,"Number of sets to draw",c,"",k);this.Xt("nUpSetIntercepts",40,"Number of intercepts to draw",c,"",k);this.oi("upSetSets",[],"Array containing the names of the sets to include",c,"",k);this.oi("upSetIntercepts",[],"Array containing the names of the intercepts to include. Sets must be separated by &&",c,"",k);this.OS("upsetShade","rgb(159,159,159)","row shading in matrix",c,"",k);this.gl("upsetShadeAlpha",0.1,"Transparency of shading in matrix",c,"",k);this.gl("upsetMatrixDotAlpha",0.2,"Transparency of the empty intersections points in the matrix",c,"",k);this.OS("upsetMatrix","rgb(59,59,59)","the intersection points",c,"",k);this.OS("upsetMainBar","rgb(59,59,59)","the main bar plot",c,"",k);this.OS("upsetSetsBar","rgb(59,59,59)","set bar plot",c,"",k);this.gl("upsetPointSizeFactor",1,"Adjust the size of points in matrix plot",c,"",k);this.gl("upsetLineSizeFactor",1,"Adjust width of lines in matrix plot",c,"",k);this.gl("upsetMatrixPlotBarRatio",0.7,"Ratio between matrix plot and main bar plot",c,"",k);c="Venn Diagrams";this.Wy(c,"General parameters in Venn diagrams","Venn","Venn Diagrams",true);this.lj("vennLegendColors",false,"Flag to use the venn colors to use for the legends instead of the letters",c,"",k);this.Xt("vennGroups",4,"Number of groups in the Venn diagram",c,"",k);this.oi("vennCompartments",["A","B","AB","C","AC","BC","ABC","D","AD","BD","CD","ABD","ACD","BCD","ABCD"],"Name for the compartments in the the Venn diagrams",c);this.oi("vennColors",[],"Colors for the Venn bubles. If not specified the colors will be chosen from the colors array. Colors in this array need to be at least the same number of groups in the Venn diagram",c,"",k);c="Violin Plots";this.Wy(c,"General parameters in Boxplot Graphs","Boxplot","Boxplot Graphs",true);this.TO("ViolinBoxplot",false,"violin plot in boxplots",c,"",k);this.lj("violinTrim",true,"Flag to trim violin plots",c,"",k);this.S4("violinScale","width",["area","count","width"],"Type for scaling violin plots",c,"",k);this.TO("BoxplotIfViolin",false,"boxplots when violin plot are show. It does not affect anything unless violins are shown",c,"",k);this.gl("boxplotWidthRatioIfViolin",0.33,"A number between 0.1 and 1 to adjust the width of the boxplot when violins are shown. It does not affect anything unless violins are shown",c,"",k);this.gl("violinTransparency",0.4,"Fraction to adjust color transparency for the violins",c,"",k);this.OS("violin",false,"violins. If specified all the violins will have the assigned color; otherwise it will be automatically assigned",c,"",k);this.OS("violinBorder",b,"violin borders",c,"",k);this.TO("ViolinQuantiles",false,"quantile 0.25 and 0.75 in violin plots",c,"",k);c="Visium Plots";this.Wy(c,"General parameters in scatter plots","Scatter2D","Visium Plots",true);this.lj("visiumFlip",false,"Flag to invert the data in visium plots. ",c,"",k);this.lj("visiumPanning",false,"Flag to disallow panning in  visium plots. Dragging will always zoom",c,"",k);this.lj("visiumFixedAspectRatio",true,"Flag to fix aspect ratio for visium plots",c,"",k);c="Waterfall Graphs";this.Wy(c,"General parameters in waterfall graphs","Bar","Waterfall Graphs",true);this.OS("waterfallNet","rgb(153,153,153)","bars in end of the waterfall plot",c,"",k);this.OS("waterfallIncrease","rgb(10,176,219)","bars increasing in the waterfall plot",c,"",k);this.OS("waterfallDecrease","rgb(254, 105, 105)","bars decreasing in the waterfall plot",c,"",k);c="R";this.Wy(c,"Parameters associated with R","AllGraphs","",false);this.Wk("RdatasetsURL","https://raw.githubusercontent.com/neuhausi/Rdatasets/refs/heads/master/","URL for R objects",c);this.lj("loadRDatasets",false,"Flag to load R datasets from Github",c,"",k);this.Dm("Rdataset",{},"Object to hold the info for the R dataset loaded",c,"",k);c="cxplot";this.Wy(c,"General properties used in cxplot","AllGraphs","",false);this.Dm("aes",{},"Initial Configuration passed to cxplot when used in combination with ggplot",c,"",k);this.Dm("ggplot",{},"Initial ggplot configuration passed to cxplot",c,"",k);c="LLM";this.Wy(c,"Parameters associated with LLM","AllGraphs","",false);this.Wk("llmServiceURL","https://www.canvasxpress.org/cgi-bin/services.pl","URL for LLM service",c,"",k);this.S4("llmModel","gemini-2.0-flash-lite",["gemini-2.0-flash-lite","gemini-2.0-flash","gemini-1.5-flash","gemini-1.5-pro","gpt-4o-mini"],"Large language models are models that use deep learning algorithms to process large amounts of text. They are designed to understand the structure of natural language and to pick out meanings and relationships between words. These models are capable of understanding context, identifying and extracting information from text, and making predictions about a text content",c,"",k);this.gl("llmTopp",1,"A sampling technique with temperature, called nucleus sampling, where you can control how deterministic the model is. If you are looking for exact and factual answers keep this low. If you are looking for more diverse responses, increase to a higher value. If you use Top P it means that only the tokens comprising the top_p probability mass are considered for responses, so a low top_p value selects the most confident responses. This means that a high top_p value will enable the model to look at more possible words, including less likely ones, leading to more diverse outputs",c,"",k);this.gl("llmTemperature",0,"The lower the temperature, the more deterministic the results in the sense that the highest probable next token is always picked. Increasing temperature could lead to more randomness, which encourages more diverse or creative outputs. You are essentially increasing the weights of the other possible tokens. In terms of application, you might want to use a lower temperature value for tasks like fact-based QA to encourage more factual and concise responses. For poem generation or other creative tasks, it might be beneficial to increase the temperature value",c,"",k);this.gl("llmPresencePenalty",0,"The presence penalty also applies a penalty on repeated tokens but, unlike the frequency penalty, the penalty is the same for all repeated tokens. A token that appears twice and a token that appears 10 times are penalized the same. This setting prevents the model from repeating phrases too often in its response. If you want the model to generate diverse or creative text, you might want to use a higher presence penalty. Or, if you need the model to stay focused, try using a lower presence penalty",c,"",k);this.gl("llmFrequencyPenalty",0,"The frequency penalty applies a penalty on the next token proportional to how many times that token already appeared in the response and prompt. The higher the frequency penalty, the less likely a word will appear again. This setting reduces the repetition of words in the model response by giving tokens that appear more a higher penalty",c,"",k);this.gl("llmMaxNewTokens",1250,"The number of tokens the model generates by adjusting the max length. Specifying a max length helps you prevent long or irrelevant responses and control costs",c,"",k);this.S4("llmBehaviour","update",["append","update"],"Behaviour for the LLM when retriving new visualization",c,"",k);this.gl("llmIconTransparency",1,"Transparency for the LLM icon",c,"",k);this.Xt("llmIconSize",50,"Size for the LLM icon",c,"",k);this.YP("llmPrompt","","Default value for the prompt",c,"",k);this.YP("prompt",false,"String use to call the LLM from initialization",c,"",k);this.lj("llmUseDev",false,"Flag to use dev service",c,"",k);this.oi("llmStack",[],"Array to cache LLM questions",c,"",k);this.oi("llmHeader",[],"Header as array",c,"",k);this.lj("llmUseCopilot",false,"Flag to use copilot to help with the prompt",c,"",k);this.ZO("llmCodeExamples",false,"Flag to show the LLM code examples",c,"",k);this.lj("loadLLMDatasets",false,"Flag to load the LLM datasets from Website",c,"",k);this.Xt("llmCodeExamples",8,"Number of example to generate",c,"",k);this.Xt("llmCodeMaxSentences",8,"Maximum number of sentences to use in each example",c,"",k);c="Print";this.Wy(c,"General print properties used in all graphs","AllGraphs","",false);this.lj("cacheBase64",false,"Flag to cache image in meta data as Base64",c,"",k);this.S4("printType","download",["download","window"],"Type of printing when the camera icon in the UI is pressed. Download is to download the image while window is to save the image in a new browser window",c,"",k);this.Xt("printMagnification",1,"Print Magnification to produce High Definition images",c,"",k);this.lj("printThumbnail",false,"Flag to print thumbnail",c,"",k);this.YP("saveFilename",false,"Filename to use when downloading the canvas as an image or as json. If not specified. the filename will be based on the target id of the canvas. cX- + canvas.targetId + extension",c,"",k);c="Animations and Visualization Transitions";this.Wy(c,"Animation and visualization transition parameters","AllGraphs","",false);this.TO("Animation",true,"animation for the graphs",c,"",k);this.TO("Transition",false,"transitions for the graphs",c,"",k);this.Xt("transitionStep",30,"Steps for transition",c,"",k);this.Xt("transitionStaggering",10,"Steps for transitionioning data objects",c,"",k);this.S4("transitionFunction","easeInOutQuad",["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint"],"Easing function for the transition",c,"",k);this.YP("transitionSpeed","0.3s","String to be interpreted in the CSS transitions",c,"",k);c="Events";this.Wy(c,"Event parameters","AllGraphs","",false);this.lj("disableEvents",false,"Flag to disable all events",c,"",k);this.lj("disableCode",false,"Flag to disable showing the code",c,"",k);this.lj("disableMenu",false,"Flag to disable showing the menu on right clicks",c,"",k);this.lj("disableToolbar",false,"Flag to disable showing the toolbar",c,"",k);this.lj("disableTooltipCallout",false,"Flag to disable the tooltip callouts",c,"",k);this.lj("disableDataTable",false,"Flag to disable showing data table",c,"",k);this.lj("disableGrid",false,"Flag to disable showing grid",c,"",k);this.lj("disableChat",false,"Flag to disable chat with AI",c,"",k);this.lj("disableDataFilters",false,"Flag to disable showing data filters",c,"",k);this.lj("disableCustomizer",false,"Flag to disable the data explorer",c,"",k);this.lj("disableCanvas",false,"Flag to disable all canvas events",c,"",k);this.lj("disableDrag",false,"Flag to disable drag events in canvas",c,"",k);this.lj("disableKeys",false,"Flag to disable key binding events. This prevent some default browser shortcuts and it is system specific. Please see the Event section bellow",c,"",k);this.lj("disableShowShortcuts",true,"Flag to disable showing shortcuts",c,"",k);this.lj("disablePlusMinusKeys",true,"Flag to disable plus / minus key binding events",c,"",k);this.lj("disableUndoRedoKeys",true,"Flag to disable undo / redo key binding events",c,"",k);this.lj("disableDocument",false,"Flag to disable mousemove and mouseup in the document",c,"",k);this.lj("disableWindow",false,"Flag to disable resizing the canvas when the window is resized. ",c,"",k);this.lj("disableWheel",false,"Flag to disable wheel. ",c,"",k);this.lj("disableBeacon",false,"Flag to disable beacon. ",c,"",k);this.lj("disableCSSTransitions",false,"Flag to disable CSS transitions for all HTML elements. It will work for ALL the visualizations in the page",c,"",k);this.lj("playable",false,"Flag to make the plot playable if there are after rendering functions",c,"",k);this.lj("resizable",true,"Flag to disable resizing the canvas by dragging the mouse over the edges",c,"",k);this.lj("resizableX",true,"Flag to disable resizing the width of the canvas by dragging the mouse over the edges",c,"",k);this.lj("resizableY",true,"Flag to disable resizing the height of canvas by dragging the mouse over the edges",c,"",k);this.lj("movable",true,"Flag to disable moving the canvas by dragging the mouse from the move image in the toolbar",c,"",k);this.Xt("maxSubMenus",25,"Maximum number of submenus in the context menus",c,"",k);this.TO("PrimaryMenus",false,"primary menus in toolbar",c,"",k);this.lj("skipClick",false,"Flag to skip click events after a mouse down event in visualizations where there is a drag capabilities",c);this.Xt("infoTimeOut",3000,"Time in milliseconds to wait between updates for the mouse over info to show up",c,"",k);this.Xt("infoStartTime",new Date().getTime(),"Time in milliseconds to keep track of time",c);this.Xt("infoTimeIn",50,"Time in milliseconds to start showing info after a mouse over",c,"",k);this.lj("broadcast",true,"Flag to enable broadcasting to other canvasXpress objects in the page",c,"",k);this.YP("broadcastGroup",false,"Group Id for canvas to broadcast to. If not specified then it broadcasts to all canvases",c,"",k);this.TO("MousePositionOnDrag",true,"mouse position when dragging in relation to the zero coordinate (top-right) of the canvas",c,"",k);this.S4("toolbarType","under",["over","under","fixed"],"Toolbar type",c,"",k);this.Xt("toolbarSize",36,"Height for the toolbar in graphs",c,"",k);this.oi("toolbarItems",["Save","Chat","History","Table","Tabs","Explore","Lasso","Customize","Password","Maximize"],"Array containing the items in the top toolbar. All items included by default",c,"",k);this.oi("toolbarCodes",[],"Array containing the items in the left toolbar for language code. Options are: JSON, R, Python, Jupyter, Streamlit, Shiny, JSFiddle, CodePen. Leave empty to disable",c,"",k);this.oi("toolbarFonts",[],"Array containing the items in the right toolbar for font families. Some examples are: American Typewriter, Andale Mono, Arial, Bradley Hand, Comic Sans MS, Courier, Monaco, Optima, Times New Roman, Trebuchet MS. Leave empty to disable",c,"",k);this.oi("toolbarSchemes",[],"Array containing the items in the bottom toolbar for color schemes. Some examples are: Economist, GGPlot, Excel, PaulTol, BlackAndWhite, Solarized, Stata, Tableau, GGBlanket, CanvasXpress. Leave empty to disable",c,"",k);this.lj("lazyLoad",false,"Flag to load canvas only if shown in viewport",c,"",k);this.YP("hoverTemplate",false,"HTML string to use as template for the hover info",c,"",k);this.YP("hoverTemplate2",false,"HTML string to use as template for the second hover info",c,"",k);this.oi("fullscreenExclude",[".navbar",".cx-example-tools"],"Array of element to exclude from full screen mode",c,"",k);c="Grey Out";this.Wy(c,"General grey out properties used in all graphs","AllGraphs","",false);this.lj("highlightGreyOut",false,"Flag to add a grey overlay to the entire graph to create a subtle background effect. This ensures that when an element is highlighted on mouseover, it stands out with greater contrast and clarity",c,"",k);this.gl("highlightGreyOutTransparency",0.67,"The proportion of grey overlay to apply across the entire graph",c,"",k);c="Tooltip";this.Wy(c,"Tooltip parameters","AllGraphs","",false);this.gl("tooltipTransparency",null,"Transparency for the tooltip",c,"",k);this.OS("tooltipFont",false,"Color for the tooltip text if specified",c,"",k);this.OS("tooltipBackground",false,"Background color for the tooltip if specified",c,"",k);this.OS("tooltipBorder",false,"Border color for the tooltip if specifies",c,"",k);c="Data Selection";this.Wy(c,"Parameters used to select data in all visualizations","AllGraphs","Core",true);this.S4("selectionMode","highlight",["highlight","ghost","name","filter"],"Mode use to highlight selected data points in visualizations",c,"",k);this.OS("selection","rgb(255,0,0)","The color used for selected data points when selection mode is to be highlight",c,"",k);this.S4("selectionMetadata",false,[false],"Matadata (or factor) to use to display selected data points instead of the variable name. This metadata has to be in the data.z object. This property is only valid when the selectionMode is name and the visualization is a Scatter plot",c,"",k);this.oi("selectedDataPoints",[],"Variable / Sample names of data points (in the data object) to initially select",c,"",k);c="Zooming, Panning and Resizing";this.Wy(c,"Parameters associated with zooming, panning and resizing events","AllGraphs","",false);this.gl("zoom",1,"Zoom factor for the networks. A number greater than zero",c,"",k);this.gl("zoomGlobal",1,"Cumulative zoom factor for the networks",c);this.gl("zoomStep",0.2,"Percentage step for zooming networks and genome panel",c,"",k);this.lj("zoomScale",true,"Flag to scale nodes and edges in networks with zoom and data points in 3D scatter plots",c,"",k);this.lj("zoomVariablesDisable",false,"Flag to disable zooming of variables with mouse wheel in Heatmaps",c,"",k);this.lj("zoomSamplesDisable",false,"Flag to disable zooming of samples with mouse wheel in Heatmaps",c,"",k);this.lj("zoomXDisable",false,"Flag to disable zooming of x axis with mouse wheel in Scatter plots",c,"",k);this.lj("zoomYDisable",false,"Flag to disable zooming of y axis with mouse wheel in Scatter plots",c,"",k);this.lj("zoomDisable",false,"Flag to disable zooming in all plots",c,"",k);this.gl("panningX",0,"Number of unit to pan the network in the X dimension",c,"",k);this.gl("panningY",0,"Number of unit to pan the network in the Y dimension",c,"",k);this.gl("panningGlobalX",0,"Cumulative number of unit to pan the network in the X dimension",c);this.gl("panningGlobalY",0,"Cumulative number of unit to pan the network in the Y dimension",c);this.gl("panningStep",0.2,"Percentage step for panning networks",c,"",k);c="Motion Charts";this.Wy(c,"General parameters in scatter plots","Scatter2Graphs","",false);this.Xt("motionWidth",300,"Size in pixels for the motion widget when used to reproduce user customizations",c,"",k);this.PF("motionCurrent","","rgb(0,0,0,0.3)",60,1,"center","middle",0,5,"motion charts",c,"",k);c="HTML Widgets";this.Wy(c,"General parameters for filtering with external HTML widgets","AllGraphs","HTML Widgets",true);this.S4("htmlWidget",false,[false],"Name of a variable / sample annotation to filter the data with an external HTML widget. Changes are not reflected when the customizer is open",c,"",k,"getXZData2");this.S4("htmlWidgetType","auto",["auto","radio","dropdown","range"],"Type of HTML widget to use. Changes are not reflected when the customizer is open",c,"",k);this.Xt("htmlWidgetHeight",120,"Height in pixels for the HTML widget. Changes are not reflected when the customizer is open",c,"",k);c="Data UI Widgets";this.Wy(c,"Parameters associated with all data UI widgets","AllGraphs","HTML Widgets",false);this.S4("dataUIStyle","modern",["cx","stripped","modern","old","bms","rdc","ngs360"],"Style for the UI",c,"",k);this.OS("widgetsBackground","rgba(255, 255, 255, 0.95)","background all the UI widgets. It only applied if the dataUIStyle is set to false",c,"",k);this.OS("widgetsBase","rgb(83, 105, 255)","elements in all the UI widgets. It only applied if the dataUIStyle is set to false",c,"",k);this.OS("widgetsBorder","rgb(83, 105, 255)","border of all elements in all the UI widgets. It only applied if the dataUIStyle is set to false",c,"",k);this.gl("widgetsHoverTransparency",0.2,"Transparency for the elements in all the UI widgets when mouse overs. It only applied if the dataUIStyle is set to false",c,"",k);this.OS("widgetsAccent","rgba(83, 105, 255, 0.1)","accent elements in all the UI widgets. It only applied if the dataUIStyle is set to false",c,"",k);this.OS("widgetsContrast","rgb(83, 105, 255)","contrast elements in all the UI widgets. It only applied if the dataUIStyle is set to false",c,"",k);this.OS("widgetsStriped","rgba(83, 105, 255, 0.05)","stripe elements in the data table",c,"",k);this.OS("widgetsFont","rgb(34, 34, 34)","the elements in all the UI widgets. It only applied if the dataUIStyle is set to false",c,"",k);this.OS("widgetsIconClsA","#5369ff","class-a widget icons",c,"",k);this.OS("widgetsIconClsB","#292929","class-b widget icons",c,"",k);this.OS("widgetsIconClsC","#999999","class-c widget icons",c,"",k);this.OS("widgetsIconClsX","#ffffff","class-x widget icons",c,"",k);c="Data Customizer";this.Wy(c,"Parameters associated with data customizer","AllGraphs","",false);this.Xt("maxDataCustomizerEntries",10000,"Maximum number of samples or variables to display in the data customizer",c,"",k);this.S4("customizerSize","medium",["xsmall","small","midsmall","medium","large"],"Size for the customizer. Requires re-opening of customizer",c,"",k);this.lj("customizerEntriesAsList",true,"Flag to show entries in scrolling widgets as text. The default is to show them as icons-like",c,"",k);this.lj("customizerGraphMaximize",false,"Flag to maximize the graph when the customizer is called",c,"",k);c="Data Filters";this.Wy(c,"Parameters associated with filtering","AllGraphs","Filter",true);this.Xt("dataFilterWidth",300,"Size in pixels for the data filters",c,"",k);this.Xt("dataFilterMaxItems",12,"Maximum number of items in the data filter before it becomes a scroll box",c,"",k);this.S4("filterType","and",["and","or"],"Type for the filter. Can be and or or",c,"",k);this.S4("filterMode","hide",["hide","color"],"Mode for the legend filters. Can be set to hide the data using transparency or to color the data points with the missingDataColor",c,"",k);this.lj("filterSkipNullKeys",false,"Flag to bypass filtering when a key is non existent in the data objects",c,"",k);this.lj("filterSkipNullValues",false,"Flag to bypass filtering when a value is null",c,"",k);this.Y4("filterVarBy",{cases:[],comp:[],op:[],type:[],value:[]},"Filter variables by their annotation included in the data.z object used in one dimensional plots. Used in the CanvasXpress UIs",c,"",k);this.Y4("filterSmpBy",{cases:[],comp:[],op:[],type:[],value:[]},"Filter samples by their annotation included in the data.x object used in one dimensional plots. Used in the CanvasXpress UIs",c,"",k);this.Y4("filterNodeBy",{cases:[],comp:[],op:[],type:[],value:[]},"Filter nodes by their properties used in network graphs. Used in the CanvasXpress UIs",c,"",k);this.Y4("filterEdgeBy",{cases:[],comp:[],op:[],type:[],value:[]},"Filter edges by their properties used in network graphs. Used in the CanvasXpress UIs",c,"",k);this.Y4("filterFeatureBy",{cases:[],comp:[],op:[],type:[],value:[]},"Filter features by their properties used in genome browser. Used in the CanvasXpress UIs",c,"",k);this.Y4("filterDataBy",{cases:[],comp:[],op:[],type:[],value:[]},"Filter data by their value in the data object used in oncoprints. Used in the CanvasXpress UIs",c,"",k);this.oi("filterData",[],"Array of arrays with filtering functions. Each function takes four parameters. The fisrt parameter is the type of filter. This could either of: var, smp, series, meta, x, y, z, data, network or guess (if not known). The second parameter is the key that usually correspond to a sample or variable factor name in the x or z object of the data. The third parameter is the operator to use which is one of: >, >=, <, <=, between, exact, like or not like and the four parameter is an array with the value or values that are needed for the corresponding evaluation. Here are some examples: [ x, class, exact, [ A ] ], [ guess, dose, between, [ 0.5, 2 ] ]",c,"",k);this.OS("toggleSwitchBackground","rgb(8, 122, 209)","toggle switch in the data filters",c,"",k);c="Data Table";this.Wy(c,"Parameters associated with the data table","AllGraphs","",false);this.Xt("dataTableColWidth",180,"Number of pixels for the width of cells in the data table",c,"",k);this.Xt("dataTableRowHeight",32,"Number of pixels for the height of cells in the data table",c,"",k);this.Xt("dataTableRowLines",1,"Number of lines in cells in the data table",c,"",k);this.S4("dataTableScrollDirection","auto",["auto","normal","inverted"],"Behavior for the scrollbars in the data table",c,"",k);this.ZO("dataTableOnSelect",false,"Flag to show data after selecting data in the plot",c,"",k);this.S4("dataTableNetwork","nodes",["nodes","edges"],"Show nodes or edges on data table",c,"",k);this.lj("dataTableAutoColumnWidth",false,"Flag to calculate the width of the columns based on the data",c,"",k);this.Dm("dataTableColProperties",{},"Properties for the cols in the data table. Key is the sample name and the value is the width in pixels",c,"",k);this.Dm("dataTableColAlignment",{},"Alignment for the cols in the data table. Key is the sample name and the value is the alignment",c,"",k);this.Dm("dataTableColFormat",{},"Format for the cols in the data table. Key is the sample name and the value is the format string using sprintf notation",c,"",k);this.oi("dataTableColHide",[],"Array to store the columns to hide in the data table",c,"",k);this.oi("dataTableColOrder",[],"Array to store the column sorting for the data table. It only applies to meta data and exclude variables or samples. Those not included willl be placed last",c,"",k);this.oi("dataTableColPin",[],"Array to store the columns to pin in the data table. Pinned columns will always be visible when scrolling horizontally",c,"",k);this.oi("dataTableRowGroups",[],"Array of group IDs for rows to display in the data table when data is grouped",c,"",k);this.YP("dataTableZeroHeader","","Name for the first column in the data table",c,"",k);this.YP("dataTableHeaderTemplate",false,"HTML string to use as template for the data table header info",c,"",k);this.lj("dataTableTransposed",true,"Flag to transpose the data in the data table",c,"",k);this.lj("dataTableGrouped",false,"Flag to group rows in the data table based on metadata",c,"",k);this.lj("dataTableColored",false,"Flag to color the data table",c,"",k);this.gl("dataTableColorTransparency",0.5,"Transparency for the background of the data table cells if colored",c,"",k);this.lj("dataTableStriped",true,"Flag to show the stripes in the data table rows",c,"",k);this.gl("dataTableStripeTransparency",0.05,"Transparency for the stripes in the data table using the base color for the UI widgets",c,"",k);this.OS("dataTableAccent","rgb(8, 122, 209)","the brand of the data table. Used wherever a non-neutral color is required. Selections, focus outlines and checkboxes use the accent color by default",c,"",k);this.OS("datatableBackground","rgb(255, 255, 255)","background of the data table",c,"",k);this.OS("dataTableBorder","rgb(8, 122, 209)","border of the data table",c,"",k);this.ZO("dataTableBanner",true,"Flag to show the banner in the data table",c,"",k);this.YP("dataTableBannerImage",false,"Image to brand the data table",c,"",k);this.OS("dataTableBannerBorder","rgb(215, 226, 230)","border of the data table banner",c,"",k);this.OS("dataTableBannerBackground","rgb(255, 255, 255)","background of the data table banner",c,"",k);this.PF("dataTableBannerText","","rgb(85, 91, 98)",13,1,"center","middle",0,5,"data table banner",c,"",k);this.ZO("dataTableToolbar",true,"Flag to show the toolbar with icons to connect to the graph interface in the data table",c,"",k);this.OS("dataTableToolbarBackground","rgb(255, 255, 255)","background of the data table toolbar",c,"",k);this.OS("dataTableToolbarBorder","rgb(215, 226, 230)","border of the data table toolbar",c,"",k);this.OS("dataTableHeaderBackground","rgb(255, 255, 255)","background of the data table headers",c,"",k);this.PF("dataTableHeaderText","","rgb(85, 91, 98)",13,1,"left","middle",0,5,"data table headers",c,"",k);this.ZO("dataTableRowNumbers",true,"Flag to show row numbers in the first column of data table",c,"",k);this.OS("dataTableCellBackground","rgb(255, 255, 255)","background of the data table cells excluding headers",c,"",k);this.OS("dataTableOddCellBackground","rgb(247, 248, 249)","background of the odd data table cells excluding headers",c,"",k);this.S4("dataTableCellBorders","rows",["all","none","rows","cols"],"data table cell borders",c,"",k);this.OS("dataTableCellBorder","rgb(215, 226, 230)","border of the data table cells",c,"",k);this.PF("dataTableCellText","","rgb(85, 91, 98)",13,1,"left","middle",0,5,"data table cells",c,"",k);this.OS("dataTableActiveCellBorder","rgb(124, 182, 226)","border of the active data table cell",c,"",k);this.ZO("dataTableStatus",true,"Flag to show the status div in the data table",c,"",k);this.OS("dataTableStatusBackground","rgb(255, 255, 255)","background of the data table status bar",c,"",k);this.OS("dataTableStatusBorder","rgb(215, 226, 230)","border of the data table status bar",c,"",k);this.PF("dataTableStatusText","","rgb(85, 91, 98)",13,1,"center","middle",0,5,"data table status bar",c,"",k);this.ZO("dataTablePagination",false,"Flag to show the pagination in the data table",c,"",k);this.Xt("dataTablePaginationSize",25,"Number of rows or columns to show per page in the data table when pagination is on",c,"",k);this.OS("dataTablePaginationBackground","rgb(255, 255, 255)","background of the data table pagination bar",c,"",k);this.OS("dataTablePaginationBorder","rgb(215, 226, 230)","border of the data table pagination bar",c,"",k);this.PF("dataTablePaginationText","","rgb(85, 91, 98)",13,1,"center","middle",0,5,"data table pagination bar",c,"",k);this.OS("dataTableCellHoverBackground","rgba(124, 182, 226, 0.2)","background of the data table cells when hovering",c,"",k);this.OS("dataTableRowHoverBackground","rgba(124, 182, 226, 0.2)","background of the row of the data table cells when hovering",c,"",k);this.Xt("dataTableStartCol",0,"Starting column in the data table",c);this.Xt("dataTableStartRow",0,"Starting row in the data table",c);this.Xt("dataTableTotalCols",null,"Total columns in the data table",c);this.Xt("dataTableTotalRows",null,"Total rows in the data table",c);this.Xt("dataTableCurrentPage",0,"Current page in the data table",c);this.Xt("dataTableMaxRows",10,"Maximum number of rows to display in the data table",c);this.Xt("dataTableMaxCols",25,"Maximum number of columns to display in the data table",c);c="Debug";this.Wy(c,"Debugging parameters","AllGraphs","",false);this.oi("errors",[],"Array containing benign errors produced when rendering canvasXpress",c);this.lj("debug",false,"Flag to turn on alerts",c,"",k);this.lj("debugWithArea",false,"Flag to render object areas when debugging",c,"",k);this.lj("verbose",false,"Flag to turn on/off verbose",c,"",k);this.lj("offline",false,"Flag to work offline",c,"",k);this.TO("Version",true,"version when mouse over top-left corner of the canvas",c,"",k);this.TO("Code",false,"code for the canvas",c,"",k);this.S4("codeType","params",["pretty","compact","tab","params"],"Output type for the JSON code",c,"",k)};this.us=function(){var a=this.u5(this.iconClsA,false,true);var b=this.u5(this.iconClsB,false,true);var c=this.u5(this.iconClsC,false,true);var x=this.u5(this.iconClsX,false,true);var q={cxtxa:"{f:none;s:"+a+";w:4px;}",cxa0:" {w:0px;f:"+a+";}",cxc0:"{w:0px;f:"+c+";}",cxa1:" {l:10;w:3px;f:none;s:"+a+";}",cxa:" {l:10;w:4px;f:none;s:"+a+";}",cxa2:"{l:10;w:1px;f:"+a+";s:"+a+";}",cxa3:"{l:10;w:1px;f:none;s:"+a+";}",cxb:"{l:10;w:4px;f:none;s:"+b+";}",cxb2:"{l:10;w:1px;f:"+b+";s:"+b+";}",cxb3:"{l:10;w:1px;f:none;s:"+b+";}",cxc:"{l:10;w:4px;f:none;s:"+c+";}",cxaa:"{s:"+a+";f:"+a+";}",cxbb:"{s:"+b+";f:"+b+";}",cxcc:"{s:"+c+";f:"+c+";}",cxab:"{s:"+a+";f:"+b+";}",cxac:"{s:"+a+";f:"+c+";}",cxbc:"{s:"+b+";f:"+c+";}",cxaw:"{l:10;w:3px;s:"+a+";f:#ffffff;}",cxbw:"{l:10;w:3px;s:"+b+";f:#ffffff;}",cxxx:"{w:15px;s:"+x+";f:none;}",cxblue:"{s:"+a+";w:5px;}"};for(var i in q){CanvasXpress.icons.classes[i]=q[i]}};this.zy=function(styl){var root=document.documentElement;var defs=CanvasXpress.styleDef;var getProp=function(p){return getComputedStyle(root).getPropertyValue(p)};var setProp=function(p,v){root.style.setProperty(p,v)};var setParams=function(t){if(styl&&defs[styl]){for(var i in defs[styl]){if(defs[styl][i]!==undefined){t[i]=defs[styl][i]}}}};this.red=getProp("--cx-color-red");this.blue=getProp("--cx-color-blue");this.green=getProp("--cx-color-green");this.yellow=getProp("--cx-color-yellow");this.orange=getProp("--cx-color-orange");this.purple=getProp("--cx-color-purple");this.white=getProp("--cx-color-white");this.gray=getProp("--cx-color-gray");this.black=getProp("--cx-color-black");this.transparent=getProp("--cx-color-transparent");this.fontFamily=getProp("--cx-font-family");this.transparentBorder=getProp("--cx-border-transparent");setParams(this);this.borderWidgets="1px solid "+this.widgetsBorderColor;this.us();setProp("--cx-font-size",this.fontWidgetsSize);setProp("--cx-font-color",this.fontWidgetsColor);setProp("--cx-color","normal "+this.fontWidgetsSize+" "+this.fontFamily);setProp("--cx-color-bold","bold "+this.fontWidgetsSize+" "+this.fontFamily);setProp("--cx-color-italic","italic "+this.fontWidgetsSize+" "+this.fontFamily);setProp("--cx-background-widgets-color",this.backgroundWidgetsColor);setProp("--cx-background-color",this.baseWidgetsColor);setProp("--cx-background-hover-color",this.hoverWidgetsColor);setProp("--cx-background-border-hover-color",this.iconClsX);setProp("--cx-background-accent-color",this.accentWidgetsColor);setProp("--cx-background-contrast-color",this.contrastWidgetsColor);setProp("--cx-border",this.borderWidgets);setProp("--cx-toggle-switch-background-color",this.toggleSwitchBackgroundColor);setProp("--cx-datatable-accent-color",this.dataTableAccentColor);setProp("--cx-datatable-border-color",this.dataTableBorderColor);setProp("--cx-datatable-banner-background-color",this.dataTableBannerBackgroundColor);setProp("--cx-datatable-banner-border-color",this.dataTableBannerBorderColor);setProp("--cx-datatable-banner-text-color",this.dataTableBannerTextColor);setProp("--cx-datatable-toolbar-background-color",this.dataTableToolbarBackgroundColor);setProp("--cx-datatable-toolbar-border-color",this.dataTableToolbarBorderColor);setProp("--cx-datatable-header-background-color",this.dataTableHeaderBackgroundColor);setProp("--cx-datatable-header-text-color",this.dataTableHeaderTextColor);setProp("--cx-datatable-cell-background-color",this.dataTableCellBackgroundColor);setProp("--cx-datatable-oddcell-background-color",this.dataTableOddCellBackgroundColor);setProp("--cx-datatable-cell-border-color",this.dataTableCellBorderColor);setProp("--cx-datatable-cell-text-color",this.dataTableCellTextColor);setProp("--cx-datatable-activecell-border-color",this.dataTableActiveCellBorderColor);setProp("--cx-datatable-status-background-color",this.dataTableStatusBackgroundColor);setProp("--cx-datatable-status-border-color",this.dataTableStatusBorderColor);setProp("--cx-datatable-status-text-color",this.dataTableStatusTextColor);setProp("--cx-datatable-pagination-background-color",this.dataTablePaginationBackgroundColor);setProp("--cx-datatable-pagination-border-color",this.dataTablePaginationBorderColor);setProp("--cx-datatable-pagination-text-color",this.dataTablePaginationTextColor);setProp("--cx-datatable-cell-hover-background-color",this.dataTableCellHoverBackgroundColor);setProp("--cx-datatable-row-hover-background-color",this.dataTableRowHoverBackgroundColor)};this.RW=function(){var fs=["fontSize","titleFontSize","subtitleFontSize","smpTitleFontSize","smpTextFontSize","varTitleFontSize","varTextFontSize","overlayTextFontSize","dataTextFontSize","legendTextFontSize","legendTitleFontSize","decorationsTextFontSize","xAxisTextFontSize","xAxisTitleFontSize","yAxisTextFontSize","yAxisTitleFontSize","zAxisTextFontSize","zAxisTitleFontSize","rAxisTextFontSize","rAxisTitleFontSize","nodeFontSize","trackNameFontSize","featureNameFontSize","sequenceFontSize"];for(var i=0;i<fs.length;i++){if(CanvasXpress.doc.P[fs[i]]){this[fs[i]]=Number(CanvasXpress.doc.P[fs[i]].D)}}this.Lg()};this.Lg=function(){this.font=this.fontStyle+" "+this.fontSize+"px "+this.fontName;this.titleFont=this.titleFontStyle+" "+this.titleFontSize+"px "+this.fontName;this.subtitleFont=this.subtitleFontStyle+" "+this.subtitleFontSize+"px "+this.fontName;this.citationFont=this.citationFontStyle+" "+this.citationFontSize+"px "+this.fontName;this.smpTitleFont=this.smpTitleFontStyle+" "+this.smpTitleFontSize+"px "+this.fontName;this.smpTextFont=this.smpTextFontStyle+" "+this.smpTextFontSize+"px "+this.fontName;this.varTitleFont=this.varTitleFontStyle+" "+this.varTitleFontSize+"px "+this.fontName;this.varTextFont=this.varTextFontStyle+" "+this.varTextFontSize+"px "+this.fontName;this.dataTextFont=this.dataTextFontStyle+" "+this.dataTextFontSize+"px "+this.fontName;this.overlayTextFont=this.overlayTextFontStyle+" "+this.overlayTextFontSize+"px "+this.fontName;this.legendTextFont=this.legendTextFontStyle+" "+this.legendTextFontSize+"px "+this.fontName;this.legendTitleFont=this.legendTitleFontStyle+" "+this.legendTitleFontSize+"px "+this.fontName;this.decorationsTextFont=this.decorationsTextFontStyle+" "+this.decorationsTextFontSize+"px "+this.fontName;this.stripTextFont=this.stripTextFontStyle+" "+this.stripTextFontSize+"px "+this.fontName;this.xAxisTextFont=this.xAxisTextFontStyle+" "+this.xAxisTextFontSize+"px "+this.fontName;this.xAxisTitleFont=this.xAxisTitleFontStyle+" "+this.xAxisTitleFontSize+"px "+this.fontName;this.yAxisTextFont=this.yAxisTextFontStyle+" "+this.yAxisTextFontSize+"px "+this.fontName;this.yAxisTitleFont=this.yAxisTitleFontStyle+" "+this.yAxisTitleFontSize+"px "+this.fontName;this.zAxisTextFont=this.zAxisTextFontStyle+" "+this.zAxisTextFontSize+"px "+this.fontName;this.zAxisTitleFont=this.zAxisTitleFontStyle+" "+this.zAxisTitleFontSize+"px "+this.fontName;this.rAxisTextFont=this.rAxisTextFontStyle+" "+this.rAxisTextFontSize+"px "+this.fontName;this.rAxisTitleFont=this.rAxisTitleFontStyle+" "+this.rAxisTitleFontSize+"px "+this.fontName;this.sankeyTitleFont=this.sankeyTitleFontStyle+" "+this.sankeyTitleFontSize+"px "+this.fontName;this.sankeyTextFont=this.sankeyTextFontStyle+" "+this.sankeyTextFontSize+"px "+this.fontName;this.motionCurrentFont=this.motionCurrentFontStyle+" "+this.motionCurrentFontSize+"px "+this.fontName;this.nodeFont=this.nodeFontStyle+" "+this.nodeFontSize+"px "+this.fontName;this.trackNameFont=this.trackNameFontStyle+" "+this.trackNameFontSize+"px "+this.fontName;this.featureNameFont=this.featureNameFontStyle+" "+this.featureNameFontSize+"px "+this.fontName;this.sequenceFont=this.sequenceFontStyle+" "+this.sequenceFontSize+"px "+this.fontName;this.topMarginalTextFont=this.topMarginalTextFontStyle+" "+this.topMarginalTextFontSize+"px "+this.fontName;this.bottomMarginalTextFont=this.bottomMarginalTextFontStyle+" "+this.bottomMarginalTextFontSize+"px "+this.fontName;this.leftMarginalTextFont=this.leftMarginalTextFontStyle+" "+this.leftMarginalTextFontSize+"px "+this.fontName;this.rightMarginalTextFont=this.rightMarginalTextFontStyle+" "+this.rightMarginalTextFontSize+"px "+this.fontName};this.sM=function(){if(this.meta.config.user){delete (this.meta.config.user.skipRender);for(var o in this.meta.config.user){if(this.isPivot){if(o=="groupingFactors"||o=="summaryType"){continue}}if(CanvasXpress.doc.P[o]&&CanvasXpress.doc.P[o].hasOwnProperty("T")){if(CanvasXpress.doc.P[o].T=="integer"||CanvasXpress.doc.P[o].T=="float"){this.meta.config.user[o]=this.meta.config.user[o]===null?null:Number(this.meta.config.user[o])}this[o]=this.meta.config.user[o]}else{this[o]=this.meta.config.user[o]}}this.Bg();if(String(this.scatterType).match(/line|bar|dot|area|boxplot/)&&!this.is3DPlot&&this.graphType!="Scatter3D"&&!this.isCxplot){this.scatterContext=this.graphType;this.graphType="Scatter2D"}}};this.B7=function(a){var o={};if(a){for(var i=0;i<a.length;i++){o[a[i]]=this[a[i]]}}this.lg();for(var i in o){this[i]=o[i]}};this.st=function(o,n){if(o){var p=this.TU(o);if(o.groupingFactors&&this.groupingFactors.length){if(!this.gS(o.groupingFactors,this.groupingFactors)){this.qO(!n)}}if(o.sortData){for(var i=0;i<o.sortData.length;i++){this.BF(o.sortData[i][0],o.sortData[i][1],o.sortData[i][2],!n,false,false,true)}o.sortData=[]}this.meta.config.user=o;for(var i in o){this[i]=o[i]}this.Bg();if(this.xAxisTime||this.yAxisTime||this.yAxis.length){this.Sx()}if(this.filterData&&this.filterData.length){for(var i=0;i<this.filterData.length;i++){this.nU(this.filterData[i][0],this.filterData[i][1],this.filterData[i][2],this.filterData[i][3],i==this.filterData.length-1?false:true)}}if(!n){this.x9({func:"updateConfig",par:[p,n]})}}};this.mh=function(o){if(o){for(var i in o){this[i]=o[i]}}};this.SC=function(a){var that=this;var o={};var k=CanvasXpress.config.sort();var skip={colors:true,dataTableTransposed:true,shapes:true,images:true,randomSeed:true,xAxisValues:true,xAxisValuesRaw:true,xAxisMinorValues:true,yAxisValues:true,yAxisValuesRaw:true,yAxisMinorValues:true,zAxisValues:true,zAxisValuesRaw:true,zAxisMinorValues:true};var cols={background:true,foreground:true};if(this.isTransformedData){o.isTransformedData=this.isTransformedData}for(var i=0;i<k.length;i++){var j=k[i];if(j.match(/FontSize$/)){continue}if(this.defaultThemeValues.hasOwnProperty(j)&&this.defaultThemeValues[j]==this[j]){continue}if(CanvasXpress.styleParams.hasOwnProperty(j)&&CanvasXpress.styleDef[this.dataUIStyle][j]==this[j]){continue}if(CanvasXpress.doc.P[j]&&CanvasXpress.doc.P[j].hasOwnProperty("D")){var d=j.match(/groupingFactors|segregate/)?[]:CanvasXpress.doc.P[j].D;if(skip.hasOwnProperty(j)){continue}var v=that[j]===undefined?false:that[j];if(typeof(v)=="object"){if(d=="[]"){d=[]}if(d=="{}"){d={}}if(v===null){if(d!=null){o[j]=v}}else{if(j=="sizes"){if(!this.gS(v,d.map(Number))){o[j]=v}}else{if(j=="colorSpectrum"||j=="colors"){var t=[];for(var c=0;c<v.length;c++){var tc=this.u5(v[c],false,true);if(tc){t.push(tc.toLowerCase())}}if(!this.gS(t,d)){o[j]=v}}else{if(j.match("filter")){if(!this.gS(v,d)){o[j]=v}}else{if(!this.gS(v,d)){o[j]=v}}}}}}else{if(j.match(/Color/)||cols.hasOwnProperty(j)){if(this.u5(v)!=this.u5(d)){o[j]=v}}else{if(d!=null&&d.toString().match(/false|true|null/)){if(j=="summaryType"&&v=="raw"){continue}else{if(v.toString()!=d.toString()){o[j]=v}}}else{if(v!=d){o[j]=v}}}}}}if(o.backgroundImage&&o.backgroundImage.match(/javascript:\/\//)){if(CanvasXpress.cacheImages[o.backgroundImage.split("//")[1]]){o.backgroundImageSrc=btoa(CanvasXpress.cacheImages[o.backgroundImage.split("//")[1]].replace("data:image/png;base64,",""))}}if(a){for(var i=0;i<a.length;i++){o[a[i]]=this[a[i]]}}o.graphType=this.graphType;return o};this.T5=function(){return this.meta.config.user};this.I1=function(o){if(o){for(var i in o){var e=o[i];e=e.substring(10,e.length-2).replace(/&quot;/g,'"');this.events[i]=eval("("+e+")")}}};this.e0=function(){var dpr=window.devicePixelRatio||1;var ctx=this.yY(this.$cX("canvas"));var bsr=ctx.webkitBackingStorePixelRatio||ctx.mozBackingStorePixelRatio||ctx.msBackingStorePixelRatio||ctx.oBackingStorePixelRatio||ctx.backingStorePixelRatio||1;this.meta.canvas.canvasPixelRatio=dpr/bsr};this.uo=function(canvas,dpi){canvas.style.width=canvas.style.width||canvas.width+"px";canvas.style.height=canvas.style.height||canvas.height+"px";var scaleFactor=dpi/96;var width=parseFloat(canvas.style.width);var height=parseFloat(canvas.style.height);var oldScale=canvas.width/width;var backupScale=scaleFactor/oldScale;var backup=canvas.cloneNode(false);this.yY(backup).drawImage(canvas,0,0);var ctx=this.yY(canvas);canvas.width=Math.ceil(width*scaleFactor);canvas.height=Math.ceil(height*scaleFactor);ctx.setTransform(backupScale,0,0,backupScale,0,0);ctx.drawImage(backup,0,0);ctx.setTransform(scaleFactor,0,0,scaleFactor,0,0)};this.vL=function(){var c=this.$(this.target);var p=this.meta.canvas.canvasPixelRatio;if(c){this.e0();this.rO();this.meta.canvas.ctx=this.yY(c);this.meta.canvas.ctx.setTransform(p,0,0,p,0,0);this.meta.canvas.ctx.o=[];this.meta.canvas.ctx.render=function(p){var l=this.o.length;for(var i=0;i<l;i++){var o=this.o[i];var funcs=o.funcs;for(var j in o){if(j!=="funcs"){this[j]=o[j]}}if(funcs){var ll=funcs.length;for(var j=0;j<ll;j++){var f=funcs[j];var f0=f[0];if(this[f0]){this[f0].apply(this,f[1])}if(p){var t=this.getTransform().a;if(t!=p){this.setTransform(p,0,0,p,0,0)}}}}}};this.meta.canvas.ctx.resetRender=function(){this.o=[]};this.meta.canvas.ctx.resetContext=function(){this.direction="ltr";this.fillStyle="#000000";this.filter="none";this.font="10px sans-serif";this.fontKerning="auto";this.fontStretch="normal";this.fontVariantCaps="normal";this.globalAlpha=1;this.globalCompositeOperation="source-over";this.imageSmoothingEnabled=true;this.imageSmoothingQuality="low";this.letterSpacing="0px";this.lineCap="butt";this.lineDashOffset=0;this.lineJoin="miter";this.lineWidth=1;this.miterLimit=10;this.shadowBlur=0;this.shadowColor="rgba(0, 0, 0, 0)";this.shadowOffsetX=0;this.shadowOffsetY=0;this.strokeStyle="#000000";this.textAlign="start";this.textBaseline="alphabetic";this.textRendering="auto";this.wordSpacing="0px"}}};this.yY=function(canvas){return canvas.getContext("2d")};this.E1=function(){var c=this.isSVG?this.meta.canvas.SVG:this.isHighlightCanvas?this.meta.canvas.ctx2:this.meta.canvas.ctx;this.currentCanvasContext=c.canvas.id;return c};this.rO=function(){setTimeout(function(){var c=new RegExp("/www.canvasxpress.org/dist/");var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){if(scripts[i].src&&c.test(scripts[i].src)){CanvasXpress.factory.siteSrc=true}}},0)};this.zG=function(){var c=CanvasXpress.system;c.isR=this.isR;c.isHTMLWidgets=typeof HTMLWidgets!="undefined";c.isShiny=typeof window.Shiny!=="undefined"&&!!window.Shiny.outputBindings;c.isRViewer=/\bviewer_pane=1\b/.test(window.location);c.isRConsole=c.isHTMLWidgets&&!c.isShiny&&!c.isRViewer;c.isNode=typeof exports==="object"&&typeof module!=="undefined";c.isReact=typeof React!="undefined";c.isCxplot=this.isCxplot;c.isGGMatrix=this.isGGMatrix;c.isjQuery=typeof $==="function";c.isJupyter=typeof _JUPYTERLAB!="undefined";c.isReveal=typeof Reveal!="undefined";c.isZoom=typeof zoom!="undefined"};this.Iq=function(){if(CanvasXpress.system.isJupyter){this.isJupyter=true}};this.f0=function(images){for(var i=0;i<images.length;i++){images[i].style.transform="scale("+(1/Reveal.getScale())+")";images[i].style.margin="auto"}};this.qY=function(divs){for(var i=0;i<divs.length;i++){divs[i].parentNode.style.overflowX="unset";divs[i].style.transform="scale("+(1/Reveal.getScale())+")";divs[i].style.magin="auto"}};this.VU=function(event){if(document.fullscreenElement){console.log("entering fullscreen");return false}else{console.log("exiting fullscreen");return false}};this.wS=function(){var that=this;if(CanvasXpress.system.isReveal&&!window.RevealCanvasXpress){var images=document.querySelectorAll("img.CanvasXpress");that.f0(images);var canvases=document.querySelectorAll("canvas.CanvasXpress");var scale=1/Reveal.getScale();for(var i=0;i<canvases.length;i++){var canvas=canvases[i];var width=parseInt(canvas.clientWidth*scale);var height=parseInt(canvas.clientHeight*scale);var widget=canvas.parentNode;var cell=widget.parentNode;var div=document.createElement("div");canvas.width=Math.min(width,600);canvas.height=Math.min(height,600);widget.style.transform="scale("+scale+")";div.style.position="absolute";div.className="cell-output-display-canvasXpress";cell.insertBefore(div,widget);div.appendChild(widget);canvas["data-responsive"]=true;canvas["data-aspectRatio"]=width+":"+height;if(canvas.hasAttribute("data-src")&&canvas.id){new CanvasXpress({renderTo:canvas.id,data:canvas.getAttribute("data-src")})}}Reveal.addEventListener("slidechanged",function(event){var images=Reveal.getCurrentSlide().querySelectorAll("img.CanvasXpress");that.f0(images);var canvases=Reveal.getCurrentSlide().querySelectorAll("canvas.CanvasXpress");if(canvases.length){console.log("slide changed with CanvasXpress");for(var i=0;i<canvases.length;i++){var canvas=CanvasXpress.$(canvases[i].id.replace(/-events$/,""));var width=canvas.width;var height=canvas.height;if(width>600||height>600){width=Math.min(width,600);height=Math.min(height,600);canvas.setDimensions(width,height)}}var divs=Reveal.getCurrentSlide().querySelectorAll("div.CanvasXpress-ParentNode");that.qY(divs)}});document.addEventListener("fullscreenchange",that.handleRevealFullscreen,false);document.addEventListener("webkitfullscreenchange",that.handleRevealFullscreen,false);document.addEventListener("mozfullscreenchange",that.handleRevealFullscreen,false);document.addEventListener("MSFullscreenChange",that.handleRevealFullscreen,false);Reveal.addKeyBinding({keyCode:27,keyAction:"escape",description:"Exit fullscreen mode"},that.handleRevealFullscreen);Reveal.addEventListener("dblclick",function(event){var target=event.target;if(!target.id){target.id="foobar"}if(target.tagName.toLowerCase()=="img"&&that.md(target,"CanvasXpress")){var id=that.oy("-cX-Reveal-"+target.id+"-");var cnv=document.createElement("canvas");cnv.id=id;cnv.width=target.clientWidth;cnv.height=target.clientHeight;cnv["data-responsive"]=true;cnv["data-aspectRatio"]=parseInt(target.clientWidth)+":"+parseInt(target.clientHeight);target.parentNode.insertBefore(cnv,target.nextSibling);target.style.display="none";new CanvasXpress({renderTo:id,data:target.src,callback:function(){var divs=Reveal.getCurrentSlide().querySelectorAll("div.CanvasXpress-ParentNode");that.qY(divs)}})}});window.RevealCanvasXpress=true}};this.Cv=function(){if(String(this.graphType).match(/line|bar|dot|area|boxplot/i)&&!this.is3DPlot&&this.graphType!="Scatter3D"){var s=false;if(!this.xAxis.length&&!this.yAxis.length){if((this.lineBy&&this.data.z&&this.dataz.hasOwnProperty(this.lineBy))||(this.colorBy&&this.data.z&&this.data.z.hasOwnProperty(this.colorBy))){s=true}}else{if(this.xAxis.length&&this.yAxis.length){if(this.data.y.smps.includes(this.xAxis[0])&&this.data.y.smps.includes(this.yAxis[0])){s=true}}}if(s){this.Sx()}}};this.RI=function(){if(this.graphName){for(var p in this.graphName){this[p]=this.graphName[p]}}};this.KZ=function(config){config.smpLabelRotate&&(this.smpTextRotate=config.smpLabelRotate);config.dataTableImage&&(this.dataTableBannerImage=config.dataTableImage);config.colWidth&&(this.dataTableColWidth=config.colWidth);config.rowHeight&&(this.dataTableRowHeight=config.rowHeight);config.rowLines&&(this.dataTableRowLines=config.rowLines);config.dataTableStripe&&(this.dataTableStriped=config.dataTableStripe)};this.Bg=function(){switch(this.graphType){case"Alluvial":this.graphName={graphType:this.graphType};this.graphType="Sankey";return;case"Bin":case"Binplot":this.graphName={graphType:this.graphType,binplotShape:this.binplotShape,scatterType:this.scatterType};this.graphType="Scatter2D";this.scatterType="bin2d";this.binplotShape="oval";return;case"Bubble":this.graphName={graphType:this.graphType,circularType:this.circularType};this.graphType="Circular";this.circularType="bubble";return;case"Bullet":this.graphName={graphType:this.graphType,barType:this.barType};this.graphType="Bar";this.barType="bullet";return;case"Bump":this.graphName={graphType:this.graphType,isBumpPlot:this.isBumpPlot,lineBy:this.lineBy,colorBy:this.colorBy,dataPointSize:this.dataPointSize};this.graphType="Scatter2D";this.isBumpPlot=true;this.lineBy=this.lineBy||this.colorBy;this.colorBy=this.lineBy;this.dataPointSize=25;return;case"CDF":this.graphName={graphType:this.graphType,scatterType:this.scatterType};this.graphType="Scatter2D";this.scatterType="cdf";return;case"Chord":this.graphName={graphType:this.graphType,circularType:this.circularType};this.graphType="Circular";this.circularType="chord";return;case"Cleveland":this.graphName={graphType:this.graphType,dotplotType:this.dotplotType};this.graphType="Dotplot";this.dotplotType="cleveland";return;case"Contour":this.graphName={graphType:this.graphType,isContour:this.isContour};this.graphType="Scatter2D";this.isContour=true;return;case"Density":this.graphName={graphType:this.graphType,showHistogramBars:this.showHistogramBars,showFilledHistogramDensity:this.showFilledHistogramDensity,showHistogram:this.showHistogram,showHistogramDensity:this.showHistogramDensity};this.graphType="Scatter2D";this.showFilledHistogramDensity=true;this.showHistogram=this.showHistogram||true;this.showHistogramDensity=true;return;case"Donut":this.graphName={graphType:this.graphType,circularType:this.circularType};this.graphType="Circular";this.circularType="sunburst";return;case"Dumbbell":this.graphName={graphType:this.graphType,dotplotType:this.dotplotType};this.graphType="Dotplot";this.dotplotType=this.dumbbellType||"stacked";return;case"Hex":case"Hexplot":this.graphName={graphType:this.graphType,binplotShape:this.binplotShape,scatterType:this.scatterType};this.graphType="Scatter2D";this.scatterType="bin2d";this.binplotShape="hexagon";return;case"Histogram":case"Distribution":this.graphName={graphType:this.graphType,showHistogramBars:this.showHistogramBars,showHistogram:this.showHistogram};this.graphType="Scatter2D";this.showHistogramBars=true;this.showHistogram=this.showHistogram||true;return;case"KaplanMeier":this.graphName={graphType:this.graphType,scatterType:this.scatterType};this.graphType="Scatter2D";this.scatterType="km";return;case"Lollipop":this.graphName={graphType:this.graphType,barType:this.barType};this.graphType="Bar";this.barType="lollipop";return;case"Pareto":this.graphName={graphType:this.graphType};this.graphType="BarLine";return;case"QQ":case"Quantile":this.graphName={graphType:this.graphType,scatterType:this.scatterType};this.graphType="Scatter2D";this.scatterType="qq";return;case"Radar":this.graphName={graphType:this.graphType,circularType:this.circularType};this.graphType="Circular";this.circularType="radar";return;case"Ridgeline":this.graphName={graphType:this.graphType,showHistogramBars:this.showHistogramBars,showFilledHistogramDensity:this.showFilledHistogramDensity,showHistogram:this.showHistogram,showHistogramDensity:this.showHistogramDensity};this.graphType="Scatter2D";this.showFilledHistogramDensity=true;this.showHistogram=true;this.showHistogramDensity=true;return;case"Spaghetti":this.graphName={graphType:this.graphType,scatterType:this.scatterType};this.graphType="Scatter2D";this.scatterType="line";return;case"SPLOM":this.graphName={graphType:this.graphType,scatterPlotMatrix:this.scatterPlotMatrix};this.graphType="Scatter2D";this.scatterPlotMatrix=true;return;case"Streamgraph":this.graphName={graphType:this.graphType,scatterType:this.scatterType,dataPointSizeScaleFactor:this.dataPointSizeScaleFactor};this.graphType="Scatter2D";this.scatterType="stream";this.dataPointSizeScaleFactor=0;return;case"Sunburst":this.graphName={graphType:this.graphType,circularType:this.circularType};this.graphType="Circular";this.circularType="sunburst";return;case"Ribbon":this.graphName={graphType:this.graphType};this.graphType="Sankey";return;case"TimeSeries":case"Time-Series":case"Time Series":this.graphName={graphType:this.graphType,scatterType:this.scatterType};this.graphType="Scatter2D";this.scatterType="line";this.xAxisTime=true;return;case"Tornado":this.graphName={graphType:this.graphType};this.graphType="Stacked";return;case"Upset":this.graphName={graphType:this.graphType,heatmapType:this.heatmapType};this.graphType="Heatmap";this.heatmapType="upset";return;case"Violin":this.graphName={graphType:this.graphType,showViolinBoxplot:this.showViolinBoxplot};this.graphType="Boxplot";this.showViolinBoxplot=true;return;case"Volcano":this.graphName={graphType:this.graphType};this.graphType="Scatter2D";return;case"Waterfall":this.graphName={graphType:this.graphType};this.graphType="Bar";return;case"WordCloud":this.graphName={graphType:this.graphType};this.graphType="TagCloud";return;default:return}};this.Sx=function(){if(String(this.graphType).match(/line|area/i)&&!this.is3DPlot&&this.graphType!="Scatter3D"&&!this.isCxplot){this.scatterType=this.graphType.toLowerCase();this.scatterContext=this.graphType;this.graphType="Scatter2D"}};this.xB=function(config){CanvasXpress.config=[];this.lg();if(config&&config.graphType){this.graphType=config.graphType}if(this.graphType.match(/Network/)){this.xRotate=0}var k=config?Object.keys(config):[];if(!config||(config&&!config.graphOrientation)){if(config&&config.graphType&&config.graphType.match(/Scatter/)){}else{if(this.meta.config.user){this.meta.config.user.graphOrientation=this.graphOrientation}}}if(config&&config.plotStyle&&!CanvasXpress.doc.P.plotStyle.O.includes(config.plotStyle)){config.theme=config.plotStyle;delete config.plotStyle}if(config&&config.graphType&&config.graphType=="Pie"&&config.xAxis&&config.xAxis.length==1){config.pieBy=config.xAxis[0];config.xAxis=[]}this.wA(config&&config.theme?config.theme:"none");this.zy(config&&config.dataUIStyle?config.dataUIStyle:"modern");this.KZ(config);if(config){if(!window.cX){CanvasXpress.factory.valid=config.cX;window.cX=CanvasXpress.factory.valid}for(var i in config){if(CanvasXpress.doc.P[i]&&CanvasXpress.doc.P[i].D==null&&config[i]===""){delete config[i]}}if(config.hasOwnProperty("skipRender")){this.skipRender=config.skipRender}for(var i=0;i<CanvasXpress.config.length;i++){var o=CanvasXpress.config[i];var t=CanvasXpress.doc.P[o]?CanvasXpress.doc.P[o].T:false;if(config.hasOwnProperty(o)){if(t=="array"){if(config[o] instanceof Array){this[o]=config[o]}else{this[o]=[config[o]];config[o]=[config[o]]}}else{this[o]=config[o]}}}}this.Bg();if(String(this.scatterType).match(/line|bar|dot|area|boxplot/)&&!this.is3DPlot&&this.graphType!="Scatter3D"&&!this.isCxplot){this.scatterContext=this.graphType;this.graphType="Scatter2D"}if(this.graphType.match(/Scatter|Map/)){this.dataTableTransposed=false}this.Lg();for(var p in this.url){if(this.hasOwnProperty(p)){this[p]=this.url[p]}}this.vL();this.zG();this.wS();this.Iq();window.pcX={};if(CanvasXpress.system.isShiny){this.disableUndoRedoKeys=true}if(this.disableCSSTransitions){CanvasXpress.disableCSSTransitions()}if(CanvasXpress.factory.cXLLMService){this.llmServiceURL=CanvasXpress.factory.cXLLMService}}};CanvasXpress.prototype.initDate=function(){var a=function(){var b=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,e=/[^-+\dA-Z]/g,d=function(g,f){g=String(g);f=f||2;while(g.length<f){g="0"+g}return g};return function(j,w,r){var h=a;if(arguments.length==1&&Object.prototype.toString.call(j)=="[object String]"&&!/\d/.test(j)){w=j;j=undefined}j=j?new Date(j):new Date;if(isNaN(j)){throw SyntaxError("invalid date")}w=String(h.masks[w]||w||h.masks["default"]);if(w.slice(0,4)=="UTC:"){w=w.slice(4);r=true}var u=r?"getUTC":"get",n=j[u+"Date"](),f=j[u+"Day"](),k=j[u+"Month"](),q=j[u+"FullYear"](),t=j[u+"Hours"](),l=j[u+"Minutes"](),v=j[u+"Seconds"](),p=j[u+"Milliseconds"](),g=r?0:j.getTimezoneOffset(),i={d:n,dd:d(n),ddd:h.i18n.dayNames[f],dddd:h.i18n.dayNames[f+7],m:k+1,mm:d(k+1),mmm:h.i18n.monthNames[k],mmmm:h.i18n.monthNames[k+12],yy:String(q).slice(2),yyyy:q,h:t%12||12,hh:d(t%12||12),H:t,HH:d(t),M:l,MM:d(l),s:v,ss:d(v),l:d(p,3),L:d(p>99?Math.round(p/10):p),t:t<12?"a":"p",tt:t<12?"am":"pm",T:t<12?"A":"P",TT:t<12?"AM":"PM",Z:r?"UTC":(String(j).match(c)||[""]).pop().replace(e,""),o:(g>0?"-":"+")+d(Math.floor(Math.abs(g)/60)*100+Math.abs(g)%60,4),S:["th","st","nd","rd"][n%10>3?0:(n%100-n%10!=10)*n%10]};return w.replace(b,function(m){return m in i?i[m]:m.slice(1,m.length-1)})}}();a.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",year:"yyyy",yearMonth:"mmm yyyy",month:"mmmm",day:"dddd",hour:"HH",minute:"MM",second:"ss"};a.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(b,c){return a(this,b,c)};this.r9=function(b){return !isNaN(new Date(b))};this.dateFormat=a};CanvasXpress.prototype.initText=function(){this.HR=function(C,A,z,a,D,u,p,v,j,w,d,g,B){if(C==undefined){C=""}var q=["poly"];var o=this.rk(p);var j=this.pb(C,p,B)*(Math.PI*0.5)/a;D=(D+(u/2))-(j/2)%(Math.PI*2);u=D+j;var n=this.Co(A,z,a,D,u,true);for(var k=0;k<n.length;k++){q.push(n[k][0],n[k][1])}n=this.Co(A,z,a-o,D,u);for(var k=0;k<n.length;k++){q.push(n[k][0],n[k][1])}if(this.graphType=="Network"){return this.preScaleNetwork&&!this.isAnimation?q:this.yk(q)}else{return q}};this.bp=function(k,j,h,p,n,B,A,C,v,D,q,d,u){if(k==undefined){k=""}if(!u){u=this.E1()}if(k==null){return}if(!u){if(this.debug){alert("Dude, there is no canvas")}return}if(isNaN(j)||isNaN(h)){if(this.debug){alert("Not a valid coordinate ("+j+", "+h+") to draw "+k)}return}if(!d&&!isNaN(k)){k=this.gG(k)}k=k.toString().replace("\x00","");if(!j){j=0}if(!h){h=0}if(!A){A=this.font}if(!C){C=this.foreground}if(!v){v=this.align}if(!D){D=this.baseline}this.kg(u);var o={strokeStyle:(this.tO(C)?C[0]:C),fillStyle:(this.tO(C)?C[0]:C),font:A,textAlign:v,textBaseline:D,funcs:[]};var z=v=="right"?1:-1;var a=this.rk(A);if(((["left","center"].indexOf(v)>-1)&&q)||(v=="right"&&!q)){k=k.split("").reverse().join("");if(this.tO(C)){C=C.reverse()}}o.funcs.push(["translate",[j,h]]);n+=(Math.PI*!q);n+=(Math.PI/2)+(B/2);if(v=="center"){for(var w=0;w<k.length;w++){var g=this.pb(k[w],A,u);n+=((g+(w==k.length-1?0:this.circularLetterSeparationFactor))/(p-a))/2*-z}}B=n;o.funcs.push(["rotate",[n]]);for(var w=0;w<k.length;w++){var g=this.pb(k[w],A,u);B+=(g/2)/(p-a)*z;o.funcs.push(["rotate",[(g/2)/(p-a)*z]]);if(this.tO(C)){o.strokeStyle=C[w];o.fillStyle=C[w]}o.funcs.push(["fillText",[k[w],0,(q?1:-1)*(0-p+a/2)]]);B+=(g/2+this.circularLetterSeparationFactor)/(p-a)*z;o.funcs.push(["rotate",[(g/2+this.circularLetterSeparationFactor)/(p-a)*z]])}u.o.push(o);this.ai(u)};this.Dr=function(o,n,k,A,B,E,D,g,q,p,j){if(o==undefined){o=""}var r=o.split(/\n/);var w=this.rk(A);var C=[];var F=k+(r%2?0:w/2)-(r.length*w/2);for(var u=0;u<r.length;u++){C.push(this.t6(r[u],n,F,A,B,E,D,g,q,p,j));F+=w}var z=C[0][1];var e=C[0][2];var v=C[0][3];var d=C[0][4];for(var u=1;u<C.length;u++){z=Math.min(z,C[u][1]);e=Math.min(e,C[u][2]);v=Math.max(v,C[u][3]);d=Math.max(d,C[u][4])}return[C[0][0],z,e,v,d]};this.QY=function(B,w,r,o,q,v,u,e,h,C,z,A){var j=B.split(/\n/);var d=o;if(!d){d=this.font}var n=this.rk(d);var p=r+(j%2?0:n/2)-(j.length*n/2);for(var k=0;k<j.length;k++){this.i0(j[k],w,p,d,q,v,u,e,h,C,z,A);p+=n;if(e&&e<90){w+=n;p-=n}}};this.ah=function(s,F,B){var k=this;if(s==undefined){s=""}if(s.match(/\n/)){s=s.replace(/\n/g,"<br>")}if(!F){F=this.font}if(!B){B=this.E1()}var m=["b","strong","i","em","sup","sub","s","strike","u","underline","color"];var b=[];var q=[0];var A="";var w=0;var z=false;var h=false;var d=false;var l=false;var a=false;var n=false;var g=false;var C=false;var p=0;var o=0;var H=this.rk(F);var v=F;var u=function(){var c="";var f=H;if(z){c+="bold "}if(h){c+="italic "}if(a){g="strike"}if(n){g="underline"}if(d||l){f=0.8*H;if(d){o-=0.3*H}else{o+=0.3*H}}v=c+f+"px "+k.fontName;w=k.pb(A,v,B);q.push([p,o,v,A,w,g,C]);g=false;p+=w;A=""};var j=function(){if(A!==""){u()}q[0]=p;b.push(q);q=[0];p=0;o=0};for(var E=0;E<s.length;E++){var G=s[E];if(G=="\n"){j()}else{if(G!="<"){A+=G}else{E++;var D=s[E];var e=false;if(D=="/"){D="";e=true}var r=true;for(E=E+1;E<s.length;E++){if(s[E]=="<"){E=E-1;A+="<"+D;u();r=false;break}if(s[E]==">"){break}D+=s[E]}if(!r){continue}if(D=="br"||D=="br/"){j()}else{if(m.indexOf(D)>=0&&A!==""){u()}if(D.match(/color/)){C=e?false:D.split(":")[1].replace(/"/g,"")}else{switch(D){case"s":case"strike":a=!e;break;case"u":case"underline":n=!e;break;case"b":case"strong":z=!e;break;case"i":case"em":h=!e;break;case"sup":d=!e;if(e){o=0}break;case"sub":l=!e;if(e){o=0}break;default:A+="<"+D+">"}}}}}}w=k.pb(A,v,B);if(A.length>0){q.push([p,o,F,A,w,g,C])}v=H+"px "+this.fontName;q[0]=p+w;b.push(q);return b};this.eh=function(s,E,g,z){var n=this;if(s==undefined){s=""}if(s.match(/\n/)){s=s.replace(/\n/g,"<br>")}if(!E){E=this.font}if(!z){z=this.E1()}var b=["b","strong","i","em","sup","sub","s","strike","u","underline","color"];var d=[];var F=[0];var h="";var t=0;var w=false;var B=false;var l=false;var j=false;var r=false;var k=false;var A=false;var v=false;var q=0;var p=0;var o=this.rk(E);var c=E;var u=function(){var x=" ";var i=o;if(w){x+="bold "}if(B){x+="italic "}if(r){A="strike"}if(k){A="underline"}if(l||j){i=0.8*o;if(g){if(l){q-=0.3*o}else{q+=0.3*o}}else{if(l){p-=0.3*o}else{p+=0.3*o}}}c=x+i+"px "+n.fontName;t=n.pb(h,c,z);F.push([q,p,c,h,t,A,v]);A=false;if(g){p+=t}else{q+=t}h=""};var m=function(){if(h!==""){u()}F[0]=g?p:q;d.push(F);F=[0];q=0;p=0};for(var C=0;C<s.length;C++){var a=s[C];if(a==="\n"){m()}else{if(a!=="<"){h+=a}else{C++;var f=s[C];var D=false;if(f==="/"){f="";D=true}var e=true;for(C=C+1;C<s.length;C++){if(s[C]==="<"){C=C-1;h+="<"+f;u();e=false;break}if(s[C]===">"){break}f+=s[C]}if(!e){continue}if(f==="br"||f==="br/"){m()}else{if(b.indexOf(f)>=0&&h!==""){u()}if(f.match(/color/)){v=D?false:f.split(":")[1].replace(/"/g,"")}else{switch(f){case"s":case"strike":r=!D;break;case"u":case"underline":k=!D;break;case"b":case"strong":w=!D;break;case"i":case"em":B=!D;break;case"sup":l=!D;if(D){g?(q=0):(p=0)}break;case"sub":j=!D;if(D){g?(q=0):(p=0)}break;default:h+="<"+f+">"}}}}}}t=n.pb(h,c,z);if(h.length>0){F.push([q,p,E,h,t,A,v])}c=o+"px "+this.fontName;F[0]=(g?p:q)+t;d.push(F);return d};this.BW=function(f,d,a,m,t,u,l,r,C,A,B,s){var g=this;var w=function(E){var D=E[1],I=E[2],i=E[3],G=E[4];var K=g.Y1(D,I,d,a,r);var J=g.Y1(i,I,d,a,r);var H=g.Y1(i,G,d,a,r);var F=g.Y1(D,G,d,a,r);return["poly",K[0],K[1],J[0],J[1],H[0],H[1],F[0],F[1]]};var j=this.eh(f,m,!!r,s);if(!j||j.length===0){return}var c=this.rk(m);var z=c*j.length;var p=0;for(var v=0;v<j.length;v++){p=Math.max(p,j[v][0])}var o=0;var k=0;var q=r?z:p;var n=r?p:z;switch(u){case"left":o=0;break;case"right":o=-q;break;case"center":o=-q/2;break}switch(l){case"top":k=0;break;case"bottom":k=-n;break;case"middle":k=-n/2;break}var y=d+o;var e=a+k;var x=y+q;var b=e+n;var h=["rect",y,e,x,b];h=r?w(h):h;if(this.graphType=="Network"){return this.preScaleNetwork&&!this.isAnimation?h:this.yk(h)}else{return h}};this.Xb=function(y,E,D,O,A,L,K,C,J,I,B,t,h){var w=this.eh(y,O,!!C,t);if(!w||w.length===0){return}var o=this.rk(O);var n=o*w.length;var z=0;for(var N=0;N<w.length;N++){z=Math.max(z,w[N][0])}var g=0;var f=0;var a=C?n:z;var c=C?z:n;switch(L){case"left":g=0;break;case"right":g=-a;break;case"center":g=-a/2;break}switch(K){case"top":f=0;break;case"bottom":f=-c;break;case"middle":f=-c/2;break}for(var N=0;N<w.length;N++){var q=w[N];var b=q[0];for(var M=1;M<q.length;M++){var P=q[M];var l=P[3];var F=P[2];var k=P[6]?this.u5(P[6]):A;var H=P[4];var u=P[5];var x,v;if(C){var r=(w.length-N)*o;var d=(z-b)/2;x=E+g+r;v=D+f+d+P[0]+P[1]}else{var p=N*o;var e;if(L==="left"){e=0}else{if(L==="right"){e=z-b}else{e=(z-b)/2}}x=E+g+e+P[0];v=D+f+p+P[1]}this.i0(l,x,v,F,k,"left","top",C,J,I,B,t,h);if(u){var G=this.rk(F)/2;var R,Q;if(u==="strike"){R=this.Y1(x,v+G,E,D,C);Q=this.Y1(x+H,v+G,E,D,C);this.b6("line",R[0],R[1],Q[0],Q[1],k,1,t)}else{if(u==="underline"){var S=v+this.rk(F);R=this.Y1(x,S,E,D,C);Q=this.Y1(x+H,S,E,D,C);this.b6("line",R[0],R[1],Q[0],Q[1],k,1,t)}}}}}};this.t6=function(p,n,l,C,D,F,E,g,r,q,k,u){var j=this;var v=function(b){b.shift();var a=["poly"];a=a.concat(j.Y1(b[0],b[1],n,l,g));a=a.concat(j.Y1(b[2],b[1],n,l,g));a=a.concat(j.Y1(b[2],b[3],n,l,g));a=a.concat(j.Y1(b[0],b[3],n,l,g));return a};if(p==undefined){p=""}if(k){if(n<this.marginLeft+this.offsetX+this.left||n>this.marginLeft+this.offsetX+this.left+this.x){return}if(l<this.marginTop+this.offsetY+this.top||l>this.marginTop+this.offsetY+this.top+this.y){return}}if(this.uM(p)){return this.BW(p,n,l,C,D,F,E,g,r,q,k,u)}else{if(this.ct(p)){return this.Dr(p,n,l,C,D,F,E,g,r,q,k,u)}}var G=[];var o=this.pb(p,C,u);var z=this.rk(C);var B,e,A,d;var i=0;if(r){while(o>r&&i<10){p=p.substring(0,p.length-1);o=this.pb(p,C,u);i++}}if(F=="left"){B=n;A=B+o}else{if(F=="right"){B=n-o;A=n}else{B=n-(o/2);A=n+(o/2)}}if(E=="top"){e=l;d=e+z}else{if(E=="bottom"){e=l-z;d=l}else{e=l-(z/2);d=l+(z/2)}}G=["rect",B,e,A,d];G=g?v(G):G;if(this.graphType=="Network"){return this.preScaleNetwork&&!this.isAnimation?G:this.yk(G)}else{return G}};this.i0=function(u,o,k,i,j,n,l,e,g,z,q,r,v){if(u==undefined){u=""}if(!r){r=this.E1()}var h=0;if(u==null){return}if(this.uM(u)){return this.Xb(u,o,k,i,j,n,l,e,g,z,q,r,v)}else{if(this.ct(u)){return this.QY(u,o,k,i,j,n,l,e,g,z,q,r)}}if(!r){if(this.debug){alert("Dude, there is no canvas")}return}if(isNaN(o)||isNaN(k)){if(this.debug){alert("Not a valid coordinate ("+o+", "+k+") to draw "+u)}return}if(q){if(o<this.marginLeft+this.offsetX+this.left||o>this.marginLeft+this.offsetX+this.left+this.x){return}if(k<this.marginTop+this.offsetY+this.top||k>this.marginTop+this.offsetY+this.top+this.y){return}}if(!o){o=0}if(!k){k=0}if(!i){i=this.font}if(!j){j=this.foreground}if(!n){n=this.align}if(!l){l=this.baseline}var p=this.pb(u,i,r);if(g){while(p>g&&h<10){u=u.substring(0,u.length-1);p=this.pb(u,i,r);h++}}if(v){r.resetRender()}if(e){r.o.push({funcs:[["save",[]]]})}var d={strokeStyle:j,fillStyle:j,font:i,textAlign:n,textBaseline:l,funcs:[]};if(e){r.o.push({funcs:[["translate",[o,k]]]});r.o.push({funcs:[["rotate",[e]]]});o=k=0}u=u.toString().replace("\x00","").replace("u0000","");if(z){d.funcs.push(["strokeText",[u,o,k]])}else{d.funcs.push(["fillText",[u,o,k]])}r.o.push(d);if(e){r.o.push({funcs:[["restore",[]]]})}if(v){r.render();r.resetRender()}};this.ct=function(b){var a=b.toString().split(/\n|__nl__/);return a.length-1};this.Y5=function(a){if(a){return a.charAt(0).toUpperCase()+a.slice(1)}};this.tx=function(a){if(a){return a.charAt(0).toLowerCase()+a.slice(1)}};this.uM=function(a){return a&&a.toString().match(/<(?:s|strike|u|underline|b|strong|i|em|sup|sub)>/);return a&&a.toString().match(/<[^>]+>/)};this.JJ=function(a){return a.replace(/<[^>]+>/g,"")};this.DF=function(e,j,h,b){var g=this.eh(e,j,h,b);var a=0;for(var d=0;d<g.length;d++){var c=g[d];a=Math.max(a,c[0])}return a};this.tv=function(e,g,c){var b=e.split(/\n/);var a=0;for(var d=0;d<b.length;d++){a=Math.max(a,this.pb(b[d],g,c))}return a};this.pb=function(d,h,a){if(!a){a=this.E1()}if(!d||!a){return 0}d=d.toString();if(!h){h=this.font}try{CanvasXpress}catch(i){return false}if(this.graphType=="TagCloud"){if(!CanvasXpress.cacheText[h]){CanvasXpress.cacheText[h]={}}if(!CanvasXpress.cacheText[h][d]){a.font=h;if(this.ct(d)){CanvasXpress.cacheText[h][d]=this.tv(d,h,a)}else{CanvasXpress.cacheText[h][d]=a.measureText(d).width}}return CanvasXpress.cacheText[h][d]}else{var b=h.replace(/[\d]+px/,"").replace(/\s\s/," ");var c=this.rk(h).toString();if(!CanvasXpress.cacheText[b]){CanvasXpress.cacheText[b]={}}if(!CanvasXpress.cacheText[b][d]){CanvasXpress.cacheText[b][d]={};a.font=h;if(this.uM(d)){CanvasXpress.cacheText[b][d][c]=this.DF(d,h,false,a)}else{if(this.ct(d)){CanvasXpress.cacheText[b][d][c]=this.tv(d,h,a)}else{CanvasXpress.cacheText[b][d][c]=a.measureText(d).width}}}else{if(!CanvasXpress.cacheText[b][d].hasOwnProperty("ss")){var g=Object.keys(CanvasXpress.cacheText[b][d])[0];CanvasXpress.cacheText[b][d][c]=CanvasXpress.cacheText[b][d][g]*(c/g)}}return CanvasXpress.cacheText[b][d][c]}};this.pe=function(b,c){var a=this.ct(b);if(a>0){return(this.rk(c)+this.margin)*(a+1)}else{return this.rk(c)}};this.M9=function(c,i,b,d,a){var g=Math.ceil(i);if(this.fontStyle==false){this.fontStyle=""}var e=this.fontStyle+" "+g+"px "+this.fontName;if(c){while(this.pb(c,e,a)>b&&g>=this.minTextSize){g-=2;e=this.fontStyle+" "+g+"px "+this.fontName}if(d){while(parseInt(g/1.33)>d-2){g--}e=this.fontStyle+" "+g+"px "+this.fontName}}if(this.fontScaleFontFactor!=1){e=this.fontStyle+" "+parseInt(g*this.fontScaleFontFactor)+"px "+this.fontName}return e};this.rk=function(a){return a?Math.max(1,parseInt(a.toString().match(/[\-\d]+/)[0])):1};this.I6=function(a){var d=this.scaleTextConstantMult;if(!a){a=1}return Math.ceil(1/Math.sqrt(a)*d)};this.j1=function(c,b){var a=parseInt(c.toString().length*1.5/b);return this.eS(c,a)};this.eS=function(b,a){if(a<1){return b}if(this.uM(b)){return this.NU(b,a)}else{return this.o5(b,a)}};this.NU=function(e,a){var e=e.replace(/\n/g,"<br>");var d=e.split(/(<[^>]+>)/g);var c=[];var b=0;d.forEach(function(f){if(f.startsWith("<")&&f.endsWith(">")){c.push(f);if(f==="<br>"){b=0}}else{var g=f.split(" ");g.forEach(function(h){if(b+h.length+1>a){c.push("\n");b=0}c.push(h+" ");b+=h.length+1})}});c=c.filter(function(f){return f!==" "});return c.join("").trim()};this.o5=function(d,c){var b="";var a=0;d.toString().split(" ").forEach(function(e){if(a+e.length+1>c){b+="\n";a=0}b+=e+" ";a+=e.length+1});return b.trim()};this.a9=function(o,k,v){var w=RegExp("(?:\\s|^)(.{1,"+k+"})(?=\\s|$)","g");var l=[];var u=[];var h=[];var s=0;var t=0;var p=this.pb(" ",v||this.font);var e;while((e=w.exec(o))!==null){l.push(e[1])}for(var g=0;g<l.length-1;g++){if(l[g].indexOf(" ")!=-1){while(l[g].length<k){for(var f=0;f<l[g].length-1;f++){if(l[g][f]==" "){l[g]=l[g].substring(0,f)+" "+l[g].substring(f);if(l[g].length==k){break}while(l[g][f]==" "){f++}}}}}u.push(l[g])}u.push(l[l.length-1]);for(var g=0;g<u.length-1;g++){var c=this.pb(u[g],v);if(c>s){s=c;t=g}h.push(c)}for(var g=0;g<u.length-1;g++){var d=parseInt((s-h[g])/p);var f=/\s+/gi;var a=[];var b;if(d>0){while((b=f.exec(u[g]))!=null){a.push(b.index)}if(a.length>d){while(d>0){u[g]=u[g].substring(0,a[d-1])+" "+u[g].substring(a[d-1]);d--}}else{while(h[g]+p<s){u[g]=u[g].replace(" ","  ");h[g]+=p}}}}return u.join("\n")};this.UW=function(a,b){var d=this.rk(a);var c=Math.max(1,parseInt(d*b));return a.replace(d+"px",c+"px")};this.gG=function(f,e){var c=(!isNaN(e)&&parseInt(e!=null?e:10)>0)?parseFloat(f).toFixed(parseInt(e!=null?e:10)):Number(f);var b=parseFloat(c);if(Math.abs(b)<0.0001||Math.abs(b)>99999||b.toString().length>=8){var a=b.toExponential(2).toString().replace("e+0","").replace(".00","").replace(/(\.[0-9])(0)/,"$1");if(a.match(/e\+1$/)||a.match(/e\+2$/)||a.match(/e\-1$/)){a=(a*1).toString()}return a}else{return b.toString()}};this.NP=function(b,h){var c={};var f=[];var g=[];for(var e=0;e<b.length;e++){var d=b[e]!=null?b[e].toString():"";if(!c.hasOwnProperty(d)){c[d]=true;f.push([d,d.length])}}f.sort(function(j,i){return j[1]<i[1]?-1:j[1]>i[1]?1:0});if(!h){h=10}if(f.length<h){h=f.length}for(var e=0;e<h;e++){g.push(f[e][0])}return this.pQ(g)};this.pQ=function(e,l,d){var k="";var b=0;if(e&&e.length>0){if(!l){l=this.font}for(var h=0;h<e.length;h++){if(e[h]){if(this.tO(e[h])){for(var g=0;g<e[h].length;g++){var n=this.pb(e[h][g].toString(),l,d);if(n>b){k=e[h][g].toString();b=n}}}else{var n=this.pb(e[h].toString(),l,d);if(n>b){k=e[h].toString();b=n}}}}}return k};this.Aj=function(c,b,a){if(c==null){return""}c=c.toString();if(!c){return""}if(a&&c.length>b){return c.substring(0,Math.max(parseInt(a/b)-2,1))+".."}else{if(c.length<=b){return c}else{return c.substring(0,b-3)+"..."}}};this.Py=function(a){if(!isNaN(a)){return parseFloat(a)}else{return a}};this.vy=function(){var k=function(c,a){for(var f=[];a>0;f[--a]=c){}return(f.join(""))};var g=0,n,h=arguments[g++],d=[],e,b,j,l;while(h){if(e=/^[^\x25]+/.exec(h)){d.push(e[0])}else{if(e=/^\x25{2}/.exec(h)){d.push("%")}else{if(e=/^\x25(?:(\d+)\$)?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gosuxX])/.exec(h)){if(((n=arguments[e[1]||g++])==null)||(n==undefined)){throw ("Too few arguments.")}if(/[^s]/.test(e[7])&&(typeof(n)!="number")){throw ("Expecting number but found "+typeof(n))}switch(e[7]){case"b":n=n.toString(2);break;case"c":n=String.fromCharCode(n);break;case"d":n=parseInt(n);break;case"e":n=e[6]?n.toExponential(e[6]):n.toExponential();break;case"f":n=e[6]?parseFloat(n).toFixed(e[6]):parseFloat(n);break;case"g":n=e[6]?String(Number(n).toPrecision(e[6])):parseFloat(n);break;case"o":n=n.toString(8);break;case"s":n=((n=String(n))&&e[6]?n.substring(0,e[6]):n);break;case"u":n=Math.abs(n);break;case"x":n=n.toString(16);break;case"X":n=n.toString(16).toUpperCase();break}n=(/[def]/.test(e[7])&&e[2]&&n>0?"+"+n:n);j=e[3]?e[3]=="0"?"0":e[3].charAt(1):" ";l=e[5]-String(n).length;b=e[5]?k(j,l):"";d.push(e[4]?n+b:b+n)}else{throw ("Huh ?!")}}}h=h.substring(e[0].length)}return d.join("")};this.ZD=function(h){var l=this;var j=function(q){var r;var p=function(t){if(!l.returnCachedLayout){r=q(t);for(var s=0;s<t.length;s++){r[s].dx=t[s].x-r[s].x;r[s].dy=t[s].y-r[s].y}}else{for(var s=0;s<t.length;s++){r[s].x=t[s].x-r[s].dx;r[s].y=t[s].y-r[s].dy}}return r};return p};var i=function(w,u){var r=function(s){return !isNaN(s)};var t=0,v=w.length,p,q=-1;if(arguments.length===1){while(++q<v){if(r(p=+w[q])){t+=p}}}else{while(++q<v){if(r(p=+u.call(w,w[q],q))){t+=p}}}return t};var b=(function(r,p){var q=function(x,w){return !(x.x>=w.x+w.width||x.x+x.width<=w.x||x.y>=w.y+w.height||x.y+x.height<=w.y)};if(q(r,p)){var v=Math.max(r.x,p.x);var t=Math.min(r.x+r.width,p.x+p.width);var u=Math.max(r.y,p.y);var s=Math.min(r.y+r.height,p.y+p.height);return(t-v)*(s-u)}else{return 0}});var n=(function(s){var r=function(w,B,A,v,z){return{x:w,y:B,width:A,height:v,location:z}};var q=s.x;var u=s.y;var t=s.width;var p=s.height;return[r(q,u,t,p,"bottom-right"),r(q-t,u,t,p,"bottom-left"),r(q-t,u-p,t,p,"top-left"),r(q,u-p,t,p,"top-right"),r(q,u-p/2,t,p,"middle-right"),r(q-t/2,u,t,p,"bottom-center"),r(q-t,u-p/2,t,p,"middle-left"),r(q-t/2,u-p,t,p,"top-center")]});var o=function(r,q){var p=function(s){var u=0;for(var t=0;t<s.length;t++){u+=s[t]}return u};return p(r.map(function(t,s){return q===s?0:b(r[q],t)}))};var k=function k(p){return i(p.map(function(q,r){return o(p,r)}))};var m=(function(q,p){return q.map(function(r,s){return[p(r,s),r,s]}).reduce(function(s,r){return s[0]>r[0]?r:s},[Number.MAX_VALUE,null,-1])});var a=function(){function w(y){function B(F,E){if(E==null||E>F.length){E=F.length}for(var H=0,G=new Array(E);H<E;H++){G[H]=F[H]}return G}function A(E){if(Array.isArray(E)){return B(E)}}function z(E){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(E)){return Array.from(E)}}function D(F,E){if(!F){return}if(typeof F==="string"){return B(F,E)}var G=Object.prototype.toString.call(F).slice(8,-1);if(G==="Object"&&F.constructor){G=F.constructor.name}if(G==="Map"||G==="Set"){return Array.from(F)}if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)){return B(F,E)}}function C(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return A(y)||z(y)||D(y)||C()}var v=function(A,y,z){return[].concat(w(A.slice(0,y)),[z],w(A.slice(y+1)))};var x=function(z,y){return z<y};var r=null;var p=x;var t=function(){return 0};var s;var q=function(z,y){return r-t(s[y],y,s)+t(z,y,v(s,y,z))};var u=function(A,z){function y(C){var E=0;for(var D=0;D<C.length;D++){E+=C[D]}return E}if(!r){r=y(s.map(function(D,C){return t(D,C,s)}))}var B=q(A,z);if(p(B,r)){return a().locationScore(t).winningScore(p).score(B).rectangles(v(s,z,A))}else{return u}};u.rectangles=function(){if(!arguments.length){return s}s=arguments.length<=0?undefined:arguments[0];return u};u.score=function(){if(!arguments.length){return r}r=arguments.length<=0?undefined:arguments[0];return u};u.winningScore=function(){if(!arguments.length){return p}p=arguments.length<=0?undefined:arguments[0];return u};u.locationScore=function(){if(!arguments.length){return t}t=arguments.length<=0?undefined:arguments[0];return u};return u};function c(){var p=[0,0];var r=function r(u){var t=k(u);var v=0;if(p[0]!==0&&p[1]!==0){var s={x:0,y:0,width:p[0],height:p[1]};v=i(u.map(function(x){var w=x.width*x.height-b(x,s);return w*2}))}return t+v};var q=function(t){var s=[];t.forEach(function(u){var v=n(u).map(function(w){var x=s.slice();x.push(w);return x});s=m(v,r)[1]});return s};q.bounds=function(s){if(!arguments.length){return p}p=s;return q};return q}var d=function(){var q=l.optimizeTextPositionEnforceBounds;var p=function(t){return q?t.width*t.height-b(t,q):0};var s=function(u,t,v){return o(v,t)+p(u)};var r=function r(u){var t=a().locationScore(s).rectangles(u);u.forEach(function(w,v){n(w).forEach(function(x,y){t=t(x,v)})});return t.rectangles()};r.bounds=function(){if(!arguments.length){return q}q=arguments.length<=0?undefined:arguments[0];return r};return r};var e=function(){var w=l.optimizeTextPositionTemperature;var q=l.optimizeTextPositionCooling;var p=l.optimizeTextPositionEnforceBounds;var s=function(y){return y[v(y)]};var v=function(y){return Math.floor(l.DI()*y.length)};var x=function(y){switch(y.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return y.width*y.height/8}return y.width*y.height/4};var r=function(y){return p?y.width*y.height-b(y,p):0};var u=function(z,y,A){return o(A,y)+r(z)+x(z)};var t=function(D){var y=w;var C=function(F,E){return Math.exp((E-F)/y)>l.DI()};var B=a().locationScore(u).winningScore(C).rectangles(D);while(y>0){var A=v(D);var z=s(n(D[A]));B=B(z,A);y-=q}return B.rectangles()};t.temperature=function(){if(!arguments.length){return w}w=arguments.length<=0?undefined:arguments[0];return t};t.cooling=function(){if(!arguments.length){return q}q=arguments.length<=0?undefined:arguments[0];return t};t.bounds=function(){if(!arguments.length){return p}p=arguments.length<=0?undefined:arguments[0];return t};return t};var g=function(v){v=v||function(w){return w};function s(w,z){function y(A,D){let minValue;let min=-1;for(var B=0;B<A.length;B++){const C=A[B];if(C!=null&&(minValue===undefined?D(C,C)===0:D(C,minValue)<0)){minValue=C;min=B}}return min}const x=y(w,z);return x<0?undefined:x}var q=(function(y,x,w){var z=x[w];if(typeof z!=="function"){throw new Error("Attempt to rebind ".concat(w," which isn't a function on the source object"))}return function(){for(var A=arguments.length,B=new Array(A),C=0;C<A;C++){B[C]=arguments[C]}var D=z.apply(x,B);return D===x?y:D}});var u=function(w){return function(x){return w.reduce(function(y,z){return y&&z(y)},x)}};var p=(function(C,w){for(var E=arguments.length,D=new Array(E>2?E-2:0),y=2;y<E;y++){D[y-2]=arguments[y]}var z=u(D);for(var A=0,B=Object.keys(w);A<B.length;A++){var x=B[A];var F=z(x);if(F){C[F]=q(C,w,x)}}return C});var r=function(x,w){return x[s(x,w)]};var t=function(x){x=v(x);var y=function(){var B=x.filter(function(C){return !C.hidden});var A=B.map(function(D,C){return[D,o(B,C)]});var z=r(A,function(D,C){return C[1]-D[1]});if(z[1]>0){z[0].hidden=true}else{return"break"}};while(true){var w=y();if(w==="break"){break}}return x};p(t,v);return t};var f=function(){var p=[0,0];var q=function(r){return r.map(function(v,u){var t=v.x;var s=v.y;if(t+v.width>p[0]){t-=v.width}if(s+v.height>p[1]){s-=v.height}return{height:v.height,width:v.width,x:t,y:s}})};q.bounds=function(){if(!arguments.length){return p}p=arguments.length<=0?undefined:arguments[0];return q};return q};switch(this.optimizeTextPositionStrategy){case"greedy":return j(g(c()))(h);case"annealing":return j(g(e()))(h);case"remove-overlaps":return j(g())(h);case"bounding-box":return j(g(f()))(h)}}};CanvasXpress.prototype.initTime=function(){Date.prototype.getWeek=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((((this-a)/86400000)+a.getDay()+1)/7)};Date.prototype.getDayYear=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/86400000)};Date.prototype.addMilliseconds=function(b){var a=new Date(this.valueOf());a.setDate(a.getMilliseconds()+b);return a};Date.prototype.addSeconds=function(b){var a=new Date(this.valueOf());a.setDate(a.getSeconds()+b);return a};Date.prototype.addMinutes=function(b){var a=new Date(this.valueOf());a.setDate(a.getMinutes()+b);return a};Date.prototype.addHours=function(a){var b=new Date(this.valueOf());b.setDate(b.getHours()+a);return b};Date.prototype.addDays=function(b){var a=new Date(this.valueOf());a.setDate(a.getDate()+b);return a};Date.prototype.addMonths=function(a){var b=new Date(this.valueOf());b.setMonth(b.getMonth()+a);return b};Date.prototype.addYears=function(b){var a=new Date(this.valueOf());a.setYear(a.getFullYear()+b);return a};this.eC=function(a){return a.getMilliseconds()};this.a0=function(a){return a.getSeconds()};this.ZM=function(a){return a.getMinutes()+"."+a.getSeconds()};this.ZL=function(a){return a.getMinutes()};this.mT=function(a){return a.getHours()+"."+a.getMinutes()};this.ns=function(a){return a.getHours()};this.WB=function(a){return a.getFullYear()+"."+a.getWeek()};this.tr=function(a){return(a.getMonth()+1)+"."+(a.getDay()+1)};this.tV=function(a){return a.getFullYear()+"."+(a.getMonth()+1)};this.Qy=function(a){return a.getFullYear()};this.times={second:1000,minute:60000,hour:3600000,day:86400000,week:604800000,month:2592000000,year:31556952000};this.KY=function(j){var f=0;var c=0;var e=0;var k=parseInt(j.toString().substring(0,4));var a=parseInt(j.toString().substring(4,6).replace(/^0/,""));var g=parseInt(j.toString().substring(6,8).replace(/^0/,""));var b=j.toString().match(/\:/)?j.toString().substring(10).split(":"):false;if(b){f=b[0]?parseInt(b[0].replace(/^0/,"")):0;c=b[1]?parseInt(b[1].replace(/^0/,"")):0;e=b[2]?parseInt(b[2].replace(/^0/,"")):0}return new Date(k,a-1,g,f,c,e)};this.ZY=function(f,w){var A,j,q,b,p,i,k,g,u,o,d,v,c,x,y,r,t,n,l,z,a,e;f=new Date(f);j=((A=f.getFullYear())+"").slice(-2);p=(i=f.getMonth()+1)<10?("0"+i):i;b=(q=["January","February","March","April","May","June","July","August","September","October","November","December"][i-1]).substring(0,3);u=(o=f.getDate())<10?("0"+o):o;g=(k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][f.getDay()]).substring(0,3);e=(o>=10&&o<=20)?"th":((a=o%10)==1)?"st":(a==2)?"nd":(a==3)?"rd":"th";w=w.replace("#YYYY#",A).replace("#YY#",j).replace("#MMMM#",q).replace("#MMM#",b).replace("#MM#",p).replace("#M#",i).replace("#DDDD#",k).replace("#DDD#",g).replace("#DD#",u).replace("#D#",o).replace("#th#",e);x=(v=f.getHours());if(x==0){x=24}if(x>12){x-=12}c=x<10?("0"+x):x;d=v<10?("0"+v):v;z=(l=v<12?"am":"pm").toUpperCase();y=(r=f.getMinutes())<10?("0"+r):r;t=(n=f.getSeconds())<10?("0"+n):n;return w.replace("#hhhh#",d).replace("#hhh#",v).replace("#hh#",c).replace("#h#",x).replace("#mm#",y).replace("#m#",r).replace("#ss#",t).replace("#s#",n).replace("#ampm#",l).replace("#AMPM#",z)};this.XK=function(b,a){if(b){if(this.timeFormat=="year"||b>this.times.year*2){if(b/(a||2)>=this.times.year){return"addYears"}else{return"addMonths"}}else{if(this.timeFormat=="month"||b>this.times.week){return"addDays"}else{if(b<this.times.second){return"addMilliseconds"}else{if(b<this.times.minute){return"addSeconds"}else{if(b<this.times.hour){return"addMinutes"}else{if(b<this.times.day){return"addHours"}else{return"addDays"}}}}}}}else{return"addDays"}};this.DJ=function(b){var a=this.XK(b);switch(a){case"addYears":return"year";case"addMonths":return"month";case"addDays":return"shortDate";return b>this.times.week?"yearMonth":"shortDate";case"addHours":return"hour";case"addMinutes":return"minute";case"addSeconds":case"addMilliseconds":return"second"}};this.FI=function(e){var g=[];for(var d=0;d<e.y.smps.length;d++){g.push(new Date(e.y.smps[d]).getTime())}var f=this.Lq(g);var a=this.Lq(g.sort(function(i,h){return i-h}));if(!this.gS(f,a)){var c={y:{vars:e.y.vars,smps:[],data:[]}};for(var d=0;d<e.y.vars.length;d++){c.y.data[d]=[];for(var b=0;b<f.length;b++){c.y.data[d][f[b]]=e.y.data[d][b]}}for(var b=0;b<f.length;b++){c.y.smps[f[b]]=e.y.smps[b]}if(e.x){c.x={};for(var d in e.x){c.x[d]=[];for(var b=0;b<f.length;b++){c.x[d][f[b]]=e.x[d][b]}}}if(e.z){c.z=e.z}this.data=c}};this.Oo=function(u,c){if(!c){c=10}var g={};var l=[];for(var q=0;q<u.length;q++){l.push(new Date(u[q]).getTime())}g.times=l;g.rank=this.Lq(l);g.times.sort(function(v,i){return v-i});g.range=this.cp(l);var b=new Date(g.range[0]);var r=new Date(g.range[1]);var a=[];var p=new Date(b);while(p<=r){a.push(new Date(p));p.setDate(p.getDate()+1)}g.fullRange=a;var o=r.getTime()-b.getTime();var j=o/c;var m=[{unit:"day",milliseconds:86400000},{unit:"week",milliseconds:604800000},{unit:"month",milliseconds:2629800000},{unit:"year",milliseconds:31557600000}];var k=m[0];for(var q=0;q<m.length;q++){var n=m[q];if(j>n.milliseconds){k=n}else{break}}g.unit=k;var h=Math.ceil(j/k.milliseconds);var d=[];var p=new Date(b);while(p<=r){d.push(new Date(p));if(k.unit==="day"){p.setDate(p.getDate()+h)}else{if(k.unit==="week"){p.setDate(p.getDate()+h*7)}else{if(k.unit==="month"){p.setMonth(p.getMonth()+h)}else{p.setFullYear(p.getFullYear()+h)}}}}d.push(new Date(p));g.intervals=d;var t=[];for(var q=0;q<d.length;q++){var s=d[q];if(k.unit==="day"){t.push(s.toLocaleDateString())}else{if(k.unit==="week"){t.push("Week "+s.getWeek()+", "+s.getFullYear())}else{if(k.unit==="month"){t.push(s.toLocaleDateString("default",{month:"short",year:"numeric"}))}else{t.push(s.getFullYear().toString())}}}}g.labels=t;var f=[];for(var q=0;q<l.length;q++){if(k.unit==="day"){f.push(new Date(l[q]).toLocaleDateString())}else{if(k.unit==="week"){f.push("Week "+new Date(l[q]).getWeek()+", "+new Date(l[q]).getFullYear())}else{if(k.unit==="month"){f.push(new Date(l[q]).toLocaleDateString("default",{month:"short",year:"numeric"}))}else{f.push(new Date(l[q]).getFullYear().toString())}}}}g.data=f;var e=[];var p=1;for(var q=0;q<f.length;q++){if(f[q]===t[p]){e.push(f[q]);p++}else{e.push("")}}g.dates=e;return g};this.sm=function(p,k,o){var b=new Date(p);var h=new Date(k);var m=h-b;var g=this.XK(m);var a=[];var f=[];while(b<h){var l=new Date(b);l=l[g](1);b=Date.parse(l);a.push(b)}var c=Math.max(1,Math.floor(a.length/(o-1)));for(var j=0;j<a.length;j++){if(j%c==0){if(Math.abs(a[j])>=0){f.push(a[j])}}}var l=f[1]-f[0];f.unshift(f[0]-l);f.push(f[f.length-1]+l);return f};this.cM=function(){var h=this.RL();if(h.length){var k=Date.parse(h[0]);var a=Date.parse(h[h.length-1]);var g=a-k;var c=this.XK(g,h.length);this.timeValues=[this.dateFormat(new Date(k)[c](-1),this.timeFormat)];this.timeValueIndices=[-1];while(k<=a){var j=new Date(k);var e=this.dateFormat(j,this.timeFormat);var b=this.yV(this.timeFormat.match(/year|hour|minute|second/)?Number(e):e);this.timeValues.push(e);this.timeValueIndices.push(b);j=j[c](1);k=Date.parse(j)}}else{return[]}};this.xj=function(b){var e;var g=new Date();var a=g.getTime();var f=[new Date(a)];var h=this.isGroupedData?this.data.w.labs:this.data.y.smps;if(!b||!this.times[b]){b="day"}for(var c=0;c<h.length;c++){e=Date.parse(h[c]);if(!isNaN(e)){a=e}else{a-=this.times[b]}f.unshift(new Date(a))}return f};this.RL=function(){var j=this.isGroupedData?this.data.w.labs:this.data.y.smps;var b=false;var h=[];for(var c=0;c<j.length;c++){var a=j[c];var e=this.timeFormat;switch(this.timeFormat){case"Year":case"year":a+="/01/02";e="isoDate";break;case"Month":case"month":a="2018/"+CanvasXpress.dates[a]+"/02";e="isoDate";break;case"Day":case"day":a="2018/01/"+CanvasXpress.dates[a];e="isoDate";break}if(!this.r9(a)){this.isGraphTime=false;return[]}var g=Date.parse(this.dateFormat(a,e));if(isNaN(g)){if(this.isExample){h=this.xj();return h}else{b=true;break}}else{h.push(new Date(g))}}h.sort(function(f,d){return f-d});return b?false:h}};CanvasXpress.prototype.initColor=function(){var c=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;var e=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),([0-9\.]+)\)/;var a=/^#?([0-9a-f]{6})$/i;var d=/^#?([0-9a-f]{8})$/i;var b=/^rgba?\((\d{1,3}),(\d{1,3}),(\d{1,3})(?:,([0-9\.]+))?/i;this.u5=function(n,i,g){var o=n;var l=null;if(o==null){return false}if(o instanceof CanvasGradient||o.toString()==="[objectCanvasGradient]"){return n}o=o.toString().replace(/\s/g,"");var m,p,h,j;if(CanvasXpress.colorNames.hasOwnProperty(o)){o=this.SZ(CanvasXpress.colorNames[o])}else{if((p=e.exec(o))){o=p[0]}else{if((m=c.exec(o))){o=m[0]}else{if((j=d.exec(o))){var k=j[1];o=this.SZ("#"+k.substring(0,6));l=parseInt(k.substring(6,8),16)/255;if(i==null){i=l}}else{if((h=a.exec(o))){var k=h[1];o=this.SZ(k.charAt(0)==="#"?k:"#"+k)}else{o=false}}}}}if(o&&i!=null){var f=Math.max(0,Math.min(1,i));o=this.b9(o,f,true)}if(o&&g){return this.W6(o)}return o};this.p1=function(i,f){var j=(f==null)?10:f;var h=this.VQ(i,true);if(!h){return i}h[1]=Math.max(0,h[1]-(j/100));var g="hsl("+Math.floor(h[0]*360)+","+Math.floor(h[1]*100)+"%,"+Math.floor(h[2]*100)+"%)";return this.R2(g)};this.TS=function(j,g){var f=(g==null)?10:g;var i=this.VQ(j,true);if(!i){return j}i[1]=Math.min(1,i[1]+(f/100));var h="hsl("+Math.floor(i[0]*360)+","+Math.floor(i[1]*100)+"%,"+Math.floor(i[2]*100)+"%)";return this.R2(h)};this.vN=function(i){var m=this.u5(i);if(!m){return"#000000"}var h=this.b3(m);if(!h||h.length<3){return"#000000"}var l=h[0];var j=h[1];var f=h[2];var k=h.length>3?h[3]:1;if(k<0.5){return"#000000"}var g=(l*0.299+j*0.587+f*0.114);return g>128?"#000000":"#FFFFFF"};this.eN=function(f){return this.p1(f,100)};this.Y3=function(j,g){var f=(g==null)?10:g;var i=this.VQ(j,true);if(!i){return j}i[2]=Math.min(1,i[2]+(f/100));var h="hsl("+Math.floor(i[0]*360)+","+Math.floor(i[1]*100)+"%,"+Math.floor(i[2]*100)+"%)";return this.R2(h)};this.s8=function(j,f){var h=(f==null)?10:f;var i=this.VQ(j,true);if(!i){return j}i[2]=Math.max(0,i[2]-(h/100));var g="hsl("+Math.floor(i[0]*360)+","+Math.floor(i[1]*100)+"%,"+Math.floor(i[2]*100)+"%)";return this.R2(g)};this.nW=function(m,i){var j=(i==null)?10:i;var h=this.b3(m);if(!h||h.length<3){return m}var g=Math.round(255*(j/100));var l=Math.max(0,Math.min(255,h[0]+g));var k=Math.max(0,Math.min(255,h[1]+g));var f=Math.max(0,Math.min(255,h[2]+g));return"rgb("+l+","+k+","+f+")"};this.P8=function(h){var g=this.VQ(h,true);if(!g){return h}g[0]=(g[0]+0.5)%1;var f="hsl("+Math.floor(g[0]*360)+","+Math.floor(g[1]*100)+"%,"+Math.floor(g[2]*100)+"%)";return this.R2(f)};this.Kn=function(f,n,r){var j=r.VQ(f,true);if(!j){return[f]}var q=[f];var g=j[0];var l=j[1];var p=j[2];for(var h=0;h<n.length;h++){var o=n[h];var k=(g+(o/360))%1;var m="hsl("+Math.floor(k*360)+","+Math.floor(l*100)+"%,"+Math.floor(p*100)+"%)";q.push(r.R2(m))}return q};this.WP=function(f){return this.Kn(f,[120,240],this)};this.RG=function(f){return this.Kn(f,[90,180,270],this)};this.RV=function(f){return this.Kn(f,[72,144,216,288],this)};this.Ce=function(f){return this.Kn(f,[60,120,180,240,300],this)};this.tl=function(f){return this.Kn(f,[72,216],this)};this.AO=function(f,u){var m=[];var t=this.b3(f);if(!t||t.length<3||!u||u<=0){return[f]}var h=t[0];var n=t[1];var r=t[2];var s=u+1;var p=(255-h)/s;var q=(255-n)/s;var l=(255-r)/s;for(var k=1;k<=u;k++){var g=Math.floor(h+(p*k));var j=Math.floor(n+(q*k));var o=Math.floor(r+(l*k));g=Math.min(255,Math.max(0,g));j=Math.min(255,Math.max(0,j));o=Math.min(255,Math.max(0,o));m.unshift("rgb("+g+","+j+","+o+")")}return m};this.uf=function(m,i){var h=this.W6(this.u5(m||"#000000"));if(!h||h.charAt(0)!=="#"){return"rgb(0,0,0)"}var l=h.substring(1,7);var g=parseInt(l,16);var k=(g>>16)+i;k=k>255?255:k<0?0:k;var j=((g>>8)&255)+i;j=j>255?255:j<0?0:j;var f=(g&255)+i;f=f>255?255:f<0?0:f;return"rgb("+k+","+j+","+f+")"};this.W6=function(j){var k=function(m){var l=parseInt(m,10);if(isNaN(l)){return"00"}l=Math.max(0,Math.min(l,255));var n=l.toString(16);return n.length==1?"0"+n:n};if(!j){return j}if(a.test(j)){return j.charAt(0)==="#"?j:"#"+j}var g=b.exec(j);if(g){var i=k(g[1]);var h=k(g[2]);var f=k(g[3]);return"#"+i+h+f}else{return j}};this.VQ=function(i,n){var x=this.b3(i);if(!x||x.length<3){return null}var j=x[0]/255;var t=x[1]/255;var u=x[2]/255;var v=Math.max(j,t,u);var p=Math.min(j,t,u);var q,y;var o=(v+p)/2;if(v==p){q=0;y=0}else{var w=v-p;y=o>0.5?w/(2-v-p):w/(v+p);switch(v){case j:q=(t-u)/w+(t<u?6:0);break;case t:q=(u-j)/w+2;break;case u:q=(j-t)/w+4;break}q/=6}if(n){return[q,y,o]}else{var m=Math.round(q*360);var k=Math.round(y*100);var f=Math.round(o*100);return"hsl("+m+","+k+"%,"+f+"%)"}};this.yQ=function(f,j){var i=this.u5(f);if(!i){return f}var l=b.exec(i);if(l){var h=parseInt(l[1],10);var m=parseInt(l[2],10);var o=parseInt(l[3],10);var p=255-h;var k=255-m;var n=255-o;if(p==k&&k==n){if(h>=128){i="rgb(0,0,0)"}else{i="rgb(255,255,255)"}}else{i="rgb("+p+","+k+","+n+")"}return j?this.W6(i):i}else{return f}};this.SZ=function(g){if(!g){return g}var j=g.charAt(0)=="#"?g.substring(1):g;if(!/^[0-9a-f]{6}$/i.test(j)){return g}var i=parseInt(j.substring(0,2),16);var h=parseInt(j.substring(2,4),16);var f=parseInt(j.substring(4,6),16);if(isNaN(i)||isNaN(h)||isNaN(f)){return g}return"rgb("+i+","+h+","+f+")"};this.R2=function(w){function i(l,h,g){if(g<0){g+=1}if(g>1){g-=1}if(g<1/6){return l+(h-l)*6*g}if(g<1/2){return h}if(g<2/3){return l+(h-l)*(2/3-g)*6}return l}if(!w||typeof w!=="string"){return w}var u=/hsl\((\d{1,3}),(\d{1,3})%?,(\d{1,3})%?\)/i.exec(w.replace(/\s/g,""));if(!u){return w}var t=parseInt(u[1],10)/360;var z=parseInt(u[2],10)/100;var n=parseInt(u[3],10)/100;t=Math.max(0,Math.min(1,t));z=Math.max(0,Math.min(1,z));n=Math.max(0,Math.min(1,n));var f,v,x;if(z==0){f=v=x=n}else{var j=n<0.5?n*(1+z):n+z-n*z;var k=2*n-j;f=i(k,j,t+1/3);v=i(k,j,t);x=i(k,j,t-1/3)}var m=Math.round(f*255);var o=Math.round(v*255);var y=Math.round(x*255);return"rgb("+m+","+o+","+y+")"};this.b9=function(f,h,g,j,m){if(f==null){return false}if(f instanceof CanvasGradient){return f}var n=f;if(m){n=this.pP(n,g)}if(!g){n=this.u5(n)}if(!n){return false}var l=b.exec(n);if(!l){n=this.u5(n);l=b.exec(n)}if(l){var k=l[1]+","+l[2]+","+l[3];var i;if(j){i=0}else{i=Math.max(0,Math.min(1,h));if(h==null&&l[4]!=null){i=Math.max(0,Math.min(1,parseFloat(l[4])))}else{if(h==null){i=1}else{if(h!=null&&l[4]!=null){i=Math.min(parseFloat(l[4]),h)}}}}return"rgba("+k+","+i+")"}else{return false}};this.pP=function(i,h){if(i==null){return false}if(i instanceof CanvasGradient){return i}var f=i;if(!h){f=this.u5(f)}if(!f){return false}var g=b.exec(f);if(g){return"rgb("+g[1]+","+g[2]+","+g[3]+")"}else{if(a.test(f)){return this.SZ(f)}return false}};this.Pl=function(i,h){if(i==null){return null}if(i instanceof CanvasGradient){return null}var f=i;if(!h){f=this.u5(f)}if(!f){return null}var g=b.exec(f);if(g&&g[4]!=null){return Math.max(0,Math.min(1,parseFloat(g[4])))}else{return null}};this.Xo=function(h,f){var g=this.Pl(h,f);return g===0};this.zD=function(r){if(!r||r.length===0){return false}var p=0,o=0,j=0,q=0;var k=0;var m=false;for(var l=0;l<r.length;l++){var f=this.u5(r[l]);var n=this.b3(f);if(n&&n.length>=3){p+=n[0];o+=n[1];j+=n[2];if(n.length>3&&n[3]!=null){q+=n[3];m=true}else{q+=1}k++}}if(k===0){return false}var t=Math.round(p/k);var h=Math.round(o/k);var s=Math.round(j/k);t=Math.max(0,Math.min(255,t));h=Math.max(0,Math.min(255,h));s=Math.max(0,Math.min(255,s));if(m){var g=q/k;g=Math.max(0,Math.min(1,g));g=parseFloat(g.toFixed(3));return"rgba("+t+","+h+","+s+","+g+")"}else{return"rgb("+t+","+h+","+s+")"}};this.b3=function(k){if(!k){return null}var g=b.exec(k);if(g){var j=parseInt(g[1],10);var i=parseInt(g[2],10);var f=parseInt(g[3],10);var h=[j,i,f];if(g[4]!=null){h.push(parseFloat(g[4]))}if(isNaN(j)||isNaN(i)||isNaN(f)){return null}return h}return null};this.q4=function(k,g){var h=this.b3(this.u5(k));if(!h||h.length<3){return k}var f=Math.round(0.299*h[0]+0.587*h[1]+0.114*h[2]);f=Math.max(0,Math.min(255,f));var i="rgb("+f+","+f+","+f+")";if(g!=null){var j=Math.max(0,Math.min(1,g));return this.b9(i,j,true)}else{return i}};this.QK=function(n,I){var z=this.u5(n,I);var M=this.b3(z);if(!M||M.length<3){return n}var r=M[0];var u=M[1];var J=M[2];if(r===0&&u===0&&J===0){return"rgb(0,0,0)"}var p=[0.7465,0.2535,1.273463,-0.073894];var ac=[1.4,-0.04,0.968437,0.003331];var Q=[1.748,0,0.062921,0.292119];var N;switch(this.blindnessType){case"protanopia":N=p;break;case"deuteranopia":N=ac;break;case"tritanopia":N=Q;break;case"monochromatic":var g=Math.ceil((r*0.212656+u*0.715158+J*0.072186));g=Math.max(0,Math.min(255,g));return"rgb("+g+","+g+","+g+")";default:return z}var S=N[0];var R=N[1];var X=N[2];var E=N[3];var x=Math.pow(r/255,2.2);var w=Math.pow(u/255,2.2);var q=Math.pow(J/255,2.2);var F=x*0.412424+w*0.357579+q*0.180464;var D=x*0.212656+w*0.715158+q*0.072185;var B=x*0.019332+w*0.119193+q*0.950444;var H=F+D+B;var k=(H===0)?0:F/H;var j=(H===0)?0:D/H;var y=(j-R)/(k-S);var U=j-k*y;var h=(E-U)/(y-X);var f=(y*h)+U;var af=(f===0)?0:h*D/f;var ad=D;var ab=(f===0)?0:(1-(h+f))*D/f;var aa=0.312713*D/0.329016;var Z=0.358271*D/0.329016;var T=aa-af;var P=Z-ab;var L=T*3.24071+P*-0.498571;var V=T*-0.969258+P*0.0415557;var v=T*0.0556352+P*1.05707;var C=af*3.24071+ad*-1.53726+ab*-0.498571;var K=af*-0.969258+ad*1.87599+ab*0.0415557;var O=af*0.0556352+ad*-0.203996+ab*1.05707;var ae=((L<0?0:1)-C)/L;var l=((V<0?0:1)-K)/V;var m=((v<0?0:1)-O)/v;var Y=[(isNaN(ae)||ae>1||ae<0)?0:ae,(isNaN(l)||l>1||l<0)?0:l,(isNaN(m)||m>1||m<0)?0:m];var t=Math.max.apply(null,Y);C=C+(t*L);K=K+(t*V);O=O+(t*v);var o=Math.pow(Math.max(0,C),1/2.2);var G=Math.pow(Math.max(0,K),1/2.2);var A=Math.pow(Math.max(0,O),1/2.2);var s=Math.round(Math.max(0,Math.min(255,o*255)));var i=Math.round(Math.max(0,Math.min(255,G*255)));var W=Math.round(Math.max(0,Math.min(255,A*255)));return"rgb("+s+","+i+","+W+")"};this.ra=function(){if(this.gradientTemp===undefined){this.gradientTemp=this.gradient}if(this.transparencyTemp===undefined){this.transparencyTemp=this.transparency}if(this.showShadowTemp===undefined){this.showShadowTemp=this.showShadow}this.gradient=false;this.transparency=null;this.showShadow=false};this.cq=function(){if(this.gradientTemp!==undefined){this.gradient=this.gradientTemp}if(this.transparencyTemp!==undefined){this.transparency=this.transparencyTemp}if(this.showShadowTemp!==undefined){this.showShadow=this.showShadowTemp}};this.lX=function(){delete this.gradientTemp;delete this.transparencyTemp;delete this.showShadowTemp};this.h0=function(g,l,k,i,f,j){var h=true;if(this.gradientType==="radial"){return this.ej(g,l,k,f,j,h)}else{return this.dX(g,l,k,i,f,j,h)}};this.dX=function(w,u,g,f,l,y,p){if(!p){this.kg()}var j=this.E1();if(!j){return null}var h=j.createLinearGradient(w,u,g,f);var n=l||this.colorSpectrum;var z=y;if(!this.tO(n)||n.length<2){if(this.u5(n)){n=[n,"rgb(0,0,0)"]}else{n=this.colorSpectrum;if(!this.tO(n)||n.length<2){n=["rgb(255,255,255)","rgb(0,0,0)"]}}}if(!z||!this.tO(z)){z=this.s9()?[]:this.colorSpectrumBreaks}var q=n.length;var m=q>1?1/(q-1):0;var k=m;var x=[];for(var s=0;s<q;s++){x[s]=this.u5(n[s]);if(!x[s]){x[s]="rgb(0,0,0)"}}var v=(z&&z.length>0&&z[0]!=null)?z[0]:0;var o=this.transparency!=null?this.b9(x[0],this.transparency,true):x[0];h.addColorStop(Math.max(0,Math.min(1,v)),o);for(var s=1;s<q;s++){var t=(z&&z.length>s&&z[s]!=null)?z[s]:k;var r=this.transparency!=null?this.b9(x[s],this.transparency,true):x[s];h.addColorStop(Math.max(0,Math.min(1,t)),r);k+=m}return h};this.ej=function(o,l,h,m,z,s){if(!s){this.kg()}var g=this.E1();if(!g){return null}var n=h/5.5;var j=1;var f=g.createRadialGradient(o-n,l-n,j,o,l,h);var q=m||this.colorSpectrum;var A=z;if(!this.tO(q)||q.length<2){if(this.u5(q)){q=[q,"rgb(0,0,0)"]}else{q=this.colorSpectrum;if(!this.tO(q)||q.length<2){q=["rgb(255,255,255)","rgb(0,0,0)"]}}}if(!A||!this.tO(A)){A=this.s9()?[]:this.colorSpectrumBreaks}var t=q.length;var p=t>1?1/(t-1):0;var k=p;var y=[];for(var v=0;v<t;v++){y[v]=this.u5(q[v]);if(!y[v]){y[v]="rgb(0,0,0)"}}var x=(A&&A.length>0&&A[0]!=null)?A[0]:0;var r=this.transparency!=null?this.b9(y[0],this.transparency,true):y[0];f.addColorStop(Math.max(0,Math.min(1,x)),r);for(var v=1;v<t;v++){var w=(A&&A.length>v&&A[v]!=null)?A[v]:k;var u=this.transparency!=null?this.b9(y[v],this.transparency,true):y[v];f.addColorStop(Math.max(0,Math.min(1,w)),u);k+=p}return f};this.hJ=function(g){var h=g.match(/^\W*([0-9A-F]{3}([0-9A-F]{3})?)\W*$/i);if(h){var k=h[1];var j,i,f;if(k.length===6){j=parseInt(k.substr(0,2),16)/255;i=parseInt(k.substr(2,2),16)/255;f=parseInt(k.substr(4,2),16)/255}else{j=parseInt(k.charAt(0)+k.charAt(0),16)/255;i=parseInt(k.charAt(1)+k.charAt(1),16)/255;f=parseInt(k.charAt(2)+k.charAt(2),16)/255}if(typeof this.colorFromRgb==="function"){this.Pw(j,i,f)}}};this.Pw=function(i,h,f){var k=this.colorRGB||[1,1,1];var j=this.colorHSV||[0,0,1];if(k&&this.tO(k)&&k.length===3){if(i!=null){k[0]=Math.min(1,Math.max(0,i))}if(h!=null){k[1]=Math.min(1,Math.max(0,h))}if(f!=null){k[2]=Math.min(1,Math.max(0,f))}var g=this.VN(k[0],k[1],k[2]);if(g&&j&&this.tO(j)&&j.length===3){if(g[0]!=null){j[0]=g[0]}j[1]=g[1];j[2]=g[2]}}};this.VN=function(k,j,g){var f=Math.min(k,j,g);var m=Math.max(k,j,g);var l=m-f;var h=null;var i=0;if(m===0){i=0}else{i=l/m}if(l===0){h=null;i=0}else{if(m===k){h=(j-g)/l+(j<g?6:0)}else{if(m===j){h=(g-k)/l+2}else{h=(k-j)/l+4}}}return[h,i,m]};this.cF=function(f,h,i){var k=this.colorRGB||[1,1,1];var j=this.colorHSV||[0,0,1];if(j&&this.tO(j)&&j.length===3){if(f!=null){j[0]=Math.min(6,Math.max(0,f))}if(h!=null){j[1]=Math.min(1,Math.max(0,h))}if(i!=null){j[2]=Math.min(1,Math.max(0,i))}var g=this.nD(j[0],j[1],j[2]);if(g&&k&&this.tO(k)&&k.length===3){k[0]=g[0];k[1]=g[1];k[2]=g[2]}}};this.nD=function(l,k,n){var h,j,o;if(k===0||l==null){h=j=o=n}else{var i=Math.floor(l);var m=l-i;var g=n*(1-k);var f=n*(1-k*m);var r=n*(1-k*(1-m));switch(i){case 0:case 6:h=n;j=r;o=g;break;case 1:h=f;j=n;o=g;break;case 2:h=g;j=n;o=r;break;case 3:h=g;j=f;o=n;break;case 4:h=r;j=g;o=n;break;case 5:h=n;j=g;o=f;break;default:h=j=o=n}}return[Math.max(0,Math.min(1,h)),Math.max(0,Math.min(1,j)),Math.max(0,Math.min(1,o))]};this.il=function(){var j=this.colorRGB||[1,1,1];if(j&&this.tO(j)&&j.length===3){var h=Math.round(255*j[0]);var g=Math.round(255*j[1]);var f=Math.round(255*j[2]);var i=function(k){var l=k.toString(16);return l.length===1?"0"+l:l};return i(h)+i(g)+i(f)}return undefined};this.Np=function(){return this.Z7(CanvasXpress.colorNames||{})};this.Tx=function(){return this.Z7(CanvasXpress.colorSchemes||{})};this.t5=function(g){if(!g){throw new Error("Input color string is empty or invalid.")}var h=g.toString().toLowerCase().replace(/\s/g,"");var i=a.exec(h);if(i){return i[1]}var k=b.exec(h);if(k&&k[4]==null){var j=this.W6(h);if(j&&j.charAt(0)==="#"){return j.substring(1)}}if(CanvasXpress.colorNames&&CanvasXpress.colorNames.hasOwnProperty(h)){var f=CanvasXpress.colorNames[h];if(f&&f.charAt(0)==="#"){return f.substring(1)}else{if(a.test("#"+f)){return f}}}throw new Error('"'+g+'" is not a valid color name, hex (#RRGGBB), or rgb() string.')};this.PW=function(g,j){var f=g;if(!f||!f.breaks||!f.colors){f=(this.meta&&this.meta.def&&this.meta.def.colorBrew)||(typeof this.getColorBrew==="function"?this.dl():null)}if(!f||!this.tO(f.breaks)||!this.tO(f.colors)||f.colors.length===0){return"rgb(0,0,0)"}for(var h=0;h<f.breaks.length;h++){if(j<=f.breaks[h]){return f.colors[Math.min(h,f.colors.length-1)]}}return f.colors[f.colors.length-1]};this.XN=function(f,s){var r=this;var o=f;if(!o){o=(this.meta&&this.meta.def&&this.meta.def.colorBrew)}if(!o||!this.tO(o.grads)){return"rgba(0,0,0,0)"}var h=function(E,I,C){var A=E*2;var z=A+2;var J=(I.scol||"").replace("#","");var K=(I.ecol||"").replace("#","");if(J.length!==6||K.length!==6){return"00"}var N=J.substring(A,z);var L=K.substring(A,z);var B=parseInt(N,16);var H=parseInt(L,16);if(isNaN(B)||isNaN(H)){return"00"}var F=I.min;var M=I.max;var D=M-F;var P=Math.max(F,Math.min(M,C));var y=H-B;var O=(D===0)?0:(P-F)/D;var i=Math.round(B+(y*O));i=Math.max(0,Math.min(255,i));var G=i.toString(16);return G.length===1?"0"+G:G};var n=function(B){if(B<0||B>=o.grads.length){return"rgba(0,0,0,0)"}var i=o.grads[B];var z=h(0,i,s);var y=h(1,i,s);var A=h(2,i,s);return r.SZ("#"+z+y+A)};if(o.grads.length===1){return n(0)}if(this.colorSpectrumBinned){var l=o.stops;var x=o.spectrum;if(!this.tO(x)||x.length===0){return"rgba(0,0,0,0)"}if(l&&this.tO(l)&&l.length>1){var m=x.length;var u=l[0];var k=l[l.length-1];if(s<u){return x[0]}if(s>=k){return x[m-1]}for(var v=0;v<l.length-1;v++){if(s>=l[v]&&s<l[v+1]){return x[Math.min(v,m-1)]}}return x[m-1]}else{var q=o.min;var w=o.max;var p=w-q;if(p<=0||x.length===0){return x[0]||"rgba(0,0,0,0)"}var j=p/x.length;var t=Math.floor((s-q)/j);if(s>=w){t=x.length-1}t=Math.max(0,Math.min(x.length-1,t));return x[t]}}else{for(var v=0;v<o.grads.length;v++){var g=o.grads[v];if(s>=g.min&&s<g.max){return n(v)}if(v===o.grads.length-1&&s===g.max){return n(v)}}if(s<o.grads[0].min){return n(0)}if(s>o.grads[o.grads.length-1].max){return n(o.grads.length-1)}return"rgba(0,0,0,0)"}};this.dl=function(n,z,I,L,N,C){var t=function(V,R){var T=[];var U=V.length;if(U<=4||(U<=8&&R>=500)){return V}var P=V[0];var Q=V[U-1];var O,S,i;if(U>8){O=(V[1]+V[2]+V[3]+V[4]+V[5]+V[6]+V[7])/7;S=(P+O)/2;i=(Q+O)/2;if(R<250){T=[P,O,Q]}else{T=[P,S,O,i,Q]}}else{if(U===8){O=(V[1]+V[2]+V[3]+V[4]+V[5]+V[6])/6;S=(P+O)/2;i=(Q+O)/2;if(R<250){T=[P,O,Q]}else{T=[P,S,O,i,Q]}}else{if(U===7){T=[V[0],V[2],V[4],V[6]]}else{if(U===6){O=(V[1]+V[2]+V[3]+V[4])/4;S=(P+O)/2;i=(Q+O)/2;if(R<250){T=[P,O,Q]}else{T=[P,S,O,i,Q]}}else{if(U===5){if(R<250){T=[V[0],V[2],V[4]]}else{T=V}}}}}}return T};var A=n||this.colorSpectrum;var s=this.graphType=="Genome";if(z!=null&&I!=null&&z==I){I+=0.1}var M=z!=null&&N&&N.length?Math.min(z,N[0]):z!=null?z:this.minData!=null?this.minData:0;var g=I!=null&&N&&N.length?Math.max(I,N[N.length-1]):I!=null?I:this.maxData!=null?this.maxData:100;var m=!s&&!C&&this.setMinX!=null?this.setMinX:null;var E=!s&&!C&&this.setMaxX!=null?this.setMaxX:null;var w,K,J;var o=[];if(L==null){J=(M+g)/2}else{J=L;w=J-M;K=g-J;if(w>K){g=J+w}else{M=J-K}}var j=this[this.axisAlgorithm](Math.min(m||M,E||g),Math.max(m||M,E||g),5,this.isGraphTime,this.axisWilkinsonLoose);j=t(j,this.heatmapIndicatorWidth);if(this.colorSpectrumBinned&&N&&N.length){j=N}if(g==Math.abs(M)&&L==0&&j.length%2){j[Math.floor(j.length/2)]=0}var r=(j[j.length-1]-j[0])/(A.length-1);var x=this.CU(j[1]-j[0]);var q=[];for(var F=0;F<j.length;F++){q[F]=j[F].toFixed(x)}var v=this.pQ(q);var f=this.pb(v.toString(),this.font);var H=j[j.length-1]-j[0];var p=[];var y=this.colorSpectrumNumber;if(N&&N.length>1&&N.length==A.length){for(var F=0;F<N.length;F++){N[F]=Number(N[F]);p.push(this.gG(N[F].toString()))}v=this.pQ(p);f=this.pb(v.toString(),this.font);N=N.sort(function(O,i){return O-i});var G=N[0];var h=Math.ceil(100/A.length)+1;for(var F=1;F<N.length;F++){var l=N[F];var D=this.XX(G,l,false,h);G=D.pop();o=o.concat(D)}o.push(G);y=o.length}else{o=this.XX(j[0],j[j.length-1],false,y)}var k={spectrum:A,stops:N,z:L,colors:[],smooth:[],grads:[],rmin:M,rmax:g,min:(N&&N.length>1?N[0]:j[0]),max:(N&&N.length>1?N[N.length-1]:j[j.length-1]),range:H,zero:J,vals:j,valStr:q,incr:r,decs:x,breaks:o,maxLevLen:f,maxLevChr:v.toString().length,maxLevStr:v};for(var F=0;F<A.length-1;F++){var B={scol:this.t5(A[F]),ecol:this.t5(A[F+1]),min:(N&&N.length>1?N[F]:j[0]+(r*F)),max:(N&&N.length>1?N[F+1]:j[0]+(r*(F+1)))};k.grads.push(B)}for(var F=0;F<y;F++){var u=this.XN(k,o[F]);k.colors.push(u);k.smooth.push(u)}return k};this.GG=function(){var g=this.meta.data;var k=this.data.y;var m=this.colorSpectrumByObject||{};var l=["data2","data3","data4","data5","data6"];for(var j=0;j<l.length;j++){var n=l[j];if(k[n]&&g[n]){if(!m[n]){m[n]={}}var f=m[n];if(!f.spectrum){f.spectrum=this.colorSpectrum}if(f.setMinX==null){f.setMin=this.setMinX!=null?this.setMinX:0}else{f.setMin=f.setMinX}if(f.setMaxX==null){f.setMax=this.setMaxX!=null?this.setMaxX:100}else{f.setMax=f.setMaxX}if(f.zero==null){f.zero=null}if(!f.breaks){f.breaks=[]}if(f.show==null){f.show=true}var h=this.dl(f.spectrum,f.setMin,f.setMax,f.zero,f.breaks,true);g[n].colorBrew=h}}};this.mJ=function(p){var y=this.meta.def;var g=this.meta.data;if(!p){return}var h="";if(this.meta&&g&&g.x&&g.x.hasOwnProperty(p)){h="x"}else{if(this.meta&&g&&g.z&&g.z.hasOwnProperty(p)){h="z"}else{return}}var u=(h==="x")?(g.x[p]?g.x[p].levels:null):(g.z[p]?g.z[p].levels:null);if(!u||!this.tO(u)){return}if(!y.factorColorBrew){y.factorColorBrew={}}if(!y.factorColorBrew[p]){y.factorColorBrew[p]={}}if(!this.colorSpectrumByFactor){this.colorSpectrumByFactor={}}if(!this.colorSpectrumByFactor[p]){this.colorSpectrumByFactor[p]={}}for(var o=0;o<u.length;o++){var t=u[o];var v=[];var s=[];if(h==="x"){v=this.MJ(p,t);for(var n=0;n<v.length;n++){var x=v[n];for(var m=0;m<this.varIndices.length;m++){var r=this.varIndices[m];var w=this.data.y.data[r][x];if(this.xx(w)){s.push(w)}}}}else{v=this.iW(p,t);for(var n=0;n<v.length;n++){var r=v[n];for(var m=0;m<this.smpIndices.length;m++){var x=this.smpIndices[m];var w=this.data.y.data[r][x];if(this.xx(w)){s.push(w)}}}}var q=this.cp(s);if(!this.colorSpectrumByFactor[p][t]){this.colorSpectrumByFactor[p][t]={}}var f=this.colorSpectrumByFactor[p][t];if(!f.spectrum){f.spectrum=this.colorSpectrum}if(f.setMin==null){f.setMin=q[0]}if(f.setMax==null){f.setMax=q[1]}if(f.zero==null){f.zero=null}if(!f.breaks){f.breaks=[]}if(f.show==null){f.show=true}if(f.order==null){f.order=0}var l=this.dl(f.spectrum,f.setMin,f.setMax,f.zero,f.breaks);y.factorColorBrew[p][t]=l;y.factorColorBrew[p][t].show=f.show;y.factorColorBrew[p][t].order=f.order}};this.er=function(m,j,i){this.hC();var q=this.meta.def;var o=q.colorBrew;if(!o||m||this.heatmapAutoAdjust){if(this.meta.vals&&this.meta.vals.colors){this.meta.vals.colors={}}var n,k;if(this.graphType&&this.graphType.match(/Stacked/)){n=this.minDataStacked;k=this.maxDataStacked}else{if(this.isTransformedData&&j){var p=this.showHistogram?0.000001:this.minData;var g=this.maxData;if(this.data&&this.data.y&&this.data.y.trans){n=this.lJ(this.data.y.trans);k=this.K1(this.data.y.trans)}else{n=this.minData;k=this.maxData}if(!this.xx(n,true)||!this.xx(k,true)){n=0;k=1}}else{if(i){n=i.rmin;k=i.rmax}else{n=this.minData;k=this.maxData}}}q.colorBrew=this.dl(this.colorSpectrum,n,k,this.colorSpectrumZeroValue,this.colorSpectrumBreaks)}else{if(j){var f=o;var h=this.minData!=null?this.minData:f.rmin;var l=this.maxData!=null?this.maxData:f.rmax;if(i){h=i.rmin;l=i.rmax}q.colorBrew=this.dl(this.colorSpectrum,h,l,f.z,f.stops)}else{var f=o;q.colorBrew=this.dl(this.colorSpectrum,f.rmin,f.rmax,this.colorSpectrumZeroValue,this.colorSpectrumBreaks)}}};this.NH=function(r,o,j){var k=r||8;var x=o||this.colorScheme;var s=CanvasXpress.colorSchemes||{};if(!x||!s.hasOwnProperty(x)){if(!s.hasOwnProperty(x)){return this.colors||["rgb(0,0,0)","rgb(255,255,255)"]}}var p=s[x];var n=this.Nv(p).map(Number).sort(function(y,i){return y-i});if(n.length===0){return this.colors||["rgb(0,0,0)","rgb(255,255,255)"]}if(p[k]){return this.TU(p[k])}var g=n[n.length-1];if(g===256&&p[256]&&this.tO(p[256])){var h=p[256];var m=[];var w=this.Lu(k);for(var t=0;t<k;t++){var l=Math.max(0,Math.min(255,Math.floor(w[t]*256)));m.push(h[l])}return m}if(k>g){var f=this.TU(p[g]);if(j){return f}else{var v=f.slice();var u=f.length;for(var t=u;t<k;t++){v.push(f[t%u])}return v}}if(k<g){var q=g;for(var t=0;t<n.length;t++){if(n[t]>=k){q=n[t];break}}return this.TU(p[q])}return this.TU(p[g])};this.hC=function(){var g=this.meta.def;var l=this.blindnessType;var k=g.blindnessTypeSpectrum;var j=g.colorSpectrum;if(l&&(!j||l!==k)){if(!j){g.colorSpectrum=this.TU(this.colorSpectrum);j=g.colorSpectrum}var f=[];for(var h=0;h<j.length;h++){f.push(typeof this.blindColor==="function"?this.QK(j[h]):j[h])}this.colorSpectrum=f;g.blindnessTypeSpectrum=l;delete g.colorBrew}else{if(!l&&k&&j){this.colorSpectrum=this.TU(j);g.blindnessTypeSpectrum=null;delete g.colorBrew}}};this.NM=function(D,f){var u=this;var n=false;var w;var v=this.meta.def;var y=this.meta.data;var h=function(G){if(u.data&&u.data[G]){if(u.colorBy&&u.meta.data[G]&&u.meta.data[G].hasOwnProperty(u.colorBy)){var F=u.meta.data[G][u.colorBy];return F.colors?F.colors.length:(F.levels?F.levels.length:u.data.y.smps.length)}else{var i=u.data.y.smps.length;if(u.meta.data&&u.meta.data[G]){for(var E in u.meta.data[G]){if(u.meta.data[G][E].levels){i=Math.max(i,u.meta.data[G][E].levels.length)}}}return i}}return u.data&&u.data.y?u.data.y.smps.length:8};if(this.colorScheme==="User"){w=this.TU(this.colors||[])}else{if(this.colorScheme==="ColorSpectrum"){var g=this.graphType==="Circular"?Math.max(this.data.y.vars.length,this.data.y.smps.length):this.data.y.vars.length;var A=this.colorSpectrumNumber;this.colorSpectrumNumber=g;var q=this.dl(this.colorSpectrum,0,g);w=q.colors;this.colorSpectrumNumber=A}else{var m;if(D&&D.type==="String"&&D.levels){m=D.levels.length}else{if(this.yW()){if(this.layoutValid&&!this.showHistogram){m=h("z")}else{if(this.showHistogram){var k=!this.layoutValid?h("z"):1;m=this.data.y.smps.length*k}else{if(this.colorBy&&y&&y.z&&y.z.hasOwnProperty(this.colorBy)&&y.z[this.colorBy].colors){m=y.z[this.colorBy].levels.length}else{m=this.data.y.smps.length}}}}else{if(this.graphType&&this.graphType.match(/Treemap|TagCloud|Sankey|Tree|Circular/)){m=this.colorBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorBy)&&y.x[this.colorBy].colors?y.x[this.colorBy].colors.length:this.data.y.smps.length}else{if(this.graphType&&this.graphType.match(/Venn/)){m=this.vennGroups||3}else{if(this.graphType&&this.graphType.match(/Pie/)){m=this.data.y.vars.length}else{if(this.graphType&&this.graphType.match(/Network|Genome|Correlation/)){var x=CanvasXpress.colorSchemes||{};var r=x[this.colorScheme]||{};var l=this.Nv(r).map(Number).sort(function(E,i){return E-i});m=l.length>0?l[l.length-1]:8}else{if(this.graphType==="ParallelCoordinates"){m=this.colorBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorBy)&&y.x[this.colorBy].colors?y.x[this.colorBy].colors.length:this.data.y.smps.length}else{if(this.graphType&&this.graphType.match(/BarLine|DotLine/)&&this.coordinateLineColor&&(!this.isGroupedData||!this.colorBy)){m=Math.max(this.xAxis.length,this.xAxis2.length)}else{if(this.colorBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorBy)){var s=y.x[this.colorBy];m=s.colors?s.colors.length:(s.levels?s.levels.length:this.data.y.vars.length)}else{m=this.data.y.vars.length}}}}}}}}}w=this.NH(m,this.colorScheme);if(v.colors&&JSON.stringify(v.colors)!==JSON.stringify(w)){v.colors=this.TU(w);n=true}else{if(!v.colors){v.colors=this.TU(w);n=true}}}}var j=w;var p=this.blindnessType;var t=v.blindnessTypeColors;var o=v.colors;if(p&&(!o||p!==t||n)){if(!o||n){v.colors=this.TU(w);o=v.colors}var B=[];for(var z=0;z<o.length;z++){B.push(typeof this.blindColor==="function"?this.QK(o[z]):o[z])}j=B;v.blindnessTypeColors=p}else{if(!p&&t&&o){j=this.TU(o);v.blindnessTypeColors=null}}var C=[];for(var z=0;z<j.length;z++){C.push(this.u5(j[z])||"rgb(0,0,0)")}if(!D){this.colors=C}this.rj(C,D)};this.Zh=function(){if(this.tO(this.colors)){var h=[];for(var f=0;f<this.colors.length;f++){h.push(this.u5(this.colors[f])||"rgb(0,0,0)")}this.colors=h}else{this.colors=[]}if(this.tO(this.colorSpectrum)){var g=[];for(var f=0;f<this.colorSpectrum.length;f++){g.push(this.u5(this.colorSpectrum[f])||"rgb(0,0,0)")}this.colorSpectrum=g}else{this.colorSpectrum=[]}}};CanvasXpress.prototype.initAttributes=function(){this.ub=function(b,a,c){return{fillStyle:b,strokeStyle:b,lineWidth:(a?a:this.outlineWidth),lineCap:(c?c:this.capType),funcs:[]}};this.NB=function(k,j,l,e,g,d,c,a,i,m){if(m){this.kg(m);this.ak(k,j,m);if(a){this.gZ(a,m)}}var b={funcs:[]};if(this.transparency!=null){g=this.b9(g,this.transparency,true)}if(this.gradient){if(this.gradientType=="radial"){b.fillStyle=this.h0(0,0,Math.max(Math.abs(l),Math.abs(e)),false,g)}else{b.fillStyle=this.h0(0,0,l,e,g)}}else{if(c){switch(c){case"closed":case"solid":b.fillStyle=g;break;case"open":break;default:if(g){if(g.match(/0.1\)$/)&&d.match(/0.1\)$/)){b.globalAlpha=0.1}}b.fillStyle=CanvasXpress.cachePatterns[c]?CanvasXpress.cachePatterns[c]:g;break}}else{b.fillStyle=g}}b.strokeStyle=d?d:this.foreground;b.lineWidth=i?i:this.outlineWidth;b.lineJoin=this.joinType;if((l&&b.lineWidth>=l)||(e&&b.lineWidth>=e)){b.strokeStyle=g}return b};this.dC=function(b,d,c,a){if(c&&c=="open"){a.funcs.push(["stroke",[]])}else{if(d==b){a.funcs.push(["fill",[]])}else{a.funcs.push(["fill",[]]);a.funcs.push(["stroke",[]])}}};this.JG=function(a){if(!a){a=this.E1()}a.resetContext()};this.UR=function(c){var b,d,a,e;if(c&&c.length==4){b=c[0];d=c[1];a=c[2];e=c[3]}else{b=this.marginLeft+this.offsetX+this.left-1;d=this.marginTop+this.offsetY+this.top-1;a=this.x+2;e=this.y+2}return[b,d,a,e]};this.Ad=function(a,e){if(this.graphType=="Tree"){return}if(!e){e=this.E1()}var d,f,c,g;if(a){d=a[0];f=a[1];c=a[2];g=a[3]}else{if(this.layoutValid&&this.layoutParams&&this.layoutParams[0]){d=this.marginLeft+this.offsetX+this.layoutParams[0].left;f=this.marginTop+this.offsetY+this.layoutParams[0].top;c=this.layoutParams[0].x+1;g=this.layoutParams[0].y+1}else{d=this.marginLeft+this.offsetX+this.left;f=this.marginTop+this.offsetY+this.top;c=this.x+1;g=this.y+1}}e.o.push({funcs:[["save",[]],["beginPath",[]],["rect",[d,f,c,g]],["clip",[]]]})};this.Kj=function(a){if(this.graphType=="Tree"){return}if(!a){a=this.E1()}a.o.push({funcs:[["restore",[]],["beginPath",[]],["rect",[0,0,this.width,this.height]],["clip",[]]]})};this.eO=function(b,c){var a=0;if(b[0]<c[0]){a|=1}else{if(b[0]>c[2]){a|=2}}if(b[1]<c[1]){a|=4}else{if(b[1]>c[3]){a|=8}}return a};this.Ov=function(d,c,e,f){return e&8?[d[0]+(c[0]-d[0])*(f[3]-d[1])/(c[1]-d[1]),f[3]]:e&4?[d[0]+(c[0]-d[0])*(f[1]-d[1])/(c[1]-d[1]),f[1]]:e&2?[f[2],d[1]+(c[1]-d[1])*(f[2]-d[0])/(c[0]-d[0])]:e&1?[f[0],d[1]+(c[1]-d[1])*(f[0]-d[0])/(c[0]-d[0])]:null};this.pv=function(n,l,h){var k,j,d,m;if(!l){l=this.UR();l[2]+=l[0];l[3]+=l[1]}if(!h){h=[]}var g=n.length;var e=this.eO(n[0],l);var c=[];for(var f=1;f<g;f++){k=n[f-1];j=n[f];d=m=this.eO(j,l);while(true){if(!(e|d)){c.push(k);if(d!==m){c.push(j);if(f<g-1){h.push(c);c=[]}}else{if(f===g-1){c.push(j)}}break}else{if(e&d){break}else{if(e){k=this.Ov(k,j,e,l);e=this.eO(k,l)}else{j=this.Ov(k,j,d,l);d=this.eO(j,l)}}}}e=m}if(c.length){h.push(c)}return h};this.f6=function(l,j,c){var h,d,g,a,e;var k=[];if(!j){j=this.UR();j[2]+=j[0];j[3]+=j[1]}if(c){k=[];for(var f=1;f<l.length;f+=2){k.push([l[f],l[f+1]])}}else{k=l}for(var b=1;b<=8;b*=2){h=[];d=k[k.length-1];g=!(this.eO(d,j)&b);for(var f=0;f<k.length;f++){a=k[f];e=!(this.eO(a,j)&b);if(e!==g){h.push(this.Ov(d,a,b,j))}if(e){h.push(a)}d=a;g=e}k=h;if(!k.length){break}}if(c){l=["poly"];for(var f=0;f<h.length;f++){l.push(h[f][0]);l.push(h[f][1])}return l}return h};this.Nb=function(e,l,d,j,b,h,m,g){if((e===d&&l===j)||(b===m&&h===g)){return false}var f=((g-h)*(d-e)-(m-b)*(j-l));if(f===0){return false}var c=((m-b)*(l-h)-(g-h)*(e-b))/f;var a=((d-e)*(l-h)-(j-l)*(e-b))/f;if(c<0||c>1||a<0||a>1){return false}var k=e+c*(d-e);var i=l+c*(j-l);return[k,i]};this.C3=function(v,f,k){var d,c,p,n,j,o,v;var q,e,a,m;var u=[];if(!k){k=this.UR()}var e=k[0];var q=k[1];var a=k[2];var m=k[3];switch(v){case"path":u[0]=[];u[1]=[];for(var g=0;g<f[0].length;g++){c=f[0][g];n=f[1][g];if(c<e||c>a){c=null}if(n<q||n>m){n=null}u[0].push(c);u[1].push(n)}break;case"arrow":case"roundArrow":case"box":case"rect":case"rectangle":case"solidRectangle":case"dashedRectangle":case"dottedRectangle":case"dotdashRectangle":case"longdashRectangle":case"twodashRectangle":case"rect2":case"rect3":case"rect4":case"rectline":case"rect2i":case"rect3i":case"rect4i":case"rectlinei":case"roundrect":case"roundrectt":case"roundrectb":case"roundrectr":case"roundrectl":case"roundrecttr":case"roundrecttl":case"roundrectbr":case"roundrectbl":case"roundrect2":case"roundrectd":case"roundrecto":d=this.xw(f[0]-(f[2]/2));p=this.xw(f[1]-(f[3]/2));c=this.xw(d+f[2]);n=this.xw(p+f[3]);if(c>d){if(n>p){if(d>a+this.outlineWidth||p>m+this.outlineWidth||c<e||n<q){return false}if(d<e){d=e}if(c>a){c=a}if(p<q){p=q}if(n>m){n=m}}else{if(d>a+this.outlineWidth||n>m+this.outlineWidth||c<e||p<q){return false}if(d<e){d=e}if(c>a){c=a}if(p>m){p=m}if(n<q){n=q}}}else{if(n>p){if(c>a+this.outlineWidth||p>m+this.outlineWidth||d<e||n<q){return false}if(d>a){d=a}if(c<e){c=e}if(p<q){p=q}if(n>m){n=m}}else{if(c>a+this.outlineWidth||n>m+this.outlineWidth||d<e||p<q){return false}if(d>a){d=a}if(c<e){c=e}if(p>m){p=m}if(n<q){n=q}}}u=[d,p,c-d,n-p];break;case"poly":break;case"circle":case"solidCircle":case"dashedCircle":case"dottedCircle":case"dotdashCircle":case"longdashCircle":case"twodashCircle":case"sphere":case"square":case"triangle":case"triangleOpen":case"triangle2":case"triangleBottomRight":case"equilateral":case"equilateral2":case"diamond":case"rhombus":case"pentagon":case"hexagon":case"octagon":case"oval":case"oval2":case"oval3":case"arc":case"arc2":case"ellipse":case"ellipse2":case"ellipse3":case"plus":case"minus":case"mdavid":case"star":case"pie":case"pie0":case"pie1":case"pie2":case"pie3":case"pie4":case"pie5":case"pie6":case"pie7":case"pie8":case"pie9":case"pacman":case"pacman2":d=parseInt(f[0]);p=parseInt(f[1]);if(d>e+a||d<e||p<q||p>q+m){return false}u=[d,p];break;case"line":d=parseFloat(f[0]);p=parseFloat(f[1]);c=parseFloat(f[2]);n=parseFloat(f[3]);if(d==c){if(d<e||d>a){return false}else{if(p>n){if(p<q){return false}else{if(p>m){p=m}}if(n>m){return false}else{if(n<q){n=q}}}else{if(p>m){return false}else{if(p<q){p=q}}if(n<q){return false}else{if(n>m){n=m}}}}}else{if(p==n){if(p<q||p>m){return false}else{if(d>c){if(d<e){return false}else{if(d>a){d=a}}if(c>a){return false}else{if(c<e){c=e}}}else{if(d>a){return false}else{if(d<e){d=e}}if(c<e){return false}else{if(c>a){c=a}}}}}else{if(d>c){if(d<e||c>a){return false}else{if(p>n){if(p<q||n>m){return false}else{j=p-n;o=d-c;if(d>a){p-=(d-a)*j/o;d=a}if(p>m){d-=(p-m)*o/j;p=m}if(c<e){n+=(e-c)*j/o;c=e}if(n<q){c+=(q-n)*o/j;n=q}}}else{if(n<q||p>m){return false}else{j=n-p;o=d-c;if(d>a){p+=(d-a)*j/o;d=a}if(p<q){d-=(q-p)*o/j;p=q}if(c<e){n-=(e-c)*j/o;c=e}if(n>m){c+=(n-m)*o/j;n=m}}}}}else{if(c<e||d>a){return false}else{if(p>n){if(p<q||n>m){return false}else{j=p-n;o=c-d;if(d<e){p-=(e-d)*j/o;d=e}if(p>m){d+=(p-m)*o/j;p=m}if(c>a){n+=(c-a)*j/o;c=a}if(n<q){c-=(q-n)*o/j;n=q}}}else{if(n<q||p>m){return false}else{j=n-p;o=c-d;if(d<e){p+=(e-d)*j/o;d=e}if(p<q){d+=(q-p)*o/j;p=q}if(c>a){n-=(c-a)*j/o;c=a}if(n>m){c-=(n-m)*o/j;n=m}}}}}}}u=[d,p,c,n];break;default:return false}return u};this.hD=function(T,F,a,D,am,af,S,X,H,g,aj,ak,V,Y,Z,G){var ab=this.graphType=="Network"?this.lineWidthEvent:this.lineWidthEvent*4;var W=[];var M=["poly"];var U,ai,ag,J;if(!T){T="line"}if(this.tO(H)){U=H[0];ai=H[1]}else{U=H;ai=H}if(this.tO(g)){ag=g[0];J=g[1]}else{ag=g;J=g}if(!this.xx(ag,true)){ag=0}if(!this.xx(U,true)){U=0}if(!this.xx(J,true)){J=0}if(!this.xx(ai,true)){ai=0}T=this.Cl(T,F,a,D,am,U,ag);if(T.match(/error/)){if(this.showErrorBars&&this.eb([F,a,D,am,S])){F=Math.ceil(F);D=Math.ceil(D);a=Math.ceil(a);am=Math.ceil(am);S=Math.ceil(S);var O=S/2;if(S>0){M=["poly",F,a-ab,D-ab,am-ab,D-ab,am-O,D+ab,am-O,D+ab,am+O,D-ab,am+O,D-ab,am+ab,F,a+ab]}else{M=["poly",D-ab,am+ab,D-O,am+ab,D-O,am-ab,D+O,am-ab,D+O,am+ab,D+ab,am+ab,F+ab,a,F-ab,a]}}else{return false}}else{if(T=="spline"||T=="cardinalSpline"){if(F.length<3){return F.length<2?false:this.hD("line",F[0],a[0],F[1],a[1],af,S,X,U,ag,aj,ak,V,Y,Z)}for(var ae=0;ae<F.length;ae++){M.push(F[ae],a[ae]-ab);W.push(a[ae]+ab,F[ae])}M=M.concat(W.reverse())}else{if(T=="arch"){if(F.length!=3||a.length!=3){return false}for(var ae=0;ae<F.length;ae++){if(!this.eb([F[ae],a[ae]])){return false}}W=this.an(F[0],a[0],F[1],a[1],F[2],a[2],0.25,true);for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}W=this.an(F[0],a[0],F[1],a[1],F[2],a[2],0.25);for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}}else{if(T=="arc"){M=["poly"];W=this.Co(F,a,D,U,ag,true);for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}W=this.Co(F,a,D-ab,U,ag);for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}}else{if(T=="quadratic"){var y=this.Xx(F,a,D,am,false,Math.min(1,this.arrowQuadraticFactor*Math.abs(V))*(V>0?-1:1));var E=this.mm(F,a,D,am,U,ag,T,V);var z=this.SR(E[0],E[1],y[0],y[1],ab);var x=this.SR(y[0],y[1],E[2],E[3],ab);W=this.an(z[0],z[1],z[4],z[5],x[4],x[5],0.1,true);for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}var Q=[];W=this.an(z[2],z[3],z[6],z[7],x[6],x[7],0.1,true);for(var ae=0;ae<W.length;ae++){Q.push(W[ae][1],W[ae][0])}M=M.concat(Q.reverse())}else{if(T=="roundLine"){M=["poly",F-ab,a,F-ab,am+ab,D,am+ab,D,am-ab,F+ab,am-ab,F+ab,a]}else{if(T=="bracket"){var ah=F+((D-F)*this.treeBracketFactor);M=["poly",F,a-ab,ah,a-ab,ah,am+ab,D,am+ab,D,a+ab,ah,a+ab,ah,am-ab]}else{if(this.eb([F,a,D,am])){var K=this.mm(F,a,D,am,U,ag,T);F=K[0];a=K[1];D=K[2];am=K[3];if(aj){K=this.C3("line",[F,a,D,am],ak);if(K){F=K[0];a=K[1];D=K[2];am=K[3]}else{return false}}if(V&&this.tO(V)&&V.length>0){if(this.k2(V)){if(T.match(/bezier/i)){if(V[0].length==6){var al=[V[0][0],V[0][1]];for(var ae=0;ae<V.length;ae++){al=al.concat(V[ae])}al.push(V[V.length-1][0],V[V.length-1][1]);var h=this.TU(al);for(var ae=0;ae<V.length;ae++){W=this.az(h[0],h[1]-ab,h[2],h[3]-ab,h[4],h[5]-ab,h[6],h[7]-ab,0.1,true);for(var ad=0;ad<W.length;ad++){M.push(W[ad][0],W[ad][1])}for(var ad=0;ad<6;ad++){h.shift()}}h=this.TU(al);var Q=[];for(var ae=0;ae<V.length;ae++){W=this.az(h[0],h[1]+ab,h[2],h[3]+ab,h[4],h[5]+ab,h[6],h[7]+ab,0.1,true);for(var ad=0;ad<W.length;ad++){Q.push(W[ad][1],W[ad][0])}for(var ad=0;ad<6;ad++){h.shift()}}M=M.concat(Q.reverse())}else{if(V.length==4){var z=this.SR(V[0][0],V[0][1],V[1][0],V[1][1],ab);var x=this.SR(V[2][0],V[2][1],V[3][0],V[3][1],ab);W=this.az(z[0],z[1],z[4],z[5],x[0],x[1],x[4],x[5],0.1,true);for(var ad=0;ad<W.length;ad++){M.push(W[ad][0],W[ad][1])}W=this.az(z[2],z[3],z[6],z[7],x[2],x[3],x[6],x[7],0.1,true);var Q=[];for(var ad=0;ad<W.length;ad++){Q.push(W[ad][1],W[ad][0])}M=M.concat(Q.reverse())}else{var C=this.SR(V[0][0],V[0][1],V[V.length-1][0],V[V.length-1][1],ab);M=["poly",C[0],C[1],C[2],C[3],C[6],C[7],C[4],C[5]]}}}else{if(V.length>2){M=["poly"];var P=[];for(var ae=0;ae<V.length-1;ae++){P.push([V[ae][0],V[ae][1]])}for(var ae=V.length-1;ae>=1;ae--){P.push([V[ae][0],V[ae][1]])}W=this.Nk(P,ab,1);for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}}else{var C=this.SR(V[0][0],V[0][1],V[1][0],V[1][1],ab);M=["poly",C[0],C[1],C[2],C[3],C[6],C[7],C[4],C[5]]}}}else{return false}}else{if(T.match(/curved/i)){var B=F==D&&a==am&&G;var u=this.OM(F,a,D,am);var R=this.Cj(F,a,u[0],u[1]);var N=(U||0)/R;var I=(ag||0)/R;var A=T.match(/curvedcc/i)&&F>D?false:!T.match(/curvedcc/i)&&D>=F?true:false;var r=D>=F?Math.asin((u[1]-a)/R):Math.asin(-(u[1]-a)/R);var ac=r+Math.PI;var o=[];var d=0;var aa=false;if(B){if(r<0){r+=Math.PI*2}var v=G.size;var L=G.size*0.5;switch(G.pos){case"top":o=[F,a-v,L,Math.PI*0.75,Math.PI*0.25,false];break;case"topRight":o=[F+v,a-v,L,Math.PI,Math.PI*0.5,false];break;case"right":o=[F+v,a,L,Math.PI*1.25,Math.PI*0.75,false];break;case"bottomRight":o=[F+v,a+v,L,Math.PI*1.5,Math.PI,false];break;case"bottom":o=[F,a+v,L,Math.PI*1.75,Math.PI*1.25,false];break;case"bottomLeft":o=[F-v,a+v,L,0,Math.PI*1.5,false];break;case"left":o=[F-v,a,L,Math.PI*0.25,Math.PI*1.75,false];break;case"topLeft":o=[F-v,a-v,L,Math.PI*0.5,0,false];break}d=0.25}else{if(D>=F){o=[u[0],u[1],Math.max(0,R),r-I,ac+N,A]}else{aa=true;o=[u[0],u[1],Math.max(0,R),ac-I,r+N,!A]}}M=["poly"];W=this.mD(o[0],o[1],o[2]+ab,(aa?o[4]-(Math.PI*2):o[3]),(aa?o[3]:o[4]),o[5]*(aa?-1:1));for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}W=this.mD(o[0],o[1],o[2]-ab,(aa?o[4]-(Math.PI*2):o[3]),(aa?o[3]:o[4]),o[5]*(aa?1:-1));for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}}else{if(T.match(/bezier/i)){var l=(F+D)/2;var k=(a+am)/2;if(T.match(/beziery/i)){W=this.az(F,a-ab,F,k-ab,D,k-ab,D,am-ab,0.25,true)}else{W=this.az(F,a-ab,l,a-ab,l,am-ab,D,am-ab,0.25,true)}for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}if(T.match(/beziery/i)){W=this.az(F,a+ab,F,k+ab,D,k+ab,D,am+ab,0.25)}else{W=this.az(F,a+ab,l,a+ab,l,am+ab,D,am+ab,0.25)}for(var ae=0;ae<W.length;ae++){M.push(W[ae][0],W[ae][1])}}else{if(F==D&&a!=am){M=["poly",F-ab,a,F+ab,a,D+ab,am,D-ab,am]}else{if(a==am&&F!=D){M=["poly",F,a-ab,D,a-ab,D,am+ab,F,am+ab]}else{var C=this.SR(F,a,D,am,ab);M=["poly",C[0],C[1],C[2],C[3],C[6],C[7],C[4],C[5]]}}}}}}else{return false}}}}}}}}if(this.graphType=="Network"){return this.preScaleNetwork&&!this.isAnimation?M:this.yk(M)}else{return M}};this.eG=function(b){if(!b){b="solid"}var a=[];if(b.match(/blank/i)){a=CanvasXpress.R.lty[0]}else{if(b.match(/solid/i)){a=CanvasXpress.R.lty[1]}else{if(b.match(/dashed/i)){a=CanvasXpress.R.lty[2];a=[this.dashLength,this.dashLength-2]}else{if(b.match(/dotted/i)){a=CanvasXpress.R.lty[3];a=[this.dotLength,this.dotLength+2]}else{if(b.match(/dotdash/i)){a=CanvasXpress.R.lty[4]}else{if(b.match(/longdash/i)){a=CanvasXpress.R.lty[5]}else{if(b.match(/twodash/i)){a=CanvasXpress.R.lty[6]}}}}}}}return a};this.Cl=function(c,b,g,a,f,d,h){if(this.adjustBezier){if(c.match(/bezier/i)&&(b==a||g==f)){return"line"}if(Math.abs(a-b)>=Math.abs(f-g)){if(c.match(/beziery/i)){c=c.replace("beziery","bezier");c=c.replace("bezierY","bezier")}}else{if(c.match(/bezierx/i)){c=c.replace("bezierx","beziery");c=c.replace("bezierX","bezierY")}else{if(c.match(/bezier/i)){c=c.replace("bezier","bezierY")}}}if(d!=null&&h!=null){if(c.match(/beziery/i)){if(f>g){if(g+d>f-h){c="line"}}else{if(g-d<f+h){c="line"}}}else{if(c.match(/beziery/i)){if(a>b){if(b+d>a-h){c="line"}}else{if(b-d<a+h){c="line"}}}}}}return c};this.b6=function(Y,G,a,E,au,ak,X,ad,K,g,ap,at,ac,ae,ag,H,U,I){if(!I){I=this.E1()}var D=this.eG(Y,I);var aa,ao,am,N,z;if(this.tO(K)){aa=K[0];ao=K[1]}else{aa=K;ao=K}if(this.tO(g)){am=g[0];N=g[1]}else{am=g;N=g}if(!this.xx(am,true)){am=0}if(!this.xx(aa,true)){aa=0}if(!this.xx(N,true)){N=0}if(!this.xx(ao,true)){ao=0}Y=this.Cl(Y,G,a,E,au,aa,am);var k=false;var V=this;var ab=function(){if(z){var b=V.ub("rgb(255,255,255)",z[4],false);b.funcs.push(["beginPath",[]]);b.funcs.push(["moveTo",[z[0],z[1]]]);b.funcs.push(["lineTo",[z[2],z[3]]]);b.funcs.push(["closePath",[]]);b.funcs.push(["stroke",[]]);I.o.push(b);V.JG(I)}};var J=function(b){switch(b){case"arrow":k=0;break;case"square":k=1;break;case"round":k=2;break;case"roundDocked":k=false;break;case"arrowOpen":k=3;break;case"arrowWire":k=4;break;case"arrowArc":k=5;break;case"arrowArcOpen":k=6;break}};if(!Y){Y="solid"}if(Y.match(/error/)){if(this.showErrorBars&&this.eb([G,a,E,au,X])){G=Math.ceil(G);E=Math.ceil(E);a=Math.ceil(a);au=Math.ceil(au);X=Math.ceil(X);var T=X/2;if(!this.Xo(ak,true)){var S=this.ub(ak,false,ad);S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[G,a]]);S.funcs.push(["lineTo",[E,au]]);S.funcs.push(["stroke",[]]);if(Math.abs(X)>this.errorBarsWidth){if(X>0){S.funcs.push(["moveTo",[E,au-T]]);S.funcs.push(["lineTo",[E,au+T]]);S.funcs.push(["stroke",[]])}else{S.funcs.push(["moveTo",[E-T,au]]);S.funcs.push(["lineTo",[E+T,au]]);S.funcs.push(["stroke",[]])}}S.funcs.push(["setLineDash",[[]]]);I.o.push(S);this.JG(I)}}}else{if(Y.match(/spline|cardinalSpline/i)){if(G.length<3){return G.length<2?false:this.b6(Y.match(/dashedSpline/i)?"dashedLine":"line",G[0],a[0],G[1],a[1],ak,X,ad,K,g,ap,at,ac,ae,ag,false,false,I)}var Z=[];var ar=[];var al=0;for(var aj=0;aj<G.length;aj++){if(this.eb([G[aj],a[aj]])){ar.push(G[aj],a[aj]);al+=2}else{return}}var S=this.ub(ak,X,ad);if(!this.Xo(ak,true)){S.funcs.push(["setLineDash",[D]]);if(Y.match(/spline/i)){for(var aj=0;aj<al-4;aj+=2){Z=Z.concat(this.Ze(ar[aj],ar[aj+1],ar[aj+2],ar[aj+3],ar[aj+4],ar[aj+5]))}S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[ar[0],ar[1]]]);S.funcs.push(["quadraticCurveTo",[Z[0],Z[1],ar[2],ar[3]]]);for(var aj=2;aj<al-5;aj+=2){S.funcs.push(["quadraticCurveTo",[Z[2*aj-2],Z[2*aj-1],ar[aj+2],ar[aj+3]]])}S.funcs.push(["moveTo",[ar[al-2],ar[al-1]]]);S.funcs.push(["quadraticCurveTo",[Z[2*al-10],Z[2*al-9],ar[al-4],ar[al-3]]]);S.funcs.push(["stroke",[]])}else{ar=this.fk(ar);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[ar[0],ar[1]]]);for(var aj=2;aj<ar.length-1;aj+=2){S.funcs.push(["lineTo",[ar[aj],ar[aj+1]]])}S.funcs.push(["stroke",[]])}S.funcs.push(["setLineDash",[[]]])}I.o.push(S);this.JG(I)}else{if(Y.match(/arch/)){if(G.length!=3||a.length!=3){return false}for(var aj=0;aj<G.length;aj++){if(!this.eb([G[aj],a[aj]])){return false}}var S=this.ub(ak,X,ad);if(!this.Xo(ak,true)){S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[G[0],a[0]]]);S.funcs.push(["quadraticCurveTo",[G[1],a[1],G[2],a[2]]]);S.funcs.push(["stroke",[]]);S.funcs.push(["setLineDash",[[]]])}I.o.push(S);this.JG(I);if(ag){J(ag);z=this.zK(G[1],a[1],G[2],a[2],ak,X,k,false,I)}if(ae){J(ae);z=this.zK(G[0],a[0],G[1],a[1],ak,X,k,true,I)}}else{if(Y=="arc"||Y.match(/Arc/)){var S=this.ub(ak,X,ad);S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["arc",[G,a,Math.max(0,E),ao,N,false]]);S.funcs.push(["stroke",[]]);S.funcs.push(["setLineDash",[[]]]);I.o.push(S);this.JG(I)}else{if(Y=="quadratic"){var S=this.ub(ak,X,ad);var y=this.Xx(G,a,E,au,false,Math.min(1,this.arrowQuadraticFactor*Math.abs(ac))*(ac>0?-1:1));var F=this.mm(G,a,E,au,ao,N,Y,ac);var aq=this.an(F[0],F[1],y[0],y[1],F[2],F[3],0.1,true);S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[F[0],F[1]]]);S.funcs.push(["quadraticCurveTo",[y[0],y[1],F[2],F[3]]]);S.funcs.push(["stroke",[]]);S.funcs.push(["setLineDash",[[]]]);I.o.push(S);this.JG(I);if(ag){G=aq[9][0];a=aq[9][1];E=F[2];au=F[3];J(ag);z=this.zK(G,a,E,au,ak,X,k,false,I)}if(ae){G=aq[1][0];a=aq[1][1];E=F[0];au=F[1];J(ae);z=this.zK(G,a,E,au,ak,X,k,true,I)}}else{if(Y=="roundLine"){var S=this.ub(ak,X,ad);S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[G,a]]);if(a>au){S.funcs.push(["lineTo",[G,au+this.roundedPolygonRadius]]);if(G>E){S.funcs.push(["quadraticCurveTo",[G,au,G-this.roundedPolygonRadius,au]])}else{S.funcs.push(["quadraticCurveTo",[G,au,G+this.roundedPolygonRadius,au]])}}else{S.funcs.push(["lineTo",[G,au-this.roundedPolygonRadius]]);if(G>E){S.funcs.push(["quadraticCurveTo",[G,au,G-this.roundedPolygonRadius,au]])}else{S.funcs.push(["quadraticCurveTo",[G,au,G+this.roundedPolygonRadius,au]])}}S.funcs.push(["lineTo",[E,au]]);S.funcs.push(["stroke",[]]);S.funcs.push(["setLineDash",[[]]]);I.o.push(S);this.JG(I);if(ag){J(ag);z=this.zK(G,au,E,au,ak,X,k,false,I)}if(ae){J(ae);z=this.zK(G,au,E,au,ak,X,k,true,I)}}else{if(Y=="bracket"){var an=G+((E-G)*this.treeBracketFactor);var S=this.ub(ak,X,ad);S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[G,a]]);S.funcs.push(["lineTo",[an,a]]);S.funcs.push(["lineTo",[an,au]]);S.funcs.push(["lineTo",[E,au]]);S.funcs.push(["stroke",[]]);S.funcs.push(["setLineDash",[[]]]);I.o.push(S);this.JG(I);if(ag){J(ag);z=this.zK(an,a,E,au,ak,X,k,false,I)}if(ae){J(ae);z=this.zK(G,a,an,au,ak,X,k,true,I)}}else{if(this.eb([G,a,E,au])){var O=this.mm(G,a,E,au,ao,N,Y);var j=this.mm(G,a,E,au,ae?aa:ao,ag?am:N,Y);G=O[0];a=O[1];E=O[2];au=O[3];if(ap){O=this.C3("line",[G,a,E,au],at);if(O){G=O[0];a=O[1];E=O[2];au=O[3]}else{return false}}if(ac&&this.tO(ac)&&ac.length>0){var Q=ac.length-1;if(this.k2(ac)){var S=this.ub(ak,X,ad);S.funcs.push(["setLineDash",[D]]);if(Y.match(/bezier/i)){if(!this.Xo(ak,true)){if(ac[0].length==6){S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[ac[0][0],ac[0][1]]]);for(var aj=0;aj<ac.length;aj++){S.funcs.push(["bezierCurveTo",[ac[aj][0],ac[aj][1],ac[aj][2],ac[aj][3],ac[aj][4],ac[aj][5]]])}S.funcs.push(["stroke",[]]);var aq;if(ag){aq=this.az(ac[Q][0],ac[Q][1],ac[Q][0],ac[Q][1],ac[Q][2],ac[Q][3],ac[Q][4],ac[Q][5],0.1,true);G=aq[9][0];a=aq[9][1];E=aq[10][0];au=aq[10][1];J(ag);z=this.zK(G,a,E,au,ak,X,k,false,I)}if(ae){aq=this.az(ac[0][0],ac[0][1],ac[0][0],ac[0][1],ac[0][2],ac[0][3],ac[0][4],ac[0][5],0.1,true);G=aq[1][0];a=aq[1][1];E=aq[0][0];au=aq[0][1];J(ae);z=this.zK(G,a,E,au,ak,X,k,true,I)}}else{if(ac.length==4){S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[ac[0][0],ac[0][1]]]);S.funcs.push(["bezierCurveTo",[ac[1][0],ac[1][1],ac[2][0],ac[2][1],ac[3][0],ac[3][1]]]);S.funcs.push(["stroke",[]]);var aq=this.az(ac[0][0],ac[0][1],ac[1][0],ac[1][1],ac[2][0],ac[2][1],ac[3][0],ac[3][1],0.1,true);if(ag){G=aq[9][0];a=aq[9][1];E=ac[3][0];au=ac[3][1];J(ag);z=this.zK(G,a,E,au,ak,X,k,false,I)}if(ae){G=aq[1][0];a=aq[1][1];E=ac[1][0];au=ac[1][1];J(ae);z=this.zK(G,a,E,au,ak,X,k,true,I)}}else{S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[ac[0][0],ac[0][1]]]);S.funcs.push(["lineTo",[ac[Q][0],ac[Q][1]]]);S.funcs.push(["stroke",[]]);if(ag){G=ac[Q-1][0];a=ac[Q-1][1];E=ac[Q][0];au=ac[Q][1];J(ag);z=this.zK(G,a,E,au,ak,X,k,false,I)}if(ae){G=ac[0][0];a=ac[0][1];E=ac[1][0];au=ac[1][1];J(ae);z=this.zK(G,a,E,au,ak,X,k,true,I)}}}}}else{if(!this.Xo(ak,true)){S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[ac[0][0],ac[0][1]]]);for(var aj=0;aj<Q;aj++){S.funcs.push(["lineTo",[ac[aj+1][0],ac[aj+1][1]]])}S.funcs.push(["stroke",[]]);if(ag){G=ac[Q-1][0];a=ac[Q-1][1];E=ac[Q][0];au=ac[Q][1];J(ag);z=this.zK(G,a,E,au,ak,X,k,false,I)}if(ae){G=ac[0][0];a=ac[0][1];E=ac[1][0];au=ac[1][1];J(ae);z=this.zK(G,a,E,au,ak,X,k,true,I)}}}S.funcs.push(["setLineDash",[[]]]);I.o.push(S);this.JG(I)}else{return false}}else{if(Y.match(/curved/i)){var C=G==E&&a==au&&H;var v=this.OM(G,a,E,au);var W=Math.max(1,this.Cj(G,a,v[0],v[1]));var R=(aa||0)/W;var M=(am||0)/W;var h=(ao||0)/W;var L=(N||0)/W;var B=Y.match(/curvedcc/i)&&G>E?false:!Y.match(/curvedcc/i)&&E>=G?true:false;var u=E>=G?Math.asin((v[1]-a)/W):Math.asin(-(v[1]-a)/W);var ai=u+Math.PI;var r=[];var A=[];var af=this.arrowHeadSize;var S=this.ub(ak,X,ad);if(!this.Xo(ak,true)){var d=0;var ah=false;if(C){if(u<0){u+=Math.PI*2}if(H.dir){ag=false;ae=H.end}else{ag=H.end;ae=false}var x=H.size;var P=H.size*0.5;this.arrowHeadSize=Math.ceil(H.size/3);switch(H.pos){case"top":r=[G,a-x,P,Math.PI*0.75,Math.PI*0.25,false];break;case"topRight":r=[G+x,a-x,P,Math.PI,Math.PI*0.5,false];break;case"right":r=[G+x,a,P,Math.PI*1.25,Math.PI*0.75,false];break;case"bottomRight":r=[G+x,a+x,P,Math.PI*1.5,Math.PI,false];break;case"bottom":r=[G,a+x,P,Math.PI*1.75,Math.PI*1.25,false];break;case"bottomLeft":r=[G-x,a+x,P,0,Math.PI*1.5,false];break;case"left":r=[G-x,a,P,Math.PI*0.25,Math.PI*1.75,false];break;case"topLeft":r=[G-x,a-x,P,Math.PI*0.5,0,false];break}d=0.25}else{if(E>=G){r=[v[0],v[1],Math.max(0,W),u-L,ai+h,B];A=[v[0],v[1],Math.max(0,W),u-M,ai+R,B]}else{ah=true;r=[v[0],v[1],Math.max(0,W),ai-L,u+h,!B];A=[v[0],v[1],Math.max(0,W),ai-M,u+R,!B]}}S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["arc",[r[0],r[1],r[2],r[3]+(ag?d:0),r[4]-(ae?d:0),r[5]]]);S.funcs.push(["stroke",[]]);S.funcs.push(["setLineDash",[[]]])}I.o.push(S);this.JG(I);var aq;if(ag||ae){aq=this.mD(A[0],A[1],A[2],(ah?A[4]-(Math.PI*2):A[3]),(ah?A[3]:A[4]),A[5]*(ah?-1:1))}if(ag||(ah&&ae)){G=aq[15][0];a=aq[15][1];E=aq[16][0];au=aq[16][1];if(ah&&ae){J(ae)}else{J(ag)}z=this.zK(G,a,E,au,ak,X,k,false,I)}if(ae||(ah&&ag)){G=aq[1][0];a=aq[1][1];E=aq[0][0];au=aq[0][1];if(ah&&ag){J(ag)}else{J(ae)}z=this.zK(G,a,E,au,ak,X,k,true,I)}this.arrowHeadSize=af}else{if(Y.match(/bezier/i)){var o=(G+E)/2;var l=(a+au)/2;var aq;var S=this.ub(ak,X,ad);if(!this.Xo(ak,true)){S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[G,a]]);if(this.graphType=="Tree"&&this.treeType=="circular"&&U){S.funcs.push(["bezierCurveTo",[U[2],U[3],U[0],U[1],E,au]]);aq=this.az(G,a,U[0],U[1],U[0],U[1],E,au,0.1,true)}else{if(Y.match(/beziery/i)){S.funcs.push(["bezierCurveTo",[G,l,E,l,E,au]]);aq=this.az(G,a,G,l,E,l,E,au,0.1,true)}else{S.funcs.push(["bezierCurveTo",[o,a,o,au,E,au]]);aq=this.az(G,a,o,a,o,au,E,au,0.1,true)}}S.funcs.push(["stroke",[]]);S.funcs.push(["setLineDash",[[]]])}I.o.push(S);this.JG(I);if(ag){G=aq[9][0];a=aq[9][1];E=aq[10][0];au=aq[10][1];J(ag);z=this.zK(G,a,E,au,ak,X,k,false,I)}if(ae){E=aq[0][0];au=aq[0][1];G=aq[1][0];a=aq[1][1];J(ae);z=this.zK(G,a,E,au,ak,X,k,true,I)}}else{if(Y.match(/needle/i)){var S=this.ub(ak,X,ad);var y=this.SR(G,a,E,au,X);if(!this.Xo(ak,true)){S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[y[0],y[1]]]);S.funcs.push(["lineTo",[E,au]]);S.funcs.push(["lineTo",[y[2],y[3]]]);S.funcs.push(["closePath",[]]);S.funcs.push(["stroke",[]]);S.funcs.push(["fill",[]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["arc",[G,a,X*3,0,Math.PI*2]]);S.funcs.push(["stroke",[]]);S.funcs.push(["fill",[]]);S.funcs.push(["setLineDash",[[]]])}I.o.push(S);this.JG(I)}else{var S=this.ub(ak,X,ad);if(!this.Xo(ak,true)){S.funcs.push(["setLineDash",[D]]);S.funcs.push(["beginPath",[]]);S.funcs.push(["moveTo",[G,a]]);S.funcs.push(["lineTo",[E,au]]);S.funcs.push(["stroke",[]]);S.funcs.push(["setLineDash",[[]]])}I.o.push(S);this.JG(I);if(ag){J(ag);z=this.zK(j[0],j[1],j[2],j[3],ak,X,k,false,I)}if(ae){J(ae);z=this.zK(j[0],j[1],j[2],j[3],ak,X,k,true,I)}}}}}ab()}else{return false}}}}}}}}};this.zK=function(v,b,t,a,u,k,h,e,q){if(!q){q=this.E1()}var o,n;var s=function(z,C,f,D){var w=[];for(var A=0;A<z.length;A++){w.push([(z[A][0]*Math.cos(C))-(z[A][1]*Math.sin(C)),(z[A][0]*Math.sin(C))+(z[A][1]*Math.cos(C))])}var B=[];for(var A=0;A<w.length;A++){B.push([w[A][0]+f,w[A][1]+D])}return B};if(h==0){return this.Be(v,b,t,a,u,k,1,q)}else{var p=this.ub(u,k,false);if(h==1){var c=this.arrowHeadSize/2;var d=this.mm(v,b,t,a,0,c+1,"line");var m=d[2]-d[0];var j=d[3]-d[1];var l=k?k/2:this.outlineWidth/2;var g=s([[-l,-this.arrowHeadSize],[-l,this.arrowHeadSize]],Math.atan2(j,m),d[2],d[3]);p.funcs.push(["beginPath",[]]);p.funcs.push(["moveTo",[g[0][0],g[0][1]]]);for(var r=1;r<g.length;r++){if(!isNaN(g[r][0])&&!isNaN(g[r][1])){p.funcs.push(["lineTo",[g[r][0],g[r][1]]])}}p.funcs.push(["closePath",[]]);p.funcs.push(["stroke",[]]);o=(g[0][0]+g[1][0])/2;n=(g[0][1]+g[1][1])/2}else{if(h==2){var c=this.arrowHeadSize/2;var d=this.mm(v,b,t,a,0,c+1,"line");p.fillStyle="rgb(255,255,255)";p.funcs.push(["beginPath",[]]);p.funcs.push(["arc",[d[2],d[3],Math.max(0,Math.max(c-1,1)*1.3),0,Math.PI*2,true]]);p.funcs.push(["closePath",[]]);p.funcs.push(["fill",[]]);p.funcs.push(["stroke",[]])}else{if(h==3){var x=[this.arrowHeadTypeOpen,this.arrowHeadType];this.arrowHeadTypeOpen=true;this.arrowHeadType="filledStraight";var y=this.Be(v,b,t,a,u,k,1,q);this.arrowHeadTypeOpen=x[0];this.arrowHeadType=x[1];return y}else{if(h==4){var x=this.arrowHeadType;this.arrowHeadType="wire";var y=this.Be(v,b,t,a,u,k,1,q);this.arrowHeadType=x;return y}else{if(h==5){var x=this.arrowHeadType;this.arrowHeadType="filledArc";var y=this.Be(v,b,t,a,u,k,1,q);this.arrowHeadType=x;return y}else{if(h==6){var x=[this.arrowHeadTypeOpen,this.arrowHeadType];this.arrowHeadTypeOpen=true;this.arrowHeadType="filledArc";var y=this.Be(v,b,t,a,u,k,1,q);this.arrowHeadTypeOpen=x[0];this.arrowHeadType=x[1];return y}else{}}}}}}q.o.push(p);this.JG(q);return h==1?[o,n,t,a,k]:null}};this.Be=function(t,e,q,b,u,j,l,n){var o=function(Q,w,O,h,L,d,M,G){n.o.push({funcs:[["save",[]]]});G.funcs.push(["beginPath",[]]);G.funcs.push(["moveTo",[Q,w]]);G.funcs.push(["lineTo",[O,h]]);G.funcs.push(["lineTo",[L,d]]);switch(M){case 0:var S=Math.sqrt(((L-Q)*(L-Q))+((d-w)*(d-w)));G.funcs.push(["arcTo",[O,h,Q,w,j*(j<1.01?0.55:0.25)*S]]);G.funcs.push(["fill",[]]);break;case 1:G.funcs.push(["beginPath",[]]);G.funcs.push(["moveTo",[Q,w]]);G.funcs.push(["lineTo",[O,h]]);G.funcs.push(["lineTo",[L,d]]);G.funcs.push(["lineTo",[Q,w]]);G.funcs.push(["fill",[]]);break;case 2:break;case 3:var D=(Q+O+L)/3;var B=(w+h+d)/3;G.funcs.push(["quadraticCurveTo",[D,B,Q,w]]);G.funcs.push(["fill",[]]);break;case 4:var P,N,s,f;var H=5;if(L==Q){var S=d-w;P=(O+Q)/2;s=(O+Q)/2;N=h+S/H;f=h-S/H}else{var S=Math.sqrt(((L-Q)*(L-Q))+((d-w)*(d-w)));var J=(Q+L)/2;var C=(w+d)/2;var K=(J+O)/2;var R=(C+h)/2;var I=(d-w)/(L-Q);var F=(S/(2*Math.sqrt(I*I+1)))/H;var E=I*F;P=K-F;N=R-E;s=K+F;f=R+E}G.funcs.push(["bezierCurveTo",[P,N,s,f,Q,w]]);G.funcs.push(["fill",[]]);break}G.funcs.push(["stroke",[]]);n.o.push(G);n.resetContext();n.o.push({funcs:[["restore",[]]]})};if(!n){n=this.E1()}var r=0;switch(this.arrowHeadType){case"wire":r=2;break;case"filledStraight":r=1;break;case"filledArc":r=0;break;case"filledQuadratic":r=3;break;case"filledBezier":r=4;break}var k=l!=null?l:1;var v=this.arrowHeadAngle*Math.PI/180;var x=this.arrowHeadSize;var m=this.ub(u,j,false);var A=Math.atan2(b-e,q-t);var p=Math.abs(x/Math.cos(v));if(this.arrowHeadTypeOpen){m.fillStyle="rgb(255,255,255)"}if(k==1||k==3){var c=A+Math.PI+v;var i=q+Math.cos(c)*p;var g=b+Math.sin(c)*p;var a=A+Math.PI-v;var z=q+Math.cos(a)*p;var y=b+Math.sin(a)*p;o(i,g,q,b,z,y,r,m)}if(k==2||k==3){var c=A+v;var i=t+Math.cos(c)*p;var g=e+Math.sin(c)*p;var a=A-v;var z=t+Math.cos(a)*p;var y=e+Math.sin(a)*p;o(i,g,t,e,z,y,r,m)}};this.pn=function(l,j,a,q,h,p,g,m,o){var k,i,n,d,b;var c=m!=null?m:1;if(c==1||c==3){k=Math.cos(q)*a+l;i=Math.sin(q)*a+j;n=Math.atan2(l-k,i-j);if(p){d=k+10*Math.cos(n);b=i+10*Math.sin(n)}else{d=k-10*Math.cos(n);b=i-10*Math.sin(n)}this.Be(k,i,d,b,g,m,2,o)}if(c==2||c==3){k=Math.cos(h)*a+l;i=Math.sin(h)*a+j;n=Math.atan2(l-k,i-j);if(p){d=k-10*Math.cos(n);b=i-10*Math.sin(n)}else{d=k+10*Math.cos(n);b=i+10*Math.sin(n)}this.Be(k,i,d,b,g,m,2,o)}};this.Rd=function(h,d,n,g,j){var l=j*Math.PI/180;var e=h+d;var k=Math.abs(e/(Math.cos(l)||1));var f=Math.abs(e/(Math.sin(l)||1));var a=this.$cX("canvas");a.width=Math.abs(k);a.height=Math.abs(f);var m=this.yY(a);if(!m){console.error("Could not get 2D context for pattern canvas.");return null}m.fillStyle=g;m.fillRect(0,0,a.width,a.height);m.fillStyle=n;m.save();m.translate(a.width/2,a.height/2);m.rotate(l);m.translate(-a.width/2,-a.height/2);var b=Math.sqrt(a.width*a.width+a.height*a.height);for(var c=-b;c<b;c+=e){m.fillRect(c,-b,h,b*2)}m.restore();return a};this.WF=function(k,d,o,j,l){var g=l;var e=-l;var h=g*Math.PI/180;var f=e*Math.PI/180;var c=k+d;var a=this.$cX("canvas");a.width=Math.abs(c/Math.cos(h));a.height=Math.abs(c/Math.sin(h));var n=this.yY(a);if(!n){console.error("Could not get 2D context for pattern canvas.");return null}n.fillStyle=j;n.fillRect(0,0,a.width,a.height);n.fillStyle=o;n.save();n.translate(a.width/2,a.height/2);n.rotate(h);n.translate(-a.width/2,-a.height/2);var m=Math.sqrt(a.width*a.width+a.height*a.height);for(var b=-m;b<m;b+=c){n.fillRect(b,-m,k,m*2)}n.restore();n.save();n.translate(a.width/2,a.height/2);n.rotate(f);n.translate(-a.width/2,-a.height/2);for(var b=-m;b<m;b+=c){n.fillRect(b,-m,k,m*2)}n.restore();return a};this.XI=function(a,h,g,d,e){var f=this.$cX("canvas");var b=this.yY(f);b.strokeStyle=d;b.fillStyle=g;if(e>0&&e<90){if(e<=15){f.width=16;f.height=9;b.clearRect(0,0,16,9);b.beginPath();b.arc(4,3,a,0,Math.PI*2);b.fill();b.stroke();b.beginPath();b.arc(12,6,a,0,Math.PI*2)}else{if(e<=30){f.width=13;f.height=9;b.clearRect(0,0,13,9);b.beginPath();b.arc(3,2,a,0,Math.PI*2);b.fill();b.stroke();b.beginPath();b.arc(10,7,a,0,Math.PI*2)}else{if(e<=45){f.width=10;f.height=10;b.clearRect(0,0,10,10);b.beginPath();b.arc(2,2,a,0,Math.PI*2);b.fill();b.stroke();b.beginPath();b.arc(7,7,a,0,Math.PI*2)}else{if(e<=60){f.width=9;f.height=13;b.clearRect(0,0,9,13);b.beginPath();b.arc(2,3,a,0,Math.PI*2);b.fill();b.stroke();b.beginPath();b.arc(7,10,a,0,Math.PI*2)}else{f.width=9;f.height=16;b.clearRect(0,0,9,16);b.beginPath();b.arc(3,4,a,0,Math.PI*2);b.fill();b.stroke();b.beginPath();b.arc(6,12,a,0,Math.PI*2)}}}}}else{f.width=7;f.height=7;b.clearRect(0,0,7,7);b.beginPath();b.arc(3.5,3.5,a,0,Math.PI*2)}b.fill();b.stroke();return f};this.gc=function(a,c,e,h,g,b,d){if(!a){a=this.E1()}switch(e){case"stripe":var f=this.Rd(2,7,g,b,h?h*2:90);CanvasXpress.cachePatterns[c]=a.createPattern(f,"repeat");break;case"crosshatch":var f=this.WF(2,7,g,b,h);CanvasXpress.cachePatterns[c]=a.createPattern(f,"repeat");break;case"circle":var f=this.XI(1,7,g,b,h);CanvasXpress.cachePatterns[c]=a.createPattern(f,"repeat");break;default:}if(d){this.patterns[c]=CanvasXpress.cachePatterns[c];this.patterns.unshift(c)}};this.sP=function(a){var c=this;var f=function(g){g.strokeStyle="rgb(29,137,182)";var h=[4,6,9,12,16,21,27,14,17,21,26];var k=[27,21,16,12,9,6,4,26,21,17,14];for(var j=0;j<h.length;j++){g.moveTo(h[j],k[j]);g.arc(h[j],k[j],2,0,Math.PI*2)}g.moveTo(3,32);g.arc(3,32,2,Math.PI,0);g.moveTo(13,32);g.arc(13,32,2,Math.PI,0);g.moveTo(32,3);g.arc(32,3,2,Math.PI*0.5,Math.PI*1.5);g.moveTo(32,13);g.arc(32,13,2,Math.PI*0.5,Math.PI*1.5);h=[[7,11],[8,12],[11,14],[14,17],[18,20],[22,24],[28,29]];k=[[28,29],[22,24],[18,20],[14,17],[11,14],[8,12],[7,11]];for(var j=0;j<h.length;j++){g.moveTo(h[j][0],k[j][0]);g.lineTo(h[j][1],k[j][1])}g.stroke()};var e=function(g){g.strokeStyle="rgb(29,137,182)";g.moveTo(3,0);g.arc(3,0,2,Math.PI,0,true);g.moveTo(3,5);g.arc(3,5,2,Math.PI,0);g.moveTo(6,1);g.lineTo(8,4);g.lineTo(10,1);g.moveTo(13,0);g.arc(13,0,2,Math.PI,0,true);g.moveTo(13,5);g.arc(13,5,2,Math.PI,0);g.stroke()};var b=function(g){g.strokeStyle="rgb(29,137,182)";g.moveTo(0,3);g.arc(0,3,2,Math.PI*1.5,Math.PI*0.5);g.moveTo(5,3);g.arc(5,3,2,Math.PI*1.5,Math.PI*0.5,true);g.moveTo(1,6);g.lineTo(4,8);g.lineTo(1,10);g.moveTo(0,13);g.arc(0,13,2,Math.PI*1.5,Math.PI*0.5);g.moveTo(5,13);g.arc(5,13,2,Math.PI*1.5,Math.PI*0.5,true);g.stroke()};var d=function(){if(!a){a=c.E1()}var h=c.$cX("canvas");h.width=10;h.height=10;var g=c.yY(h);g.strokeStyle=c.patternStrokeColor;g.fillStyle=c.patternFillColor;g.lineWidth=c.patternStrokeWidth;if(!CanvasXpress.cachePatterns.hasOwnProperty("hatchForward")){g.clearRect(0,0,10,10);g.beginPath();g.moveTo(0,0);g.lineTo(10,10);g.stroke();CanvasXpress.cachePatterns.hatchForward=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("hatchReverse")){g.clearRect(0,0,10,10);g.beginPath();g.moveTo(10,0);g.lineTo(0,10);g.stroke();CanvasXpress.cachePatterns.hatchReverse=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("stripeVertical")){h.width=3;h.height=3;g.clearRect(0,0,3,3);g.beginPath();g.moveTo(1.5,0);g.lineTo(1.5,3);g.stroke();CanvasXpress.cachePatterns.stripeVertical=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("stripeHorizontal")){g.clearRect(0,0,3,3);g.beginPath();g.moveTo(0,1.5);g.lineTo(3,1.5);g.stroke();CanvasXpress.cachePatterns.stripeHorizontal=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("polkaDot")){h.width=5;h.height=5;g.clearRect(0,0,5,5);g.beginPath();g.arc(2.5,2.5,2,0,Math.PI*2);g.fill();CanvasXpress.cachePatterns.polkaDot=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("crossHatch")){g.clearRect(0,0,5,5);g.beginPath();g.moveTo(0,0);g.lineTo(5,5);g.stroke();g.beginPath();g.moveTo(5,0);g.lineTo(0,5);g.stroke();CanvasXpress.cachePatterns.crossHatch=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("crossStripe")){h.width=3;h.height=3;g.clearRect(0,0,3,3);g.beginPath();g.moveTo(1.5,0);g.lineTo(1.5,3);g.stroke();g.beginPath();g.moveTo(0,1.5);g.lineTo(3,1.5);g.stroke();CanvasXpress.cachePatterns.crossStripe=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("squares")){h.width=5;h.height=5;g.clearRect(0,0,5,5);g.beginPath();g.strokeRect(1,1,4,4);g.stroke();CanvasXpress.cachePatterns.squares=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("circles")){g.clearRect(0,0,5,5);g.beginPath();g.arc(2.5,2.5,1,0,Math.PI*2);g.stroke();CanvasXpress.cachePatterns.circles=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("plus")){h.width=7;h.height=7;g.clearRect(0,0,7,7);g.beginPath();g.moveTo(3.5,1);g.lineTo(3.5,6);g.stroke();g.beginPath();g.moveTo(1,3.5);g.lineTo(6,3.5);g.stroke();CanvasXpress.cachePatterns.plus=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("minus")){h.width=7;h.height=7;g.clearRect(0,0,7,7);g.beginPath();g.moveTo(1,3.5);g.lineTo(6,3.5);g.stroke();CanvasXpress.cachePatterns.minus=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("bars")){h.width=7;h.height=7;g.clearRect(0,0,7,7);g.beginPath();g.moveTo(3.5,1);g.lineTo(3.5,6);g.stroke();CanvasXpress.cachePatterns.bars=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("squiglesHorizontal")){h.width=5;h.height=5;g.clearRect(0,0,5,5);g.beginPath();g.moveTo(0,5);g.lineTo(2.5,0);g.lineTo(5,5);g.stroke();CanvasXpress.cachePatterns.squiglesHorizontal=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("squiglesVertical")){h.width=5;h.height=5;g.clearRect(0,0,5,5);g.beginPath();g.moveTo(0,0);g.lineTo(5,2.5);g.lineTo(0,5);g.stroke();CanvasXpress.cachePatterns.squiglesVertical=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("brickForward")){g.clearRect(0,0,5,5);g.beginPath();g.moveTo(0,0);g.lineTo(3,0);g.lineTo(0,3);g.closePath();g.stroke();g.fill();g.beginPath();g.moveTo(2,5);g.lineTo(5,2);g.lineTo(5,5);g.closePath();g.stroke();g.fill();CanvasXpress.cachePatterns.brickForward=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("brickReverse")){g.clearRect(0,0,5,5);g.beginPath();g.moveTo(5,0);g.lineTo(2,0);g.lineTo(5,3);g.closePath();g.stroke();g.fill();g.beginPath();g.moveTo(0,5);g.lineTo(0,2);g.lineTo(3,5);g.closePath();g.stroke();g.fill();CanvasXpress.cachePatterns.brickReverse=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("art")){g.clearRect(0,0,5,5);g.beginPath();g.arc(2.5,2.5,2,0,Math.PI*2);g.moveTo(0,5);g.lineTo(5,0);g.stroke();CanvasXpress.cachePatterns.art=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("pcx")){g.clearRect(0,0,5,5);g.beginPath();g.moveTo(2,0);g.lineTo(0,0);g.lineTo(0,3);g.lineTo(2,3);g.stroke();g.beginPath();g.moveTo(3,3);g.lineTo(5,5);g.stroke();g.beginPath();g.moveTo(5,3);g.lineTo(3,5);g.stroke();CanvasXpress.cachePatterns.pcx=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("hatchForward3")){h.width=5;h.height=3;g.clearRect(0,0,5,3);g.beginPath();g.moveTo(0,0);g.lineTo(5,3);g.stroke();CanvasXpress.cachePatterns.hatchForward3=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("hatchReverse3")){g.clearRect(0,0,5,3);g.beginPath();g.moveTo(5,0);g.lineTo(0,3);g.stroke();CanvasXpress.cachePatterns.hatchReverse3=a.createPattern(h,"repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("membraneTop")){h.width=5;h.height=16;g.clearRect(0,0,5,16);b(g);CanvasXpress.cachePatterns.membraneTop=a.createPattern(h,"repeat-x")}if(!CanvasXpress.cachePatterns.hasOwnProperty("membraneBottom")){h.width=5;h.height=16;g.clearRect(0,0,5,16);g.translate(5,0);g.scale(-1,1);b(g);CanvasXpress.cachePatterns.membraneBottom=a.createPattern(h,"repeat-x")}if(!CanvasXpress.cachePatterns.hasOwnProperty("membraneRight")){h.width=16;h.height=5;g.clearRect(0,0,16,5);e(g);CanvasXpress.cachePatterns.membraneRight=a.createPattern(h,"repeat-y")}if(!CanvasXpress.cachePatterns.hasOwnProperty("membraneLeft")){h.width=16;h.height=5;g.clearRect(0,0,16,5);g.translate(0,5);g.scale(1,-1);e(g);CanvasXpress.cachePatterns.membraneLeft=a.createPattern(h,"repeat-y")}if(!CanvasXpress.cachePatterns.hasOwnProperty("membraneTL")){h.width=32;h.height=32;g.clearRect(0,0,32,32);f(g);CanvasXpress.cachePatterns.membraneTL=a.createPattern(h,"no-repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("membraneBL")){h.width=32;h.height=32;g.clearRect(0,0,32,32);g.translate(0,32);g.scale(1,-1);f(g);CanvasXpress.cachePatterns.membraneBL=a.createPattern(h,"no-repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("membraneTR")){h.width=32;h.height=32;g.clearRect(0,0,32,32);g.translate(32,0);g.scale(-1,1);f(g);CanvasXpress.cachePatterns.membraneTR=a.createPattern(h,"no-repeat")}if(!CanvasXpress.cachePatterns.hasOwnProperty("membraneBR")){h.width=32;h.height=32;g.clearRect(0,0,32,32);g.translate(32,32);g.scale(-1,-1);f(g);CanvasXpress.cachePatterns.membraneBR=a.createPattern(h,"no-repeat")}};if(this.patternBy||this.Qu()||this.patterns[0]!="solid"){d()}else{setTimeout(function(){d()},0)}};this.E9=function(f,e,d,m,h,g,F,E,D){var c=Math.sin(F);var A=Math.cos(F);var b=Math.sin(E);var x=Math.cos(E);var a=Math.sin(D);var v=Math.cos(D);var C=function(j){var k=j.y;j.y=(k*A)+(j.z*c*-1);j.z=(k*c)+(j.z*A);var i=j.x;j.x=(i*x)+(j.z*b*-1);j.z=(i*b)+(j.z*x);var i=j.x;j.x=(i*v)+(j.y*a*-1);j.y=(i*a)+(j.y*v)};var l=[];var n=Math.PI/12;var t=Math.PI*2;var r=Math.PI/2;for(var B=1;B>=-1;B-=2){for(var z=0;z<r;z+=n){var u=Math.cos(z)*m;var o=Math.cos(z)*g;var q=Math.sin(z)*h*B*-1;for(var w=0;w<t;w+=n){var s={x:(Math.cos(w)*u),y:q,z:(Math.sin(w)*o)};C(s);s.x+=f;s.y+=e;s.z+=d;if(B>0){l.push([s.x,s.y,s.z])}else{l.unshift([s.x,s.y,s.z])}}}}return l};this.z3=function(h){var v=function(x,r,i){i.x=r.x-x.x;i.y=r.y-x.y;i.len=Math.sqrt(i.x*i.x+i.y*i.y);i.nx=i.x/i.len;i.ny=i.y/i.len;i.ang=Math.atan2(i.ny,i.nx)};var s=[];for(var t=0;t<h.length;t++){s.push({x:h[t][0],y:h[t][1]})}var m=[];var o=this.roundedPolygonRadius;var e={};var d={};var u=s.length;var c=s[u-1];for(var t=0;t<u;t++){var b=s[(t)%u];var a=s[(t+1)%u];v(b,c,e);v(b,a,d);var j=e.nx*d.ny-e.ny*d.nx;var p=e.nx*d.nx-e.ny*-d.ny;var w=Math.asin(j);var q=1;var f=false;if(p<0){if(w<0){w=Math.PI+w}else{w=Math.PI-w;q=-1;f=true}}else{if(w>0){q=-1;f=true}}var g;var n=w/2;var z=Math.abs(Math.cos(n)*o/Math.sin(n));if(z>Math.min(e.len/2,d.len/2)){z=Math.min(e.len/2,d.len/2);g=Math.abs(z*Math.sin(n)/Math.cos(n))}else{g=o}var l=b.x+d.nx*z;var k=b.y+d.ny*z;l+=-d.ny*g*q;k+=d.nx*g*q;m.push([l,k,g,e.ang+Math.PI/2*q,d.ang-Math.PI/2*q,f]);c=b;b=a}return m};this.O3=function(v,m,l,n,G,H,D,C,B,k,L,M,A,I,q,J){var j=this;var F=function(d){if(j.graphType=="Network"||v=="arrow"){return d}d.shift();var b=["poly"];var f=Math.cos(B);var c=Math.sin(B);for(var e=0;e<d.length;e+=2){b.push((f*(m-d[e]))+(c*(l-d[e+1]))+d[e]);b.push((f*(l-d[e+1]))-(c*(m-d[e]))+d[e+1])}return b};var g,a;var N=["poly"];var K=[];if(!M){M=this.UR()}switch(v){case"arc2":K=this.Co(m,l,G,A,I,true);for(var E=0;E<K.length;E++){N.push(K[E][0],K[E][1])}K=this.Co(m,l,G-n,A,I);for(var E=0;E<K.length;E++){N.push(K[E][0],K[E][1])}break;case"pie":N.push(m,l);K=this.Co(m,l,G,A,I,true);for(var E=0;E<K.length;E++){N.push(K[E][0],K[E][1])}break;case"confidence":for(var E=0;E<m.length;E++){N.push(m[E][0],l[E][0]);K.push(l[E][1],m[E][1])}N=this.f6(N.concat(K.reverse()),false,true);break;case"violin":case"fish":for(var E=0;E<m[0].length;E++){N.push(m[0][E],l[0][E]);K.push(l[1][E],m[1][E])}N=N.concat(K.reverse());break;case"bezier":K=this.az(m[0],l[0],m[1],l[1],m[2],l[2],m[3],l[3],0.25,true);for(var E=0;E<K.length;E++){N.push(K[E][0],K[E][1])}K=this.az(m[0],l[0]+G,m[1],l[1]+G,m[2],l[2]+G,m[3],l[3]+G,0.25);for(var E=0;E<K.length;E++){N.push(K[E][0],K[E][1])}break;case"arch":K=this.an(m[0],l[0],m[1],l[1],m[2],l[2],0.25,true);for(var E=0;E<K.length;E++){N.push(K[E][0],K[E][1])}K=this.Co(m[4],l[4],G[0],n[2],n[3]);for(var E=1;E<K.length;E++){N.push(K[E][0],K[E][1])}if(m[0]==m[3]&&l[0]==l[3]&&m[1]==m[4]&&l[1]==l[4]&&m[2]==m[5]&&l[2]==l[5]){break}K=this.an(m[3],l[3],m[4],l[4],m[5],l[5],0.25,true);for(var E=0;E<K.length;E++){N.push(K[E][0],K[E][1])}K=this.Co(m[1],l[1],G[1],n[0],n[1]);for(var E=0;E<K.length;E++){N.push(K[E][0],K[E][1])}break;case"polygon":case"roundpolygon":case"path":case"spline":case"hull":for(var E=0;E<m.length;E++){if(v=="spline"){N.push(m[E],l[E]-2)}else{N.push(m[E],l[E]-2);K.unshift(m[E],l[E]+2)}}break;default:g=n/2;a=G/2;break}switch(v){case"image":N=["rect",m-(g*this.zoom),l-(a*this.zoom),m+(g*this.zoom),l+(a*this.zoom)];break;case"mdavid":case"star":case"circle":case"solidCircle":case"dashedCircle":case"dottedCircle":case"dotdashCircle":case"longdashCircle":case"twodashCircle":case"sphere":N=["circle",m,l,n];break;case"drop":case"teardrop":case"marker":N=["circle",m,l-n,g];break;case"diamond":case"rhombus":N=["poly",m,l-a,m+g,l,m,l+a,m-g,l];break;case"arrow":case"roundArrow":case"box":case"rect":case"rectangle":case"solidRectangle":case"dashedRectangle":case"dottedRectangle":case"dotdashRectangle":case"longdashRectangle":case"twodashRectangle":case"roundrect":case"roundrectt":case"roundrectb":case"roundrectr":case"roundrectl":case"roundrecttr":case"roundrecttl":case"roundrectbr":case"roundrectbl":case"roundrect2":case"roundrectd":case"roundrecto":case"brace":case"square":case"pentagon":case"hexagon":case"octagon":case"oval":case"arc":case"arc3":case"ellipse":case"plus":case"minus":case"pch0":case"pch1":case"pch2":case"pch3":case"pch4":case"pch5":case"pch6":case"pch7":case"pch8":case"pch9":case"pch10":case"pch11":case"pch12":case"pch13":case"pch14":case"pch15":case"pch16":case"pch17":case"pch18":case"pch21":case"pch22":case"pch23":case"pch24":case"pch25":if(m-g==m+g){N=["rect",m-(g+1),l-a,m+g+1,l+a]}else{if(l-a==l+a){N=["rect",m-g,l-(a+1),m+g,l+a+1]}else{N=["rect",m-g,l-a,m+g,l+a]}}break;case"pch19":g+=2;a+=2;N=["rect",m-g,l-a,m+g,l+a];break;case"pch20":g-=2;a-=2;g=Math.max(2,g);a=Math.max(2,a);N=["rect",m-g,l-a,m+g,l+a];break;case"rect2":return this.O3("rectangle",m,l,n,n/2,H,D,C,B,k,L,M,A,I,q,J);case"rect3":return this.O3("rectangle",m,l,n,n/3,H,D,C,B,k,L,M,A,I,q,J);case"rect4":return this.O3("rectangle",m,l,n,n/4,H,D,C,B,k,L,M,A,I,q,J);case"rectline":return this.O3("rectangle",m,l,n,2,H,H,C,B,k,L,M,A,I,q,J);case"rect2i":return this.O3("rectangle",m,l,n/2,n,H,D,C,B,k,L,M,A,I,q,J);case"rect3i":return this.O3("rectangle",m,l,n/3,n,H,D,C,B,k,L,M,A,I,q,J);case"rect4i":return this.O3("rectangle",m,l,n/4,n,H,D,C,B,k,L,M,A,I,q,J);case"rectlinei":return this.O3("rectangle",m,l,2,n,H,H,C,B,k,L,M,A,I,q,J);case"triangle":case"equilateral":N=["poly",m,l-a,m+g,l+a,m-g,l+a];break;case"triangle2":case"equilateral2":N=["poly",m,l+a,m+g,l-a,m-g,l-a];break;case"triangleBottomRight":N=["poly",m+g,l-a,m+g,l+a,m-g,l+a];break;case"oval2":return this.O3("oval",m,l,n,n/2,H,D,C,B,k,L,M,A,I,q,J);case"oval3":return this.O3("oval",m,l,n,n/3,H,D,C,B,k,L,M,A,I,q,J);case"ellipse2":return this.O3("ellipse",m,l,n,n/2,H,D,C,B,k,L,M,A,I,q,J);case"ellipse3":return this.O3("ellipse",m,l,n,n/3,H,D,C,B,k,L,M,A,I,q,J);case"pie0":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI/5,q,J);case"pie1":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI/3.5,q,J);case"pie2":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI/2,q,J);case"pie3":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI/1.5,q,J);case"pie4":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI,q,J);case"pie5":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI*1.2,q,J);case"pie6":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI*1.4,q,J);case"pie7":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI*1.6,q,J);case"pie8":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI*1.8,q,J);case"pie9":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,0,Math.PI*2,q,J);case"pacman":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,Math.PI*1/4,Math.PI*7/4,q,J);case"pacman2":return this.O3("pie",m,l,n,n/2,H,D,C,B,k,L,M,Math.PI*5/4,Math.PI*3/4,q,J)}N=B?F(N):N;if(this.graphType=="Network"){return this.preScaleNetwork&&!this.isAnimation?N:this.yk(N)}else{return N}};this.gg=function(c,d,b){if(c&&c.length>1){var a=c.shift();while(a[0]==null||a[1]==null){a=c.shift()}b.funcs.push(["beginPath",[]]);b.funcs.push(["moveTo",[a[0]+0.5,a[1]+0.5]]);while(c.length>0){a=c.shift();while(a[0]==null||a[1]==null){a=c.shift()}b.funcs.push(["lineTo",[a[0]+0.5,a[1]+0.5]])}if(!d){b.funcs.push(["closePath",[]])}}};this.Fe=function(af,aa,Z,ac,au,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az,O){var U,aC,j,aE,W,T,ai,an;if(!O){O=this.E1()}if(aj){switch(aj){case"closed":case"solid":case"open":case"round":break;default:var aF=aj;aj="closed";this.Fe(af,aa,Z,ac,au,av,av,aj,ah,Y,aB,aD,ag,ax,ad,az);aj=aF;break}}switch(af){case"polygon":case"roundpolygon":case"path":case"spline":case"arch":case"hull":case"confidence":case"violin":case"bezier":case"fish":var ap=Number.MAX_VALUE;var R=Number.MAX_VALUE*-1;var ao=Number.MAX_VALUE;var P=Number.MAX_VALUE*-1;aC=[];U=[];if(aa.length==Z.length){if(af=="spline"&&aa.length<5){return this.Fe("polygon",aa,Z,ac,au,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az)}if(af=="arch"&&(aa.length!=6||Z.length!=6||ac.length!=4||au.length!=2)){return false}if(af=="bezier"){if(this.eb(aa)&&this.eb(Z)&&this.eb(au)){for(var at=0;at<aa.length;at++){ap=Math.min(ap,aa[at]);R=Math.max(R,aa[at]);ao=Math.min(ao,Z[at]);P=Math.max(P,Z[at]);U.push([aa[at],Z[at]])}aa=0;Z=0;for(var at=0;at<U.length;at++){U[at][0]-=aa;U[at][1]-=Z;aC.push(U[at][0],U[at][1])}}else{return false}}else{if(af=="confidence"){if(aa.length>2){for(var at=0;at<aa.length;at++){if(aa[at][0]!=null&&aa[at][1]!=null&&Z[at][0]!=null&&Z[at][1]!=null&&this.eb([aa[at][0],aa[at][1],Z[at][0],Z[at][1]])){ap=Math.min(ap,Math.min(aa[at][0],aa[at][1]));R=Math.max(R,Math.max(aa[at][0],aa[at][1]));ao=Math.min(ao,Math.min(Z[at][0],Z[at][1]));P=Math.max(P,Math.max(Z[at][0],Z[at][1]));U.push([[aa[at][0],aa[at][1]],[Z[at][0],Z[at][1]]])}}aa=(ap+R)/2;Z=(ao+P)/2;for(var at=0;at<U.length;at++){U[at][0][0]-=aa;U[at][0][1]-=aa;U[at][1][0]-=Z;U[at][1][1]-=Z;aC.push([U[at][0][0],U[at][0][1]],[U[at][1][0],U[at][1][1]])}}else{return false}}else{if(af=="violin"||af=="fish"){if(aa[0].length==Z[0].length&&aa[1].length==Z[1].length&&aa[0].length==aa[1].length){for(var at=0;at<aa[0].length;at++){if(this.eb([aa[0][at],aa[1][at],Z[0][at],Z[1][at]])){ap=Math.min(ap,Math.min(aa[0][at],aa[1][at]));R=Math.max(R,Math.max(aa[0][at],aa[1][at]));ao=Math.min(ao,Math.min(Z[0][at],Z[1][at]));P=Math.max(P,Math.max(Z[0][at],Z[1][at]));U.push([[aa[0][at],aa[1][at]],[Z[0][at],Z[1][at]]])}}aa=(ap+R)/2;Z=(ao+P)/2;for(var at=0;at<U.length;at++){U[at][0][0]-=aa;U[at][0][1]-=aa;U[at][1][0]-=Z;U[at][1][1]-=Z;aC.push([U[at][0][0],U[at][0][1]],[U[at][1][0],U[at][1][1]])}}else{return false}}else{for(var at=0;at<aa.length;at++){if(aa[at]&&Z[at]&&this.eb([aa[at],Z[at]])){ap=Math.min(ap,aa[at]);R=Math.max(R,aa[at]);ao=Math.min(ao,Z[at]);P=Math.max(P,Z[at]);U.push([aa[at],Z[at]])}}aa=af=="arch"?aa[1]:(ap+R)/2;Z=af=="arch"?Z[1]:(ao+P)/2;for(var at=0;at<U.length;at++){U[at][0]-=aa;U[at][1]-=Z;aC.push(U[at][0],U[at][1])}}}}}else{return false}break;case"circle":case"solidCircle":case"dashedCircle":case"dottedCircle":case"dotdashCircle":case"longdashCircle":case"twodashCircle":case"sphere":case"circleOpen":case"rect":case"equilateral":case"plus":case"minus":case"diamond":case"rhombus":case"diamondOpen":case"hexagon":case"octagon":if(this.eb([aa,Z,ac,au])){if(aB){U=this.C3(af,[aa,Z,ac,au],aD);if(U){if(U.length==4){aa=U[0];Z=U[1];ac=Math.max(1,U[2]);au=Math.max(1,U[3])}else{if(U.length==2){aa=U[0];Z=U[1]}}}else{return false}}j=ac/2;aE=au/2;W=ac/3;T=au/3;ai=au/ac;an=1.5}break;default:if(this.eb([aa,Z,ac,au])){if(aB){U=this.C3(af,[aa,Z,ac,au],aD);if(U){if(U.length==4){ac=Math.max(1,U[2]);au=Math.max(1,U[3]);aa=U[0]+(ac/2);Z=U[1]+(au/2)}else{if(U.length==2){aa=U[0];Z=U[1]}}}else{return false}}else{ac=Math.max(1,ac);au=Math.max(1,au)}j=ac/2;aE=au/2;ai=au/ac;an=1.5}else{return false}break}switch(af){case"image":var M=Array.isArray(ad)?this.backgroundImageMD5:this.KU(ad);if(ad&&(CanvasXpress.cacheImages[M]||CanvasXpress.images[ad])){var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);if(CanvasXpress.images[ad]){this.VJ(CanvasXpress.images[ad],-j*this.zoom,-aE*this.zoom,ac*this.zoom,au*this.zoom,false,false,false,false,av,aj,O,X)}else{this.VJ(CanvasXpress.cacheImages[M],-j*this.zoom,-aE*this.zoom,ac*this.zoom,au*this.zoom,false,false,false,false,av,aj,O,X)}}else{if(M&&M=="canvasXpress"){return}else{return this.Fe("rectangle",aa,Z,ac,au,"rgba(0,0,0,0.5)","rgba(0,0,0,0.5)",aj,ah,Y,aB,aD,ag,ax,ad,az)}}break;case"circle":case"solidCircle":case"dashedCircle":case"dottedCircle":case"dotdashCircle":case"longdashCircle":case"twodashCircle":case"sphere":case"circleOpen":if(!this.Xo(av,true)||!this.Xo(ak,true)){var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);var H=this.eG(af,O);X.funcs.push(["setLineDash",[H]]);X.funcs.push(["beginPath",[]]);X.funcs.push(["arc",[aa,Z,Math.max(0,ac/2),0,Math.PI*2,false]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);X.funcs.push(["setLineDash",[[]]]);O.o.push(X)}break;case"drop":case"teardrop":case"marker":var E=j*2/3;var D=E*0.5;var S=this.graphType=="Map"?-E*3:0;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["arc",[0,S,Math.max(0,j),0,Math.PI,true]]);X.funcs.push(["bezierCurveTo",[-j,S+j,0,S+D,0,S+(E*3)]]);X.funcs.push(["bezierCurveTo",[0,S+D,j,S+j,j,S]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);X.funcs.push(["beginPath",[]]);X.funcs.push(["arc",[0,S,Math.max(0,j*0.3),0,Math.PI*2,true]]);X.funcs.push(["closePath",[]]);this.dC("white","black",aj,X);O.o.push(X);break;case"arrow":U=[[-j,-aE],[j,-aE],[j,aE],[-j,aE]];if(ah){ah=false;var E=au/4;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[j-au,-aE]]);X.funcs.push(["lineTo",[j-au,-aE-E]]);X.funcs.push(["lineTo",[j,0]]);X.funcs.push(["lineTo",[j-au,aE+E]]);X.funcs.push(["lineTo",[j-au,aE]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["lineTo",[-j,-aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X)}else{var q=ac/4;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE+ac]]);X.funcs.push(["lineTo",[-j-q,-aE+ac]]);X.funcs.push(["lineTo",[0,-aE]]);X.funcs.push(["lineTo",[j+q,-aE+ac]]);X.funcs.push(["lineTo",[j,-aE+ac]]);X.funcs.push(["lineTo",[j,aE]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X)}break;case"roundArrow":U=[[-j,-aE],[j,-aE],[j,aE],[-j,aE]];if(ah){ah=false;var E=au/4;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[j-au,-aE]]);X.funcs.push(["lineTo",[j-au,-aE-E]]);X.funcs.push(["lineTo",[j,0]]);X.funcs.push(["lineTo",[j-au,aE+E]]);X.funcs.push(["lineTo",[j-au,aE]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["lineTo",[-j,-aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X)}else{var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);if(this.Ir()){X.funcs.push(["arc",[j-aE,0,aE,Math.PI*1.5,Math.PI*0.5,false]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["lineTo",[-j,-aE]])}else{X.funcs.push(["arc",[0,-aE+j,j,Math.PI,Math.PI*2,false]]);X.funcs.push(["lineTo",[j,aE]]);X.funcs.push(["lineTo",[-j,aE]])}X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X)}break;case"box":case"rect":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aa-j,Z-aE]]);if(au<=1){X.funcs.push(["lineTo",[aa+j,Z-aE]])}else{if(ac<=1){X.funcs.push(["lineTo",[aa-j,Z+aE]])}else{X.funcs.push(["lineTo",[aa+j,Z-aE]]);X.funcs.push(["lineTo",[aa+j,Z+aE]]);X.funcs.push(["lineTo",[aa-j,Z+aE]])}}X.funcs.push(["closePath",[]]);this.dC(av,ak,(au<=1||ac<=1?"open":aj),X);O.o.push(X);break;case"rectangle":case"solidRectangle":case"dashedRectangle":case"dottedRectangle":case"dotdashRectangle":case"longdashRectangle":case"twodashRectangle":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);var H=this.eG(af,O);X.funcs.push(["setLineDash",[H]]);if(aj&&aj=="open"){X.funcs.push(["strokeRect",[-j,-aE,ac,au]])}else{if(ak==av){X.funcs.push(["fillRect",[-j,-aE,ac,au]])}else{X.funcs.push(["fillRect",[-j,-aE,ac,au]]);X.funcs.push(["strokeRect",[-j,-aE,ac,au]])}}X.funcs.push(["setLineDash",[[]]]);O.o.push(X);break;case"rect2":return this.Fe("rectangle",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);case"rect3":return this.Fe("rectangle",aa,Z,ac,ac/3,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);case"rect4":return this.Fe("rectangle",aa,Z,ac,ac/4,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);case"rectline":return this.Fe("rectangle",aa,Z,ac,2,av,av,aj,ah,Y,aB,aD,ag,ax,ad,az);case"rect2i":return this.Fe("rectangle",aa,Z,ac/2,ac,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);case"rect3i":return this.Fe("rectangle",aa,Z,ac/3,ac,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);case"rect4i":return this.Fe("rectangle",aa,Z,ac/4,ac,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);case"rectlinei":return this.Fe("rectangle",aa,Z,2,ac,av,av,aj,ah,Y,aB,aD,ag,ax,ad,az);case"roundrectt":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au:ac;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE+ab]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["lineTo",[j,aE]]);X.funcs.push(["lineTo",[j,-aE+ab]]);X.funcs.push(["quadraticCurveTo",[j,-aE,j-ab,-aE]]);X.funcs.push(["lineTo",[-j+ab,-aE]]);X.funcs.push(["quadraticCurveTo",[-j,-aE,-j,-aE+ab]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrectb":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au:ac;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE]]);X.funcs.push(["lineTo",[-j,aE-ab]]);X.funcs.push(["quadraticCurveTo",[-j,aE,-j+ab,aE]]);X.funcs.push(["lineTo",[j-ab,aE]]);X.funcs.push(["quadraticCurveTo",[j,aE,j,aE-ab]]);X.funcs.push(["lineTo",[j,-aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrectr":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au:ac;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["lineTo",[j-ab,aE]]);X.funcs.push(["quadraticCurveTo",[j,aE,j,aE-ab]]);X.funcs.push(["lineTo",[j,-aE+ab]]);X.funcs.push(["quadraticCurveTo",[j,-aE,j-ab,-aE]]);X.funcs.push(["lineTo",[-j,-aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrectl":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au:ac;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE+ab]]);X.funcs.push(["lineTo",[-j,aE-ab]]);X.funcs.push(["quadraticCurveTo",[-j,aE,-j+ab,aE]]);X.funcs.push(["lineTo",[j,aE]]);X.funcs.push(["lineTo",[j,-aE]]);X.funcs.push(["lineTo",[-j+ab,-aE]]);X.funcs.push(["quadraticCurveTo",[-j,-aE,-j,-aE+ab]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrecttr":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au:ac;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["lineTo",[j,aE]]);X.funcs.push(["lineTo",[j,-aE+ab]]);X.funcs.push(["quadraticCurveTo",[j,-aE,j-ab,-aE]]);X.funcs.push(["lineTo",[-j,-aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrecttl":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au:ac;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE+ab]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["lineTo",[j,aE]]);X.funcs.push(["lineTo",[j,-aE]]);X.funcs.push(["lineTo",[-j+ab,-aE]]);X.funcs.push(["quadraticCurveTo",[-j,-aE,-j,-aE+ab]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrectbr":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au:ac;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["lineTo",[j-ab,aE]]);X.funcs.push(["quadraticCurveTo",[j,aE,j,aE-ab]]);X.funcs.push(["lineTo",[j,-aE]]);X.funcs.push(["lineTo",[-j,-aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrectbl":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au:ac;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE]]);X.funcs.push(["lineTo",[-j,aE-ab]]);X.funcs.push(["quadraticCurveTo",[-j,aE,-j+ab,aE]]);X.funcs.push(["lineTo",[j,aE]]);X.funcs.push(["lineTo",[j,-aE]]);X.funcs.push(["lineTo",[-j,-aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrecto":var ab=ac<au?j:aE;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);if(ac<au){X.funcs.push(["arc",[0,-aE+ab,ab,Math.PI,0]]);X.funcs.push(["lineTo",[j,aE-ab]]);X.funcs.push(["arc",[0,aE-ab,ab,0,Math.PI]]);X.funcs.push(["lineTo",[-j,-aE+ab]])}else{X.funcs.push(["arc",[-j+ab,0,ab,Math.PI*0.5,Math.PI*1.5]]);X.funcs.push(["lineTo",[j-ab,aE]]);X.funcs.push(["arc",[j-ab,0,ab,Math.PI*1.5,Math.PI*0.5]]);X.funcs.push(["lineTo",[-j+ab,-aE]])}X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundrect":case"roundrect2":case"roundrectd":var ab=ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius?this.roundedPolygonRadius:ac>au?au/4:ac/4;if(af=="roundrect2"){ab*=4}var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE+ab]]);X.funcs.push(["lineTo",[-j,aE-ab]]);X.funcs.push(["quadraticCurveTo",[-j,aE,-j+ab,aE]]);X.funcs.push(["lineTo",[j-ab,aE]]);X.funcs.push(["quadraticCurveTo",[j,aE,j,aE-ab]]);X.funcs.push(["lineTo",[j,-aE+ab]]);X.funcs.push(["quadraticCurveTo",[j,-aE,j-ab,-aE]]);X.funcs.push(["lineTo",[-j+ab,-aE]]);X.funcs.push(["quadraticCurveTo",[-j,-aE,-j,-aE+ab]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);if(af=="roundrectd"&&ac>this.roundedPolygonRadius&&au>this.roundedPolygonRadius){ac-=this.roundedPolygonRadius;au-=this.roundedPolygonRadius;j=ac/2;aE=au/2;X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE+ab]]);X.funcs.push(["lineTo",[-j,aE-ab]]);X.funcs.push(["quadraticCurveTo",[-j,aE,-j+ab,aE]]);X.funcs.push(["lineTo",[j-ab,aE]]);X.funcs.push(["quadraticCurveTo",[j,aE,j,aE-ab]]);X.funcs.push(["lineTo",[j,-aE+ab]]);X.funcs.push(["quadraticCurveTo",[j,-aE,j-ab,-aE]]);X.funcs.push(["lineTo",[-j+ab,-aE]]);X.funcs.push(["quadraticCurveTo",[-j,-aE,-j,-aE+ab]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X)}O.o.push(X);break;case"brace":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE]]);X.funcs.push(["bezierCurveTo",[-j,0,0,0,0,aE]]);X.funcs.push(["bezierCurveTo",[0,0,j,0,j,-aE]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"square":case"squareOpen":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);this.gg([[-j,-aE],[j,-aE],[j,aE],[-j,aE]],false,X);this.dC(av,ak,aj,X);O.o.push(X);break;case"triangle":case"triangleOpen":if(ac==au){return this.Fe("equilateral",aa,Z,ac,au,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az)}var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);this.gg([[0,-aE],[j,aE],[-j,aE]],false,X);this.dC(av,ak,aj,X);O.o.push(X);break;case"triangle2":if(ac==au){return this.Fe("equilateral2",aa,Z,ac,au,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az)}var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);this.gg([[0,aE],[j,-aE],[-j,-aE]],false,X);this.dC(av,ak,aj,X);O.o.push(X);break;case"triangleBottomRight":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aa+j,Z-aE]]);if(au<=1){X.funcs.push(["lineTo",[aa-j,Z-aE]])}else{if(ac<=1){X.funcs.push(["lineTo",[aa+j,Z+aE]])}else{X.funcs.push(["lineTo",[aa+j,Z+aE]]);X.funcs.push(["lineTo",[aa-j,Z+aE]])}}X.funcs.push(["closePath",[]]);this.dC(av,ak,(au<=1||ac<=1?"open":aj),X);O.o.push(X);break;case"equilateral":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aa,Z-aE]]);X.funcs.push(["lineTo",[aa+j,Z+aE]]);X.funcs.push(["lineTo",[aa-j,Z+aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,(au<=1||ac<=1?"open":aj),X);O.o.push(X);break;case"equilateral2":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);this.gg([[0,aE],[j,-aE],[-j,-aE]],false,X);this.dC(av,ak,aj,X);O.o.push(X);break;case"diamond":case"rhombus":case"diamondOpen":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aa,Z-aE]]);X.funcs.push(["lineTo",[aa+j,Z]]);X.funcs.push(["lineTo",[aa,Z+aE]]);X.funcs.push(["lineTo",[aa-j,Z]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,(au<=1||ac<=1?"open":aj),X);O.o.push(X);break;case"hexagon":var g=2*Math.PI/6;var N=[];for(var aA=0;aA<6;aA++){N.push([j*Math.sin(g*aA),aE*Math.cos(g*aA)])}var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);X.funcs.push(["beginPath",[]]);var V=N.shift();X.funcs.push(["moveTo",[aa+V[0],Z+V[1]]]);for(var aA=0;N.length;aA++){V=N.shift();X.funcs.push(["lineTo",[aa+V[0],Z+V[1]]])}X.funcs.push(["closePath",[]]);this.dC(av,ak,(au<=1||ac<=1?"open":aj),X);O.o.push(X);break;case"pentagon":var ay=ac/3;var U=[];for(var at=0;at<5;at++){var F=(at/5)*Math.PI*2+(-Math.PI/2);U.push([Math.cos(F)*ay,Math.sin(F)*ay])}var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);this.gg(U,false,X);this.dC(av,ak,aj,X);O.o.push(X);break;case"octagon":var aG=ac/4;var ar=au/4;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aa-aG,Z-aE]]);X.funcs.push(["lineTo",[aa+aG,Z-aE]]);X.funcs.push(["lineTo",[aa+j,Z-ar]]);X.funcs.push(["lineTo",[aa+j,Z+ar]]);X.funcs.push(["lineTo",[aa+aG,Z+aE]]);X.funcs.push(["lineTo",[aa-aG,Z+aE]]);X.funcs.push(["lineTo",[aa-j,Z+ar]]);X.funcs.push(["lineTo",[aa-j,Z-ar]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,(au<=1||ac<=1?"open":aj),X);O.o.push(X);break;case"oval":case"ovald":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["save",[]]);X.funcs.push(["scale",[1,ai]]);X.funcs.push(["beginPath",[]]);X.funcs.push(["arc",[0,0,Math.max(0,ac/2),0,Math.PI*2,true]]);X.funcs.push(["closePath",[]]);X.funcs.push(["restore",[]]);this.dC(av,ak,aj,X);if(af=="ovald"){ac-=this.margin*2;au-=this.margin*2;ai=au/ac;X.funcs.push(["save",[]]);X.funcs.push(["scale",[1,ai]]);X.funcs.push(["beginPath",[]]);X.funcs.push(["arc",[0,0,Math.max(0,ac/2),0,Math.PI*2,true]]);X.funcs.push(["closePath",[]]);X.funcs.push(["restore",[]]);this.dC(av,ak,aj,X)}O.o.push(X);break;case"oval2":return this.Fe("oval",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);case"oval3":return this.Fe("oval",aa,Z,ac,ac/3,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);case"arc":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["save",[]]);X.funcs.push(["scale",[1,ai]]);X.funcs.push(["beginPath",[]]);X.funcs.push(["arc",[0,0,Math.max(0,ac/2),ag,ax,false]]);if(aj!="open"){X.funcs.push(["closePath",[]])}X.funcs.push(["restore",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"arc2":var I=au*Math.cos(ag);var aJ=au*Math.sin(ag);var G=au*Math.cos(ax);var aH=au*Math.sin(ax);var C=this.mm(0,0,I,aJ,0,ac,"line");var A=this.mm(0,0,G,aH,0,ac,"line");var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[C[2],C[3]]]);X.funcs.push(["lineTo",[I,aJ]]);X.funcs.push(["arc",[0,0,Math.max(0,au),ag,ax,false]]);X.funcs.push(["lineTo",[A[2],A[3]]]);X.funcs.push(["arc",[0,0,Math.max(0,au-ac),ax,ag,true]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"arc3":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["save",[]]);X.funcs.push(["scale",[1,ai]]);X.funcs.push(["beginPath",[]]);X.funcs.push(["arc",[0,0,Math.max(0,ac/2),0,Math.PI,false]]);X.funcs.push(["restore",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"arch":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[U[0][0],U[0][1]]]);X.funcs.push(["quadraticCurveTo",[U[1][0],U[1][1],U[2][0],U[2][1]]]);X.funcs.push(["arc",[0,0,Math.max(0,au[0]),ac[3],ac[2],true]]);X.funcs.push(["quadraticCurveTo",[U[4][0],U[4][1],U[5][0],U[5][1]]]);X.funcs.push(["arc",[0,0,Math.max(0,au[1]),ac[1],ac[0],true]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"path":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);this.gg(U,aj=="open",X);this.dC(av,ak,aj,X);O.o.push(X);break;case"roundpolygon":U=this.z3(U);var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);for(var at=0;at<U.length;at++){X.funcs.push(["arc",[U[at][0],U[at][1],U[at][2],U[at][3],U[at][4]]])}X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"polygon":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);this.gg(U,aj=="open"&&av,X);this.dC(av,ak,aj,X);O.o.push(X);break;case"spline":var ae=[];var am=[];var J=[];am.push(aC.shift());am.push(aC.shift());J.push(aC.pop());J.unshift(aC.pop());var al=aC.length;for(var at=0;at<al-4;at+=2){ae=ae.concat(this.Ze(aC[at],aC[at+1],aC[at+2],aC[at+3],aC[at+4],aC[at+5]))}var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[am[0],am[1]]]);X.funcs.push(["lineTo",[aC[0],aC[1]]]);X.funcs.push(["quadraticCurveTo",[ae[0],ae[1],aC[2],aC[3]]]);for(var at=2;at<al-5;at+=2){X.funcs.push(["bezierCurveTo",[ae[2*at-2],ae[2*at-1],ae[2*at],ae[2*at+1],aC[at+2],aC[at+3]]])}X.funcs.push(["quadraticCurveTo",[ae[2*al-10],ae[2*al-9],aC[al-2],aC[al-1]]]);X.funcs.push(["lineTo",[J[0],J[1]]]);X.funcs.push(["lineTo",[am[0],am[1]]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"hull":var aq;var al=1;var K=[];while(aC.length>1){K.push([aC.shift(),aC.shift()])}var ae=this.XV(K);var m=[[K[0][0],K[0][1],ae[ae.length-1][0],ae[ae.length-1][1],ae[0][0],ae[0][1],K[1][0],K[1][1]]];for(var at=1;at<K.length-1;at++){m.push([K[at][0],K[at][1],ae[al][0],ae[al][1],ae[al+1][0],ae[al+1][1],K[at+1][0],K[at+1][1]]);al+=2}m.push([K[at][0],K[at][1],ae[al][0],ae[al][1],ae[al+1][0],ae[al+1][1],K[0][0],K[0][1]]);var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[m[0][0],m[0][1]]]);for(var at=0;at<m.length;at++){X.funcs.push(["bezierCurveTo",[m[at][2],m[at][3],m[at][4],m[at][5],m[at][6],m[at][7]]])}X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"violin":var al=aC.length;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aC[0][0],aC[1][0]]]);for(var at=2;at<al;at+=2){X.funcs.push(["lineTo",[aC[at][0],aC[at+1][0]]])}X.funcs.push(["lineTo",[aC[al-2][1],aC[al-1][1]]]);for(var at=2;at<al;at+=2){var aI=(al-1)-at;X.funcs.push(["lineTo",[aC[aI-1][1],aC[aI][1]]])}X.funcs.push(["lineTo",[aC[0][0],aC[1][0]]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"fish":var al=aC.length;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aC[0][0],aC[1][0]]]);for(var at=2;at<al;at+=2){var v=(aC[at-2][0]+aC[at][0])/2;X.funcs.push(["bezierCurveTo",[v,aC[at-1][0],v,aC[at+1][0],aC[at][0],aC[at+1][0]]])}X.funcs.push(["lineTo",[aC[al-2][1],aC[al-1][1]]]);for(var at=2;at<al;at+=2){var aI=(al-1)-at;var v=(aC[aI+1][1]+aC[aI-1][1])/2;X.funcs.push(["bezierCurveTo",[v,aC[aI+2][1],v,aC[aI][1],aC[aI-1][1],aC[aI][1]]])}X.funcs.push(["lineTo",[aC[0][0],aC[1][0]]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"confidence":var al=aC.length;var ae=[];var Q=[];for(var at=0;at<al-4;at+=2){var aI=(al-1)-at;ae=ae.concat(this.Ze(aC[at][0],aC[at+1][0],aC[at+2][0],aC[at+3][0],aC[at+4][0],aC[at+5][0]));Q=Q.concat(this.Ze(aC[aI-1][1],aC[aI][1],aC[aI-3][1],aC[aI-2][1],aC[aI-5][1],aC[aI-4][1]))}var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aC[0][0],aC[1][0]]]);X.funcs.push(["quadraticCurveTo",[ae[0],ae[1],aC[2][0],aC[3][0]]]);for(var at=2;at<al-5;at+=2){X.funcs.push(["bezierCurveTo",[ae[2*at-2],ae[2*at-1],ae[2*at],ae[2*at+1],aC[at+2][0],aC[at+3][0]]])}X.funcs.push(["quadraticCurveTo",[ae[2*al-10],ae[2*al-9],aC[al-2][0],aC[al-1][0]]]);X.funcs.push(["lineTo",[aC[al-2][1],aC[al-1][1]]]);X.funcs.push(["quadraticCurveTo",[Q[0],Q[1],aC[al-4][1],aC[al-3][1]]]);for(var at=2;at<al-5;at+=2){var aI=(al-1)-at;X.funcs.push(["bezierCurveTo",[Q[2*at-2],Q[2*at-1],Q[2*at],Q[2*at+1],aC[aI-3][1],aC[aI-2][1]]])}X.funcs.push(["quadraticCurveTo",[Q[2*al-10],Q[2*al-9],aC[0][1],aC[1][1]]]);X.funcs.push(["lineTo",[aC[0][0],aC[1][0]]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"bezier":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aC[0],aC[1]]]);X.funcs.push(["bezierCurveTo",[aC[2],aC[3],aC[4],aC[5],aC[6],aC[7]]]);X.funcs.push(["lineTo",[aC[6],aC[7]+au]]);X.funcs.push(["bezierCurveTo",[aC[4],aC[5]+au,aC[2],aC[3]+au,aC[0],aC[1]+au]]);X.funcs.push(["lineTo",[aC[0],aC[1]]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"ellipse":var a=j*0.5522848;var aw=aE*0.5522848;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[0,aE]]);X.funcs.push(["bezierCurveTo",[0,aE-aw,j-a,0,j,0]]);X.funcs.push(["bezierCurveTo",[j+a,0,ac,aE-aw,ac,aE]]);X.funcs.push(["bezierCurveTo",[ac,aE+aw,j+a,au,j,au]]);X.funcs.push(["bezierCurveTo",[j-a,au,0,aE+aw,0,aE]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"ellipse2":return this.Fe("ellipse",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);break;case"ellipse3":return this.Fe("ellipse",aa,Z,ac,ac/3,av,ak,aj,ah,Y,aB,aD,ag,ax,ad,az);break;case"plus":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aa-an,Z-aE]]);X.funcs.push(["lineTo",[aa+an,Z-aE]]);X.funcs.push(["lineTo",[aa+an,Z-an]]);X.funcs.push(["lineTo",[aa+j,Z-an]]);X.funcs.push(["lineTo",[aa+j,Z+an]]);X.funcs.push(["lineTo",[aa+an,Z+an]]);X.funcs.push(["lineTo",[aa+an,Z+aE]]);X.funcs.push(["lineTo",[aa-an,Z+aE]]);X.funcs.push(["lineTo",[aa-an,Z+an]]);X.funcs.push(["lineTo",[aa-j,Z+an]]);X.funcs.push(["lineTo",[aa-j,Z-an]]);X.funcs.push(["lineTo",[aa-an,Z-an]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"minus":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[aa-j,Z-an]]);X.funcs.push(["lineTo",[aa+j,Z-an]]);X.funcs.push(["lineTo",[aa+j,Z+an]]);X.funcs.push(["lineTo",[aa-j,Z+an]]);X.funcs.push(["lineTo",[aa-j,Z-an]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"mdavid":var ay=ac/3;var B=Math.PI/6;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["save",[]]);X.funcs.push(["scale",[0.8,0.8]]);X.funcs.push(["rotate",[L*0.45]]);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[ay,0]]);for(var at=0;at<11;at++){X.funcs.push(["rotate",[B]]);if(at%2==0){X.funcs.push(["lineTo",[(ay/0.55),0]])}else{X.funcs.push(["lineTo",[ay,0]])}}X.funcs.push(["closePath",[]]);X.funcs.push(["restore",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"star":var k=(ac/4);var L=Math.PI/5;var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["save",[]]);X.funcs.push(["scale",[0.7,0.7]]);X.funcs.push(["rotate",[L*0.45]]);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[k,0]]);for(var at=0;at<9;at++){X.funcs.push(["rotate",[L]]);if(at%2==0){X.funcs.push(["lineTo",[(k/0.35),0]])}else{X.funcs.push(["lineTo",[k,0]])}}X.funcs.push(["closePath",[]]);X.funcs.push(["restore",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"pie":if(typeof(ag)=="undefined"){ag=0}if(typeof(ax)=="undefined"){ax=Math.PI*2}var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["arc",[0,0,Math.max(0,ac/2),ag,ax,false]]);X.funcs.push(["lineTo",[0,0]]);X.funcs.push(["closePath",[]]);this.dC(av,ak,aj,X);O.o.push(X);break;case"pie0":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI/5,ad,az);break;case"pie1":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI/3.5,ad,az);break;case"pie2":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI/2,ad,az);break;case"pie3":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI/1.5,ad,az);break;case"pie4":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI,ad,az);break;case"pie5":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI*1.2,ad,az);break;case"pie6":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI*1.4,ad,az);break;case"pie7":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI*1.6,ad,az);break;case"pie8":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI*1.8,ad,az);break;case"pie9":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,0,Math.PI*2,ad,az);break;case"pacman":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,Math.PI*1/4,Math.PI*7/4,ad,az);break;case"pacman2":return this.Fe("pie",aa,Z,ac,ac/2,av,ak,aj,ah,Y,aB,aD,Math.PI*5/4,Math.PI*3/4,ad,az);break;case"pch0":this.Fe("square",aa,Z,ac,ac,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch1":this.Fe("circle",aa,Z,ac,ac,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch2":this.Fe("equilateral",aa,Z,ac,ac,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch3":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[0,-aE]]);X.funcs.push(["lineTo",[0,aE]]);X.funcs.push(["stroke",[]]);X.funcs.push(["moveTo",[-j,0]]);X.funcs.push(["lineTo",[j,0]]);X.funcs.push(["stroke",[]]);O.o.push(X);break;case"pch4":var X=this.NB(aa,Z,ac,au,av,ak,aj,ah,Y,O);X.funcs.push(["beginPath",[]]);X.funcs.push(["moveTo",[-j,-aE]]);X.funcs.push(["lineTo",[j,aE]]);X.funcs.push(["stroke",[]]);X.funcs.push(["moveTo",[j,-aE]]);X.funcs.push(["lineTo",[-j,aE]]);X.funcs.push(["stroke",[]]);O.o.push(X);break;case"pch5":this.Fe("diamond",aa,Z,ac,ac,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch6":this.Fe("equilateral2",aa,Z,ac,ac,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch7":this.Fe("pch0",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);this.Fe("pch4",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch8":this.Fe("pch3",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);this.Fe("pch4",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch9":this.Fe("pch3",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);this.Fe("pch5",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch10":this.Fe("pch1",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);this.Fe("pch3",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch11":this.Fe("pch2",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);this.Fe("pch6",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch12":this.Fe("pch0",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);this.Fe("pch3",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch13":this.Fe("pch1",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);this.Fe("pch4",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch14":this.Fe("pch0",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);this.Fe("pch6",aa,Z,ac,au,av,ak,"open",false,Y,aB,aD,ag,ax,ad,az);break;case"pch15":case"pch22":this.Fe("square",aa,Z,ac,ac,av||this.foreground,ak,"closed",false,Y,aB,aD,ag,ax,ad,az);break;case"pch16":case"pch21":this.Fe("circle",aa,Z,ac,ac,av||this.foreground,ak,"closed",false,Y,aB,aD,ag,ax,ad,az);break;case"pch17":case"pch24":this.Fe("equilateral",aa,Z,ac,ac,av||this.foreground,ak,"closed",false,Y,aB,aD,ag,ax,ad,az);break;case"pch18":case"pch23":this.Fe("diamond",aa,Z,ac,ac,av||this.foreground,ak,"closed",false,Y,aB,aD,ag,ax,ad,az);break;case"pch19":this.Fe("circle",aa,Z,ac+2,ac+2,av||this.foreground,ak,"closed",false,Y,aB,aD,ag,ax,ad,az);break;case"pch20":this.Fe("circle",aa,Z,Math.max(2,ac-2),Math.max(2,ac-2),av||this.foreground,ak,"closed",false,Y,aB,aD,ag,ax,ad,az);break;case"pch25":this.Fe("equilateral2",aa,Z,ac,ac,av||this.foreground,ak,"closed",false,Y,aB,aD,ag,ax,ad,az);break;default:break}if(af=="sphere"||af=="circle"||af=="circleOpen"||af=="rect"||af=="equilateral"||af=="plus"||af=="minus"||af=="diamond"||af=="rhombus"||af=="diamondOpen"||af=="hexagon"||af=="octagon"){this.JG(O)}else{this.JG(O);this.ai(O)}};this.lB=function(a){var b=this.$cX("canvas",{width:a.naturalWidth,height:a.naturalHeight});b.ctx=this.yY(b);b.ctx.drawImage(a,0,0);return b};this.iT=function(k){var s=k.naturalWidth;var l=k.naturalHeight;var o=this.lB(k);var m=o.ctx.getImageData(0,0,s,l).data;for(var f=0;f<l;f++){var t=l-(f+1);for(var e=0;e<s;e++){var d=parseInt(m[t][e][0]*255);var n=parseInt(m[t][e][1]*255);var p=parseInt(m[t][e][2]*255);var q=m[t][e][3]?parseInt(m[t][e][3]*255):255;o.ctx.fillStyle="rgba("+d+","+n+","+p+","+q+")";o.ctx.fillRect(e,f,1,1)}}return o.toDataURL("img/png")};this.tc=function(e,k){var m=this.lB(e);var b=k?this.b3(k):false;var j=m.ctx.getImageData(0,0,e.naturalWidth,e.naturalHeight);var l=j.data;for(var e=0;e<l.length;e+=4){var h=0.34*l[e]+0.5*l[e+1]+0.16*l[e+2];if(h>220){h=255;l[e]=h;l[e+1]=h;l[e+2]=h;l[e+3]=0}else{l[e]=k?b[0]:h;l[e+1]=k?b[1]:h;l[e+2]=k?b[2]:h}}m.ctx.putImageData(j,0,0);return m};this.gR=function(l){var k=l.length;var q=l[0].length;var n=this.$cX("canvas",{width:q,height:k});n.ctx=this.yY(n);n.ctx.clearRect(0,0,q,k);for(var f=0;f<k;f++){var s=k-(f+1);for(var e=0;e<q;e++){var d=parseInt(l[s][e][0]*255);var m=parseInt(l[s][e][1]*255);var o=parseInt(l[s][e][2]*255);var p=l[s][e][3]?parseInt(l[s][e][3]*255):255;n.ctx.fillStyle="rgba("+d+","+m+","+o+","+p+")";if(this.scatterType=="visium"&&this.visiumFlip){n.ctx.fillRect(e,f,1,1)}else{n.ctx.fillRect(e,s,1,1)}}}if(this.scatterType=="visium"){this.backgroundImageRows=k;this.backgroundImageCols=q}return n.toDataURL("img/png")};this.VJ=function(x,v,m,j,y,D,s,p,F,g,o,u){if(!u){u=this.E1()}try{v=parseInt(Math.round(v||0));m=parseInt(Math.round(m||0));j=parseInt(Math.round(j||x.naturalWidth));y=parseInt(Math.round(y||x.naturalHeight));if(this.scatterType=="visium"){if(this.visiumFlip){var A=this.xAxisMin;var z=this.xAxisMax;var b=x.naturalHeight-this.yAxisMax;var c=x.naturalHeight-this.yAxisMin;var f=z-A;var E=b-c;var a=j/f;var G=y/E;var k=(j-f)/2;var B=(y-E)/2;var n=this.yAxisMax;u.o.push({funcs:[["scale",[a,G]],["drawImage",[x,A,n,f,E,v+k,m+B,f,E]],["scale",[1/a,1/G]]]})}else{var A=this.xAxisMin;var z=this.xAxisMax;var b=this.yAxisMax;var c=this.yAxisMin;var f=z-A;var E=b-c;var a=j/f;var G=y/E;var k=(j-f)/2;var B=(y-E)/2;var n=x.naturalHeight-this.yAxisMax;u.o.push({funcs:[["scale",[a,G]],["drawImage",[x,A,n,f,E,v+k,m+B,f,E]],["scale",[1/a,1/G]]]})}}else{if(D&&s&&p&&F){D=parseInt(Math.round(D));s=parseInt(Math.round(s));p=parseInt(Math.round(p));F=parseInt(Math.round(F));u.o.push({funcs:[["drawImage",[x,v,m,j,y,D,s,p,F]],["drawImage",[this.tc(x,g),v,m,j,y,D,s,p,F]]]})}else{if(g&&g=="b&w"){u.o.push({funcs:[["drawImage",[this.tc(x),v,m,j,y]]]})}else{if(g){u.o.push({funcs:[["drawImage",[x,v,m,j,y]],["drawImage",[this.tc(x,g),v,m,j,y]]]})}else{if(o=="round"){var q=Math.max(j,y)/2;u.o.push({funcs:[["save",[]],["beginPath",[]],["arc",[v+q,m+q,q,0,Math.PI*2]],["clip",[]],["drawImage",[x,v,m,j,y]],["restore",[]]]})}else{u.o.push({funcs:[["drawImage",[x,v,m,j,y]]]})}}}}}}catch(C){var d=this;d.fo(C);setTimeout(function(){d.x9({func:"drawImage",par:[x,v,m,j,y,D,s,p,F,g]})},100)}};this.Hl=function(b,a){if(!CanvasXpress.system.isIE&&b){if(!a){a=this.E1()}a.o.push({globalCompositeOperation:b})}};this.ZR=function(a,e,c,d,b){if(!b){b=this.E1()}b.o.push({funcs:[["clearRect",[a,e,c,d]]]})};this.ak=function(a,c,b){if(!b){b=this.E1()}b.o.push({funcs:[["translate",[a,c]]]})};this.gZ=function(b,a){if(!a){a=this.E1()}a.o.push({funcs:[["rotate",[b]]]})};this.a2=function(a,c,b){if(!b){b=this.E1()}b.o.push({funcs:[["scale",[a,c]]]})};this.kg=function(a){if(!a){a=this.E1()}a.o.push({funcs:[["save",[]]]})};this.ai=function(a){if(!a){a=this.E1()}a.o.push({funcs:[["restore",[]]]})}};CanvasXpress.prototype.initRangeAlgorithms=function(){this.TZ=function(g,e){if(g==undefined){g=0}var b=g;var l=g.toString();var d=l.indexOf("999999");var j=l.indexOf("000000");var i=l.indexOf(".");var k=d>=0&&i<d?d:j>=0?j:null;if(k!=null){b=l.substring(0,k);var h=Math.pow(10,b.length-(b.indexOf(".")+1));return Number(Math.round(Number(l)*h)/h)}else{return e?Number.parseFloat(l).toFixed(e):Number(l)}};this.kn=function(d,l,b,f){var c=function(i,n){var p;var q=Math.floor(Math.log(i)/Math.LN10);var o=i/Math.pow(10,q);if(n){if(o<1.5){p=1}else{if(o<3){p=2}else{if(o<7){p=5}else{p=10}}}}else{if(o<1){p=1}else{if(o<2){p=2}else{if(o<5){p=5}else{p=10}}}}return p*Math.pow(10,q)};if(d>l){var g=l;d=l;d=g}else{if(l-d<1e-8){l+=0.1}}var k=[];var h=c(l-d,false);var m=c(h/(b-1),true);var a=Math.floor(d/m)*m;var j=Math.ceil(l/m)*m;for(var e=a;e<=j;e+=m){k.push(this.TZ(e))}if(k[0]==k[k.length-1]){var k=[];for(var e=a;e<=j;e+=m){k.push(e)}}return f?k:this.c3(k)};this.N0=function(c,j,a,g){var b=function(A,C,B,z){var v=[10,1,5,2,2.5,3,4,1.5,7,6,8,9];var x=C-A;var s=B-1;var p=1-Math.abs(B-z)/z;var E=x/s;var u=Math.floor(Math.log(E)/Math.LN10);var F=Math.pow(10,u);var q=null;for(var D=0;D<v.length;D++){var t=v[D]*F;var G=Math.floor(A/t)*t;var n=G+s*t;if(G<=A&&n>=C){var w=1-(D-(G<=0&&n>=0?1:0))/v.length;var r=(C-A)/(n-G);if(r>0.8){var y=p+w+r;if(q==null||y>q.score){q={lmin:G,lmax:n,lstep:t,score:y}}}}}if(!q){q={lmin:A,lmax:C,lstep:1,score:0}}return q};if(j==c){if(c==0){c=-1;j=1}else{c-=Math.abs(c*0.1);j+=Math.abs(j*0.1)}}if(c>j){var h=j;c=j;c=h}else{if(j-c<1e-8){}}var l=[];var e=null;var m=[];for(var f=Math.max(Math.floor(a/2),2);f<=Math.ceil(6*a);f++){m.push(f)}for(var f=0;f<m.length;f++){var d=m[f];var o=b(c,j,d,a);if((o!=null&&e==null)||(o&&e&&o.score>e.score)){e=o}}for(var f=e.lmin;f<=e.lmax;f+=e.lstep){l.push(this.TZ(f))}if(l[0]==l[l.length-1]){var l=[];for(var f=e.lmin;f<=e.lmax;f+=e.lstep){l.push(f)}}return g?l:this.c3(l)};this.eX=function(a,A,S,d,D){var h=function(j,g){for(var c=0;c<g.length;c++){if(j==g[c]){return c}}};var K=function(c,w,m,g,z,Z){var k=w.length;var s=h(c,w);var aa=(g%Z<B||Z-(g%Z)<B)&&g<=0&&z>=0?1:0;return 1-s/(k-1)-m+aa};var L=function(s,m,g){var w=m.length;var k=h(s,m);var c=1;return 1-k/(w-1)-g+c};var l=function(c,i,j,g){return 1-0.5*(Math.pow(i-g,2)+Math.pow(c-j,2))/Math.pow(0.1*(i-c),2)};var t=function(c,k,i){var g=k-c;if(i>g){var j=(i-g)/2;return 1-0.5*(Math.pow(j,2)+Math.pow(j,2))/Math.pow(0.1*g,2)}else{return 1}};var p=function(j,c,i,s,w,q){var n=(j-1)/(q-w);var g=(c-1)/(Math.max(q,s)-Math.min(i,w));return 2-Math.max(n/g,g/n)};var Y=function(g,c){return g>=c?2-(g-1)/(c-1):1};var f=[1,5,2,2.5,4,3];var H=[0.25,0.2,0.5,0.05];var R=f.length;var M={score:-2};var I=[];var B=2.22e-14;if(A==a){if(a==0){a=-1;A=1}else{a-=Math.abs(a*0.1);A+=Math.abs(A*0.1)}}if(a>A){var o=a;a=A;A=o}else{if(A-a<1e-8){}}var U=1;while(U<Number.POSITIVE_INFINITY){for(var V=0;V<R;V++){var O=f[V];var v=L(O,f,U);if((H[0]*v+H[1]+H[2]+H[3]<M.score)){U=Number.POSITIVE_INFINITY;break}var T=2;while(T<Number.POSITIVE_INFINITY){var r=Y(T,S);if((H[0]*v+H[1]+H[2]*r+H[3]<M.score)){break}var F=(A-a)/(T+1)/U/O;var G=Math.ceil(Math.log(F)/Math.LN10);while(G<Number.POSITIVE_INFINITY){var E=U*O*Math.pow(10,G);var C=t(a,A,E*(T-1));if((H[0]*v+H[1]*C+H[2]*r+H[3]<M.score)){break}var x=Math.floor(A/E)*U-(T-1)*U;var P=Math.ceil(a/E)*U;if(x>P){G++;continue}for(var y=x;y<=P;y++){var u=y*(E/U);var N=u+E*(T-1);var e=E;var J=K(O,f,U,u,N,e);var X=l(a,A,u,N);var W=p(T,S,a,A,u,N);var b=H[0]*J+H[1]*X+H[2]*W+H[3];if(b>M.score&&(!D||(u<=a&&N>=A))){M={lmin:u,lmax:N,lstep:e,score:b}}}G++}T++}}U++}for(var V=M.lmin;V<=M.lmax;V+=M.lstep){I.push(this.TZ(V))}if(I[0]==I[I.length-1]){var I=[];for(var V=M.lmin;V<=M.lmax;V+=M.lstep){I.push(V)}}return d?I:this.c3(I)};this.iH=function(j,l,y,g){if(j>l){var x=l;l=j;j=x}if((isNaN(j)||isNaN(l))||(!isFinite(j)||!isFinite(l))){return[]}var u=Math.floor(y%3);var f=0.75;var w=1.5;var e=0.5+1.5*w;var v=2e-20;var i=0;var b,r,c;var n=Number.EPSILON;var t=1.25;var a=1e-10;var m=l-j;if(m==0&&l==0){b=1;r=true}else{b=Math.max(Math.abs(j),Math.abs(l));c=1+((e>=1.5*w+0.5)?1/(1+w):1.5/(1+e));c*=parseInt(Math.max(1,y))*n;r=m<b*c*3}if(r){if(b>10){b=9+b/10}b*=f;if(u>1){b/=u}}else{b=m;if(isFinite(m)){if(y>1){b/=y}else{if(y<2){b=l*0.5}else{b=l/y-j/y}}}}var q=v*Number.MIN_VALUE;if(q==0){q=Number.MIN_VALUE}if(b<q){alert("Error in rPretty: very small range");b=q}else{if(b>Number.MAX_VALUE/t){alert("Error in rPretty: very large range");b=Number.MAX_VALUE/t}}var d=Math.pow(10,Math.floor(Math.log10(b)));var p=d;if((2*d)-b<w*(b-p)){p=2*d;if((5*d)-b<e*(b-p)){p=5*d;if((10*d)-b<w*(b-p)){p=10*d}}}var A=Math.floor(j/p+a);var z=Math.ceil(l/p-a);if(i&&(i>1||!r)){if(j!=0){j*=(1-n)}else{j=-Number.MIN_VALUE}if(l!=0){l*=(1+n)}else{l=Number.MIN_VALUE}}while(A*p>j+(a*p)){A--}while(!isFinite(A*p)){A++}while(z*p<l-(a*p)){z++}while(!isFinite(A*p)){A--}var s=Math.floor(0.5+z-A);if(s<u){s=u-s;if(j==0&&A==0&&l!=0){z+=s}else{if(l==0&&z==0&&j!=0){A-=s}else{if(A>=0){z+=s/2;A-=s/2+s%2}else{A-=s/2;z+=s/2+s%2}}}y=u}else{y=s}if(A*p<j){j=A*p}if(z*p>l){l=z*p}var o=this.XX(j,l,false,y+1);return g?o:this.c3(o)}};CanvasXpress.prototype.initPrimitives=function(){this.initText();this.initTime();this.initColor();this.initAttributes();this.initRangeAlgorithms()};CanvasXpress.prototype.initGeneralUtils=function(){this.im=function(c,g,h,f,j){if(this.KV()){return}var e=this[h];if(f){var a={};if(this.tO(c)){var b=c.length;for(var d=0;d<b;d++){a[c[d]]=true}}else{a[c]=true}for(var d in a){if(e.includes(d)){e=this.x6(d,e);delete (a[d])}}for(var d in a){e.push(d)}this[h]=e}else{if(g){var a={};var k=[];if(this.tO(c)){var b=c.length;for(var d=0;d<b;d++){a[c[d]]=1}}else{a[c]=1}var b=e.length;for(var d=0;d<b;d++){if(!a.hasOwnProperty(e[d])){k.push(e[d])}}this[h]=k}else{if(this.tO(c)){var b=c.length;for(var d=0;d<b;d++){e.push(c[d])}}else{e.push(c)}}}if(j){this.x9({func:"modifyObjectArray",par:[c,g,h,f,j]})}};this.l4=function(b){var d={};if(b&&this.tO(b)){var e=b.length;for(var c=0;c<e;c++){d[b[c]]=true}}return d};this.p4=function(c){var f=[];if(c&&this.tO(c)){var g=c.length;for(var e=0;e<g;e++){f[e]=[];if(c[e]&&this.tO(c[e])){var b=c[e].length;for(var d=0;d<b;d++){f[e][c[e][d]]=true}}}}return f};this.Bj=function(b){var d={};if(b&&this.tO(b)){var e=b.length;for(var c=0;c<e;c++){d[b[c]+""]=c}}return d};this.mQ=function(e,d){var h=[];if(!this.tO(e)){e=this.i4(e)}var f=this.l4(this.i4(d));for(var g=0;g<e.length;g++){if(f.hasOwnProperty(e[g].toString())){h.push(e[g])}}return h};this.x6=function(e,b){if(this.tO(b)){var d=[];var f=b.length;for(var c=0;c<f;c++){if(b[c]!=e){d.push(b[c])}}}return d};this.qj=function(a){return a&&typeof a==="function";var b={};return a&&b.toString.call(a)==="[object Function]"};this.tO=function(a){return Array.isArray(a)};this.wo=function(a){return a instanceof Object};this.um=function(b){return this.Ek(b).length==b.length};this.Gt=function(b){var d=b.length;if(this.isR){for(var c=0;c<d;c++){if(this.wo(b[c])){return false}else{if(b[c]==null){continue}else{if(typeof(b[c])=="string"){if(b[c].toLowerCase()!="true"&&b[c].toLowerCase()!="false"&&b[c]!==""){return false}}}}}}else{for(var c=0;c<d;c++){if(this.wo(b[c])){return false}else{if(typeof(b[c])=="string"){if(b[c].toLowerCase()!="true"&&b[c].toLowerCase()!="false"&&b[c]!==""){return false}}else{if(b[c]!==true&&b[c]!==false&&b[c]!==""&&b[c]!==null){return false}}}}}return true};this.y6=function(a){return/^https*:\/\//.test(a)};this.Ev=function(c,e){var b=/^<a.*>.*<\/a>/i.test(c);if(b&&e){var d=/<a.*?href=['"](.*?)['"].*?>(.*?)<\/a>/i.exec(c);return d?[d[1],d[2]]:false}else{return b}};this.xK=function(c,e){var b=/^<a.*onclick.*>.*<\/a>/i.test(c);if(b&&e){var d=/<a.*?onclick=['|"|&quot;](.*?)['|"|&quot;].*?>(.*?)<\/a>/i.exec(c);return d?[d[1],d[2]]:false}else{return b}};this.v8=function(a){return this.Ev(a)||this.y6(a)};this.eI=function(b){var a=/<img.*?src=['"](.*?)['"].*?\/>/i.exec(b);return a&&a[1]?a[1]:false};this.t2=function(a){if(this.tO(a)){return a.every(function(b){return/^https*:\/\/.+\.(jpg|jpeg|png|gif|bmp|webp|svg)$/.test(b)})}else{return/^https*:\/\/.+\.(jpg|jpeg|png|gif|bmp|webp|svg)$/.test(a)}};this.i4=function(a){return this.tO(a)?a:[a]};this.Mb=function(l,d){if(this.data[l]&&this.data[l][d]){var h=this.data[l][d];var f=this.Ry(h);var b={};var j=false;for(var g=0;g<f.length;g++){if(f[g]!=null&&(f[g].toString().match(/\[/)||f[g].toString().match(/\]/)||f[g].toString().match(/\{/)||f[g].toString().match(/\}/))&&!this.v8(f[g].toString())){j=true;try{b[f[g]]=JSON.stringify(f[g])}catch(k){b[f[g]]=f[g].toString().replace(/\[/,"(").replace(/\]/,")").replace(/\{/,"(").replace(/\}/,")")}}else{if(f[g]==null){b[f[g]]=null}}}if(j){for(var g=0;g<h.length;g++){if(h[g]&&b[f[g]]!=null){h[g]=b[h[g]]}}}}};this.Nv=function(a){var b=function(e){var d=[];for(var c in e){d.push(c)}return d.sort()};return this.tO(a)?a:this.wo(a)?b(a):[]};this.E3=function(b){var a=function(e){var c=[];for(var d in e){c.push(e[d])}return c.sort()};return this.tO(b)?b:this.wo(b)?a(b):[]};this.Ry=function(a){if(this.tO(a)){return this.Ek(a)}else{if(this.wo(a)){return Object.keys(a)}else{return[a]}}};this.Ek=function(b){var g=b.length;var e=[];var f=new Set();for(var d=0;d<g;d++){var c=b[d];if(f.has(c)){continue}f.add(c);e.push(c)}return e};this.rK=function(a){if(this.tO(a)){return this.Ek(a)}else{if(this.wo(a)){return this.Ek(this.Nv(a))}else{return[a]}}};this.Jp=function(c){var g=c.length;var f={};for(var e=0;e<g;e++){var b=c[e];var d=(f[b]!==undefined&&f[b]!==null)?f[b]:0;f[b]=d+1}return f};this.WZ=function(b){for(var d=b.length;d>0;d--){var c=Math.floor(this.DI()*d);var a=b[--d];b[d]=b[c];b[c]=a}return b};this.US=function(c){var f=[];var d=this.tO(c);c=this.i4(c);var b=c.length;for(var e=0;e<b;e++){f.push(Number(c[e]))}return d?f:f[0]};this.JR=function(d,c){return d.map(function(b,a){return[d[a],c[a]]})};this.nn=function(b,a){return b.map(function(d,c){return d[a]})};this.cH=function(c,b){if(c==null||typeof(c)!="object"){return b}if(b==null||typeof(b)!="object"){return c}if(Object.assign){return Object.assign({},c,b)}else{for(var a in c){if(c.hasOwnProperty(a)){b[a]=c[a]}}return b}};this.RX=function(a,c){if(a==null||typeof(a)!="object"){a={}}if(c==null||typeof(c)!="object"){return}for(var b in c){a[b]=c[b]}};this.k4=function(c,a){var b=this;if(c==null||typeof(c)!="object"){return c}if(this.tO(c)){return c.map(function(d){return b.tO(d)?d.slice():b.k4(d,a)})}else{if(a){return this.wo(c)?Object.assign({},c):this.parseJSON(this.G0(c))}else{return this.parseJSON(this.G0(c))}}};this.TU=function(a){return a?JSON.parse(JSON.stringify(a)):false};this.SK=function(e){var d={bubble:true,gantt:true,sankey:true,tree:true,cola:true,colaConnector:true,stateCX:true,stateIndexCX:true};var a={};for(var c in e){if(d.hasOwnProperty(c)){continue}switch(c){case"data":case"config":a[c]=this.aj(e[c]);break;case"events":a[c]={};for(var b in e[c]){a[c][b]=this.qG(e[c][b])}break;default:a[c]=this.TU(e[c]);break}}return a};this.aj=function(a,k){var p={bubble:true,gantt:true,sankey:true,tree:true,cola:true,colaConnector:true};if(this.wo(a)&&a.config&&a.config.decorations&&a.config.decorations.marker){var d=a.config.decorations.marker;var g=d.length;for(var f=0;f<g;f++){if(d[f].text){d[f].text=d[f].text.replace(/\n/g,"__nl__")}}}if(typeof a==="string"){return a.replace(/"/g,"'")}else{if(a&&typeof a=="object"){var j=a.constructor.name;if(j!="Object"&&j!="Array"){return undefined}}else{if(a&&typeof a!=="object"){return a}}}if(!a){return a}if(Object.prototype.toString.apply(a)==="[object Array]"){var c=[];var e=a.length;for(var f=0;f<e;f++){c[f]=this.aj(a[f])}return c}var c={};for(f in a){var b=a[f];if(typeof b=="object"){var h=b&&b.constructor.name;if(b&&h!="Object"&&h!="Array"){delete a[f];continue}}if(k&&p.hasOwnProperty(f)){continue}if((b&&a.hasOwnProperty(f))||b===false||b===0){c[f]=this.aj(b,f=="data")}}return c};this.gS=function(d,c){if(d===c){return true}if(typeof(d)!="object"||typeof(c)!="object"){return false}return JSON.stringify(d)==JSON.stringify(c)};this.xx=function(b,a){if(a){return !isNaN(parseFloat(b))&&isFinite(b)}else{return b===null||b===undefined?true:!isNaN(parseFloat(b))&&isFinite(b)}};this.US=function(a){if(this.xx(a,true)){return a}else{return Number.NaN}};this.bt=function(g){var l=["low","medium","normal","high"];var c=0;for(var f=0;f<g.length;f++){var m=g[f];if(this.wo(m)){return false}if(typeof m!=="string"){if(m===true||m===false||m===null||m===undefined){c++}continue}var b=m.toLowerCase();var h=false;for(var d=0;d<l.length;d++){if(b.indexOf(l[d])!==-1){h=true;break}}if(!h){return false}}if(c==g.length){return false}var a={low:1,medium:2,normal:2,high:3};function e(n){var i=n.toLowerCase();for(var j in a){if(i.indexOf(j)!==-1){return a[j]}}return 4}var k=g.slice();k.sort(function(n,i){var o=e(n);var j=e(i);if(o<j){return -1}if(o>j){return 1}return n.localeCompare(i)});return k};this.k2=function(a){var e=a.length;for(var d=0;d<e;d++){var c=a[d].length;for(var b=0;b<c;b++){if(!this.xx(a[d][b])){return false}}}return true};this.eb=function(a){var d=a.length;for(var c=0;c<d;c++){var b=a[c];if(Number.isNaN(b)){a[c]=Number.NaN;continue}if(!this.xx(b)){return false}}return true};this.kx=function(a){var c=a.length;for(var b=0;b<c;b++){if(a[b]!=null){return false}}return true};this.sH=function(a){var c=a.length;for(var b=0;b<c;b++){if(a[b]!==""){return false}}return true};this.uH=function(a){var c=a.length;for(var b=0;b<c;b++){if(a[b]==null){continue}if(a[b].toString().match(/^[\-0-9]{8,13}$/)==null){return false}}return true};this.aI=function(h,c){var j=/(^\d{1,4}?[\.|\\/|-]\d{1,2}?[\.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/;var e=/(^\d{1,4}?[\.|\\/|-]\d{1,2})$/;var d=/(^\d{4})$/;var b=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?$/;var k=function(f){if(toString.call(f)==="[object Date]"){return true}if(typeof f.replace==="function"){f.replace(/^\s+|\s+$/gm,"")}if(c){return b.test(f)||d.test(f)||e.test(f)||j.test(f)}else{return b.test(f)||j.test(f)}};var a=h.length;for(var g=0;g<a;g++){if(h[g]!=null&&!k(h[g])){return false}}return true};this.cA=function(a){var c=a.length;for(var b=0;b<c;b++){if(a[b]!=null&&!CanvasXpress.dates.hasOwnProperty(a[b])){return false}}return true};this.u6=function(a){var b={};for(var d in CanvasXpress.countries){b[d]=d;b[CanvasXpress.countries[d][0]]=d;b[CanvasXpress.countries[d][3]]=d;if(CanvasXpress.countries[d][7]){for(var c=0;c<CanvasXpress.countries[d][7].length;c++){b[CanvasXpress.countries[d][7][c]]=d}}}var e=a.length;for(var d=0;d<e;d++){if(a[d]!=null&&!b.hasOwnProperty(a[d])){return false}}return e>0?true:false};this.cV=function(){var a={};for(var d in CanvasXpress.countries){a[d]=d;a[CanvasXpress.countries[d][0]]=d;a[CanvasXpress.countries[d][3]]=d;if(CanvasXpress.countries[d][7]){for(var b=0;b<CanvasXpress.countries[d][7].length;b++){a[CanvasXpress.countries[d][7][b]]=d}}}return a};this.zS=function(a){var c={};for(var b in CanvasXpress.usa){c[b]=b;c[CanvasXpress.usa[b][0]]=b}var d=a.length;for(var b=0;b<d;b++){if(a[b]!=null&&!c.hasOwnProperty(a[b])){return false}}return d>0?true:false};this.jT=function(){var a={};for(var b in CanvasXpress.usa){a[b]=b;a[CanvasXpress.usa[b][0]]=b}return a};this.vD=function(a){var d=this;var c=function(f){return d.u5(f)};var e=a.length;for(var b=0;b<e;b++){if(a[b]!=null&&!c(a[b])){return false}}return true};this.QL=function(b){if(this.data.y&&this.data.y.vars){var a=this.tU(b);if(a>=0){for(var c=0;c<this.data.y.smps.length;c++){if(this.data.y.data[a][c]!=1){return false}}return true}else{return false}}else{return false}};this.dQ=function(b,a){if(!a){a=4}b=b+"";return b.length>=a?b:new Array(a-b.length+1).join("0")+b};this.Fh=function(){if(this.s9()){if(this.meta.tree){return false}else{if(this.varOverlays.length+this.smpOverlays.length>0){return false}else{if(this.isMultidimensionalData){return false}}}return true}};this.Gl=function(){var b=this.data.y.vars.length;var c=this.data.x?this.Nv(this.data.x):[];var a=c.length;return(this.data.x||b+a==3)?true:false};this.CV=function(j,g,l,d){var c={};var f=[];var e=[];var a=j.length;for(var b=0;b<a;b++){if(!c[j[b][g]]){c[j[b][g]]={}}c[j[b][g]][j[b][l]]=j[b][d];if(f.indexOf(j[b][l])==-1){f.push(j[b][l])}}f=this.nM(f);var k=[];k.push("Vars");k.push.apply(k,f);e.push(k);for(var h in c){k=[];k.push(h);a=f.length;for(var b=0;b<a;b++){k.push(c[h][f[b]]||"")}e.push(k)}return e};this.nG=function(a){return a[0].map(function(b,d){return a.map(function(c){return c[d]})})};this.SO=function(a,c){var d=[];var e=a.length;for(var b=0;b<e;b++){if(this.xx(a[b],c)){d.push(a[b])}}return d};this.C1=function(b,a,e){var d=[];if(a){var f=this.smpIndices.length;for(var c=0;c<f;c++){d.push(b[this.smpIndices[c]])}d=this.SO(d,true)}else{if(e){var f=this.varIndices.length;for(var c=0;c<f;c++){d.push(b[this.varIndices[c]])}d=this.SO(d,true)}else{d=this.SO(b,true)}}return d};this.zM=function(j,h,g,e){var d=[];var c=[];if(g){var b=this.smpIndices.length;for(var f=0;f<b;f++){var k=this.SO([j[this.smpIndices[f]],h[this.smpIndices[f]]],true);if(k.length==2){d.push(j[this.smpIndices[f]]);c.push(h[this.smpIndices[f]])}}}else{if(e){var b=this.varIndices.length;for(var f=0;f<b;f++){var k=this.SO([j[this.varIndices[f]],h[this.varIndices[f]]],true);if(k.length==2){d.push(j[this.varIndices[f]]);c.push(h[this.varIndices[f]])}}}else{var b=j.length;for(var f=0;f<b;f++){var k=this.SO([j[f],h[f]],true);if(k.length==2){d.push(j[f]);c.push(h[f])}}}}return[d,c]};this.JN=function(a){tmp=a.reverse();return tmp};this.xw=function(a){return(0.5+a)<<0;return((a+0.5)<<1)>>1};this.ii=function(){return this.isGroupedData&&(this.graphType=="Dotplot"||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)||this.graphType=="Gantt")};this.va=function(g){var c=g.split("/");var e=c[0].split(".");var d=["0","0","0","0"];if(!/\d+\.\d+\.\d+\.\d+/.test(c[1])){d=("1".repeat(parseInt(c[1],10))+"0".repeat(32-parseInt(c[1],10))).match(/.{1,8}/g);d=d.map(function(h){return parseInt(h,2)})}else{d=c[1].split(".").map(function(h){return parseInt(h,10)})}var b=d.map(function(h){return h^255});var a=e.map(function(i,h){return i&d[h]});var f=e.map(function(i,h){return i|b[h]});return[a.join("."),f.join(".")]};this.TM=function(a){return((a>>>24)+"."+(a>>16&255)+"."+(a>>8&255)+"."+(a&255))};this.fS=function(a){return a.split(".").reduce(function(c,b){return(c<<8)+parseInt(b,10)},0)>>>0};this.HI=function(b){var d=function(o,q){var p=o[0];var n=o[1];var s=o[2];var r=o[3];p=a(p,n,s,r,q[0],7,-680876936);r=a(r,p,n,s,q[1],12,-389564586);s=a(s,r,p,n,q[2],17,606105819);n=a(n,s,r,p,q[3],22,-1044525330);p=a(p,n,s,r,q[4],7,-176418897);r=a(r,p,n,s,q[5],12,1200080426);s=a(s,r,p,n,q[6],17,-1473231341);n=a(n,s,r,p,q[7],22,-45705983);p=a(p,n,s,r,q[8],7,1770035416);r=a(r,p,n,s,q[9],12,-1958414417);s=a(s,r,p,n,q[10],17,-42063);n=a(n,s,r,p,q[11],22,-1990404162);p=a(p,n,s,r,q[12],7,1804603682);r=a(r,p,n,s,q[13],12,-40341101);s=a(s,r,p,n,q[14],17,-1502002290);n=a(n,s,r,p,q[15],22,1236535329);p=i(p,n,s,r,q[1],5,-165796510);r=i(r,p,n,s,q[6],9,-1069501632);s=i(s,r,p,n,q[11],14,643717713);n=i(n,s,r,p,q[0],20,-373897302);p=i(p,n,s,r,q[5],5,-701558691);r=i(r,p,n,s,q[10],9,38016083);s=i(s,r,p,n,q[15],14,-660478335);n=i(n,s,r,p,q[4],20,-405537848);p=i(p,n,s,r,q[9],5,568446438);r=i(r,p,n,s,q[14],9,-1019803690);s=i(s,r,p,n,q[3],14,-187363961);n=i(n,s,r,p,q[8],20,1163531501);p=i(p,n,s,r,q[13],5,-1444681467);r=i(r,p,n,s,q[2],9,-51403784);s=i(s,r,p,n,q[7],14,1735328473);n=i(n,s,r,p,q[12],20,-1926607734);p=f(p,n,s,r,q[5],4,-378558);r=f(r,p,n,s,q[8],11,-2022574463);s=f(s,r,p,n,q[11],16,1839030562);n=f(n,s,r,p,q[14],23,-35309556);p=f(p,n,s,r,q[1],4,-1530992060);r=f(r,p,n,s,q[4],11,1272893353);s=f(s,r,p,n,q[7],16,-155497632);n=f(n,s,r,p,q[10],23,-1094730640);p=f(p,n,s,r,q[13],4,681279174);r=f(r,p,n,s,q[0],11,-358537222);s=f(s,r,p,n,q[3],16,-722521979);n=f(n,s,r,p,q[6],23,76029189);p=f(p,n,s,r,q[9],4,-640364487);r=f(r,p,n,s,q[12],11,-421815835);s=f(s,r,p,n,q[15],16,530742520);n=f(n,s,r,p,q[2],23,-995338651);p=l(p,n,s,r,q[0],6,-198630844);r=l(r,p,n,s,q[7],10,1126891415);s=l(s,r,p,n,q[14],15,-1416354905);n=l(n,s,r,p,q[5],21,-57434055);p=l(p,n,s,r,q[12],6,1700485571);r=l(r,p,n,s,q[3],10,-1894986606);s=l(s,r,p,n,q[10],15,-1051523);n=l(n,s,r,p,q[1],21,-2054922799);p=l(p,n,s,r,q[8],6,1873313359);r=l(r,p,n,s,q[15],10,-30611744);s=l(s,r,p,n,q[6],15,-1560198380);n=l(n,s,r,p,q[13],21,1309151649);p=l(p,n,s,r,q[4],6,-145523070);r=l(r,p,n,s,q[11],10,-1120210379);s=l(s,r,p,n,q[2],15,718787259);n=l(n,s,r,p,q[9],21,-343485551);o[0]=e(p,o[0]);o[1]=e(n,o[1]);o[2]=e(s,o[2]);o[3]=e(r,o[3])};var k=function(v,p,o,n,u,r){p=e(e(p,v),e(n,r));return e((p<<u)|(p>>>(32-u)),o)};var a=function(p,o,v,u,n,r,q){return k((o&v)|((~o)&u),p,o,n,r,q)};var i=function(p,o,v,u,n,r,q){return k((o&u)|(v&(~u)),p,o,n,r,q)};var f=function(p,o,v,u,n,r,q){return k(o^v^u,p,o,n,r,q)};var l=function(p,o,v,u,n,r,q){return k(v^(o|(~u)),p,o,n,r,q)};var j=function(q){txt="";var t=q.length;var r=[1732584193,-271733879,-1732584194,271733878];var p;for(p=64;p<=q.length;p+=64){d(r,m(q.substring(p-64,p)))}q=q.substring(p-64);var o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(p=0;p<q.length;p++){o[p>>2]|=q.charCodeAt(p)<<((p%4)<<3)}o[p>>2]|=128<<((p%4)<<3);if(p>55){d(r,o);for(p=0;p<16;p++){o[p]=0}}o[14]=t*8;d(r,o);return r};var m=function(o){var p=[];var n;for(n=0;n<64;n+=4){p[n>>2]=o.charCodeAt(n)+(o.charCodeAt(n+1)<<8)+(o.charCodeAt(n+2)<<16)+(o.charCodeAt(n+3)<<24)}return p};var h="0123456789abcdef".split("");var g=function(q){var p="";var o=0;for(;o<4;o++){p+=h[(q>>(o*8+4))&15]+h[(q>>(o*8))&15]}return p};var c=function(n){for(var o=0;o<n.length;o++){n[o]=g(n[o])}return n.join("")};var e=function(o,n){return(o+n)&4294967295};return c(j(this.G0(b)))}};CanvasXpress.prototype.initPlotUtils=function(){this.sB=function(){var k=this.height;var p=this.width;var f=this.left;var c=this.right;var n=this.bottom;var q=this.top;var i=this.marginLeft;var d=this.marginRight;var o=this.marginBottom;var a=this.marginTop;var m=this.layoutLeft;var j=this.layoutRight;var e=this.layoutBottom;var g=this.layoutTop;this.To({p:["drawShape","rectangle",(i+this.offsetX)+(this.layoutWidth/2),(a+this.offsetY)+(this.layoutHeight/2),this.layoutWidth,this.layoutHeight,false,"rgba(0,0,0,0.5)","open"],t:"Size"});this.To({p:["drawShape","rectangle",(i+this.offsetX+f)+(this.x/2),(a+this.offsetY+q)+(this.y/2),this.x,this.y,false,"red","open"],t:"Size"});this.To({p:["drawShape","rectangle",(i+this.offsetX+f+this.x)+(c/2),(a+this.offsetY+q)+(this.y/2),c,this.y,false,"blue","open"],t:"Size"});this.To({p:["drawShape","rectangle",(i+this.offsetX)+(f/2),(a+this.offsetY+q)+(this.y/2),f,this.y,false,"blue","open"],t:"Size"});this.To({p:["drawShape","rectangle",(i+this.offsetX+f)+(this.x/2),(a+this.offsetY)+(q/2),this.x,q,false,"blue","open"],t:"Size"});this.To({p:["drawShape","rectangle",(i+this.offsetX+f)+(this.x/2),(a+this.offsetY+q+this.y)+(n/2),this.x,n,false,"blue","open"],t:"Size"});return};this.UK=function(c){if(this.graphType!="Network"||c){var a=this.plotBackgroundBorderLineType=="solid"?"rectangle":this.plotBackgroundBorderLineType+"Rectangle";this.To({p:["disableGradientTransparencyShadow"],t:"Size"});this.To({p:["drawShape",a,this.width/2,this.height/2,this.width-2,this.height-2,false,this.plotBackgroundBorderColor,"open"],t:"Size"});this.To({p:["enableGradientTransparencyShadow"],t:"Size"})}};this.t3=function(){if(this.backgroundType.match(/panel/)){if(this.isDOE&&this.graphType=="Meter"){return}var e=this.graphType.match(/Sankey/)?this.margin*6:0;var c=this.marginLeft+this.offsetX+this.left;var d=this.marginTop+this.offsetY+this.top;var a=this.panelBackgroundBorderLineType=="solid"?"rectangle":this.panelBackgroundBorderLineType+"Rectangle";var f=this.graphType=="Treemap"&&this.isDOE?"rgba(0,0,0,0)":this.panelBackgroundBorderColor;this.To({p:["drawShape",a,c+(this.x/2),d+(this.y/2),this.x-e,this.y,false,f,"open"],t:"Size"})}};this.v1=function(){if(this.backgroundType.match(/panel/)){var a=this.panelBackgroundBorderLineType=="solid"?"rectangle":this.panelBackgroundBorderLineType+"Rectangle";if(this.isDOE&&this.graphType=="Meter"){return}this.To({p:["disableGradientTransparencyShadow"],t:"Size"});var e=this.graphType.match(/Sankey/)?this.margin*6:0;var c=this.marginLeft+this.offsetX+this.left;var d=this.marginTop+this.offsetY+this.top;if(!this.layoutValid){this.To({p:["drawShape",a,this.width*0.5,this.height*0.5,this.width,this.height,this.plotBackgroundColor,this.plotBackgroundBorderColor],t:"Size"})}if(this.backgroundType=="panelSolidGradient"){var f=this.dX(c,d,this.gradientOrientation=="vertical"?c:d+this.y,this.gradientOrientation=="vertical"?c+this.x:d);this.To({p:["drawShape",a,c+(this.x/2),d+(this.y/2),this.x-e,this.y,f,f],t:"Size"})}else{if(this.backgroundType=="panelGradient"){var f=this.dX(c,d,this.gradientOrientation=="vertical"?c:d+this.y,this.gradientOrientation=="vertical"?c+this.x:d);this.To({p:["drawShape",a,c+(this.x/2),d+(this.y/2),this.x-e,this.y,f,f],t:"Size"})}else{if(this.backgroundType=="panelImage"){this.To({p:["drawShape","image",c+(this.x/2),d+(this.y/2),this.x-e,this.y,false,false,false,false,false,false,false,false,false,this.backgroundImage],t:"Size"})}else{var i=this.graphType=="Treemap"&&this.isDOE?"rgba(0,0,0,0)":this.panelBackgroundColor;var h=this.graphType=="Treemap"&&this.isDOE?"rgba(0,0,0,0)":this.panelBackgroundBorderColor;this.To({p:["drawShape",a,c+(this.x/2),d+(this.y/2),this.x-e,this.y,i,h],t:"Size"})}}}this.To({p:["enableGradientTransparencyShadow"],t:"Size"})}};this.BY=function(){var e="";var b=this.segregateVariablesBy;var d=this.segregateSamplesBy;if(b.length>0){var a=[];for(var c=0;c<b.length;c++){if((this.data.z&&this.data.z.hasOwnProperty(b[c]))||b[c]=="variable"){a.push(b[c])}}b=a}if(d.length>0){var a=[];for(var c=0;c<d.length;c++){if((this.data.x&&this.data.x.hasOwnProperty(d[c]))||d[c]=="sample"){a.push(d[c])}}d=a}if(b.length>0&&d.length>0){if(d.length>1){while(d.length>1){d.pop()}e+="Only one sample segregation when variable segregation is selected\n";e+="segregateSamplesBy was set to: "+d[0]+"\n"}if(b.length>1){while(b.length>1){b.pop()}e+="Only one variable segregation when sample segregation is selected\n";e+="segregateVariblesBy was set to: "+b[0]+"\n"}}else{if(d.length>0){if(d.length>2){while(d.length>2){d.pop()}e+="Maximum of two sample segregations\n";e+="segregateSamplesBy was set to: "+d[0]+","+d[1]+"\n"}}else{if(b.length>0){if(b.length>2){while(b.length>2){b.pop()}e+="Maximum of two variable segregations\n";e+="segregateVariablesBy was set to: "+b[0]+","+b[1]+"\n"}}}}if(this.s9()&&(b.length>0&&d.length>0)&&this.samplesClustered&&this.variablesClustered){if(this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0){}}if(e!=""){this.WI();alert(e);return false}return true};this.fE=function(){if(!this.isDOE){if(this.BY()){if(this.s9()){this.layoutType="cols"}if(this.layoutValid&&this.data.l){if(this.segregateSamplesBy.length==0){}else{if(!this.data.l.smps){this.RQ(this.segregateSamplesBy,true)}}if(this.segregateVariablesBy.length==0){}else{if(!this.data.l.vars){this.ly(this.segregateVariablesBy,true)}}}else{if(this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0){this.mp()}else{if(this.segregateSamplesBy.length>0){this.RQ(this.segregateSamplesBy,true)}else{if(this.segregateVariablesBy.length>0){this.ly(this.segregateVariablesBy,true)}}}}}}};this.Fg=function(){if(this.smpOverlays.length>0){var a=[];for(var c=0;c<this.smpOverlays.length;c++){if(this.smpOverlays[c]=="-"||(this.data.x&&this.data.x.hasOwnProperty(this.smpOverlays[c]))){a.push(this.smpOverlays[c])}else{if(this.tU(this.smpOverlays[c])>=0){this.data.x[this.smpOverlays[c]]=this.data.y.data[this.tU(this.smpOverlays[c])];this.wD("x",this.smpOverlays[c]);a.push(this.smpOverlays[c])}}}this.smpOverlays=a}if(this.varOverlays.length>0){var a=[];for(var c=0;c<this.varOverlays.length;c++){if(this.varOverlays[c]=="-"||(this.data.z&&this.data.z.hasOwnProperty(this.varOverlays[c]))){a.push(this.varOverlays[c])}else{if(this.yV(this.varOverlays[c])>=0){var e=[];var d=this.yV(this.varOverlays[c]);for(var b=0;b<this.data.y.vars.length;b++){e.push(this.data.y.data[b][d])}this.data.z[this.varOverlays[c]]=e;this.wD("z",this.varOverlays[c]);a.push(this.varOverlays[c])}}}this.varOverlays=a}};this.UT=function(){if(this.graphType.match(/Dotplot/)){return true}else{if(this.graphType=="Boxplot"&&(this.showBoxplotOriginalData||this.showViolinBoxplot)){return true}else{return false}}};this.Pc=function(){return this.colorBy||this.shapeBy||this.sizeBy||this.lineBy||this.patternBy};this.SY=function(){var a=this;var b=function(){if(a.isTransitionOn){CanvasXpress.transitions[a.target].push([a.isSegregatable]);return true}else{return false}};return !b()&&!this.isDOE&&!CanvasXpress.graphTypes.NonSegregatable.includes(this.graphType)};this.wi=function(){if(this.graphType.match(/Gantt|Circular|Fish|Meter|Network|Correlation|Genome|Pie|Scatter3D|TagCloud|Venn/)||this.is3DPlot||this.scatterPlotMatrix||this.isContour||this.isOncoprint){return false}return true};this.iN=function(){if(this.decorations.length){var c=this.meta.data.nodes;var a=[];for(var b=0;b<this.decorations.length;b++){if(c.hasOwnProperty(this.decorations[b])){a.push(this.decorations[b])}}this.decorations=a}}};CanvasXpress.prototype.initConfigUtils=function(){this.hi=function(a){return btoa(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,function(b,c){return String.fromCharCode("0x"+c)}))};this.KU=function(a){return a?a.substring(a.lastIndexOf("/")+1):"canvasXpress"};this.SP=function(){var b=0;var a;this.Sh();if(this.title){a=this.title.split(/\n/);b+=(this.margin+this.rk(this.titleFont))*a.length;if(this.subtitle){a=this.subtitle.split(/\n/);b+=(this.margin+this.rk(this.subtitleFont))*a.length}b+=this.margin}return b};this.Sh=function(){var a=this.titleAlign.match(/^panel::0/)?this.left:0;this.gV(this.width-a,"titleFont");this.v6(this.title,"titleFont",this.width-a);this.gV(this.width-a,"subtitleFont",this.titleFontSize-1);this.v6(this.subtitle,"subtitleFont",this.width-a)};this.p3=function(){this.Sh();if(this.title){var a=this.title.split(/\n/);var f=this.marginTop+((this.rk(this.titleFont)+this.margin)*a.length);if(this.subtitle){a=this.subtitle.split(/\n/);f+=(this.rk(this.subtitleFont)+this.margin)*a.length}if(this.titleColorBackground){this.To({p:["drawShape","rectangle",this.width/2,f/2,this.width,f,this.titleColorBackground,this.titleColorBackground],t:"Titles"})}var d=this.pe(this.title,this.titleFont);var c;var g=this.marginTop+(d/2);var b;if(this.titleAlign.match(/^plot/)){b=Number(this.titleAlign.replace(/^plot::/,""));c=this.width*b;this.To({p:["drawText",this.title,c+1,g,this.titleFont,this.titleColor,b<0.5?"left":b>0.5?"right":"center","middle"],t:"Titles"})}else{if(this.titleAlign.match(/^panel/)){b=Number(this.titleAlign.replace(/^panel::/,""));c=(this.width*b)+this.marginLeft+this.left;this.To({p:["drawText",this.title,c,g,this.titleFont,this.titleColor,b<0.5?"left":b>0.5?"right":"center","middle"],t:"Titles"})}else{c=this.titleAlign=="left"?this.marginLeft+this.left:this.titleAlign=="right"?this.width-(this.marginRight+this.right):this.width/2;this.To({p:["drawText",this.title,c,g,this.titleFont,this.titleColor,this.titleAlign=="left"?"left":this.titleAlign=="right"?"right":"center","middle"],t:"Titles"})}}if(this.subtitle){var e=this.pe(this.subtitle,this.subtitleFont);if(this.subtitleAlign.match(/^plot/)){b=Number(this.subtitleAlign.replace(/^plot::/,""));c=this.width*b;this.To({p:["drawText",this.subtitle,c+1,g+(d/2)+this.margin+(e/2),this.subtitleFont,this.subtitleColor,b<0.5?"left":b>0.5?"right":"center","middle"],t:"Titles"})}else{if(this.subtitleAlign.match(/^panel::/)){b=Number(this.subtitleAlign.replace(/^panel::/,""));c=(this.width*b)+this.marginLeft+this.left;this.To({p:["drawText",this.subtitle,c,g+(d/2)+this.margin+(e/2),this.subtitleFont,this.subtitleColor,b<0.5?"left":b>0.5?"right":"center","middle"],t:"Titles"})}else{c=this.subtitleAlign=="left"?this.marginLeft+this.left:this.subtitleAlign=="right"?this.width-(this.marginRight+this.right):this.width/2;this.To({p:["drawText",this.subtitle,c,g+(d/2)+this.margin+(e/2),this.subtitleFont,this.subtitleColor,this.subtitleAlign=="left"?"left":this.subtitleAlign=="right"?"right":"center","middle"],t:"Titles"})}}}}};this.l0=function(){var b=0;var a;this.Ht();if(this.citation){a=this.citation.split(/\n/);b+=(this.citationMargin+this.rk(this.citationFont))*Math.max(1,a.length-1);b+=this.citationMargin}return b};this.Ht=function(){var b=20*this.printMagnification;this.gV(this.width,"citationFont",b);var a=this.pb(this.citation,this.citationFont);var c=1;while(a>this.width||c>9){b/=2;this.gV(this.width,"citationFont",b);a=this.pb(this.citation,this.citationFont);c++}return};this.qP=function(){if(this.citation){if(this.graphType=="Network"){this.Ht()}var b,c;var d=this.motionBy?40+(this.citationMargin*2):(this.l0()/2);if(this.citationAlign.match(/^plot/)){var a=Number(this.citationAlign.replace(/^plot::/,""));b=(this.width*a)+this.citationMargin;c=this.height-d;this.To({p:["drawText",this.citation,b,c,this.citationFont,this.citationColor,a<0.5?"left":a>0.5?"right":"center","bottom"],t:"Citations"})}else{if(this.citationAlign.match(/^panel/)){var a=Number(this.citationAlign.replace(/^panel::/,""));b=this.marginLeft+this.left+(this.x*a);c=this.height-d;this.To({p:["drawText",this.citation,b,c,this.citationFont,this.citationColor,a<0.5?"left":a>0.5?"right":"center","bottom"],t:"Citations"})}else{switch(this.citationAlign){case"left":b=this.citationMargin;c=this.height-d;this.To({p:["drawText",this.citation,b,c,this.citationFont,this.citationColor,"left","bottom"],t:"Citations"});break;case"center":b=this.width/2;c=this.height-d;this.To({p:["drawText",this.citation,b,c,this.citationFont,this.citationColor,"center","bottom"],t:"Citations"});break;case"right":b=this.width-this.citationMargin;c=this.height-d;this.To({p:["drawText",this.citation,b,c,this.citationFont,this.citationColor,"right","bottom"],t:"Citations"});break}}}}};this.Aa=function(){var g=this;var f=function(i,l,j,k){g.To({p:["setClipArea",[i,l,j,k]],t:"Titles"})};var d=function(){g.To({p:["resetClipArea"],t:"Titles"})};if(this.topMarginalText){f(this.margin,this.margin,this.width-(this.margin*2),this.marginTop-this.margin);var c=this.margin*2;var e=this.margin*2;var b=Math.floor((this.width-(this.margin*2))/(this.topMarginalTextFontSize*0.45));this.To({p:["drawText",this.eS(this.topMarginalText,b),c,e,this.topMarginalTextFont,this.topMarginalTextColor,this.topMarginalTextAlign,this.topMarginalTextBaseline],t:"Titles"});d()}if(this.bottomMarginalText){f(this.margin,this.height-this.marginBottom,this.width-(this.margin*2),this.marginBottom-this.margin);var c=this.margin*2;var e=(this.height-this.marginBottom)+this.margin*2;var b=Math.floor((this.width-(this.margin*2))/(this.bottomMarginalTextFontSize*0.45));this.To({p:["drawText",this.eS(this.bottomMarginalText,b),c,e,this.bottomMarginalTextFont,this.bottomMarginalTextColor,this.bottomMarginalTextAlign,this.bottomMarginalTextBaseline],t:"Titles"});d()}if(this.leftMarginalText){f(this.margin,this.marginTop+this.top,this.marginLeft-this.margin,this.height-this.marginTop-this.marginBottom);var b=Math.floor(this.marginLeft/(this.leftMarginalTextFontSize*0.45));var a=this.eS(this.leftMarginalText,b);var h=(a.split(/\n/).length-1)*(this.leftMarginalTextFontSize+this.margin)*(this.leftMarginalTextBaseline=="top"?0.4:0.2);var c=this.margin*2;var e=this.leftMarginalTextBaseline=="top"?this.marginTop+this.top+h:this.leftMarginalTextBaseline=="bottom"?this.marginTop+this.top+this.y-h:this.marginTop+this.top+(this.y/2);this.To({p:["drawText",a,c,e,this.leftMarginalTextFont,this.leftMarginalTextColor,this.leftMarginalTextAlign,this.leftMarginalTextBaseline],t:"Titles"});d()}if(this.rightMarginalText){f(this.width-this.marginRight,this.marginTop+this.top,this.width-this.marginRight,this.height-this.marginBottom);var b=Math.floor(this.marginRight/(this.rightMarginalTextFontSize*0.45));var a=this.eS(this.rightMarginalText,b);var h=(a.split(/\n/).length-1)*(this.rightMarginalTextFontSize+this.margin)*(this.rightMarginalTextBaseline=="top"?0.4:0.2);var c=this.width-this.marginRight;var e=this.rightMarginalTextBaseline=="top"?this.marginTop+this.top+h:this.rightMarginalTextBaseline=="bottom"?this.marginTop+this.top+this.y-h:this.marginTop+this.top+(this.y/2);this.To({p:["drawText",a,c,e,this.rightMarginalTextFont,this.rightMarginalTextColor,this.rightMarginalTextAlign,this.rightMarginalTextBaseline],t:"Titles"});d()}};this.Pk=function(){this.Vd();return this.rk(this.font)};this.Vd=function(){var b;if(this.autoScaleFont){var c=1-this.percentAspectRatioPlotArea;var a=this.layoutComb?(this.width/this.layoutCols)*c*2.5:this.width*c;var e=this.layoutComb?(this.height/this.layoutRows)*c*2.5:this.height*c;b=Math.min(Math.max(parseInt((Math.max(a,e)/30)*this.fontScaleFontFactor),this.minTextSize),this.maxTextSize)}else{b=Math.min(Math.max(parseInt(this.fontSize*this.fontScaleFontFactor),this.minTextSize),this.maxTextSize)}this.font=this.fontStyle+" "+b+"px "+this.fontName};this.s3=function(b){var g=this.width;var f=["titleFont","subtitleFont","citationFont"];for(var a=0;a<f.length;a++){var c=f[a];this[c+"Skip"]=true;this[c+"Size"]=b;var e=c.replace("Font","ScaleFontFactor");this[c+"Size"]=parseInt(Math.min(Math.max(parseInt(((g/50))*this[e]),this.minTextSize),this.maxTextSize));this[c]=this[c+"Style"]+" "+this[c+"Size"]+"px "+this.fontName}};this.pi=function(a){if(a){return this[a]}return null};this.xN=function(c,b,a){if(c&&b!==undefined){this[c]=b}if(a){this.zy(c=="dataUIStyle"?b:false);this.z0();this.JU();switch(this.view){case"table":case"layout":case"explore":this.iU(false,true);break;default:this.x9();break}}};this.gV=function(g,e,a){if(!g||!e){return}var c=10;var b={titleFont:c,subtitleFont:c,citationFont:c,legendTextFont:c,legendTitleFont:c,stripTextFont:c,xAxisTextFont:c,xAxisTitleFont:c,yAxisTextFont:c,yAxisTitleFont:c,zAxisTextFont:c,zAxisTitleFont:c,rAxisTextFont:c,rAxisTitleFont:c,smpTextFont:c,smpTitleFont:(this.graphType=="Meter"?c+2:c),varTextFont:c,varTitleFont:c,sankeyTitleFont:c,sankeyTextFont:c-1,decorationsTextFont:c,dataTextFont:c-7,overlayTextFont:c,motionCurrentFont:c*5,topMarginalTextFont:c+2,bottomMarginalTextFont:c+2,leftMarginalTextFont:c+2,rightMarginalTextFont:c+2};b[e]=11;var f=e.replace("Font","ScaleFontFactor");this[e+"Size"]=parseInt(Math.min(Math.max(((g/this.scaleTextConstantFactor)+b[e])*this[f],this.minTextSize),a||this.maxTextSize));this[e]=this[e+"Style"]+" "+this[e+"Size"]+"px "+this.fontName};this.v6=function(b,c,g){if(b&&c&&g){var e=this.rk(this[c]);var a=this.pb(b,this[c]);while(a>g&&e>this.minTextSize){e--;this[c]=this[c+"Style"]+" "+e+"px "+this.fontName;a=this.pb(b,this[c])}}};this.Lz=function(f,e,b){if(this.adjustAspectRatio&&this.graphType!="Genome"){var a=this.meta.config.orig;var g=["ringSeparation","roundedPolygonRadius","margin","marginLeft","marginTop","marginRight","marginBottom","overlaysThickness","dendrogramHeight","heatmapSeparatorThickness","xAxisHistogramHeight","xAxisRugHeight","yAxisHistogramHeight","yAxisRugHeight","dataPointSize","stripThickness"];var h=["legendTextMargin","legendTitleMargin","xAxisTextMargin","xAxisTitleMargin","yAxisTextMargin","yAxisTitleMargin","zAxisTextMargin","zAxisTitleMargin","xAxisTicksLength","yAxisTicksLength","zAxisTicksLength","sankeyNodeWidth","sankeyNodePadding"];for(var d=0;d<h.length;d++){g.push(h[d])}if(this.adjustAspectRatioHeatmapIndicator){g.push("heatmapIndicatorHeight");g.push("heatmapIndicatorWidth")}if(f||this.graphType=="Network"){for(var d=0;d<g.length;d++){if(a[g[d]]){this[g[d]]=a[g[d]];delete (a[g[d]])}}}else{for(var d=0;d<g.length;d++){if(!a[g[d]]){a[g[d]]=this[g[d]]}}if(!e){e=this.width}if(!b){b=this.height}for(var d=0;d<g.length;d++){this[g[d]]=Number(Math.max(0.5,Math.min(e,b)*this[g[d]]/833).toFixed(1))}}}};this.pf=function(b,a){if(this.adjustAspectRatio&&this.graphType!="Genome"){if(this.graphType=="Network"&&!this.isLayoutDone){this.setTimeout(this.resetAspectRatioProperties,50)}else{this.Lz(true,b,a)}}};this.uw=function(b,e){var h;if(this.isGroupedData){var a=this.data.w.grps[e];if(a){if(this.showBoxplotOriginalData&&this.colorBy&&!this.boxplotConnect){return this.background}else{this.isGroupedData=false;h=this.wn(b,a[0],"colorBy");for(var d=1;d<a.length;d++){var f=this.wn(b,a[d],"colorBy");if(f!=h){this.isGroupedData=true;return this.background}}this.isGroupedData=true}}else{h=this.wn(b,e,"colorBy")}}else{h=this.wn(b,e,"colorBy")}return h};this.xy=function(a,c){if(this.tO(this.highlightVar)){for(var b=0;b<this.highlightVar.length;b++){if(this.highlightVar[b]==a){return this.varHighlightColor}}}else{if(this.highlightVar==a){return this.varHighlightColor}}return c?this.dendrogramColor:this.varTextColor};this.xl=function(c,b){if(this.tO(this.highlightSmp)){for(var a=0;a<this.highlightSmp.length;a++){if(this.highlightSmp[a]==c){return this.smpHighlightColor}}}else{if(this.highlightSmp==c){return this.smpHighlightColor}}return b?this.dendrogramColor:this.smpTextColor};this.up=function(e,a,f){if(this.tO(this.highlightNode)){for(var c=0;c<this.highlightNode.length;c++){if(this.highlightNode[c]==e){return this.nodeHighlightColor}}}else{if(this.highlightNode==e){return this.nodeHighlightColor}}var d=this.K5(e);var b=this.selectionMode=="ghost"&&CanvasXpress.selector.selections&&!d;return d&&this.selectionMode=="highlight"?this.selectionColor:b&&a?this.b9(a,0.1,true):a?a:f?false:this.nodeColor};this.m2=function(f,d,a){if(this.tO(this.highlightNode)){for(var c=0;c<this.highlightNode.length;c++){if(this.highlightNode[c]==f||this.highlightNode[c]==d){return this.nodeHighlightColor}}}else{if(this.highlightNode==f||this.highlightNode==d){return this.nodeHighlightColor}}var e=this.K5(f)||this.K5(d);var b=this.selectionMode=="ghost"&&CanvasXpress.selector.selections&&!e;return e&&this.selectionMode=="highlight"?this.selectionColor:b?this.b9(a,0.1,true):a?a:this.nodeColor};this.qL=function(a,c){if(a){if(this.colorVarDendrogramBy&&this.data.z&&this.data.z.hasOwnProperty(this.colorVarDendrogramBy)){var b=this.tU(a);if(b>-1){return this.wn(b,false,"colorVarDendrogramBy")}}return this.xy(a,true)}else{if(this.colorSmpDendrogramBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorSmpDendrogramBy)){var b=this.yV(c);if(b>-1){return this.wn(false,b,"colorSmpDendrogramBy")}}return this.xl(c,true)}};this.MX=function(c){var a=this.meta.data;if((!c||c=="v")&&a.z&&this.varOverlays.length>0){for(var b=0;b<this.varOverlays.length;b++){var d=this.varOverlays[b];if(a.z[d].type!="Numeric"){return true}}}if((!c||c=="s")&&a.x&&this.smpOverlays.length>0){for(var b=0;b<this.smpOverlays.length;b++){var d=this.smpOverlays[b];if(a.x[d].type!="Numeric"){return true}}}return false};this.gk=function(b){var a=this.meta.data;if((!b||b=="v")&&a.z){for(var c in a.z){if(a.z[c].unique){return true}}}if((!b||b=="s")&&a.x){for(var c in a.x){if(a.x[c].unique){return true}}}return false};this.Yi=function(b){var a=this.meta.data;if((!b||b=="v")&&a.z){for(var c in a.z){if(a.z[c].type=="Numeric"){return true}}}if((!b||b=="s")&&a.x){for(var c in a.x){if(a.x[c].type=="Numeric"){return true}}}return false};this.sG=function(b){var a=this.meta.data;if((!b||b=="v")&&a.z){for(var c in a.z){if(a.z[c].type!="Numeric"){return true}}}if((!b||b=="s")&&a.x){for(var c in a.x){if(a.x[c].type!="Numeric"){return true}}}return false};this.fT=function(g,f){if(this.graphType=="Network"){var d=f?0.5:0.05;var a=Math.min(parseInt(2/g*10)/10,d);var e=[0.5];for(var c=0;c<g-1;c++){e.push(e[c]+a)}return e}else{if(g>this.sizes.length){return this.TU(this.sizes)}else{var e=[];var b=Math.floor(this.sizes.length/g);for(var c=0;c<g;c++){e.push(this.sizes[c*b])}return e}}};this.yn=function(){var f=this.$h;var h=f("666163746f7279");var i=f("636c69656e74");var a=f("656e636f6465");var b=f("76616c6964");var d=f("757365724964");var e=f("76657273696f6e");var g=f("736574506978656c496d616765");CanvasXpress[h][i]=this[a]([CanvasXpress[h][b]||0,this[d],CanvasXpress[h][e],window.location.host].join("::"));this[g]()};this.j9=function(k,j){if(!k||k.length==0){return Number.MAX_VALUE}else{var e=0;var f=0;var b=Number.MAX_VALUE;for(var c=0;c<k.length;c++){var g=k[c].area;e+=g;b=(b<g)?b:g;f=(f>g)?f:g}var d=j*j;var h=e*e;return Math.max(d*f/h,h/(d*b))}};this.U1=function(f,e){if(f){var c=this.treemapBorderWidth&&!this.isDOE?1:0;var a=this.treemapBorderWidth;var b=a*2;var d=this.smpTextFontSize*c;e.left+=a;if(e.height>d+b){e.top+=d+a;e.height-=(d+b);e.border=2}else{if(e.height>b){e.top+=a;e.height-=b;e.border=1}else{if(e.height>a){e.height-=a;e.border=0}else{e.border=-1}}}e.width-=b}};this.e9=function(k,h,g,f){var c=0;for(var b=0;b<k.length;b++){c+=k[b].area}var a=c/h;var e=0;for(var b=0;b<k.length;b++){var j=k[b].area/a;k[b].coords={width:a,height:j,left:g.left,top:g.top+e};this.U1(f,k[b].coords);e+=j}var d={width:g.width-a,height:g.height,left:g.left+a,top:g.top};d.orientation=Math.min(d.width,d.height);if(d.orientation!=d.height){this.treemapOrientation=this.treemapOrientation=="horizontal"?"vertical":"horizontal"}return d};this.jD=function(l,j,h,g){var d=0;for(var c=0;c<l.length;c++){d+=l[c].area}var k=d/j;var f=h.top;var b=0;for(var c=0;c<l.length;c++){var a=l[c].area/k;l[c].coords={width:a,height:k,left:h.left+b,top:f};this.U1(g,l[c].coords);b+=a}var e={width:h.width,height:h.height-k,left:h.left,top:h.top+k};e.orientation=Math.min(e.width,e.height);if(e.orientation!=e.width){this.treemapOrientation=this.treemapOrientation=="horizontal"?"vertical":"horizontal"}return e};this.ti=function(a,b,c,d){if(this.treemapOrientation=="horizontal"){return this.e9(a,b,c,d)}else{return this.jD(a,b,c,d)}};this.ma=function(a,c,b,f,h){if(a.length+c.length==1){var e=(a.length==1)?a:c;e[0].coords=f;this.U1(h,e[0].coords);return}if(a.length>=2&&c.length==0){c=[a.shift()]}if(a.length==0){if(c.length>0){this.ti(c,b,f,h)}return}var d=a[0];if(this.j9(c,b)>=this.j9([d].concat(c),b)){this.ma(a.slice(1),c.concat([d]),b,f,d.title)}else{var g=this.ti(c,b,f,h);this.ma(a,[],g.orientation,g,d.title)}};this.DN=function(a,g){var f=g.width*g.height;var e=0;var b=[];for(var d=0;d<a.length;d++){b[d]=parseFloat(a[d].area);e+=b[d]}for(var d=0;d<b.length;d++){a[d].area=f*b[d]/e}var c=this.treemapOrientation=="horizontal"?g.height:g.width;a.sort(function(i,h){return h.area-i.area});this.ma(a.slice(1),[a[0]],c,g,a[0].title)};this.TG=function(b,d){if(!this.treemapOrientation){this.treemapOrientation="horizontal"}if(d.width>=d.height){this.treemapOrientation="horizontal"}else{this.treemapOrientation="vertical"}if(b.length){this.DN(b,d);for(var c=0;c<b.length;c++){var a=b[c].children?b[c].children:b[c];var d={width:b[c].coords.width,height:b[c].coords.height,left:b[c].coords.left,top:b[c].coords.top};this.TG(a,d)}}return b};this.Sp=function(a){if(this.tagCloudGridPoints[a]){return this.tagCloudGridPoints[a]}var b=a*8;var c=b;var d=[];if(a==0){d.push([this.tagCloudGridCenter[0],this.tagCloudGridCenter[1],0])}while(c--){var e=1;if(this.tagCloudShapeFunction!=="circle"){e=this.tagCloudShapeFunction(c/b*2*Math.PI)}d.push([this.tagCloudGridCenter[0]+a*e*Math.cos(-c/b*2*Math.PI),this.tagCloudGridCenter[1]+a*e*Math.sin(-c/b*2*Math.PI)*this.tagCloudTextEllipticity,c/b*2*Math.PI])}this.tagCloudGridPoints[a]=d;return d};this.Op=function(){if(this.tagCloudTextRotateRatio==0){return 0}if(this.DI()>this.tagCloudTextRotateRatio){return 0}return(-Math.PI/2)+(this.DI()*Math.PI)};this.Wp=function(z,n,o){var a=Math.min(500,Math.floor(this.tagCloudTextWeightFactor*n));var s=this.$cX("canvas");var A=s.getContext("2d",{willReadFrequently:true});var p=a+"px "+this.fontName;A.font=p;var b=this.pb(z,p);var m=a;var i=b+m*2;var g=m*3;var B=Math.ceil(i/this.tagCloudTextGridSize);var c=Math.ceil(g/this.tagCloudTextGridSize);i=B*this.tagCloudTextGridSize;g=c*this.tagCloudTextGridSize;var t=-b*0.5;var q=-m*0.5;var u=Math.ceil((i*Math.abs(Math.sin(o))+g*Math.abs(Math.cos(o)))/this.tagCloudTextGridSize);var d=Math.ceil((i*Math.abs(Math.cos(o))+g*Math.abs(Math.sin(o)))/this.tagCloudTextGridSize);var v=d*this.tagCloudTextGridSize;var r=u*this.tagCloudTextGridSize;if(v<1||r<1){return{occupied:[],bounds:[0,0,0,0],gw:d,gh:u,fillTextOffsetX:t,fillTextOffsetY:q,fillTextWidth:b,fillTextHeight:m,fontSize:a}}s.setAttribute("width",v);s.setAttribute("height",r);A.save();A.translate(v/2,r/2);A.rotate(-o);A.font=a+"px "+this.fontName;A.fillStyle="#000";A.textBaseline="middle";A.fillText(z,t,q+a*0.5);A.restore();var w=A.getImageData(0,0,v,r).data;var f=[];var l=d,k,j,h;var e=[u/2,d/2,u/2,d/2];while(l--){k=u;while(k--){h=this.tagCloudTextGridSize;singleGridLoop:{while(h--){j=this.tagCloudTextGridSize;while(j--){if(w[((k*this.tagCloudTextGridSize+h)*v+(l*this.tagCloudTextGridSize+j))*4+3]){f.push([l,k]);if(l<e[3]){e[3]=l}if(l>e[1]){e[1]=l}if(k<e[0]){e[0]=k}if(k>e[2]){e[2]=k}break singleGridLoop}}}}}}return{occupied:f,bounds:e,gw:d,gh:u,fillTextOffsetX:t,fillTextOffsetY:q,fillTextWidth:b,fillTextHeight:m,fontSize:a}};this.b2=function(g,f,h,b,a){var e=a.length;while(e--){var d=g+a[e][0];var c=f+a[e][1];if(d>=this.tagCloudGridWidth||c>=this.tagCloudGridHeight||d<0||c<0||!this.tagCloudGrid[d][c]){return false}}return true};this.S0=function(a,b){if(a>=this.tagCloudGridWidth||b>=this.tagCloudGridHeight||a<0||b<0){return}this.tagCloudGrid[a][b]=false};this.wb=function(e,c,d){var a=d.occupied;var b=a.length;while(b--){this.S0(e+a[b][0],c+a[b][1])}};this.Sq=function(c,i,g,d){var k=this;var m=this.Op();var e=this.Wp(c,i,m);if(!e){return false}var b=e.bounds;if((b[1]-b[3]+1)>this.tagCloudGridWidth||(b[2]-b[0]+1)>this.tagCloudGridHeight){return false}var a=this.tagCloudGridMaxRadius+1;var j=this.b9(g,0,true);var f=this.fr();var p=this.PN();while(a--){var n=this.Sp(this.tagCloudGridMaxRadius-a);n=[].concat(n);this.WZ(n);var h=n.some(function o(q){var w=Math.floor(q[0]-e.gw/2);var v=Math.floor(q[1]-e.gh/2);var z=e.gw;var s=e.gh;var r=e.fontSize+"px "+k.fontName;var l="1px "+k.fontName;if(!k.b2(w,v,z,s,e.occupied)){return false}var u=((w+e.gw/2)*k.tagCloudTextGridSize);var t=((v+e.gh/2)*k.tagCloudTextGridSize);k.renderTagCloud.push([["drawText",c,u+f,t+p,r,g,"center","middle",-m],d,false,null,false,[k.width/2,k.height/2,l,j,-Math.PI*2]]);k.wb(w,v,e);return true});if(h){return true}}return false};this.A8=function(b){this.tagCloudTextGridSize=Math.max(this.tagCloudTextGridSize,4);this.tagCloudGridWidth=Math.floor(this.x/this.tagCloudTextGridSize);this.tagCloudGridHeight=Math.floor(this.y/this.tagCloudTextGridSize);this.tagCloudGridCenter=[this.tagCloudGridWidth/2,this.tagCloudGridHeight/2];this.tagCloudGridMaxRadius=Math.floor(Math.sqrt(this.tagCloudGridWidth*this.tagCloudGridWidth+this.tagCloudGridHeight*this.tagCloudGridHeight));this.tagCloudGridPoints=[];if(!b){this.yK()}else{this.tagCloudTextWeightFactor*=b}this.tagCloudGrid=[];var c=this.tagCloudGridWidth;var a;while(c--){this.tagCloudGrid[c]=[];a=this.tagCloudGridHeight;while(a--){this.tagCloudGrid[c][a]=true}}};this.yK=function(){var h=0;var b=0;var k=this.varIndices[0];for(var g=0;g<this.smpIndices.length;g++){var f=this.smpIndices[g];var j=this.Cb(k,f);var e=this.data.y.smps[f].length;var c=e*j*0.5*j;b=Math.max(c,b);h+=c}if(!this.tagCloudTries){this.tagCloudTries=1}b=parseInt(Math.max(this.x,this.y));if(h>b){this.tagCloudTextWeightFactor=(this.x*this.y)/(h*this.tagCloudTries)}else{this.tagCloudTextWeightFactor=(this.x*this.y)/(h*this.tagCloudTries*(b/h))}this.tagCloudTries+=1};this.Oc=function(g){var e=this.randomSeed;this.renderTagCloud=[];this.A8(g);var j=this.varIndices[0];for(var b=0;b<this.smpIndices.length;b++){var a=this.smpIndices[b];var h=this.Cb(j,a);var k=this.colorBy?this.wn(j,a,"colorBy"):this.foreground;if(!this.Sq(this.data.y.smps[a],h,k,[j,a])){this.Hr();this.renderTagCloud=[];if(this.pseudoRandom){this.randomSeed=e}this.Oc(0.9);break}}if(this.pseudoRandom){this.randomSeed=e}};this.mB=function(a){for(var b=0;b<this.data.y.vars.length;b++){if(this.data.y.vars[b]==a){return this.colors[b%this.colors.length]}}return this.colors[0]};this.V4=function(b,a,g){var i;if((this.graphType.match(/Bar/)&&this.barType.match(/lollipop/)&&!this.isGroupedData)||(this.plotStyle=="open"&&!g)){i=this.pP(b,true)}else{if(this.graphType=="Dotplot"||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)){var d=this.layoutValid?this.data.y.vars.length*this.data.y.smps.length:this.varIndices.length*this.smpIndices.length;if(d>this.dotplotOutlineThreshold){i=this.graphType=="Boxplot"&&!this.showViolinBoxplot?this.boxplotBorderColor:this.objectBorderColor}else{i=this.graphType=="Boxplot"&&!this.showViolinBoxplot?this.boxplotBorderColor:this.objectBorderColor?this.objectBorderColor:this.pP(b,true)}}else{i=this.objectBorderColor&&this.graphType!="Map"?this.objectBorderColor:this.pP(b,true)}}if(a){var f=this.K5(a);var e=this.Dd(a[0]);var d=this.selectionMode=="ghost"&&CanvasXpress.selector.selections&&!f;i=e?this.varHighlightColor:f&&this.selectionMode=="highlight"?this.selectionColor:d?this.b9(i,0.1,true):i}return i};this.SS=function(b,a,g){var i=(this.plotStyle=="open"&&!g)&&(!this.isDOE||!this.layoutCurrent);var j=this.b9(b,(i?0:this.objectColorTransparency),true);if(a){var f=this.K5(a);var e=this.Dd(a[0]);var d=this.selectionMode=="ghost"&&CanvasXpress.selector.selections&&!f;j=e?this.varHighlightColor:f&&this.selectionMode=="highlight"?this.selectionColor:d?this.b9(j,0.1,true):j;if(this.transparency!=null){j=this.b9(this.pP(j,true),this.transparency,true)}}return j};this.Dd=function(a){if(this.highlightVar.length&&a!=null){var b=this.data.y.vars[a];return this.highlightVar.includes(b)}};this.p6=function(){if(this.s9()&&this.colorBy&&(this.meta.data.x[this.colorBy]||this.meta.data.z[this.colorBy])&&this.meta.def.factorColorBrew&&this.meta.def.factorColorBrew[this.colorBy]){var u=[];var t=this.meta.def.factorColorBrew[this.colorBy];var h=this.meta.data.x[this.colorBy]||this.meta.data.z[this.colorBy];var j=0;var r=0;var v="";var e={};for(var k in t){var g={rmin:t[k].rmin,rmax:t[k].rmax,min:t[k].min,max:t[k].max,decs:t[k].decs,vals:t[k].vals,maxLevLen:t[k].maxLevLen,maxLevChr:t[k].maxLevChr,maxLevStr:t[k].maxLevStr,colorBrew:t[k],level:k,order:t[k].order};if(t[k].show){if(t[k].maxLevLen>j){v=t[k].maxLevStr}j=Math.max(j,t[k].maxLevLen);r=Math.max(r,t[k].maxLevChr);u.push(g)}}if(h.maxLevLen>j){v=h.maxLevStr}j=Math.max(j,h.maxLevLen);r=Math.max(r,h.maxLevChr);return{maxLevLen:j,maxLevChr:r,maxLevStr:v,colorBrew:u.sort(function(d,c){return d.order-c.order})}}else{if(this.Pt()){var v=this.heatmapSplits;var h=this.meta.data;var f=this.colorSpectrumByObject;var n=this.meta.def.colorBrew;var u=[{rmin:n.rmin,rmax:n.rmax,min:n.min,max:n.max,decs:n.decs,vals:n.vals,maxLevLen:n.maxLevLen,maxLevChr:n.maxLevChr,maxLevStr:n.maxLevStr,colorBrew:n,order:-1}];var j=n.maxLevLen;var r=n.maxLevChr;for(var k=0;k<v.length;k++){if(h[v[k]]&&h[v[k]].colorBrew){var t=h[v[k]].colorBrew;var g={rmin:t.rmin,rmax:t.rmax,min:t.min,max:t.max,decs:t.decs,vals:t.vals,maxLevLen:t.maxLevLen,maxLevChr:t.maxLevChr,maxLevStr:t.maxLevStr,colorBrew:t,order:k};if(f[v[k]].show){if(t.maxLevLen>j){v=t.maxLevStr}j=Math.max(j,t.maxLevLen);r=Math.max(r,t.maxLevChr);u.push(g)}}}return{maxLevLen:j,maxLevChr:r,maxLevStr:v,colorBrew:u.sort(function(d,c){return d.order-c.order})}}else{var t=this.meta.def.colorBrew;return{rmin:t.rmin,rmax:t.rmax,min:t.min,max:t.max,decs:t.decs,vals:t.vals,maxLevLen:t.maxLevLen,maxLevChr:t.maxLevChr,maxLevStr:t.maxLevStr,colorBrew:t}}}};this.fZ=function(){delete (this.cacheColors)};this.Js=function(){if(!this.cacheColors){this.cacheColors={}}if(!this.cacheColors[this.colorScheme]){this.cacheColors[this.colorScheme]={}}};this.sn=function(n,q,m){this.Js();var e={no:0,idso:[],ids:[],cols:[],data:{},raw:{},oprc:0,tot:this.RD(n)};var b=this.NH(n.length);for(var l=0;l<n.length;l++){var h=this.graphType=="Network"||this.isDOE||this.data.y.pie?l:q?this.varIndices[l]:l;var a=n[h]/e.tot;var g=this.graphType=="Network"?l:this.isDOE?this.data.l.data[this.layoutCurrent].y.vars[l]:this.data.y.pie?this.data.y.pie.y.vars[l]:q?this.data.y.vars[h]:l;var o;if(m&&m[l%m.length]){o=m[l%m.length]}else{if(this.cacheColors[this.colorScheme].hasOwnProperty(g)){o=this.cacheColors[this.colorScheme][g]}else{o=this.pieColors[l]||b[l%b.length];this.cacheColors[this.colorScheme][g]=o}}if(this.xx(a,true)){e.data[h]=a;e.raw[h]=n[h];if(l>=this.maxPieSectors-1){e.oprc+=a;e.idso.push(h);e.no++}else{e.ids.push(h)}e.cols.push(o)}}if(e.no){e.ids.push(-1)}return e};this.vK=function(u,h,g,t,I,w){var f=this;var q=function(){for(var a=0;a<u.ids.length;a++){if(u.data[u.ids[a]]&&u.data[u.ids[a]]>-1&&!f.xx(u.data[u.ids[a]],true)){return false}}return true};if(q()){var z,d;var m=this.startPieSectors!=null?(this.startPieSectors*Math.PI/180)%360:0;var A=this.pieSegmentLabels=="inside"?t-(t/3):t+(t/6);var G=0;var C=this.layoutComb?this.smpIndices[0]:this.xAxisIndices?this.xAxisIndices[0]:0;for(var E=0;E<u.ids.length;E++){var k=u.ids[E];var v=k>-1?u.data[k]:u.oprc;var o=this.graphType=="Network"||this.graphType!="Pie"?I[E]:k>-1?[k,C]:u.idso;var e=this.graphType=="Map"?u.cols[E]:this.SS(u.cols[E],o,this.isDOE);var D=this.V4(e,this.graphType=="Map"?E:o);z=d!=null?parseFloat(d):parseFloat((Math.PI*(2*G))+m);d=parseFloat(z+(Math.PI*(2*(v))));var H=(z+d)/2;var B=(d-z)/32;var J=this.graphType=="Network"||this.graphType=="Map"?"Decorations":this.graphType!="Pie"?"Overlays":"Data";var D=this.pieType=="separated"?this.background:this.V4(e);if(this.graphType=="Network"||this.graphType=="Map"){this.To({p:["drawShape","pie",h,g,(t*2),t,e,D,"closed",false,1,false,false,z,d],i:(this.graphType=="Map"?I[0]:I[E]),m:w,t:J,h:this.ID(this.graphType=="Map"?I[0][0]:I[E])})}else{if(this.graphType!="Pie"){this.To({p:["drawShape","pie",h,g,(t*2),t,e,D,"closed",false,1,false,false,z,d],i:I[E],t:J})}else{if(k>-1){I=this.isDOE?[k,C,"Facet-"+this.layoutCurrent]:[k,C];this.To({p:["drawShape","pie",h,g,(t*2),t,e,D,"closed",false,1,false,false,z,d],i:I,t:J,h:this.ID(I[0])})}else{this.To({p:["drawShape","pie",h,g,(t*2),t,e,D,"closed",false,1,false,false,z,d],i:u.idso,t:J})}}}var F=u.ids.length>1?h-Math.sin(H-(Math.PI/2))*A:h;var b=u.ids.length>1?g+Math.cos(H-(Math.PI/2))*A:g;if(this.graphType!="Network"&&this.graphType!="Map"&&this.showPieValues&&(d-z)>0.05){if(this.pieLabelType=="value"){this.To({p:["drawText",u.raw[k],F,b,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:J})}else{this.To({p:["drawText",this.vy("%."+this.pieSegmentPrecision+"f",v*100)+"%",F,b,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:J})}}G+=v}G=0;d=null;if(u.ids.length>1&&this.graphType!="Map"){for(var E=0;E<u.ids.length;E++){var k=u.ids[E];var v=k>-1?u.data[k]:u.oprc;var e=this.SS(u.cols[E]);z=d!=null?parseFloat(d):parseFloat((Math.PI*(2*G))+m);d=parseFloat(z+(Math.PI*(2*(v))));var D=this.pieType=="separated"?this.background:this.V4(e);this.To({p:["drawShape","pie",h,g,(t*2),t,false,D,"open",false,this.pieSegmentSeparation,false,false,z,d],s:true,t:J});G+=v}}if(this.pieInnerRadius>0&&this.pieInnerRadius<1&&this.graphType!="Map"){this.To({p:["drawShape","circle",h,g,t*this.pieInnerRadius*2,t*this.pieInnerRadius*2,this.background,this.background,"closed"],t:J})}}};this.k5=function(az,ax,an,ad,aa,ah,ac,X,am,aj,aC,ai,aG,al,av,ap,Z,aF){var ab,Y,aw,af;var W=this;var C=function(a){return W.isGroupedData?Z.smps[W.data.w.smps[W.grpIndices[a]]]:Z.smps[W.data.y.smps[W.smpIndices[a]]]};var ae=this.variableSpace/2;var au=aa/2;var at=aF?"Overlays":this.graphType=="Network"?"Decorations":"Data";var D=this.Qu(true);var aD=0.0675;var Q=aD;if(aj=="vertical"||this.graphType=="Network"){var S=0;var U=an;var ag=0;for(var ar=0;ar<az.length;ar++){ab=((az[ar]-am)*ac)-X;var aA;var ao=(Z&&Z.cap&&Z.cap[C(ar)])||this.barType=="arrow"?"arrow":this.barType=="roundArrow"?"roundArrow":this.useRoundRectangles&&ab>0?"roundrectt":this.useRoundRectangles?"roundrectb":"rectangle";var A=this.bulletStyle.match(/round/);var E=this.SS(Z?Z.fill[C(ar)]:aC[ar],aG[ar]);var aE=aa-this.variableSpace>5?this.V4(E,aG[ar]):E;var V=this.ID(aG[ar][0],aG[ar][1]);if(this.xx(ab,true)&&Q>=aD){if(this.barType.match(/bullet/i)){var B=[];if(this.rangeStack.length){for(var aq=this.rangeStack.length-1;aq>=0;aq--){var N=this.tU(this.rangeStack[aq]);var T=this.layoutComb?this.yV(this.data.l.smps[this.layoutCurrent][0]):ar;if(N>-1){var M=((this.Cb(N,T)-am)*ac)-X;var P=this.b9(this.rangeColors[aq]||E,this.rangeColorTransparency);if(M<0){aA=this.To({p:["drawShape",ao,(an+ae)+((aa-this.variableSpace)/2),ad+(-M/2),aa-this.variableSpace,-M,P,P],t:"Decorations"})}else{aA=this.To({p:["drawShape",ao,(an+ae)+((aa-this.variableSpace)/2),ad-(M/2),aa-this.variableSpace,M,P,P],t:"Decorations"})}B.unshift(ad-(M+this.dataTextMargin))}}B.unshift(ad-this.dataTextMargin)}else{var P=this.b9(this.rangeColors[0]||E,this.rangeColorTransparency);this.To({p:["drawShape","rectangle",(an+ae)+((aa-this.variableSpace)/2),X+(this.y/2),aa-this.variableSpace,this.y*2,P,P],t:"Decorations"})}if(this.rangeStackShow&&B.length){var I=an+(this.dataTextFontSize/2)+this.dataTextMargin;for(var aq=0;aq<this.rangeStack.length;aq++){this.To({p:["drawText",this.rangeStack[aq],I,B[aq],this.dataTextFont,this.foreground,"left","middle",-Math.PI/2],t:"Decorations"})}}}if(D){var L=ar==0||ar==az.length-1?this.waterfallNetColor:az[ar]>0?this.waterfallIncreaseColor:this.waterfallDecreaseColor;if(az[ar]==0){aA=this.To({p:["drawShape",ao,(an+ae)+((aa-this.variableSpace)/2),(ad-(ab/2))-(S/2),aa-this.variableSpace,S,L,aE,ai[ar],false,false,av],i:aG[ar],m:al,t:at,h:V})}else{aA=this.To({p:["drawShape",ao,(an+ae)+((aa-this.variableSpace)/2),(ad-(ab/2))-S,aa-this.variableSpace,(ab<0?-ab:ab),L,aE,ai[ar],false,false,av],i:aG[ar],m:al,t:at,h:V})}}else{if(A){ao="roundArrow"}if(this.barType=="bullet"&&this.bulletStyle.match(/Gradient/)){E=this.dX(0,-ab,1,ab,[E,"rgb(255, 255, 255)"]);aE=E}if(ab<0){aA=this.To({p:["drawShape",ao,(an+ae)+((aa-this.variableSpace)/2),ad+(-ab/2),(aa*(this.barType=="bullet"?this.bulletWidthRatio:1))-this.variableSpace,-ab,E,aE,ai[ar],false,false,av],i:aG[ar],m:al,t:at,h:V})}else{aA=this.To({p:["drawShape",ao,(an+ae)+((aa-this.variableSpace)/2),ad-(ab/2),(aa*(this.barType=="bullet"?this.bulletWidthRatio:1))-this.variableSpace,ab,E,aE,ai[ar],false,false,av],i:aG[ar],m:al,t:at,h:V})}if(this.barType=="bullet"&&this.bulletStyle.match(/Gradient/)){this.ai()}}aw=ad-ab;af=an+au;if(ax[ar]&&this.xx(ax[ar],true)){Y=(ax[ar]/2)*ac;this.To({p:["drawLine","error",af,aw,af,aw-Y,this.errorBarsColor,-au,"butt"],g:aA,t:at,h:V});this.To({p:["drawLine","error",af,aw,af,aw+Y,this.errorBarsColor,-au,"butt"],g:aA,t:at,h:V})}if(Z){var T=C(ar);for(var aB in Z){if(aB!="cap"&&aB!="high"&&aB!="color"&&aB!="fill"){if(Z[aB][T]){for(var N=0;N<Z[aB][T].length;N++){var K=((Z[aB][T][N][0]-am)*ac)-X;var O=((Z[aB][T][N][1]-am)*ac)-X;var H=(an+ae)+((aa-this.variableSpace)/2);this.To({p:["drawShape",this.shapes[0],H,ad-K,aa/2,aa/2,Z.color[aB],Z.color[aB]],g:aA,t:at,h:V});if(!this.xx(O,true)){O=ab-this.margin}else{this.To({p:["drawShape",this.shapes[1],H,ad-O,aa/2,aa/2,Z.color[aB],Z.color[aB]],g:aA,t:at,h:V})}this.To({p:["drawLine","line",H,ad-K,H,ad-O,Z.color[aB],this.margin],g:aA,t:at,h:V})}}}}}if(this.barType=="bullet"&&this.bulletTargetVarName.length){var aq=this.tU(this.bulletTargetVarName);var T=this.layoutComb?this.yV(this.data.l.smps[this.layoutCurrent][0]):ar;if(aq>-1){var J=((this.Cb(aq,T)-am)*ac)-X;var ay=(aa-this.variableSpace)*this.bulletTargetWidthRatio;var F=(an+ae)+((aa-this.variableSpace)/2);if(this.bulletTargetType=="line"){aA=this.To({p:["drawLine","line",F-(ay/2),ad-J,F+(ay/2),ad-J,this.bulletTargetVarColor,this.bulletTargetLineWidth],i:[aq,T],t:"Decorations"})}else{var ak=this.bulletTargetType.replace("openC","c").replace("openS","s");this.To({p:["drawShape",ak,F,ad-J,ay,ay,this.bulletTargetType.match(/open/)?"rgba(0,0,0,0)":this.bulletTargetVarColor,this.bulletTargetVarColor,false,false,this.bulletTargetLineWidth],i:[aq,T],t:"Decorations"})}}}if(D){var L=ar==0||ar==az.length-1?this.waterfallNetColor:az[ar]>0?this.waterfallIncreaseColor:this.waterfallDecreaseColor;ag+=az[ar];if(ab<0){this.To({p:["drawText",this.gG(az[ar]),af,(ad-(ab-(this.margin/1)))-S,this.smpTextFont,L,"center","top"],g:aA,t:at,h:V})}else{if(az[ar]==0){this.To({p:["drawText",this.gG(ag),af,(ad-(ab+(this.margin/4)))-S,this.smpTextFont,L,"center","bottom"],g:aA,t:at,h:V})}else{this.To({p:["drawText",this.gG(az[ar]),af,(ad-(ab+(this.margin/4)))-S,this.smpTextFont,L,"center","bottom"],g:aA,t:at,h:V})}}if(ar>0){if(ab<0){this.To({p:["drawLine","dashed",U,ad-S,af,ad-S,L],g:aA,t:at,h:V})}else{this.To({p:["drawLine","dashed",U,((ad-(ab/2))-S)+(ab/2),af,((ad-(ab/2))-S)+(ab/2),L],g:aA,t:at,h:V})}}S+=ab;U=af}else{if(this.showDataValues&&!this.barType.match(/lollipop/)){var R=((this.rk(this.dataTextFont)/2)+this.dataTextMargin)*(this.dataValuesPosition=="inside"?-1:1);this.To({p:["drawText",this.gG(az[ar]),af,ad-(ab+R),this.dataTextFont,this.dataTextColor||E,this.dataTextAlign,this.dataTextBaseline],g:aA,t:at,h:V})}}Q=0}an+=this.tO(ah)?ah[ar+1]-ah[ar]:ah;Q+=this.tO(ah)?ah[ar+1]-ah[ar]:ah}}else{for(var ar=0;ar<az.length;ar++){ab=((az[ar]-am)*ac)-X;var aA;var ao=(Z&&Z.cap&&Z.cap[C(ar)])||this.barType=="arrow"?"arrow":this.barType=="roundArrow"?"roundArrow":!this.useRoundRectangles?"rectangle":ap||ab<0?"roundrectl":"roundrectr";var A=this.bulletStyle.match(/round/);var E=this.SS(Z?Z.fill[C(ar)]:aC[ar],aG[ar]);var aE=aa-this.variableSpace>5?this.V4(E,aG[ar]):E;var V=this.ID(aG[ar][0],aG[ar][1]);if(this.xx(ab,true)&&Q>=aD){if(this.barType.match(/bullet/i)){if(this.rangeStack.length){var B=[];for(var aq=this.rangeStack.length-1;aq>=0;aq--){var N=this.tU(this.rangeStack[aq]);var T=this.layoutComb?this.yV(this.data.l.smps[this.layoutCurrent][0]):ar;if(N>-1){var M=((this.Cb(N,T)-am)*ac)-X;var P=this.b9(this.rangeColors[aq]||E,this.rangeColorTransparency);if(M<0){aA=this.To({p:["drawShape",ao,(an+M)-(M/2),(ad+ae)+((aa-this.variableSpace)/2),-M,aa-this.variableSpace,P,P],t:"Decorations"})}else{aA=this.To({p:["drawShape",ao,an+(M/2),(ad+ae)+((aa-this.variableSpace)/2),M,aa-this.variableSpace,P,P],t:"Decorations"})}B.unshift(an+M+this.dataTextMargin)}}B.unshift(an+this.dataTextMargin)}else{var P=this.b9(this.rangeColors[0]||E,this.rangeColorTransparency);this.To({p:["drawShape","rectangle",X+(this.x/2),(ad+ae)+((aa-this.variableSpace)/2),this.x*4,aa-this.variableSpace,P,P],t:"Decorations"})}if(this.rangeStackShow&&B.length){var I=ad+(this.dataTextFontSize/2)+this.dataTextMargin;for(var aq=0;aq<this.rangeStack.length;aq++){this.To({p:["drawText",this.rangeStack[aq],B[aq],I,this.dataTextFont,this.foreground,"left","middle"],t:"Decorations"})}}}if(A){ao="roundArrow"}if(this.barType=="bullet"&&this.bulletStyle.match(/Gradient/)){E=this.dX(ab,0,-ab,1,[E,"rgb(255, 255, 255)"]);aE=E}if(ab<0){if(ap){aA=this.To({p:["drawShape",ao,((an+ap)-X)-(ab/2),(ad+ae)+((aa-this.variableSpace)/2),-ab,(aa*(this.barType=="bullet"?this.bulletWidthRatio:1))-this.variableSpace,E,aE,ai[ar],ao=="arrow"?true:false,false,av],i:aG[ar],m:al,t:at,h:V})}else{aA=this.To({p:["drawShape",ao,(an+ab)-(ab/2),(ad+ae)+((aa-this.variableSpace)/2),-ab,(aa*(this.barType=="bullet"?this.bulletWidthRatio:1))-this.variableSpace,E,aE,ai[ar],ao=="arrow"?true:false,false,av],i:aG[ar],m:al,t:at,h:V})}}else{if(ap){aA=this.To({p:["drawShape",ao,((an+ap)-X)-(ab/2),(ad+ae)+((aa-this.variableSpace)/2),ab,(aa*(this.barType=="bullet"?this.bulletWidthRatio:1))-this.variableSpace,E,aE,ai[ar],ao=="arrow"?true:false,false,av],i:aG[ar],m:al,t:at,h:V})}else{aA=this.To({p:["drawShape",ao,an+(ab/2),(ad+ae)+((aa-this.variableSpace)/2),ab,(aa*(this.barType=="bullet"?this.bulletWidthRatio:1))-this.variableSpace,E,aE,ai[ar],ao=="arrow"?true:false,false,av],i:aG[ar],m:al,t:at,h:V})}}if(this.barType=="bullet"&&this.bulletStyle.match(/Gradient/)){this.ai()}aw=ap?(an+ap)-(ab+X):an+ab;af=ad+au;if(ax[ar]&&this.xx(ax[ar],true)){Y=(ax[ar]/2)*ac;this.To({p:["drawLine","error",aw,af,aw+Y,af,this.errorBarsColor,au,"butt"],g:aA,t:at,h:V});this.To({p:["drawLine","error",aw,af,aw-Y,af,this.errorBarsColor,au,"butt"],g:aA,t:at,h:V})}if(Z){var T=C(ar);for(var aB in Z){if(aB!="cap"&&aB!="high"&&aB!="color"&&aB!="fill"){if(Z[aB][T]){for(var N=0;N<Z[aB][T].length;N++){var K=((Z[aB][T][N][0]-am)*ac)-X;var O=((Z[aB][T][N][1]-am)*ac)-X;var G=(ad+ae)+((aa-this.variableSpace)/2);this.To({p:["drawShape",this.shapes[0],an+K,G,aa/2,aa/2,Z.color[aB],Z.color[aB]],g:aA,t:at,h:V});if(!this.xx(O,true)){O=ab-this.margin}else{this.To({p:["drawShape",this.shapes[1],an+O,G,aa/2,aa/2,Z.color[aB],Z.color[aB]],g:aA,t:at,h:V})}this.To({p:["drawLine","line",an+K,G,an+O,G,Z.color[aB],this.margin],g:aA,t:at,h:V})}}}}}if(this.barType=="bullet"&&this.bulletTargetVarName.length){var aq=this.tU(this.bulletTargetVarName);if(aq>-1){var T=this.layoutComb?this.yV(this.data.l.smps[this.layoutCurrent][0]):ar;var J=((this.Cb(aq,T)-am)*ac)-X;var ay=(aa-this.variableSpace)*this.bulletTargetWidthRatio;var F=(ad+ae)+((aa-this.variableSpace)/2);if(this.bulletTargetType=="line"){aA=this.To({p:["drawLine","line",an+J,F-(ay/2),an+J,F+(ay/2),this.bulletTargetVarColor,this.bulletTargetLineWidth],i:[aq,T],m:al,t:"Decorations"})}else{var ak=this.bulletTargetType.replace("openC","c").replace("openS","s");this.To({p:["drawShape",ak,an+J,F,ay,ay,this.bulletTargetType.match(/open/)?"rgba(0,0,0,0)":this.bulletTargetVarColor,this.bulletTargetVarColor,false,false,this.bulletTargetLineWidth],i:[aq,T],m:al,t:"Decorations"})}}}if(this.showDataValues&&!this.barType.match(/lollipop/)){var R=((this.pb(this.gG(az[ar]),this.dataTextFont)/2)+this.dataTextMargin)*(this.dataValuesPosition=="inside"?-1:1);this.To({p:["drawText",this.gG(az[ar]),aw+R,af,this.dataTextFont,this.dataTextColor||aC[ar],this.dataTextAlign,this.dataTextBaseline],g:aA,t:at,h:V})}Q=0}ad+=this.tO(ah)?ah[ar+1]-ah[ar]:ah;Q+=this.tO(ah)?ah[ar+1]-ah[ar]:ah}}};this.U0=function(am,al,ad,W,U,ai,V,ac,aa,ao,Y,X,ar,ak,aj,ae,L,aq,y){var R=this;var H=function(b){if(R.isGraphTime){for(var a=b-1;a>=0;a--){if(!isNaN(am[a])){return a}}}return b-1};var P=function(){var b=[[],[]];if(aa=="vertical"){for(var a=0;a<r[0].length;a++){b[0].push(r[0][a]);b[1].push(r[1][a][0])}for(var a=r[0].length-1;a>=0;a--){b[0].push(r[0][a]);b[1].push(r[1][a][1])}}else{for(var a=0;a<r[1].length;a++){b[0].push(r[0][a][0]);b[1].push(r[1][a])}for(var a=r[1].length-1;a>=0;a--){b[0].push(r[0][a][1]);b[1].push(r[1][a])}}return b};var v=function(aP,aO,aF,aA,ax,aK,az,aE,aD,aQ,aC,aB,aR,aN,aM,aG,ay,b,aI){var z=0;var aw=aI[0].xy;var aL=[];var n=[];var p=[];var av=[];var aJ=[];for(var aH=0;aH<aI.length;aH++){if(aI[aH].split!=z){R.U0(aL,n,(aD=="vertical"?aw:aF),(aD=="vertical"?aA:aw),ax,p,az,aE,aD,aQ,av,aB,aJ,aN,aM,aG,ay,b);z=aI[aH].split;aw=aI[aH].xy;aL=[aP[aH]];n=[aO[aH]||null];p=[aK[aH]||aw];av=[aC[aH]];aJ=[aR[aH]]}else{aL.push(aP[aH]);n.push(aO[aH]||null);p.push(aK[aH]||aI[aH].xy);av.push(aC[aH]);aJ.push(aR[aH])}}R.U0(aL,n,(aD=="vertical"&&R.graphType!="ParallelCoordinates"?aw:aF),(aD=="vertical"?aA:aw),ax,p,az,aE,aD,aQ,av,aB,aJ,aN,aM,aG,ay,b)};var Z,C,B,A,j,au,at,an,Q,D,O;var T=null;var G=null;var N=U/2;var M=this.dataPointSize*0.5;var ap=Y=="open"?ao:this.objectBorderColor||ao;var ab=am.length-1;var S=[[],[]];var r=[[],[]];var af=[];var E=this.tU(L);var ah=aq?"Overlays":"Data";var I=this.lineThickness;var F=[];if(y){return v(am,al,ad,W,U,ai,V,ac,aa,ao,Y,X,ar,ak,aj,ae,L,aq,y)}else{if(aa=="vertical"){C=ad;B=ad+(this.tO(ai)?ai[1]-ai[0]:ai);if(T==null){T=C}if(this.K5([E])){ao=this.varHighlightColor;I+=2}for(var ag=1;ag<am.length;ag++){Z=ag-1;if(this.wo(V)){j=W-((am[Z]-V[Z].min)*V[Z].units);au=W-((am[ag]-V[ag].min)*V[ag].units)}else{j=W-((am[Z]-ac)*V);au=W-((am[ag]-ac)*V)}if(G==null){G=j}O=this.lineBy?this.ID(false,false,"Property:"+this.lineBy+":"+ar[Z][2]+":x"):false;if(this.xx(j,true)){if(this.lineDecoration&&this.lineDecoration!="pattern"&&X){an=this.To({p:["drawShape",X,C,j,M,M,ao,ap,Y[Z],false,false,aj],i:ar[Z],m:ak,g:Q,b:[T,G],t:ah,h:this.lineBy?O:this.ID(ar[Z][0],ar[Z][1])})}else{an=this.To({p:["drawShape","sphere",C,j,M,M,this.b9(ao,0,true),"rgba(0,0,0,0)",Y[Z],false,false,aj],i:ar[Z],m:ak,g:Q,b:[T,G],t:ah,h:this.lineBy?O:this.ID(ar[Z][0],ar[Z][1])})}if(this.showDataValues){if(this.dataValuesFrequency=="all"){var K=((this.rk(this.dataTextFont)/2)+this.dataTextMargin)*(this.dataValuesPosition=="inside"?-1:1);this.To({p:["drawText",this.gG(am[Z]),C,j-K,this.dataTextFont,this.dataTextColor||ao,this.dataTextAlign,this.dataTextBaseline],t:ah,h:this.lineBy?O:this.ID(ar[Z][0],ar[Z][1])})}else{if(ag==1&&(this.dataValuesFrequency=="ends"||this.dataValuesFrequency=="first")){this.To({p:["drawText",this.gG(am[Z]),C-this.margin,j,this.dataTextFont,this.dataTextColor||ao,"right","middle"],t:ah,h:this.lineBy?O:this.ID(ar[Z][0],ar[Z][1])})}else{if(ag==ab&&(this.dataValuesFrequency=="ends"||this.dataValuesFrequency=="last")){this.To({p:["drawText",this.gG(am[ag]),B+this.margin,au,this.dataTextFont,this.dataTextColor||ao,"left","middle"],t:ah,h:this.lineBy?O:this.ID(ar[ag][0],ar[ag][1])})}}}}if(!Q){Q=an}if(this.xx(al[Z],true)){at=(al[Z]/2)*this.wo(V)?V[Z].units:V;if(this.lineErrorType=="bar"){this.To({p:["drawLine","error",C,j,C,j+at,ao,-N,"butt"],i:["Line:"+L+":"+E],g:Q,b:[T,G],t:ah,h:this.lineBy?O:this.ID(E)});this.To({p:["drawLine","error",C,j,C,j-at,ao,-N,"butt"],i:["Line:"+L+":"+E],g:Q,b:[T,G],t:ah,h:this.lineBy?O:this.ID(E)})}else{r[0].push([C,C]);r[1].push([j+at,j-at]);af.push([C,j])}}if(this.lineType=="spline"){S[0].push(C);S[1].push(j)}}if(this.isGraphTime&&isNaN(j)&&this.xx(au,true)){Z=H(ag);j=W-((am[Z]-ac)*V);C=F[Z]}if((this.lineType!="spline"&&this.xx(j,true)&&this.xx(au,true))||am.length<3){an=this.To({p:["drawLine",this.lineDecoration=="pattern"||this.patternBy?(Y[Z]||"solid"):this.lineType,C,j,B,au,ao,I,"butt",false,false,aj],i:["Line:"+L+":"+E],g:Q,b:[T,G],t:ah,h:this.lineBy?O:this.ID(E)})}else{if(this.lineType=="spline"&&!this.xx(au,true)){an=this.To({p:["drawLine","spline",S[0],S[1],false,false,ao,I,false,false,false,aj],i:["Line:"+L+":"+E],g:Q,b:[T,G],t:ah,h:this.lineBy?O:this.ID(E)});S=[[],[]];T=null;G=null}}if(!Q){Q=an}if(r[0].length>0&&!this.xx(au,true)){var x=this.b9(ao,0.3,true);if(this.lineType=="spline"){this.To({p:["drawShape","confidence",r[0],r[1],false,false,x,x,"closed"],i:["Line-Error:"+L+":"+E],b:af,t:ah,h:this.lineBy?O:this.ID(E)})}else{var J=P();this.To({p:["drawShape","path",J[0],J[1],false,false,x,x,"closed"],i:["Line-Error:"+L+":"+E],b:af,t:ah,h:this.lineBy?O:this.ID(E)})}r=[[],[]];af=[]}F.push(C);C=B;B+=(this.tO(ai)?ai[ag+1]-ai[ag]:ai)}O=this.lineBy?this.ID(false,false,"Property:"+this.lineBy+":"+ar[ab][2]+":x"):false;if(this.xx(au,true)){if(this.lineDecoration&&this.lineDecoration!="pattern"&&X){an=this.To({p:["drawShape",X,C,au,M,M,ao,ap,Y[ab],false,false,aj],i:ar[ab],m:ak,g:Q,b:[T,G],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}else{an=this.To({p:["drawShape","sphere",C,au,M,M,this.b9(ao,0,true),"rgba(0,0,0,0)",Y[ab],false,false,aj],i:ar[ab],m:ak,g:Q,b:[T,G],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}if(this.showDataValues){if(this.dataValuesFrequency=="all"){var K=((this.rk(this.dataTextFont)/2)+this.dataTextMargin)*(this.dataValuesPosition=="inside"?-1:1);this.To({p:["drawText",this.gG(am[ab]),C,au-K,this.dataTextFont,this.dataTextColor||ao,this.dataTextAlign,this.dataTextBaseline],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}else{if(ag==1&&(this.dataValuesFrequency=="ends"||this.dataValuesFrequency=="first")){this.To({p:["drawText",this.gG(am[0]),C-this.margin,au,this.dataTextFont,this.dataTextColor||ao,"right","middle"],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}else{if(ag==ab&&(this.dataValuesFrequency=="ends"||this.dataValuesFrequency=="last")){this.To({p:["drawText",this.gG(am[ab]),B+this.margin,au,this.dataTextFont,this.dataTextColor||ao,"left","middle"],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}}}}if(!Q){Q=an}if(this.xx(al[ab],true)){at=(al[ab]/2)*this.wo(V)?V[ab].units:V;if(this.lineErrorType=="bar"){this.To({p:["drawLine","error",C,au,C,au+at,ao,-N,"butt"],i:["Line:"+L+":"+E],g:Q,t:ah,h:this.lineBy?O:this.ID(E)});this.To({p:["drawLine","error",C,au,C,au-at,ao,-N,"butt"],i:["Line:"+L+":"+E],g:Q,t:ah,h:this.lineBy?O:this.ID(E)})}else{if(ag==am.length){r[0].push([C,C]);r[1].push([au+at,au-at]);af.push([C,au])}}}if(this.lineType=="spline"){S[0].push(C);S[1].push(au)}}if(this.lineType=="spline"){an=this.To({p:["drawLine","spline",S[0],S[1],false,false,ao,I,false,false,false,aj],i:["Line:"+L+":"+E],b:[T,G],t:ah,h:this.lineBy?O:this.ID(E)})}if(!Q){Q=an}if(r[0].length>0){var x=this.b9(ao,0.3,true);if(this.lineType=="spline"){this.To({p:["drawShape","confidence",r[0],r[1],false,false,x,x,"closed"],i:["Line-Error:"+L+":"+E],b:af,t:ah,h:this.lineBy?O:this.ID(E)})}else{var J=P();this.To({p:["drawShape","path",J[0],J[1],false,false,x,x,"closed"],i:["Line-Error:"+L+":"+E],b:af,t:ah,h:this.lineBy?O:this.ID(E)})}}}else{j=W;au=W+(this.tO(ai)?ai[1]-ai[0]:ai);if(G==null){G=j}for(var ag=1;ag<am.length;ag++){Z=ag-1;if(this.wo(V)){C=ae?ad+ae-((am[Z]-V[Z].min)*V[Z].units):ad+((am[Z]-V[Z].min)*V[Z].units);B=ae?ad+ae-((am[ag]-V[ag].min)*V[ag].units):ad+((am[ag]-V[ag].min)*V[ag].units)}else{C=ae?ad+ae-((am[Z]-ac)*V):ad+((am[Z]-ac)*V);B=ae?ad+ae-((am[ag]-ac)*V):ad+((am[ag]-ac)*V)}if(T==null){T=C}O=this.lineBy?this.ID(false,false,"Property:"+this.lineBy+":"+ar[Z][2]+":x"):false;if(this.xx(C,true)){if(this.lineDecoration&&this.lineDecoration!="pattern"&&X){this.To({p:["drawShape",X,C,j,M,M,ao,ap,Y[Z],false,false,aj],i:ar[Z],m:ak,b:[T,G],t:ah,h:this.lineBy?O:this.ID(ar[Z][0],ar[Z][1])})}else{this.To({p:["drawShape","sphere",C,j,M,M,this.b9(ao,0,true),"rgba(0,0,0,0)",Y[Z],false,false,aj],i:ar[Z],m:ak,b:[T,G],t:ah,h:this.lineBy?O:this.ID(ar[Z][0],ar[Z][1])})}if(this.showDataValues){var K=((this.pb(this.gG(am[Z]),this.dataTextFont)/2)+this.dataTextMargin)*(this.dataValuesPosition=="inside"?-1:1);if(this.dataValuesFrequency=="all"){this.To({p:["drawText",this.gG(am[Z]),C+K,j,this.dataTextFont,this.dataTextColor||ao,this.dataTextAlign,this.dataTextBaseline],t:ah,h:this.lineBy?O:this.ID(ar[Z][0],ar[Z][1])})}else{if(ag==1&&(this.dataValuesFrequency=="ends"||this.dataValuesFrequency=="first")){this.To({p:["drawText",this.gG(am[Z]),C,j-this.margin,this.dataTextFont,this.dataTextColor||ao,"center","bottom"],t:ah,h:this.lineBy?O:this.ID(ar[Z][0],ar[Z][1])})}else{if(ag==ab&&(this.dataValuesFrequency=="ends"||this.dataValuesFrequency=="last")){this.To({p:["drawText",this.gG(am[ab]),B,au+this.margin,this.dataTextFont,this.dataTextColor||ao,"center","top"],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}}}}if(this.xx(al[Z],true)){A=(al[Z]/2)*this.wo(V)?V[Z].units:V;if(this.lineErrorType=="bar"){an=this.To({p:["drawLine","error",C,j,C+A,j,ao,N,"butt"],i:["Line:"+L+":"+E],g:Q,t:ah,h:this.lineBy?O:this.ID(E)});if(!Q){Q=an}this.To({p:["drawLine","error",C,j,C-A,j,ao,N,"butt"],i:["Line:"+L+":"+E],g:Q,t:ah,h:this.lineBy?O:this.ID(E)})}else{r[0].push([C+A,C-A]);r[1].push([j,j]);af.push([C,j])}}if(this.lineType=="spline"){S[0].push(C);S[1].push(j)}}if(this.isGraphTime&&isNaN(C)&&this.xx(B,true)){Z=H(ag);C=ad+((am[Z]-ac)*V);j=F[Z]}if((this.lineType!="spline"&&this.xx(C,true)&&this.xx(B,true))||am.length<3){an=this.To({p:["drawLine",this.lineDecoration=="pattern"||this.patternBy?(Y[Z]||"solid"):this.lineType,C,j,B,au,ao,I,"butt",false,false,aj],i:["Line:"+L+":"+E],b:[T,G],t:ah,h:this.lineBy?O:this.ID(E)})}else{if(this.lineType=="spline"&&!this.xx(B,true)){an=this.To({p:["drawLine","spline",S[0],S[1],false,false,ao,I,false,false,false,aj],i:["Line:"+L+":"+E],b:[T,G],t:ah,h:this.lineBy?O:this.ID(E)});S=[[],[]];T=null;G=null}}if(!Q){Q=an}if(r[1].length>0&&!this.xx(B,true)){var x=this.b9(ao,0.3,true);if(this.lineType=="spline"){this.To({p:["drawShape","confidence",r[0],r[1],false,false,x,x,"closed"],i:["Line-Error:"+L+":"+E],b:af,t:ah,h:this.lineBy?O:this.ID(E)})}else{var J=P();this.To({p:["drawShape","path",J[0],J[1],false,false,x,x,"closed"],i:["Line-Error:"+L+":"+E],b:af,t:ah,h:this.lineBy?O:this.ID(E)})}r=[[],[]];af=[]}F.push(j);j=au;au+=(this.tO(ai)?ai[ag+1]-ai[ag]:ai)}O=this.lineBy?this.ID(false,false,"Property:"+this.lineBy+":"+ar[ab][2]+":x"):false;if(this.xx(B,true)){if(this.lineDecoration&&this.lineDecoration!="pattern"&&X){this.To({p:["drawShape",X,B,j,M,M,ao,ap,Y[ab],false,false,aj],i:ar[ab],m:ak,b:[T,G],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}else{this.To({p:["drawShape","sphere",B,j,M,M,this.b9(ao,0,true),"rgba(0,0,0,0)",Y[ab],false,false,aj],i:ar[ab],m:ak,b:[T,G],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}if(this.showDataValues){if(this.dataValuesFrequency=="all"){var K=((this.pb(this.gG(am[Z]),this.dataTextFont)/2)+this.dataTextMargin)*(this.dataValuesPosition=="inside"?-1:1);this.To({p:["drawText",this.gG(am[ab]),B+K,j,this.dataTextFont,this.dataTextColor||ao,this.dataTextAlign,this.dataTextBaseline],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}else{if(ag==1&&(this.dataValuesFrequency=="ends"||this.dataValuesFrequency=="first")){this.To({p:["drawText",this.gG(am[0]),B,j-this.margin,this.dataTextFont,this.dataTextColor||ao,"center","bottom"],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}else{if(ag==ab&&(this.dataValuesFrequency=="ends"||this.dataValuesFrequency=="last")){this.To({p:["drawText",this.gG(am[ab]),B,au+this.margin,this.dataTextFont,this.dataTextColor||ao,"center","top"],t:ah,h:this.lineBy?O:this.ID(ar[ab][0],ar[ab][1])})}}}}if(this.xx(al[ab],true)){A=(al[ab]/2)*this.wo(V)?V[ab].units:V;if(this.lineErrorType=="bar"){an=this.To({p:["drawLine","error",B,j,B+A,j,ao,N,"butt"],i:["Line:"+L+":"+E],g:Q,t:ah,h:this.lineBy?O:this.ID(E)});if(!Q){Q=an}this.To({p:["drawLine","error",B,j,B-A,j,ao,N,"butt"],i:["Line:"+L+":"+E],g:Q,t:ah,h:this.lineBy?O:this.ID(E)})}else{r[0].push([B+A,B-A]);r[1].push([j,j]);af.push([B,j])}}if(this.lineType=="spline"){S[0].push(B);S[1].push(j)}}if(this.lineType=="spline"){an=this.To({p:["drawLine","spline",S[0],S[1],false,false,ao,I,false,false,false,aj],i:["Line:"+L+":"+E],b:[T,G],t:ah,h:this.lineBy?O:this.ID(E)})}if(!Q){Q=an}if(r[1].length>0){var x=this.b9(ao,0.3,true);if(this.lineType=="spline"){this.To({p:["drawShape","confidence",r[0],r[1],false,false,x,x,"closed"],i:["Line-Error:"+L+":"+E],b:af,t:ah,h:this.lineBy?O:this.ID(E)})}else{var J=P();this.To({p:["drawShape","path",J[0],J[1],false,false,x,x,"closed"],i:["Line-Error:"+L+":"+E],b:af,t:ah,h:this.lineBy?O:this.ID(E)})}}}}};this.q5=function(U,N,F,C,W,I,R,E,y,J,V,H,X,L,O,S,T){var m=F;var B=N;var s=this;var Y=T?"Overlays":"Data";var h=function(a){var c=0;if(s.dodgeBy){for(var b=0;b<U.length;b++){if(U[b]!=0){c++}}}return a/c};var Q=function(c,e,b,d,a){return s.TG(c,{width:d,height:a,left:e,top:b})};var A=h(C);if(J=="vertical"){F=m-y;for(var P=0;P<U.length;P++){if(U[P]>0){var D=I?(U[P]*100/R[0])*E:U[P]*E;var M=P==U.length-1&&this.useRoundRectangles?"roundrectt":"rectangle";var x=this.SS(V[P],X[P]);var r=C>5?this.V4(x,X[P]):x;if(this.graphType=="Network"){this.To({p:["drawShape",M,N+(C/2),F-(D/2),C,D,V[P],V[P]],i:X[P],m:L,t:"Decorations"})}else{if(W){var K=Q(W[P],N,F-D,C,D);this.n2(K,0,0)}else{if(this.dodgeBy){var j=this.ID(false,false,"Property:"+this.dodgeBy+":"+X[P][4]+":x");var G=this.To({p:["drawShape",M,N+(A/2),F-(D/2),A,D,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j})}else{var j=this.stackBy?this.ID(false,false,"Property:"+this.stackBy+":"+X[P][4]+":x"):this.ID(X[P][0],X[P][1]);var G=this.To({p:["drawShape",M,N+(C/2),F-(D/2),C,D,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j});if(this.showDataValues){this.To({p:["drawText",this.gG(U[P]),N+(C/2),F-(D/2),this.dataTextFont,this.dataTextColor||this.foreground,"center","middle"],g:G,t:Y,h:j})}}}}if(this.dodgeBy){N+=A}else{F-=D}}}F=m-y;for(var P=U.length-1;P>=0;P--){if(U[P]<0){var D=I?(U[P]*100/-R[1])*E:U[P]*E;var M=P>0||!this.useRoundRectangles?"rectangle":"roundrectb";var x=this.SS(V[P],X[P]);var r=C>5?this.V4(x,X[P]):x;if(this.graphType=="Network"){this.To({p:["drawShape",M,N+(C/2),F-(D/2),C,-D,V[P],V[P]],i:X[P],m:L,t:"Decorations"})}else{if(W){var K=Q(W[P],N,F-D,C,-D);this.n2(K,0,0)}else{if(this.dodgeBy){var j=this.ID(false,false,"Property:"+this.dodgeBy+":"+X[P][4]+":x");var G=this.To({p:["drawShape",M,N+(A/2),F-(D/2),A,-D,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j})}else{var j=this.stackBy?this.ID(false,false,"Property:"+this.stackBy+":"+X[P][4]+":x"):this.ID(X[P][0],X[P][1]);var G=this.To({p:["drawShape",M,N+(C/2),F-(D/2),C,-D,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j});if(this.showDataValues){this.To({p:["drawText",this.gG(U[P]),N+(C/2),F-(D/2),this.dataTextFont,this.dataTextColor||this.foreground,"center","middle"],g:G,t:Y,h:j})}}}}if(this.dodgeBy){N+=A}else{F-=D}}}}else{N=B+y;for(var P=0;P<U.length;P++){if(U[P]>0){var D=I?(U[P]*100/R[0])*E:U[P]*E;var M=P<U.length-1||!this.useRoundRectangles?"rectangle":O?"roundrectl":"roundrectr";var x=this.SS(V[P],X[P]);var r=C>5?this.V4(x,X[P]):x;if(O){if(this.graphType=="Network"){this.To({p:["drawShape",M,N+O-(D/2),F+(C/2),D,C,V[P],V[P],H[P]],i:X[P],m:L,t:"Decorations"})}else{if(W){var K=Q(W[P],N+O-D,F,D,C);this.n2(K,0,0)}else{if(this.dodgeBy){var j=this.ID(false,false,"Property:"+this.dodgeBy+":"+X[P][4]+":x");var G=this.To({p:["drawShape",M,N+O-(D/2),F+(A/2),D,A,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j})}else{var j=this.stackBy?this.ID(false,false,"Property:"+this.stackBy+":"+X[P][4]+":x"):this.ID(X[P][0],X[P][1]);var G=this.To({p:["drawShape",M,N+O-(D/2),F+(C/2),D,C,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j});if(this.showDataValues){this.To({p:["drawText",this.gG(U[P]),N+O-(D/2),F+(C/2),this.dataTextFont,this.dataTextColor||this.foreground,"center","middle"],g:G,t:Y,h:j})}}}}if(this.dodgeBy){F+=A}else{N-=D}}else{if(this.graphType=="Network"){this.To({p:["drawShape",M,N+(D/2),F+(C/2),D,C,V[P],V[P],H[P]],i:X[P],m:L,t:"Decorations"})}else{if(W){var T=Q(W[P],N,F,D,C);this.n2(T,0,0)}else{if(this.dodgeBy){var j=this.ID(false,false,"Property:"+this.dodgeBy+":"+X[P][4]+":x");var G=this.To({p:["drawShape",M,N+(D/2),F+(A/2),D,A,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j})}else{var j=this.stackBy?this.ID(false,false,"Property:"+this.stackBy+":"+X[P][4]+":x"):this.ID(X[P][0],X[P][1]);var G=this.To({p:["drawShape",M,N+(D/2),F+(C/2),D,C,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j});if(this.showDataValues){this.To({p:["drawText",this.gG(U[P]),N+(D/2),F+(C/2),this.dataTextFont,this.dataTextColor||this.foreground,"center","middle"],g:G,t:Y,h:j})}}}}if(this.dodgeBy){F+=A}else{N+=D}}}}N=B+y;for(var P=U.length-1;P>=0;P--){if(U[P]<0){var D=I?(U[P]*100/-R[1])*E:U[P]*E;var M=P>0||!this.useRoundRectangles?"rectangle":O?"roundrectr":"roundrectl";var x=this.SS(V[P],X[P]);var r=C>5?this.V4(x,X[P]):x;if(O){if(this.graphType=="Network"){this.To({p:["drawShape",M,N+O-(D/2),F+(C/2),-D,C,V[P],V[P],H[P]],i:X[P],m:L,t:"Decorations"})}else{if(W){var K=Q(W[P],N+O-D,F,-D,C);this.n2(K,0,0)}else{if(this.dodgeBy){var j=this.ID(false,false,"Property:"+this.dodgeBy+":"+X[P][4]+":x");var G=this.To({p:["drawShape",M,N+O-(D/2),F+(A/2),-D,A,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j})}else{var j=this.stackBy?this.ID(false,false,"Property:"+this.stackBy+":"+X[P][4]+":x"):this.ID(X[P][0],X[P][1]);var G=this.To({p:["drawShape",M,N+O-(D/2),F+(C/2),-D,C,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j});if(this.showDataValues){this.To({p:["drawText",this.gG(U[P]),N+O-(D/2),F+(C/2),this.dataTextFont,this.dataTextColor||this.foreground,"center","middle"],g:G,t:Y,h:j})}}}}if(this.dodgeBy){F+=A}else{N-=D}}else{if(this.graphType=="Network"){this.To({p:["drawShape",M,N+(D/2),F+(C/2),-D,C,V[P],V[P],H[P]],i:X[P],m:L,t:"Decorations"})}else{if(W){var T=Q(W[P],N,F,-D,C);this.n2(T,0,0)}else{if(this.dodgeBy){var j=this.ID(false,false,"Property:"+this.dodgeBy+":"+X[P][4]+":x");var G=this.To({p:["drawShape",M,N+(D/2),F+(A/2),-D,A,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j})}else{var j=this.stackBy?this.ID(false,false,"Property:"+this.stackBy+":"+X[P][4]+":x"):this.ID(X[P][0],X[P][1]);var G=this.To({p:["drawShape",M,N+(D/2),F+(C/2),-D,C,x,r,H[P]],i:X[P],m:L,b:S,t:Y,h:j});if(this.showDataValues){this.To({p:["drawText",this.gG(U[P]),N+(D/2),F+(C/2),this.dataTextFont,this.dataTextColor||this.foreground,"center","middle"],g:G,t:Y,h:j})}}}}if(this.dodgeBy){F+=A}else{N+=D}}}}}};this.LI=function(ah,Y,R,P,ad,S,af,U,I,D,m,W,ae,aj,V,am,ak,L,G,al){var X=ah.length-1;var Z=ae&&this.lineType=="rect"?"path":this.lineType=="rect"?"polygon":"spline";var A=[];var B=[];var T=[];var an=-D*I;var C=m*I;var ac=al?"Overlays":"Data";var K=function(b,a){for(var c=a+1;c<ah[b].length;c++){if(ah[b][c]>0){return 1}else{if(ah[b][c]<0){return -1}}}return 0};if(W=="vertical"){for(var ab=0;ab<ah[0].length;ab++){A[ab]=af=="stacked"&&D<0?R-C:R;B[ab]=R-C}for(var ab=0;ab<ah.length;ab++){var ag=Y;var O=ae?[]:[Y];var M=ae?[]:[R-an];var H=0;var ai,J;for(var aa=0;aa<ah[0].length;aa++){if(!this.xx(ah[ab][aa],true)){ah[ab][aa]=0}var Q=af=="percent"?((ah[ab][aa]-D)*100/U[aa])*I:(ah[ab][aa]-(af=="stacked"&&D<0?0:D))*I;O.push(ag);if(af&&(af=="stacked"||af=="percent")){if(ah[ab][aa]>0||H>0){M.push(A[aa]-Q);A[aa]-=Q;H=1}else{if(ah[ab][aa]<0||H<0){M.push(B[aa]-Q);B[aa]-=Q;H=-1}else{var N=K(ab,aa);if(N<0){M.push(B[aa]-Q);B[aa]-=Q;H=-1}else{if(N>0){M.push(A[aa]-Q);A[aa]-=Q;H=1}else{M.push(an)}}}}}else{M.push(R-Q)}ag+=S}if(!ae){O.push(Y+P);M.push(R-an)}T.push([O,M,aj[ab],V[ab],am[ab]])}}else{for(var ab=0;ab<ah[0].length;ab++){A[ab]=L?Y+L:af=="stacked"&&D<0?Y+C:Y;B[ab]=Y+C}for(var ab=0;ab<ah.length;ab++){var ag=R;var O=ae?[]:L?[Y+L]:[Y+an];var M=ae?[]:[R];var H=0;var ai,J;for(var aa=0;aa<ah[0].length;aa++){if(!this.xx(ah[ab][aa],true)){ah[ab][aa]=0}var Q=af=="percent"?((ah[ab][aa]-D)*100/U[aa])*I:(ah[ab][aa]-(af=="stacked"&&D<0?0:D))*I;M.push(ag);if(af&&(af=="stacked"||af=="percent")){if(L){O.push(A[aa]-Q);A[aa]-=Q}else{if(ah[ab][aa]>0||H>0){O.push(A[aa]+Q);A[aa]+=Q;H=1}else{if(ah[ab][aa]<0||H<0){O.push(B[aa]+Q);B[aa]+=Q;H=-1}else{var N=K(ab,aa);if(N<0){O.push(B[aa]+Q);B[aa]+=Q;H=-1}else{if(N>0){O.push(A[aa]+Q);A[aa]+=Q;H=1}else{M.push(an)}}}}}}else{O.push(L?Y+L-Q:Y+Q)}ag+=S}if(!ae){O.push(L?Y+L:Y+an);M.push(R+ad)}T.push([O,M,aj[ab],V[ab],am[ab]])}}while(X>=0){var ai,J;var aa=T.pop();if(ae){if(this.lineType=="spline"){this.To({p:["drawLine",Z,aa[0],aa[1],false,false,aa[2],this.lineThickness],i:aa[4],m:ak,b:W=="vertical"?R-an:Y+an,t:ac,h:this.ID(aa[4][0])})}else{var J=null;for(var ab=1;ab<aa[0].length;ab++){var ai=this.To({p:["drawLine",Z,aa[0][ab-1],aa[1][ab-1],aa[0][ab],aa[1][ab],aa[2],this.lineThickness],i:aa[4],m:ak,g:J,b:W=="vertical"?R-an:Y+an,t:ac,h:this.ID(aa[4][0])});if(J==null){J=ai}}}}else{if(D>=0&&X>0&&af!="overlapping"){var E=W=="vertical"?T[T.length-1][1]:T[T.length-1][0];if(W=="vertical"){aa[0].shift();aa[0].pop();var F=[];var ao=[];if(this.lineType=="spline"){for(var ab=1;ab<aa[1].length-1;ab++){F.push([aa[0][ab-1],aa[0][ab-1]]);ao.push([aa[1][ab],E[ab]])}}else{for(var ab=1;ab<aa[1].length-1;ab++){F.push(aa[0][ab-1]);ao.push(aa[1][ab])}for(var ab=aa[1].length-2;ab>0;ab--){F.push(aa[0][ab-1]);ao.push(E[ab])}}aa[1].shift();aa[1].pop();this.To({p:["drawShape",this.lineType=="spline"?"confidence":"polygon",F,ao,this.width,this.height,this.SS(aa[2]),this.V4(aa[2]),aa[3]],i:aa[4],m:ak,b:R-an,t:ac,h:this.ID(aa[4][0])})}else{aa[1].shift();aa[1].pop();var F=[];var ao=[];if(this.lineType=="spline"){for(var ab=1;ab<aa[0].length-1;ab++){F.push([aa[0][ab],E[ab]]);ao.push([aa[1][ab-1],aa[1][ab-1]])}}else{for(var ab=1;ab<aa[0].length-1;ab++){F.push(aa[0][ab]);ao.push(aa[1][ab-1])}for(var ab=aa[0].length-2;ab>0;ab--){F.push(E[ab]);ao.push(aa[1][ab-1])}}aa[0].shift();aa[0].pop();this.To({p:["drawShape",this.lineType=="spline"?"confidence":"polygon",F,ao,this.width,this.height,this.SS(aa[2]),this.V4(aa[2]),aa[3]],i:aa[4],m:ak,b:Y+an,t:ac,h:this.ID(aa[4][0])})}}else{if(af=="overlapping"||af=="stacked"){this.To({p:["drawShape",Z,aa[0],aa[1],this.width,this.height,this.SS(aa[2]),this.V4(aa[2]),aa[3]],i:aa[4],m:ak,b:W=="vertical"?R-an:Y+an,t:ac,h:this.ID(aa[4][0])})}else{if(W=="vertical"){if(this.lineType=="spline"){var ao=[];for(var ab=1;ab<aa[1].length-1;ab++){ao.push([aa[1][ab],aa[1][0]])}this.To({p:["drawShape","confidence",F,ao,this.width,this.height,this.SS(aa[2]),this.V4(aa[2]),aa[3]],i:aa[4],m:ak,b:R-an,t:ac,h:this.ID(aa[4][0])})}else{this.To({p:["drawShape","polygon",aa[0],aa[1],this.width,this.height,this.SS(aa[2]),this.V4(aa[2]),aa[3]],i:aa[4],m:ak,b:R-an,t:ac,h:this.ID(aa[4][0])})}}else{if(this.lineType=="spline"){var F=[];for(var ab=1;ab<aa[0].length-1;ab++){F.push([aa[0][ab],aa[0][0]])}this.To({p:["drawShape","confidence",F,ao,this.width,this.height,this.SS(aa[2]),this.V4(aa[2]),aa[3]],i:aa[4],m:ak,b:Y+an,t:ac,h:this.ID(aa[4][0])})}else{this.To({p:["drawShape","polygon",aa[0],aa[1],this.width,this.height,this.SS(aa[2]),this.V4(aa[2]),aa[3]],i:aa[4],m:ak,b:Y+an,t:ac,h:this.ID(aa[4][0])})}}}}}if(G){var u=this.b9(aa[2],0,true);var g=Math.min(10,S);for(var ab=1;ab<aa[0].length-1;ab++){if(this.isGraphTime&&G[ab-1]<0){continue}ai=this.To({p:["drawShape","sphere",aa[0][ab],aa[1][ab],g,g,u,"rgba(0,0,0,0)",aa[3]],i:[aa[4][0],G[ab-(ae?0:1)]],s:true,t:ac});if(!ae){if(W=="vertical"){this.To({p:["drawLine","line",aa[0][ab],aa[1][ab]+S,aa[0][ab],aa[1][0],u,S],i:[aa[4][0],G[ab-1]],g:ai,s:true,t:ac})}else{this.To({p:["drawLine","line",aa[0][ab]-S,aa[1][ab],aa[0][0],aa[1][ab],u,S],i:[aa[4][0],G[ab-1]],g:ai,s:true,t:ac})}}}}X--}};this.kp=function(ax,am,ae,ab,ah,ad,al,aj,ay,ai,aA,at,x,aa){var Y=this;var ak=this.segregateSamplesBy.length&&this.isGroupedData&&this.groupingFactors.includes(this.segregateSamplesBy[0]);var F=function(f){var d;if(Y.layoutValid&&!Y.isDOE){if(Y.segregateVariablesBy.length>0){d=f}else{if(Y.segregateSamplesBy.length>0){var a=!ak?[Y.data.l.name[Y.layoutCurrent],Y.data.w.glab[f]].join("::"):Y.data.w.labs[f]?Y.data.w.labs[f]:Y.data.w.glab[f];for(var c=0;c<n.g[I].length;c++){if(n.g[I][c].density.name==a){d=c;break}}}}}else{d=Y.grpIndices[f]}return n.g[I][d]};var J=function(a){if(Y.showBoxplotOriginalData){if(Y.plotStyle=="ggplot"){return Y.background;return Y.b9(Y.SS(ay[a],aA[a]),Y.boxplotTransparency,true,false,true)}else{return Y.b9(Y.SS(ay[a],aA[a]),Y.boxplotTransparency,true,false,true)}}else{return Y.SS(ay[a],aA[a])}};var Z=function(a){return aj=="vertical"?ae-((a-al)*ad):am+((a-al)*ad)};var n=this.meta.data.d;var I=this.tU(aa);var af=this.variableSpace/2;var aq=ab/2;var M=aq/2;var K=M/2;var av=ab/this.boxplotOutliersRatio;var L={};var X={};var Q=false;var V=this.isGroupedData&&this.showViolinBoxplot&&this.isRawData?(ab-this.variableSpace)*this.boxplotWidthRatioIfViolin:ab-this.variableSpace;var U=this.isGroupedData&&this.showViolinBoxplot&&this.isRawData?ab*this.boxplotWidthRatioIfViolin:0;var T=this.isGroupedData&&this.showViolinBoxplot&&this.isRawData?U/2:aq;var b=Math.max(1,ab/4);if(aj=="vertical"){for(var ap=0;ap<ax.length;ap++){if(this.isGraphTime&&aA[ap][1]<0){am+=this.tO(ah)?ah[ap]:ah;continue}var W=this.showBoxplotOriginalData?this.ID(aA[ap][0]):this.scatterPlotMatrix&&this.scatterType=="boxplot"?this.ID(false,false,aA[ap][1]):this.ID(aA[ap][0],aA[ap][1],false,true);if(this.isGroupedData&&this.showViolinBoxplot&&this.isRawData&&ax[ap].length>1){var E=F(this.layoutValid?aA[ap][1]:ap);if(E){this.nT(E,am+(ab/2),ae,ab/this.varIndices.length,ad,al,aj,at[ap],x[ap],aA[ap],W,ax[ap]);if(!this.showBoxplotIfViolin){Q=true}}}var ag=am+aq;var ac=[];var D=[];var R=this.showBoxplotOriginalData||this.showViolinBoxplot?at[ap]:ay[ap];for(var ao=0;ao<5;ao++){ac.push(Z(ax[ap][ao]));D.push(ac[ac.length-1].toString())}if(this.s9()){aA[ap]=false}if(!Q){var S=(am+af)+((ab-this.variableSpace)/2);var au=ac[3]+((ac[2]-ac[3])/2);var ar=V;var az=ac[2]-ac[3];var e=this.boxplotNotched?Z(ax[ap][7][0]):false;var an=this.boxplotNotched?Z(ax[ap][7][1]):false;var O=J(ap);var N=this.plotStyle.match(/open|border|ggplotSwitched/)?this.pP(O):this.boxplotBorderColor;var H=this.boxplotMedianColor||N;if(this.boxplotColor){O=this.boxplotColor}var aw,P,A;if(this.boxplotVarWidth&&this.graphType!="Scatter2D"){ar=V*ax[ap][8];U+=(V-ar)/2}if(this.boxplotNotched&&this.boxplotType!="range"){if(this.showViolinBoxplot){P=[am+(ab-af-U)-b,am+af+U,am+af+U,am+(ab-af-U),am+(ab-af-U),am+af+U+b,am+(ab-af-U)-b]}else{P=[am+af+U+b,am+af+U,am+af+U,am+(ab-af-U),am+(ab-af-U),am+(ab-af-U)-b,am+af+U+b]}A=[ac[4],e,ac[2],ac[2],e,ac[4],ac[4]];aw=this.To({p:["drawShape","polygon",P,A,false,false,O,N,ai[ap]],i:aA[ap],b:ae,t:"Data",h:W});A=[ac[4],an,ac[3],ac[3],an,ac[4],ac[4]];this.To({p:["drawShape","polygon",P,A,false,false,O,N,ai[ap]],i:aA[ap],g:aw,b:ae,t:"Data",h:W})}else{if(this.boxplotType=="range"){aw=this.To({p:["drawLine","line",S,ac[1],S,ac[0],this.plotStyle=="open"?N:O,av,"round"],i:aA[ap],b:ae,t:"Data",h:W})}else{aw=this.To({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",S,au,ar,az,O,N,ai[ap]],i:aA[ap],b:ae,t:"Data",h:W})}}if(this.Ry(D).length!=0){if(this.boxplotNotched&&this.boxplotType!="range"){this.To({p:["drawLine","median",am+af+U+b,ac[4],am+(ab-af-U)-b,ac[4],H,this.boxplotMedianWidth,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}else{if(this.boxplotType=="range"){this.To({p:["drawShape","sphere",S,ac[4],av*2.5,av*2.5,this.plotStyle=="open"?N:O,this.plotStyle=="open"?N:O],i:aA[ap],g:aw,t:"Data",h:W})}else{this.To({p:["drawLine","median",S-(ar/2),ac[4],S+(ar/2),ac[4],H,this.boxplotMedianWidth,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}}if(this.boxplotType!="range"){if(this.boxplotWhiskersType=="single"){if(ac[0]>ac[2]){this.To({p:["drawLine","line",ag,ac[2],ag,ac[0],N,false,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}if(ac[1]<ac[3]){this.To({p:["drawLine","line",ag,ac[3],ag,ac[1],N,false,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}}else{if(this.boxplotWhiskersType=="double"){if(ac[0]>ac[2]){this.To({p:["drawLine","error",ag,ac[2],ag,ac[0],N,-T,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}if(ac[1]<ac[3]){this.To({p:["drawLine","error",ag,ac[3],ag,ac[1],N,-T,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}}}}}if(this.boxplotMean){this.To({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",ag,Z(ax[ap][6]),M,M,this.boxplotMeanColor,this.boxplotMeanBorderColor],i:aA[ap],g:aw,b:ae,t:"Data",h:W})}if(ax[ap][5]&&!this.showBoxplotOriginalData){var G={};for(var ao=0;ao<ax[ap][5].length;ao++){if(G[ax[ap][5][ao]]){continue}G[ax[ap][5][ao]]=true;var k=this.boxplotOutliersShape;var B=this.boxplotOutliersColor||(this.plotStyle.match(/ggplot/)?N:O);var C=this.boxplotOutliersBorderColor||N;this.To({p:["drawShape",k,ag,Z(ax[ap][5][ao]),av,av,B,C,ai[ap]],i:aA[ap],g:aw,b:ae,t:"Data",h:W})}}}if(!L.hasOwnProperty(R)){L[R]=[];X[R]=this.TU(aA[ap])}L[R].push([am+af+(ab/2),ac[4]]);am+=this.tO(ah)?ah[ap+1]-ah[ap]:ah}}else{for(var ap=0;ap<ax.length;ap++){if(this.isGraphTime&&aA[ap][1]<0){ae+=this.tO(ah)?ah[ap]:ah;continue}var W=this.showBoxplotOriginalData?this.ID(aA[ap][0]):this.ID(aA[ap][0],aA[ap][1],false,true);if(this.isGroupedData&&this.showViolinBoxplot&&this.isRawData&&ax[ap].length>1){var E=F(this.layoutValid?aA[ap][1]:ap);if(E){this.nT(E,am,ae+(ab/2),ab/this.varIndices.length,ad,al,aj,at[ap],x[ap],aA[ap],W,ax[ap]);if(!this.showBoxplotIfViolin){Q=true}}}var ag=ae+aq;var ac=[];var D=[];var R=this.showBoxplotOriginalData||this.showViolinBoxplot?at[ap]:ay[ap];for(var ao=0;ao<5;ao++){ac.push(Z(ax[ap][ao]));D.push(ac[ac.length-1].toString())}if(this.s9()){aA[ap]=false}if(!Q){var S=ac[2]+((ac[3]-ac[2])/2);var au=(ae+af)+((ab-this.variableSpace)/2);var ar=ac[3]-ac[2];var az=V;var e=this.boxplotNotched?Z(ax[ap][7][0]):false;var an=this.boxplotNotched?Z(ax[ap][7][1]):false;var O=J(ap);var N=this.plotStyle.match(/open|border|ggplotSwitched/)?this.pP(O):this.boxplotBorderColor;var H=this.boxplotMedianColor||N;if(this.boxplotColor){O=this.boxplotColor}var aw,P,A;if(this.boxplotVarWidth&&this.graphType!="Scatter2D"){az=V*ax[ap][8];U+=(V-az)/2}if(this.boxplotNotched&&this.boxplotType!="range"){P=[ac[4],e,ac[2],ac[2],e,ac[4],ac[4]];if(this.showViolinBoxplot){A=[ae+(ab-af-U)-b,ae+af+U,ae+af+U,ae+(ab-af-U),ae+(ab-af-U),ae+af+U+b,ae+(ab-af-U)-b]}else{A=[ae+af+U+b,ae+af+U,ae+af+U,ae+(ab-af-U),ae+(ab-af-U),ae+(ab-af-U)-b,ae+af+U+b]}aw=this.To({p:["drawShape","polygon",P,A,false,false,O,N,ai[ap]],i:aA[ap],b:ae,t:"Data",h:W});P=[ac[4],an,ac[3],ac[3],an,ac[4],ac[4]];this.To({p:["drawShape","polygon",P,A,false,false,O,N,ai[ap]],i:aA[ap],g:aw,b:ae,t:"Data",h:W})}else{if(this.boxplotType=="range"){aw=this.To({p:["drawLine","line",ac[0],au,ac[1],au,this.plotStyle=="open"?N:O,av,"round"],i:aA[ap],b:am,t:"Data",h:W})}else{aw=this.To({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",S,au,ar,az,O,N,ai[ap]],i:aA[ap],b:am,t:"Data",h:W})}}if(this.Ry(D).length!=0){if(this.boxplotNotched&&this.boxplotType!="range"){this.To({p:["drawLine","median",ac[4],ae+af+U+b,ac[4],ae+(ab-af-U)-b,H,this.boxplotMedianWidth,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}else{if(this.boxplotType=="range"){this.To({p:["drawShape","sphere",ac[4],au,av*2.5,av*2.5,this.plotStyle=="open"?N:O,this.plotStyle=="open"?N:O],i:aA[ap],g:aw,t:"Data",h:W})}else{this.To({p:["drawLine","median",ac[4],au-(az/2),ac[4],au+(az/2),H,this.boxplotMedianWidth,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}}if(this.boxplotType!="range"){if(this.boxplotWhiskersType=="single"){if(ac[2]>ac[0]){this.To({p:["drawLine","line",ac[2],ag,ac[0],ag,N,false,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}if(ac[3]<ac[1]){this.To({p:["drawLine","line",ac[3],ag,ac[1],ag,N,false,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}}else{if(this.boxplotWhiskersType=="double"){if(ac[2]>ac[0]){this.To({p:["drawLine","error",ac[2],ag,ac[0],ag,N,T,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}if(ac[3]<ac[1]){this.To({p:["drawLine","error",ac[3],ag,ac[1],ag,N,T,"butt"],i:aA[ap],g:aw,t:"Data",h:W})}}}}}if(this.boxplotMean){this.To({p:["drawShape",this.useRoundRectangles?"roundrect":"rectangle",Z(ax[ap][6]),ag,M,M,this.boxplotMeanColor,this.boxplotMeanBorderColor],i:aA[ap],g:aw,b:am,t:"Data",h:W})}if(ax[ap][5]&&!this.showBoxplotOriginalData){var G={};for(var ao=0;ao<ax[ap][5].length;ao++){if(G[ax[ap][5][ao]]){continue}G[ax[ap][5][ao]]=true;var k=this.boxplotOutliersShape;var B=this.boxplotOutliersColor||(this.plotStyle.match(/ggplot/)?N:O);var C=this.boxplotOutliersBorderColor||N;this.To({p:["drawShape",k,Z(ax[ap][5][ao]),ag,av,av,B,C,ai[ap]],i:aA[ap],g:aw,b:am,t:"Data",h:W})}}}if(!L.hasOwnProperty(R)){L[R]=[];X[R]=this.TU(aA[ap])}L[R].push([ac[4],ae+af+(ab/2)]);ae+=this.tO(ah)?ah[ap+1]-ah[ap]:ah}}if(this.boxplotConnect){for(var R in L){if(L[R].length>1){var aw=this.To({p:["drawLine","line",L[R][0][0],L[R][0][1],L[R][1][0],L[R][1][1],R,this.boxplotConnectWidth,"butt"],i:["Line:",X[R][0],X[R][1]],t:"Data",h:W});for(var ap=1;ap<L[R].length-1;ap++){this.To({p:["drawLine","line",L[R][ap][0],L[R][ap][1],L[R][ap+1][0],L[R][ap+1][1],R,this.boxplotConnectWidth,"butt"],i:["Line:",X[R][0],X[R][1]],g:aw,t:"Data",h:W})}}}}};this.F8=function(R,E,T,H,L,C,P,B,K,F,S,U){var y=function(a){return L+((a-K)*B)};var x=null;for(var N=0;N<R.length;N++){var J=y(R[N][0]);var f=y(R[N][1]);var A=J+((f-J)/2);var e=C+(P/2);var W=f-J;var v=E[N]?W*E[N]:false;var w=this.SS(S[N],U[N]);var g=this.b9(w,this.ganttCompletionTransparency,true,false,true);var s=this.V4(w,U[N]);var r=this.ID(false,U[N][0]);var D=this.To({p:["drawShape","roundrect",A,e,W,P,g,g,F[N]],i:U[N],g:x,b:L,t:"Data",h:r});if(!x){x=D}if(E[N]){if(E[N]==1){this.To({p:["drawShape","roundrect",A,e,W,P,w,w,F[N]],i:U[N],g:x,b:L,t:"Data",h:r})}else{this.To({p:["drawShape","roundrectl",A-((W-v)/2),e,v,P,w,w,F[N]],i:U[N],g:x,b:L,t:"Data",h:r})}}this.To({p:["drawShape","roundrect",A,e,W,P,false,s,"open"],i:U[N],g:x,b:L,t:"Data",h:r});if(H.length){for(var M=0;M<H.length;M++){var I=y(H[M][0]);this.To({p:["drawShape","triangle2",I,C,P/3,P/3,w,s],i:[].concat(U[N].concat(H[M][1])),g:x,b:L,t:"Data",h:r})}}if(T[N]){var G=y(T[N][0]);var X=y(T[N][1]);var V=T[N][2]+(P/2);var Q=e==V?X:G+((X-G)/2);var n=e==V?V:V+(P/2);var O=A-(W/2);var k=e;this.To({p:["drawLine",n==k?"line":"roundLine",Q,n,O,k,this.V4(T[N][4]),T[N][5],"butt",0,0,false,false,false,false,T[N][3]],i:U[N],g:x,b:L,t:"Data",h:r})}}};this.nT=function(s,J,B,N,A,H,F,Q,E,D,g,O){var k=[];var L=[];var e=[];var G=[];var b=[[],[]];var I,f,r,n,w,a,R,P;var S=s.density.maxY>0?s.density.maxY:0.000001;switch(this.violinScale){case"area":I=N/S*S/s.scale*0.9/this.widthFactor;break;case"count":I=N/S*s.density.sumY/s.area*0.9/this.widthFactor;break;case"width":I=N/S*0.9/this.widthFactor;break}var C=this.b9(this.violinColor||Q,this.showBoxplotOriginalData&&!this.violinColor&&this.plotStyle!="ggplot"?0:this.violinTransparency,true);if(this.violinTrim){f=[];for(var M=s.density.trim[0];M<s.density.trim[1];M++){f.push(s.density.xy[M])}}else{f=s.density.xy}if(F=="vertical"){for(var M=0;M<f.length;M++){r=(f[M][1]*I);n=((f[M][0]-H)*A);k.push(J-r);L.push(B-n);e.push(J+r);G.push(B-n);b[0].push(J);b[1].push(B-n)}}else{for(var M=0;M<f.length;M++){r=((f[M][0]-H)*A);n=(f[M][1]*I);k.push(J+r);L.push(B-n);e.push(J+r);G.push(B+n);b[0].push(J+r);b[1].push(B)}}if(k.length>1&&L.length>1){this.To({p:["drawShape","violin",[k,e],[L,G],false,false,C,this.violinBorderColor,E],i:D,b:b,t:"Data",h:g});if(this.showViolinQuantiles){r=O;for(M=2;M<=4;M++){if(F=="vertical"){for(var K=0;K<f.length;K++){if(f[K][0]>r[M]){R=f[K][1]*I;P=B-((r[M]-H)*A);this.To({p:["drawLine","solid",J-R,P,J+R,P,this.violinBorderColor,1.5],t:"Decorations",h:g});break}}}else{for(var K=0;K<f.length;K++){if(f[K][0]>r[M]){R=J+((r[M]-H)*A);P=f[K][1]*I;this.To({p:["drawLine","solid",R,B-P,R,B+P,this.violinBorderColor,1.5],t:"Decorations",h:g});break}}}}}}else{if(F=="vertical"){r=J;n=B-((s.density.median[0]-H)*A)}else{r=J+((s.density.median[0]-H)*A);n=B}this.To({p:["drawShape","circle",r,n,this.margin,this.margin,C,this.violinBorderColor,E],i:D,b:b,t:"Data",h:g})}};this.X3=function(D,A,h,w,g,z,k,x,F,n,e,c,b){var E=[];if(x=="vertical"){for(var C=0;C<D.length;C++){if((this.showBoxplotOriginalData&&this.isRawData)||this.graphType.match(/Dot/)||(this.graphType.match(/Bar/)&&this.barType.match(/lollipop/)&&!this.isGroupedData)){for(var B=0;B<D[C].length;B++){if(this.isGraphTime&&D[C][B]==null){continue}var p=F?F[C][B]:false;var f=h-((D[C][B]-z)*g);if(this.xx(f,true)){E.push([A,f,k[C][B]/2,p])}else{E.push([A,Number.NaN,k[C][B]/2,p])}}}A+=this.tO(w)?w[C+1]-w[C]:w}}else{for(var C=0;C<D.length;C++){if((this.showBoxplotOriginalData&&this.isRawData)||this.graphType.match(/Dot/)||(this.graphType.match(/Bar/)&&this.barType.match(/lollipop/)&&!this.isGroupedData)){for(var B=0;B<D[C].length;B++){if(this.isGraphTime&&D[C][B]==null){continue}var p=F?F[C][B]:false;var f=e?A+e-((D[C][B]-z)*g):A+((D[C][B]-z)*g);if(this.xx(f,true)){E.push([f,h,k[C][B]/2,p])}else{E.push([Number.NaN,h,k[C][B]/2,p])}}}h+=this.tO(w)?w[C+1]-w[C]:w}}return E};this.rw=function(R,J,A,D,z,I,Q,F,V,w,h){var p=this;var n=function(){var a=[];if(F=="vertical"){for(var l=0;l<R.length;l++){if((p.showBoxplotOriginalData&&p.isRawData)||p.graphType.match(/Dot/)||(p.graphType.match(/Bar/)&&p.barType.match(/lollipop/)&&!p.isGroupedData)){for(var k=0;k<R[l].length;k++){if(p.isGraphTime&&R[l][k]==null){continue}var f=V?V[l][k]:false;var d=A-((R[l][k]-I)*z);if(p.xx(d,true)){a.push([J,d,Q[l][k],f])}else{a.push([J,Number.NaN,Q[l][k],f])}}}J+=p.tO(D)?D[l+1]-D[l]:D}}else{for(var l=0;l<R.length;l++){if((p.showBoxplotOriginalData&&p.isRawData)||p.graphType.match(/Dot/)||(p.graphType.match(/Bar/)&&p.barType.match(/lollipop/)&&!p.isGroupedData)){for(var k=0;k<R[l].length;k++){if(p.isGraphTime&&R[l][k]==null){continue}var f=V?V[l][k]:false;var d=w?J+w-((R[l][k]-I)*z):J+((R[l][k]-I)*z);if(p.xx(d,true)){a.push([d,A,Q[l][k],f])}else{a.push([Number.NaN,A,Q[l][k],f])}}}A+=p.tO(D)?D[l+1]-D[l]:D}}return a};var H=this.connectBy&&this.data.x&&this.data.x.hasOwnProperty(this.connectBy)&&this.isRawData;var E=this.connectBy&&this.data.z&&this.data.z.hasOwnProperty(this.connectBy)&&this.isRawData;if(H||E){var U=n();if(H){var B=this.meta.data.x[this.connectBy];var M=0;var T=this.Nv(this.connectByData);var e=this.NH(T.length);var S={};if(this.isGraphTime){for(var N=0;N<this.timeValueIndices.length;N++){if(this.timeValueIndices[N]>0){S[N.toString()]=this.timeValueIndices[N]}}}for(var N in this.connectByData){var C;var s=null;var R=this.connectByData[N];var r=this.connectByNoColor?this.connectByColor:B&&B.type!="Numeric"?B.connects[B.order[N]%B.connects.length]:e[M%e.length];if(R.length>1){for(var L=1;L<R.length;L++){var x=this.isGraphTime?U[S[R[L-1]]]:U[R[L-1]];var g=this.isGraphTime?U[S[R[L]]]:U[R[L]];if(x&&g){C=this.To({p:["drawLine","line",x[0],x[1],g[0],g[1],r,this.connectByWidth,"butt"],i:["Line:"+this.connectBy+" "+N,x[3][0],x[3][2],g[3][2]],g:s,t:"Data",h:this.ID(false,x[3][2])});if(s==null){s=C}}}}M++}}else{if(E){this.connectByDataVar.push(U);if(h){var B=this.connectBy==this.colorBy?this.meta.data.z[this.colorBy]:false;for(var N in this.connectByData){var R=this.connectByData[N];if(this.connectByDataVar.length==R.length){for(var K=0;K<this.connectByDataVar[0].length;K++){for(var L=1;L<R.length;L++){var x=this.connectByDataVar[R[L-1]][K];var g=this.connectByDataVar[R[L]][K];var c=N;if(x&&g){var P=this.data.y.vars[x[3][0]];var G=this.data.y.vars[g[3][0]];var O=this.data.y.smps[x[3][(this.isGroupedData?2:1)]];var b=this.data.y.smps[g[3][(this.isGroupedData?2:1)]];if(O==b){c=P+" - "+G+" ("+O+")"}else{c=P+" ("+O+") - "+G+" ("+b+")"}}if(this.dotplotType.match(/bullet/)){this.To({p:["drawLine","line",J,x[1],J+this.x,g[1],this.b9(this.connectByColor,0.2),Math.min(x[2],g[2]),"butt"],i:["Bkg:"+this.connectBy+" "+c],t:"Data",h:this.ID(false,x[3][2])})}if(this.dotplotType.match(/arrow/)){if(x[0]>g[0]){this.To({p:["drawLine","line",x[0],x[1],g[0],g[1],this.connectByColor,this.connectByWidth,"butt",x[2],g[2],false,false,false,"arrow"],i:["Line:"+this.connectBy+" "+c],t:"Data",h:this.ID(false,x[3][2])})}else{if(g[0]>x[0]){this.To({p:["drawLine","line",g[0],g[1],x[0],x[1],this.connectByColor,this.connectByWidth,"butt",x[2],g[2],false,false,false,"arrow"],i:["Line:"+this.connectBy+" "+c],t:"Data",h:this.ID(false,x[3][2])})}}}else{this.To({p:["drawLine","line",x[0],x[1],g[0],g[1],this.connectByColor,this.dotplotType.match(/bullet|connected/i)?Math.min(x[2],g[2]):this.connectByWidth,"butt"],i:["Line:"+this.connectBy+" "+c],t:"Data",h:this.ID(false,x[3][2])})}}}}}}}}}};this.Z3=function(ae,ac,U,M,Z,P,L,T,N,R,af,V,Q,ak,J,O,I,D,C,ah){var H=this;var z=function(h){var l=H.segregateSamplesBy.length&&H.isGroupedData&&H.groupingFactors.includes(H.segregateSamplesBy[0]);var c=H.meta.data.d;var k=H.tU(D);var e;if(H.layoutValid&&!H.isDOE){if(H.segregateVariablesBy.length>0){e=h}else{if(H.segregateSamplesBy.length>0){var a=!l?[H.data.l.name[H.layoutCurrent],H.data.w.glab[h]].join("::"):H.data.w.labs[h]?H.data.w.labs[h]:H.data.w.glab[h];for(var d=0;d<c.g[k].length;d++){if(c.g[k][d].density.name==a){e=d;break}}}}}else{if(H.isGroupedData){e=H.grpIndices[h]}}return c.g&&c.g[k]?c.g[k][e]:!H.isGroupedData&&c.v?c.v[k]:false};var B=function(l,c){var a=c[0];var j=0;var e="";var m={n:{},arr:{}};for(var h=0;h<l.length;h++){var d=l[h]!=null?l[h].toString():"";if(!m.n.hasOwnProperty(d)){m.n[d]=0;m.arr[d]=[]}m.n[d]++;if(m.n[d]>j){j=m.n[d];e=d}}if(m.n[e]*a>Z){a=Z*(H.binAlignment=="center"?1:0.5)/m.n[e]}for(var d in m.n){switch(H.binAlignment){case"bottom":case"right":m.arr[d].push(0);m.n[d]--;while(m.n[d]>0){var k=m.arr[d][0];m.arr[d].unshift(k-a);m.n[d]--}break;case"top":case"left":case"centerwhole":m.arr[d].push(0);m.n[d]--;while(m.n[d]>0){var k=m.arr[d][m.arr[d].length-1];m.arr[d].push(k+a);m.n[d]--}break;case"center":if(m.n[d]%2){m.arr[d].push(0);m.n[d]--}else{m.arr[d].push(-a/2);m.n[d]--;m.arr[d].push(a/2);m.n[d]--}while(m.n[d]>0){var k=m.arr[d][0];m.arr[d].unshift(k-a);m.n[d]--;k=m.arr[d][m.arr[d].length-1];m.arr[d].push(k+a);m.n[d]--}break}}return m.arr};var f=[];var Y=ah?"Overlays":"Data";if(R=="vertical"){for(var X=0;X<ae.length;X++){if((this.showBoxplotOriginalData&&this.isRawData)||this.graphType.match(/Dot/)||(this.graphType.match(/Bar/)&&this.barType.match(/lollipop/))){var ag=this.dotplotType=="transition"?false:this.binned?B(ae[X],N[X]):false;var A=this.dotplotType=="transition"?false:this.jitter||this.sina?this.CC(this.ob(0,ae[X].length),false,Z*this.jitterFactor*0.5*this.widthFactor):false;if(this.sina&&this.isGroupedData){var x=z(X);this.e6(A,x,ae[X],Z)}for(var W=0;W<ae[X].length;W++){if(this.isGraphTime&&ae[X][W]==null){continue}var S=this.dotplotType=="transition"?0:this.binned&&ag[ae[X][W]]?ag[ae[X][W].toString()].shift():this.jitter?A[W]:0;var b=ak?ak[X][W]:false;var K=M-((ae[X][W]-T)*L);var E=this.SS(af[X][W],b);var F=this.plotStyle=="open"?this.pP(E):this.V4(E,b);if(this.plotStyle=="open"){E=this.background}if(this.graphType.match(/Bar/)&&this.barType.match(/lollipop/)){b.push("Lollipop")}if(this.xx(K,true)){var ad;f.push([U+S,K,N[X][W]/2,b]);if(this.graphType.match(/Dot/)&&this.dotplotType=="transition"&&W>0){var G=f.length-1;var g=f.length-2;while(!this.xx(f[g][1],true)&&g>=0){g--}if(this.xx(f[g][1],true)){var aj=f[G];var ab=f[g];var aa=this.b9(E,0.2,false,false,true);this.To({p:["drawShape","polygon",[aj[0]-aj[2],ab[0]-ab[2],ab[0]+ab[2],aj[0]+aj[2]],[aj[1],ab[1],ab[1],aj[1]],false,false,aa,aa],t:"Decorations",h:this.ID(aj[3][0],aj[3][1])||this.ID(ab[3][0],ab[3][1])})}}if(this.graphType.match(/Bar/)&&this.barType.match(/lollipop/)&&this.barLollipopOpen){ad=this.To({p:["drawShape",Q[X][W],U+S,K,N[X][W],N[X][W],this.background,E,V[X][W],false,2,O],i:b,m:J,b:M,t:Y,h:this.ID(b[0],b[1])})}else{if(this.plotStyle!="open"&&N[X][W]<2.5){ad=this.To({p:["drawShape",Q[X][W],U+S,K,N[X][W],N[X][W],E,E,V[X][W],false,false,O],i:b,m:J,b:M,t:Y,h:this.ID(b[0],this.isGroupedData||(this.graphType=="Dotplot"&&b[2]!=null)?b[2]:b[1])})}else{ad=this.To({p:["drawShape",Q[X][W],U+S,K,N[X][W],N[X][W],E,F,V[X][W],false,false,O],i:b,m:J,b:M,t:Y,h:this.ID(b[0],this.isGroupedData||(this.graphType=="Dotplot"&&b[2]!=null)?b[2]:b[1])})}}if(this.showDataValues){this.To({p:["drawText",this.gG(ae[X][W]),U+S,K,this.dataTextFont,this.dataTextColor||(this.plotStyle=="open"?F:E),"center","middle"],g:ad,t:Y,h:this.ID(b[0],b[1])})}if(!this.isGroupedData){if(ac[X]&&ac[X][W]&&this.xx(ac[X][W],true)){var ai=(ac[X][W]/2)*L;this.To({p:["drawLine","error",U+S,K,U+S,K+ai,E,-Z,"butt",false,false,true],i:b,g:ad,t:Y,h:this.ID(b[0],b[1])});this.To({p:["drawLine","error",U+S,K,U+S,K-ai,E,-Z,"butt",false,false,true],i:b,g:ad,t:Y,h:this.ID(b[0],b[1])})}}}else{f.push([U+S,Number.NaN,N[X][W]/2,b])}}if(this.showErrorBars&&this.isGroupedData&&ac[X]&&ac[X]&&this.xx(ac[X][0],true)&&this.xx(ac[X][1],true)){var K=M-((ac[X][0]-T)*L);var ai=(ac[X][1]/2)*L;if(ak&&ak[X]&&ak[X][0]){var b=ak?[ak[X][0][0],ak[X][0][1],"error"]:false;this.To({p:["drawShape","diamond",U,K,this.errorBarsThickness*3,this.errorBarsThickness*3,this.errorBarsColor,this.errorBarsColor,"closed",false,false,O],h:this.ID(false,ak[X][0][0]),t:Y});this.To({p:["drawLine","line",U,K-ai,U,K+ai,this.errorBarsColor,this.errorBarsThickness,"butt",false,false,O],h:this.ID(false,ak[X][0][0]),t:Y})}}}U+=this.tO(P)?P[X+1]-P[X]:P}}else{for(var X=0;X<ae.length;X++){if((this.showBoxplotOriginalData&&this.isRawData)||this.graphType.match(/Dot/)||(this.graphType.match(/Bar/)&&this.barType.match(/lollipop/))){var ag=this.dotplotType=="transition"?false:this.binned?B(ae[X],N[X]):false;var A=this.dotplotType=="transition"?false:this.jitter||this.sina?this.CC(this.ob(0,ae[X].length),false,Z*this.jitterFactor*0.5*this.widthFactor):false;if(this.sina&&this.isGroupedData){var x=z(X);this.e6(A,x,ae[X],Z)}for(var W=0;W<ae[X].length;W++){if(this.isGraphTime&&ae[X][W]==null){continue}var S=this.dotplotType=="transition"?0:this.binned&&ag[ae[X][W]]?ag[ae[X][W].toString()].shift():this.jitter?A[W]:0;var b=ak?ak[X][W]:false;var K=I?U+I-((ae[X][W]-T)*L):U+((ae[X][W]-T)*L);var E=this.SS(af[X][W],b);var F=this.plotStyle=="open"?this.pP(E):this.V4(E,b);if(this.plotStyle=="open"){E=this.background}if(this.graphType.match(/Bar/)&&this.barType.match(/lollipop/)){b.push("Lollipop")}if(this.xx(K,true)){var ad;f.push([K,M+S,N[X][W]/2,b]);if(this.graphType.match(/Dot/)&&this.dotplotType=="transition"&&W>0){var G=f.length-1;var g=f.length-2;while(!this.xx(f[g][0],true)&&g>=0){g--}if(this.xx(f[g][0],true)){var aj=f[G];var ab=f[g];var aa=this.b9(E,0.2,false,false,true);this.To({p:["drawShape","polygon",[aj[0],ab[0],ab[0],aj[0]],[aj[1]-aj[2],ab[1]-ab[2],ab[1]+ab[2],aj[1]+aj[2]],false,false,aa,aa],t:"Decorations",h:this.ID(aj[3][0],aj[3][1])||this.ID(ab[3][0],ab[3][1])})}}if(this.graphType.match(/Bar/)&&this.barType.match(/lollipop/)&&this.barLollipopOpen){ad=this.To({p:["drawShape",Q[X][W],K,M+S,N[X][W],N[X][W],this.background,E,V[X][W],false,2,O],i:b,m:J,b:U,t:Y,h:this.ID(b[0],b[1])})}else{if(this.plotStyle!="open"&&N[X][W]<2.5){ad=this.To({p:["drawShape",Q[X][W],K,M+S,N[X][W],N[X][W],E,E,V[X][W],false,false,O],i:b,m:J,b:U,t:Y,h:this.ID(b[0],this.isGroupedData||(this.graphType=="Dotplot"&&b[2]!=null)?b[2]:b[1])})}else{ad=this.To({p:["drawShape",Q[X][W],K,M+S,N[X][W],N[X][W],E,F,V[X][W],false,false,O],i:b,m:J,b:U,t:Y,h:this.ID(b[0],this.isGroupedData||(this.graphType=="Dotplot"&&b[2]!=null)?b[2]:b[1])})}}if(this.showDataValues){this.To({p:["drawText",this.gG(ae[X][W]),K,M+S,this.dataTextFont,this.dataTextColor||(this.plotStyle=="open"?F:E),"center","middle"],g:ad,t:Y,h:this.ID(b[0],b[1])})}if(!this.isGroupedData){if(ac[X]&&ac[X][W]&&this.xx(ac[X][W],true)){var ai=(ac[X][W]/2)*L;this.To({p:["drawLine","error",K,M+S,K+ai,M+S,E,Z,"butt",false,false,true],i:b,g:ad,t:Y,h:this.ID(b[0],b[1])});this.To({p:["drawLine","error",K,M+S,K-ai,M+S,E,Z,"butt",false,false,true],i:b,g:ad,t:Y,h:this.ID(b[0],b[1])})}}}else{f.push([Number.NaN,M+S,N[X][W]/2,b])}}}if(this.showErrorBars&&this.isGroupedData&&ac[X]&&ac[X]&&this.xx(ac[X][0],true)&&this.xx(ac[X][1],true)){var K=U+((ac[X][0]-T)*L);var ai=(ac[X][1]/2)*L;if(ak&&ak[X]&&ak[X][0]){var b=ak?[ak[X][0][0],ak[X][0][1],"error"]:false;this.To({p:["drawShape","diamond",K,M,this.errorBarsThickness*3,this.errorBarsThickness*3,this.errorBarsColor,this.errorBarsColor,"closed",false,false,O],h:this.ID(false,false,"Var-"+ak[X][0][0]),t:Y});this.To({p:["drawLine","line",K-ai,M,K+ai,M,this.errorBarsColor,this.errorBarsThickness,"butt",false,false,O],h:this.ID(false,false,"Var-"+ak[X][0][0]),t:Y})}}M+=this.tO(P)?P[X+1]-P[X]:P}}};this.lP=function(M,F,z,s,I,L,R,K,C,P,B,J,G){var y=1;var j=F;var A=0.75;var E=this.meta.vals;var O=this.plotInfo.variables;var Q=G?"triangleBottomRight":"rect";if(!E.colors){E.colors={}}for(var H=0;H<M.length;H++){var x=M[H];var N=this.isContour?"rgba(0,0,0,0)":x==null||!this.xx(x,true)?this.missingDataColor:J?this.PW(P[J[H]],x):this.PW(P,x);var D=L&&B?this.b9(N,B,true):L?N:this.heatmapCellBoxColor;var n=O[H].xy+(A/2);if(!J){E.colors[x==null?"null":x.toString()]=N}if(B){N=this.b9(N,B,true)}if(this.graphType=="Network"){if(this.shapeByShape){this.To({p:["drawShape",this.shapeByShape,F+(s/2),z+(I/2),s/2,I/2,N,D,C[H]],i:R[H],m:K,t:"Decorations",h:this.ID(R[H])})}else{this.To({p:["drawShape","rectangle",F+(s/2),z+(I/2),s,I,N,N,C[H]],i:R[H],m:K,t:"Decorations",h:this.ID(R[H])})}}else{if(this.shapeByShape){this.To({p:["drawShape",this.shapeByShape,n+(s/2),z+(I/2),s/2,I/2,N,D,C?C[H]:false],i:R[H],m:K,t:"Data",h:this.ID(R[H][0],R[H][1])})}else{if(H>0&&H<M.length-1){if(y>=1){this.To({p:["drawShape",Q,n,z+((I+A)/2),s+A,I+A,N,N,C?C[H]:false],i:R[H],m:K,b:[j,z+((I+A)/2),0,I+A],h:this.ID(R[H][0],R[H][1]),t:"Data"});y=0}}else{this.To({p:["drawShape",Q,n,z+((I+A)/2),s+A,I+A,N,N,C?C[H]:false],i:R[H],m:K,b:[j,z+((I+A)/2),0,I+A],h:this.ID(R[H][0],R[H][1]),t:"Data"})}}}if(this.showDataValues){this.To({p:["drawText",this.gG(x),(n+((s+A)/2))-2,(z+I)-2,this.dataTextFont,this.dataTextColor||this.foreground,"right","bottom"],t:"Data"})}F+=s;y+=s}};this.n2=function(B,u,p,C,D){var f=this;var r=this.Qc()?this.top+this.y:this.left;var k=function(d,c){if(c){f.To({p:["drawShape","rectangle",(d.coords.left+u)+(d.coords.width/2),(d.coords.top+p)+(d.coords.height/2),d.coords.width,d.coords.height,false,f.V4(d.color),"open",false,d.outline,C,D],b:r,t:"Data"})}else{f.To({p:["drawShape","rectangle",(d.coords.left+u)+(d.coords.width/2),(d.coords.top+p)+(d.coords.height/2),d.coords.width,d.coords.height,f.SS(d.color,d.index),f.V4(d.color,d.index),"closed",false,false,C,D],i:d.index,b:r,t:"Data",h:f.ID(d.index[0],d.index[1])})}if(d.label){var b=f.pb(d.label,f.overlayTextFont);if(b+f.margin<d.coords.width&&f.overlayTextFontSize+f.margin<d.coords.height){if(c){f.To({p:["drawText",d.label,d.coords.left+u+(d.coords.width/2),d.coords.top+p+(d.coords.height/2),f.overlayTextFont,f.b9(f.foreground,0.5,true),"center","middle"],t:"Data"})}else{f.To({p:["drawText",d.label,d.coords.left+u+f.margin,d.coords.top+p+f.margin,f.overlayTextFont,f.foreground,"left","top"],t:"Data"})}}else{if(b+f.margin<d.coords.height&&f.overlayTextFontSize+f.margin<d.coords.width){if(c){f.To({p:["drawText",d.label,d.coords.left+u+(d.coords.width/2),d.coords.top+p+(d.coords.height/2),f.overlayTextFont,f.b9(f.foreground,0.5,true),"center","middle",-Math.PI/2],t:"Data"})}else{f.To({p:["drawText",d.label,d.coords.left+u+f.margin,d.coords.top+p+f.margin,f.overlayTextFont,f.foreground,"right","top",-Math.PI/2],t:"Data"})}}}}};var s=function(c){for(var b=0;b<c.length;b++){if(c[b].children){s(c[b].children);k(c[b],true)}else{k(c[b])}}};for(var v=0;v<B.length;v++){var a=B[v];var q=this.treemapBorderWidth&&!this.isDOE?1:0;var E=this.isDOE?0:this.treemapBorderWidth;var o=E*2;var e=this.smpTextFontSize*q;var g=this.treemapBorderColor;var m=u+a.coords.left-E;var j=p+a.coords.top-(e+E);var n=a.coords.width+o;var A=a.coords.height+e+o;if(a.title){this.To({p:["disableGradientTransparencyShadow"],t:"Data"});if(a.coords.border>1){this.To({p:["drawShape","rectangle",m+(n/2),j+((e+(E/2))/2),n,e+(E/2),g,g,"close",false,E,C,D],t:"Data"});this.To({p:["drawShape","rectangle",m+(n/2),j+(A/2),n,A,false,g,"open",false,E,C,D],t:"Data"})}else{if(a.coords.border>0){this.To({p:["drawShape","rectangle",m+(n/2),(j+(e+E))+((A-(e+E))/2),n,A-(e+E),false,g,"open",false,E,C,D],t:"Data"})}else{if(a.coords.border>-1){this.To({p:["drawShape","rectangle",m+(n/2),(j+(e+E))+((A-(e+E))/2),n,A-(e+E),false,g,"open",false,E,C,D],t:"Data"})}}}var z=this.pb(a.title,this.smpTextFont);if(z+this.margin<n&&this.smpTextFontSize<=e&&a.coords.height>e+(E/2)){this.To({p:["drawText",a.title,m+this.margin,j+(this.smpTextFontSize/2),this.smpTextFont,this.foreground,"left","middle"],t:"Data"})}this.To({p:["enableGradientTransparencyShadow"],t:"Data"})}if(a.children){s(a.children)}else{k(a)}}};this.ao=function(p){this.gV(Math.min(this.width,this.height)/16,"sankeyTextFont");var n=p.links[0].target.x-p.links[0].source.x;this.sankeyHighlights={};for(var j=0;j<p.links.length;j++){var o=p.links[j];var k=this.colorBy?this.ID(false,false,"Property:"+this.colorBy+":"+o.meta+":x"):false;var b=this.To({p:["drawShape","bezier",o.plotX,o.plotY,n,o.dy,this.SS(o.color),this.sankeyOutlineColor,false,o.colors],i:o.tooltip,b:[this.left,this.top+this.y/2,n,o.dy],t:"Data",h:k});if(!this.sankeyHighlights.hasOwnProperty(o.target.name)){this.sankeyHighlights[o.target.name]=[]}if(!this.sankeyHighlights.hasOwnProperty(o.source.name)){this.sankeyHighlights[o.source.name]=[]}this.sankeyHighlights[o.target.name].push(b);this.sankeyHighlights[o.source.name].push(b)}for(var j=0;j<p.nodes.length;j++){var g=p.nodes[j];this.To({p:["drawShape","rectangle",g.plotX+(g.dx/2),g.plotY+(g.dy/2),g.dx,g.dy,g.color,this.foreground],i:g.tooltip,b:[this.left,this.top+this.y/2,g.dx,g.dy],t:"Data"});if(this.sankeyTextShow){var o=this.pb(g.name,this.sankeyTextFont);var f=this.margin*0.75;var m=g.plotX+(g.dx/2)+this.sankeyTextMargin;var c=g.plotY+(g.dy/2);var l=this.sankeyTextAlign;if(this.sankeyTextAuto){if(this.sankeyTextAlign=="left"){m=g.plotX-f;l="right"}else{if(this.sankeyTextAlign=="right"){m=g.plotX+(g.dx+f);l="left"}}}else{if(this.sankeyTextInside){if((this.sankeyTextAlign=="left"&&g.breadth>0)||(this.sankeyTextAlign=="right"&&g.breadth==p.object.maxBreadth)){m=g.plotX-f;l="right"}else{if(this.sankeyTextAlign=="right"||g.breadth==0){m=g.plotX+g.dx+f;l="left"}}}}var a=["drawText",g.name,m,c,this.sankeyTextFont,this.sankeyTextColor,l,this.sankeyTextBaseline];var e=false;if(o<(g.dy+(this.sankeyNodePadding*1))&&this.sankeyTextAuto){m+=this.sankeyTextAlign=="center"?0:this.sankeyTextAlign=="left"?-(g.dx/2):(g.dx/2);a=["drawText",g.name,m,c,this.sankeyTextFont,this.sankeyTextColor,"center",this.sankeyTextBaseline,-this.sankeyTextRotate*Math.PI/180];e=true}else{if(this.sankeyTextAuto){if(this.sankeyTextFontSize<=((g.dy*2)+this.sankeyNodePadding)){e=true}}else{e=true}}if(e){this.To({p:a,i:[g.tooltip[0]+":T"],t:"Data"})}}}};this.hY=function(b,f){if(this.data.tree&&this.data.tree.plot){var a=this.data.tree.plot;var d=this.treeNodeSize;var j=b=="vertical"?true:false;var e=this.treeType=="bracket"?this.treeLabelAlign:this.treeLabelAlign=="left"?"right":this.treeLabelAlign=="right"?"left":this.treeLabelAlign;var i=this;var h=j?a.x0:a.y0;var g=j?a.y0:a.x0;var k=function(o){var n=j?o.x0:o.y0;var m=j?o.y0:o.x0;var l=i.ID(false,false,false,false,o);var u=o.data.size*i.treeBracketLengthFactor;var t=i.treeType=="bracket"?(i.treeLabelAlign=="right"?((u/2)-i.margin):((-u/2)+i.margin)):i.treeLabelAlign=="right"?(u/2)+i.margin:-(u/2)-i.margin;if(!(i.treeType=="bracket"&&o.id==0)){i.To({p:["drawShape",o.data.shape,n,m,u,o.data.size,i.SS(o.data.color,o.id),i.treeNodeOutlineColor,o.data.pattern,false,i.treeLinkWidth],i:["Tree-Node:"+o.id],b:[h,g],t:"Data",h:l})}if(o.children){for(var p=0;p<o.children.length;p++){k(o.children[p])}if(i.treeType=="circular"){if(i.treeLabelAlign=="center"){i.To({p:["drawText",o.data.name,n,m,i.smpTextFont,i.smpTextColor,"center","middle"],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}else{var s=(Math.PI/2)-o.angle;var r=((d+(i.margin*2))*Math.cos(s))*(i.treeInverted?-1:1);var q=((d+(i.margin*2))*Math.sin(s))*(i.treeInverted?-1:1);if(o.angle<=Math.PI){i.To({p:["drawText",o.data.name,n-r,m-q,i.smpTextFont,i.smpTextColor,i.treeInverted?"left":"right","middle",s],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}else{i.To({p:["drawText",o.data.name,n-r,m-q,i.smpTextFont,i.smpTextColor,i.treeInverted?"right":"left","middle",s-Math.PI],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}}}else{if(j){if(o.parent){i.To({p:["drawText",o.data.name,n,m-((d/2)+i.margin),i.smpTextFont,i.smpTextColor,"right","middle",Math.PI/2],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}else{i.To({p:["drawText",o.data.name,n,m-((d/2)+i.margin),i.smpTextFont,i.smpTextColor,"center","bottom"],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}}else{if(!(i.treeType=="bracket"&&o.id==0)){if(i.treeLabelAlign!="center"){i.To({p:["drawText",o.data.name,n+t,m+1,i.smpTextFont,i.smpTextColor,e,"middle"],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}else{i.To({p:["drawText",o.data.name,n,m+1,i.smpTextFont,i.smpTextColor,"center","middle"],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}}}}}else{if(i.treeType=="circular"){if(i.treeLabelAlign=="center"){i.To({p:["drawText",o.data.name,n,m,i.smpTextFont,i.smpTextColor,"center","middle"],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}else{var s=(Math.PI/2)-o.angle;var r=((d+(i.margin*2))*Math.cos(s))*(i.treeInverted?-1:1);var q=((d+(i.margin*2))*Math.sin(s))*(i.treeInverted?-1:1);if(o.angle<=Math.PI){i.To({p:["drawText",o.data.name,n+r,m+q,i.smpTextFont,i.smpTextColor,i.treeInverted?"right":"left","middle",s],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}else{i.To({p:["drawText",o.data.name,n+r,m+q,i.smpTextFont,i.smpTextColor,i.treeInverted?"left":"right","middle",s-Math.PI],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}}}else{if(j){i.To({p:["drawText",o.data.name,n,m+(d/2)+i.margin,i.smpTextFont,i.smpTextColor,"left","middle",Math.PI/2],i:["Tree-Text-:"+o.id],b:[h,g],t:"Data",h:l})}else{if(i.treeLabelAlign!="center"){i.To({p:["drawText",o.data.name,n+t,m+1,i.smpTextFont,i.smpTextColor,e,"middle"],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}else{i.To({p:["drawText",o.data.name,n,m+1,i.smpTextFont,i.smpTextColor,"center","middle"],i:["Tree-Text:"+o.id],b:[h,g],t:"Data",h:l})}}}}};var c=function(o){if(o.children){for(var m=0;m<o.children.length;m++){c(o.children[m])}}if(o.parent){var q=j?o.x0:o.y0;var n=j?o.y0:o.x0;var r=j?o.parent.x0:o.parent.y0;var p=j?o.parent.y0:o.parent.x0;var s=o._clicked?[r,p,r,p]:[h,g,h,g];var l=i.ID(false,o.id);if(i.treeType=="circular"){i.To({p:["drawLine","bezier",r,p,q,n,i.treeLinkColor,i.treeLinkWidth,false,false,false,false,false,false,false,false,false,[o.mx,o.my,o.mx2,o.my2]],i:[o.parent.id+":"+o.id],b:s,t:"Data",h:l})}else{if(i.treeType=="bracket"){if(o.parent.id!=0){i.To({p:["drawLine",(p!=n?"bracket":"line"),r,p,q,n,i.treeLinkColor,i.treeLinkWidth],i:[o.parent.id+":"+o.id],b:s,t:"Data",h:l})}}else{i.To({p:["drawLine","bezier",r,p,q,n,i.treeLinkColor,i.treeLinkWidth],i:[o.parent.id+":"+o.id],b:s,t:"Data",h:l})}}o._clicked=false}};c(a);if(!f){k(a)}}};this.gq=function(a){if(this.KV()){return}var e=this.varIndices;var d=this.smpIndices;this.PR(false,e,d);this.varIndicesStart=0;var f=[];var c=Math.min(a,e.length);for(var b=0;b<c;b++){f.push(e[b])}this.varIndices=f;this.x9({func:"zoomOncoprintVariables",par:[a]})}};CanvasXpress.prototype.init3dUtils=function(){this.so=function(){if(!this.meta.math){this.meta.math={sin:[0],cos:[1]};for(var a=1;a<=360;a++){var b=Math.PI/(180/a);this.meta.math.sin[a]=Math.sin(b);this.meta.math.cos[a]=Math.cos(b)}}};this.yJ=function(){this.so();var b=["xRotate","yRotate","zRotate"];for(var a=0;a<b.length;a++){var c=b[a];if(this[c]>360){this[c]-=360}if(this[c]<0){this[c]=360}}};this.c1=function(){var c=this.zoom;var a=this.x;var b=this.y;this.perspective=a*this.perspectiveFactor;this.lenX=a/4*c*this.x3DRatio;this.lenY=a/4*c*this.y3DRatio;this.lenZ=a/4*c*this.z3DRatio;this.padX=a/2;this.padY=b/2;this.padZ=this.padY};this.ym=function(i,b,l){var p,o,m;var n=[];var q=this.meta.math.sin;var h=this.meta.math.cos;var c=this.perspective;var a=parseInt(this.xRotate);var k=parseInt(this.yRotate);var f=parseInt(this.zRotate);var g=this.padX;var e=this.padY;var d=this.padZ;o=b;m=l;b=o*h[k]-m*q[k];l=o*q[k]+m*h[k];p=i;m=l;i=m*q[a]+p*h[a];l=m*h[a]-p*q[a];p=i;o=b;i=p*h[f]-o*q[f];b=p*q[f]+o*h[f];if(c){var j=c/(l+c);i=i*j;b=b*j;l=l*j}n.push(i+g);n.push(b+e);n.push(l+d);return n}};CanvasXpress.prototype.initApiUtils=function(){this.AR=function(){return this.validGraphTypes};this.on=function(){this.initializeAttributes()};this.AS=function(){if(this.yW()||this.graphType=="Bar"){return true}else{return false}};this.vX=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Correlation"&&!this.s9()){return true}else{return false}};this.oP=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Correlation"&&!this.s9()&&this.graphType!="Pie"){return true}else{return false}};this.AW=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Venn"){return true}else{return false}};this.wj=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Venn"&&this.graphType!="Pie"&&!this.yW()){if(this.graphType=="Correlation"&&this.correlationAxis!="samples"){return false}return true}else{return false}};this.GU=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Venn"&&this.graphType!="Pie"&&!this.yW()){if(this.graphType=="Correlation"&&this.correlationAxis!="samples"){return false}if(this.data.x){return true}else{return false}}else{return false}};this.pa=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Venn"){if(this.graphType=="Correlation"&&this.correlationAxis!="variables"){return false}return true}else{return false}};this.P5=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&!this.s9()&&this.graphType!="Venn"&&this.graphType!="Pie"&&this.graphType!="Correlation"){return true}else{return false}};this.rf=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Venn"&&this.graphType!="Pie"&&this.graphType!="Correlation"&&this.graphType!="Circular"&&!this.yW()){return true}else{return false}};this.Vi=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Venn"&&this.graphType!="Pie"&&this.graphType!="Correlation"&&!this.yW()){return true}else{return false}};this.a3=function(){if(!this.s9()&&(this.smpDendrogramNewick||this.varDendrogramNewick)){return true}else{return false}};this.xS=function(){var b=["linear","exponential","logarithmic","power","polynomial","regression","normal","nonlinear","area","line","reg","nor","nlfit"];if(this.decorations){for(var a=0;a<b.length;a++){if(this.decorations[b[a]]){return true}}}else{return false}};this.WO=function(){if(this.graphType!="Network"&&this.graphType!="Genome"&&this.graphType!="Venn"&&this.graphType!="Pie"&&this.graphType!="Correlation"&&!this.yW()){return true}else{return false}};this.ty=function(){var e=["line"];var c=["","dashed","dotted","bezierY","bezierX","curved"];var a=["arrow","arrowHead","arrowTail","arrowHeadSquareTail","arrowTailSquareHead","square","squareHead","squareTail","squareHeadArrowTail","squareTailArrowHead"];for(var d=0;d<a.length;d++){e.push(a[d]+"Line")}for(var d=1;d<c.length;d++){for(var b=0;b<a.length;b++){e.push(c[d]+this.Y5(a[b])+"Line")}}return e};this.qd=function(c){var a=["circle","sphere","box","rect","rectangle","rect2","rect3","roundrect","brace","square","triangle","triangle2","equilateral","equilateral2","star","diamond","rhombus","pentagon","hexagon","octagon"];a=a.concat(["oval","oval2","oval3","arc","arc2","arc3","arch","path","polygon","roundpolygon","spline","hull","violin","confidence","bezier","ellipse","ellipse2","ellipse2","plus","minus"]);a=a.concat(["pie","pie0","pie1","pie2","pie3","pie4","pie5","pie6","pie7","pie8","pie9","pacman","pacman2","mdavid","image"]);a=a.concat(["pch0","pch1","pch2","pch3","pch4","pch5","pch6","pch7","pch8","pch9","pch10","pch11","pch12","pch13","pch14","pch15","pch16","pch17","pch18","pch19","pch20","pch21","pch22","pch23","pch24","pch25"]);for(var b=0;b<a.length;b++){if(a[b]==c){return true}}return false};this.PT=function(){var c=[];var d=["blue","red","green","yellow","cyan","purple","white","black"];for(var b=0;b<d.length;b++){c.push(d[b]);for(var a=0;a<d.length;a++){if(d[b]!=d[a]){c.push(d[b]+"-"+d[a])}}}return c};this.Ww=function(b,a){if(b.match(/^Bar$|^Line$|Boxplot|Dotplot/)){return a.match(/^Bar$|^Line$|Boxplot|Dotplot/)?true:false}else{return false}};this.PG=function(){return !this.graphType.match(/Scatter|Network|Venn|Genome|Circular|Correlation/)};this.lq=function(){return this.graphType.match(/BarLine|StackedLine|StackedPercentLine|AreaLine|DotLine/)};this.Xm=function(){return this.showHistogram&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0};this.qg=function(c,b,d){var a=d?"highlightVar":"highlightSmp";this.im(c,b,a)};this.S2=function(a){return this.l4(a?this.highlightVar:this.highlightSmp)};this.r0=function(g){if(this.KV()){return}var e=[];if(!this.tO(g)){for(var d=0;d<arguments.length;d++){e.push(this.TU(arguments[d]))}g=this.TU(e)}else{e=this.TU(g)}var b;var c=this;var a=e.shift();var f=this.TU(e);while(f.length>1){b=f.shift();if(!c[b]){c[b]={}}c=c[b]}b=f.shift();c[b]=b=="showLegend"?!c[b]:isNaN(a)?a:Number(a);this.x9({func:"modifyOverlaysProperties",par:[g]})};this.cd=function(b,a){this.im(b,a,"smpOverlays")};this.D4=function(b,a){this.im(b,a,"varOverlays")};this.jN=function(){return this.l4(this.smpOverlays)};this.J4=function(){return this.l4(this.varOverlays)};this.yg=function(){var b=[];if(this.data.x){for(var a in this.data.x){b.push(a)}}return b};this.bV=function(){var b=[];if(this.data.z){for(var a in this.data.z){b.push(a)}}return b};this.yR=function(){return this.yW()?this.bV():this.yg()};this.VZ=function(){return[].concat(this.yg()).concat(this.bV())};this.HA=function(){return this.graphType.match(/scatter/i)?this.Ma():this.getVariablesAsArray};this.Ma=function(){var d=this.J9();var b=[];for(var c=0;c<d.length;c++){b.push(d[c].name)}return b};this.mY=function(){var d=this.tD();var b=[];for(var c=0;c<d.length;c++){b.push(d[c].name)}return b};this.YR=function(a){return this.sZ("nodes",a)};this.th=function(a){return this.sZ("edges",a)};this.eH=function(c){for(var a in c){if(c[a]["t"]=="numeric"){var b=this.Nv(c[a]["o"]);if(b.length==2&&(c[a]["o"].hasOwnProperty("true")&&c[a]["o"].hasOwnProperty("false"))){c[a]["t"]="string"}else{if(b.length==1&&(c[a]["o"].hasOwnProperty("true")||c[a]["o"].hasOwnProperty("false"))){c[a]["t"]="string"}else{if(b.length==1&&c[a]["o"].hasOwnProperty("")){c[a]["t"]="string"}}}}}};this.GP=function(d,c,g,o,e){var z={smps:{indicesKey:"smpIndices",dataKey:"x"},vars:{indicesKey:"varIndices",dataKey:"z"}};var l=z[d];var m={};m[d]={data:{},type:"string",isDate:false};if(c){m[d].data=this.l4(this.data.y[d])}else{if(g=="vars"||g=="smps"){if(d=="smps"){for(var y=0;y<this.data.y.smps.length;y++){m[d].data[this.data.y.smps[y]]=false}}else{for(var y=0;y<this.data.y.vars.length;y++){m[d].data[this.data.y.vars[y]]=false}}}var f=this[l.indicesKey];for(var y=0;y<f.length;y++){var h=f[y];m[d].data[this.data.y[d][h]]=true}}if(o||e){if(this.tO(g)){for(var y=0;y<g.length;y++){var s=g[y];var h=o?this.tU(s):this.yV(s,true);if(h>-1){m[s]={data:{},type:"numeric",isDate:false};if(c){var a=this.meta.data.y.range[s];m[s].data={min:a.min,max:a.max}}else{var b=[];if(o){for(var x=0;x<this.smpIndices.length;x++){b.push(this.data.y.data[h][this.smpIndices[x]])}}else{for(var x=0;x<this.varIndices.length;x++){b.push(this.data.y.data[this.varIndices[x]][h])}}var n=this.cp(b);m[s].data={min:n[0],max:n[1]}}}}}else{var h=o?this.tU(g):this.yV(g,true);if(h>-1){m={};m[g]={data:{},type:"numeric"};if(c){var a=this.meta.data.y.range[g];m[g].data={min:a.min,max:a.max};m[g].isDate=a.date||false}else{var b=[];if(o){for(var y=0;y<this.smpIndices.length;y++){b.push(this.data.y.data[h][this.smpIndices[y]])}}else{for(var y=0;y<this.varIndices.length;y++){b.push(this.data.y.data[this.varIndices[y]][h])}}var n=this.cp(b);m[g].data={min:n[0],max:n[1]};m[g].isDate=this.uH(b)}}}}var k=this.data[l.dataKey];if(k){for(var q in k){if(g&&q!=g){continue}var r=this.meta.data[l.dataKey][q];m[q]={data:{},type:r.type.toLowerCase(),isDate:r.date||false};if(c){if(r.type=="Numeric"){m[q].type="numeric";m[q].data={min:r.rmin,max:r.rmax}}else{m[q].type="string";if(m[q].isDate){var A=[];for(var y=0;y<m[q].data.length;y++){A.push(new Date(m[q].data[y]).getTime())}var v=this.cp(A);m[q].isDate={min:v[0],max:v[1]}}else{var f=this[l.indicesKey];for(var y=0;y<f.length;y++){var u=this.Mk(f[y],l.dataKey,q,true);m[q].data[u]=true}var t={};if(t&&t[q]){for(var u in t[q].data){if(t[q].data[u]===false){m[q].data[u]=false}}}}}}else{var b=[];var f=this[l.indicesKey];for(var y=0;y<f.length;y++){var u=this.Mk(f[y],l.dataKey,q,true);if(r.date){b.push(new Date(u).getTime())}if(!m[q].data.hasOwnProperty(u)){m[q].data[u]=true}}var t={};if(t&&t[q]){for(var u in t[q].data){if(t[q].data[u]===false){m[q].data[u]=false}}}if(r.date){var n=this.cp(b);m[q].isDate={min:n[0],max:n[1]}}if(m[q].type=="numeric"){var w=[];for(var u in m[q].data){for(var y=0;y<m[q].data[u];y++){w.push(u)}}var p=this.cp(w);m[q].data={min:p[0],max:p[1]}}}}}return m};this.sZ=function(c,a){if(this.graphType=="Network"&&!this[c+"Data"]){this[c+"Data"]={};var d=this.meta.data[c];for(var b in d){if(d[b].type=="String"){this[c+"Data"][b]={data:d[b].order,type:d[b].type.toLowerCase()}}else{this[c+"Data"][b]={data:{min:d[b].rmin,max:d[b].rmax},type:d[b].type.toLowerCase()}}}}if(this.graphType=="Network"){return a?this[c+"Data"]:this.Nv(this[c+"Data"])}else{return false}};this.TX=function(l,m,p,h){var c={};c[l]={};var q={};q[l]={};var b=false;if(this.graphType=="Network"){for(var f=0;f<this.data[l].length;f++){var n=this.data[l][f];if(m||(!m&&!n.hide)){for(var k in n){if(typeof(n[k])!="object"){if(!q[l].hasOwnProperty(k)){q[l][k]={data:{},type:isNaN(n[k])?"string":"numeric"}}q[l][k].data[n[k]]=true}}}}if(b){for(var f=0;f<this.data[l].length;f++){var n=this.data[l][f];for(var k in n){if(b.hasOwnProperty(k)){for(var e in b[k].data){if(b[k].data[e]===false){q[l][k].data[e]=false}}}}}}for(var k in q[l]){this.eH(q[l][k]);if(q[l][k].type=="numeric"){var g=[];for(var d in q[l][k].data){g.push(d)}var a=this.cp(g);q[l][k].data={min:a[0],max:a[1]}}}return q[l]}};this.Ys=function(a){if(!this.featuresData){var h={};var d=["id","name","label","hideName","fill","outline","dir","showDir","connect","offset","data","subtype","quality","signalToNoise","coordinate","sequence","trace","gaps","translate","hide","counter"];for(var g=0;g<this.data.tracks.length;g++){var c=this.data.tracks[g];var b=c.data;for(var e=0;e<b.length;e++){var l=b[e];for(var k in l){if(!d.includes(k)){if(typeof(l[k])!="object"){if(h.hasOwnProperty(k)){if(h[k]["o"].hasOwnProperty(l[k])){h[k]["o"][l[k]]=true}if(isNaN(l[k])){h[k]["t"]="string"}}else{h[k]={o:{},t:isNaN(l[k])?"string":"numeric"};h[k]["o"][l[k]]=true}}}}}}this.featuresData=h}return a?this.featuresData:this.Nv(this.featuresData)};this.Uv=function(){return["","like","not like",">",">=","<","<=","==","null","not null"]};this.UJ=function(a){this.AK(a,1)};this.qu=function(a){this.AK(a,-1)};this.Jz=function(d,c){if(this.KV()){return}this.clusterAxis="samples";if(d||!this.smpDendrogramNewick){this.smpDendrogramNewick=this.g3()}if(this.layoutValid&&!this.isDOE){var e=this.TU(this.smpDendrogram);var f=this.TU(this.varIndices);var a=this.TU(this.smpIndices);for(var b=0;b<this.data.l.weight.length;b++){if(!this.data.l.cluster[b]){this.data.l.cluster[b]={}}if(this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0){if(!this.data.l.cluster[b].smpDendrogram||this.data.l.cluster[b].smpDendrogram.leafs!=this.data.l.comp[b][1].length){this.varIndices=this.data.l.comp[b][0];this.smpIndices=this.data.l.comp[b][1];this.data.l.cluster[b].smpDendrogramNewick=this.g3()}}else{if(this.segregateSamplesBy.length>0){if(!this.data.l.cluster[b].smpDendrogram||this.data.l.cluster[b].smpDendrogram.leafs!=this.data.l.comp[b].length){this.smpIndices=this.data.l.comp[b];this.data.l.cluster[b].smpDendrogramNewick=this.g3()}}else{if(this.segregateVariablesBy.length>0){this.data.l.cluster[b].smpDendrogramNewick=this.smpDendrogramNewick}}}this.NC(this.data.l.cluster[b].smpDendrogramNewick,"smpDendrogram");this.data.l.cluster[b].smpDendrogram=this.smpDendrogram}this.varIndices=f;this.smpIndices=a;this.smpDendrogram=e}if(!c){this.x9({func:"clusterSamples",par:[d,c]})}};this.bW=function(e,d){if(this.KV()){return}this.clusterAxis="variables";if(e||!this.varDendrogramNewick){this.varDendrogramNewick=this.g3()}if(this.layoutValid&&!this.isDOE){var b=this.TU(this.varDendrogram);var f=this.TU(this.varIndices);var a=this.TU(this.smpIndices);for(var c=0;c<this.data.l.weight.length;c++){if(!this.data.l.cluster[c]){this.data.l.cluster[c]={}}if(this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0){if(!this.data.l.cluster[c].varDendrogram||this.data.l.cluster[c].varDendrogram.leafs!=this.data.l.comp[c][0].length){this.varIndices=this.data.l.comp[c][0];this.smpIndices=this.data.l.comp[c][1];this.data.l.cluster[c].varDendrogramNewick=this.g3()}}else{if(this.segregateVariablesBy.length>0){if(!this.data.l.cluster[c].varDendrogram||this.data.l.cluster[c].varDendrogram.leafs!=this.data.l.comp[c].length){this.varIndices=this.data.l.comp[c];this.data.l.cluster[c].varDendrogramNewick=this.g3()}}else{if(this.segregateSamplesBy.length>0){this.data.l.cluster[c].varDendrogramNewick=this.varDendrogramNewick}}}this.NC(this.data.l.cluster[c].varDendrogramNewick,"varDendrogram");this.data.l.cluster[c].varDendrogram=this.varDendrogram}this.varIndices=f;this.smpIndices=a;this.varDendrogram=b}if(!d){this.x9({func:"clusterVariables",par:[e,d]})}};this.qH=function(e,d){if(this.KV()){return}this.clusterAxis="samples";if(!this.data.x){this.data.x={}}if(e||!this.data.x["k-Means-S"]){var a=this.Dn();this.data.x["k-Means-S"]=[];for(var b=0;b<this.smpIndices.length;b++){var c=this.smpIndices[b];this.data.x["k-Means-S"][c]=a[b]}if(!this.smpOverlays.includes("k-Means-S")){this.smpOverlays.push("k-Means-S")}this.wD("x","k-Means-S",false,true);this.BF("cat","smp","k-Means-S",true)}if(!d){this.x9({func:"kmeansSamples",par:[e,d]})}};this.CI=function(e,d){if(this.KV()){return}this.clusterAxis="variables";if(!this.data.z){this.data.z={}}if(e||!this.data.z["k-Means-V"]){var a=this.Dn();this.data.z["k-Means-V"]=[];for(var b=0;b<this.varIndices.length;b++){var c=this.varIndices[b];this.data.z["k-Means-V"][c]=a[b]}if(!this.varOverlays.includes("k-Means-V")){this.varOverlays.push("k-Means-V")}this.wD("z","k-Means-V",false,true);this.BF("cat","var","k-Means-V",true)}if(!d){this.x9({func:"kmeansVariables",par:[e,d]})}};this.Z0=function(e,c,h,g){if(this.graphType=="Circular"&&this.circularType=="bubble"){var d=this.data.bubble.root.children;for(var f=0;f<d.length;f++){var a=d[f];if(a.data.name==e){a.label.x+=c;a.label.y+=h;if(!g){this.x9({func:"modifyLabelCoordinates",par:[e,c,h,g]})}else{this.JW({func:"modifyLabelCoordinates",par:[e,c,h,g]})}return}}}};this.Pi=function(){return this.layoutValid&&this.layoutType=="wrap"};this.mE=function(){return this.layoutValid&&this.layoutCollapse};this.Zt=function(){return this.layoutValid&&this.layoutCollapse&&this.layoutAdjust};this.qn=function(){return this.segregateVariablesBy.length||this.segregateSamplesBy.length};this.Qc=function(){return this.graphOrientation=="vertical"};this.Ir=function(){return this.graphOrientation=="horizontal"};this.IE=function(){return this.graphType.match(/Area|ParallelCoordinates/)};this.s9=function(){return this.graphType=="Heatmap"};this.ek=function(){return this.graphType=="Heatmap"&&this.heatmapType=="split"&&this.heatmapSplits.length};this.Pt=function(){if(this.ek()){var b=["data2","data3","data4","data5","data6"];for(var a=0;a<b.length;a++){if(this.data.y[b[a]]&&this.colorSpectrumByObject.hasOwnProperty(b[a])){return true}}return false}else{return false}};this.yW=function(){return this.graphType.match(/Scatter/)}};CanvasXpress.prototype.initDimensionUtils=function(){this.Hr=function(a,o,e){var c=this.margin;var j=this.meta.canvas.canvasPixelRatio;if(a||o||e){if(o||e){if(o){this.width=o;this.originalWidth=o}if(e){this.height=e;this.originalHeight=e}}else{if(a){this.width=this.originalWidth;this.height=this.originalHeight}}this.top=c+this.SP();this.left=c;this.right=c;this.bottom=c;this.se()}if(!this.isSVG){this.meta.canvas.ctx.canvas.width=this.width*j;this.meta.canvas.ctx.canvas.height=this.height*j;this.meta.canvas.ctx.canvas.style.width=this.width+"px";this.meta.canvas.ctx.canvas.style.height=this.height+"px";this.meta.canvas.ctx2.canvas.width=this.width*j;this.meta.canvas.ctx2.canvas.height=this.height*j;this.meta.canvas.ctx2.canvas.style.width=this.width+"px";this.meta.canvas.ctx2.canvas.style.height=this.height+"px";this.meta.canvas.ctx.resetRender();this.meta.canvas.ctx2.resetRender();this.a2(j,j,this.meta.canvas.ctx);this.a2(j,j,this.meta.canvas.ctx2)}if(this.useLeaflet){return}if(this.graphType=="Scatter2D"&&this.scatterType=="visium"){this.backgroundType="panelImage"}this.To({p:["disableGradientTransparencyShadow"],t:"Size"});if(this.backgroundType=="image"){if(this.graphType=="Network"){var n=this.scaleFactorX||1;var l=this.scaleFactorY||1;var b=this.offsetX*n;var q=this.offsetY*l;var k=this.maxX?this.maxX*n:this.maxX;var d=this.maxY?this.maxY*l:this.maxY;var p=this.colorNodeBy||(this.decorations.length&&this.showDecorations)?"b&w":false;CanvasXpress.system.isRStudio=this.DU()&&this.isR?true:false;if(CanvasXpress.system.isRStudio){this.To({p:["drawShape","image",(k/2)+b,(d/2)+q,k,d,false,false,false,false,false,false,false,false,false,this.backgroundImage],t:"Size"})}else{this.VJ(CanvasXpress.cacheImages[this.KU(this.backgroundImage)],0,0,this.maxX,this.maxY,b,q,k,d,p)}}else{this.To({p:["drawShape","image",this.width/2,this.height/2,this.width,this.height,false,false,false,false,false,false,false,false,false,this.backgroundImage],t:"Size"})}}else{if(this.backgroundType=="panelImage"){if(this.graphType=="Network"){this.To({p:["drawShape","image",this.left+(this.x/2),this.top+(this.y/2),this.x,this.y,false,false,false,false,false,false,false,false,false,this.backgroundImage],t:"Size"})}}else{if(this.backgroundType=="solid"||this.backgroundType=="panel"||this.backgroundType=="panelSolidGradient"){this.To({p:["drawShape","rectangle",0+(this.width/2),0+(this.height/2),this.width,this.height,this.plotBackgroundColor,this.plotBackgroundBorderColor],t:"Size"})}else{var i=this.dX(0,0,this.gradientOrientation=="vertical"?0:this.height,this.gradientOrientation=="vertical"?this.height:0);this.To({p:["drawShape","rectangle",0+(this.width/2),0+(this.height/2),this.width,this.height,i,i],t:"Size"})}}}this.To({p:["enableGradientTransparencyShadow"],t:"Size"})};this.d7=function(){return this.marginLeft+this.left+this.x+this.right+this.marginRight};this.EQ=function(){return this.marginTop+this.top+this.y+this.bottom+this.marginBottom};this.setDimensions=function(a,b){if(this.KV()){return}if(!this.resizable){return}if(a<5||b<5){return}if(!a||!this.resizableX){a=this.width}if(!b||!this.resizableY){b=this.height}var d=this.meta.canvas.ctx.canvas;a=d.originalWidth=parseInt(a);b=d.originalHeight=parseInt(b);if(!this.reproducing){this.Io(true)}if(this.graphType=="Network"){this.scaleFactorX=null;this.scaleFactorY=null}if(this.graphType=="Sankey"){this.fH()}this.x9({width:a,height:b,func:"setDimensions",par:[a,b]})};this.xO=function(){var a=this.margin;var b=this.meta.canvas.ctx.canvas;if(b.width){this.originalWidth=b.width;this.width=b.width}else{if(this.width){this.originalWidth=this.width;b.width=this.width}else{this.width=600;this.originalWidth=this.width;b.width=this.width}}if(b.height){this.originalHeight=b.height;this.height=b.height}else{if(this.height){this.originalHeight=this.height;b.height=this.height}else{this.height=600;this.originalHeight=this.height;b.height=this.height}}this.top=a+this.SP();this.left=a;this.right=a;this.bottom=a;this.x=this.width-(this.leftMargin+this.left+this.rightMargin+this.right);this.y=this.height-(this.topMargin+this.top+this.bottomMargin+this.bottom)}};CanvasXpress.prototype.initUtils=function(){this.initGeneralUtils();this.initPlotUtils();this.initConfigUtils();this.init3dUtils();this.initApiUtils();this.initDimensionUtils()};CanvasXpress.prototype.initLegendUtils=function(){this.Ac=function(){var m=["top","bottom","right","left"];var l=this.legendPosition;var a=this.graphType;var e=this.decorationsPosition;var h=this.overlaysLegendPosition;var c=this.legendInside;var j=this.layoutValid;var d=l?l.toLowerCase():null;var k=d&&m.includes(d);var g=e==="right"||e==="bottom";if(!c){if(!g&&a!=="Network"){this.decorationsPosition="bottom"}if(l&&!k&&a!=="Pie"){this.legendPosition="right";k=true}}if(a==="Pie"&&j){this.legendPosition="right";k=true}if(!h){this.overlaysLegendPosition="topRight"}if(j&&!this.gU("legendPosition")){var b=this.meta.config.orig;b.insideLegend=this.insideLegend;this.insideLegend=false;var i=l?l.toLowerCase():null;var f=i&&m.includes(i);if(l&&!f){b.legendPosition=l;this.legendPosition="right"}}};this.Cr=function(){if(this.autoScaleFont){var b=this.layoutComb;var a=(1-this.percentAspectRatioPlotArea);var e=b&&this.isDOE?this.layoutWidth:this.width;var d=b&&this.isDOE?this.layoutHeight:this.height;var c=this.lJ(e*a,d*a);this.gV(c,"legendTextFont");this.gV(c,"legendTitleFont")}else{this.legendTextFont=this.legendTextFontStyle+" "+parseInt(this.legendTextFontSize)+"px "+this.fontName;this.legendTitleFont=this.legendTitleFontStyle+" "+parseInt(this.legendTitleFontSize)+"px "+this.fontName}};this.K9=function(o,b,l,m,n,c){var d="solid";var j=c?this.showDecorationsBorder:this.showLegendBorder;var a=!j?"solid":c?this.decorationsBackgroundBorderLineType:this.legendBackgroundBorderLineType;var i=this.useRoundRectangles||a=="spline"?"roundrect":a.match(/rect|solid/)?"rectangle":a+"Rectangle";var p=c?this.decorationsBackgroundColor:this.legendBackgroundColor;var e=!j?"rgba(255,255,255,0)":c?this.decorationsBackgroundBorderColor:this.legendBackgroundBorderColor;var h=!j?0:c?this.decorationsBackgroundBorderSize:this.legendBackgroundBorderSize;var k=[0,0,this.width,this.height];var g=o+(l/2)-this.margin;var f=b+(m/2);this.ra();this.To({p:["drawShape",i,g,f,l,m,p,e,d,false,h,true,k],i:[-1],m:n,t:"Legends"});this.cq()};this.Gy=function(a,d,b,i,f,h,e){this.K9(a,d,b,i,h,e);if(f&&this.showLegendTitle){var j=this.rk(this.legendTitleFont);var g=j/2;var c=this.legendTitleAlign=="center"?0:this.legendTitleAlign=="left"?-b/2:b/2;d+=this.legendTitleMargin+g;this.To({p:["drawText",f,a+(b/2)+c,d,this.legendTitleFont,this.legendTitleColor,this.legendTitleAlign,"middle"],t:"Legends"})}};this.IZ=function(b,k,d,g,h,c,a,f,j,i,e){return this.To({p:["drawShape",d,b,k,g,g,h,c,a,false,f],i:j,g:i,t:"Legends",h:e})};this.lI=function(d,k,f,h,g,e,j,i,c){var b=d-(h/1.1);var a=d+(h/1.1);return this.To({p:["drawLine",f,b,k,a,k,g,e],i:j,g:i,t:"Legends",h:c})};this.re=function(b,j,e,k,c,d,i,h,a){var g=j-(k/1.1);var f=j+(k/1.1);return this.To({p:["drawLine",e,b,g,b,f,c,d],i:i,g:h,t:"Legends",h:a})};this.Du=function(f,a,h,c,b,g,e,d){return this.To({p:["drawText",h,f,a,c,b,"left","middle"],i:g,g:e,t:"Legends",h:d})};this.w8=function(d,q,g,l,k,f,c,j,m,e,p,o,a){var b=this.legendTextMargin;var n=Math.max(l||0,Math.ceil(this.rk(this.legendTextFont)))+b;var i=Math.ceil(n/2);var h;if(this.isDataLabelsBackgroundColor){h=this.IZ(d,q,"rectangle",n,k,this.dataTextColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(p)?p:["legend-key-"+p],o,a)}else{h=this.IZ(d,q,"rectangle",n,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(p)?p:["legend-key-"+p],o,a)}if(!o){o=h}if(this.isDataLabelsBackgroundColor){this.To({p:["drawText","a",d,q,this.legendTextFont,this.dataTextColor,"center","middle"],i:this.tO(p)?p:["legend-letter-"+p],g:o,t:"Legends",h:a})}else{this.To({p:["drawText","a",d,q,this.legendTextFont,k,"center","middle"],i:this.tO(p)?p:["legend-letter-"+p],g:o,t:"Legends",h:a})}this.Du(d+i+b,q,e,this.legendTextFont,this.legendTextColor,this.tO(p)?p:["legend-text-"+p],o,a)};this.n9=function(m,n,r,h,l,a,k,o,d,g,f,i,e){var s=this.legendTextMargin;var q=Math.max(h||0,Math.ceil(this.rk(this.legendTextFont)))+s-2;var b=Math.ceil(q/2);var p=Math.ceil(q*0.5);var c=this.legendKeyBackgroundBorderLineType=="solid"?"rectangle":this.legendKeyBackgroundBorderLineType+"Rectangle";var j=this.IZ(m,n,c,q,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(f)?f:["legend-key-"+f],i,e);if(!i){i=j}this.IZ(m,n,r,p,l,a,k,1,this.tO(f)?f:["legend-shape-"+f],i,e);this.Du(m+b+s,n,g,this.legendTextFont,this.legendTextColor,this.tO(f)?f:["legend-text-"+f],i,e)};this.R4=function(m,n,r,j,l,a,k,o,c,g,f,h,e){var s=this.legendTextMargin;var p=Math.ceil(j[0]);var d=j[1];var q=Math.max(d,Math.ceil(this.rk(this.legendTextFont)))+s;var b=Math.ceil(q/2);var i=this.IZ(m,n,"rectangle",q,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(f)?f:["legend-key-"+f],h,e);if(!h){h=i}this.IZ(m,n,r,p,l,a,k,1,this.tO(f)?f:["legend-shape-"+f],h,e);this.Du(m+b+s,n,g,this.legendTextFont,this.legendTextColor,this.tO(f)?f:["legend-text-"+f],h,e)};this.Fj=function(p,r,d,k,q,a,m,s,c,h,f,i,e){var u=this.legendTextMargin;var n=k[0];var g=k[1];var t=Math.max(g,Math.ceil(this.rk(this.legendTextFont)))+u;var b=Math.ceil(t/2);var j=this.IZ(p,r,"rectangle",t,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(f)?f:["legend-key-"+f],i,e);if(!i){i=j}var l=parseInt((this.cL(n,g,d)/10)+14);var o=" "+l+"px "+this.fontName;this.To({p:["drawText","a",p,r,o,this.foreground,"center","middle"],i:this.tO(f)?f:["legend-letter-"+f],g:i,t:"Legends",h:e});this.Du(p+b+u,r,h,this.legendTextFont,this.legendTextColor,this.tO(f)?f:["legend-text-"+f],i,e)};this.mI=function(m,n,s,g,l,a,k,o,c,f,e,h,d,t){var u=this.legendTextMargin;var r=Math.max(g||0,Math.ceil(this.rk(this.legendTextFont)))+u;var b=Math.ceil(r/2);var p=Math.ceil(r*0.6);var q=Math.ceil(p*0.5);var j=(isNaN(a)||!a)?1.5:a;var i=this.IZ(m,n,"rectangle",r,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(e)?e:["legend-key-"+e],h,d);if(!h){h=i}this.lI(m,n,o,q,c,j,this.tO(e)?e:["legend-line-"+e],h,d);if(t){this.re(m,n,o,q,c,j,this.tO(e)?e:["legend-line-"+e],h,d)}this.Du(m+b+u,n,f,this.legendTextFont,this.legendTextColor,this.tO(e)?e:["legend-text-"+e],h,d)};this.Or=function(m,n,h,g,l,a,k,o,c,f,e,i,d){var s=this.legendTextMargin;var r=Math.max(g||0,Math.ceil(this.rk(this.legendTextFont)))+s;var b=Math.ceil(r/2);var p=Math.ceil(r*0.6);var q=Math.ceil(p*0.5);var j=this.IZ(m,n,"rectangle",r,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(e)?e:["legend-key-"+e],i,d);if(!i){i=j}this.lI(m,n,o,q,c,h,this.tO(e)?e:["legend-line-"+e],i,d);this.Du(m+b+s,n,f,this.legendTextFont,this.legendTextColor,this.tO(e)?e:["legend-text-"+e],i,d)};this.LX=function(m,o,r,h,l,a,k,p,c,g,f,i,e){var s=this.legendTextMargin;var q=Math.max(h||0,Math.ceil(this.rk(this.legendTextFont)))+s;var b=Math.ceil(q/2);var d=Math.ceil(q*0.3);var n=Math.ceil(b*0.8);var j=this.IZ(m,o,"rectangle",q,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(f)?f:["legend-key-"+f],i,e);if(!i){i=j}this.IZ(m,o,r,d,l,a,k,1,this.tO(f)?f:["legend-shape-"+f],i,e);this.lI(m,o,p,n,c,2.5,this.tO(f)?f:["legend-line-"+f],i,e);this.Du(m+b+s,o,g,this.legendTextFont,this.legendTextColor,this.tO(f)?f:["legend-text-"+f],i,e)};this.lT=function(o,q,v,j,e,b,p,r,d,h,g,k,f){var x=this.legendTextMargin;var t=Math.max(j||0,Math.ceil(this.rk(this.legendTextFont)))+x;var c=Math.ceil(t/2);var m=Math.ceil(t*0.75);var i=Math.ceil(t*0.4);var s=Math.ceil(m*0.6);var a=Math.ceil(m*0.5);var u=p||"solid";var w=this.plotStyle=="ggplotSwitched"?e:b;var n=this.plotStyle=="ggplotSwitched"?b:e;var l=this.IZ(o,q,"rectangle",t,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(g)?g:["legend-key-"+g],k,f);if(!k){k=l}this.To({p:["drawLine",u,o,q-s,o,q+s,w,1],i:this.tO(g)?g:["legend-vline-"+g],g:k,t:"Legends",h:f});this.To({p:["drawShape","rectangle",o,q,m,i,n,w,p,false,1],i:this.tO(g)?g:["legend-shape-"+g],g:k,t:"Legends",h:f});this.lI(o,q,u,a*1.1,w,1,this.tO(g)?g:["legend-hline-"+g],k,f);this.Du(o+c+x,q,h,this.legendTextFont,this.legendTextColor,this.tO(g)?g:["legend-text-"+g],k,f)};this.gC=function(n,p,t,i,k,b,e,q,o,g,f,j,c){var u=this.legendTextMargin;var r=Math.max(i||0,Math.ceil(this.rk(this.legendTextFont)))+u;var a=Math.ceil(r/2);var h=Math.ceil(r*0.75);var m=Math.ceil(h*0.35);var d=this.b9(k,0.5);var s=e||"solid";var l=this.IZ(n,p,"rectangle",r,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(f)?f:["legend-key-"+f],j,c);if(!j){j=l}this.IZ(n,p,"rectangle",h,d,d,e,1,this.tO(f)?f:["legend-shape-"+f],j,c);if(this.isKM){b=this.pP(b);this.lI(n,p,q,m,b,1.5,this.tO(f)?f:["legend-line-"+f],j,c);this.re(n,p,q,m,b,1.5,this.tO(f)?f:["legend-line-"+f],j,c)}else{if(this.showScatterLineOriginalData){this.IZ(n,p,t,m,k,b,e,1,this.tO(f)?f:["legend-shape-"+f],j,c)}this.lI(n,p,q,m,b,1.5,this.tO(f)?f:["legend-line-"+f],j,c)}this.Du(n+a+u,p,g,this.legendTextFont,this.legendTextColor,this.tO(f)?f:["legend-text-"+f],j,c)};this.mc=function(v,x,B,m,u,b,f,y,k,l,i,n,g){var C=this.legendTextMargin;var z=Math.max(m||0,Math.ceil(this.rk(this.legendTextFont)))+C;var a=Math.ceil(z/2);var s=Math.ceil(z*0.75);var w=Math.ceil(s*0.5);var t=Math.ceil(z*0.3);var c=t*0.7;var A=f||"solid";var o=this.Qc();var p=this.IZ(v,x,"rectangle",z,this.legendKeyBackgroundColor,this.legendKeyBackgroundBorderColor,"closed",this.legendKeyBackgroundBorderSize,this.tO(i)?i:["legend-key-"+i],n,g);if(!n){n=p}var e,r,d,q,j,h;if(o){e=v;r=x-w;d=v;q=x+w;j=v;h=x-c}else{e=v-w;r=x;d=v+w;q=x;j=v+w-(t*0.3);h=x}this.To({p:["drawLine",A,e,r,d,q,b,1.5],i:this.tO(i)?i:["legend-line-"+i],g:n,t:"Legends",h:g});this.To({p:["drawShape","circle",j,h,t,t,u,b,f,false,1],i:this.tO(i)?i:["legend-shape-"+i],g:n,t:"Legends",h:g});this.Du(v+a+C,x,l,this.legendTextFont,this.legendTextColor,this.tO(i)?i:["legend-text-"+i],n,g)};this.QF=function(e,q,h,l,b,g,d,k,m,f,p,o,a){var c=this.legendTextMargin;var n=Math.max(l||0,Math.ceil(this.rk(this.legendTextFont)))+c;var j=Math.ceil(n/2);var i=this.IZ(e,q,"rectangle",n,b,g,d,1,this.tO(p)?p:["legend-shape-"+p],o,a);if(!o){o=i}this.Du(e+j+c,q,f,this.legendTextFont,this.legendTextColor,this.tO(p)?p:["legend-text-"+p],o,a)};this.AI=function(){var d=Math.min(this.width,this.height);var a=this.isCxplot?25:25;var c=d*a/833;var e=Number(Math.max(0.5,c).toFixed(1))*this.legendTextScaleFontFactor;var b=Number(Math.max(0.5,d*this.legendKeySize/833).toFixed(1));return Math.max(b,e)};this.K7=function(f){var p=this.legend;var a=this.legendTitleMargin;var g=this.legendTextMargin;var c=f.text.length;var j=this.AI();var l=f.size;if(l){for(var e=0;e<l.length;e++){if(l[e]){j=Math.max(j,l[e])}}}var o=this.pb(f.title&&this.showLegendTitle?f.title:"",this.legendTitleFont)+(a*2);var b=this.pb(this.pQ(f.text),this.legendTextFont);var n=this.rk(this.legendTextFont);var h=this.rk(this.legendTitleFont);var r=this.legendColumns>c?c:this.legendColumns;var d=Math.ceil(c/r);var q=Math.max(o,((b+j+(g*2))*r)+(g*2))+this.margin;var k=(d*(Math.max(j,n)+g))+g;var m=f.title&&this.showLegendTitle?k+h+(a*2):k;if(!p[f.id]){p[f.id]={}}p[f.id].columns=r;p[f.id].meta=f;p[f.id].width=q;p[f.id].height=m};this.pq=function(t,q,u,x){var k=this;var b=this.legend;var a=function(D){var C=k.meta.ggplot;var i=D+"LegendTitle";if(C&&C.labels&&C.labels[i]){return C.labels[i]}else{return k[D+"By"]}};var p=x||0;var s=3;if(p>s){return}var d=this.tx(t)+"By";var y=this["show"+this.Y5(t)+"Legend"]||this.graphType==="Network";var c=t==="sample";var l=this.legendStyleGgplot?false:t.match(/size/i)&&!this.sizeByContinuous;if((this[d]&&y)||c){if(this.legendCombine&&this.legendCombine.indexOf(d)>0){return}var A,z,h;var w=this.meta.data;if(q){A=a(t);if(u.type==="Numeric"&&t.match(/shape/i)&&!this.shapeByContinuous||l){z=" "+q+" - "+q+" ";if(u){u.maxLevStrMod=z;u.isRange=true}}else{z=q}h=u.sizes?u.sizes:this.sizes}else{if(this.data.x&&this.data.x.hasOwnProperty(this[d])){A=a(t);z=w.x[this[d]].maxLevStrMod||w.x[this[d]].maxLevStr;h=w.x[this[d]].sizes||this.sizes}else{if(this.data.z&&this.data.z.hasOwnProperty(this[d])){A=a(t);z=w.z[this[d]].maxLevStrMod||w.z[this[d]].maxLevStr;h=w.z[this[d]].sizes||this.sizes}else{if(d.match("Node")){A=this[d];z=w.nodes[this[d]].maxLevStr;h=w.nodes[this[d]].sizes||this.sizes}else{if(d.match("Edge")){A=this[d];z=w.edges[this[d]].maxLevStr;h=w.edges[this[d]].sizes||this.sizes}else{A=0;z=0;h=this.sizes}}}}}var f=this.AI();if(t==="size"||t==="sizeNode"||t==="sizeLabel"){for(var v=0;v<b[t].n;v++){if(h[v]){f=Math.max(f,h[v])}}}else{if(t==="sample"){A=0;z=this.legend.sample.maxStr}}if(z.length>this.maxTextSize){z=z.substring(0,this.maxTextSize-3)+"..."}var r=this.rk(this.legendTextFont);var n=this.rk(this.legendTitleFont);var e=this.legendColumns;var o=b[(t==="outline"?"color":t)].n;var m=e>o?o:e;var g=Math.ceil(o/m);var j=this.showLegendTitle?this.pb(A,this.legendTitleFont):0;var B=((this.pb(String(z),this.legendTextFont)+Math.max(f,r)+this.legendTextMargin*3)*m)+(this.legendTextMargin*2)+this.margin;b[(t==="outline"?"color":t)].columns=m;b[(t==="outline"?"color":t)].width=Math.max(j,B);b[(t==="outline"?"color":t)].height=(g*(Math.max(f,r)+this.legendTextMargin))+this.legendTextMargin+(c?0:(this.showLegendTitle?n+this.legendTitleMargin:0));if(this.graphType==="Map"&&this.mapProjection==="orthographic"){b[(t==="outline"?"color":t)].width=0;b[(t==="outline"?"color":t)].height=0}else{if(b[(t==="outline"?"color":t)].height>this.height){this.legendColumns++;b[(t==="outline"?"color":t)].columns++;this.maxTextSize=Math.max(10,this.maxTextSize-5);this.pq(t,q,u,p+1)}else{if(b[(t==="outline"?"color":t)].width>this.width&&b[(t==="outline"?"color":t)].columns>1){this.legendColumns--;b[(t==="outline"?"color":t)].columns--;this.maxTextSize=Math.max(10,this.maxTextSize-5);this.pq(t,q,u,p+1)}}}}};this.rB=function(i,b){var g=this.legend;var a=this.tx(i)+"By";var j=0;var h=0;var f=this.rk(this.legendTextFont);var e=this.rk(this.legendTitleFont);if(this[a]||i=="decoration"||i=="contour"||i=="bin2d"){switch(i){case"color":case"colorNode":case"colorEdge":case"outline":case"decoration":case"contour":case"bin2d":var d=this.showLegendTitle?this.pb(this.colorBy||this.outlineBy||this.colorNodeBy||this.colorEdgeBy||"",this.legendTitleFont):0;var c=b.maxLevLen+(this.legendTextMargin*3);if(this.legendPosition.match(/top|bottom/)&&this.graphType!="Scatter2D"){h=(this.showLegendTitle?(e+(this.legendTitleMargin*2)):0)+this.heatmapIndicatorHeight+(this.legendTextMargin*2);j=this.heatmapIndicatorWidth+Math.max(d,c*2)}else{h=this.heatmapIndicatorWidth+(this.legendTextMargin*2)+(this.showLegendTitle?e+(this.legendTitleMargin*2):0);j=Math.max((this.heatmapIndicatorHeight+c+(this.legendTextMargin*3)),d)}break;case"shape":case"shapeNode":case"shapeEdge":case"size":case"sizeNode":case"sizeEdge":this.pq(i,b.maxLevStr,b);return;case"pattern":case"patternNode":case"patternEdge":j=0;h=0;break}}g[(i=="outline"?"color":i)].width=j;g[(i=="outline"?"color":i)].height=h};this.cO=function(){var h=this.legend.decoration;var v=this.decorations;h.width=0;h.height=0;h.maxLabel=0;h.columns=this.legendColumns;if(this.showDecorations&&this.showDecorationsLegend&&v){if(!this.legendInside){if(this.decorationsPosition!="right"&&this.decorationsPosition!="bottom"&&this.graphType!="Network"){this.decorationsPosition="bottom"}}var e=this.rk(this.decorationsTextFont);var d=["nlfit","reg","nor","area"];var b=[96,45,30,0,0,0,0];var p=[5,2,1,0,0,0,0];var c=0;for(var r=0;r<d.length;r++){var f=d[r];if(v[f]){var u=p[r];var n=b[r];var g=u?this.pb(this.vy("%"+n+"s","X"),this.decorationsTextFont)+(this.decorationsTextMargin*u)+this.decorationsTextMargin:0;var t=0;for(var o=0;o<v[f].length;o++){var k=v[f][o];var l=this.pb(k.label,this.decorationsTextFont);t=Math.max(l,t);h.maxLabel=Math.max(t,h.maxLabel)}c=Math.max(c,this.decorationsTextMargin+t+this.decorationsTextMargin+g);h.height=(v[f].length*(e+this.decorationsTextMargin))+e+this.decorationsTextMargin}}if(this.graphType=="Map"&&v&&v.pie&&v.pie[0]&&v.pie[0].smps&&v.pie[0].smps.length){var m=0;var a=this.rk(this.decorationsTextFont);for(var r=0;r<v.pie[0].smps.length;r++){var s=v.pie[0].smps[r];var q=this.pb(s,this.decorationsTextFont);m=Math.max(q,m);h.maxLabel=Math.max(m,h.maxLabel)}c=Math.max(c,(m+(this.decorationsTextMargin*3)+(a*2))*Math.min(v.pie[0].smps.length,h.columns));h.height+=(Math.ceil(v.pie[0].smps.length/Math.min(v.pie[0].smps.length,h.columns))*a*1.5)+(this.decorationsTextMargin*2)}h.width=c}};this.Cs=function(){var b=this.legend.oncoprint;b.width=0;b.height=0;b.colors={};if(this.isOncoprint){var m=this.TU(this.meta.data[this.oncoprintCNA].levels);var c=this.TU(this.meta.data[this.oncoprintCNA].colors);var j=[];m.push("No Alteration");c.push("rgb(220,220,220");for(var f=0;f<m.length;f++){j.push("CNA")}var k=m.length;if(this.oncoprintMUT){m=m.concat(this.TU(this.meta.data[this.oncoprintMUT].levels));c=c.concat(this.TU(this.meta.data[this.oncoprintMUT].colors));for(var f=k;f<m.length;f++){j.push("MUT")}}var g=[];var n=[];for(var f=0;f<m.length;f++){if(m[f]){g.push(m[f]);n.push(j[f]);b.colors[m[f]]=c[f];if(c[f]=="rgb(220,220,220"){this.legend.oncoprintMutations=g.length}}}var e=this.pQ(g,this.legendTextFont);var a=this.pb(e,this.legendTextFont);var h=Math.ceil(a+5+(this.margin*8));var l=Math.floor(this.width/h);var d=Math.ceil(g.length/l);b.width=h*l;b.height=((21+this.margin)*d)+this.margin;b.rows=d;b.cols=l;b.labels=g;b.objects=n}};this.jw=function(f,d,c){var g;var b=f.s?f.s.density:false;var e=this.smpIndices;var a=this.maxSmpStringLen;if((b.hasOwnProperty("Samples")&&!this.segregateSamplesBy.length)||this.segregateVariablesBy.length){c.maxStr=this.Aj(f.y.maxSmpStr,a);g=e.length}else{if(f.z&&f.z[d]){c.maxStr=this.Aj(f.z[d].maxLevStr,a);g=b.layout[0].length}else{c.maxStr=this.Aj(f.y.maxSmpStr,a);g=e.length}}return g};this.gY=function(g,f,e,a){var j;var c=g.s?g.s.density:false;var d=this.maxSmpStringLen;if(c.hasOwnProperty("Factor")){var h=this.Nv(c.Factor);if(f&&f!==true){h.push(f);if(this.colorLegendTitle){e.title=f}a++}if(this.smpIndices.length==1){e.maxStr=this.Aj(this.pQ(h),d)}else{h=[];for(var b=0;b<c.Global.sets.length;b++){h.push(c.Global.sets[b].name.replace(/^Factor:/,""))}e.maxStr=this.Aj(this.pQ(h),d)}j=h.length-a}else{if(c.hasOwnProperty("Samples")){e.maxStr=this.Aj(g.y.maxSmpStr,d);j=this.smpIndices.length}else{if(c.hasOwnProperty("Variables")){e.maxStr=this.Aj(g.y.maxVarStr,d);j=this.varIndices.length}}}return j};this.sQ=function(){var a=this.legend.sample;var k=this.meta.data;var r=this.xAxisIndices;var w=this.yAxisIndices;var p=this.showHistogram;var d=this.maxSmpStringLen;a.width=0;a.height=0;a.columns=this.legendColumns;a.maxStr="";a.maxStrLen=0;a.title=false;a.n=1;var n=this.AI();var l=Math.max(n,this.rk(this.legendTextFont));var o=this.rk(this.legendTitleFont);var f=k.s?k.s.density:false;var s=0;var e=0;var t=0;var g=(this.ridgeBy&&this.data.y.smps.length===1);var y=(p&&this.histogramAsDotplot);var v=(this.colorBy&&k.x&&k.x.hasOwnProperty(this.colorBy)&&((r&&r.length===1)||(w&&w.length===1)));var x=(this.scatterType==="bin2d");if(g||y||v||x){return}if(this.yW()){var c=this.data.y.smps;e=this.ridgeBy?c.length:Math.max(r.length,w.length);if(this.ridgeBy){s=this.pb(this.Aj(this.pQ(c),d),this.legendTextFont)}else{if(p&&f){if(this.Xm()){e=this.jw(k,p,a)}else{e=this.gY(k,p,a,t)}if(!this.colorBy||e>1){s=this.pb(a.maxStr,this.legendTextFont)}}else{if(r.length!==w.length||r.length>1){if(r.length===w.length&&r.length>1){for(var q=0;q<r.length;q++){var h=this.Aj(this.xAxis[q],d);var m=this.Aj(this.yAxis[q],d);var j=h+" vs "+m;var u=this.pb(j,this.legendTextFont);if(u>s){a.maxStr=j;s=u}}}else{var b="";if(r.length>w.length){b=this.pQ(this.xAxis);a.maxStr=(w.length===1)?this.Aj(b,d):this.Aj(b,d)+" vs "+this.Aj(this.yAxis[0],d)}else{if(w.length>r.length){b=this.pQ(this.yAxis);a.maxStr=(r.length===1)?this.Aj(b,d):this.Aj(b,d)+" vs "+this.Aj(this.xAxis[0],d)}}s=this.pb(a.maxStr,this.legendTextFont)}}}}if(s){a.n=e;a.maxStrLen=s;a.width=((l+s+(this.legendTextMargin*2))*(a.columns>e?e:a.columns))+(this.legendTextMargin*2);a.height=(Math.ceil(e/a.columns)*(l+this.legendTextMargin))+this.legendTextMargin+(((o+this.legendTitleMargin)*(this.colorLegendTitle?1:0))*t)}}};this.Xr=function(){if(this.circularType&&this.circularType.match(/normal/)){if(this.circularTrackGraphType&&this.circularTrackGraphType.length){for(var a=0;a<this.circularTrackGraphType.length;a++){if(this.circularTrackGraphType[a]!=="heatmap"){return true}}return false}}else{if(this.circularType&&this.circularType.match(/radar/)&&this.yAxis.length){return false}}return true};this.Mi=function(e,b,r){var s=0;var k=0;var h=this.varIndices;var t;if(this.graphType==="Fish"){t=this.rk(this.legendTextFont);var c=h?h.length:0;var g=this.Aj(e.maxVarStr,this.maxVarStringLen);s=((b+(this.legendTextMargin*2)+this.pb(g,this.legendTextFont))*r)+(this.legendTextMargin*2);k=(Math.ceil(c/Math.min(c,r||1))*(t+this.legendTextMargin))+(this.legendTextMargin*2)}else{if(this.graphType==="Pie"){var a=h||[];var c=a.length>this.maxPieSectors?this.maxPieSectors:a.length;var g=this.isDOE&&this.layoutCurrentDOE?this.Aj(e.maxLevStr,this.maxVarStringLen):this.Aj(this.isPie&&this.isPie!==true?e.maxLevStr:e.maxVarStr,this.maxVarStringLen);if(this.maxPieSectors<(h?h.length:0)&&g.length<5){g=this.Aj("Other",this.maxVarStringLen)}var f=this.pb(g,this.legendTextFont)+b+(this.legendTextMargin*3);var o=this.layoutComb&&this.isDOE?this.layoutWidth:this.width;var j=(1-this.percentAspectRatioPlotArea);s=f>o*j?o*j:this.pb(g,this.legendTextFont)+b+(this.legendTextMargin*5);k=((b+this.legendTextMargin)*c)+(this.legendTextMargin*2)}else{if(this.layoutValid&&this.segregateVariablesBy&&this.segregateVariablesBy.length>0&&!this.graphType.match(/Scatter/)){if(this.segregateVariablesBy[0]==="variable"||(this.segregateVariablesBy.length>1&&this.segregateVariablesBy[1]==="variable")){return null}else{if(!this.colorBy||(this.colorBy&&this.colorBy==="variable")){t=e.maxVarChr>this.maxVarStringLen?e.maxVarStr.substring(0,this.maxVarStringLen):e.maxVarStr;var c=h?h.length:0;s=((b+(this.legendTextMargin*2)+this.pb(t,this.legendTextFont))*r)+(this.legendTextMargin*2);k=(Math.ceil((h?h.length:0)/Math.min(c,r||1))*(b+this.legendTextMargin))+this.legendTextMargin}else{return null}}}else{if((this.colorBy&&this.colorBy==="variable")||(this.shapeBy&&this.shapeBy==="variable")||(this.sizeBy&&this.sizeBy==="variable")||(this.patternBy&&this.patternBy==="variable")){t=this.sizeBy&&this.sizeBy==="variable"&&this.sizes&&h?Math.max(this.sizes[h.length-1],this.rk(this.legendTextFont)):this.rk(this.legendTextFont);var c=h?h.length:0;var g=this.Aj(e.maxVarStr,this.maxVarStringLen);s=t+this.pb(g,this.legendTextFont)+((this.legendTextMargin*2)*Math.min(c,r||1))+(this.legendTextMargin*2);k=(Math.ceil(c/Math.min(c,r||1))*(t+this.legendTextMargin))+(this.legendTextMargin*2)}else{if(!this.colorBy&&(this.graphType==="BarLine"||this.graphType==="DotLine"||this.graphType==="AreaLine"||this.graphType==="StackedLine"||this.graphType==="StackedPercentLine")){t=e.maxVarChr>this.maxVarStringLen&&e.maxVarStr?e.maxVarStr.substring(0,this.maxVarStringLen):e.maxVarStr;var c=(this.xAxisVarIndices?this.xAxisVarIndices.length:0)+(this.xAxis2VarIndices?this.xAxis2VarIndices.length:0);s=((b+(this.legendTextMargin*2)+this.pb(t,this.legendTextFont))*r)+(this.legendTextMargin*2);k=(Math.ceil(c/Math.min(c,r||1))*(b+this.legendTextMargin))+this.legendTextMargin}else{if(!this.colorBy&&(this.graphType==="Bar"||(this.graphType==="Line"&&!this.lineBy)||this.graphType==="Area"||this.graphType==="Dotplot"||this.graphType==="Stacked"||this.graphType==="StackedPercent"||this.graphType==="Boxplot")){t=e.maxVarChr>this.maxVarStringLen&&e.maxVarStr?e.maxVarStr.substring(0,this.maxVarStringLen):e.maxVarStr;var c=h?h.length:0;s=((b+(this.legendTextMargin*2)+this.pb(t,this.legendTextFont))*r)+(this.legendTextMargin*2);k=(Math.ceil((h?h.length:0)/Math.min(c,r||1))*(b+this.legendTextMargin))+this.legendTextMargin}else{if(this.graphType==="Circular"){if(!this.showIdeogram&&this.Xr()){t=e.maxVarChr>this.maxVarStringLen&&e.maxVarStr?e.maxVarStr.substring(0,this.maxVarStringLen):e.maxVarStr;var i=this.rAxisIndex>=0&&h?h.length-1:(h?h.length:0);s=((b+(this.legendTextMargin*2)+this.pb(t,this.legendTextFont))*r)+(this.legendTextMargin*2);k=(Math.ceil(i/Math.min(i,r||1))*(b+this.legendTextMargin))+this.legendTextMargin}else{return null}}}}}}}}return{width:s,height:k}};this.GZ=function(a){if(this.data&&this.data.y&&this.data.y.unpivoted&&this.data.y.unpivoted.factor){var b=this.pb(this.Aj(this.colorLegendTitle||this.data.y.unpivoted.factor,this.maxVarStringLen),this.legendTitleFont)+this.margin;var c=this.rk(this.legendTitleFont)+this.legendTitleMargin;this.legend.variable.width=Math.max(this.legend.variable.width,b);this.legend.variable.height+=c}};this.YG=function(){if(this.legend.variable.height>this.height&&this.varIndices&&this.varIndices.length>0){this.legend.variable.columns++;this.maxVarStringLen=Math.max(1,this.maxVarStringLen-5);this.Bs(this.legend.variable.columns)}};this.oh=function(){if(this.isDOE&&this.layoutCurrentDOE){if(this.meta.data.x&&this.meta.data.x.hasOwnProperty(this.layoutCurrentDOE)){return this.meta.data.x[this.layoutCurrentDOE]}if(this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.layoutCurrentDOE)){return this.meta.data.z[this.layoutCurrentDOE]}}if(this.isPie&&this.isPie!==true){if(this.meta.data.z&&this.meta.data.z[this.isPie]){return this.meta.data.z[this.isPie]}if(this.meta.data.x&&this.meta.data.x[this.isPie]){return this.meta.data.x[this.isPie]}}return this.meta.data.y};this.Bs=function(d){var g=this.legend.variable;var c=this.varIndices||0;var e=this.legendMax;if(!this.showLegend){return}g.width=0;g.height=0;g.columns=d||(c&&this.legendColumns>c.length?c.length:this.legendColumns);var h=g.columns;if(!this.showVariableLegend||c.length>e){return}var b=this.oh();var i=this.AI();var a=Math.max(i,this.rk(this.legendTextFont));var f=this.Mi(b,a,h);if(f){g.width=f.width;g.height=f.height}this.GZ(b);if(h<8){this.YG()}};this.Jo=function(){var b=this.legend;var a=this.data.venn.legend?this.pQ(this.data.venn.legend):"N/A";b.width=this.pb(a,this.legendTextFont)+(this.margin*6);b.height=this.margin+this.margin+((this.rk(this.legendTextFont)+this.margin)*this.vennGroups)};this.xg=function(){var c=this.legend.overlays;c.layout=[];c.width=0;c.height=0;var s=this.margin;var q=this.margin;var t=0;var n=0;var B=0;var p=false;var w=this.rk(this.legendTextFont)+2;var f=this.AI();var b=Math.max(w,f);var h=["varOverlays","smpOverlays"];var m=["varOverlayProperties","smpOverlayProperties"];var d=["showVarOverlaysLegend","showSmpOverlaysLegend"];if(this.showOverlays&&(this.showVarOverlaysLegend||this.showSmpOverlaysLegend)&&this.graphType!=="Circular"){for(var y=0;y<h.length;y++){var v=this[h[y]];var l=this[d[y]];if(v.length>0&&l){for(var x=0;x<v.length;x++){var A=v[x];if(A!=="-"){var z=h[y]==="varOverlays"?"z":"x";var o=this.meta.data[z][A];var u=this.pb(o.maxLevStr,this.legendTextFont);var k=this.pb(A,this.legendTitleFont);var e=this[m[y]][A].legendColumns||this[h[y]+"LegendColumns"];if(this.graphType==="Circular"||(this[m[y]][A]&&this[m[y]][A].showLegend)){p=true;var g=0;var r=0;var a=this[m[y]][A].type;if(a==="Default"){if(o.type==="String"){g=Math.max(k,u+b+(this.margin*3))*e;r=((Math.max(w,f)+this.margin)*Math.ceil(o.levels.length/e))+w+this.margin}else{if(this.overlaysLegendPosition.match(/right/i)){g=Math.max(this.heatmapIndicatorHeight+(this.margin*2)+u,k);r=this.heatmapIndicatorWidth+(this.margin*3)+w}else{g=this.heatmapIndicatorWidth+(this.margin*3)+w;r=Math.max(this.heatmapIndicatorHeight+(this.margin*2)+u,k)}}}else{if(a&&a.match(/Area|Bar|Dotplot|Line|Stacked|Pie|Treemap/)){g=Math.max(w,f)+k+(this.margin*2);r=Math.max(w,f)+this.margin}else{continue}}if(!c[A]){c[A]={}}c[A].width=g;c[A].height=r;var C=c.layout;if(this.overlaysLegendPosition.match(/right/i)){if(n+this.margin+r>(this.height-(this.top+this.bottom))){s+=this.margin+g;t=g;n=r;if(C[B]){B++}C[B]=[[z,A,g,r]]}else{if(g>t){s+=(g-t);t=g}n+=r;if(!C[B]){C[B]=[]}C[B].push([z,A,g,r])}}else{if(t+this.margin+g>(this.width-(this.left+this.right))){q+=this.margin+r;t=g;n=r;if(C[B]){B++}C[B]=[[z,A,g,r]]}else{if(r>n){q+=(r-n);n=r}t+=g;if(!C[B]){C[B]=[]}C[B].push([z,A,g,r])}}}}}}}}if(this.overlaysLegendPosition.match(/right/i)){c.width=p?s+(this.margin*3):0;c.height=p?n+this.margin:0}else{c.width=p?t+this.margin:0;c.height=p?q+this.margin:0}};this.JV=function(){var a=this.legend;var m=this.margin;var f=this.decorations;if(this.showDecorations&&this.showDecorationsLegend&&f){this.decorationLayout=[0]}if(this.showLegend){a.layout=[];a.width=0;a.height=0;var h=m;var c=m;var p=0;var j=0;var r=0;var s=a.layout;var o=this.graphType==="Network"?["colorNode","shapeNode","sizeNode","patternNode","colorEdge","sizeEdge","decoration"]:this.scatterPlotMatrix?["color","shape","size","pattern","variable"]:this.connectByNoColor?["color","shape","size","pattern","variable","sample"]:["color","shape","size","line","pattern","connect","variable","overlays","sample","contour","bin2d","colorLabel","sizeLabel"];for(var q=0;q<o.length;q++){var t=o[q];var b=t==="decoration"&&!this.showDecorations;var k=t==="size"&&this.graphType==="Map"&&f&&f.pie;var g="show"+this.Y5(t)+"Legend";var u=this.graphType==="Network"&&t!=="decoration"&&!this[g];var d=this.s9()&&t==="variable";if(b||k||u||d){continue}var l=a[t].width;var e=a[t].height;if(l<=0||isNaN(l)){continue}if(this.legendPosition.match(/right|left/i)){if(j+m+e>this.height){h+=m+l;p=l;j=e;r++;s[r]=[t]}else{if(l>p){h+=(l-p);p=l}j+=e;s[r]=s[r]||[];s[r].push(t)}}else{if(p+m+l>this.width){c+=m+e;p=l;j=e;r++;s[r]=[t]}else{if(e>j){c+=(e-j);j=e}p+=l;s[r]=s[r]||[];s[r].push(t)}}}for(var q=0;q<this.customLegend.length;q++){var n=this.customLegend[q];n.id="custom"+q;this.K7(n);var l=a[n.id].width;var e=a[n.id].height;if(this.legendPosition.match(/right|left/i)){if(j+m+e>this.height){h+=m+l;p=l;j=e;r++;s[r]=[n.id]}else{if(l>p){h+=(l-p);p=l}j+=e;s[r]=s[r]||[];s[r].push(n.id)}}else{if(p+m+l>this.width){c+=m+e;p=l;j=e;r++;s[r]=[n.id]}else{if(e>j){c+=(e-j);j=e}p+=l;s[r]=s[r]||[];s[r].push(n.id)}}}a.width=p===0&&h===m?0:this.legendPosition.match(/right|left/i)?h+m:p+m;a.height=j===0&&c===m?0:this.legendPosition.match(/right|left/i)?j+m:c+m}};this.Px=function(f,d,l){var j=this;var k=this.legend;var e=function(i){if(j.meta.ggplot&&j.meta.ggplot.labels&&j.meta.ggplot.labels[i+"LegendTitle"]){return j.meta.ggplot.labels[i+"LegendTitle"]}else{return j[i+"By"]}};var a=d=="outline"?"color":d;var h=(this.tx(a)+"s").replace("Node","").replace("Edge","").replace("Label","").replace("decorations","colors");var c=k[a];delete (c.levels);c.meta=f;c.meta.title=e(a);if(l){if(this.colorSpectrumBreaks.length){c.meta.vals=this.colorSpectrumBreaks}else{var b=this.iH(l[0],l[1],5);for(var g=0;g<b.length;g++){b[g]=String(b[g]).length>5?b[g].toExponential():b[g]}c.meta.vals=b}c.meta.decs=this.CU(l[1]-l[0]);c.meta.maxLevStr=this.pQ(k[(d=="outline"?"color":d)].meta.vals);c.meta.maxLevLen=this.pb(c.meta.maxLevStr,this.font);c.meta.maxLevChr=c.meta.maxLevStr.toString().length}else{var b=this.iH(f.min,f.max,5);for(var g=0;g<b.length;g++){b[g]=String(b[g]).length>5?b[g].toExponential():b[g]}if((d=="size"&&!this.sizeByContinuous)&&this.legendStyleGgplot){b.pop()}c.meta.vals=b;c.meta.maxLevStr=this.pQ(b);c.meta.maxLevLen=this.pb(c.meta.maxLevStr,this.xAxisTextFont);c.meta.maxLevChr=c.meta.maxLevStr.toString().length}if(this.ridgeBy&&this.colorBy=="data"){c.meta.min=c.meta.vals[0];c.meta.max=c.meta.vals[c.meta.vals.length-1]}c.max=c.meta.maxLevStr;c.n=c.meta.vals.length;if(!c.m){c.m=[]}for(var g=0;g<c.meta.vals.length;g++){c.m[c.meta.vals[g].toString()]=a=="connect"?this.colors[g]:a=="contour"?this.PW(f,c.meta.vals[g]):a=="bin2d"?this.PW(f,c.meta.vals[g]):this[h][g%this[h].length]}this.rB(d,c.meta)};this.uZ=function(n,s,k,q,t){var e=this.varIndices;if(n){var v=0;var u=0;var m=false;var d={};var l={};var f=n[this.tx(q).replace("Node","").replace("Edge","").replace("Label","")+"s"]||this[this.tx(q).replace("Node","").replace("Edge","").replace("Label","")+"s"];if(s=="x"){var g;if(this.graphType=="Scatter2D"){g=this.xAxisIndices.length==1?this.yAxisIndices:this.yAxisIndices.length==1?this.xAxisIndices:this.smpIndices}else{g=this.isGroupedData?this.grpIndices:this.smpIndices}for(var r=0;r<g.length;r++){var b=g[r];if(this.isGroupedData&&(this.graphType=="Dotplot"||this.graphType=="Boxplot"||this.barType=="swimmer"||this.graphType=="Gantt"||this.stackBy||this.lineBy||this.dodgeBy)){this.isGroupedData=false;for(var p=0;p<this.data.w.grps[b].length;p++){var a=this.Mk(this.data.w.grps[b][p],s,this[k]);l[a]=true}this.isGroupedData=true}else{var a;if(this.isGroupedData){this.isGroupedData=false;a=this.JA(this[k],this.data.w.grps[r],true);this.isGroupedData=true}else{a=this.Mk(b,s,this[k])}l[a]=true}}}else{if(s=="z"){if((this.graphType=="Map"&&e.length<n.levels.length)||this.histogramAsDotplot){for(var r=0;r<n.levels.length;r++){var a=n.levels[r];l[a]=true}}else{for(var r=0;r<e.length;r++){var b=e[r];var a=this.Mk(b,s,this[k]);l[a]=true}}}else{if(s=="m"){for(var r=0;r<e.length;r++){for(var p=0;p<this.smpIndices.length;p++){var a=t[e[r]][this.smpIndices[p]];l[a]=true}}}else{if(s=="modified"){n.order={};for(var r=0;r<n.levels.length;r++){l[n.levels[r]]=true;n.order[n.levels[r]]=r}}else{if(s=="nodes"||s=="edges"){n.order={};for(var r=0;r<n.levels.length;r++){l[n.levels[r]]=true;n.order[n.levels[r]]=r}}}}}}l=this.Nv(l);if(n.type=="Numeric"){if(n.orderS){l.sort(function(j,i){return n.orderS[j]-n.orderS[i]})}else{l.sort(function(j,i){return j-i});n.orderS={};for(var r=0;r<l.length;r++){n.orderS[l[r]]=r}}}else{l.sort(function(j,i){return n.order[j]-n.order[i]})}var h=f?f.length:1;var c=this.legend[q];for(var r=0;r<l.length;r++){var a=l[r]!=null?l[r]:"NA";var o=this.pb(a,this.legendTextFont);if(o>v){v=o;c.max=a}d[a]=(n.type=="Numeric"?n.orderS[a]:n.order[a])%h;c.m[a]=f?f[d[a]]:r;u++}c.levels=l;m=s=="m"||s=="modified"?c.max:false;c.n=u;c.meta=n;this.pq(q,m,n)}};this.xD=function(){var e=this.legend;var h=this.meta.data;var f=["colorNode","shapeNode","sizeNode","patternNode","colorEdge","sizeEdge"];for(var d=0;d<f.length;d++){var b=f[d];var g=this.tx(b);var a=g+"By";e[b]={m:{},n:0,width:0,height:0};if(this[a]){var c=h[b.match("Node")?"nodes":"edges"][this[a]];if(c.type==="Numeric"){this.Px(c,b)}else{this.uZ(c,b.match("Node")?"nodes":"edges",a,b)}}}if(this.decorations.length&&this.decorationsType==="heatmap"&&h.decorations.n&&this.showDecorations){var c=h.decorations;var b="decoration";e[b]={m:{},n:0,width:0,height:0};this.Px(c,b)}};this.C4=function(){var a=this.legend;var c=this.meta.data;var g=["colorByData","shapeByData","sizeByData","patternByData","outlineByData"];for(var f=0;f<g.length;f++){var k=g[f];if(this.data.y[this[k]]){var d=this.data.y[this[k]];var h=c[this[k]];var e=k.replace("ByData","");var b=this.tx(e);var j=b+"By";e=e;a[e].m=[];a[e].n=0;if(h.type==="Numeric"){this.Px(h,e)}else{this.uZ(h,"m",j,e,d)}}}};this.GB=function(){var a=this.legend;var c=this.meta.data;var e=["color","shape","size","line","pattern","outline","connect","contour","bin2d","colorLabel","sizeLabel"];for(var g=0;g<e.length;g++){var f=e[g];var d=this.tx(f);var m=d+"By";a[f]={m:{},n:0,width:0,height:0}}if(!c.b.g){var h=this.xAxisIndices[this.xAxisCurrent];var n=this.yAxisIndices[this.yAxisCurrent];var b=this.Ep(h,"x");var k=this.Ep(n,"y");var j=this.mL(b,k);c.b.g=j;c.b.c=j.brew}var f="bin2d";var l=c.b.c;this.Px(l,f)};this.yB=function(){var d=this.legend;var e=this.meta.data;if(this.showHistogram!==true){if(this.segregateVariablesBy.length>0&&this.segregateVariablesBy[0]!==this.showHistogram){var b=this.colorBy;this.colorBy=this.showHistogram;var a="color";var c=e.z[this.showHistogram];d[a]={m:{},n:0,width:0,height:0};this.uZ(c,"z","colorBy",a);this.colorBy=b}}else{if(this.histogramAsDotplot&&this.colorBy){var a="color";var c=e.x[this.colorBy];d[a]={m:{},n:0,width:0,height:0};if(c.type==="Numeric"){this.Px(c,a)}else{this.uZ(c,"x","colorBy",a)}}}};this.EY=function(){var e=this.legend;var h=this.meta.data;var f=["color","shape","size","line","pattern","outline","connect","contour","bin2d","colorLabel","sizeLabel"];for(var d=0;d<f.length;d++){var b=f[d];var g=this.tx(b);var a=g+"By";e[b]={m:{},n:0,width:0,height:0}}if(!h.q.g.length||!h.q.g[0]||!h.q.g[0].data){this.Pg(this.isContour,true)}var b="contour";var c=h.q.g[0].data.colorBrew;this.Px(c,b)};this.U6=function(l){var a=this.legend;var c=this.meta.data;var h=["color","shape","size","pattern","outline"];var f=["color","shape","size","line","pattern","outline","connect","contour","bin2d","colorLabel","sizeLabel"];var d=this.connectByNoColor?h:f;if(!this.hiddenLegends){this.hiddenLegends={}}this.Ac();this.Cr();if(["Meter","Correlation"].includes(this.graphType)){return}else{if(this.graphType==="Venn"){this.Jo();return this.Jo()}else{if(this.graphType==="Network"){this.xD()}else{if(this.isMultidimensionalData){this.C4()}else{if(this.scatterType==="bin2d"){this.GB()}else{if(this.showHistogram&&!this.ridgeBy){this.yB()}else{if(this.isContour&&this.contourFilled){this.EY()}else{for(var g=0;g<d.length;g++){var e=d[g];var b=this.tx(e);var k=b+"By";a[e]={m:{},n:0,width:0,height:0};if(l){continue}if(this.graphType==="Scatter2D"&&this.lineBy&&(this.ribbonBy||this.isCxplot)&&this.colorBy===this.lineBy&&k==="colorBy"&&!this.legendCombine){continue}if(this.s9()&&k==="colorBy"){continue}if(this[k]){if(this.data.x&&this.data.x.hasOwnProperty(this[k])){var j=c.x[this[k]];this[b+"ByType"]="x";if(j.type==="Numeric"&&!j[k]){this.Px(j,e)}else{this.uZ(j,"x",k,e)}}else{if(this.data.z&&this.data.z.hasOwnProperty(this[k])){var j=c.z[this[k]];this[b+"ByType"]="z";if(j.type==="Numeric"&&!j[k]){this.Px(j,e,this.colorSpectrumBreaks.length?true:false)}else{this.uZ(j,"z",k,e)}}else{if(this.yV(this[k])>-1&&c.y.range[this[k]]){var j=c;if(j.modified&&j.modified.z&&j.modified.z[this[k]]){j=j.modified.z;if(!j.meta){j.meta={}}j.meta[this[k]]={levels:j[this[k]]};this.uZ(j.meta[this[k]],"modified",k,e)}else{j=c.y.range[this[k]];this.Px(j,e,[j.min,j.max])}}else{if(this[k]==="variable"){a[e].n=this.varIndices.length}else{if(this.ridgeBy&&this[k]==="data"){this.Px({type:"Numeric"},e,[this.xAxisMin,this.xAxisMax])}else{if(this.histogramAsDotplot&&this.data.z&&this.data.z.hasOwnProperty(this[k])){var j=c.z[this[k]];if(j.type==="Numeric"&&!j[k]){this.Px(j,e)}else{this.uZ(j,"z",k,e)}}}}}}}}}}}}}}}}this.cO();this.sQ();this.Bs();this.Cs();this.xg();this.JV()};this.OE=function(b,a){if(!b){return}if(a){var c=this.kB(a);b.x=c.x;b.y=c.y}this.customLegend.push(b)};this.iK=function(c){if(c&&c.id){var b=[];for(var a=0;a<this.customLegend.length;a++){if(this.customLegend[a].id!=c.id){b.push(this.customLegend[a])}}this.customLegend=b}};this.lM=function(l){if(l.line){for(var y=0;y<l.line.length;y++){var c,m,C,q,v,A,s,h;var b=l.line[y];b.id=b.id==null?this.oy("-decoration-"):b.id;b.render=[];var w=b.hasOwnProperty("value")?b.value:b.hasOwnProperty("x")?b.x:b.hasOwnProperty("x1")?b.x1:b.hasOwnProperty("y")?b.y:b.hasOwnProperty("y1")?b.y1:0;var g=true;var z=b.type||"line";var f=b.color;var p=b.label||false;var t=b.labelScaleFontFactor?(parseInt(b.labelScaleFontFactor*this.decorationsTextFontSize)+"px "+this.fontName):this.decorationsTextFont;var a=b.width||1;var o=b.align||"left";var B=b.position||"over";var e=b.scope||false;if(this.Qc()){c=this.marginLeft+this.offsetX+this.left;C=c+this.x;m=this.marginTop+this.offsetY+this.top+this.y-((w-this.xAxisMin)*this.xAxisUnit);q=m;A=B=="under"?q+this.margin:q-this.margin;s=B=="under"?"top":"bottom";g=m<=this.marginTop+this.offsetY+this.top+this.y&&m>=this.marginTop+this.offsetY+this.top?true:false}else{c=this.marginLeft+this.offsetX+this.left+((w-this.xAxisMin)*this.xAxisUnit);C=c;v=B=="under"?C-(this.margin*2):C+(this.margin*2);s=B=="under"?"right":"left";m=this.marginTop+this.offsetY+this.top;q=m+this.y;g=c<=this.marginLeft+this.offsetX+this.left+this.x&&this.marginLeft+this.offsetX+this.left?true:false}if(g&&e){if(this.layoutValid){g=false;var r=this.i4(this.data.l.name[this.layoutCurrent]);for(var x=0;x<r.length;x++){if(e==r[x]){g=true}}}}if(g){var n=this.isR?6:3;if(p){if(this.Qc()){var u=o=="right"?C-this.margin:o=="center"?c+(this.x/2):c+this.margin;h=this.To({p:["drawText",p,u,A,t,f,o,s],t:"Decorations"})}else{var d=o=="right"?q-(this.margin*n):o=="center"?m+(this.y/2):m+(this.margin*n);h=this.To({p:["drawText",p,v,d,t,f,s,"middle"],t:"Decorations"})}b.render.push(h)}var k=b.tooltip||("&rarr; "+w);h=this.To({p:["drawLine",z,c,m,C,q,f,a],i:[k+":Decoration"+y],t:"Decorations"});b.render.push(h)}}}};this.p0=function(h,u,e){if(h.range){for(var w=0;w<h.range.length;w++){var a,k,z,p,d;var y=h.range[w];y.id=y.id==null?this.oy("-decoration-"):y.id;y.render=[];var o=y.hasOwnProperty("value")?y.value:y.hasOwnProperty("x")?y.x:y.hasOwnProperty("x1")?y.x1:y.hasOwnProperty("y")?y.y:y.hasOwnProperty("y1")?y.y1:null;var m=y.hasOwnProperty("value2")?y.value2:y.hasOwnProperty("x2")?y.x2:y.hasOwnProperty("y2")?y.y2:null;var c=true;var l=y.color;var g=y.smpId!=null?y.smpId:y.smp?this.yV(y.smp):null;var n=y.smpId2!=null?y.smpId2:y.smp2?this.yV(y.smp2):null;var x=o!=null?this.Jb(this.isTransformedData,o):null;var q=m!=null?this.Jb(this.isTransformedData,m):null;var b=y.scope||false;if(g==null&&n==null){if(this.Qc()){a=u;z=u+this.x;k=e+this.y-((x-this.xAxisMin)*this.xAxisUnit);p=e+this.y-((q-this.xAxisMin)*this.xAxisUnit)}else{a=u+((x-this.xAxisMin)*this.xAxisUnit);z=u+((q-this.xAxisMin)*this.xAxisUnit);k=e;p=e+this.y}}else{if(x==null&&q==null){if(this.Qc()){a=g!=null&&g>=0?this.smpInfo[g]:null;z=n!=null&&n>=0?this.smpInfo[n]:null;k=e;p=e+this.y}else{a=u;z=u+this.x;k=g!=null&&g>=0?this.smpInfo[g]:null;p=n!=null&&n>=0?this.smpInfo[n]:null}}else{if(this.Qc()){a=g!=null&&g>=0?this.smpInfo[g]:null;z=n!=null&&n>=0?this.smpInfo[n]:null;k=e+this.y-((x-this.xAxisMin)*this.xAxisUnit);p=e+this.y-((q-this.xAxisMin)*this.xAxisUnit)}else{a=u+((x-this.xAxisMin)*this.xAxisUnit);z=u+((q-this.xAxisMin)*this.xAxisUnit);k=g!=null&&g>=0?this.smpInfo[g]:null;p=n!=null&&n>=0?this.smpInfo[n]:null}}}if(c&&b){if(this.layoutValid){c=false;var r=this.i4(this.data.l.name[this.layoutCurrent]);for(var v=0;v<r.length;v++){if(b==r[v]){c=true}}}}if(c){var f=y.tooltip||(x+" - "+q)||(this.data.y.smps[g]+" - "+this.data.y.smps[n]);var t=Math.abs(z-a);var s=Math.abs(p-k);d=this.To({p:["drawShape","rectangle",(a+z)/2,(k+p)/2,t,s,l,y.outline||l,y.pattern,y.rotate],i:[f+":Decoration-"+w],t:"Decorations"});y.render.push(d)}}}};this.qa=function(e){if(e.point){for(var h=0;h<e.point.length;h++){var g=e.point[h];g.id=g.id==null?this.oy("-decoration-"):g.id;var a=g.hasOwnProperty("value")?g.value:g.hasOwnProperty("x")?g.x:g.hasOwnProperty("y")?g.y:0;var d=true;var l=g.smpId!=null?g.smpId:this.yV(g.smp);var m=this.Jb(this.isTransformedData,a);var k=g.color||this.foreground;var f=(g.width||1)*this.dataPointSize;var o=(g.height||1)*this.dataPointSize;var n=g.shape||"circle";var c=l!=null&&l>=0?this.smpInfo[l]:null;var p=(m-this.xAxisMin)*this.xAxisUnit;if(c!=null&&p!=null){if(this.Qc()){p=this.marginTop+this.offsetY+this.top+this.y-p;d=p<=this.marginTop+this.offsetY+this.top+this.y&&p>=this.marginTop+this.offsetY+this.top?true:false}else{c=this.marginLeft+this.offsetX+this.left+p;p=this.smpInfo[l];d=c<=this.marginLeft+this.offsetX+this.left+this.x&&this.marginLeft+this.offsetX+this.left?true:false}if(d){var j=g.smp+"("+value+")";var b=this.To({p:["drawShape",n,c,p,f,o,k,k,"closed"],i:[j+":Decoration"+h],t:"Decorations"});g.render=[b]}}}}};this.Cp=function(f){if(f.text){for(var h=0;h<f.text.length;h++){var q=f.text[h];var l=q.hasOwnProperty("value");var m=q.hasOwnProperty("x");var a=q.hasOwnProperty("y");var g=l?q.value:m?q.x:a?q.y:0;q.id=q.id==null?this.oy("-decoration-"):q.id;var e=true;var k=q.smpId!=null?q.smpId:this.yV(q.smp);var n=this.Jb(this.isTransformedData,g);var j=q.labelScaleFontFactor?(parseInt(q.labelScaleFontFactor*this.decorationsTextFontSize)+"px "+this.fontName):this.decorationsTextFont;var d=q.label||false;var o=q.color||this.foreground;var c=k!=null&&k>=0?this.smpInfo[k]:null;var p=(n-this.xAxisMin)*this.xAxisUnit;if(c!=null&&p!=null){if(this.Qc()){p=this.marginTop+this.offsetY+this.top+this.y-p;e=p<=this.marginTop+this.offsetY+this.top+this.y&&p>=this.marginTop+this.offsetY+this.top?true:false}else{c=this.marginLeft+this.offsetX+this.left+p;p=this.smpInfo[k];e=c<=this.marginLeft+this.offsetX+this.left+this.x&&this.marginLeft+this.offsetX+this.left?true:false}if(e){var b=this.To({p:["drawText",d,c,p+this.margin,j,o,"center","bottom"],t:"Decorations"});q.render=[b]}}}}};this.IT=function(c){if(c.marker){for(var f=0;f<c.marker.length;f++){var h=c.marker[f];if(h.type=="range"){if(h.sample&&h.sample2){var e=this.yV(h.sample);var g=this.yV(h.sample2);if(e!=null&&e>=0&&g!=null&&g>=0){h.id=h.id==null?this.oy("-decoration-"):h.id;var d=this.smpInfo[e]-this.blockSeparation;var k=this.smpInfo[g]+this.blockSeparation;var j=Math.abs(k-d);var a=this.b9(h.color,this.decorationsTransparency);var b=this.To({p:["drawShape","rectangle",(d+k)/2,this.top+(this.y/2)+this.margin,j,this.y,a,a],t:"Decorations"});h.render=[b]}}}}}};this.Nf=function(l){if(l.error){for(var w=0;w<l.error.length;w++){var a=l.error[w];if(a.sample!=null){var b,o,B,q,k,g,y,v,f;var x=a.isIndex?a.sample:this.data.w?this.plotInfo.indices.indexOf(this.data.w.smps.indexOf(a.sample)):this.data.y.smps.indexOf(a[this.plotInfo.indices[w]].sample);a.render=[];var r=this.data.w?x:w;var t=this.Jb(this.isTransformedData,a.min||this.xAxisMin);var z=this.Jb(this.isTransformedData,a.max||this.xAxisMax);var m=a.cat?this.meta.data.x[a.cat].colors:false;var e=true;var A=a.type||"line";var d=m?m[w%m.length]:a.color||this.foreground;var n=a.size||1;var p=(a.width||1)*this.dataPointSize*4;var c=a.scope||false;if(x!=null){a.id=a.id==null?this.oy("-decoration-"):a.id;if(this.Qc()){b=this.smpInfo[r];o=this.marginTop+this.offsetY+this.top+this.y-((t-this.xAxisMin)*this.xAxisUnit);B=b;q=this.marginTop+this.offsetY+this.top+this.y-((z-this.xAxisMin)*this.xAxisUnit);k=b-p;g=o;y=b+p;v=q}else{b=this.marginLeft+this.offsetX+this.left+((t-this.xAxisMin)*this.xAxisUnit);o=this.smpInfo[r];B=this.marginLeft+this.offsetX+this.left+((z-this.xAxisMin)*this.xAxisUnit);q=o;k=b;g=o-p;y=B;v=o+p}if(e&&c){if(this.layoutValid){e=false;var s=this.i4(this.data.l.name[this.layoutCurrent]);for(var u=0;u<s.length;u++){if(c==s[u]){e=true}}}}if(e){var h=this.To({p:["drawLine",A,b,o,B,q,d,n],i:["Error-"+a.sample+":Decoration"+w],t:"Decorations"});a.render.push(h);if(this.Qc()){f=this.To({p:["drawLine",A,k,g,y,g,d,n],i:["Error-"+a.sample+":Decoration"+w],g:h,t:"Decorations"});a.render.push(f);f=this.To({p:["drawLine",A,k,v,y,v,d,n],i:["Error-"+a.sample+":Decoration"+w],g:h,t:"Decorations"});a.render.push(f)}else{f=this.To({p:["drawLine",A,k,g,k,v,d,n],i:["Error-"+a.sample+":Decoration"+w],g:h,t:"Decorations"});a.render.push(f);f=this.To({p:["drawLine",A,y,g,y,v,d,n],i:["Error-"+a.sample+":Decoration"+w],g:h,t:"Decorations"});a.render.push(f)}}}}}}};this.Aw=function(e,s,c){var l=["linear","exponential","logarithmic","power","polynomial"];for(var v=0;v<l.length;v++){var x=l[v];if(e[x]){var p=e[x];for(var t=0;t<p.length;t++){var d=this.xAxisIndices.length==1?this.xAxisIndices[0]:this.xAxisIndices[t];var o=this.yAxisIndices.length==1?this.yAxisIndices[0]:this.yAxisIndices[t];var f=this.wT(d);var y=this.wT(o);var b=e[x][t].color||this.colors[t%this.colors.length];var w=[];var n=this.varIndices.sort(function(j,i){return f[j]-f[i]});for(var r=0;r<n.length;r++){var a=n[r];w.push([f[a],y[a]])}var h=this[x+"Regression"](w);var u=[];var g=[];if(h&&h.predict){for(var r=0;r<h.predict.length;r++){var m=s+((h.predict[r][0]-this.xAxisMin)*this.xAxisUnit);var q=(c+this.y)-((h.predict[r][1]-this.yAxisMin)*this.yAxisUnit);u.push(m);g.push(q)}if(u.length>0){this.To({p:["drawLine","spline",u,g,false,false,b,1],i:["Decor-"+x+"-"+t],t:"Decorations"})}}}}}};this.aR=function(f,z,c){if(f.nlfit||f.nonlinear){var n,E,b;var h=this.varIndices;var w,G;var H=f.nlfit?f.nlfit:f.nonlinear;for(var C=0;C<H.length;C++){var B=[];var l=[];var e=C%this.colors.length;var s=Number(this.Jb(this.yAxisTransform,H[C].param[0]));var r=Number(this.Jb(this.yAxisTransform,H[C].param[1]));var q=Number(H[C].param[2]);var o=Number(H[C].param[3]);var d=this.xAxisIndices.length==1?this.xAxisIndices[0]:this.xAxisIndices[C];var y=this.wT(d);if(this.xAxisTransform=="percentile"){n=this.cp(y);b=n[0];E=n[1]}h.sort(function(j,i){return y[j]-y[i]});var m=H[C].color?H[C].color:this.colors[e];for(var A=0;A<h.length;A++){var p=h[A];var v=this.Cb(p,d);var D;var t=[];if(v>0){if(A>0){var u=h[A-1];var g=this.Cb(u,d);if(g>0){var F=(v-g)/25;for(var x=0;x<25;x++){t.push(g);g+=F}}}else{t=[v]}for(var x=0;x<t.length;x++){if(H[C].type=="reg"){D=s+((r-s)/(1+q/(Math.pow(t[x],o))))}else{D=s+((r-s)/(1+(Math.pow((t[x]/q),o))))}if(this.xAxisTransform){t[x]=this.xAxisTransform=="percentile"?this.cL(b,E,t[x]):this.Jb(this.xAxisTransform,t[x])}w=z+((t[x]-this.xAxisMin)*this.xAxisUnit);G=(c+this.y)-((D-this.yAxisMin)*this.yAxisUnit);B.push(w);l.push(G)}}}if(B.length>0){this.To({p:["drawShape","path",B,l,false,false,m,m,"open",false,false,true],i:["Decor-Non-Lin-"+A+"-"+C],t:"Decorations"});if(H[C].type=="reg"){D=s+((r-s)/(1+q/(Math.pow(q,o))))}else{D=s+((r-s)/(1+(Math.pow((q/q),o))))}if(this.xAxisTransform){q=this.xAxisTransform=="percentile"?this.cL(b,E,q):this.Jb(this.xAxisTransform,q)}w=z+((q-this.xAxisMin)*this.xAxisUnit);G=(c+this.y)-((D-this.yAxisMin)*this.yAxisUnit);var a=this.To({p:["drawLine","dottedLine",z,G,w,G,m],i:["Decor-Non-Lin-EC-h"+A+"-"+C],t:"Decorations"});this.To({p:["drawLine","dottedLine",w,G,w,(c+this.y),m],i:["Decor-Non-Lin-EC-v"+A+"-"+C],g:a,t:"Decorations"})}}}};this.pT=function(k,u,e){if(k.reg||k.regression){var s=k.reg?k.reg:k.regression;for(var x=0;x<s.length;x++){var y=s[x];if(y.slope!=null&&y.intercept!=null){var b=y.color?y.color:this.colors[x%this.colors.length];var f=this.b9(b,0.3,true);var p=this.wn(x,false,"patternBy");var d=y.style?y.style:this.fitLineType;var o=Number(y.slope);var A=Number(y.intercept);var z=y.id;var t=y.cor;var w="y ~ "+this.gG(o,this.yAxisDecs+1)+"x + "+this.gG(A,this.yAxisDecs+1)+(t?" (r = "+this.gG(t,3)+")":"");var m=y.ci?y.ci:false;var h=m?m.length-1:false;var a=this.showRegressionFullRange||!m?this.xAxisMin:m[0][0];var l=(o*a)+A;var B=this.showRegressionFullRange||!m?this.xAxisMax:m[h][0];var q=(o*B)+A;a=u+(a*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);l=(e+this.y)-(l*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);B=u+(B*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);q=(e+this.y)-(q*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);var g=this.pv([[a,l],[B,q]]);if(g.length){this.To({p:["drawLine",d,g[0][0][0],g[0][0][1],g[0][1][0],g[0][1][1],b,2],i:["Decor-Reg-"+x,z],t:"Decorations",h:this.ID(false,false,z)})}if(m){var n=[];var r=[];var c=[];for(var v=0;v<m.length;v++){l=m[v][1];q=m[v][2];a=u+(m[v][0]*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);l=(e+this.y)-(l*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);q=(e+this.y)-(q*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);n.push([a,a]);r.push([l,q]);c.push([a,(l+q)/2])}if(this.showConfidenceIntervals){this.To({p:["drawShape","confidence",n,r,false,false,f,this.isCxplot?f:b,p],i:[w+":Confidence",z],b:c,t:"Decorations",h:this.ID(false,false,z)})}}}}}};this.sk=function(g,r,e){if(g.nor||g.normal){var a=g.nor?g.nor:g.normal;for(var t=0;t<a.length;t++){var A=a[t];if(A.mu!=null&&A.sigma!=null){var B=[];var d=[];var v=[];var p,z;var f=t%this.colors.length;var u=A.mu;var n=A.sigma;var m=A.start?A.start:A.yAxis?this.yAxisMin:this.xAxisMin;var l=A.end?A.end:A.yAxis?this.yAxisMax:this.xAxisMax;var c=120;if(m<u&&u<l){var q,w,y,o;var x=(u-m)/c;var k=n*n;var h=1/Math.sqrt(2*Math.PI*k);if(A.yAxis){y=A.max?A.max*this.xAxisUnit:this.x-(this.x*this.axisExtension);o=y/h;q=m;for(var s=0;s<c-1;s++){w=(h*Math.pow(Math.E,-Math.pow(q-u,2)/k));v.push([q,w]);p=r+(w*o);z=(e+this.y)-(q*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);B.push(p);d.push(z);q+=x}x=(l-u)/c;q=u;for(var s=0;s<c;s++){w=(h*Math.pow(Math.E,-Math.pow(q-u,2)/k));v.push([q,w]);p=r+(w*o);z=(e+this.y)-(q*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);B.push(p);d.push(z);q+=x}var b=A.color?A.color:this.colors[f];this.To({p:["drawShape","path",B,d,false,false,b,b,"open",false,false,true],i:["Decor-Nor-"+t],t:"Decorations"})}else{y=A.max?A.max*this.yAxisUnit:this.y-(this.y*this.axisExtension);o=y/h;q=m;for(var s=0;s<c-1;s++){w=(h*Math.pow(Math.E,-Math.pow(q-u,2)/k));v.push([q,w]);p=r+(q*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);z=(e+this.y)-(w*o);B.push(p);d.push(z);q+=x}x=(l-u)/c;q=u;for(var s=0;s<c;s++){w=(h*Math.pow(Math.E,-Math.pow(q-u,2)/k));v.push([q,w]);p=r+(q*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);z=(e+this.y)-(w*o);B.push(p);d.push(z);q+=x}var b=A.color?A.color:this.colors[f];this.To({p:["drawShape","path",B,d,false,false,b,b,"open",false,false,true],i:["Decor-Nor-"+t],t:"Decorations"})}}}}}};this.UV=function(au,O,an){var r=[];var G=function(av){r.unshift(av);for(var k=1;k<r.length;k++){var aw=r[k];if(av.x1>=aw.x2||aw.x1>=av.x2){continue}if(av.y1>=aw.y2||aw.y1>=av.y2){continue}return true}return false};var p=["line","text","label","point","range","image","polygon"];for(var aa=0;aa<p.length;aa++){var c=p[aa];if(au[c]){for(var a=0;a<au[c].length;a++){var n=au[c][a];if(n.x!=null||n.y!=null){var X,W,H,F,al,g,ad;var U,ac,S,ah;n.id=n.id==null?this.oy("-decoration-"):n.id;var v=n.x!=null?n.x:null;var u=n.y!=null?n.y:null;var am=n.x2!=null?n.x2:null;var T=n.y2!=null?n.y2:null;var L=n.width?n.width:(c==="point"?this.dataPointSize*1:1);var aq=n.height?n.height:(c==="point"?this.dataPointSize*1:1);var ap=n.color?n.color:this.colors[a%this.colors.length];var ai=n.type?n.type:c;var t=n.label||false;var ak=n.curve||0.5;var j=n.relative||false;var M=n.wrap||false;var o=n.justify||false;var V=(n.labelScaleFontFactor||1)*this.decorationsTextFontSize;var m=n.font||(V+"px "+this.fontName);var y=n.color||this.decorationsTextColor;var af=n.background||this.background;var at=n.position||"over";var ae=at==="under"?"top":"bottom";var P=n.align||"left";var s=c==="line"&&ai!=="line"?ai:n.style?n.style:"line";var Y=n.tooltip||false;var b=n.shape||"circle";var f=n.src||false;var ag=[];var w=false;if(ai==="line"||ai==="range"){if(v!=null&&(this.isGraphTime==="x"||this.xAxisTime)&&this.aI([v])){U=v;v=new Date(v).getTime()}if(am!=null&&(this.isGraphTime==="x"||this.xAxisTime)&&this.aI([am])){ac=am;am=new Date(am).getTime()}if(u!=null&&(this.isGraphTime==="y"||this.yAxisTime)&&this.aI([u])){S=u;u=new Date(u).getTime()}if(T!=null&&(this.isGraphTime==="y"||this.yAxisTime)&&this.aI([T])){ah=T;T=new Date(T).getTime()}if(v==null&&am==null&&u!=null&&T!=null){v=this.xAxisMin;am=this.xAxisMax}else{if(u==null&&T==null&&v!=null&&am!=null){u=this.yAxisMin;T=this.yAxisMax}}}if(j){v=this.xAxisMin+(v*this.xAxisRange);u=this.yAxisMin+(u*this.yAxisRange)}if(this.isCxplot&&this.decorationsTransform){if(this.xAxisTransform){if(v!=null){v=this.Jb(this.xAxisTransform,v)}if(am!=null){am=this.Jb(this.xAxisTransform,am)}}if(this.yAxisTransform){if(u!=null){u=this.Jb(this.yAxisTransform,u)}if(T!=null){T=this.Jb(this.yAxisTransform,T)}}}var q=this.tO(v)&&this.tO(u)&&am==null&&T==null;if(c==="range"||c==="point"){if(c==="point"&&n.width){L=n.width*this.xAxisUnit}if(c==="point"&&n.height){aq=n.height*this.yAxisUnit}}if(n.scope){var C=!this.layoutValid;if(this.layoutValid){var E=this.i4(this.data.l.name[this.layoutCurrent]);for(var aj=0;aj<E.length;aj++){if(n.scope.toString()===E[aj].toString().replace("\x00","")){C=true;break}}}if(!C){continue}}if(q){var R=null;var A=[];var x=[];for(var z=1;z<v.length;z++){X=O+((v[z-1]-this.xAxisMin)*this.xAxisUnit);H=O+((v[z]-this.xAxisMin)*this.xAxisUnit);W=an+this.y-((u[z-1]-this.yAxisMin)*this.yAxisUnit);F=an+this.y-((u[z]-this.yAxisMin)*this.yAxisUnit);ad=t?t:"";if(ai==="polygon"){A.push(X);x.push(W)}else{if(z===1){R=this.To({p:["drawLine",s,X,W,H,F,ap,L],i:[ad+":Decoration-"+z],t:"Decorations"});ag.push(R)}else{w=this.To({p:["drawLine",s,X,W,H,F,ap,L],i:[ad+":Decoration-"+z],g:R,t:"Decorations"});ag.push(w)}}}if(ai==="polygon"){this.To({p:["drawShape","polygon",A,x,false,false,ap,ap,n.pattern||"solid",n.rotate||false],i:[ad+":Decoration-"+a],t:"Decorations"})}}else{if(v!=null&&u!=null&&am!=null&&T!=null&&(c.match(/line|range/))){X=O+((v-this.xAxisMin)*this.xAxisUnit);H=O+((am-this.xAxisMin)*this.xAxisUnit);W=an+this.y-((u-this.yAxisMin)*this.yAxisUnit);F=an+this.y-((T-this.yAxisMin)*this.yAxisUnit);if(U&&S&&ac&&ah){ad=n.tooltip||("("+(U||v)+","+(S||u)+") → ("+(ac||am)+","+(ah||T)+")")}else{if(U&&ac){ad=n.tooltip||((U||v)+" → "+(ac||am))}else{if(S&&ah){ad=n.tooltip||((S||u)+" → "+(ah||T))}else{ad=n.tooltip||""}}}if(c==="range"){al=Math.abs(H-X);g=Math.abs(F-W);w=this.To({p:["drawShape","rectangle",(X+H)/2,(W+F)/2,al,g,ap,n.outline||ap,n.pattern,n.rotate],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}else{if(s==="arch"){var K=Math.sqrt(Math.pow(H-X,2)+Math.pow(F-W,2))*ak;var e=[(X+H)*0.5,(W+F)*0.5];var D=Math.atan2(F-W,H-X)+(Math.PI/2);var J=[e[0]+K*Math.cos(D),e[1]+K*Math.sin(D)];w=this.To({p:["drawLine","arch",[X,J[0],H],[W,J[1],F],false,false,ap,L],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}else{w=this.To({p:["drawLine",s,X,W,H,F,ap,L],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}}}else{if(v!=null){X=O+((v-this.xAxisMin)*this.xAxisUnit);if(c==="line"||c==="range"){W=an;H=(c==="range"&&am!=null)?O+((am-this.xAxisMin)*this.xAxisUnit):X;F=W+this.y;if(c==="range"){ad=n.tooltip||"x "+(U||v)+" → "+(ac||am);al=Math.abs(H-X);g=Math.abs(F-W);w=this.To({p:["drawShape","rectangle",(X+H)/2,(W+F)/2,al,g,ap,n.outline||ap,n.pattern,n.rotate],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}else{ad=n.tooltip||"x → "+(U||v);w=this.To({p:["drawLine",s,X,W,H,F,ap,L],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}}else{if((c==="point"||c==="text"||c==="label")&&u!=null){W=an+this.y-((u-this.yAxisMin)*this.yAxisUnit);H=X;F=W;if(c==="point"){ad=n.tooltip||this.gG(n.x,this.xAxisDecs)+", "+this.gG(n.y,this.yAxisDecs);w=this.To({p:["drawShape",b,X,W,L,aq,ap,ap],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}else{ad=n.tooltip||t}}}}else{if(u!=null){W=an+this.y-((u-this.yAxisMin)*this.yAxisUnit);if(c==="line"||c==="range"){X=O;H=X+this.x;F=(c==="range"&&T!=null)?an+this.y-((T-this.yAxisMin)*this.yAxisUnit):W;if(c==="range"){ad=n.tooltip||"y "+(S||u)+" → "+(ah||T);al=Math.abs(H-X);g=Math.abs(F-W);w=this.To({p:["drawShape","rectangle",(X+H)/2,(W+F)/2,al,g,ap,n.outline||ap,n.pattern,n.rotate],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}else{ad=n.tooltip||"y → "+(S||u);w=this.To({p:["drawLine",s,X,W,H,F,ap,L],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}}else{if((c==="point"||c==="text"||c==="label")&&v!=null){X=O+((v-this.xAxisMin)*this.xAxisUnit);H=X;F=W;if(c==="point"){ad=n.tooltip||this.gG(n.x,this.xAxisDecs)+", "+this.gG(n.y,this.yAxisDecs);w=this.To({p:["drawShape",b,X,W,L,aq,ap,ap],i:[ad+":Decoration-"+a],t:"Decorations"});ag.push(w)}else{ad=n.tooltip||t}}}}}}}if(X!=null&&W!=null&&t&&!q){if(T!=null&&c==="line"){var ar=this.gx(X,W,H,F);if(P==="right"){w=this.To({p:["drawText",t,H,F,m,y,"right","bottom",ar],t:"Decorations"});ag.push(w)}else{if(P==="center"){w=this.To({p:["drawText",t,(X+H)/2,(W+F)/2,m,y,"center","bottom",ar],t:"Decorations"});ag.push(w)}else{w=this.To({p:["drawText",t,X,W,m,y,"left","bottom",ar],t:"Decorations"});ag.push(w)}}}else{var N=(c==="text"||c==="label")?-this.decorationsTextFontSize*0.5:this.margin;var d=t;if(o){d=this.a9(d,o,m)}else{if(M){d=this.eS(d,M)}}var Q=this.pb(d,m)+this.margin*2;var l=this.pe(d,m)-this.margin*2;var ao={x1:((X+H)/2)-(Q/2),y1:F-(l),x2:((X+H)/2)+(Q/2),y2:F+(l)};if(G(ao)){continue}var ab,Z;var I=P;var B=ae;if(P==="right"){ab=H-N;Z=(at==="under")?F+N:F-N;B=(at==="under")?"top":"bottom"}else{if(P==="center"){ab=(X+H)/2;Z=(at==="under")?F+N:F-N;B=(at==="under")?"top":"bottom"}else{ab=X+N;Z=(at==="under")?F+N:F-N;B=(at==="under")?"top":"bottom"}}if(c==="label"){var i=ab;var h=Z-(at==="under"?0:l);if(I==="center"){i-=Q/2}if(I==="right"){i-=Q}i-=this.margin;h-=this.margin/2;w=this.To({p:["drawShape","roundrect",i+Q/2,h+l,Q,l,af,y],t:"Decorations"});ag.push(w)}w=this.To({p:["drawText",d,ab,Z,m,y,I,B],t:"Decorations"});ag.push(w)}}else{if(X!=null&&W!=null&&L&&aq&&c==="image"&&f){w=this.To({p:["drawShape","image",X,W,L,aq,false,false,false,false,false,false,false,false,false,f],t:"Decorations"});ag.push(w)}}n.render=ag}}}}};this.bE=function(){var b=this.marginLeft+this.offsetX+this.left;var a=this.marginTop+this.offsetY+this.top;var c=this.decorations;if(this.showDecorations&&c){if(this.decorationsClipped){this.To({p:["setClipArea",this.UR()],t:"Decorations"})}if(this.yW()){this.Aw(c,b,a);if(c.nlfit||c.nonlinear){this.aR(c,b,a)}if(c.reg||c.regression){this.pT(c,b,a)}if(c.nor||c.normal){this.sk(c,b,a)}this.UV(c,b,a)}else{if(c.line){this.lM(c)}if(c.range){this.p0(c,b,a)}if(c.point){this.qa(c)}if(c.text){this.Cp(c)}if(c.marker){this.IT(c)}if(c.error){this.Nf(c)}}if(this.decorationsClipped){this.To({p:["resetClipArea"],t:"Decorations"})}}};this.pz=function(){if(this.isOncoprint){var j=(this.width/2)-(this.legend.oncoprint.width/2);var c=this.height-(this.marginBottom+this.legend.oncoprint.height-this.margin);var a=0;var e=this.legend.oncoprint.width/this.legend.oncoprint.cols;var g=2;this.To({p:["drawShape","rect",this.width/2,c+(this.legend.oncoprint.height/2)-this.margin,this.legend.oncoprint.width,this.legend.oncoprint.height,this.background,this.background],i:[-1],m:["-legend-oncoprint"],t:"Legends"});for(var i=0;i<this.legend.oncoprint.rows;i++){var b=j;for(var h=0;h<this.legend.oncoprint.cols;h++){if(a<this.legend.oncoprint.labels.length){var f=this.legend.oncoprint.labels[a];var d=this.legend.oncoprint.objects[a];if(a<this.legend.oncoprintMutations){this.To({p:["drawShape","rect",b+2.5,c+10.5,5,21,this.legend.oncoprint.colors[f]],i:["Onc-"+f+"-"+d],t:"Legends"});b+=5+this.margin;this.To({p:["drawText",f,b,c+10.5+g,this.legendTextFont,this.legendTextColor,"left","middle"],t:"Legends"});b+=e}else{this.To({p:["drawShape","rect",b+2.5,c+10.5,5,21,"rgb(220,220,220"],i:["Onc-"+f+"-"+d],t:"Legends"});this.To({p:["drawShape","rect",b+2.5,c+10.5,5,7,this.legend.oncoprint.colors[f]],i:["Onc-"+f+"-"+d],t:"Legends"});b+=5+this.margin;this.To({p:["drawText",f,b,c+10.5+g,this.legendTextFont,this.legendTextColor,"left","middle"],t:"Legends"});b+=e}a++}}c+=21+this.margin}}};this.l2=function(E,C){var k=this;var b=function(I,F,G){var H=k.meta.data.s.density;if(k.showHistogram&&H){if(k.Xm()){if((H.hasOwnProperty("Samples")&&!k.segregateSamplesBy.length)||k.segregateVariablesBy.length){return k.Aj(k.data.y.smps[I],k.maxSmpStringLen)}else{if(k.meta.data.z&&k.meta.data.z[k.showHistogram]){return k.Aj(k.meta.data.z[k.showHistogram].levels[I],k.maxSmpStringLen)}else{return k.Aj(k.data.y.smps[I],k.maxSmpStringLen)}}}else{if(H.hasOwnProperty("Factor")&&k.smpIndices.length==1&&k.meta.data.z&&k.meta.data.z[k.showHistogram]){return k.Aj(k.meta.data.z[k.showHistogram].levels[I],k.maxSmpStringLen)}else{if(H.hasOwnProperty("Factor")&&k.meta.data.z&&k.meta.data.z[k.showHistogram]){return k.Aj(H.Global.sets[I].name.replace(/^Factor:/,""),k.maxSmpStringLen)}else{if(H.hasOwnProperty("Samples")){return k.Aj(k.data.y.smps[I],k.maxSmpStringLen)}else{if(H.hasOwnProperty("Variables")){return k.Aj(k.data.y.vars[I],k.maxSmpStringLen)}else{return""}}}}}}else{if(k.xAxisIndices.length==1||F==G){return k.Aj(G,k.maxSmpStringLen)}else{if(k.yAxisIndices.length==1){return k.Aj(F,k.maxSmpStringLen)}else{return k.Aj(G,k.maxSmpStringLen)+" vs "+k.Aj(F,k.maxSmpStringLen)}}}};var f=function(F){if(k.showHistogram&&k.meta.data.s.density.Global.sets[F]){return k.meta.data.s.density.Global.sets[F].color}else{return k.colors[F%k.colors.length]}};var w=function(I,H){var G=k.meta.data.s.density;if(k.showHistogram&&G){return"Series:0:"+I+":"+H}else{var F=k.xAxisIndices.length;var J=k.yAxisIndices.length;if(F==J){return"Series:"+k.xAxisIndices[I]+":"+k.yAxisIndices[I]}else{if(F>J){return"Series:"+k.xAxisIndices[I]+":0"}else{return"Series:0:"+k.yAxisIndices[I]}}}};var p=E;var m=C;var t=0;var c=this.AI();var x=Math.max(c,this.rk(this.legendTextFont));var z=this.rk(this.legendTitleFont);var y=x/2;var h=this.meta.data.s.density;C+=this.legendTextMargin+y;this.K9(p,m,this.legend.sample.width,this.legend.sample.height,"-legend-sample");var o=this.legend.sample.columns&&this.legend.sample.columns>this.legend.sample.n?this.legend.sample.n:this.legend.sample.columns?this.legend.sample.columns:this.legendColumns;var B=this.legend.sample.width/o;var g=Math.ceil(this.legend.sample.n/o);if(this.ridgeBy){for(var l=0;l<g;l++){for(var A=0;A<o;A++){E=p+((this.legendTextMargin+B)*A);if(t<this.legend.sample.n){var D=this.Aj(this.data.y.smps[t],this.maxSmpStringLen);var j=this.colors[t%this.colors.length];var r="Series:0:"+t;var d=E+y+this.legendTextMargin;this.n9(d,C,"circle",x,this.SS(j),this.V4(j),"closed","solid",this.background,D,[r],null,this.ID(false,false,r));t++}}C+=x+this.legendTextMargin}}else{if(this.legend.sample.title){var n=this.Aj(this.legend.sample.title,this.maxSmpStringLen);this.To({p:["drawText",n,E+this.legendTitleMargin,C-(z/2),this.legendTitleFont,this.legendTitleColor,this.legendTitleAlign,"middle"],t:"Legends"});C+=z+this.legendTitleMargin}for(var l=0;l<g;l++){for(var A=0;A<o;A++){E=p+((this.legendTextMargin+B)*A);if(t<this.legend.sample.n){var a=this.wn(l,false,"patternBy");var u=this.xAxisIndices.length==this.yAxisIndices.length?this.yAxis[t]:this.xAxisIndices.length>this.yAxisIndices.length?this.yAxis[this.yAxisCurrent]:this.yAxis[t];var i=this.xAxisIndices.length==this.yAxisIndices.length?this.xAxis[t]:this.xAxisIndices.length>this.yAxisIndices.length?this.xAxis[t]:this.xAxis[this.xAxisCurrent];var D=b(t,i,u);var j=f(t,D);var r=w(t,D);var s=this.shapes[t%this.shapes.length];var d=E+y+this.legendTextMargin;var v=this.ID(false,false,r);if(this.histogramAsDotplot){var e=this.histogramAsDotplot?"circle":"rectangle";this.n9(d,C,e,x,this.SS(j),this.V4(j),a,"solid",this.background,D,[r],null,v)}else{if(this.showHistogram){if(!this.showHistogramBars){if(this.showFilledHistogramDensity){this.n9(d,C,"circle",x,this.b9(this.SS(j),0.7,false,false,true),this.V4(j),false,"solid",this.background,D,[r],null,v)}else{this.mI(d,C,"circle",x,this.SS(j),this.SS(j),"solid","line",this.SS(j),D,[r],null,v)}}else{this.n9(d,C,"rectangle",x,this.SS(j),this.V4(j),false,"solid",this.background,D,[r],null,v)}}else{if(this.colorBy){if(this.scatterType=="line"){this.mI(d,C,"circle",x,this.SS(j),this.SS(j),"solid","line",this.SS(j),D,[r],null,v)}else{this.n9(d,C,"circle",x,this.background,this.SS(j),"open","solid",this.background,D,[r],null,v)}}else{if(this.isKM){j=this.SS(j);this.mI(d,C,"circle",x,j,j,"closed","solid",j,D,[r],null,v,true);if(this.showKMConfidenceIntervals){var q=this.b9(j,0.3,false,false,true);this.gC(d,C,"rectangle",x,q,q,"closed","solid",q,D,[r],null,v)}}else{if(this.scatterType=="line"){if(this.shapeBy=="sample"){this.LX(d,C,s,x,this.SS(j),this.SS(j),"solid","line",this.SS(j),D,[r],null,v)}else{this.mI(d,C,"circle",x,this.SS(j),this.SS(j),"solid","line",this.SS(j),D,[r],null,v)}}else{this.n9(d,C,"circle",x,this.SS(j),this.V4(j),a,"solid",this.background,D,[r],null,v)}}}}}}else{break}t++}C+=x+this.legendTextMargin}}};this.cZ=function(z,x){var B=this;var w=z;var v=x;var J=this.AI();var R=Math.max(J,this.rk(this.legendTextFont));var K=R/2;var n=0;var I=this.varIndices;var k=this.legendMax;var y=this.layoutValid&&!this.isDOE&&this.PG()&&this.meta.config.user.graphType&&this.meta.config.user.graphType!=this.graphType?this.meta.config.user.graphType:this.graphType;var H=function(){if(B.circularType.match(/normal/)){if(B.circularTrackGraphType.length){for(var T=0;T<B.circularTrackGraphType.length;T++){if(B.circularTrackGraphType[T]!="heatmap"){return true}}return false}}return !(B.circularType.match(/radar/)&&B.yAxis.length)};var D=function(i){if(i<B.xAxisVarIndices.length){return B.colors[i%B.colors.length]}else{return B.colors[(i-B.xAxisVarIndices.length)%B.colors.length]}};if(this.legend.variable.width==0||this.legend.variable.height==0||!this.showVariableLegend||I.length>k){return}else{this.K9(w,v,this.legend.variable.width,this.legend.variable.height,"-legend-variable");if(this.data.y.unpivoted&&this.data.y.unpivoted.factor){var S=this.rk(this.legendTitleFont)*0.5;this.To({p:["drawText",this.Aj(this.colorLegendTitle||this.data.y.unpivoted.factor,this.maxVarStringLen),w+K,v+S,this.legendTextFont,this.legendTextColor,"left","middle"],t:"Legends"});v+=S+this.legendTextMargin;x=v}}var C=function(i){if(B.isPie&&B.isPie!=true){if(B.meta.data.z&&B.meta.data.z[B.isPie]){return B.Aj(B.meta.data.z[B.isPie].levels[i],B.maxVarStringLen)}else{if(B.meta.data.x&&B.meta.data.x[B.isPie]){return B.Aj(B.meta.data.x[B.isPie].levels[i],B.maxVarStringLen)}else{return B.Aj(B.data.y.vars[i],B.maxVarStringLen)}}}else{return B.Aj(B.data.y.vars[i],B.maxVarStringLen)}};if(y=="Circular"&&this.circularType.match(/sunburst|bubble/)){return}else{if(y=="Pie"){var M=!this.layoutComb?this.width-(w+(this.legendTextMargin*1.5)):this.isDOE?this.layoutWidth-((w-this.offsetX)+(this.legendTextMargin*1.5)):999999;if(this.isDOE&&this.legend.variable.width>M){this.legend.variable.width=M}w+=K+this.legendTextMargin;v+=R;for(var P=0;P<this.varPie.ids.length;P++){var b=false;var g=this.varPie.ids[P];var t=this.varPie.cols[P];var O=g>-1?C(g):"Other";if(M>0){while((this.pb(O,this.legendTextFont)+R+(this.legendTextMargin*3))>M&&O.length>1){O=O.substring(0,O.length-1);b=true}if(b){O=O+"..."}}this.n9(w,v,"circle",R,this.SS(t),this.V4(t),"closed","solid",this.background,O,["PieVar-"+g],null,this.ID(false,false,"Var-"+g));v+=R+this.legendTextMargin;var f=this.layoutComb?this.layoutHeight:this.height;var d=this.layoutComb?(v-this.offsetY):v;if(d>f){this.To({p:["drawText","...",w+R,v,this.legendTextFont,this.legendTextColor,"left","bottom"],t:"Legends"});break}}}else{if((this.colorBy&&this.colorBy=="variable")||(this.shapeBy&&this.shapeBy=="variable")||(this.sizeBy&&this.sizeBy=="variable")||(this.patternBy&&this.patternBy=="variable")){var s=this.sizeBy&&this.sizeBy=="variable"?Math.max(this.sizes[I.length-1],R):R;var o=s/2;var j=this.legend.variable.columns||(this.legendColumns>I.length?I.length:this.legendColumns);var e=this.legend.variable.width/j;var p=Math.ceil(I.length/j);var N=this.Qu();v+=(this.legendTextMargin*3);for(var a=0;a<p;a++){for(var L=0;L<j;L++){w=z+(this.legendTextMargin+(e*L));if(n<I.length){var g=I[n];var F=y=="Circular"||(this.colorBy&&this.colorBy=="variable")?n%this.colors.length:0;var q=this.shapeBy&&this.shapeBy=="variable"?n%this.shapes.length:CanvasXpress.graphTypes.SquareOneDGraphs.includes(y)?1:0;var h=this.sizeBy&&this.sizeBy=="variable"?this.sizes[n%this.sizes.length]:s;var r=this.patternBy&&this.patternBy=="variable"?this.patterns[n%this.patterns.length]:this.wn(g,false,"patternBy");var u=w+o;var O=this.Aj(this.data.y.vars[g],this.maxVarStringLen);var c=this.ID(false,false,"Var-"+g);if(N){this.n9(u,v,this.shapes[q],h,"rgba(0,0,0,0)","rgb(0,0,0)",r,"solid",this.background,O,["Var-"+g],null,c)}else{this.n9(u,v,this.shapes[q],h,this.SS(this.colors[F]),this.V4(this.colors[F]),r,"solid",this.background,O,["Var-"+g],null,c)}}else{break}n++}v+=s+this.legendTextMargin}}else{if(y=="BarLine"||y=="DotLine"||y=="AreaLine"||y=="StackedLine"||y=="StackedPercentLine"){var m=this.xAxisVarIndices.concat(this.xAxis2VarIndices);var j=this.legend.variable.columns||(this.legendColumns>m.length?m.length:this.legendColumns);var e=this.legend.variable.width/j;var p=Math.ceil(m.length/j);v+=this.legendTextMargin+(R/2);for(var a=0;a<p;a++){for(var L=0;L<j;L++){w=z+(R/2)+this.legendTextMargin+(e*L);if(n<m.length){var g=n<this.xAxisVarIndices.length?this.xAxisVarIndices[n]:this.xAxis2VarIndices[n-this.xAxisVarIndices.length];var t=this.theme=="blackAndWhite"?"rgb(0,0,0)":this.coordinateLineColor?D(n):this.mB(this.data.y.vars[g]);var r=this.wn(g,false,"patternBy");var O=this.Aj(this.data.y.vars[g],this.maxVarStringLen);var c=this.ID(false,false,"Var-"+g);if(n<this.xAxisVarIndices.length){var A=y=="DotLine"?"circle":this.useRoundRectangles?"roundrect":"rectangle";this.n9(w,v,A,R,this.SS(t),this.V4(t),r,"solid",this.background,O,["Var-"+g],null,c)}else{var E=this.lineDecoration=="pattern"?this.linePatterns[n%this.linePatterns.length]:"line";var A=this.lineDecoration=="symbol"?this.shapes[(n-this.xAxisVarIndices.length)%this.shapes.length]:"circle";t=this.SS(t);if(this.lineDecoration&&this.lineDecoration!="pattern"&&!this.segregateVariablesBy.length&&y!="DotLine"&&y!="AreaLine"){this.LX(w,v,A,R,t,t,"closed","solid",t,O,["Var-"+g],null,c)}else{this.mI(w,v,A,R,t,t,r,E,t,O,["Var-"+g],null,c)}}}else{break}n++}v+=R+this.legendTextMargin}}else{if(y=="Bar"||y=="Line"||y=="ParallelCoordinates"||y=="Area"||y=="Dotplot"||y=="Stacked"||y=="StackedPercent"||y=="Boxplot"||y=="Fish"){var j=this.legend.variable.columns||(this.legendColumns>I.length?I.length:this.legendColumns);var G=Math.min(I.length,j);var e=G>0?this.legend.variable.width/G:this.legend.variable.width;var p=G>0?Math.ceil(I.length/G):0;v+=this.legendTextMargin+(R/2);for(var a=0;a<p;a++){for(var L=0;L<G;L++){w=z+(R/2)+this.legendTextMargin+(e*L);if(n<I.length){var g=I[n];var t=this.theme=="blackAndWhite"&&y=="Line"?"rgb(0,0,0)":this.SS(this.mB(this.data.y.vars[g]));var Q=this.V4(t);var r=this.wn(g,false,"patternBy");var O=this.Aj(this.data.y.vars[g],this.maxVarStringLen);var c=this.ID(false,false,"Var-"+g);if(y=="Boxplot"){t=this.boxplotColor?this.boxplotColor:t;Q=this.boxplotBorderColor?this.boxplotBorderColor:Q}if(y=="Line"||y=="ParallelCoordinates"){var A=this.lineDecoration=="symbol"?this.shapes[n%this.shapes.length]:"circle";var E=this.lineDecoration=="pattern"?this.linePatterns[n%this.linePatterns.length]:"line";if(this.lineDecoration&&this.lineDecoration!="pattern"&&!this.segregateVariablesBy.length){this.LX(w,v,A,R,t,t,"closed","solid",t,O,["Var-"+g],null,c)}else{this.mI(w,v,A,R,t,t,r,E,t,O,["Var-"+g],null,c)}}else{if(y=="Boxplot"){this.lT(w,v,"rectangle",R,t,Q,r,"solid",Q,O,["Var-"+g],null,c)}else{var A=y=="Dotplot"?"circle":this.useRoundRectangles?"roundrect":"rectangle";this.n9(w,v,A,R,t,Q,r,"solid",this.background,O,["Var-"+g],null,c)}}}else{break}n++}v+=R+this.legendTextMargin}}else{if(y=="Circular"&&!this.showIdeogram&&H()){var l=[];if(this.rAxisIndices.length>0){for(var P=0;P<I.length;P++){if(I[P]!=this.rAxisIndices[0]){l.push(I[P])}}}else{l=I}var j=this.legend.variable.columns||(this.legendColumns>l.length?l.length:this.legendColumns);var G=Math.min(l.length,j);var e=G>0?this.legend.variable.width/G:this.legend.variable.width;var p=G>0?Math.ceil(l.length/G):0;v+=this.legendTextMargin+(R/2);for(var a=0;a<p;a++){for(var L=0;L<G;L++){w=z+(R/2)+this.legendTextMargin+(e*L);if(n<l.length){var g=l[n];var t=this.SS(this.mB(this.data.y.vars[g]));var Q=this.V4(t);var r=this.wn(g,false,"patternBy");var O=this.Aj(this.data.y.vars[g],this.maxVarStringLen);var c=this.ID(false,false,"Var-"+g);var A="circle";this.n9(w,v,A,R,t,Q,r,"solid",this.background,O,["Var-"+g],null,c)}else{break}n++}v+=R+this.legendTextMargin}}}}}}}};this.QP=function(){if(this.showLegend){var a=this.vennColors;var c=this.rk(this.legendTextFont);var d=this.vennMarginLeft+this.marginLeft+this.left;var f=d+(c*2);var b=this.vennMarginTop+this.marginTop+this.top+this.y+this.margin+(c/2);var h=[];var g=[];for(var e in this.data.venn.legend){g.push(e)}g=g.sort();if(this.vennGroups==4){h.push(a.length>0&&this.u5(a[0])?this.u5(a[0]):"rgb(255,0,0)");h.push(a.length>1&&this.u5(a[1])?this.u5(a[1]):"rgb(0,153,51)");h.push(a.length>2&&this.u5(a[2])?this.u5(a[3]):"rgb(153,204,0)");h.push(a.length>3&&this.u5(a[3])?this.u5(a[2]):"rgb(0,0,255)")}else{if(this.vennGroups==3){h.push(a.length>0&&this.u5(a[0])?this.u5(a[0]):"rgb(255,0,0)");h.push(a.length>1&&this.u5(a[1])?this.u5(a[1]):"rgb(0,255,0)");h.push(a.length>2&&this.u5(a[2])?this.u5(a[2]):"rgb(0,0,255)")}else{if(this.vennGroups==2){h.push(a.length>0&&this.u5(a[0])?this.u5(a[0]):"rgb(0,0,255)");h.push(a.length>1&&this.u5(a[1])?this.u5(a[1]):"rgb(255,0,0)")}else{h.push(a.length>0&&this.u5(a[0])?this.u5(a[0]):"rgb(255,0,0)")}}}for(var e=0;e<this.vennGroups;e++){if(!this.vennLegendColors){this.To({p:["drawText",g[e]+": ",d,b,this.legendTextFont,this.legendTextColor,"left","middle"],t:"Legends"})}var j=this.data.venn.legend&&this.data.venn.legend[g[e]]?this.data.venn.legend[g[e]]:"N/A";var k=(this.pb(j,this.legendTextFont)>this.x)?this.M9(j,c,this.x-this.margin):this.legendTextFont;if(!this.vennLegendColors){this.To({p:["drawText",j,f,b,k,this.legendTextColor,"left","middle"],t:"Legends"})}else{this.To({p:["drawText",j,d,b,k,h[e],"left","middle"],t:"Legends"})}b+=this.margin+c}}};this.bP=function(o,a,l,G,k,z){if(z||k||this.colorBy||this.outlineBy||this.colorLabelBy||this.colorNodeBy||this.colorEdgeBy||this.colorNodeBy||this.colorEdgeBy||this.graphType=="Genome"||this.scatterType=="bin2d"||(this.isContour&&this.contourFilled)||(this.graphType=="Network"&&this.decorations.length&&this.decorationsType=="heatmap"&&this.showDecorations&&!this.colorNodeBy&&!this.colorEdgeBy)){var K=this;var r=this.heatmapIndicatorWidth;var f=this.heatmapIndicatorHeight;var M=function(S,j){if(j==undefined){if(!l.decs||l.decs>3){l.decs=K.CU(S[1]-S[0])}j=l.decs}var U=[];for(var T=0;T<S.length;T++){U[T]=typeof S[T]=="string"?S[T]:S[T].toFixed(j)}return U};var x=function(i){if(r<250){if(i.length==9){i=[i[0],i[4],i[8]]}else{if(i.length==8||i.length==7){i=[i[0],i[2],i[4],i[6]]}else{if(i.length==6||i.length==5){i=[i[0],i[2],i[4]]}}}}return i};var H=function(U,T,i,j,V){var S=K.legendTitleAlign=="center"?o+(r*0.5):K.legendTitleAlign=="left"?o:o+r;T+=K.legendTitleMargin+(i/2)-(V?0:(K.legendTitleMargin/2));K.To({p:["drawText",j,S,T,K.legendTitleFont,K.legendTitleColor,K.legendTitleAlign,"middle"],t:"Legends"})};var A=function(V){var U=e;var X=(!V||K.graphType=="Map")&&w&&K.showLegendTitle?F+K.legendTitleFontSize+(K.legendTitleMargin*2):w&&K.showLegendTitle?F+K.legendTitleFontSize+(K.legendTitleMargin*2):F;var S=V?r:f;var T=V?f:r;var W=K.theme=="GGPlot"?"rgb(255,255,255)":"rgb(0,0,0)";K.To({p:["drawShape","rectangle",U+(S/2),X+(T/2),S,T,false,W,"open"],t:"Legends"});if(V){for(var j=0;j<I.length;j++){if(I[j]>U&&I[j]<(U+S)){K.To({p:["drawLine","line",I[j],X,I[j],X+K.margin,W,1],t:"Legends"});K.To({p:["drawLine","line",I[j],X+T,I[j],X+T-K.margin,W,1],t:"Legends"})}}}else{for(var j=0;j<I.length;j++){if(I[j]>X&&I[j]<(X+T)){K.To({p:["drawLine","line",U,I[j],U+K.margin,I[j],W,1],t:"Legends"});K.To({p:["drawLine","line",U+S,I[j],U+S-K.margin,I[j],W,1],t:"Legends"})}}}};a+=this.margin;var w=this.scatterType=="bin2d"?"n":(G||l.title);var v=z?"overlaysLegendPosition":k?"heatmapIndicatorPosition":"legendPosition";var e=o;var F=a;var N=this.rk(this.legendTitleFont);var g=f;var t=f;var d=this.graphType=="Genome"?l.brew.min:this.graphType=="Map"&&l.vals?l.vals[0]:l.colorBrew?l.colorBrew.min:l.min;var n=this.graphType=="Genome"?l.brew.max:this.graphType=="Map"&&l.vals?l.vals[l.vals.length-1]:l.colorBrew?l.colorBrew.max:l.max;var h=this.graphType=="Genome"?l.brew.vals:l.colorBrew&&l.colorBrew.valStr?l.colorBrew.vals:l.vals;var y=l.valStr?l.valStr:l.colorBrew&&l.colorBrew.valStr?l.colorBrew.valStr:M(h);var b=this.graphType=="Genome"?this.colorSpectrumNumber:l.colorBrew&&l.colorBrew.breaks?l.colorBrew.breaks.length:l.breaks?l.breaks.length:this.colorSpectrumNumber;var D=r/(n-d);var B=10;var Q=this.graphType=="Circular"||(this.isContour&&!l.colorBrew)||this.scatterType=="bin2d"?l:l.colorBrew?l.colorBrew:this.meta.def.colorBrew;var R=r/b;var p=v=="overlaysLegendPosition"&&this[v]=="topRight"?true:false;var u=this.legendTitleFont;var c=this.s9()&&this.heatmapIndicatorHistogram?this.jV():false;var I=[];var J=[];var E=this[v]&&this[v].toString().match(/top|bottom/)&&!p&&(this.s9()||this.graphType=="Map"||this.graphType=="Network");if(c&&this.heatmapIndicatorOverlap){o+=this.pb(c.maxStr,this.legendTextFont);e=o}if(this[v]&&!this[v].toString().match(/top|bottom/)&&!p&&(this.s9()||this.graphType=="Map"||this.graphType=="Network")){if(w&&this.showLegendTitle){e=o}}if(E){if(w&&this.showLegendTitle){H(o,a,N,w,true);a+=(this.legendTitleMargin*2)+N}J=[o-this.legendTextFontSize,o+r+this.legendTextFontSize];this.To({p:["setClipArea",[o,a,r,f]],t:"Legends"});for(var P=0;P<b;P++){var C=this.transparency!=null?this.b9(Q.colors[P],this.transparency,true):Q.colors[P];this.To({p:["drawLine","line",o,a,o,a+t,C,B],t:"Legends"});o+=R}this.To({p:["resetClipArea"],t:"Legends"});o=e;a+=t+this.legendTextMargin;if(Q&&Q.stops&&Q.stops.length){var s=0;for(var P=0;P<Q.stops.length;P++){for(var O=0;O<b;O++){if(Q.breaks[O]>=Q.stops[P]){o=e+(O*R);I.push(o);var m=(this.pb(this.gG(Q.stops[P].toString()),this.legendTextFont)/2);if(o-m>s||P==0||P==Q.stops.length-1){this.To({p:["drawText",this.gG(Q.stops[P]),o,a,u,this.legendTextColor,"center","top"],t:"Legends"});s=o+m}break}}}}else{if(c){h=x(h);y=M(h,0);this.G2(c,e,F-0.5)}else{if(this.graphType=="Map"){h=x(h);y=M(h,0)}else{if(this.graphType=="Network"){y=h}}}for(var P=0;P<h.length;P++){o=e+((h[P]-d)*D);I.push(o);if(o>=J[0]&&o<=J[1]){this.To({p:["drawText",y[P],o,a,this.legendTextFont,this.legendTextColor,"center","top"],t:"Legends"})}}}}else{if(w&&this.showLegendTitle){H(o,a,N,w);a+=(this.legendTitleMargin*2)+N}var L=a;J=[a+r+this.legendTextFontSize,a-this.legendTextFontSize];this.To({p:["setClipArea",[o,a,f,r]],t:"Legends"});a+=(b*R);for(var P=0;P<b;P++){var C=this.transparency!=null?this.b9(Q.colors[P],this.transparency,true):Q.colors[P];this.To({p:["drawLine","line",o,a,o+g,a,C,B],t:"Legends"});a-=R}this.To({p:["resetClipArea"],t:"Legends"});o+=g+this.legendTextMargin;a=L;if(Q&&Q.stops&&Q.stops.length){a+=b*R;var s=a;for(var P=0;P<Q.stops.length;P++){for(var O=0;O<b;O++){if(Q.breaks[O]>=Q.stops[P]){t=a-(O*R);I.push(t);if(t+this.legendTextFontSize<s||P==0||P==Q.stops.length-1){this.To({p:["drawText",this.gG(Q.stops[P]),o,t,this.legendTextFont,this.legendTextColor,"left","middle"],t:"Legends"});s=t}break}}}}else{a+=b*R;var q=-((this.legendTitleMargin*2)+N);for(var P=0;P<h.length;P++){var t=a-((h[P]-d)*D);if(t>(F+q)){I.push(t);if(t<=J[0]&&t>=J[1]){if(this.graphType=="Network"){this.To({p:["drawText",h[P],o,t,this.legendTextFont,this.legendTextColor,"left","middle"],t:"Legends"})}else{this.To({p:["drawText",h[P],o,t,this.legendTextFont,this.legendTextColor,"left","middle"],t:"Legends"})}}}}}}if(!this.colorSpectrumBinned){A(E)}return a}};this.jV=function(){var d=[];for(var k=0;k<this.data.y.vars.length;k++){for(var j=0;j<this.data.y.smps.length;j++){var g=this.Cb(k,j,false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);if(g!=null&&g!==""&&!isNaN(g)){d.push(g)}}}var a=this.cp(d);var m=a[0];var r=a[1];var n=this[this.histogramSizeEstimator](d);var c=Math.ceil((r-m)/n);if(n>1000){c*=n/1000;n=1000}var s=[];for(var p=0;p<n;p++){s[p]=0}for(var k=0;k<this.data.y.vars.length;k++){for(var j=0;j<this.data.y.smps.length;j++){var g=this.Cb(k,j,false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);if(g!=null&&g!==""&&!isNaN(g)){var o=parseInt((g-m)/c);s[o]++}}}var b=0;var l=0;for(var p=0;p<n;p++){b=Math.min(b,s[p]);l=Math.max(l,s[p])}var h=this[this.axisAlgorithm](b,l,3,this.isGraphTime,this.axisWilkinsonLoose);var q=this.pQ(h);var f=(this.heatmapIndicatorWidth-1)/n;var e=this.heatmapIndicatorHeight/h[h.length-1];return{range:a,min:b,max:l,size:c,bins:n,hist:s,vals:h,maxStr:q,unitsX:f,unitsY:e}};this.G2=function(l,b,d){var a;var h=b;var n=d+this.heatmapIndicatorHeight;var g=l.bins;var m=l.hist;var f=l.vals;var k=l.unitsX;var j=l.unitsY;var c=1.5;this.To({p:["drawLine","line",h-this.margin,d,h-this.margin,n,this.foreground],t:"Legends"});for(var e=0;e<f.length;e++){d=(f[e]*j);this.To({p:["drawLine","line",h-(this.margin*2),n-d,h-this.margin,n-d,this.foreground],t:"Legends"});this.To({p:["drawText",this.gG(f[e]),h-(this.margin*3),n-d,this.legendTextFont,this.legendTextColor,"right","middle"],t:"Legends"})}d=(m[0]*j);this.To({p:["drawLine","line",h,n,h,n-d,this.heatmapIndicatorHistogramColor,c],t:"Legends"});for(var e=0;e<g;e++){d=(m[e]*j);this.To({p:["drawLine","line",h,n-d,h+k,n-d,this.heatmapIndicatorHistogramColor,c],t:"Legends"});if(e<g-1){a=(m[e+1]*j);this.To({p:["drawLine","line",h+k,n-d,h+k,n-a,this.heatmapIndicatorHistogramColor,c],t:"Legends"})}h+=k}this.To({p:["drawLine","line",h,n-a,h,n,this.heatmapIndicatorHistogramColor,c],t:"Legends"})};this.MU=function(a){if(a){if(this.graphType=="Network"){return(this[a+"By"]&&this.meta.data.edges[this[a+"By"]])||(this[a+"By"]&&this.meta.data.nodes[this[a+"By"]])}else{return(this[a+"By"]&&this.isMultidimensionalData)||(this.isContour&&this.contourType=="point")||(this.histogramAsDotplot&&this.colorBy)||(this[a+"By"]&&((this.data.x&&this.data.x.hasOwnProperty(this[a+"By"]))||(this.data.z&&this.data.z.hasOwnProperty(this[a+"By"]))||this.yV(this[a+"By"])>-1))}}else{if(this.graphType=="Network"){return(this.colorEdgeBy&&this.meta.data.edges[this.colorEdgeBy])||(this.colorNodeBy&&this.meta.data.nodes[this.colorNodeBy])||(this.decorations.length&&this.decorationsType=="heatmap")}else{return(this.colorBy&&this.isMultidimensionalData)||(this.outlineBy&&this.isMultidimensionalData)||(this.isContour&&this.contourFilled)||this.scatterType=="bin2d"||(this.histogramAsDotplot&&this.colorBy)||(this.data.x&&this.data.x.hasOwnProperty(this.lineBy))||(this.data.z&&this.data.z.hasOwnProperty(this.lineBy))||(this.colorLabelBy&&this.data.z&&this.data.z.hasOwnProperty(this.colorLabelBy))||(this.colorBy&&((this.data.x&&this.data.x.hasOwnProperty(this.colorBy))||(this.data.z&&this.data.z.hasOwnProperty(this.colorBy))||this.yV(this.colorBy)>-1||(this.colorBy=="data"&&this.ridgeBy)))}}};this.hw=function(b,e,g,f){var d=this;var a=function(){var h=d.meta.ggplot;return h&&h.labels&&h.labels.colorLegendTitle?h.labels.colorLegendTitle:d.colorBy};var c=this.graphType=="Scatter2D"&&this.lineBy&&(this.ribbonBy||this.isCxplot)&&this.colorBy==this.lineBy&&f=="color"&&!this.legendCombine;if(this.MU()&&!c){if((g.type=="Numeric"&&!g.colorBy)||(this.isContour&&this.contourFilled)||this.scatterType=="bin2d"){this.bP(b,e,(this.isTransformedData&&!this.s9())?this.p6():this.isContour?this.meta.data.q.g[0].data.colorBrew:this.scatterType=="bin2d"?this.meta.data.b.c:g,a())}else{this.A7(f,b,e,g)}}};this.kA=function(a,b,d,c){this.A7(c,a,b,d)};this.mt=function(a,b,d,c){this.A7(c,a,b,d)};this.aU=function(a,b,d,c){this.A7(c,a,b,d)};this.pu=function(a,b,d,c){this.A7(c,a,b,d)};this.A7=function(X,z,y,p){var N=this;var o=function(){if(N.graphType.match(/Boxplot|Bar/)){if(!N.showBoxplotOriginalData&&!N.boxplotColor&&!N.showViolinBoxplot){return N.useRoundRectangles?"roundrect":"rectangle"}else{return"circle"}}else{return N.showHistogram&&!N.histogramAsDotplot?"rectangle":"circle"}};var G=function(ab){var ac=N.meta.ggplot;var i=ab+"LegendTitle";if(ac&&ac.labels&&ac.labels[i]){return ac.labels[i]}else{return N[ab+"By"]}};var O=this.tx(X);if(this.MU(O)){var f=0;var q=X.replace("Node","").replace("Edge","").replace("Label","").replace("contour","size");if(q==="size"){var L=p.sizes?p.sizes:this.sizes;var Z=L.length;var v=this.isContour?p.vals.length:(this.legend.size.n||p.levels.length);for(var W=0;W<v;W++){f=Math.max(f,L[W%Z])}}else{f=this.AI()}var h=Math.max(f,this.AI());var Q=this.rk(this.legendTitleFont);var E=this.rk(this.legendTextFont);var s=this.legend[X].columns||this.legendColumns;var e=this.legend[X].n;var A=s>e?e:s;var F=Math.ceil(e/A);var r=this.legend[X].width/A;var B=y+(this.showLegendTitle?this.legendTitleMargin+(Q/2):this.legendTextMargin+(E/2));var t=Math.max(h,E);var C=0;var K=this[O+"LegendTitle"];var m=K?K:(q==="color"&&this.outlineBy)?this.outlineBy:G(O);this.Gy(z+this.legendTitleMargin,y,this.legend[X].width,this.legend[X].height,m,"-legend-"+O);if(this.showLegendTitle){B+=Q+this.legendTitleMargin;if(h>E+this.legendTextMargin){B+=h/2}}var V=this.isCxplot?this.Z7(this.legend[X].m):(this.legend[X].levels||this.Z7(this.legend[X].m));var P=p.origin?p.origin:this.meta.data.modified?"modified":this.isOncoprint||this.isMultidimensionalData?this[O+"ByData"]:this.graphType==="Network"?(X.match(/Node/)?"filterNodeBy":"filterEdgeBy"):"y";for(var b=0;b<F;b++){for(var U=0;U<A;U++){var a=z+this.legendTextMargin+(h/2)+(r*U);if(C<e&&C>=0){var H=V[C];var R;if(p.type==="Numeric"&&!this.legendStyleGgplot&&((X==="shape"&&!this.shapeByContinuous)||(X==="size"&&!this.sizeByContinuous)||(X==="sizeNode"&&!this.sizeByContinuous)||(X==="sizeEdge"&&!this.sizeByContinuous))){if(b===0&&U===0){R="<= "+H}else{if(b===F-1&&U===A-1){R=V[C-1]+" - "+H}else{R=Number(V[C-1])+" - "+H}}}else{R=H.length>this.maxTextSize?H.substring(0,this.maxTextSize-3)+"...":H}var x=o();var n=this.legend.color.m;var T=X==="colorLabel"?this.u5(p.colors[C]):p.colorBy&&p.colorBy.hasOwnProperty(H)?this.u5(p.colorBy[H]):p.colorBy&&p.colorBy.hasOwnProperty(H+"\x00")?this.u5(p.colorBy[H+"\x00"]):p.colorBy&&p.colorBy[H.replace("\x00","")]?p.colorBy[H.replace("\x00","")]:n?this.u5(n[H]):p.colors?this.u5(p.colors[C]):this.background;if(this.graphType==="Boxplot"&&this.showViolinBoxplot){T=this.b9(T,this.violinTransparency,true)}var Y=this.SS(T);var J=this.outlineBy?this.SS(T):(this.graphType==="Scatter2D"&&this.scatterType==="visium")?this.SS(T):this.V4(T);var aa=this.outlineBy?"rgba(0,0,0,0)":this.SS(T);var w="closed";var M="solid";var j=["PropertyKey:"+m+":"+H+":"+P];var d=this.graphType==="Boxplot"&&X!=="connect"&&(!this.showBoxplotOriginalData||this.boxplotColor)&&!this.showViolinBoxplot;var c=this.ID(false,false,"Property:"+m+":"+H+":"+P);var g=q;if(g==="color"){if(this.colorLabelBy){this.w8(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if(this.outlineBy){this.n9(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if((this.graphType==="Scatter2D"&&(this.scatterType==="line"||this.isQQ))||(this.graphType==="Line"&&this.patternBy)){this.mI(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if(this.isKM){this.mI(a,B,x,h,aa,J,w,M,Y,R,j,null,c,true);if(this.showKMConfidenceIntervals){var D=this.b9(T,0.3,false,false,true);this.gC(a,B,"rectangle",h,D,D,w,M,Y,R,j,null,c)}}else{if(this.showRegressionFit){this.LX(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if(d){if(this.plotStyle==="ggplotSwitched"){J=this.boxplotColor}if(J==="rgba(0,0,0,0)"){J="rgb(0,0,0)"}this.lT(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if(this.graphType==="Scatter2D"&&this.scatterType==="stream"){x="rectangle"}else{if(this.graphType==="Boxplot"){x=this.showBoxplotOriginalData?"circle":"rectangle"}}if(this.lineBy){this.LX(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if(this.legendCombine&&this.legendCombine.includes("shapeBy")){var u=this.legend.shape.m;x=p.shapeBy&&p.shapeBy.hasOwnProperty(H)?p.shapeBy[H]:u?u[H]:p.shapes[C]}this.n9(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}}}}}}}}else{if(g==="shape"){var u=this.legend.shape.m;x=p.shapeBy&&p.shapeBy.hasOwnProperty(H)?p.shapeBy[H]:u?u[H]:p.shapes[C];aa=this.background;J=this.foreground;this.n9(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if(g==="size"){var L=p.sizes?p.sizes:this.sizes;var S=L.length;var l=X==="sizeLabel"?p.sizes:p.sizeBy&&p.sizeBy.hasOwnProperty(H)?p.sizeBy[H]:X==="contour"?this.sizes[C%S]:this.legend.size.m?this.legend.size.m[H]:L[C%S];aa=this.legendStyleGgplot?this.foreground:this.background;J=this.foreground;if(X.match(/Edge/)){var k=((parseInt(this.cL(p.min,p.max,Number(R.split(/=|-/)[1])))/100)*4)+0.5;this.Or(a,B,k,h,aa,J,w,M,J,R,j,null,c)}else{if(this.sizeLabelBy){this.Fj(a,B,l[C],[l[0],l[l.length-1]],aa,J,w,M,Y,R,j,null,c)}else{this.R4(a,B,x,[l,h],aa,J,w,M,Y,R,j,null,c)}}}else{if(g==="pattern"){if(this.graphType.match(/parallelcoordinates|line/i)){M=p.linePatternBy&&p.linePatternBy.hasOwnProperty(H)?p.linePatternBy[H]:p.linePatterns[C];Y="rgb(0,0,0)";this.mI(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{aa=this.background;J=this.foreground;w=p.patternBy&&p.patternBy.hasOwnProperty(H)?p.patternBy[H]:this.legend.Patterns?this.legend.Patterns[H]:p.patterns[C];x=this.isOncoprint?"rectangle":x;if(d){if(this.plotStyle==="ggplotSwitched"){J=this.boxplotColor}this.lT(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if(this.graphType==="Boxplot"){x="rectangle"}this.n9(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}}}else{if(X==="connect"){var I=this.legend.connects;Y=p.connectBy&&p.connectBy.hasOwnProperty(H)?p.connectBy[H]:I?I[H]:p.connects[C];this.mI(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}else{if(X==="line"){if(this.ribbonBy){Y=p.lineBy&&p.lineBy.hasOwnProperty(H)?p.lineBy[H]:p.colors[C];M=this.lineBy&&p.linePatternBy&&p.linePatternBy.hasOwnProperty(H)?p.linePatternBy[H]:this.lineBy?p.linePatterns[C]:"solid";if(this.ribbonByType==="line"){this.mI(a,B,x,h,Y,Y,w,M,Y,R,j,null,c)}else{this.gC(a,B,x,h,Y,Y,w,M,Y,R,j,null,c)}}else{Y=this.colorBy!==this.lineBy?(this.graphType==="Scatter2D"&&this.showLoessFit?this.fitLineColor:"rgb(0,0,0)"):p.colors[C];M=this.colorBy!==this.lineBy?p.linePatterns[C%p.linePatterns.length]:w;if(this.graphType==="Scatter2D"&&this.scatterType==="area"){x="rectangle";this.n9(a,B,x,h,Y,J,w,M,Y,R,j,null,c)}else{this.mI(a,B,x,h,aa,J,w,M,Y,R,j,null,c)}}}}}}}}}C++}B+=this.legendTextMargin+t}}};this.Sk=function(p,n,s,f,b){var B=b.text.length;var c=this.AI();var t=b.size;if(t){for(var z=0;z<t.length;z++){if(t[z]){c=Math.max(c,t[z])}}}var A=this.rk(this.legendTitleFont);var F=this.rk(this.legendTextFont);var r=this.legendColumns>B?B:this.legendColumns;var g=Math.ceil(B/r);var j=s/r;var x=n+(b.title?this.legendTitleMargin+(A/2):this.legendTextMargin+(F/2));var a=Math.max(c,F);var E=0;this.Gy(p,n,s,f,b.title,"-legend-"+b.id);if(b.title){x+=A+(this.legendTitleMargin*2)}for(var o=0;o<g;o++){for(var D=0;D<r;D++){var h=p+this.legendTextMargin+(c/2)+(j*D);if(E<B){var k=b.text&&b.text[E]?b.text[E]:false;var v=b.shape&&b.shape[E]?b.shape[E]:false;var u=b.shapeColor&&b.shapeColor[E]?b.shapeColor[E]:this.background;var m=b.shapeBorderColor&&b.shapeBorderColor[E]?b.shapeBorderColor[E]:this.foreground;var q=b.line&&b.line[E]?b.line[E]:false;var e=b.shapePattern&&b.shapePattern[E]?b.shapePattern[E]:"closed";var C=b.lineType&&b.lineType[E]?b.lineType[E]:"solid";var y=b.lineColor&&b.lineColor[E]?b.lineColor[E]:this.foreground;var w=b.lineWidth&&b.lineWidth[E]?b.lineWidth[E]:1.5;var d=k;var l=this.ID(false,false,"legend-text-"+k);if(k){if(v&&q){this.LX(h,x,v,c,u,m,e,C,y,k,d,null,l)}else{if(v){this.n9(h,x,v,c,u,m,e,C,y,k,d,null,l)}else{if(q){this.mI(h,x,v,c,u,w,e,C,y,k,d,null,l)}else{this.QF(h,x,v,c,u,m,e,C,y,k,d,null,l)}}}}}E++}x+=this.legendTextMargin+a}};this.gp=function(m,e,r,f,n,z,q){var A=this.AI();var s=this.rk(this.legendTextFont)+2;var a=Math.max(A,s);var v=0;this.K9(m,e,r,f,"-legend");this.To({p:["drawText",z,m+(r/2),e+this.margin+(s/2),this.legendTitleFont,this.legendTitleColor,"center","middle"],t:"Legends"});v=e+s+this.margin;if(this.showLegendBorder){this.To({p:["drawLine","line",m,v,m+r,v,this.legendBackgroundBorderColor],t:"Legends"})}v+=this.margin;if(!q){q=1}var j=r/q;var h=Math.ceil(n.levels.length/q);var t=0;var o=v;var d=n.origin?n.origin:this.meta.data.modified?"modified":"y";for(var p=0;p<h;p++){for(var y=0;y<q;y++){var x=m+this.margin+(j*y);if(t<n.levels.length){var w=n.levels[t];var k;if(n.type==="String"){k=n.colors[t]}else{k=this.PW(n.colorBrew,w)}var b=this.useRoundRectangles?"roundrect":"square";var i=x+(a/2);var g=o+(a/2);var c="Property:"+z+":"+w+":"+d;var l=this.ID(false,false,c);this.To({p:["drawShape",b,i,g,a,a,this.SS(k),this.V4(k)],i:[c],t:"Legends",h:l});var u=x+a+this.margin;this.To({p:["drawText",w,u,g,this.legendTextFont,this.legendTextColor,"left","middle"],i:[c],t:"Legends",h:l})}else{break}t++}o+=a}};this.gf=function(j,c,o,d,m,n,k){var s=this.AI();var l=this.rk(this.legendTextFont)+2;var r=Math.max(s,l);var q=c;var h=j+this.margin;var g=k.color;var a=this.useRoundRectangles?"roundrect":"square";var f=h+(r/2);var e=q+(r/2);var b="Property:"+n+":"+n+":y";var i=this.ID(false,false,b);this.To({p:["drawShape",a,f,e,r,r,this.SS(g),this.V4(g)],i:[b],t:"Legends",h:i});var p=h+r+this.margin;this.To({p:["drawText",n,p,e,this.legendTextFont,this.legendTextColor,"left","middle"],i:[b],t:"Legends",h:i})};this.zJ=function(l,k){if(this.yW()){var x=this.decorations;var q=this.rk(this.decorationsTextFont);var e=this.pb(this.vy("%14s","X"),this.decorationsTextFont);var v=x.linear||x.exponential||x.logarithmic||x.power||x.polynomial||x.normal||x.nonlinear||x.nor||x.nlfit;var d=v?e:0;var C=l+(v?this.legend.decoration.maxLabel+e:this.decorationsTextMargin);var r=C;var B=k;var p=B;this.legend.decoration.curX=l;this.legend.decoration.curY=k;this.K9(l,(k-((q/2)+this.decorationsTextMargin)),this.legend.decoration.width,this.legend.decoration.height+this.decorationsTextMargin,"-legend-decorations",true);if(x.nlfit||x.nonlinear){this.To({p:["drawText","Min",r,p,this.decorationsTextFont,this.decorationsTextColor,"right","middle"],t:"Legends"});r+=e+this.decorationsTextMargin;this.To({p:["drawText","Max",r,p,this.decorationsTextFont,this.decorationsTextColor,"right","middle"],t:"Legends"});r+=e+this.decorationsTextMargin;this.To({p:["drawText","EC50",r,p,this.decorationsTextFont,this.decorationsTextColor,"right","middle"],t:"Legends"});r+=e+this.decorationsTextMargin;this.To({p:["drawText","Slope",r,p,this.decorationsTextFont,this.decorationsTextColor,"right","middle"],t:"Legends"});r+=e+this.decorationsTextMargin;this.To({p:["drawText","p-Val",r,p,this.decorationsTextFont,this.decorationsTextColor,"right","middle"],t:"Legends"});r+=e+this.decorationsTextMargin;this.To({p:["drawText","F-Chg",r,p,this.decorationsTextFont,this.decorationsTextColor,"right","middle"],t:"Legends"});p+=q+this.decorationsTextMargin;var b=x.nlfit?x.nlfit:x.nonlinear;for(var u=0;u<b.length;u++){var f=b[u].color?b[u].color:this.colors[u%this.colors.length];r=(C+this.decorationsTextMargin)-e;if(this.graphType=="ScatterBubble2D"&&this.decorationsPosition=="right"&&this.zAxisShow){r+=this.decorationsTextMargin+this.rk(this.zAxisTitleFont)+this.decorationsTextMargin}this.To({p:["drawText",b[u].label,r,p,this.decorationsTextFont,f,"right","middle"],t:"Legends"});r=C;for(var t=0;t<6;t++){var c=b[u].param[t];if(t<2){c=this.Jb(this.yAxisTransform,c)}this.To({p:["drawText",this.gG(c,this.yAxisDecs+6),r,p,this.decorationsTextFont,f,"right","middle"],t:"Legends"});r+=e+this.decorationsTextMargin}p+=q+this.decorationsTextMargin}r=C}if(x.nor||x.normal){var m=x.nor?x.nor:x.normal;if(!b){this.To({p:["drawText","Mu",r,p,this.decorationsTextFont,this.decorationsTextColor,"right","middle"],t:"Legends"});r+=e+this.decorationsTextMargin;this.To({p:["drawText","Sigma",r,p,this.decorationsTextFont,this.decorationsTextColor,"right","middle"],t:"Legends"});p+=q+this.decorationsTextMargin}for(var u=0;u<m.length;u++){var f=m[u].color?m[u].color:this.colors[u%this.colors.length];r=(C+this.decorationsTextMargin)-e;if(this.graphType=="ScatterBubble2D"&&this.decorationsPosition=="right"&&this.zAxisShow){r+=this.decorationsTextMargin+this.rk(this.zAxisTitleFont)+this.decorationsTextMargin}this.To({p:["drawText",m[u].label,r,p,this.decorationsTextFont,f,"right","middle"],t:"Legends"});r=C;this.To({p:["drawText",this.gG(m[u].mu,this.xAxisDecs+1),r,p,this.decorationsTextFont,f,"right","middle"],t:"Legends"});r+=e+this.decorationsTextMargin;this.To({p:["drawText",this.gG(m[u].sigma,this.xAxisDecs+2),r,p,this.decorationsTextFont,f,"right","middle"],t:"Legends"});p+=q+this.decorationsTextMargin}}}else{if(this.graphType=="Map"&&this.decorations&&this.decorations.pie&&this.decorations.pie[0]&&this.decorations.pie[0].smps&&this.decorations.pie[0].smps.length){var o=this.decorations.pie[0];var q=this.rk(this.decorationsTextFont);var s=q/2;var w=this.legend.decoration.columns||this.legendColumns;var h=Math.ceil(o.smps.length/w);var A=this.legend.decoration.width/w;var n=0;var z=l;var y=k;var a=y+s;for(var u=0;u<h;u++){for(var t=0;t<w;t++){var r=z+(this.decorationsTextMargin+(A*t));if(n<o.smps.length){var f=o.colors[n];var g=r+s;this.To({p:["drawShape","circle",g,a,q,q,f,this.background],t:"Legends"});this.To({p:["drawText",o.smps[n],g+s+this.decorationsTextMargin,a,this.decorationsTextFont,this.decorationsTextColor,"left","middle"],t:"Legends"})}else{break}n++}a+=(q)+this.margin}}}};this.Yu=function(e){if(e){delete (this.legend.decoration.curX);delete (this.legend.decoration.curY);delete (this.legend.decoration.x);delete (this.legend.decoration.y)}var c;if(this.graphType==="Network"){c=["colorNode","shapeNode","sizeNode","patternNode","colorEdge","sizeEdge"]}else{if(this.scatterPlotMatrix){c=["color","shape","size","pattern","variable"]}else{if(this.connectByNoColor){c=["color","shape","size","pattern","variable","sample"]}else{c=["color","shape","size","line","pattern","connect","variable","sample","bin2d","colorLabel","sizeLabel"]}}}for(var d=0;d<c.length;d++){var a=c[d];var b=this.legend[a];b.width=0;b.height=0;if(e){delete (b.curX);delete (b.curY);delete (b.x);delete (b.y)}}};this.BE=function(C,u,p){var m=Number.MAX_VALUE;var k=Number.MAX_VALUE;var s;var o=-1;var B=-1;var g=this;var d=this.graphType=="Network"?0:this.offsetX;var c=this.graphType=="Network"?0:this.offsetY;var a=this.legend;var e=function(){for(var l=0;l<g.legend.layout.length;l++){if(g.legend.layout[l]){for(var h=0;h<g.legend.layout[l].length;h++){if(g.legend.layout[l][h]==C){return[l,h]}}}}return[-1,-1]};if(a.layout){var f=e();o=f[0];B=f[1];if(o>-1&&B>-1){var b=0;var r=0;if(this.legendPosition.match(/right|left/i)){for(var z=0;z<o;z++){var n=0;if(a.layout[z]){for(var v=0;v<a.layout[z].length;v++){n=Math.max(n,a[a.layout[z][v]].width+this.margin)}}b+=n}if(a.layout[z]){for(var v=0;v<a.layout[o].length;v++){r+=a[a.layout[o][v]].height+this.margin}}}else{for(var z=0;z<o;z++){var A=0;if(a.layout[z]){for(var v=0;v<a.layout[z].length;v++){A=Math.max(A,a[a.layout[z][v]].height+this.margin)}}r+=A}if(a.layout[z]){for(var v=0;v<a.layout[o].length;v++){b+=a[a.layout[o][v]].width+this.margin}}}if(this.legendPosition.match(/right|left/i)){p=B==0&&(this.scatterPlotMatrix||(this.layoutValid&&!this.gU("legendPosition")))?this.marginTop+this.layoutTop:B==0?this.marginTop+c+this.top:p;m=u+b+(this.graphType=="Network"?-10:0);s=this.legendPosition.match(/top/)?this.margin:this.legendPosition.match(/bottom/)?this.y-(r+this.margin):((this.y-r)/2);k=B==0&&this.legendPosition=="topRight"?p:B==0&&(this.scatterPlotMatrix||(this.layoutValid&&!this.gU("legendPosition")))?(this.height-r)/2:B==0?this.marginTop+c+this.top+s:p;u=B==a.layout[o].length-1?u+b:u;p=k+a[a.layout[o][B]].height+this.margin}else{u=B==0&&(this.scatterPlotMatrix||(this.layoutValid&&!this.gU("legendPosition")))?this.marginLeft+this.layoutLeft:B==0&&u==0?0:B==0?this.marginLeft+d+this.left:u;m=B==0&&(this.scatterPlotMatrix||(this.layoutValid&&!this.gU("legendPosition")))?(this.width-b)/2:B==0&&u==0?0:B==0?this.marginLeft+d+this.left+((this.x-b)/2)+this.margin:u+this.margin;k=p+r;u=m+a[a.layout[o][B]].width+this.margin;p=B==a.layout[o].length-1?p+r:p}}}return[Math.max(0,Math.min(this.width,m)),Math.max(0,Math.min(this.height,k)),u,p]};this.KS=function(){var j,i;var b=this.legend;var f=b.variable.width;var g=b.variable.height;if(this.graphType==="Pie"&&this.layoutValid){if(this.legendPosition==="right"){j=this.width-(this.marginRight+f+this.margin);i=(this.height/2)-(g/2)}else{j=(this.width/2)-(f/2);i=this.height-(this.marginBottom+g+this.margin)}}else{if(this.graphType==="Treemap"||this.graphType==="TagCloud"){return[0,0]}else{if(this.layoutValid&&this.graphType!=="Pie"){var e=this.width-(this.marginLeft+(this.layoutLeft||this.margin)+(this.layoutRight||this.margin)+this.marginRight);var h=this.height-(this.marginTop+(this.layoutTop||this.margin)+(this.layoutBottom||this.margin)+this.marginBottom);var c=g+b.overlays.height+Math.max(0,this.margin*-0.5);var a=f+b.overlays.width+Math.max(0,this.margin*-0.5);if(this.legendPosition.match(/right/i)){j=this.width-(this.marginRight+a)}else{if(this.legendPosition.match(/left/i)){j=this.marginLeft+this.margin}else{j=this.marginLeft+(this.layoutLeft||this.margin)+(e/2)-(a/2)}}if(this.legendPosition.match(/bottom/i)){i=this.height-(this.marginBottom+c)}else{if(this.legendPosition.match(/top/i)){i=this.marginTop+this.margin+this.SP()}else{i=this.marginTop+(this.layoutTop||this.margin)+(h/2)-(c/2)}}}else{var l=this.marginLeft+this.offsetX+this.left;var d=this.marginTop+this.offsetY+this.top;if(this.legendInside||this.graphType==="Pie"){switch(this.legendPosition){case"bottomRight":j=l+this.x-(f+this.margin);i=d+this.y-(g+this.margin);break;case"bottom":j=l+(this.x/2)-(f/2);i=d+this.y-(this.graphType==="Pie"?g:(g+this.margin));break;case"bottomLeft":j=l+this.margin;i=d+this.y-(g+this.margin);break;case"left":j=l+this.margin-(this.graphType==="Pie"?(f+this.margin):0);i=d+(this.y/2)-(g/2);break;case"topLeft":j=l+this.margin;i=d+this.margin;break;case"top":j=l+(this.x/2)-(f/2);i=d+this.margin-(this.graphType==="Pie"?(g+this.margin):0);break;case"topRight":j=l+this.x-(f+this.margin);i=d+this.margin;break;default:j=l+this.x-(this.graphType==="Pie"?0:(f+this.margin));i=d+(this.y/2)-(g/2);break}}else{var m=this.overlaysLegendPosition.match(/top|bottom/i)?b.overlays.height:0;var k=this.overlaysLegendPosition.match(/right|left/i)?b.overlays.width:0;switch(this.legendPosition){case"bottomRight":j=l+this.x+this.right-(f+k+this.margin);i=d+this.y-g;break;case"bottom":j=l+(this.x/2)-(f/2);i=d+this.y+this.bottom-(g+m+this.margin);break;case"bottomLeft":j=this.marginLeft+this.offsetX+this.margin;i=d+this.y-g;break;case"left":j=this.marginLeft+this.offsetX+this.margin;i=d+(this.y/2)-(g/2);break;case"topLeft":i=d;j=this.marginLeft+this.offsetX+this.margin;break;case"top":j=l+(this.x/2)-(f/2);i=this.marginTop+this.offsetY+this.margin+this.SP();break;case"topRight":i=d;j=l+this.x+this.right-(f+k+this.margin);break;default:j=l+this.x+this.right-(f+k+this.margin);i=d+(this.y/2)-(g/2);break}}}}}return[j,i]};this.Th=function(){var o=0;var l=0;var d=0;var b=0;var g=0;var h=0;var m=this.graphType=="Network"?10:this.offsetX;var j=this.graphType=="Network"?10:this.offsetY;var f=this.marginLeft+m+this.left+this.margin;var e=this.marginTop+j+this.top+this.margin;var n=this.citation?this.citationFontSize+(this.margin*2):0;var i=this.citation?this.l0()-(this.margin*3):0;var a=this.legend;if(this.scatterPlotMatrix||(this.layoutValid&&!this.gU("legendPosition"))){if(this.legendPosition=="left"){d=this.marginLeft+this.margin}else{d=this.width-(this.marginRight+(a.width||this.margin)-this.margin)}if(this.legendPosition.match(/top/)){b=this.marginTop+this.margin+this.SP()}else{b=this.height+this.margin-(this.marginBottom+(a.height||0))}o=d-(a.decoration.width+(a.decoration.width?this.margin:0));l=b-(a.decoration.height+(a.decoration.height?this.margin:0))}else{if(this.legendInside){if(a.decoration.width>0&&a.decoration.height>0){var c=a.decoration.width+(this.margin*2);switch(this.decorationsPosition){case"bottomRight":o=f+this.x-c;l=e+this.y-(a.decoration.height+this.margin);break;case"bottom":o=f+(this.x/2)-(a.decoration.width/2);l=e+this.y-(a.decoration.height+this.margin);break;case"bottomLeft":o=f+this.margin;l=e+this.y-(a.decoration.height+this.margin);break;case"left":o=f+this.margin;l=e+(this.y/2)-(a.decoration.height/2);break;case"topLeft":o=f+this.margin;l=e+(this.margin*2);break;case"top":o=f+(this.x/2)-(a.decoration.width/2);l=e+(this.margin*2);break;case"topRight":o=f+this.x-c;l=e+(this.margin*2);break;default:o=f+this.x-c;l=e+(this.y/2)-(a.decoration.height/2);break}}if(a.width>0&&a.height>0){switch(this.legendPosition){case"bottomRight":d=f+this.x-a.width;b=e+this.y-a.height;break;case"bottom":d=f+(this.x/2)-(a.width/2);b=e+this.y-a.height;break;case"bottomLeft":d=f;b=e+this.y-a.height;break;case"left":d=f;b=e+(this.y/2)-(a.height/2);break;case"topLeft":d=f;b=e;break;case"top":d=f+(this.x/2)-(a.width/2);b=e;break;case"topRight":d=f+this.x-a.width;b=e;break;default:d=f+this.x-a.width;b=e+(this.y/2)-(a.height/2);break}}}else{switch(this.decorationsPosition){case"bottom":o=f+(this.x/2)-(a.decoration.width/2);l=e+this.y+this.bottom+this.margin-(a.decoration.height+n);break;default:o=f+this.x+this.right-(a.decoration.width+(this.margin*2));l=e+(this.y/2)-(a.decoration.height/2);break}g=this.legendPosition==this.decorationsPosition?a.decoration.width:0;h=this.legendPosition==this.decorationsPosition?a.decoration.height:0;switch(this.legendPosition){case"bottomRight":d=f+this.x+this.right-(a.width+g);b=e+this.y-(a.height/2);if(this.graphType=="Scatter3D"||this.is3DPlot){d+=a.width}if(this.isMultidimensionalData&&this.heatmapIndicatorPosition=="right"&&this.showHeatmapIndicator){d-=(this.heatmapIndicatorHeight+this.meta.def.colorBrew.maxLevLen+this.margin)}if(this.scatterType=="visium"){d-=this.margin*3}break;case"bottom":var k=this.legendHorizontalJustification;switch(true){case (k<0.5):d=0;break;case (k>0.5):d=this.width-a.width;break;default:d=f+(this.x/2)-(a.width/2);break}b=e+this.y+this.bottom-(a.height+(h?h+this.margin:-this.margin*2)+n+i);if(this.graphType=="Scatter3D"||this.is3DPlot){b+=a.height}else{if(this.graphType=="Network"){b-=this.legendTitleFontSize+(this.legendTitleMargin*2)}}break;case"bottomLeft":d=this.marginLeft+m+this.margin;b=e+this.y-(a.height/2);break;case"left":d=this.marginLeft+m+this.margin;b=e+(this.y/2)-(a.height/2);break;case"topLeft":d=this.marginLeft+m+this.margin;b=e+(a.height/2);break;case"top":var k=this.legendHorizontalJustification;switch(true){case (k<0.5):d=0;break;case (k>0.5):d=this.width-a.width;break;default:d=f+(this.x/2)-(a.width/2);break}b=this.marginTop+j+this.margin+this.SP();break;case"topRight":d=f+this.x+this.right-(a.width+g);b=e+(a.height/2);if(this.graphType=="Scatter3D"||this.is3DPlot){d+=a.width}if(this.isMultidimensionalData&&this.heatmapIndicatorPosition=="right"&&this.showHeatmapIndicator){d-=(this.heatmapIndicatorHeight+this.meta.def.colorBrew.maxLevLen+this.margin)}if(this.scatterType=="visium"){d-=this.margin*3}break;default:d=f+this.x+this.right-(a.width+g);b=e+(this.y/2)-(a.height/2);if(this.graphType=="Scatter3D"||this.is3DPlot){d+=a.width}if(this.isMultidimensionalData&&this.heatmapIndicatorPosition=="right"&&this.showHeatmapIndicator){d-=(this.heatmapIndicatorHeight+this.meta.def.colorBrew.maxLevLen+this.margin)}if(this.scatterType=="visium"){d-=this.margin*3}break}}}return[o,l,d,b]};this.Jk=function(c,a,b){this.bP(c,a,false,b)};this.On=function(h){if(this.graphType==="Meter"){return}if(this.graphType==="Fish"){var f=this.KS();this.cZ(f[0],f[1]);return}if(this.graphType==="Venn"){this.QP();return}if(this.graphType==="Circular"){var c=this.circularType.match(/sunburst|bubble/)||(this.circularType.match(/radar/)&&this.yAxis.length);if(c){this.I2(h)}else{if(this.showLegend){this.cB();var d=this.KS();this.cZ(d[0],d[1])}}return}if(this.graphType==="Network"){this.I2();return}var b=this.yW();var e=this.is3DPlot;var a=(this.Pc()||this.connectBy)&&(CanvasXpress.graphTypes.AttGraphs.includes(this.graphType)||this.graphType==="Map");if(b||e||a){this.I2(h);if(this.isOncoprint){this.pz()}this.cB();return}if(this.graphType==="Pie"&&this.layoutValid&&!this.isDOE){var g=this.layoutCurrent===this.data.l.smps.length-1;if(g){this.iy()}return}this.iy();this.cB()};this.iy=function(){var n=this.showLegend;var m=this.s9();var f=this.Pc();var o=this.isOncoprint;var g=this.graphType;var i=n&&(!m||(m&&f));if(i){var b=this.legend;var a=this.isMultidimensionalData;var e=f&&CanvasXpress.graphTypes.AttGraphs.includes(g);var d=a||e;if(d){if(o){this.pz()}this.I2()}else{var h=g==="Treemap"||g==="TagCloud";if(h){return}var c=this.KS();var k=c[0];var j=c[1];var l=b.variableX!=null&&b.variableY!=null;if(l){k=b.variableX;j=b.variableY}b.variableCurX=k;b.variableCurY=j;this.cZ(k,j)}}else{if(o){this.pz()}}};this.cB=function(){if(!this.showLegend){return}var c,h;var k=this.legend.overlays;if(this.overlaysLegendPosition.match(/right/i)){c=this.layoutValid?this.marginTop+this.layoutTop:this.marginTop+this.offsetY+this.top;if(this.overlaysLegendPosition==="right"){c+=(this.y/2)-(k.height/2)}h=this.layoutValid?this.width-(this.marginRight+this.layoutRight+k.width):this.width-(this.marginRight+k.width);if(this.s9()&&this.heatmapIndicatorPosition==="right"&&!this.heatmapIndicatorBeforeOverlays){h-=this.j0()-this.margin}}else{c=this.layoutValid?this.height-(this.marginBottom+this.layoutBottom+k.height):this.height-(this.marginBottom+k.height);h=this.layoutValid?this.marginLeft+this.layoutLeft:this.marginLeft+this.offsetX+this.left;if(this.overlaysLegendPosition==="bottom"){h+=(this.x/2)-(k.width/2)}}var d=c;var n=h;if(k.layout){for(var o=0;o<k.layout.length;o++){var l=k.layout[o];var j,r,q,g,i,b;var e=0;var m=0;var a=0;var f=0;for(var p=0;p<l.length;p++){a=Math.max(e,l[p][2]);f=Math.max(m,l[p][3])}for(var p=0;p<l.length;p++){j=l[p][0];r=l[p][1];q=this.meta.data[j][r];e=k[r].width;m=k[r].height;i=j==="z"?this.varOverlayProperties:this.smpOverlayProperties;g=i[r].legendColumns?i[r].legendColumns:j==="z"?this.varOverlaysLegendColumns:this.smpOverlaysLegendColumns;b=this.heatmapIndicatorBeforeOverlays?this.margin*3:0;if(q.type==="String"){this.gp(n+b,d,e,m,q,r,g)}else{if(i[r].type==="Default"){this.bP(n+this.margin+b,d,q,r,false,e/2)}else{this.gf(n+b,d,e,m,q,r,i[r]);d-=(this.margin*1)}}if(this.overlaysLegendPosition.match(/right/i)){d+=m+this.margin}else{n+=e+this.margin}}if(this.overlaysLegendPosition.match(/right/i)){n+=a+this.margin;d=c}else{n=h;d+=f+this.margin}}}};this.I2=function(n){var d=this.Th();var i=d[0];var h=d[1];var c=d[2];var L=d[3];var B=this.legend;if(this.showDecorations&&this.showDecorationsLegend&&this.decorations&&!this.layoutValid){var g=B.decoration.x!=null?B.decoration.x:i;var f=B.decoration.y!=null?B.decoration.y:h;this.zJ(g,f)}if(this.showLegend){var s=this.graphType==="Network"?["colorNode","shapeNode","sizeNode","patternNode","colorEdge","sizeEdge","decoration"]:this.scatterPlotMatrix?["color","shape","size","pattern","variable"]:this.connectByNoColor?["color","shape","size","pattern","variable","sample"]:["color","shape","size","line","pattern","connect","variable","sample","contour","bin2d","colorLabel","sizeLabel"];var b=c;var C=L;var k=(this.isContour&&this.contourType==="Point")?"Size":"Color";for(var t=0;t<s.length;t++){var K=s[t];var I=B[K];var y=I.width;var J=I.height;var E=I.x;var D=I.y;var m=this.Xm()&&K==="sample";if(y>0){if(n&&!m){this.pq(K);y=B[K].width;J=B[K].height}var F=this.Y5(K);var q=("draw"+F+"Legend").replace("Node","").replace("Edge","").replace("Label","").replace("Decoration","color").replace("Contour",k).replace("Bin2d",k).replace("Line","Color");var l=I.meta;var e=this.BE(K,b,C);var w,v;if(E!=null&&D!=null){w=E;v=D}else{if(e[0]!=null&&e[1]!=null){w=e[0];v=e[1]}else{continue}}if(typeof this[q]==="function"){this[q](w,v,l,K);I.curX=w;I.curY=v}else{console.warn("Missing legend draw function:",q)}if(this.legendPosition.match(/right|left/i)){C=e[3]+this.margin}else{b=e[2]+this.margin}}}for(var r=0;r<this.customLegend.length;r++){if(this.graphType==="Network"&&!this.showDecorations){continue}var u=this.customLegend[r];var x="custom"+r;var H=B[x];if(!H){continue}var G=H.width;var j=H.height;var p=H.x;var o=H.y;var a=this.BE(x,b,C);var A,z;if(p!=null&&o!=null){A=p;z=o}else{if(a[0]!=null&&a[1]!=null){A=a[0];z=a[1]}else{continue}}this.Sk(A,z,G,j,u);H.curX=A;H.curY=z;if(this.legendPosition.match(/right|left/i)){C=a[3]+this.margin}else{b=a[2]+this.margin}}}}};CanvasXpress.prototype.initMarkerUtils=function(){this.bs=function(b){var c=function(d){alert(d)};if(!this.decorations){this.decorations={}}this.showDecorations=true;var a={};if(b){if(!this.decorations[b]){this.decorations[b]=[]}a={x:null,y:null,color:"rgb(0,0,0)",id:this.oy("-decoration-")};this.decorations[b].push(a)}else{if(this.markerIds&&this.markerIds.vars.length){if(!this.decorations.marker){this.decorations.marker=[]}if(this.yW()){if(!this.markerIds.smps.length){this.markerIds.smps=[this.xAxis[0],this.yAxis[0]]}a={sample:this.TU(this.markerIds.smps),variable:this.markerIds.vars[0],type:"text",text:this.markerIds.vars[0],position:"center"}}else{if(this.markerIds.smps.length){if(this.markerIds.smps.length==2&&this.markerIds.vars.length==1){a={sample:this.markerIds.smps[0],sample2:this.markerIds.smps[1],variable:this.markerIds.vars[0],variable2:this.markerIds.vars[0],type:"comparison",text:this.markerIds.smps[0]+" - "+this.markerIds.smps[1]}}else{if(this.markerIds.smps.length==1&&this.markerIds.vars.length==1){a={sample:this.markerIds.smps[0],variable:this.markerIds.vars[0],type:"text",text:this.markerIds.smps[0],position:"center"}}}}else{a=false}}if(a){this.YU(a);this.Cf(a);this.decorations.marker.push(a)}else{c("Invalid marker configuration. Select variable(s) and sample(s).")}}else{c("Invalid marker configuration. Select variable(s) and sample(s).")}}if(a){this.x9({func:"createMarker",par:[b],prop:{markerIds:this.TU(this.markerIds)}})}this.markerIds={smps:[],vars:[]}};this.Ln=function(c){var a=this.eE(true);c=c.replace(/\s$/,"");for(var b=0;b<a.length;b++){if(a[b].id==c){a.splice(b,1);break}}if(!this.decorations.marker.length){delete this.decorations.marker}this.x9({func:"removeMarkerObject",par:[c]})};this.eE=function(a){if(this.decorations&&this.decorations.marker){return a?this.decorations.marker:this.TU(this.decorations.marker)}return[]};this.r4=function(c){var a=this.eE();c=c.replace(/\s$/,"");for(var b=0;b<a.length;b++){if(a[b].id==c){return a[b]}}return false};this.wr=function(){var d=[];if(this.decorations&&this.decorations.marker){var b=this.decorations.marker;for(var c=0;c<b.length;c++){if(b[c].variable){var a=this.tU(b[c].variable);if(a>=0){d[a]=true}}}}return d};this.Uz=function(a){if(this.layoutValid&&this.data.l&&this.data.l.comp&&this.segregateSamplesBy.length&&this.segregateVariablesBy.length){if(!a.variable){return[]}var b=this.tO(a.variable)?a.variable[0]:a.variable;for(var c=0;c<this.data.l.comp[this.layoutCurrent][0].length;c++){var d=this.data.l.comp[this.layoutCurrent][0][c];var e=this.data.y.vars[d];if(e==b){return[d]}}return[]}else{return !a.variable?[]:this.tO(a.variable)?this.tU(a.variable):this.tU([a.variable])}};this.NK=function(d){var c=this.graphType.match(/Treemap|Stacked|Dotplot/)||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)?true:false;var n=[];if(this.layoutValid&&this.data.l&&this.data.l.smps&&this.data.l.smps[this.layoutCurrent]){for(var g=0;g<this.data.l.smps[this.layoutCurrent].length;g++){if(this.data.l.smps[this.layoutCurrent][g]==d.sample){if(((this.graphType=="Boxplot"&&this.showBoxplotOriginalData)||this.graphType=="Dotplot")&&this.isGroupedData&&this.data.w){var q=false;for(var f=0;f<this.data.w.grps.length;f++){for(var e=0;e<this.data.w.grps[f].length;e++){if(this.data.l.ids[this.layoutCurrent][g]==this.data.w.grps[f][e]){n.push(f);n.push(this.data.l.ids[this.layoutCurrent][g]);q=true}}if(q){break}}}else{n.push(this.data.l.ids[this.layoutCurrent][g])}break}}if(!n.length&&this.isGroupedData&&this.data.w){for(var g=0;g<this.data.w.labs.length;g++){if(this.data.w.labs[g].replace("\x00","")==d.sample){n.push(g)}}}if(d.scope&&this.tO(d.scope)){if(this.isGroupedData&&this.data.w&&n.length){if(d.scope.length>1){if(this.data.l.name[this.layoutCurrent].includes(d.scope[0])&&this.data.l.name[this.layoutCurrent].includes(d.scope[1])){if((this.graphType=="Boxplot"&&this.showBoxplotOriginalData)||this.graphType=="Dotplot"){}else{n=[n[0]]}}else{n=null}}else{if(this.data.l.name[this.layoutCurrent].includes(d.scope[0])){if((this.graphType=="Boxplot"&&this.showBoxplotOriginalData)||this.graphType=="Dotplot"){}else{n=[n[0]]}}else{n=null}}}else{if(this.data.x){for(var g=0;g<n.length;g++){var o=n[g];var l=0;for(var a in this.data.x){if(d.scope.includes(this.data.x[a][o])){l++}}if(l==d.scope.length){n=o;break}}if(this.tO(n)){n=[n[0]]}}else{n=[n[0]]}}}}else{n=!d.sample?[]:this.tO(d.sample)?this.yV(d.sample,c):this.yV([d.sample],c);if(!n.length&&this.isGroupedData&&this.data.w){for(var g=0;g<this.data.w.grps.length;g++){var b=this.data.w.labs[g].replace("\x00","");if(d.sample[0].toString().replace("\x00","")==b){n.unshift(g);q=true;break}}}if(((this.graphType=="Boxplot"&&this.showBoxplotOriginalData)||this.graphType=="Dotplot")&&this.isGroupedData&&this.data.w){if(n.length){var q=false;for(var g=0;g<this.data.w.grps.length;g++){for(var f=0;f<this.data.w.grps[g].length;f++){if(n[0]==this.data.w.grps[g][f]){n.unshift(g);q=true;break}}if(q){break}}}else{n=!d.sample?[]:this.tO(d.sample)?this.yV(d.sample):this.yV([d.sample])}}}return this.tO(n)?n:[n]};this.la=function(f){var e=this.meta.render.objects;var c=[];for(var b=0;b<e.length;b++){var d=e[b];if(d.type=="Data"&&d.idx){var a=d.idx.join(":");if(a==f||a==f+":false"||a==f+":true"||a==f+":box"){if(this.layoutValid){if(d.layout==this.layoutCurrent){c.push(d)}}else{c.push(d)}}}}if(c.length){return c[0]}return false};this.ab=function(a){return(a.fontStyle||this.decorationsTextFontStyle)+" "+(parseInt(a.fontSize)||this.decorationsTextFontSize)+"px "+this.fontName};this.e1=function(d,j){var g=d.textLength*0.5;var n=d.textHeight*0.5;var e=d.tx<=j[2].left[0]-g;var a=d.tx>=j[2].right[0]+g;var o=d.ty<=j[2].top[1]-n;var k=d.ty>=j[2].bottom[1]+n;var i=1.1;if(o&&e){d.line[2]+=g*i;d.line2=[d.line[2],d.line[3]-n,d.line[2],d.line[3]+n]}else{if(o&&a){d.line[2]-=g*i;d.line2=[d.line[2],d.line[3]-n,d.line[2],d.line[3]+n]}else{if(k&&a){d.line[2]-=g*i;d.line2=[d.line[2],d.line[3]-n,d.line[2],d.line[3]+n]}else{if(k&&e){d.line[2]+=g*i;d.line2=[d.line[2],d.line[3]-n,d.line[2],d.line[3]+n]}else{if(o){d.line[3]+=n;d.line2=[d.line[2]-g,d.line[3],d.line[2]+g,d.line[3]]}else{if(a){d.line[2]-=g*i;d.line2=[d.line[2],d.line[3]-n,d.line[2],d.line[3]+n]}else{if(k){d.line[3]-=n;d.line2=[d.line[2]-g,d.line[3],d.line[2]+g,d.line[3]]}else{if(e){d.line[2]+=g*i;d.line2=[d.line[2],d.line[3]-n,d.line[2],d.line[3]+n]}else{}}}}}}}}};this.Cf=function(a){var b=this.wo(a.render)?a.render:this.meta.render.objects[a.render];var d=this.Fk(b,"center",true,2);a.x=d[0];a.y=d[1]};this.YU=function(w,A){if(!w.variable){return false}if(this.afterRendering||this.reproducing||this.draggingOn){A=true}var e,y,c,v,a,u,x,s,r,q,p,l;var t=w.type=="pwc"?true:false;var n=this.graphType.match(/Treemap|Stacked|Dotplot/)||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)?true:false;var k=this.Uz(w);var j=w.variable2&&this.tO(w.variable2)?this.tU(w.variable2):w.variable2?this.tU([w.variable2]):false;var i=t?w.group:this.NK(w).sort(function(m,f){return m-f});var h=t?w.group2:w.sample2&&this.tO(w.sample2)?this.yV(w.sample2,n):w.sample2?this.yV([w.sample2],n):false;var d=t?w.group3:false;var b=t?w.group4:false;var g=k.concat(i).join(":");var z=this.la(g);var o=w.position&&w.position!="false"?w.position:"center";if(z&&z.area){switch(w.type){case"pwc":e=k.concat(h).join(":");y=this.la(e);c=d?k.concat(d).join(":"):false;v=c?this.la(c):false;a=b?k.concat(b).join(":"):false;u=a?this.la(a):false;s=z?z.params[1]:false;r=y?y.params[1]:false;q=v?v.params[1]:false;p=u?u.params[1]:false;l=this.marginTop+this.offsetY+this.top+this.y-((w.ymax-this.xAxisMin)*this.xAxisUnit)+(this.margin*1.5);if(c&&a){w.tx=(s+r+q+p)/4;w.ty=l-(this.rk(this.ab(w))*0.5);w.line=[(s+q)/2,l,(r+p)/2,l]}else{if(g&&e){w.tx=(s+r)/2;w.ty=l-(this.rk(this.ab(w))*0.5);w.line=[s,l,r,l]}}break;case"range":case"comparison":e=j.concat(h).join(":");y=this.la(e);s=this.Fk(z,"top",false,4);r=this.Fk(y,"top",false,4);x=[(s[0]+r[0])/2,Math.min(s[1],r[1])-(this.rk(this.ab(w))*0.5)];w.tx=w.offsetX?x[0]+w.offsetX:x[0];w.ty=w.offsetY?x[1]+w.offsetY:x[1];w.line=[s[0],Math.min(s[1],r[1]),r[0],Math.min(s[1],r[1])];w.render=z.n;w.render2=y.n;w.position="top";w.id=w.id==null?this.oy("-marker-"):w.id;break;case"none":case"line":case"square":case"arrow":case"curvedcw":case"curvedacw":case"annotation":default:s=this.Fk(z,o,false,(w.x&&w.y?0:2),w.x,w.y,w.offsetX,w.offsetY,w.curX,w.curY);x=[s[0],s[1]];if(w.x&&w.y){x=s[3]}w.tx=A&&w.curX?w.curX:w.offsetX?x[0]+w.offsetX:x[0];w.ty=A&&w.curY?w.curY:w.offsetY?x[1]+w.offsetY:x[1];w.line=A?[s[2].center[0],s[2].center[1],w.tx,w.ty]:[s[2].center[0],s[2].center[1],x[0],x[1]];w.text=w.text.replace(/__nl__|<br>/g,"\n");w.textLength=this.pb(w.text||"",this.ab(w));w.textHeight=this.pe(w.text||"",this.ab(w));this.e1(w,s);w.render=z.n;w.id=w.id==null?this.oy("-marker-"):w.id;break}return w}return false};this.Tr=function(c){if(c&&this.decorations&&this.decorations.marker){c=c.replace(/\s$/,"");for(var b=0;b<this.decorations.marker.length;b++){var a=this.decorations.marker[b];if(c==a.id){return a}}}};this.G3=function(a){if(this.layoutValid){var c=this.layoutCurrent==false?0:this.layoutCurrent!=null?this.layoutCurrent:(this.layoutValidN||0);var b=this.layoutParams[c];if(a.si!=null||a.render){if(a.hasOwnProperty("layout")){if(a.layout!=c){return false}}return a.ty>this.offsetY&&a.ty<this.offsetY+(b.height||this.height)&&a.tx>this.offsetX&&a.tx<this.offsetX+(b.width||this.width)}else{return false}}else{return a.ty>0&&a.ty<this.height&&a.tx>0&&a.tx<this.width}};this.oz=function(b){if(b){this.TD();this.isHighlightCanvas=true}else{if(this.moveMarker){return}}if(this.decorations&&this.decorations.marker){var B=this.decorations.marker;var w=[];var a=(this.afterRendering||this.reproducing);if(this.layoutValid&&this.data.l&&!this.isDOE){var t=this.data.l.name[this.layoutCurrent];for(var A=0;A<B.length;A++){if(B[A].type=="pwc"&&this.layoutCurrent==B[A].panel-1){B[A].scope=[t]}if(!this.tO(B[A].scope)){B[A].scope=[B[A].scope]}if(B[A].scope){if(this.tO(t)){if(this.tO(B[A].scope)){var D=t.sort().join("").replace("\x00","");var r=B[A].scope.sort().join("").replace("\x00","");if(D==r){w.push(A)}}else{if(t.includes(B[A].scope[0])){w.push(A)}}}else{if(t==B[A].scope[0]){w.push(A)}}}else{w.push(A)}}}else{for(var A=0;A<B.length;A++){w.push(A)}}for(var A=0;A<w.length;A++){delete (B[w[A]].tx);delete (B[w[A]].ty);delete (B[w[A]].layout);var v=this.YU(B[w[A]],b);if(v&&v.tx&&v.ty){if(this.G3(v)||b||B[w[A]].type=="pwc"){var h=v.scope||false;if(h){var g=this.layoutValid?false:true;if(this.layoutValid){var o=this.data.l.name[this.layoutCurrent];if(!this.tO(o)){o=[o]}for(var z=0;z<o.length;z++){var u=o[z].toString().replace("\x00","");if(this.tO(h)){for(var y=0;y<h.length;y++){if(h[y].toString()==u||h[y].toString().replace("\x00","")==u){g=true;break}}}else{if(h.toString()==u){g=true;break}}}}if(!g){continue}}var f=v.rotate?Math.PI*v.rotate/180:false;v.color=v.color||"rgb(0,0,0)";v.align=v.align||"center";v.baseline=v.baseline||"middle";v.width=v.width||1;v.type=v.type||"line";v.lineColor=v.lineColor||this.foreground;var p=this.To({p:["drawText",v.text,v.tx,v.ty,this.ab(v),v.color,v.align,v.baseline,f],g:v.render||null,i:["Marker:"+v.id],t:"Decorations",d:this.moveMarker?true:false});if(!b||a){if(v.type.match(/line|square|comparison|pwc/)&&v.line){this.To({p:["drawLine","line",v.line[0],v.line[1],v.line[2],v.line[3],v.lineColor,v.width],g:v.render||p,t:"Decorations",d:this.moveMarker?true:false})}else{if(v.type.match(/arrow/)){this.To({p:["drawLine","line",v.line[2],v.line[3],v.line[0],v.line[1],v.lineColor,v.width,false,false,false,false,false,false,false,"arrow"],g:v.render||p,t:"Decorations",d:this.moveMarker?true:false})}else{if(v.type.match(/curved/)){var C=v.type=="curvedcw"?Math.PI/2:-Math.PI/2;var x=[(v.line[0]+v.line[2])*0.5,(v.line[1]+v.line[3])*0.5];var c=Math.atan2(v.line[3]-v.line[1],v.line[2]-v.line[0])+C;var e=[x[0]+25*Math.cos(c),x[1]+25*Math.sin(c)];this.To({p:["drawLine","arch",[v.line[2],e[0],v.line[0]],[v.line[3],e[1],v.line[1]],false,false,v.lineColor,v.width,false,false,false,false,false,false,false,"arrow"],g:v.render||p,t:"Decorations",d:this.moveMarker?true:false})}}}if(v.type=="comparison"||v.type=="pwc"){this.To({p:["drawLine","line",v.line[0],v.line[1]-this.margin,v.line[0],v.line[1]+this.margin,v.lineColor,v.width],g:v.render||p,t:"Decorations",d:this.moveMarker?true:false});this.To({p:["drawLine","line",v.line[2],v.line[3]-this.margin,v.line[2],v.line[3]+this.margin,v.lineColor,v.width],g:v.render||p,t:"Decorations",d:this.moveMarker?true:false})}else{if(v.type=="square"&&v.line2){this.To({p:["drawLine","line",v.line2[0],v.line2[1],v.line2[2],v.line2[3],v.lineColor,v.width],g:v.render||p,t:"Decorations",d:this.moveMarker?true:false})}}}v.curX=v.tx;v.curY=v.ty;v.renderSelf=p}}}}if(b){this.isHighlightCanvas=false}};this.te=function(f){var g=[];var e=["line","point","text","range"];if(this.decorations){for(var c=0;c<e.length;c++){if(this.decorations[e[c]]){for(var b=0;b<this.decorations[e[c]].length;b++){var a=f?this.decorations[e[c]][b]:this.TU(this.decorations[e[c]][b]);a.type=e[c];g.push(a)}}}}return g};this.HC=function(c){var b=this.te();c=c.replace(/\s$/,"");for(var a=0;a<b.length;a++){if(b[a].id==c){return b[a]}}return false};this.rX=function(d){var c=["line","point","text","range"];d=d.replace(/\s$/,"");for(var b=0;b<c.length;b++){if(this.decorations[c[b]]&&this.decorations[c[b]].length){for(var a=0;a<this.decorations[c[b]].length;a++){if(this.decorations[c[b]][a].id==d){this.decorations[c[b]].splice(a,1);if(!this.decorations[c[b]].length){delete this.decorations[c[b]]}break}}}}this.x9({func:"removeDecorationObject",par:[d]})}};CanvasXpress.prototype.initFilterUtils=function(){this.L1=function(l){this.hiddenLegends[l.id]=this.hiddenLegends[l.id]?false:true;var c=!this.hiddenLegends[l.id];var m=this.showTransition;this.showTransition=false;switch(l.type){case"var":this.W9(l.type+"s","exact",(this.tO(l.name)?l.name:[l.name]),c);break;case"smp":this.f9(l.type+"s","exact",(this.tO(l.name)?l.name:[l.name]),c);break;case"series":if(this.Xm()){var b=!this.segregateVariablesBy.length?l.name[1].split(":")[1]:l.name[1].split(":")[0];if(b){l.name=[l.name[0]];for(var e=0;e<this.data.y.smps.length;e++){var g=this.data.y.smps[e].split(":");for(var d=0;d<g.length;d++){if(g[d]==b){l.name.push(this.data.y.smps[e]);continue}}}}}this.f9("smps","exact",(this.tO(l.name)?l.name:[l.name]),c);break;case"meta":var k=this.isOncoprint||this.isMultidimensionalData&&!this.meta.data[l.object][l.factor]&&this.meta.data[l.object]?this.meta.data[l.object]:this.meta.data[l.object][l.factor];switch(l.object){case"x":if(k.type=="Numeric"){var h=k.order[l.level];var a=Number(l.level);var f=k.isRange&&h==0?Number(l.level)-k.incr:k.isRange?(k.levels[h-1]+1e-8):Number(l.level);this.TY(l.factor,"between",[f,a],c)}else{this.TY(l.factor,"exact",(this.tO(l.level)?l.level:[l.level]),c)}break;case"z":if(k.type=="Numeric"){var h=k.order[l.level];var a=Number(l.level);var f=k.isRange&&h==0?Number(l.level)-k.incr:k.isRange?(k.levels[h-1]+1e-8):Number(l.level);this.Ms(l.factor,"between",[f,a],c)}else{this.Ms(l.factor,"exact",(this.tO(l.level)?l.level:[l.level]),c)}break;case"y":var k=this.shapeBy==l.factor?this.legendShapeMeta:this.sizeBy==l.factor?this.legendSizeMeta:false;if(!k){return}var h=0;for(var e=0;e<k.vals.length;e++){if(Number(l.level)==k.vals[e]){h=e;break}}var a=k.vals[h];var f=h==0?Number(l.level)-1e-9:k.vals[h-1]+1e-9;this.Ms(l.factor,"between",[f,a],c);break;case"modified":if(this.meta.data.modified.x&&this.meta.data.modified.x.meta&&this.meta.data.modified.x.meta[l.factor]){alert("Ooops! Needs to develop this case!")}else{if(this.meta.data.modified.z&&this.meta.data.modified.z.meta&&this.meta.data.modified.z.meta[l.factor]){this.ds("filterSmpBy",l.factor,"exact",[this.meta.data.modified.z.meta[l.factor].order[l.level]],c)}}break;default:if(k&&k.type=="Numeric"){var h=k.order[l.level];var a=Number(l.level);var f=k.isRange&&h==0?Number(l.level)-k.incr:k.isRange?(k.levels[h-1]+1e-8):Number(l.level);this.m8(l.object,"between",[f,a],c)}else{this.m8(l.object,"exact",[l.level],c)}break}break;case"data":this.m8(l.object,"exact",[l.name],c);break;case"network":var k=l.object=="filterNodeBy"&&this.meta.data.nodes?this.meta.data.nodes[l.factor]:l.object=="filterEdgeBy"&&this.meta.data.edges?this.meta.data.edges[l.factor]:false;if(k&&k.type=="Numeric"){var h=k.order[l.level];var a=Number(l.level);var f=k.isRange&&h==0?Number(l.level)-k.incr:k.isRange?(k.levels[h-1]+1e-8):Number(l.level);this.m8(l.factor,"between",[f,a],c,false,l.object)}else{this.m8(l.factor,"exact",[l.level],c,false,l.object)}}this.showTransition=m};this.nU=function(r,k,b,q,l){var s=this.showTransition;this.showTransition=false;this.modifyFilterOn=true;var g=this.meta.data;var n="filterVarBy";var a,e,h;var p=[];if(r=="guess"){a=this.tU(q);h=this.tU(k);e=this.yV(q);if(this.tO(q)){for(var j=0;j<a.length;j++){if(a[j]!=null&&a[j]>=0){p.push(q[j]);n="filterVarBy";r="vars"}}if(!p.length&&h!=null&&h>=0){r="variable";p=q}}else{if(a!=null&&a>=0){p=[q];n="filterVarBy";r="vars"}else{if(h!=null&&h>=0){if(e!=null&&e>=0){r="sample";p=[q];n="filterSmpBy"}else{r="variable";p=q}}}}if(!p.length){if(this.tO(q)){for(var j=0;j<e.length;j++){if(e[j]!=null&&e[j]>=0){p.push(q[j]);n="filterSmpBy";r="smps"}}}else{if(e!=null&&e>=0){p=[q];n="filterSmpBy";r="smps"}}}if(!p.length){if(k){if(g.hasOwnProperty("x")&&g.x.hasOwnProperty(k)){g=g.x[k];r="x";n="filterSmpBy"}if(g.hasOwnProperty("z")&&g.z.hasOwnProperty(k)){g=g.z[k];r="z";n="filterVarBy"}}else{if(g.hasOwnProperty("x")){for(var j in g.x){if(g.x[j].type=="String"&&g.x[j].levels.includes(q[0])){k=j;g=g.x[j];r="x";n="filterSmpBy";break}}}if(!k){if(g.hasOwnProperty("z")){for(var j in g.z){if(g.z[j].type=="String"&&g.z[j].levels.includes(q[0])){k=j;g=g.z[j];r="z";n="filterVarBy";break}}}}}}}else{if(r=="meta"){if(k){if(g.hasOwnProperty("x")&&g.x.hasOwnProperty(k)){g=g.x[k];r="x";n="filterSmpBy"}if(g.hasOwnProperty("z")&&g.z.hasOwnProperty(k)){g=g.z[k];r="z";n="filterVarBy"}}}}if(!p.length){p=this.tO(q)?q:[q]}switch(r){case"variable":case"sample":case"vars":case"smps":case"x":case"z":this.ds(n,r.match(/x|z|variable/)?k:r=="sample"?"smps":r,b,p,false,false,l);break;case"series":case"data":case"network":alert("Ooops! Needs to develop this case!");break;case"none":this.x9({func:"modifyFilter",par:[r,k,b,q,l]});break}this.showTransition=s};this.nr=function(){if(this.modifyFilterOn){this.xAxis=[];this.yAxis=[];this.zAxis=[];this.meta.data.s=false;this.modifyFilterOn=false}};this.W9=function(f,e,c,d,a){this.ds("filterVarBy","vars",e,c,d,a)};this.Ms=function(f,e,c,d,a){this.ds("filterVarBy",f,e,c,d,a)};this.f9=function(f,e,c,d,a){this.ds("filterSmpBy","smps",e,c,d,a)};this.TY=function(c,f,d,e,a){this.ds("filterSmpBy",c,f,d,e,a)};this.m8=function(h,f,d,e,a,g){this.ds(g||"filterDataBy",h,f,d,e,a)};this.ds=function(m,p,f,r,a,s,e){if(this.KV()){return}var k={min:">=",max:"<=",equal:"==","greater-than":">=","less-than":"<=",between:"between",outside:"outside",like:"like","not like":"not like",exact:"exact",different:"different","null":"null","not null":"not null"};var c={hidden:{},unhidden:{},vs:r,op:!a};var q;this.DW();var n=this.TU(this[m]);var l=this.ii();if(!s&&a){this.L6(true,true,false,s);this.V7(l,!s);q={hiddenVars:this.TU(this.hiddenVars),hiddenSmps:this.TU(this.hiddenSmps),hiddenGrps:this.TU(this.hiddenGrps),hiddenMapFeatures:this.TU(this.hiddenMapFeatures),hiddenNodes:this.TU(this.hiddenNodes),hiddenEdges:this.TU(this.hiddenEdges)}}this[m]=n;if(a){for(var j=0;j<this[m].comp.length;j++){if(this[m].comp[j]==p&&this[m].op[j]==k[f]&&this[m].cases[j]==false&&this[m].type[j]=="Legend"&&this.gS(this[m].value[j],r)){this[m].comp.splice(j,1);this[m].op.splice(j,1);this[m].cases.splice(j,1);this[m].type.splice(j,1);this[m].value.splice(j,1)}}}else{this[m].comp.push(p);this[m].op.push(k[f]);this[m].cases.push(false);this[m].type.push(this.modifyFilterOn?"Filter":"Legend");this[m].value.push(r)}if(this.modifyFilterOn){this.L6(true);this.V7(true)}else{this.L6(true,true,false,s);this.V7(l,!s)}if(this.isGroupedData&&this.smpIndices.length>0){var d=this.TU(this.data.w.grpIdxs);this.hW(this.groupingFactors,false,d,true,true,false,l?false:true)}this.IK(q,c);if(!e){this.x9({func:"filterUserData",par:[m,p,f,r,a,s],prop:{hiddenLegends:this.hiddenLegends,modifyFilterOn:this.modifyFilterOn}})}this.userEvents.clicklegend.call(this,c,this.lastEvent,this)};this.IK=function(a,f){var g=["hiddenVars","hiddenSmps","hiddenGrps","hiddenMapFeatures","hiddenNodes","hiddenEdges"];for(var c=0;c<g.length;c++){var e=g[c];f.hidden[e]=[];f.unhidden[e]=[];if(!f.op){if(a[e]){for(var d=0;d<a[e].length;d++){if(!this[e][d]&&a[e][d]){switch(e){case"hiddenVars":f.unhidden[e][this.data.y.vars[d]]=true;break;case"hiddenSmps":f.unhidden[e][this.data.y.smps[d]]=true;break;case"hiddenGrps":f.unhidden[e][this.data.w.smps[d]]=true;break;case"hiddenMapFeatures":f.unhidden[e][vs[0]]=true;break;case"hiddenNodes":f.unhidden[e][this.data.nodes[d].id]=true;break;case"hiddenEdges":f.unhidden[e][this.data.edges[d].id]=true;break}}}}}else{if(this[e]){for(var d=0;d<this[e].length;d++){if(this[e][d]){switch(e){case"hiddenVars":f.hidden[e][this.data.y.vars[d]]=true;break;case"hiddenSmps":f.hidden[e][this.data.y.smps[d]]=true;break;case"hiddenGrps":f.hidden[e][this.data.w.smps[d]]=true;break;case"hiddenMapFeatures":f.hidden[e][f.vs[0]]=true;break;case"hiddenNodes":f.hidden[e][this.data.nodes[d].id]=true;break;case"hiddenEdges":f.hidden[e][this.data.edges[d].id]=true;break}}}}}if(this[e]){this[e+"Local"]={};for(var d=0;d<this[e].length;d++){this[e+"Local"][this.data.y.vars[d]]=this[e][d]}}}};this.xa=function(){if(this.data.bubble){var g={};var d=this.data.bubble.root.descendants();for(var e=0;e<d.length;e++){var a=d[e];if(a.label&&(a.label.x||a.label.y)){var f=a.depth+":"+a.data.name;g[f]={x:a.label.x,y:a.label.y}}}delete this.data.bubble;this.bubbleDeleted=g}};this.V7=function(C,F){if(this.isDOE){return}this.DW();var w={};var N={};var b={};var H=false;var D=this;var t=function(){var a=[];if(D.graphType.match(/line/i)&&D.xAxis.length&&D.xAxis2.length){a=D.tU(D.xAxis);return a.concat(D.tU(D.xAxis2))}else{return D.varIndices}};var E=function(a,g){return g.hasOwnProperty(a)?g[a]:false};var l=function(a){var g={s:[],v:[]};if(D.filterSmpBy.comp.length){for(var j=0;j<D.filterSmpBy.comp.length;j++){if(D.filterSmpBy.comp[j]){if(a&&D.filterSmpBy.type[j]!="Legend"){continue}g.s[j]=D.yV(D.filterSmpBy.comp[j])}}}if(D.filterVarBy.comp.length){for(var j=0;j<D.filterVarBy.comp.length;j++){if(D.filterVarBy.comp[j]){if(a&&D.filterVarBy.type[j]!="Legend"){continue}g.v[j]=D.tU(D.filterVarBy.comp[j])}}}return g};var G=function(Y){var ab=D.motionBy?D.XX(0,D.data.y.vars.length-1,1):D.graphType.match(/line/i)?t():D.varIndices;var X=l(Y);var v=[];var a;var p=false;for(var W=0;W<ab.length;W++){var ac=ab[W];var n=false;var aa=false;a=D.filterSmpBy;if(a.comp.length>0){for(var s=0;s<a.comp.length;s++){if(a.comp[s]){if(Y&&a.type[s]!="Legend"){continue}var Z=X.s[s];if(Z>=0){p=true;var k=y(D.data.y.data[ac][Z],a.op[s],a.value[s],a.cases[s]);if(D.filterType=="and"&&!Y){if(k){n=true}else{n=false;aa=true;break}}else{if(k){n=true;break}}}}}}a=D.filterVarBy;if(a.comp.length>0&&!aa){for(var s=0;s<a.comp.length;s++){if(a.comp[s]){if(Y&&a.type[s]!="Legend"){continue}var Z=X.v[s];if(Z==-1){p=true;var g=a.comp[s]=="vars"?D.data.y.vars[ac]:D.Mk(ac,"z",a.comp[s]);var ad=a.comp[s]!="vars"&&!Y?D.meta.data.z[a.comp[s]].date:false;var k=y(g,a.op[s],a.value[s],a.cases[s],ad);if(D.filterType=="and"&&!Y){if(k){n=true}else{n=false;break}}else{if(k||n){n=true;break}}}}}}if(n){v.push(ac)}}return p?v:false};var K=function(ab,aa){if(D.isGroupedData&&(!C||aa)){var ae=D.grpIndices;var X=[];var a;var v=false;for(var Y=0;Y<ae.length;Y++){var af=ae[Y];var p=false;var ad=false;a=D.filterSmpBy;if(a.comp.length>0){for(var W=0;W<a.comp.length;W++){if(a.comp[W]){if(ab&&a.type[W]!="Legend"){continue}v=true;if(a.comp[W]=="smps"){var n=false;for(var s=0;s<D.data.w.grps[af].length;s++){if(y(D.data.y.smps[D.data.w.grps[af][s]],a.op[W],a.value[W],a.cases[W])){n=true;break}}if(D.filterType=="and"&&!ab){if(n){p=true}else{p=false;ad=true;break}}else{if(n||p){p=true;break}}}else{var n=y(D.data.w.factors[a.comp[W]][Y],a.op[W],a.value[W],a.cases[W]);if(D.filterType=="and"&&!ab){if(n){p=true}else{p=false;ad=true;break}}else{if(n||p){p=true;break}}}}}}if(p){X.push(af)}}}else{var ae=D.smpIndices;var Z=l(ab);var X=[];var a;var v=false;for(var Y=0;Y<ae.length;Y++){var af=ae[Y];var p=false;var ad=false;a=D.filterVarBy;if(a.comp.length>0){for(var W=0;W<a.comp.length;W++){if(a.comp[W]){if(ab&&a.type[W]!="Legend"){continue}var ac=Z.v[W];if(ac>=0){v=true;var n=y(D.data.y.data[ac][af],a.op[W],a.value[W],a.cases[W]);if(D.filterType=="and"&&!ab){if(n){p=true}else{p=false;ad=true;break}}else{if(n){p=true;break}}}}}}a=D.filterSmpBy;if(a.comp.length>0&&!ad){for(var W=0;W<a.comp.length;W++){if(a.comp[W]){if(ab&&a.type[W]!="Legend"){continue}var ac=Z.s[W];if(ac==-1){v=true;var g=a.comp[W]=="smps"?D.data.y.smps[af]:D.Mk(af,"x",a.comp[W],true);var ag=a.comp[W]!="smps"&&!ab?D.meta.data.x[a.comp[W]].date:false;var n=y(g,a.op[W],a.value[W],a.cases[W],ag);if(D.filterType=="and"&&!ab){if(n){p=true}else{p=false;break}}else{if(n||p){p=true;break}}}}}}if(p){X.push(af)}}}return v?X:false};var y=function(v,p,k,s,a){if(!p){return true}if(D.filterSkipNullValues&&(v==null||v=="")){return true}if(a&&isNaN(v)){v=new Date(v).getTime()}if(p==">"){return parseFloat(v)-parseFloat(k)>0}else{if(p==">="){return parseFloat(v)-parseFloat(k)>0||parseFloat(v)-parseFloat(k)==0}else{if(p=="<"){return parseFloat(v)-parseFloat(k)<0}else{if(p=="<="){return parseFloat(v)-parseFloat(k)<0||parseFloat(v)-parseFloat(k)==0}else{if(p=="between"){return(parseFloat(v)-parseFloat(k[0])>0||parseFloat(v)-parseFloat(k[0])==0)&&(parseFloat(v)-parseFloat(k[1])<0||parseFloat(v)-parseFloat(k[1])==0)}else{if(p=="outside"){return parseFloat(v)-parseFloat(k[0])<0&&parseFloat(v)-parseFloat(k[1])>0}else{if(p=="="||p=="=="){return parseFloat(v)-parseFloat(k)==0}else{if(p=="null"){return v==null}else{if(p=="not null"){return v!=null}else{if(p=="exact"){for(var n=0;n<k.length;n++){if((v+"").toString()==(k[n]+"").toString()){return true}}return false}else{if(p=="different"){for(var n=0;n<k.length;n++){if((v+"").toString()==(k[n]+"").toString()){return false}}return true}else{if(p=="like"||p=="not like"){var W=false;if(s){for(var n=0;n<k.length;n++){if((v+"").search(k[n]+"")!=-1||k[n].toString()==v.toString()){W=true;if(p=="like"){break}}}}else{var g=(v+"").toLowerCase();for(var n=0;n<k.length;n++){var j=(k[n]+"").toLowerCase();if(g.search(j)!=-1||g.toString()==j.toString()){W=true;if(p=="like"){break}}}}return p=="like"?W:!W}}}}}}}}}}}}};if(this.graphType=="Genome"&&this.filterFeatureBy.comp.length>0){for(var S=0;S<this.filterFeatureBy.comp.length;S++){if(this.filterFeatureBy.comp[S]){for(var R=0;R<this.data.tracks.length;R++){var m=this.data.tracks[R];var c=m.data;for(var Q=0;Q<c.length;Q++){var z=c[Q];if(this.filterSkipNullKeys&&!z.hasOwnProperty(this.filterFeatureBy.comp[S])){continue}var I=E(this.filterFeatureBy.comp[S],z);if(!y(I,this.filterFeatureBy.opp[S],this.filterFeatureBy.value[S],this.filterFeatureBy.cases[S])){z.hide=this.filterType=="and"?true:w[R+":"+Q]?false:true;N[R+":"+Q]=true}else{w[R+":"+Q]=true;if(this.filterType=="or"&&N[R+":"+Q]){z.hide=false}}}}}}}else{if(this.graphType=="Network"&&(this.filterNodeBy.comp.length>0||this.filterEdgeBy.comp.length)){for(var S=0;S<this.filterNodeBy.comp.length;S++){if(this.filterNodeBy.comp[S]){for(var R=0;R<this.data.nodes.length;R++){if(this.filterSkipNullKeys&&!this.data.nodes[R].hasOwnProperty(this.filterNodeBy.comp[S])){continue}if(this.data.nodes[R].hide){continue}var I=E(this.filterNodeBy.comp[S],this.data.nodes[R]);var P=this.data.nodes[R].id;if(this.filterNodeBy.op[S]=="different"){if(y(I,this.filterNodeBy.op[S],this.filterNodeBy.value[S],this.filterNodeBy.cases[S])){if(F){this.hiddenNodes[P]=!this.hiddenNodes[P]}else{this.data.nodes[R].hide=!this.data.nodes[R].hide}}}else{if(!y(I,this.filterNodeBy.op[S],this.filterNodeBy.value[S],this.filterNodeBy.cases[S])){if(F){this.hiddenNodes[P]=!this.hiddenNodes[P]}else{this.data.nodes[R].hide=!this.data.nodes[R].hide}}}}}}for(var S=0;S<this.filterEdgeBy.comp.length;S++){if(this.filterEdgeBy.comp[S]){var o={};for(var R=0;R<this.data.edges.length;R++){var x=this.data.nodes[this.data.nodeIndices[this.data.edges[R].id1]];var u=this.data.nodes[this.data.nodeIndices[this.data.edges[R].id2]];var B=x.id+":"+u.id;if(this.filterSkipNullKeys&&!this.data.edges[R].hasOwnProperty(this.filterEdgeBy.comp[S])){continue}if(x.hide||u.hide||this.data.edges[R].hide){continue}if(o[B]&&F){continue}o[B]=true;var I=E(this.filterEdgeBy.comp[S],this.data.edges[R]);if(this.filterEdgeBy.op[S]=="different"){if(!y(I,this.filterEdgeBy.op[S],this.filterEdgeBy.value[S],this.filterEdgeBy.cases[S])){if(F){this.hiddenEdges[B]=!this.hiddenEdges[B]}else{this.data.edges[R].hide=!this.data.edges[R].hide}}}else{if(y(I,this.filterEdgeBy.op[S],this.filterEdgeBy.value[S],this.filterEdgeBy.cases[S])){if(F){this.hiddenEdges[B]=!this.hiddenEdges[B]}else{this.data.edges[R].hide=!this.data.edges[R].hide}}}}}}}else{if(this.graphType=="Scatter2D"&&this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/correlation|all/)&&!F){if(this.filterVarBy.length>0){this.fo("Not implemented Yet")}}else{if(this.filterDataBy.comp.length>0){var L=[];var d=this.filterDataBy;for(var S=0;S<this.varIndices.length;S++){var I=this.varIndices[S];var T=false;for(var R=0;R<this.smpIndices.length;R++){var J=this.smpIndices[R];for(var Q=0;Q<d.comp.length;Q++){var r=this.data.y[d.comp[Q]][I][J];var q=d.value[Q]=="No Alteration"?[""]:d.value[Q];var A=y(r,d.op[Q],q,d.cases[Q]);if(this.filterType=="and"&&!F){if(A){T=true}else{T=false;break}}else{if(A){T=true;break}}}if(T){break}}if(T){L.push(I)}}if(F){for(var S=0;S<L.length;S++){this.hiddenVars[L[S]]=true}}}else{if(this.filterVarBy.comp.length>0||this.filterSmpBy.comp.length>0){var L=G(F);var O=K(F);var h=this.isGroupedData&&this.layoutValid?K(F,true):false;this.xa();delete this.data.tree;if(F&&L){for(var S=0;S<L.length;S++){this.hiddenVars[L[S]]=true}}else{if(L){this.varIndices=L}}if(this.isGroupedData&&!C){if(F&&O){for(var S=0;S<O.length;S++){this.hiddenGrps[O[S]]=true}}else{if(O){this.grpIndices=O}}}else{if(F&&O){for(var S=0;S<O.length;S++){this.hiddenSmps[O[S]]=true}if(this.yW()){if(this.axesType=="X"&&this.xAxisIndices.length>1){if(this.hiddenSmps[this.yAxisIndices[0]]){this.hiddenSmps[this.yAxisIndices[0]]=false}}else{if(this.axesType=="Y"&&this.yAxisIndices.length>1){if(this.hiddenSmps[this.xAxisIndices[0]]){this.hiddenSmps[this.xAxisIndices[0]]=false}}}}}else{if(O){this.smpIndices=O}}}if(h&&F){this.hiddenGrpsLayout=[];for(var S=0;S<h.length;S++){this.hiddenGrpsLayout[h[S]]=true}}else{this.hiddenGrpsLayout=false}}else{this.hiddenGrpsLayout=false}}}}}if(this.layoutComb&&this.layoutParams&&!this.yW()){this.MS();var f=this.l4(this.varIndices);var e=this.l4(this.smpIndices);for(var S=0;S<this.data.l.comp.length;S++){var M=this.layoutParams[S];var I=M.startingVarIndices;var J=M.startingSmpIndices;var U=M.startingGrpIndices;var V=[];if(I){for(var R=0;R<I.length;R++){if(f.hasOwnProperty(I[R])){V.push(I[R])}}M.varIndices=V}V=[];if(this.isGroupedData){if(U){for(var R=0;R<U.length;R++){if(e.hasOwnProperty(U[R])){V.push(U[R])}}M.grpIndices=V}}else{if(J){for(var R=0;R<J.length;R++){if(e.hasOwnProperty(J[R])){V.push(J[R])}}M.smpIndices=V}}}}};this.fj=function(f,b){var e=this;var d=function(g){if(b!=null&&e[g].comp.length>0){e[g].comp.splice(b,1);e[g].op.splice(b,1);e[g].value.splice(b,1);e[g].cases.splice(b,1);e[g].type.splice(b,1)}else{e[g].comp=[];e[g].op=[];e[g].value=[];e[g].cases=[];e[g].type=[]}};this.nr();var a=f?[f]:["filterSmpBy","filterVarBy","filterNodeBy","filterEdgeBy","filterFeatureBy"];this.hiddenLegends={};for(var c=0;c<a.length;c++){d(a[c])}this.xa();delete this.data.tree};this.ID=function(c,f,a,h,e){if(this.graphType=="Network"){return c?this.hiddenNodes[c]:f?this.hiddenEdges[f]:a?this.hiddenLegends[a]:false}else{if(this.graphType=="Boxplot"&&!a){if(!this.showBoxplotOriginalData){if(this.hiddenGrps){return this.hiddenVars[c]||this.hiddenGrps[f]}else{return this.hiddenVars[c]||this.hiddenSmps[f]}}else{if(f!=null){if(this.hiddenGrps){return this.hiddenVars[c]||(h?this.hiddenGrps[f]:this.hiddenSmps[f])}else{return this.hiddenVars[c]||this.hiddenSmps[f]}}else{return this.hiddenVars[c]}}}else{if(this.graphType=="Tree"&&e){if(e&&e.data&&e.data.hasOwnProperty("idx")){return this.hiddenSmps[e.data.idx]}else{if(e&&e.data&&e.data.children){var b=e.data.children;for(var d=0;d<b.length;d++){if(b[d]&&b[d].hasOwnProperty("idx")){return this.hiddenSmps[b[d].idx]}else{return this.ID(c,f,a,h,b[d])}}}}return false}else{if(this.graphType=="Gantt"){return a?this.hiddenLegends[a]:this.hiddenSmps[f]}else{if(this.graphType=="Dotplot"){return a?this.hiddenLegends[a]:(this.hiddenVars[c]||this.hiddenSmps[f])}else{if(this.graphType=="Bar"&&this.is3DPlot){return a?this.hiddenLegends[a]:this.hiddenVars[c]}else{if(a){return this.hiddenLegends[a]}else{if(this.isGroupedData&&this.hiddenGrps){return this.hiddenVars[c]||this.hiddenGrps[f]}else{return this.hiddenVars[c]||this.hiddenSmps[f]}}}}}}}}}};CanvasXpress.prototype.initClusterUtils=function(){this.o1=function(){var e=this.smpDendrogramNewick&&(!this.toDoFilter||!this.toDoFilter.hasOwnProperty("sample"));var c=this.varDendrogramNewick&&(!this.toDoFilter||!this.toDoFilter.hasOwnProperty("variable"));var d=this.segregateSamplesBy.length;var f=this.segregateVariablesBy.length;if(!this.isDOE){if(e){if(this.layoutValid&&this.layoutCurrent!=null){if(this.s9()&&c&&d&&f){var b=this.smpDendrogramPosition=="right"?0:this.layoutCols-1;var g=(this.layoutCols*Math.floor(this.layoutCurrent/this.layoutCols))+b;this.NC(this.data.l.cluster[g].smpDendrogramNewick,"smpDendrogram")}else{this.NC(this.data.l.cluster[this.layoutCurrent].smpDendrogramNewick,"smpDendrogram")}}else{this.smpDendrogram={};this.NC(this.smpDendrogramNewick,"smpDendrogram")}}if(c){if(this.layoutValid&&this.layoutCurrent!=null){if(this.s9()&&e&&d&&f){var b=this.varDendrogramPosition=="bottom"?this.layoutCols:0;var g=(this.layoutCurrent%this.layoutCols)+b;this.NC(this.data.l.cluster[g].varDendrogramNewick,"varDendrogram")}else{this.NC(this.data.l.cluster[this.layoutCurrent].varDendrogramNewick,"varDendrogram")}}else{this.varDendrogram={};this.NC(this.varDendrogramNewick,"varDendrogram")}}}};this.NC=function(a,d){var m=this;var A=0;var b=[];var w={};var c=0;var g=0;var y=0;var r=0;var l=[];var D=0;var F=0;var I=0;this[d+"NodeId"]=0;var t=a.split(/\s*(;|\(|\)|,|:)\s*/);var H=this[d+"UseHeight"];var s=this.meta.tree;var o=function(x){var h=[];for(var j=0;j<x.length;j++){h.push(x[j].mid)}return m.NA(h)};var q=function(j){if(j.children){j.depth=g++;D=Math.max(D,j.depth);for(var h=0;h<j.children.length;h++){q(j.children[h]);if(j.children[h].children){j.children[h].mid=o(j.children[h].children)}}g--;r++}else{j.depth=g;y++}};var e=function(j){if(j.children){for(var h=0;h<j.children.length;h++){e(j.children[h]);if(j.children[h].children){j.children[h].len=1+D-j.children[h].depth}}}else{j.len=1+D-j.depth}};for(var C=0;C<t.length;C++){if(!A){var k=t[C];switch(k){case"(":var G={};w.children=[G];b.push(w);w=G;break;case",":if(b.length>0){var G={};b[b.length-1].children.push(G);w=G}else{A++}break;case")":w=b.pop();w.nodeId=this[d+"NodeId"]++;break;case":":break;default:var p=t[C-1];if(p==")"||p=="("||p==","){w.name=k;if(k&&!w.children){var v=d=="smpDendrogram"?this.yV(k):this.tU(k);if(v==-1){v=parseInt(k);w.name=d=="smpDendrogram"?this.data.y.smps[v]:this.data.y.vars[v];w.idx=v}else{w.idx=v}l.push(w.idx);w.ord=c++;w.mid=w.ord}}else{if(p==":"){w.height=Math.max(parseFloat(k),0.000001);if(!s){if(w.children){var E=0;for(var B=0;B<w.children.length;B++){E=Math.max(w.children[B].cumHeight||w.children[B].height,E)}w.cumHeight=E+w.height}else{w.cumHeight=w.height}I=Math.max(I,w.cumHeight)}F++}}}}else{if(A<3){this.NC("("+a+")",d);return}else{alert(d+"is not in a valid Newick format");this[d]=false;if(d=="varDendrogram"){this.varDendrogramNewick=false}else{this.smpDendrogramNewick=false}return}}}q(w);e(w);w.max=D+1;if(!s){w.height=I}w.useHeight=(F==r||F==r*2)&&H;w.mid=o(w.children);w.axis=d;this[d]=w;var u={labl:d=="varDendrogram"?"variable":"sample",show:d=="varDendrogram"?"showVarDendrogram":"showSmpDendrogram",data:d=="varDendrogram"?"vars":"smps",indx:d=="varDendrogram"?"varIndices":"smpIndices",strt:d=="varDendrogram"?"varIndicesStart":this.isGroupedData?"grpIndicesStart":"smpIndicesStart"};if(this[u.show]){var f;if(this[u.strt]<0){if(!this.layoutValid&&y!=this.data.y[u.data].length){f="Dude! The length of the "+u.labl+" nodes in the dendrogram ("+y+") is different to that one in the data ("+this.data.y[u.data].length+"). This ain't gonna work!";this.fo(f);if(this.verbose){this.s1(100,100,f,3000)}this[u.show]=false}else{if(y!=this[u.indx].length){f="Ooops! Cannot show dendrogram with "+y+" nodes when only "+this[u.indx].length+" "+u.labl+" are visible.";this.fo(f);if(this.verbose){this.s1(100,100,f,3000)}this[u.show]=false}else{this[u.indx]=l}}}else{var z=this[u.strt]+this[u.indx].length;this[u.indx]=[];for(var C=this[u.strt];C<z;C++){this[u.indx].push(l[C])}}}else{if(this[u.strt]<0){this[u.indx]=l}else{var z=this[u.strt]+this[u.indx].length;this[u.indx]=[];for(var C=this[u.strt];C<z;C++){this[u.indx].push(l[C])}}}};this.Om=function(b){var d="";if(b.children){var a=[];for(var c=0;c<b.children.length;c++){a.push(this.Om(b.children[c]))}if(a.length>0){d="("+a.join(",")+")"}}else{d=b.idx}if(b.height){d+=":"+this.vy("%.1f",b.height)}return d};this.Cz=function(b,a){b=this.SO(b,true);a=this.SO(a,true);var e=0;if(b.length==a.length){for(var c=0;c<b.length;c++){e+=Math.pow(b[c]-a[c],2)}e=Math.sqrt(e)}return e};this.UI=function(b,a){b=this.SO(b,true);a=this.SO(a,true);var e=0;if(b.length==a.length){for(var c=0;c<b.length;c++){e+=Math.abs(b[c]-a[c])}}return e};this.hj=function(b,a){b=this.SO(b,true);a=this.SO(a,true);var e=0;if(b.length==a.length){for(var c=0;c<b.length;c++){e=Math.max(e,Math.abs(b[c]-a[c]))}}return e};this.m4=function(f,c){var e=Number.POSITIVE_INFINITY;var a=0;for(var d=0;d<c.length;d++){var b=this[this.clusteringDistance](f,c[d]);if(b<e){e=b;a=d}}return a};this.nq=function(c,b){c=this.SO(c,true);b=this.SO(b,true);var a=[];if(c.length==b.length){for(var d=0;d<c.length;d++){a.push(c[d]+b[d])}}return a};this.Xp=function(b,a){if(this.tO(b)&&this.tO(a)){if(b.length!=a.length){return false}for(var c=0;c<b.length;c++){if(this.tO(b[c])&&this.tO(a[c])){if(!this.compareArrays(b[c],a[c])){return false}}if(b[c]!==a[c]){return false}}return true}};this.qJ=function(b,a){b=this.SO(b,true);a=this.SO(a,true);var d=0;if(b.length==a.length){for(var c=0;c<b.length;c++){d+=b[c]*a[c]}}return d};this.u9=function(a,c){a=this.SO(a,true);for(var b=0;b<a.length;b++){a[b]*=c}return a};this.Br=function(d,g,f,a){var h=[];if(g.length==a.length){var e=d+f;for(var b=0;b<g.length;b++){h.push((d*g[b]+f*a[b])/e)}}return h};this.hm=function(i,b,e,f,h,a){var g={id:i,left:b,right:e,dist:f,centroid:h};if(a!=null){g.mid=a}if(b==null&&e==null){g.size=1;g.depth=0}else{g.size=b.size+e.size;g.depth=1+Math.max(b.depth,e.depth)}return g};this.sr=function(c){var b=this;var a=c.slice(0);a.sort(function(){return(Math.round(b.DI())-0.5)});return a.slice(0,this.clusterAxis=="samples"?this.kmeansSmpClusters:this.kmeansVarClusters)};this.Wl=function(d,g){var c=g.length;if(d>c){return null}var l=[];var f=[];var a={};var m=0;var o=0;var j,b;while(o<d){if(m==c){return null}var h=Math.floor(this.DI()*c);if(h in a){continue}a[h]=1;m++;j=g[h];b=true;for(var e=0;e<o;e++){if(this.Xp(j,l[e])){b=false;break}}if(b){l[o]=j;f[o]=h;o++}}return{vectors:l,indices:f}};this.nI=function(a){var d=[];if(this.clusterAxis=="samples"){for(var b=0;b<this.varIndices.length;b++){var c=this.varIndices[b];d.push(this.data.y.data[c][a])}}else{for(var b=0;b<this.smpIndices.length;b++){var c=this.smpIndices[b];d.push(this.data.y.data[a][c])}}return this[this.imputeMethod](d)};this.QC=function(){var e=[];if(this.clusterAxis=="samples"){for(var b=0;b<this.smpIndices.length;b++){var c=this.smpIndices[b];var a=this.yV(c);e[b]=a==-1?c:this.data.y.smps[c]}}else{for(var b=0;b<this.varIndices.length;b++){var c=this.varIndices[b];var a=this.tU(c);e[b]=a==-1?c:this.data.y.smps[c]}}return e};this.MN=function(){var h=[];var a=[];if(this.clusterAxis=="samples"){for(var c=0;c<this.smpIndices.length;c++){h[c]=[]}for(var c=0;c<this.varIndices.length;c++){var e=this.varIndices[c];for(var b=0;b<this.smpIndices.length;b++){var f=this.smpIndices[b];var g=this.data.y.data[e][f];if(isNaN(g)){if(!a[b]){a[b]=this.nI(f)}g=a[b]}h[b][c]=g}}}else{for(var c=0;c<this.varIndices.length;c++){h[c]=[]}if(this.s9()&&this.heatmapType=="correlation"){for(var c=0;c<this.varIndices.length;c++){var e=this.varIndices[c];for(var b=0;b<this.varIndices.length;b++){var f=this.varIndices[b];var g=this.Cb(e,f,"cor");if(isNaN(g)){if(!a[c]){a[c]=this.nI(e)}g=a[c]}h[c][b]=g}}}else{for(var c=0;c<this.varIndices.length;c++){var e=this.varIndices[c];for(var b=0;b<this.smpIndices.length;b++){var f=this.smpIndices[b];var g=this.data.y.data[e][f];if(isNaN(g)){if(!a[c]){a[c]=this.nI(e)}g=a[c]}h[c][b]=g}}}}return h};this.g3=function(){var o=function(){var i=a[t][0].id;var d=a[s][0].id;if(i<0&&d>=0){return true}else{if(i<0&&d<0){return d>i}else{if(i>=0&&d>=0){return i>d}else{return false}}}};var n;var B=this.MN();var x=this.QC();var q=[];var e=[];var D=[];var a=[];if(!this.meta.tree){this.meta.tree={}}var w=this.meta.tree;var h=this.clusterAxis=="samples"?"smpDendrogramUseHeight":"varDendrogramUseHeight";this[h]=true;w[this.clusterAxis]=[];for(var A=0;A<B.length;A++){q[A]=[]}q[0][0]=Number.POSITIVE_INFINITY;for(var A=0;A<B.length-1;A++){for(var z=A+1;z<B.length;z++){q[z][z]=Number.POSITIVE_INFINITY;q[A][z]=this[this.clusteringDistance](B[A],B[z]);q[z][A]=q[A][z]}}for(var A=0;A<B.length;A++){e[A]=0;for(var z=0;z<B.length;z++){if(q[A][e[A]]>q[A][z]){e[A]=z}}}for(var A=0;A<B.length;A++){a[A]=[];a[A][0]=this.hm(x[A],null,null,0,B[A]);D[A]=1}var b=-1;for(var r=0;r<B.length-1;r++){var t=0;for(var A=0;A<B.length;A++){if(q[A][e[A]]<q[t][e[t]]){t=A}}var s=e[t];if(o()){var c=s;s=t;t=c}var f=a[t][0];var v=a[s][0];var g=this.Br(f.size,f.centroid,v.size,v.centroid);var C=this.hm(b,f,v,q[t][s],g);a[t].splice(0,0,C);for(var z=0;z<B.length;z++){if(this.linkage=="single"){if(q[t][z]>q[s][z]){q[z][t]=q[t][z]=q[s][z]}}else{if(this.linkage=="complete"){if(q[t][z]<q[s][z]){q[z][t]=q[t][z]=q[s][z]}}else{if(this.linkage=="average"){q[z][t]=q[t][z]=((D[t]*q[t][z])+(D[s]*q[s][z]))/(D[t]+D[s])}}}}D[t]+=D[s];q[t][t]=Number.POSITIVE_INFINITY;for(var A=0;A<B.length;A++){q[A][s]=q[s][A]=Number.POSITIVE_INFINITY}for(var z=0;z<B.length;z++){if(e[z]==s){e[z]=t}}for(var z=0;z<B.length;z++){for(var y=0;y<B.length;y++){if(q[y][z]<q[y][e[y]]){e[y]=z}}}n=C;w[this.clusterAxis].push([f.id,v.id,n.dist]);b--}return this.Dx(n,true)};this.KL=function(a){if(a.left==null&&a.right==null){return true}else{return false}};this.Dx=function(k,g,j){var h="";var e="";var f=false;if(this.KL(k)){f=true;if(isNaN(k.id)){h=this.clusterAxis=="variables"?this.tU(k.id):this.yV(k.id)}else{h=k.id}}else{var b;var c=this.Dx(k.left,g,true);var a=this.Dx(k.right,g,false);if(k.mid){for(var d=0;d<k.mid.length;d++){if(g&&k.mid[d].dist){e+=","+k.mid[d].id+":"+k.mid[d].dist}else{e+=","+k.mid[d].id}e+=k.mid[d].id}}h="("+c+e+","+a+")"}if(g&&!f){h+=":"+this.vy("%.1f",k.dist)}return h};this.Dn=function(){var p=this.MN();var q=this.sr(p);var m=new Array(p.length);var b=this.clusterAxis=="samples"?this.kmeansSmpClusters:this.kmeansVarClusters;var n=new Array(b);var s=0;var v=true;while(v){for(var e=0;e<p.length;e++){m[e]=this.m4(p[e],q)}v=false;for(var c=0;c<b;c++){var l=[];for(var e=0;e<m.length;e++){if(m[e]==c){l.push(p[e])}}if(!l.length){continue}var o=q[c];var u=new Array(o.length);for(var f=0;f<o.length;f++){var h=0;for(var e=0;e<l.length;e++){if(!isNaN(l[e][f])){h+=l[e][f]}}u[f]=h/l.length;if(u[f]!=o[f]){v=true}}q[c]=u;n[c]=l}s++;if(s>this.maxIterations){v=false}}var r=[];for(var e=0;e<b;e++){r[e]={distance:this[this.clusteringDistance](q[0],q[e]),assign:e}}r=r.sort(function(g,d){return g.distance-d.distance});var a={};for(var e=0;e<r.length;e++){a[r[e].assign]=e}for(var e=0;e<m.length;e++){var t=a[m[e]]+1;if(t>9){m[e]="K"+t}else{m[e]="K-0"+t}}return m}};CanvasXpress.prototype.initSortUtils=function(){this.Kp=function(h){if(this.KV()){return}var g=this.data[this.dataTableNetwork];var c=[h]?h:this.dataTableNetwork=="nodes"?"id":"id1";var b=[];var f=[];for(var e=0;e<g.length;e++){b.push(e);f.push(g[e][c]?g[e][c]:null)}if(this.eb(f)){var a=Number.MAX_VALUE*-1;b.sort(function(j,i){return(f[j]||a)-(f[i]||a)})}else{b.sort(function(j,i){return f[j]>f[i]?1:f[j]<f[i]?-1:0})}var d=[];for(var e=0;e<g.length;e++){d.push(g[b[e]])}if(this.sortDir=="ascending"){d.reverse()}this.data[this.dataTableNetwork]=d;if(this.dataTableNetwork=="nodes"){this.O1()}this.x9({func:"sortNetworkIndices",par:[h]})};this.kY=function(){if(this.isOncoprint){if(this.meta.data.z){var c=["Altered-Vars"];for(var b in this.meta.data.z){if(b.match(/delet/i)){c.unshift(b);break}}for(var b in this.meta.data.z){if(b.match(/ampli/i)){c.unshift(b);break}}this.lu("vars","desc",c)}if(this.meta.data.x){var c=["Altered-Smps"];for(var b in this.meta.data.x){if(b.match(/delet/i)){c.unshift(b);break}}for(var b in this.meta.data.x){if(b.match(/ampli/i)){c.unshift(b);break}}this.lu("smps","desc",c)}}};this.lu=function(d,l,b,c,p,q){var e=this.sortCaseSensitive;var s=Number.MAX_VALUE*-1;var w=function(m,i){if(m==null){m=""}if(i==null){i=""}if(e){return(m.toString()).localeCompare(i.toString())}else{return(m.toString().toLowerCase()).localeCompare(i.toString().toLowerCase())}};var g=function(m,i){if(m==null){m=s}if(i==null){i=s}return m-i};var j="";var n;var a=[];var r=this.meta.data;var y=[];for(var u=0;u<this.varIndices.length;u++){y.push(this.varIndices[u])}y.sort(function(m,i){return m-i});var x=[];for(var u=0;u<this.smpIndices.length;u++){x.push(this.smpIndices[u])}x.sort(function(m,i){return m-i});var v=[];if(this.grpIndices&&this.grpIndices.length){for(var u=0;u<this.grpIndices.length;u++){v.push(this.grpIndices[u])}}else{if(this.isGroupedData&&this.data.w){v=this.data.w.grpIdxs}}if(b){b=this.i4(b)}if(c){c=this.i4(c)}if(p){p=this.i4(p)}if(!l){l=this.sortDir}if(b&&d=="vars"){for(var u=0;u<b.length;u++){var f=b[u];a.push(this.TU(this.data.z[f]));j+=r.z[f].type=="Numeric"?"N":"S"}n="varIndices"}else{if(b&&d=="smps"){if(this.isGroupedData){this.isGroupedData=false;this.lu(d,l,b,c,p,q);this.isGroupedData=true}for(var u=0;u<b.length;u++){var f=b[u];a.push(this.TU(this.isGroupedData&&this.data.w?this.data.w.factors[f]:this.data.x[f]));j+=r.x[f].type=="Numeric"?"N":"S"}n=this.isGroupedData?"grpIndices":"smpIndices"}else{if(q){if(q=="varIndex"||q=="smpIndex"||q=="grpIndex"){k=q=="grpIndex"?v:q=="smpIndex"?x:y;n=q=="grpIndex"?"grpIndices":q=="smpIndex"?"smpIndices":"varIndices";if(this.sortDir=="ascending"){k=k.sort(function(m,i){return m-i})}else{k=k.sort(function(m,i){return i-m})}this[n]=k;if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n]=this.sortDir=="ascending"?this.layoutParams[u][n].sort(function(m,i){return m-i}):this.layoutParams[u][n].sort(function(m,i){return i-m});this.layoutParams[u].dragged=true}}j="I"}else{var u=c?parseInt(this.tU(c[0])):parseInt(this.yV(p[0]));a.push(this.TU(this.data.y[q][u]));j="N"}}else{if(c){for(var u=0;u<c.length;u++){a.push(this.wT(c[u]-1,y,q));j+="N"}n="varIndices"}else{if(p){if(this.isGroupedData){this.isGroupedData=false;this.lu(d,l,b,c,p,q);this.isGroupedData=true}var z=this.isGroupedData&&this.summaryType=="iqr"?this.data.w.median:this.isGroupedData?this.data.w[this.summaryType]:q?this.data.y[q]:this.data.y.data;for(var u=0;u<p.length;u++){var h=p[u]-1;if(!z[h]){h=0}a.push(this.TU(z[h]));j+="N"}n=this.isGroupedData?"grpIndices":"smpIndices"}else{if(this.isGroupedData){this.isGroupedData=false;this.lu(d,l,b,c,p,q);this.isGroupedData=true}a.push(this.TU(this.isGroupedData?this.data.w.smps:d=="vars"?this.data.y.vars:this.data.y.smps));n=this.isGroupedData?"grpIndices":d=="vars"?"varIndices":"smpIndices";j=this.eb(a[0])?"N":"S"}}}}}var k=n=="grpIndices"?v:n=="smpIndices"?x:y;switch(j){case"I":break;case"S":k.sort(function(m,i){return w(a[0][m],a[0][i])||(m-i)});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return w(a[0][m],a[0][i])||(m-i)});this.layoutParams[u].dragged=true}}break;case"N":k.sort(function(m,i){return g(a[0][m],a[0][i])});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return g(a[0][m],a[0][i])});this.layoutParams[u].dragged=true}}break;case"SS":k.sort(function(m,i){return w(a[0][m],a[0][i])||w(a[1][m],a[1][i])||(m-i)});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return w(a[0][m],a[0][i])||w(a[1][m],a[1][i])||(m-i)});this.layoutParams[u].dragged=true}}break;case"SN":k.sort(function(m,i){return w(a[0][m],a[0][i])||g(a[1][m],a[1][i])});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return w(a[0][m],a[0][i])||g(a[1][m],a[1][i])});this.layoutParams[u].dragged=true}}break;case"NN":k.sort(function(m,i){return g(a[0][m],a[0][i])||g(a[1][m],a[1][i])});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return g(a[0][m],a[0][i])||g(a[1][m],a[1][i])});this.layoutParams[u].dragged=true}}break;case"NS":k.sort(function(m,i){return g(a[0][m],a[0][i])||w(a[1][m],a[1][i])||(m-i)});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return g(a[0][m],a[0][i])||w(a[1][m],a[1][i])||(m-i)});this.layoutParams[u].dragged=true}}break;case"SSS":k.sort(function(m,i){return w(a[0][m],a[0][i])||w(a[1][m],a[1][i])||w(a[2][m],a[2][i])||(m-i)});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return w(a[0][m],a[0][i])||w(a[1][m],a[1][i])||w(a[2][m],a[2][i])||(m-i)});this.layoutParams[u].dragged=true}}break;case"SSN":k.sort(function(m,i){return w(a[0][m],a[0][i])||w(a[1][m],a[1][i])||g(a[2][m],a[2][i])});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){w(a[0][m],a[0][i])||w(a[1][m],a[1][i])||g(a[2][m],a[2][i])});this.layoutParams[u].dragged=true}}break;case"SNS":k.sort(function(m,i){return w(a[0][m],a[0][i])||g(a[1][m],a[1][i])||w(a[2][m],a[2][i])||(m-i)});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return w(a[0][m],a[0][i])||g(a[1][m],a[1][i])||w(a[2][m],a[2][i])||(m-i)});this.layoutParams[u].dragged=true}}break;case"NSS":k.sort(function(m,i){return g(a[0][m],a[0][i])||w(a[1][m],a[1][i])||w(a[2][m],a[2][i])||(m-i)});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return g(a[0][m],a[0][i])||w(a[1][m],a[1][i])||w(a[2][m],a[2][i])||(m-i)});this.layoutParams[u].dragged=true}}break;case"NNN":k.sort(function(m,i){return g(a[0][m],a[0][i])||g(a[1][m],a[1][i])||g(a[2][m],a[2][i])});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return g(a[0][m],a[0][i])||g(a[1][m],a[1][i])||g(a[2][m],a[2][i])});this.layoutParams[u].dragged=true}}break;case"NNS":k.sort(function(m,i){return g(a[0][m],a[0][i])||g(a[1][m],a[1][i])||w(a[2][m],a[2][i])||(m-i)});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return g(a[0][m],a[0][i])||g(a[1][m],a[1][i])||w(a[2][m],a[2][i])||(m-i)});this.layoutParams[u].dragged=true}}break;case"NSN":k.sort(function(m,i){return g(a[0][m],a[0][i])||w(a[1][m],a[1][i])||g(a[2][m],a[2][i])||(m-i)});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return g(a[0][m],a[0][i])||w(a[1][m],a[1][i])||g(a[2][m],a[2][i])||(m-i)});this.layoutParams[u].dragged=true}}break;case"SNN":k.sort(function(m,i){return w(a[0][m],a[0][i])||g(a[1][m],a[1][i])||g(a[2][m],a[2][i])});if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].sort(function(m,i){return w(a[0][m],a[0][i])||g(a[1][m],a[1][i])||g(a[2][m],a[2][i])});this.layoutParams[u].dragged=true}}break}if(l!="ascending"&&l!="asc"&&j!="I"){k.reverse();if(this.layoutValid&&this.layoutParams){for(var u=0;u<this.layoutParams.length;u++){this.layoutParams[u][n].reverse();this.layoutParams[u].dragged=true}}}this.sorting=[d,l,b,c,p,q];this[n]=k;if(this.isGroupedData&&n=="grpIndices"&&this.data.w&&this[n].length==this.data.w.grpIdxs.length){this.data.w.grpIdxs=this.TU(k)}};this.MA=function(a,b){var d=[];if(a.length!=b.length){return a}for(var c=0;c<a.length;c++){if(a[b[c]]){d[c]=a[b[c]]}else{return a}}return d};this.jq=function(a){return !this.eb(a)};this.Z7=function(f,b,e){var a=Object.keys(f);var c={};if(this.jq(a)){if(b||e){var g=0;if(b){for(var d=0;d<b.length;d++){c[b[d]]=g++}}if(e){for(var d=0;d<e.length;d++){c[e[d]]=g++}}return a.sort(function(j,i){var k=c[j]!=null?c[j]:1000;var h=c[i]!=null?c[i]:1000;return(k-h||j.toLowerCase().localeCompare(i.toLowerCase()))})}else{if(this.sortCaseSensitive){return a.sort()}else{return a.sort(function(i,h){return i.toLowerCase().localeCompare(h.toLowerCase())})}}}else{return a.sort(function(i,h){return i-h})}};this.nM=function(e){var c={};var a;for(var b=0;b<e.length;b++){var d=e[b]==null?"null":e[b].toString();if(d==="null"||d==="false"||d==="true"){c[b]=d}else{if(d.match(/^\d+\-\d+/)){a=d.split(/\-/);c[b]=Number(a[0])}else{if(d.match(/^\>\d+/)){a=d.split(/\>/);c[b]=Number(a[1])+1e-8}else{if(d.match(/^\<\d+/)){a=d.split(/\</);c[b]=Number(a[1])-1e-8}else{if(d.match(/^\d+/)){a=d;c[b]=a}else{return e.sort(function(g,f){if(g===f){return 0}if(g==="null"){return 1}if(f==="null"){return -1}return g<f?-1:1})}}}}}}e.sort(function(g,f){c[g]-c[f]});return e};this.fb=function(){delete this.sorting};this.iP=function(n){var h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var e=new Int32Array(n.length);var f=[].concat(h);var g=[].concat(h);var j=[].concat(h);var l=[].concat(h);var a=0;var i;var b=0;var k;var c=0;var m;var d=0;var o;var p;for(p=0;p<n.length;p++){i=n[p]&255;k=(n[p]>>8)&255;m=(n[p]>>16)&255;o=(n[p]>>24)&255^128;f[i]++;g[k]++;j[m]++;l[o]++}for(p=0;p<256;p++){i=a+f[p];k=b+g[p];m=c+j[p];o=d+l[p];f[p]=a;g[p]=b;j[p]=c;l[p]=d;a=i;b=k;c=m;d=o}for(p=0;p<n.length;p++){i=n[p]&255;e[f[i]]=n[p];f[i]++}for(p=0;p<n.length;p++){k=(e[p]>>8)&255;n[g[k]]=e[p];g[k]++}for(p=0;p<n.length;p++){m=(n[p]>>16)&255;e[j[m]]=n[p];j[m]++}for(p=0;p<n.length;p++){o=(e[p]>>24)&255^128;n[l[o]]=e[p];l[o]++}return n};this.So=function(){var c={y:{vars:[],smps:[],data:[]}};var g=[];var h=[];var f=false;var a=this.data.l?true:false;for(var d=0;d<this.varIndices.length;d++){var k=this.varIndices[d];c.y.vars[d]=this.data.y.vars[k];g.push(d)}for(var b=0;b<this.smpIndices.length;b++){var e=this.smpIndices[b];c.y.smps[b]=this.data.y.smps[e];h.push(b)}for(var d=0;d<this.varIndices.length;d++){var k=this.varIndices[d];c.y.data[d]=[];for(var b=0;b<this.smpIndices.length;b++){var e=this.smpIndices[b];c.y.data[d][b]=this.data.y.data[k][e]}}if(this.data.x){c.x={};for(var d in this.data.x){c.x[d]=[];for(var b=0;b<this.smpIndices.length;b++){var e=this.smpIndices[b];c.x[d][b]=this.data.x[d][e]}}}if(this.data.z){c.z={};for(var d in this.data.z){c.z[d]=[];for(var b=0;b<this.varIndices.length;b++){var e=this.varIndices[b];c.z[d][b]=this.data.z[d][e]}}}else{if(c.y.vars.length!=this.data.y.vars.length){c.z={};for(var d=0;d<this.data.y.vars.length;d++){if(!c.y.vars.includes(this.data.y.vars[d])){c.z[this.data.y.vars[d]]=[];for(var b=0;b<this.smpIndices.length;b++){var e=this.smpIndices[b];c.z[this.data.y.vars[d]][b]=this.data.y.data[d][e]}}}f="z"}}this.data=c;this.varIndices=g;this.smpIndices=h;this.startingVarIndices=g;this.startingSmpIndices=h;if(f){this.wD(f)}if(this.isGroupedData){this.isGroupedData=false;this.hW(this.groupingFactors,false,false,false,true)}if(this.segregateVariablesBy.length+this.segregateSamplesBy.length>0){this.HF(this.segregateVariablesBy,this.segregateSamplesBy)}}};CanvasXpress.prototype.initNumeric=function(){this.qh=function(s,m){var M=function(S){var U=this.length,T;for(T=0;T<U;++T){if(this[T]===S){return T}}return -1};var p=(Array.prototype.indexOf)?Array.prototype.indexOf:M;var a=function a(S){var V,U;function T(W){var X=[];while(typeof W==="object"){X.push(W.length);W=W[0]}return X}if(typeof S==="object"){V=S[0];if(typeof V==="object"){U=V[0];if(typeof U==="object"){return T(S)}return[S.length,V.length]}return[S.length]}return[]};var D=function(W,T,S){if(typeof S==="undefined"){S=0}var X=W[S],U=Array(X),V;if(S===W.length-1){for(V=X-2;V>=0;V-=2){U[V+1]=T;U[V]=T}if(V===-1){U[0]=T}return U}for(V=X-1;V>=0;V--){U[V]=D(W,T,S+1)}return U};var R=function(Z,Y){var S=function(ap,ao){var aj,ah,af,ad,ac,ab,al,an,ak,ai,ag,am,aq,ae;ad=ap.length;ac=ao.length;ab=ao[0].length;al=Array(ad);for(aj=ad-1;aj>=0;aj--){an=Array(ab);ak=ap[aj];for(af=ab-1;af>=0;af--){ai=ak[ac-1]*ao[ac-1][af];for(ah=ac-2;ah>=1;ah-=2){ag=ah-1;ai+=ak[ah]*ao[ah][af]+ak[ag]*ao[ag][af]}if(ah===0){ai+=ak[0]*ao[0][af]}an[af]=ai}al[aj]=an}return al};var V=function(ac,ad,ab){var af=ac.length,ae;for(ae=af-1;ae>0;--ae){ab[ae]=ac[ae][ad];--ae;ab[ae]=ac[ae][ad]}if(ae===0){ab[0]=ac[0][ad]}};var W=function(am,al){var an=V,ab=al.length,ao=Array(ab);var ae=am.length,ad=al[0].length,ac=new Array(ae),aj;var ag=aa;var ai,ah,af,ak;--ab;--ae;for(ai=ae;ai!==-1;--ai){ac[ai]=Array(ad)}--ad;for(ai=ad;ai!==-1;--ai){an(al,ai,ao);for(ah=ae;ah!==-1;--ah){ak=0;aj=am[ah];ac[ah][ai]=ag(aj,ao)}}return ac};var T=function(ab,ag){var af=ab.length,ae=ag.length,ad;var ac=Array(af);for(ad=af-1;ad>=0;ad--){ac[ad]=aa(ab[ad],ag)}return ac};var U=function(ai,ah){var aq,ap,ao,al,ak,aj,aw,au,at,af,an,ag,ad,ar,ae,ac,ab,am,av;al=ai.length;ak=ah[0].length;aw=Array(ak);for(ao=ak-1;ao>=0;ao--){af=ai[al-1]*ah[al-1][ao];for(ap=al-2;ap>=1;ap-=2){an=ap-1;af+=ai[ap]*ah[ap][ao]+ai[an]*ah[an][ao]}if(ap===0){af+=ai[0]*ah[0][ao]}aw[ao]=af}return aw};var aa=function(ab,ag){var ad,af=ab.length,ae,ac=ab[af-1]*ag[af-1];for(ad=af-2;ad>=1;ad-=2){ae=ad-1;ac+=ab[ad]*ag[ad]+ab[ae]*ag[ae]}if(ad===0){ac+=ab[0]*ag[0]}return ac};var X=a;switch(X(Z).length*1000+X(Y).length){case 2002:if(Y.length<10){return S(Z,Y)}else{return W(Z,Y)}case 2001:return T(Z,Y);case 1002:return U(Z,Y);case 1001:return aa(Z,Y);case 1000:return mulVS(Z,Y);case 1:return mulSV(Z,Y);case 0:return Z*Y;default:throw new Error("dot only works on vectors and matrices")}};var k=function(X){var V,W,U,Y=X.length,S=Array(Y),T;for(V=Y-1;V>=0;V--){T=Array(Y);W=V+2;for(U=Y-1;U>=W;U-=2){T[U]=0;T[U-1]=0}if(U>V){T[U]=0}T[V]=X[V];for(U=V-1;U>=1;U-=2){T[U]=0;T[U-1]=0}if(U===0){T[0]=0}S[V]=T}return S};var C=function(S){var V=Math.min(S.length,S[0].length),U,T=Array(V);for(U=V-1;U>=1;--U){T[U]=S[U][U];--U;T[U]=S[U][U]}if(U===0){T[0]=S[0][0]}return T};var G=function(S){return k(D([S],1))};var I=function(S,Y,V,T,W){if(T===V.length-1){W(S,Y);return}var U,X=V[T];for(U=X-1;U>=0;U--){I(typeof S==="object"?S[U]:S,typeof Y==="object"?Y[U]:Y,V,T+1,W)}};var L=function(S,Z,W,T,X){if(T===W.length-1){return X(S,Z)}var V,Y=W[T],U=Array(Y);for(V=Y-1;V>=0;--V){U[V]=L(typeof S==="object"?S[V]:S,typeof Z==="object"?Z[V]:Z,W,T+1,X)}return U};var A=function(S,V,T,W){if(T===V.length-1){W(S);return}var U,X=V[T];for(U=X-1;U>=0;U--){A(S[U],V,T+1,W)}};var H=function(S,W,T,X){if(T===W.length-1){return X(S)}var V,Y=W[T],U=Array(Y);for(V=Y-1;V>=0;V--){U[V]=H(S[V],W,T+1,X)}return U};var d=function(){var X=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]+ag[af]}return ae};var Y=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac+ag[af]}return ae};var Z=function(ac,ag){var ad=ac.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]+ag}return ae};var S=arguments.length,V,ab=arguments[0],aa;var T=X,W=Z,U=Y;for(V=1;V!==S;++V){aa=arguments[V];if(typeof ab==="object"){if(typeof aa==="object"){ab=L(ab,aa,a(ab),0,T)}else{ab=L(ab,aa,a(ab),0,W)}}else{if(typeof aa==="object"){ab=L(ab,aa,a(aa),0,U)}else{ab+=aa}}}return ab};var x=function(){var S=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]-ag[af]}return ae};var T=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac-ag[af]}return ae};var V=function(ac,ag){var ad=ac.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]-ag}return ae};var U=arguments.length,Y,ab=arguments[0],aa;var W=S,Z=V,X=T;for(Y=1;Y!==U;++Y){aa=arguments[Y];if(typeof ab==="object"){if(typeof aa==="object"){ab=L(ab,aa,a(ab),0,W)}else{ab=L(ab,aa,a(ab),0,Z)}}else{if(typeof aa==="object"){ab=L(ab,aa,a(aa),0,X)}else{ab-=aa}}}return ab};var c=function(){var Z=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]*ag[af]}return ae};var aa=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac*ag[af]}return ae};var ab=function(ac,ag){var ad=ac.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]*ag}return ae};var S=arguments.length,V,Y=arguments[0],X;var T=Z,W=ab,U=aa;for(V=1;V!==S;++V){X=arguments[V];if(typeof Y==="object"){if(typeof X==="object"){Y=L(Y,X,a(Y),0,T)}else{Y=L(Y,X,a(Y),0,W)}}else{if(typeof X==="object"){Y=L(Y,X,a(X),0,U)}else{Y*=X}}}return Y};var K=function(){var aa=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]/ag[af]}return ae};var ab=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac/ag[af]}return ae};var S=function(ac,ag){var ad=ac.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]/ag}return ae};var T=arguments.length,W,Z=arguments[0],Y;var U=aa,X=S,V=ab;for(W=1;W!==T;++W){Y=arguments[W];if(typeof Z==="object"){if(typeof Y==="object"){Z=L(Z,Y,a(Z),0,U)}else{Z=L(Z,Y,a(Z),0,X)}}else{if(typeof Y==="object"){Z=L(Z,Y,a(Y),0,V)}else{Z/=Y}}}return Z};var h=function(){var ab=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]!==ag[af]}return ae};var S=function(ac,ag){var ad=ag.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac!==ag[af]}return ae};var T=function(ac,ag){var ad=ac.length;var af,ae=Array(ad);for(af=ad-1;af!==-1;--af){ae[af]=ac[af]!==ag}return ae};var U=arguments.length,X,aa=arguments[0],Z;var V=ab,Y=T,W=S;for(X=1;X!==U;++X){Z=arguments[X];if(typeof aa==="object"){if(typeof Z==="object"){aa=L(aa,Z,a(aa),0,V)}else{aa=L(aa,Z,a(aa),0,Y)}}else{if(typeof Z==="object"){aa=L(aa,Z,a(Z),0,W)}else{aa=aa!==Z}}}return aa};var u=function(){var T=function(ac,ah){var ad=ah.length;var ag,ae=Array(ad);var af=Math.atan2;for(ag=ad-1;ag!==-1;--ag){ae[ag]=af(ac[ag],ah[ag])}return ae};var U=function(ac,ah){var ad=ah.length;var ag,ae=Array(ad);var af=Math.atan2;for(ag=ad-1;ag!==-1;--ag){ae[ag]=af(ac,ah[ag])}return ae};var X=function(ac,ah){var ad=ac.length;var ag,ae=Array(ad);var af=Math.atan2;for(ag=ad-1;ag!==-1;--ag){ae[ag]=af(ac[ag],ah)}return ae};var S=arguments.length,Y,ab=arguments[0],aa;var V=T,Z=X,W=U;for(Y=1;Y!==S;++Y){aa=arguments[Y];if(typeof ab==="object"){if(typeof aa==="object"){ab=L(ab,aa,a(ab),0,V)}else{ab=L(ab,aa,a(ab),0,Z)}}else{if(typeof aa==="object"){ab=L(ab,aa,a(aa),0,W)}else{ab=u(ab,aa)}}}return ab};var w=function(){var X=function(ad,ah){var ae=ah.length;var ag,af=Array(ae);var ac=Math.max;for(ag=ae-1;ag!==-1;--ag){af[ag]=ac(ad[ag],ah[ag])}return af};var Y=function(ad,ah){var ae=ah.length;var ag,af=Array(ae);var ac=Math.max;for(ag=ae-1;ag!==-1;--ag){af[ag]=ac(ad,ah[ag])}return af};var aa=function(ad,ah){var ae=ad.length;var ag,af=Array(ae);var ac=Math.max;for(ag=ae-1;ag!==-1;--ag){af[ag]=ac(ad[ag],ah)}return af};var S=arguments.length,V,ab=arguments[0],Z;var T=X,W=aa,U=Y;for(V=1;V!==S;++V){Z=arguments[V];if(typeof ab==="object"){if(typeof Z==="object"){ab=L(ab,Z,a(ab),0,T)}else{ab=L(ab,Z,a(ab),0,W)}}else{if(typeof Z==="object"){ab=L(ab,Z,a(Z),0,U)}else{ab=w(ab,Z)}}}return ab};var O=function(){var V=function(ac,ah){var ad=ah.length;var ag,ae=Array(ad);var af=Math.min;for(ag=ad-1;ag!==-1;--ag){ae[ag]=af(ac[ag],ah[ag])}return ae};var X=function(ac,ah){var ad=ah.length;var ag,ae=Array(ad);var af=Math.min;for(ag=ad-1;ag!==-1;--ag){ae[ag]=af(ac,ah[ag])}return ae};var Z=function(ac,ah){var ad=ac.length;var ag,ae=Array(ad);var af=Math.min;for(ag=ad-1;ag!==-1;--ag){ae[ag]=af(ac[ag],ah)}return ae};var S=arguments.length,W,ab=arguments[0],aa;var T=V,Y=Z,U=X;for(W=1;W!==S;++W){aa=arguments[W];if(typeof ab==="object"){if(typeof aa==="object"){ab=L(ab,aa,a(ab),0,T)}else{ab=L(ab,aa,a(ab),0,Y)}}else{if(typeof aa==="object"){ab=L(ab,aa,a(aa),0,U)}else{ab=O(ab,aa)}}}return ab};var q=function(S){var U=function(V){var Y=V.length;var aa,Z=Array(Y);for(aa=Y-1;aa!==-1;--aa){Z[aa]=-(V[aa])}return Z};if(typeof S!=="object"){return -(S)}var W;var T=U;var X=a(S);return H(S,X,0,T)};var v=function(S){var U=function(V){var Y=V.length;var aa,Z=Array(Y);for(aa=Y-1;aa!==-1;--aa){Z[aa]=(V[aa])}return Z};if(typeof S!=="object"){return(S)}var W;var T=U;var X=a(S);return H(S,X,0,T)};var y=function(S){var X=function(Y){var Z=Y.length;var ab,aa=Array(Z);var V=Math.abs;for(ab=Z-1;ab!==-1;--ab){aa[ab]=V(Y[ab])}return aa};if(typeof S!=="object"){return y(S)}var U;var T=X;var W=a(S);return H(S,W,0,T)};var f=function(S){var X=function(V){var Y=V.length;var aa,Z=Array(Y);var ab=Math.cos;for(aa=Y-1;aa!==-1;--aa){Z[aa]=ab(V[aa])}return Z};if(typeof S!=="object"){return f(S)}var U;var T=X;var W=a(S);return H(S,W,0,T)};var Q=function(S){var U=function(V){var Y=V.length;var aa,Z=Array(Y);var ab=Math.exp;for(aa=Y-1;aa!==-1;--aa){Z[aa]=ab(V[aa])}return Z};if(typeof S!=="object"){return Q(S)}var W;var T=U;var X=a(S);return H(S,X,0,T)};var o=function(T){var S=function(V){var Y=V.length;var aa,Z=Array(Y);var ab=Math.log;for(aa=Y-1;aa!==-1;--aa){Z[aa]=ab(V[aa])}return Z};if(typeof T!=="object"){return o(T)}var W;var U=S;var X=a(T);return H(T,X,0,U)};var r=function(S){var X=function(V){var Z=V.length;var ab,aa=Array(Z);var Y=Math.sin;for(ab=Z-1;ab!==-1;--ab){aa[ab]=Y(V[ab])}return aa};if(typeof S!=="object"){return r(S)}var U;var T=X;var W=a(S);return H(S,W,0,T)};var F=function(S){var X=function(V){var Y=V.length;var aa,Z=Array(Y);var ab=Math.sqrt;for(aa=Y-1;aa!==-1;--aa){Z[aa]=ab(V[aa])}return Z};if(typeof S!=="object"){return F(S)}var U;var T=X;var W=a(S);return H(S,W,0,T)};var J=function(S,Y,V){var X=function(aa){var ae=aa.length;var ad,ac;var ab=0;for(ad=ae-1;ad!==-1;--ad){ac=aa[ad];ab+=ac*ac}return ab};var U=0;if(typeof S!=="object"){T=S;U+=T*T;return U}if(typeof Y==="undefined"){Y=a(S)}if(typeof V==="undefined"){V=0}if(V===Y.length-1){return X(S)}var T;var Z=S.length,W;for(W=Z-1;W!==-1;--W){T=arguments.callee(S[W]);U+=T*T}return U};var t=function(aa){var Y,W,U=aa.length,S=aa[0].length,Z=Array(S),V,T,X;for(W=0;W<S;W++){Z[W]=Array(U)}for(Y=U-1;Y>=1;Y-=2){T=aa[Y];V=aa[Y-1];for(W=S-1;W>=1;--W){X=Z[W];X[Y]=T[W];X[Y-1]=V[W];--W;X=Z[W];X[Y]=T[W];X[Y-1]=V[W]}if(W===0){X=Z[0];X[Y]=T[0];X[Y-1]=V[0]}}if(Y===0){V=aa[0];for(W=S-1;W>=1;--W){Z[W][0]=V[W];--W;Z[W][0]=V[W]}if(W===0){Z[0][0]=V[0]}}return Z};var n=function(aa){var Y,W,U=aa.length,S=aa[0].length,Z=Array(S),V,T,X;for(W=0;W<S;W++){Z[W]=Array(U)}for(Y=U-1;Y>=1;Y-=2){T=aa[Y];V=aa[Y-1];for(W=S-1;W>=1;--W){X=Z[W];X[Y]=-T[W];X[Y-1]=-V[W];--W;X=Z[W];X[Y]=-T[W];X[Y-1]=-V[W]}if(W===0){X=Z[0];X[Y]=-T[0];X[Y-1]=-V[0]}}if(Y===0){V=aa[0];for(W=S-1;W>=1;--W){Z[W][0]=-V[W];--W;Z[W][0]=-V[W]}if(W===0){Z[0][0]=-V[0]}}return Z};var l=function(S){return Math.sqrt(J(S))};var j=function(S,W,V){var T=a(S);function U(X,Z){var ab,Y=W[Z],ac=V[Z]-Y,aa=Array(ac);if(Z===T.length-1){for(ab=ac;ab>=0;ab--){aa[ab]=X[ab+Y]}return aa}for(ab=ac;ab>=0;ab--){aa[ab]=U(X[ab+Y],Z+1)}return aa}return U(S,0)};var e=function(S,X,W,V){var T=a(S);function U(Y,ad,aa){var ab,Z=X[aa],ac=W[aa]-Z;if(aa===T.length-1){for(ab=ac;ab>=0;ab--){Y[ab+Z]=ad[ab]}}for(ab=ac;ab>=0;ab--){U(Y[ab+Z],ad[ab],aa+1)}}U(S,V,0);return S};var i=function(T,ab,aa){var W=ab.length,V=aa.length;var Y,X;var S=Array(W),Z,U;for(Y=W-1;Y!==-1;--Y){S[Y]=Array(V);Z=S[Y];U=T[ab[Y]];for(X=V-1;X!==-1;--X){Z[X]=U[aa[X]]}}return S};var B=function(Z,Y){if(typeof Z==="number"||typeof Y==="number"){return c(Z,Y)}var ac=a(Z),aa=a(Y);if(ac.length!==1||aa.length!==1){throw new Error("numeric: tensor product is only defined for vectors")}var U=ac[0],T=aa[0],S=Array(U),ab,W,V,X;for(W=U-1;W>=0;W--){ab=Array(T);X=Z[W];for(V=T-1;V>=3;--V){ab[V]=X*Y[V];--V;ab[V]=X*Y[V];--V;ab[V]=X*Y[V];--V;ab[V]=X*Y[V]}while(V>=0){ab[V]=X*Y[V];--V}S[W]=ab}return S};var g=function g(S,T){this.x=S;this.y=T};g.prototype={};g.prototype.add=function(T){var S=this;if(!(T instanceof g)){T=new g(T)}if(S.y){if(T.y){return new g(d(S.x,T.x),d(S.y,T.y))}return new g(d(S.x,T.x),S.y)}if(T.y){return new g(d(S.x,T.x),T.y)}return new g(d(S.x,T.x))};g.prototype.sub=function(T){var S=this;if(!(T instanceof g)){T=new g(T)}if(S.y){if(T.y){return new g(x(S.x,T.x),x(S.y,T.y))}return new g(x(S.x,T.x),S.y)}if(T.y){return new g(x(S.x,T.x),q(T.y))}return new g(x(S.x,T.x))};g.prototype.mul=function(T){var S=this;if(!(T instanceof g)){T=new g(T)}if(S.y){if(T.y){return new g(x(c(S.x,T.x),c(S.y,T.y)),d(c(S.x,T.y),c(S.y,T.x)))}return new g(c(S.x,T.x),c(S.y,T.x))}if(T.y){return new g(c(S.x,T.x),c(S.x,T.y))}return new g(c(S.x,T.x))};g.prototype.reciprocal=function(){if(this.y){var S=d(c(this.x,this.x),c(this.y,this.y));return new g(K(this.x,S),K(q(this.y),S))}return new g(K(1,this.x))};g.prototype.div=function(S){if(!(S instanceof g)){S=new g(S)}if(S.y){return this.mul(S.reciprocal())}if(this.y){return new g(K(this.x,S.x),K(this.y,S.x))}return new g(K(this.x,S.x))};g.prototype.dot=function(T){var S=this;if(!(T instanceof g)){T=new g(T)}if(S.y){if(T.y){return new g(x(R(S.x,T.x),R(S.y,T.y)),d(R(S.x,T.y),R(S.y,T.x)))}return new g(R(S.x,T.x),R(S.y,T.x))}if(T.y){return new g(R(S.x,T.x),R(S.x,T.y))}return new g(R(S.x,T.x))};g.prototype.transpose=function(){var T=t,S=this.x,U=this.y;if(U){return new g(T(S),T(U))}return new g(T(S))};g.prototype.transjugate=function(){var T=t,S=this.x,U=this.y;if(U){return new g(T(S),n(U))}return new g(T(S))};g.prototype.exp=function(){var S=this;var T=Q(S.x);if(S.y){return new g(c(f(S.y),T),c(r(S.y),T))}return new g(T)};g.prototype.conj=function(){var S=this;if(S.y){return new g(S.x,q(S.y))}return new g(S.x)};g.prototype.neg=function(){var S=this;if(S.y){return new g(q(S.x),q(S.y))}return new g(q(S.x))};g.prototype.sin=function(){var S=this;if(S.y){return S.exp().sub(S.neg().exp()).div(new g(0,2))}return new g(r(S.x))};g.prototype.cos=function(){var S=this;if(S.y){return S.exp().add(S.neg().exp()).div(2)}return new g(f(S.x))};g.prototype.abs=function(){var S=this;if(S.y){return new g(F(d(c(S.x,S.x),c(S.y,S.y))))}return new g(y(S.x))};g.prototype.log=function(){var S=this;if(S.y){var T=new g(u(S.y,S.x)),U=S.abs();return new g(o(U.x),T.x)}return new g(o(S.x))};g.prototype.norm2=function(){var S=this;if(S.y){var T=J;return Math.sqrt(T(S.x)+T(S.y))}return l(S.x)};g.prototype.get=function(V){var S=this.x,X=this.y,T=0,U,W=V.length;if(X){while(T<W){U=V[T];S=S[U];X=X[U];T++}return new g(S,X)}while(T<W){U=V[T];S=S[U];T++}return new g(S)};g.prototype.set=function(U,aa){var Y=this.x,W=this.y,T=0,Z,S=U.length,X=aa.x,V=aa.y;if(S===0){if(V){this.y=V}else{if(W){this.y=undefined}}this.x=Y;return this}if(V){if(W){}else{W=D(a(Y),0);this.y=W}while(T<S-1){Z=U[T];Y=Y[Z];W=W[Z];T++}Z=U[T];Y[Z]=X;W[Z]=V;return this}if(W){while(T<S-1){Z=U[T];Y=Y[Z];W=W[Z];T++}Z=U[T];Y[Z]=X;if(X instanceof Array){W[Z]=D(a(X),0)}else{W[Z]=0}return this}while(T<S-1){Z=U[T];Y=Y[Z];T++}Z=U[T];Y[Z]=X;return this};g.prototype.getRows=function(W,U){var Z=U-W+1,T;var X=Array(Z),V,S=this.x,Y=this.y;for(T=W;T<=U;T++){X[T-W]=S[T]}if(Y){V=Array(Z);for(T=W;T<=U;T++){V[T-W]=Y[T]}return new g(X,V)}return new g(X)};g.prototype.setRows=function(X,V,T){var U;var Y=this.x,W=this.y,S=T.x,Z=T.y;for(U=X;U<=V;U++){Y[U]=S[U-X]}if(Z){if(!W){W=D(a(Y),0);this.y=W}for(U=X;U<=V;U++){W[U]=Z[U-X]}}else{if(W){for(U=X;U<=V;U++){W[U]=D([S[U-X].length],0)}}}return this};g.prototype.getRow=function(T){var S=this.x,U=this.y;if(U){return new g(S[T],U[T])}return new g(S[T])};g.prototype.setRow=function(U,T){var W=this.x,V=this.y,S=T.x,X=T.y;W[U]=S;if(X){if(!V){V=D(a(W),0);this.y=V}V[U]=X}else{if(V){V=D([S.length],0)}}return this};g.prototype.getBlock=function(W,V){var T=this.x,U=this.y,S=j;if(U){return new g(S(T,W,V),S(U,W,V))}return new g(S(T,W,V))};g.prototype.setBlock=function(Z,Y,U){if(!(U instanceof g)){U=new g(U)}var T=this.x,X=this.y,S=e,W=U.x,V=U.y;if(V){if(!X){this.y=D(a(this),0);X=this.y}S(T,Z,Y,W);S(X,Z,Y,V);return this}S(T,Z,Y,W);if(X){S(X,Z,Y,D(a(W),0))}};g.rep=function(U,T){if(!(T instanceof g)){T=new g(T)}var S=T.x,W=T.y,V=D;if(W){return new g(V(U,S),V(U,W))}return new g(V(U,S))};g.diag=function(T){if(!(T instanceof g)){T=new g(T)}var S=T.x,U=T.y;if(U){return new g(k(S),k(U))}return new g(k(S))};g.eig=function(){if(this.y){throw new Error("eig: not implemented for complex matrices.")}return N(this.x)};g.identity=function(S){return new g(G(S))};g.prototype.getDiag=function(){var S=this.x,T=this.y;if(T){return new g(C(S),C(T))}return new g(C(S))};var P=function(S){var T=v(S);var U=S[0]>=0?1:-1;var V=U*l(S);T[0]+=V;var W=l(T);if(W===0){throw new Error("eig: internal error")}return K(T,W)};var b=function(ac){var ag=a(ac);if(ag.length!==2||ag[0]!==ag[1]){throw new Error("numeric: toUpperHessenberg() only works on square matrices")}var X=ag[0],aa,Z,Y,ad,af,V=v(ac),U,S,ae,T,ab=G(X),W;for(Z=0;Z<X-2;Z++){ad=Array(X-Z-1);for(aa=Z+1;aa<X;aa++){ad[aa-Z-1]=V[aa][Z]}if(l(ad)>0){af=P(ad);U=j(V,[Z+1,Z],[X-1,X-1]);S=B(af,R(af,U));for(aa=Z+1;aa<X;aa++){ae=V[aa];T=S[aa-Z-1];for(Y=Z;Y<X;Y++){ae[Y]-=2*T[Y-Z]}}U=j(V,[0,Z+1],[X-1,X-1]);S=B(R(U,af),af);for(aa=0;aa<X;aa++){ae=V[aa];T=S[aa];for(Y=Z+1;Y<X;Y++){ae[Y]-=2*T[Y-Z-1]}}U=Array(X-Z-1);for(aa=Z+1;aa<X;aa++){U[aa-Z-1]=ab[aa]}S=B(af,R(af,U));for(aa=Z+1;aa<X;aa++){W=ab[aa];T=S[aa-Z-1];for(Y=0;Y<X;Y++){W[Y]-=2*T[Y]}}}}return{H:V,Q:ab}};var z=function(af,V){if(typeof V==="undefined"){V=10000}af=v(af);var ah=v(af);var ai=a(af),am=ai[0],ae,ag,av,au,at,ar,X,S,W,aa=G(am),ac,ab,al,ak,aj,aq,ao,an,ap;if(am<3){return{Q:aa,B:[[0,am-1]]}}var aw=2.220446049250313e-16;for(ap=0;ap<V;ap++){for(ao=0;ao<am-1;ao++){if(Math.abs(af[ao+1][ao])<aw*(Math.abs(af[ao][ao])+Math.abs(af[ao+1][ao+1]))){var Z=z(j(af,[0,0],[ao,ao]),V);var Y=z(j(af,[ao+1,ao+1],[am-1,am-1]),V);al=Array(ao+1);for(aq=0;aq<=ao;aq++){al[aq]=aa[aq]}ak=R(Z.Q,al);for(aq=0;aq<=ao;aq++){aa[aq]=ak[aq]}al=Array(am-ao-1);for(aq=ao+1;aq<am;aq++){al[aq-ao-1]=aa[aq]}ak=R(Y.Q,al);for(aq=ao+1;aq<am;aq++){aa[aq]=ak[aq-ao-1]}return{Q:aa,B:Z.B.concat(d(Y.B,ao+1))}}}av=af[am-2][am-2];au=af[am-2][am-1];at=af[am-1][am-2];ar=af[am-1][am-1];S=av+ar;X=(av*ar-au*at);W=j(af,[0,0],[2,2]);if(S*S>=4*X){var U,T;U=0.5*(S+Math.sqrt(S*S-4*X));T=0.5*(S-Math.sqrt(S*S-4*X));W=d(x(R(W,W),c(W,U+T)),k(D([3],U*T)))}else{W=d(x(R(W,W),c(W,S)),k(D([3],X)))}ae=[W[0][0],W[1][0],W[2][0]];ag=P(ae);al=[af[0],af[1],af[2]];ak=B(ag,R(ag,al));for(aq=0;aq<3;aq++){ab=af[aq];aj=ak[aq];for(an=0;an<am;an++){ab[an]-=2*aj[an]}}al=j(af,[0,0],[am-1,2]);ak=B(R(al,ag),ag);for(aq=0;aq<am;aq++){ab=af[aq];aj=ak[aq];for(an=0;an<3;an++){ab[an]-=2*aj[an]}}al=[aa[0],aa[1],aa[2]];ak=B(ag,R(ag,al));for(aq=0;aq<3;aq++){ac=aa[aq];aj=ak[aq];for(an=0;an<am;an++){ac[an]-=2*aj[an]}}var ad;for(ao=0;ao<am-2;ao++){for(an=ao;an<=ao+1;an++){if(Math.abs(af[an+1][an])<aw*(Math.abs(af[an][an])+Math.abs(af[an+1][an+1]))){var Z=z(j(af,[0,0],[an,an]),V);var Y=z(j(af,[an+1,an+1],[am-1,am-1]),V);al=Array(an+1);for(aq=0;aq<=an;aq++){al[aq]=aa[aq]}ak=R(Z.Q,al);for(aq=0;aq<=an;aq++){aa[aq]=ak[aq]}al=Array(am-an-1);for(aq=an+1;aq<am;aq++){al[aq-an-1]=aa[aq]}ak=R(Y.Q,al);for(aq=an+1;aq<am;aq++){aa[aq]=ak[aq-an-1]}return{Q:aa,B:Z.B.concat(d(Y.B,an+1))}}}ad=Math.min(am-1,ao+3);ae=Array(ad-ao);for(aq=ao+1;aq<=ad;aq++){ae[aq-ao-1]=af[aq][ao]}ag=P(ae);al=j(af,[ao+1,ao],[ad,am-1]);ak=B(ag,R(ag,al));for(aq=ao+1;aq<=ad;aq++){ab=af[aq];aj=ak[aq-ao-1];for(an=ao;an<am;an++){ab[an]-=2*aj[an-ao]}}al=j(af,[0,ao+1],[am-1,ad]);ak=B(R(al,ag),ag);for(aq=0;aq<am;aq++){ab=af[aq];aj=ak[aq];for(an=ao+1;an<=ad;an++){ab[an]-=2*aj[an-ao-1]}}al=Array(ad-ao);for(aq=ao+1;aq<=ad;aq++){al[aq-ao-1]=aa[aq]}ak=B(ag,R(ag,al));for(aq=ao+1;aq<=ad;aq++){ac=aa[aq];aj=ak[aq-ao-1];for(an=0;an<am;an++){ac[an]-=2*aj[an]}}}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")};var N=function(ak,W){var T=b(ak);var X=z(T.H,W);var an=ak.length,at,ap,ar=false,ai=X.B,ae=R(X.Q,R(T.H,t(X.Q)));var Z=new g(R(X.Q,T.Q)),ag;var ao=ai.length,aq;var ax,aw,av,au,V,U,S,ad,ac,aj,ah,ab,aa;var ay=Math.sqrt;for(ap=0;ap<ao;ap++){at=ai[ap][0];if(at===ai[ap][1]){}else{aq=at+1;ax=ae[at][at];aw=ae[at][aq];av=ae[aq][at];au=ae[aq][aq];if(aw===0&&av===0){continue}V=-ax-au;U=ax*au-aw*av;S=V*V-4*U;if(S>=0){if(V<0){ad=-0.5*(V-ay(S))}else{ad=-0.5*(V+ay(S))}ab=(ax-ad)*(ax-ad)+aw*aw;aa=av*av+(au-ad)*(au-ad);if(ab>aa){ab=ay(ab);aj=(ax-ad)/ab;ah=aw/ab}else{aa=ay(aa);aj=av/aa;ah=(au-ad)/aa}ag=new g([[ah,-aj],[aj,ah]]);Z.setRows(at,aq,ag.dot(Z.getRows(at,aq)))}else{ad=-0.5*V;ac=0.5*ay(-S);ab=(ax-ad)*(ax-ad)+aw*aw;aa=av*av+(au-ad)*(au-ad);if(ab>aa){ab=ay(ab+ac*ac);aj=(ax-ad)/ab;ah=aw/ab;ad=0;ac/=ab}else{aa=ay(aa+ac*ac);aj=av/aa;ah=(au-ad)/aa;ad=ac/aa;ac=0}ag=new g([[ah,-aj],[aj,ah]],[[ad,ac],[ac,-ad]]);Z.setRows(at,aq,ag.dot(Z.getRows(at,aq)))}}}var Y=Z.dot(ak).dot(Z.transjugate()),an=ak.length,af=g.identity(an);for(aq=0;aq<an;aq++){if(aq>0){for(ap=aq-1;ap>=0;ap--){var al=Y.get([ap,ap]),am=Y.get([aq,aq]);if(h(al.x,am.x)||h(al.y,am.y)){ad=Y.getRow(ap).getBlock([ap],[aq-1]);ac=af.getRow(aq).getBlock([ap],[aq-1]);af.set([aq,ap],(Y.get([ap,aq]).neg().sub(ad.dot(ac))).div(al.sub(am)))}else{af.setRow(aq,af.getRow(ap));continue}}}}for(aq=0;aq<an;aq++){ad=af.getRow(aq);af.setRow(aq,ad.div(ad.norm2()))}af=af.transpose();af=Z.transjugate().dot(af);return{lambda:Y.getDiag(),E:af}};var E=function(ab){var ag=a(ab),ah=Math.abs,V=ag[0],U=ag[1];var T=v(ab),ad,aa;var ac=G(V),S,af;var Z,Y,W,ab;for(Y=0;Y<U;++Y){var X=-1;var ae=-1;for(Z=Y;Z!==V;++Z){W=ah(T[Z][Y]);if(W>ae){X=Z;ae=W}}aa=T[X];T[X]=T[Y];T[Y]=aa;af=ac[X];ac[X]=ac[Y];ac[Y]=af;ab=aa[Y];for(W=Y;W!==U;++W){aa[W]/=ab}for(W=U-1;W!==-1;--W){af[W]/=ab}for(Z=V-1;Z!==-1;--Z){if(Z!==Y){ad=T[Z];S=ac[Z];ab=ad[Y];for(W=Y+1;W!==U;++W){ad[W]-=aa[W]*ab}for(W=U-1;W>0;--W){S[W]-=af[W]*ab;--W;S[W]-=af[W]*ab}if(W===0){S[0]-=af[0]*ab}}}}return ac};switch(s){case"inv":return E(m);case"eig":return N(m)}}};CanvasXpress.prototype.initjLouvain=function(){this.BT=function(){var l=-1;var k=1e-7;var i;var y;var s={};var a;function d(C){var B={};C.forEach(function(E,D){B[E]=true});return Object.keys(B)}function x(D){var C=[];for(var B in D){if(D.hasOwnProperty(B)){C.push(D[B])}}return C}function v(E,C){var B=E._assoc_mat[C]?Object.keys(E._assoc_mat[C]):[];var D=0;B.forEach(function(F,G){var H=E._assoc_mat[C][F]||1;if(C==F){H*=2}D+=H});return D}function f(D,C){if(typeof D._assoc_mat[C]=="undefined"){return[]}var B=Object.keys(D._assoc_mat[C]);return B}function g(D,C,B){return D._assoc_mat[C]?D._assoc_mat[C][B]:undefined}function A(C){var B=0;C.edges.forEach(function(D){B+=D.weight});return B}function c(D,C){e(D,C);var B=D.edges.map(function(E){return E.id1+"_"+E.id2}).indexOf(C.id1+"_"+C.id2);if(B!=-1){D.edges[B].weight=C.weight}else{D.edges.push(C)}}function z(B){var C={};B.forEach(function(E,D){E.weight=E.weight||1;C[E.id1]=C[E.id1]||{};C[E.id1][E.id2]=E.weight;C[E.id2]=C[E.id2]||{};C[E.id2][E.id1]=E.weight});return C}function e(C,B){C._assoc_mat[B.id1]=C._assoc_mat[B.id1]||{};C._assoc_mat[B.id1][B.id2]=B.weight;C._assoc_mat[B.id2]=C._assoc_mat[B.id2]||{};C._assoc_mat[B.id2][B.id1]=B.weight}function t(D){if(D==null||typeof(D)!="object"){return D}var B=D.constructor();for(var C in D){B[C]=t(D[C])}return B}function p(D,B,C){B.nodes_to_com={};B.total_weight=0;B.internals={};B.degrees={};B.gdegrees={};B.loops={};B.total_weight=A(D);if(typeof C=="undefined"){D.nodes.forEach(function(G,E){B.nodes_to_com[G]=E;var F=v(D,G);if(F<0){throw"Bad graph type, use positive weights!"}B.degrees[E]=F;B.gdegrees[G]=F;B.loops[G]=g(D,G,G)||0;B.internals[E]=B.loops[G]})}else{D.nodes.forEach(function(I,G){var E=C[I];B.nodes_to_com[I]=E;var H=v(D,I);B.degrees[E]=(B.degrees[E]||0)+H;B.gdegrees[I]=H;var J=0;var F=f(D,I);F.forEach(function(K,L){var M=D._assoc_mat[I][K];if(M<=0){throw"Bad graph type, use positive weights"}if(C[K]==E){if(K==I){J+=M}else{J+=M/2}}});B.internals[E]=(B.internals[E]||0)+J})}}function o(C){var E=C.total_weight;var B=0;var D=d(x(C.nodes_to_com));D.forEach(function(F,G){var I=C.internals[F]||0;var H=C.degrees[F]||0;if(E>0){B=B+I/E-Math.pow((H/(2*E)),2)}});return B}function m(D,E,B){var C={};var F=f(E,D);F.forEach(function(G,H){if(G!=D){var I=E._assoc_mat[D][G]||1;var J=B.nodes_to_com[G];C[J]=(C[J]||0)+I}});return C}function u(D,C,E,B){B.nodes_to_com[D]=+C;B.degrees[C]=(B.degrees[C]||0)+(B.gdegrees[D]||0);B.internals[C]=(B.internals[C]||0)+E+(B.loops[D]||0)}function r(D,C,E,B){B.degrees[C]=((B.degrees[C]||0)-(B.gdegrees[D]||0));B.internals[C]=((B.internals[C]||0)-E-(B.loops[D]||0));B.nodes_to_com[D]=-1}function j(F){var D=0;var B=t(F);var C={};var E=Object.keys(F);E.forEach(function(H){var I=F[H];var G=typeof C[I]=="undefined"?-1:C[I];if(G==-1){C[I]=D;G=D;D=D+1}B[H]=G});return B}function b(F,B){var D=true,G=0,E=o(B),C=E;while(D&&G!=l){E=C;D=false;G+=1;F.nodes.forEach(function(J,I){var M=B.nodes_to_com[J];var O=(B.gdegrees[J]||0)/(B.total_weight*2);var L=m(J,F,B);r(J,M,(L[M]||0),B);var N=M;var H=0;var K=Object.keys(L);K.forEach(function(P,Q){var R=L[P]-(B.degrees[P]||0)*O;if(R>H){H=R;N=P}});u(J,N,L[N]||0,B);if(N!=M){D=true}});C=o(B);if(C-E<k){break}}}function h(C,G){var B={nodes:[],edges:[],_assoc_mat:{}};var D,F;var E=x(C);B.nodes=B.nodes.concat(d(E));G.edges.forEach(function(I,H){F=I.weight||1;var L=C[I.id1];var J=C[I.id2];D=(g(B,L,J)||0);var K=(D+F);c(B,{source:L,target:J,weight:K})});return B}function w(C,E){var B=t(C[0]);for(var D=1;D<E+1;D++){Object.keys(B).forEach(function(H,G){var I=H;var F=B[H];B[I]=C[D][F]})}return B}function n(J,D){if(J.edges.length==0){var C={};J.nodes.forEach(function(L,K){C[L]=L});return C}var F={};p(s,F,D);var H=o(F);var I=[];b(s,F);var B=o(F);var G=j(F.nodes_to_com);I.push(G);H=B;var E=h(G,s);p(E,F);while(true){b(E,F);B=o(F);if(B-H<k){break}G=j(F.nodes_to_com);I.push(G);H=B;E=h(G,E);p(E,F)}return I}var q=function(){var B={};var C=n(s,a);return w(C,C.length-1)};q.nodes=function(B){if(arguments.length>0){i=B}return q};q.edges=function(C){if(typeof i=="undefined"){throw"Please provide the graph nodes first!"}if(arguments.length>0){y=C;var B=z(C);s={nodes:i,edges:y,_assoc_mat:B}}return q};q.partition_init=function(B){if(arguments.length>0){a=B}return q};return q}};CanvasXpress.prototype.initCola=function(){(function(a,b){if(typeof exports==="object"&&typeof module!=="undefined"){b(exports)}else{if(a){(b((a.cola=a.cola||{})))}else{b()}}}(this,(function(ac){var j=(this&&this.__extends)||(function(){var a4=function(a6,a5){a4=Object.setPrototypeOf||({__proto__:[]} instanceof Array&&function(a8,a7){a8.__proto__=a7})||function(a9,a7){for(var a8 in a7){if(a7.hasOwnProperty(a8)){a9[a8]=a7[a8]}}};return a4(a6,a5)};return function(a7,a5){a4(a7,a5);function a6(){this.constructor=a7}a7.prototype=a5===null?Object.create(a5):(a6.prototype=a5.prototype,new a6())}})();var aU=(function(){function a4(a5,a9,a8){if(a8===void 0){a8=null}this.D=a9;this.G=a8;this.threshold=0.0001;this.numGridSnapNodes=0;this.snapGridSize=100;this.snapStrength=1000;this.scaleSnapByMaxH=false;this.random=new G();this.project=null;this.x=a5;this.k=a5.length;var bb=this.n=a5[0].length;this.H=new Array(this.k);this.g=new Array(this.k);this.Hd=new Array(this.k);this.a=new Array(this.k);this.b=new Array(this.k);this.c=new Array(this.k);this.d=new Array(this.k);this.e=new Array(this.k);this.ia=new Array(this.k);this.ib=new Array(this.k);this.xtmp=new Array(this.k);this.locks=new ag();this.minD=Number.MAX_VALUE;var a7=bb,a6;while(a7--){a6=bb;while(--a6>a7){var ba=a9[a7][a6];if(ba>0&&ba<this.minD){this.minD=ba}}}if(this.minD===Number.MAX_VALUE){this.minD=1}a7=this.k;while(a7--){this.g[a7]=new Array(bb);this.H[a7]=new Array(bb);a6=bb;while(a6--){this.H[a7][a6]=new Array(bb)}this.Hd[a7]=new Array(bb);this.a[a7]=new Array(bb);this.b[a7]=new Array(bb);this.c[a7]=new Array(bb);this.d[a7]=new Array(bb);this.e[a7]=new Array(bb);this.ia[a7]=new Array(bb);this.ib[a7]=new Array(bb);this.xtmp[a7]=new Array(bb)}}a4.createSquareMatrix=function(a9,a7){var a8=new Array(a9);for(var a6=0;a6<a9;++a6){a8[a6]=new Array(a9);for(var a5=0;a5<a9;++a5){a8[a6][a5]=a7(a6,a5)}}return a8};a4.prototype.offsetDir=function(){var a9=this;var a7=new Array(this.k);var a6=0;for(var a8=0;a8<this.k;++a8){var a5=a7[a8]=this.random.getNextBetween(0.01,1)-0.5;a6+=a5*a5}a6=Math.sqrt(a6);return a7.map(function(ba){return ba*=a9.minD/a6})};a4.prototype.computeDerivatives=function(ba){var bt=this;var bp=this.n;if(bp<1){return}var bu;var bx=new Array(this.k);var bB=new Array(this.k);var a6=new Array(this.k);var a8=0;for(var a5=0;a5<bp;++a5){for(bu=0;bu<this.k;++bu){a6[bu]=this.g[bu][a5]=0}for(var bd=0;bd<bp;++bd){if(a5===bd){continue}var a9=bp;var bh=0;while(a9--){bh=0;for(bu=0;bu<this.k;++bu){var bj=bx[bu]=ba[bu][a5]-ba[bu][bd];bh+=bB[bu]=bj*bj}if(bh>1e-9){break}var br=this.offsetDir();for(bu=0;bu<this.k;++bu){ba[bu][bd]+=br[bu]}}var a7=Math.sqrt(bh);var bo=this.D[a5][bd];var bf=this.G!=null?this.G[a5][bd]:1;if(bf>1&&a7>bo||!isFinite(bo)){for(bu=0;bu<this.k;++bu){this.H[bu][a5][bd]=0}continue}if(bf>1){bf=1}var bA=bo*bo,bl=2*bf*(a7-bo)/(bA*a7),bg=bh*a7,bz=2*-bf/(bA*bg);if(!isFinite(bl)){console.log(bl)}for(bu=0;bu<this.k;++bu){this.g[bu][a5]+=bx[bu]*bl;a6[bu]-=this.H[bu][a5][bd]=bz*(2*bg+bo*(bB[bu]-bh))}}for(bu=0;bu<this.k;++bu){a8=Math.max(a8,this.H[bu][a5][a5]=a6[bu])}}var bi=this.snapGridSize/2;var bv=this.snapGridSize;var bb=this.snapStrength;var bs=bb/(bi*bi);var bn=this.numGridSnapNodes;for(var be=0;be<bn;++be){for(bu=0;bu<this.k;++bu){var bm=this.x[bu][be];var bq=bm/bv;var bw=bq%1;var bk=bq-bw;var by=Math.abs(bw);var bc=(by<=0.5)?bm-bk*bv:(bm>0)?bm-(bk+1)*bv:bm-(bk-1)*bv;if(-bi<bc&&bc<=bi){if(this.scaleSnapByMaxH){this.g[bu][be]+=a8*bs*bc;this.H[bu][be][be]+=a8*bs}else{this.g[bu][be]+=bs*bc;this.H[bu][be][be]+=bs}}}}if(!this.locks.isEmpty()){this.locks.apply(function(bC,bD){for(bu=0;bu<bt.k;++bu){bt.H[bu][bC][bC]+=a8;bt.g[bu][bC]-=a8*(bD[bu]-ba[bu][bC])}})}};a4.dotProd=function(a7,a6){var a5=0,a8=a7.length;while(a8--){a5+=a7[a8]*a6[a8]}return a5};a4.rightMultiply=function(a5,a6,a8){var a7=a5.length;while(a7--){a8[a7]=a4.dotProd(a5[a7],a6)}};a4.prototype.computeStepSize=function(a7){var a6=0,a8=0;for(var a5=0;a5<this.k;++a5){a6+=a4.dotProd(this.g[a5],a7[a5]);a4.rightMultiply(this.H[a5],a7[a5],this.Hd[a5]);a8+=a4.dotProd(a7[a5],this.Hd[a5])}if(a8===0||!isFinite(a8)){return 0}return 1*a6/a8};a4.prototype.reduceStress=function(){this.computeDerivatives(this.x);var a6=this.computeStepSize(this.g);for(var a5=0;a5<this.k;++a5){this.takeDescentStep(this.x[a5],this.g[a5],a6)}return this.computeStress()};a4.copy=function(a7,a6){var a5=a7.length,ba=a6[0].length;for(var a9=0;a9<a5;++a9){for(var a8=0;a8<ba;++a8){a6[a9][a8]=a7[a9][a8]}}};a4.prototype.stepAndProject=function(a7,a8,a9,a5){a4.copy(a7,a8);this.takeDescentStep(a8[0],a9[0],a5);if(this.project){this.project[0](a7[0],a7[1],a8[0])}this.takeDescentStep(a8[1],a9[1],a5);if(this.project){this.project[1](a8[0],a7[1],a8[1])}for(var a6=2;a6<this.k;a6++){this.takeDescentStep(a8[a6],a9[a6],a5)}};a4.mApply=function(a5,a9,a8){var a7=a5;while(a7-->0){var a6=a9;while(a6-->0){a8(a7,a6)}}};a4.prototype.matrixApply=function(a5){a4.mApply(this.k,this.n,a5)};a4.prototype.computeNextPosition=function(a5,a6){var a9=this;this.computeDerivatives(a5);var a8=this.computeStepSize(this.g);this.stepAndProject(a5,a6,this.g,a8);if(this.project){this.matrixApply(function(bb,ba){return a9.e[bb][ba]=a5[bb][ba]-a6[bb][ba]});var a7=this.computeStepSize(this.e);a7=Math.max(0.2,Math.min(a7,1));this.stepAndProject(a5,a6,this.e,a7)}};a4.prototype.run=function(a8){var a7=Number.MAX_VALUE,a6=false;while(!a6&&a8-->0){var a5=this.rungeKutta();a6=Math.abs(a7/a5-1)<this.threshold;a7=a5}return a7};a4.prototype.rungeKutta=function(){var a6=this;this.computeNextPosition(this.x,this.a);a4.mid(this.x,this.a,this.ia);this.computeNextPosition(this.ia,this.b);a4.mid(this.x,this.b,this.ib);this.computeNextPosition(this.ib,this.c);this.computeNextPosition(this.c,this.d);var a5=0;this.matrixApply(function(a9,a8){var a7=(a6.a[a9][a8]+2*a6.b[a9][a8]+2*a6.c[a9][a8]+a6.d[a9][a8])/6,ba=a6.x[a9][a8]-a7;a5+=ba*ba;a6.x[a9][a8]=a7});return a5};a4.mid=function(a7,a6,a5){a4.mApply(a7.length,a7[0].length,function(a9,a8){return a5[a9][a8]=a7[a9][a8]+(a6[a9][a8]-a7[a9][a8])/2})};a4.prototype.takeDescentStep=function(a6,a8,a5){for(var a7=0;a7<this.n;++a7){a6[a7]=a6[a7]-a5*a8[a7]}};a4.prototype.computeStress=function(){var a8=0;for(var be=0,bc=this.n-1;be<bc;++be){for(var bd=be+1,a6=this.n;bd<a6;++bd){var a7=0;for(var a9=0;a9<this.k;++a9){var bf=this.x[a9][be]-this.x[a9][bd];a7+=bf*bf}a7=Math.sqrt(a7);var bb=this.D[be][bd];if(!isFinite(bb)){continue}var ba=bb-a7;var a5=bb*bb;a8+=ba*ba/a5}}return a8};a4.zeroDistance=1e-10;return a4}());var J=(function(){function a4(a5,a8,a7,a6){this.x=a5;this.X=a8;this.y=a7;this.Y=a6}a4.empty=function(){return new a4(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)};a4.prototype.cx=function(){return(this.x+this.X)/2};a4.prototype.cy=function(){return(this.y+this.Y)/2};a4.prototype.overlapX=function(a7){var a5=this.cx(),a6=a7.cx();if(a5<=a6&&a7.x<this.X){return this.X-a7.x}if(a6<=a5&&this.x<a7.X){return a7.X-this.x}return 0};a4.prototype.overlapY=function(a7){var a5=this.cy(),a6=a7.cy();if(a5<=a6&&a7.y<this.Y){return this.Y-a7.y}if(a6<=a5&&this.y<a7.Y){return a7.Y-this.y}return 0};a4.prototype.setXCentre=function(a5){var a6=a5-this.cx();this.x+=a6;this.X+=a6};a4.prototype.setYCentre=function(a6){var a5=a6-this.cy();this.y+=a5;this.Y+=a5};a4.prototype.width=function(){return this.X-this.x};a4.prototype.height=function(){return this.Y-this.y};a4.prototype.union=function(a5){return new a4(Math.min(this.x,a5.x),Math.max(this.X,a5.X),Math.min(this.y,a5.y),Math.max(this.Y,a5.Y))};a4.prototype.lineIntersections=function(a6,a9,a5,a8){var bb=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]];var bc=[];for(var a7=0;a7<4;++a7){var ba=a4.lineIntersection(a6,a9,a5,a8,bb[a7][0],bb[a7][1],bb[a7][2],bb[a7][3]);if(ba!==null){bc.push({x:ba.x,y:ba.y})}}return bc};a4.prototype.rayIntersection=function(a5,a6){var a7=this.lineIntersections(this.cx(),this.cy(),a5,a6);return a7.length>0?a7[0]:null};a4.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]};a4.lineIntersection=function(bk,bb,bj,ba,bi,a8,bh,a5){var bl=bj-bk,bf=bh-bi,be=ba-bb,a6=a5-a8,a7=a6*bl-bf*be;if(a7==0){return null}var bg=bk-bi,bd=bb-a8,bc=bf*bd-a6*bg,bn=bc/a7,a9=bl*bd-be*bg,bm=a9/a7;if(bn>=0&&bn<=1&&bm>=0&&bm<=1){return{x:bk+bn*bl,y:bb+bn*be}}return null};a4.prototype.inflate=function(a5){return new a4(this.x-a5,this.X+a5,this.y-a5,this.Y+a5)};return a4}());var ao=(function(){function a4(){var a5=this;this._canvasSize=[1,1];this._linkDistance=20;this._defaultNodeSize=10;this._linkLengthCalculator=null;this._linkType=null;this._avoidOverlaps=false;this._handleDisconnected=true;this._running=false;this._nodes=[];this._groups=[];this._rootGroup=null;this._links=[];this._constraints=[];this._distanceMatrix=null;this._descent=null;this._directedLinkConstraints=null;this._threshold=0.01;this._visibilityGraph=null;this._groupCompactness=0.000001;this.event=null;this.linkAccessor={getSourceIndex:a4.getSourceIndex,getTargetIndex:a4.getTargetIndex,setLength:a4.setLinkLength,getType:function(a6){return typeof a5._linkType==="function"?a5._linkType(a6):0}}}a4.prototype.on=function(a6,a5){if(!this.event){this.event={}}if(typeof a6==="string"){this.event[Z[a6]]=a5}else{this.event[a6]=a5}return this};a4.prototype.trigger=function(a5){if(this.event&&typeof this.event[a5.type]!=="undefined"){this.event[a5.type](a5)}};a4.prototype.kick=function(){while(!this.tick()){}};a4.prototype.tick=function(){if(this._alpha<this._threshold){this._running=false;this.trigger({type:Z.end,alpha:this._alpha=0,stress:this._lastStress});return true}var ba=this._nodes.length,a5=this._links.length;var a9,a7;this._descent.locks.clear();for(a7=0;a7<ba;++a7){a9=this._nodes[a7];if(a9.fixed){if(typeof a9.px==="undefined"||typeof a9.py==="undefined"){a9.px=a9.x;a9.py=a9.y}var a8=[a9.px,a9.py];this._descent.locks.add(a7,a8)}}var a6=this._descent.rungeKutta();if(a6===0){this._alpha=0}else{if(typeof this._lastStress!=="undefined"){this._alpha=a6}}this._lastStress=a6;this.updateNodePositions();this.trigger({type:Z.tick,alpha:this._alpha,stress:this._lastStress});return false};a4.prototype.updateNodePositions=function(){var a5=this._descent.x[0],a8=this._descent.x[1];var a7,a6=this._nodes.length;while(a6--){a7=this._nodes[a6];a7.x=a5[a6];a7.y=a8[a6]}};a4.prototype.nodes=function(a5){if(!a5){if(this._nodes.length===0&&this._links.length>0){var a7=0;this._links.forEach(function(a8){a7=Math.max(a7,a8.source,a8.target)});this._nodes=new Array(++a7);for(var a6=0;a6<a7;++a6){this._nodes[a6]={}}}return this._nodes}this._nodes=a5;return this};a4.prototype.groups=function(a5){var a6=this;if(!a5){return this._groups}this._groups=a5;this._rootGroup={};this._groups.forEach(function(a7){if(typeof a7.padding==="undefined"){a7.padding=1}if(typeof a7.leaves!=="undefined"){a7.leaves.forEach(function(a8,a9){if(typeof a8==="number"){(a7.leaves[a9]=a6._nodes[a8]).parent=a7}})}if(typeof a7.groups!=="undefined"){a7.groups.forEach(function(a8,a9){if(typeof a8==="number"){(a7.groups[a9]=a6._groups[a8]).parent=a7}})}});this._rootGroup.leaves=this._nodes.filter(function(a7){return typeof a7.parent==="undefined"});this._rootGroup.groups=this._groups.filter(function(a7){return typeof a7.parent==="undefined"});return this};a4.prototype.powerGraphGroups=function(a6){var a5=powergraph.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);this.groups(a5.groups);a6(a5);return this};a4.prototype.avoidOverlaps=function(a5){if(!arguments.length){return this._avoidOverlaps}this._avoidOverlaps=a5;return this};a4.prototype.handleDisconnected=function(a5){if(!arguments.length){return this._handleDisconnected}this._handleDisconnected=a5;return this};a4.prototype.flowLayout=function(a6,a5){if(!arguments.length){a6="y"}this._directedLinkConstraints={axis:a6,getMinSeparation:typeof a5==="number"?function(){return a5}:a5};return this};a4.prototype.links=function(a5){if(!arguments.length){return this._links}this._links=a5;return this};a4.prototype.constraints=function(a5){if(!arguments.length){return this._constraints}this._constraints=a5;return this};a4.prototype.distanceMatrix=function(a5){if(!arguments.length){return this._distanceMatrix}this._distanceMatrix=a5;return this};a4.prototype.size=function(a5){if(!a5){return this._canvasSize}this._canvasSize=a5;return this};a4.prototype.defaultNodeSize=function(a5){if(!a5){return this._defaultNodeSize}this._defaultNodeSize=a5;return this};a4.prototype.groupCompactness=function(a5){if(!a5){return this._groupCompactness}this._groupCompactness=a5;return this};a4.prototype.linkDistance=function(a5){if(!a5){return this._linkDistance}this._linkDistance=typeof a5==="function"?a5:+a5;this._linkLengthCalculator=null;return this};a4.prototype.linkType=function(a5){this._linkType=a5;return this};a4.prototype.convergenceThreshold=function(a5){if(!a5){return this._threshold}this._threshold=typeof a5==="function"?a5:+a5;return this};a4.prototype.alpha=function(a5){if(!arguments.length){return this._alpha}else{a5=+a5;if(this._alpha){if(a5>0){this._alpha=a5}else{this._alpha=0}}else{if(a5>0){if(!this._running){this._running=true;this.trigger({type:Z.start,alpha:this._alpha=a5});this.kick()}}}return this}};a4.prototype.getLinkLength=function(a5){return typeof this._linkDistance==="function"?+(this._linkDistance(a5)):this._linkDistance};a4.setLinkLength=function(a6,a5){a6.length=a5};a4.prototype.getLinkType=function(a5){return typeof this._linkType==="function"?this._linkType(a5):0};a4.prototype.symmetricDiffLinkLengths=function(a6,a5){var a7=this;if(a5===void 0){a5=1}this.linkDistance(function(a8){return a6*a8.length});this._linkLengthCalculator=function(){return aM(a7._links,a7.linkAccessor,a5)};return this};a4.prototype.jaccardLinkLengths=function(a6,a5){var a7=this;if(a5===void 0){a5=1}this.linkDistance(function(a8){return a6*a8.length});this._linkLengthCalculator=function(){return n(a7._links,a7.linkAccessor,a5)};return this};a4.prototype.start=function(a8,a5,a9,bt,bj,a6){var bp=this;if(a8===void 0){a8=0}if(a5===void 0){a5=0}if(a9===void 0){a9=0}if(bt===void 0){bt=0}if(bj===void 0){bj=true}if(a6===void 0){a6=true}var br,bq,bn=this.nodes().length,bb=bn+2*this._groups.length,bo=this._links.length,bg=this._canvasSize[0],bs=this._canvasSize[1];var bf=new Array(bb),be=new Array(bb);var bh=null;var bm=this._avoidOverlaps;this._nodes.forEach(function(bu,bv){bu.index=bv;if(typeof bu.x==="undefined"){bu.x=bg/2,bu.y=bs/2}bf[bv]=bu.x,be[bv]=bu.y});if(this._linkLengthCalculator){this._linkLengthCalculator()}var ba;if(this._distanceMatrix){ba=this._distanceMatrix}else{ba=(new aG(bb,this._links,a4.getSourceIndex,a4.getTargetIndex,function(bu){return bp.getLinkLength(bu)})).DistanceMatrix();bh=aU.createSquareMatrix(bb,function(){return 2});this._links.forEach(function(bu){if(typeof bu.source=="number"){bu.source=bp._nodes[bu.source]}if(typeof bu.target=="number"){bu.target=bp._nodes[bu.target]}});this._links.forEach(function(bw){var bv=a4.getSourceIndex(bw),bu=a4.getTargetIndex(bw);bh[bv][bu]=bh[bu][bv]=bw.weight||1})}var bi=aU.createSquareMatrix(bb,function(bv,bu){return ba[bv][bu]});if(this._rootGroup&&typeof this._rootGroup.groups!=="undefined"){var br=bn;var bc=function(bv,bu,bx,bw){bh[bv][bu]=bh[bu][bv]=bx;bi[bv][bu]=bi[bu][bv]=bw};this._groups.forEach(function(bu){bc(br,br+1,bp._groupCompactness,0.1);if(typeof bu.bounds==="undefined"){bf[br]=bg/2,be[br++]=bs/2;bf[br]=bg/2,be[br++]=bs/2}else{bf[br]=bu.bounds.x,be[br++]=bu.bounds.y;bf[br]=bu.bounds.X,be[br++]=bu.bounds.Y}})}else{this._rootGroup={leaves:this._nodes,groups:[]}}var bd=this._constraints||[];if(this._directedLinkConstraints){this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation;bd=bd.concat(D(bn,this._links,this._directedLinkConstraints.axis,(this.linkAccessor)))}this.avoidOverlaps(false);this._descent=new aU([bf,be],bi);this._descent.locks.clear();for(var br=0;br<bn;++br){var bl=this._nodes[br];if(bl.fixed){bl.px=bl.x;bl.py=bl.y;var bk=[bl.x,bl.y];this._descent.locks.add(br,bk)}}this._descent.threshold=this._threshold;this.initialLayout(a8,bf,be);if(bd.length>0){this._descent.project=new aK(this._nodes,this._groups,this._rootGroup,bd).projectFunctions()}this._descent.run(a5);this.separateOverlappingComponents(bg,bs,a6);this.avoidOverlaps(bm);if(bm){this._nodes.forEach(function(bu,bv){bu.x=bf[bv],bu.y=be[bv]});this._descent.project=new aK(this._nodes,this._groups,this._rootGroup,bd,true).projectFunctions();this._nodes.forEach(function(bu,bv){bf[bv]=bu.x,be[bv]=bu.y})}this._descent.G=bh;this._descent.run(a9);if(bt){this._descent.snapStrength=1000;this._descent.snapGridSize=this._nodes[0].width;this._descent.numGridSnapNodes=bn;this._descent.scaleSnapByMaxH=bn!=bb;var a7=aU.createSquareMatrix(bb,function(bv,bu){if(bv>=bn||bu>=bn){return bh[bv][bu]}return 0});this._descent.G=a7;this._descent.run(bt)}this.updateNodePositions();this.separateOverlappingComponents(bg,bs,a6);return bj?this.resume():this};a4.prototype.initialLayout=function(a7,a5,ba){if(this._groups.length>0&&a7>0){var a9=this._nodes.length;var a6=this._links.map(function(bb){return({source:bb.source.index,target:bb.target.index})});var a8=this._nodes.map(function(bb){return({index:bb.index})});this._groups.forEach(function(bc,bb){a8.push({index:bc.index=a9+bb})});this._groups.forEach(function(bc,bb){if(typeof bc.leaves!=="undefined"){bc.leaves.forEach(function(bd){return a6.push({source:bc.index,target:bd.index})})}if(typeof bc.groups!=="undefined"){bc.groups.forEach(function(bd){return a6.push({source:bc.index,target:bd.index})})}});new a4().size(this.size()).nodes(a8).links(a6).avoidOverlaps(false).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(0.0001).start(a7,0,0,0,false);this._nodes.forEach(function(bb){a5[bb.index]=a8[bb.index].x;ba[bb.index]=a8[bb.index].y})}else{this._descent.run(a7)}};a4.prototype.separateOverlappingComponents=function(a8,a5,a9){var bb=this;if(a9===void 0){a9=true}if(!this._distanceMatrix&&this._handleDisconnected){var a6=this._descent.x[0],ba=this._descent.x[1];this._nodes.forEach(function(bc,bd){bc.x=a6[bd],bc.y=ba[bd]});var a7=ai(this._nodes,this._links);l(a7,a8,a5,this._defaultNodeSize,1,a9);this._nodes.forEach(function(bc,bd){bb._descent.x[0][bd]=bc.x,bb._descent.x[1][bd]=bc.y;if(bc.bounds){bc.bounds.setXCentre(bc.x);bc.bounds.setYCentre(bc.y)}})}};a4.prototype.resume=function(){return this.alpha(0.1)};a4.prototype.stop=function(){return this.alpha(0)};a4.prototype.prepareEdgeRouting=function(a5){if(a5===void 0){a5=0}this._visibilityGraph=new aZ.TangentVisibilityGraph(this._nodes.map(function(a6){return a6.bounds.inflate(-a5).vertices()}))};a4.prototype.routeEdge=function(bc,bl,be){if(bl===void 0){bl=5}var bj=[];var ba=new aZ.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),a6={x:bc.source.x,y:bc.source.y},a5={x:bc.target.x,y:bc.target.y},a9=ba.addPoint(a6,bc.source.index),a7=ba.addPoint(a5,bc.target.index);ba.addEdgeIfVisible(a6,a5,bc.source.index,bc.target.index);if(typeof be!=="undefined"){be(ba)}var bn=function(bo){return bo.source.id},bb=function(bo){return bo.target.id},a8=function(bo){return bo.length()},bf=new aG(ba.V.length,ba.E,bn,bb,a8),bd=bf.PathFromNodeToNode(a9.id,a7.id);if(bd.length===1||bd.length===ba.V.length){var bm=J.makeEdgeBetween(bc.source.innerBounds,bc.target.innerBounds,bl);bj=[bm.sourceIntersection,bm.arrowStart]}else{var bi=bd.length-2,bh=ba.V[bd[bi]].p,bg=ba.V[bd[0]].p,bj=[bc.source.innerBounds.rayIntersection(bh.x,bh.y)];for(var bk=bi;bk>=0;--bk){bj.push(ba.V[bd[bk]].p)}bj.push(J.makeEdgeTo(bg,bc.target.innerBounds,bl))}return bj};a4.getSourceIndex=function(a5){return typeof a5.source==="number"?a5.source:a5.source.index};a4.getTargetIndex=function(a5){return typeof a5.target==="number"?a5.target:a5.target.index};a4.linkId=function(a5){return a4.getSourceIndex(a5)+"-"+a4.getTargetIndex(a5)};a4.dragStart=function(a5){if(aF(a5)){a4.storeOffset(a5,a4.dragOrigin(a5))}else{a4.stopNode(a5);a5.fixed|=2}};a4.stopNode=function(a5){a5.px=a5.x;a5.py=a5.y};a4.storeOffset=function(a6,a5){if(typeof a6.leaves!=="undefined"){a6.leaves.forEach(function(a7){a7.fixed|=2;a4.stopNode(a7);a7._dragGroupOffsetX=a7.x-a5.x;a7._dragGroupOffsetY=a7.y-a5.y})}if(typeof a6.groups!=="undefined"){a6.groups.forEach(function(a7){return a4.storeOffset(a7,a5)})}};a4.dragOrigin=function(a5){if(aF(a5)){return{x:a5.bounds.cx(),y:a5.bounds.cy()}}else{return a5}};a4.drag=function(a6,a5){if(aF(a6)){if(typeof a6.leaves!=="undefined"){a6.leaves.forEach(function(a7){a6.bounds.setXCentre(a5.x);a6.bounds.setYCentre(a5.y);a7.px=a7._dragGroupOffsetX+a5.x;a7.py=a7._dragGroupOffsetY+a5.y})}if(typeof a6.groups!=="undefined"){a6.groups.forEach(function(a7){return a4.drag(a7,a5)})}}else{a6.px=a5.x;a6.py=a5.y}};a4.dragEnd=function(a5){if(aF(a5)){if(typeof a5.leaves!=="undefined"){a5.leaves.forEach(function(a6){a4.dragEnd(a6);delete a6._dragGroupOffsetX;delete a6._dragGroupOffsetY})}if(typeof a5.groups!=="undefined"){a5.groups.forEach(a4.dragEnd)}}else{a5.fixed&=~6}};a4.mouseOver=function(a5){a5.fixed|=4;a5.px=a5.x,a5.py=a5.y};a4.mouseOut=function(a5){a5.fixed&=~4};return a4}());var C=(function(){function a4(a5,a6,a7){if(a6===void 0){a6=1}if(a7===void 0){a7=1}this.desiredPosition=a5;this.weight=a6;this.scale=a7;this.offset=0}a4.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)};a4.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale};a4.prototype.visitNeighbours=function(a6,a7){var a5=function(a9,a8){return a9.active&&a6!==a8&&a7(a9,a8)};this.cOut.forEach(function(a8){return a5(a8,a8.right)});this.cIn.forEach(function(a8){return a5(a8,a8.left)})};return a4}());var ak=(function(a5){j(a4,a5);function a4(a7){var a9=a5.call(this)||this;var a6=a9;var a8=a7;if(a8.trigger){a9.trigger=a8.trigger}if(a8.kick){a9.kick=a8.kick}if(a8.drag){a9.drag=a8.drag}if(a8.on){a9.on=a8.on}a9.dragstart=a9.dragStart=ao.dragStart;a9.dragend=a9.dragEnd=ao.dragEnd;return a9}a4.prototype.trigger=function(a6){};a4.prototype.kick=function(){};a4.prototype.drag=function(){};a4.prototype.on=function(a6,a7){return this};return a4}(ao));function aw(a4){return new ak(a4)}ac.adaptor=aw;function ay(a5,a7,a6,a4){a5.cola.start(0,0,0,10,false);var a8=V(a5.cola.nodes(),a5.cola.groups(),a6,a4);return a8.routeEdges(a5.powerGraph.powerEdges,a7,function(a9){return a9.source.routerNode.id},function(a9){return a9.target.routerNode.id})}function V(a6,a5,a8,a4){a6.forEach(function(a9){a9.routerNode={name:a9.name,bounds:a9.bounds.inflate(-a8)}});a5.forEach(function(a9){a9.routerNode={bounds:a9.bounds.inflate(-a4),children:(typeof a9.groups!=="undefined"?a9.groups.map(function(ba){return a6.length+ba.id}):[]).concat(typeof a9.leaves!=="undefined"?a9.leaves.map(function(ba){return ba.index}):[])}});var a7=a6.concat(a5).map(function(ba,a9){ba.routerNode.id=a9;return ba.routerNode});return new Y(a7,{getChildren:function(a9){return a9.children},getBounds:function(a9){return a9.bounds}},a8-a4)}function an(a7,a6,ba){var a5;a7.nodes.forEach(function(bb,bc){return bb.index=bc});new ao().avoidOverlaps(false).nodes(a7.nodes).links(a7.links).powerGraphGroups(function(bb){a5=bb;a5.groups.forEach(function(bc){return bc.padding=ba})});var a9=a7.nodes.length;var a4=[];var a8=a7.nodes.slice(0);a8.forEach(function(bb,bc){return bb.index=bc});a5.groups.forEach(function(bb){var bc=bb.index=bb.id+a9;a8.push(bb);if(typeof bb.leaves!=="undefined"){bb.leaves.forEach(function(bd){return a4.push({source:bc,target:bd.index})})}if(typeof bb.groups!=="undefined"){bb.groups.forEach(function(bd){return a4.push({source:bc,target:bd.id+a9})})}});a5.powerEdges.forEach(function(bb){a4.push({source:bb.source.index,target:bb.target.index})});new ao().size(a6).nodes(a8).links(a4).avoidOverlaps(false).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(0.0001).start(100,0,0,0,false);return{cola:new ao().convergenceThreshold(0.001).size(a6).avoidOverlaps(true).nodes(a7.nodes).links(a7.links).groupCompactness(0.0001).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups(function(bb){a5=bb;a5.groups.forEach(function(bc){bc.padding=ba})}).start(50,0,100,0,false),powerGraph:a5}}var ag=(function(){function a4(){this.locks={}}a4.prototype.add=function(a6,a5){this.locks[a6]=a5};a4.prototype.clear=function(){this.locks={}};a4.prototype.isEmpty=function(){for(var a5 in this.locks){return false}return true};a4.prototype.apply=function(a6){for(var a5 in this.locks){a6(Number(a5),this.locks[a5])}};return a4}());var G=(function(){function a4(a5){if(a5===void 0){a5=1}this.seed=a5;this.a=214013;this.c=2531011;this.m=2147483648;this.range=32767}a4.prototype.getNext=function(){this.seed=(this.seed*this.a+this.c)%this.m;return(this.seed>>16)/this.range};a4.prototype.getNextBetween=function(a6,a5){return a6+this.getNext()*(a5-a6)};return a4}());var m=(function(){function a4(){}return a4}());var f=(function(){function a4(a6,a8,a5,a7){this.x1=a6;this.y1=a8;this.x2=a5;this.y2=a7}return a4}());var aV=(function(a4){j(a5,a4);function a5(){return a4!==null&&a4.apply(this,arguments)||this}return a5}(m));function R(a5,a4,a6){return(a4.x-a5.x)*(a6.y-a5.y)-(a6.x-a5.x)*(a4.y-a5.y)}function s(a5,a6,a4){return R(a5,a6,a4)>0}function u(a5,a6,a4){return R(a5,a6,a4)<0}function h(a8){var bc=a8.slice(0).sort(function(bh,bg){return bh.x!==bg.x?bg.x-bh.x:bg.y-bh.y});var a6=a8.length,bb;var bf=0;var a5=bc[0].x;for(bb=1;bb<a6;++bb){if(bc[bb].x!==a5){break}}var a7=bb-1;var be=[];be.push(bc[bf]);if(a7===a6-1){if(bc[a7].y!==bc[bf].y){be.push(bc[a7])}}else{var a4,ba=a6-1;var a9=bc[a6-1].x;for(bb=a6-2;bb>=0;bb--){if(bc[bb].x!==a9){break}}a4=bb+1;bb=a7;while(++bb<=a4){if(R(bc[bf],bc[a4],bc[bb])>=0&&bb<a4){continue}while(be.length>1){if(R(be[be.length-2],be[be.length-1],bc[bb])>0){break}else{be.length-=1}}if(bb!=bf){be.push(bc[bb])}}if(ba!=a4){be.push(bc[ba])}var bd=be.length;bb=a4;while(--bb>=a7){if(R(bc[ba],bc[a7],bc[bb])>=0&&bb>a7){continue}while(be.length>bd){if(R(be[be.length-2],be[be.length-1],bc[bb])>0){break}else{be.length-=1}}if(bb!=bf){be.push(bc[bb])}}}return be}function y(a6,a5,a4){a5.slice(0).sort(function(a8,a7){return Math.atan2(a8.y-a6.y,a8.x-a6.x)-Math.atan2(a7.y-a6.y,a7.x-a6.x)}).forEach(a4)}function I(a4,a5){if(a4.polyIndex===a5.length-1){return a5[0]}return a5[a4.polyIndex+1]}function aJ(a4,a5){if(a4.polyIndex===0){return a5[a5.length-1]}return a5[a4.polyIndex-1]}function c(a6,a4){var a5=a4.slice(0);a5.push(a4[0]);return{rtan:aI(a6,a5),ltan:W(a6,a5)}}function aI(a8,a6){var bb=a6.length-1;var a5,a4,ba;var a9,a7;if(u(a8,a6[1],a6[0])&&!s(a8,a6[bb-1],a6[0])){return 0}for(a5=0,a4=bb;;){if(a4-a5===1){if(s(a8,a6[a5],a6[a4])){return a5}else{return a4}}ba=Math.floor((a5+a4)/2);a7=u(a8,a6[ba+1],a6[ba]);if(a7&&!s(a8,a6[ba-1],a6[ba])){return ba}a9=s(a8,a6[a5+1],a6[a5]);if(a9){if(a7){a4=ba}else{if(s(a8,a6[a5],a6[ba])){a4=ba}else{a5=ba}}}else{if(!a7){a5=ba}else{if(u(a8,a6[a5],a6[ba])){a4=ba}else{a5=ba}}}}}function W(a9,a6){var bb=a6.length-1;var a5,a4,ba;var a8,a7;if(s(a9,a6[bb-1],a6[0])&&!u(a9,a6[1],a6[0])){return 0}for(a5=0,a4=bb;;){if(a4-a5===1){if(u(a9,a6[a5],a6[a4])){return a5}else{return a4}}ba=Math.floor((a5+a4)/2);a7=u(a9,a6[ba+1],a6[ba]);if(s(a9,a6[ba-1],a6[ba])&&!a7){return ba}a8=u(a9,a6[a5+1],a6[a5]);if(a8){if(!a7){a4=ba}else{if(u(a9,a6[a5],a6[ba])){a4=ba}else{a5=ba}}}else{if(a7){a5=ba}else{if(s(a9,a6[a5],a6[ba])){a4=ba}else{a5=ba}}}}}function p(a5,a4,a8,a7,ba,a9){var bc,bb;bc=a8(a4[0],a5);bb=a7(a5[bc],a4);var a6=false;while(!a6){a6=true;while(true){if(bc===a5.length-1){bc=0}if(ba(a4[bb],a5[bc],a5[bc+1])){break}++bc}while(true){if(bb===0){bb=a4.length-1}if(a9(a5[bc],a4[bb],a4[bb-1])){break}--bb;a6=false}}return{t1:bc,t2:bb}}function a(a5,a4){var a6=al(a4,a5);return{t1:a6.t2,t2:a6.t1}}function al(a5,a4){return p(a5,a4,aI,W,s,u)}function z(a5,a4){return p(a5,a4,W,W,u,u)}function aj(a5,a4){return p(a5,a4,aI,aI,s,s)}var aa=(function(){function a4(a6,a5){this.t1=a6;this.t2=a5}return a4}());var af=(function(){function a4(){}return a4}());var i=(function(a5){j(a4,a5);function a4(){return a5!==null&&a5.apply(this,arguments)||this}return a4}(m));var aX=(function(){function a4(a8,a6,a5,a7){this.id=a8;this.polyid=a6;this.polyvertid=a5;this.p=a7;a7.vv=this}return a4}());var am=(function(){function a4(a5,a6){this.source=a5;this.target=a6}a4.prototype.length=function(){var a6=this.source.p.x-this.target.p.x;var a5=this.source.p.y-this.target.p.y;return Math.sqrt(a6*a6+a5*a5)};return a4}());var aZ=(function(){function a4(bd,a7){this.P=bd;this.V=[];this.E=[];if(!a7){var a9=bd.length;for(var bc=0;bc<a9;bc++){var a8=bd[bc];for(var ba=0;ba<a8.length;++ba){var bb=a8[ba],bi=new aX(this.V.length,bc,ba,bb);this.V.push(bi);if(ba>0){this.E.push(new am(a8[ba-1].vv,bi))}}if(a8.length>1){this.E.push(new am(a8[0].vv,a8[a8.length-1].vv))}}for(var bc=0;bc<a9-1;bc++){var bg=bd[bc];for(var ba=bc+1;ba<a9;ba++){var be=bd[ba],bj=S(bg,be);for(var a6 in bj){var bh=bj[a6],a5=bg[bh.t1],bf=be[bh.t2];this.addEdgeIfVisible(a5,bf,bc,ba)}}}}else{this.V=a7.V.slice(0);this.E=a7.E.slice(0)}}a4.prototype.addEdgeIfVisible=function(a6,a5,a8,a7){if(!this.intersectsPolys(new f(a6.x,a6.y,a5.x,a5.y),a8,a7)){this.E.push(new am(a6.vv,a5.vv))}};a4.prototype.addPoint=function(a9,a7){var ba=this.P.length;this.V.push(new aX(this.V.length,ba,0,a9));for(var a6=0;a6<ba;++a6){if(a6===a7){continue}var a8=this.P[a6],a5=c(a9,a8);this.addEdgeIfVisible(a9,a8[a5.ltan],a7,a6);this.addEdgeIfVisible(a9,a8[a5.rtan],a7,a6)}return a9.vv};a4.prototype.intersectsPolys=function(a5,a8,a7){for(var a6=0,a9=this.P.length;a6<a9;++a6){if(a6!=a8&&a6!=a7&&T(a5,this.P[a6]).length>0){return true}}return false};return a4}());function T(a4,a7){var a9=[];for(var a5=1,a8=a7.length;a5<a8;++a5){var a6=J.lineIntersection(a4.x1,a4.y1,a4.x2,a4.y2,a7[a5-1].x,a7[a5-1].y,a7[a5].x,a7[a5].y);if(a6){a9.push(a6)}}return a9}function S(a8,a7){var bi=a8.length-1,bh=a7.length-1;var bm=new af();for(var bk=0;bk<=bi;++bk){for(var bj=0;bj<=bh;++bj){var a6=a8[bk==0?bi:bk-1];var a5=a8[bk];var a4=a8[bk==bi?0:bk+1];var bf=a7[bj==0?bh:bj-1];var be=a7[bj];var bd=a7[bj==bh?0:bj+1];var bc=R(a6,a5,be);var bg=R(a5,bf,be);var a9=R(a5,be,bd);var bb=R(bf,be,a5);var ba=R(be,a6,a5);var bl=R(be,a5,a4);if(bc>=0&&bg>=0&&a9<0&&bb>=0&&ba>=0&&bl<0){bm.ll=new aa(bk,bj)}else{if(bc<=0&&bg<=0&&a9>0&&bb<=0&&ba<=0&&bl>0){bm.rr=new aa(bk,bj)}else{if(bc<=0&&bg>0&&a9<=0&&bb>=0&&ba<0&&bl>=0){bm.rl=new aa(bk,bj)}else{if(bc>=0&&bg<0&&a9>=0&&bb<=0&&ba>0&&bl<=0){bm.lr=new aa(bk,bj)}}}}}}return bm}function Q(a6,a5){for(var a4=1,a7=a5.length;a4<a7;++a4){if(u(a5[a4-1],a5[a4],a6)){return false}}return true}function v(a5,a4){return !a5.every(function(a6){return !Q(a6,a4)})}function ar(a8,a7){if(v(a8,a7)){return true}if(v(a7,a8)){return true}for(var a6=1,a9=a8.length;a6<a9;++a6){var a4=a8[a6],a5=a8[a6-1];if(T(new f(a5.x,a5.y,a4.x,a4.y),a7).length>0){return true}}return false}var a2=(function(){function a4(a7,a6,a5){this.id=a7;this.rect=a6;this.children=a5;this.leaf=typeof a5==="undefined"||a5.length===0}return a4}());var a3=(function(){function a4(a9,a5,a8,a7,a6){if(a7===void 0){a7=null}if(a6===void 0){a6=null}this.id=a9;this.x=a5;this.y=a8;this.node=a7;this.line=a6}return a4}());var aD=(function(){function a4(a8,a6){this.s=a8;this.t=a6;var a7=a4.findMatch(a8,a6);var a9=a6.slice(0).reverse();var a5=a4.findMatch(a8,a9);if(a7.length>=a5.length){this.length=a7.length;this.si=a7.si;this.ti=a7.ti;this.reversed=false}else{this.length=a5.length;this.si=a5.si;this.ti=a6.length-a5.ti-a5.length;this.reversed=true}}a4.findMatch=function(bd,bc){var a6=bd.length;var a5=bc.length;var ba={length:0,si:-1,ti:-1};var a7=new Array(a6);for(var a9=0;a9<a6;a9++){a7[a9]=new Array(a5);for(var a8=0;a8<a5;a8++){if(bd[a9]===bc[a8]){var bb=a7[a9][a8]=(a9===0||a8===0)?1:a7[a9-1][a8-1]+1;if(bb>ba.length){ba.length=bb;ba.si=a9-bb+1;ba.ti=a8-bb+1}}else{a7[a9][a8]=0}}}return ba};a4.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]};return a4}());var Y=(function(){function a4(a7,a9,bh){var bd=this;if(bh===void 0){bh=12}this.originalnodes=a7;this.groupPadding=bh;this.leaves=null;this.nodes=a7.map(function(bj,bk){return new a2(bk,a9.getBounds(bj),a9.getChildren(bj))});this.leaves=this.nodes.filter(function(bj){return bj.leaf});this.groups=this.nodes.filter(function(bj){return !bj.leaf});this.cols=this.getGridLines("x");this.rows=this.getGridLines("y");this.groups.forEach(function(bj){return bj.children.forEach(function(bk){return bd.nodes[bk].parent=bj})});this.root={children:[]};this.nodes.forEach(function(bj){if(typeof bj.parent==="undefined"){bj.parent=bd.root;bd.root.children.push(bj.id)}bj.ports=[]});this.backToFront=this.nodes.slice(0);this.backToFront.sort(function(bj,bk){return bd.getDepth(bj)-bd.getDepth(bk)});var bc=this.backToFront.slice(0).reverse().filter(function(bj){return !bj.leaf});bc.forEach(function(bj){var bk=J.empty();bj.children.forEach(function(bl){return bk=bk.union(bd.nodes[bl].rect)});bj.rect=bk.inflate(bd.groupPadding)});var a8=this.midPoints(this.cols.map(function(bj){return bj.pos}));var bb=this.midPoints(this.rows.map(function(bj){return bj.pos}));var be=a8[0],a6=a8[a8.length-1];var ba=bb[0],bf=bb[bb.length-1];var bg=this.rows.map(function(bj){return({x1:be,x2:a6,y1:bj.pos,y2:bj.pos})}).concat(bb.map(function(bj){return({x1:be,x2:a6,y1:bj,y2:bj})}));var a5=this.cols.map(function(bj){return({x1:bj.pos,x2:bj.pos,y1:ba,y2:bf})}).concat(a8.map(function(bj){return({x1:bj,x2:bj,y1:ba,y2:bf})}));var bi=bg.concat(a5);bi.forEach(function(bj){return bj.verts=[]});this.verts=[];this.edges=[];bg.forEach(function(bj){return a5.forEach(function(bm){var bq=new a3(bd.verts.length,bm.x1,bj.y1);bj.verts.push(bq);bm.verts.push(bq);bd.verts.push(bq);var bn=bd.backToFront.length;while(bn-->0){var bp=bd.backToFront[bn],bo=bp.rect;var bl=Math.abs(bq.x-bo.cx()),bk=Math.abs(bq.y-bo.cy());if(bl<bo.width()/2&&bk<bo.height()/2){bq.node=bp;break}}})});bi.forEach(function(bl,bj){bd.nodes.forEach(function(bq,br){bq.rect.lineIntersections(bl.x1,bl.y1,bl.x2,bl.y2).forEach(function(bs,bt){var bu=new a3(bd.verts.length,bs.x,bs.y,bq,bl);bd.verts.push(bu);bl.verts.push(bu);bq.ports.push(bu)})});var bk=Math.abs(bl.y1-bl.y2)<0.1;var bp=function(br,bq){return bk?bq.x-br.x:bq.y-br.y};bl.verts.sort(bp);for(var bo=1;bo<bl.verts.length;bo++){var bn=bl.verts[bo-1],bm=bl.verts[bo];if(bn.node&&bn.node===bm.node&&bn.node.leaf){continue}bd.edges.push({source:bn.id,target:bm.id,length:Math.abs(bp(bn,bm))})}})}a4.prototype.avg=function(a5){return a5.reduce(function(a6,a7){return a6+a7})/a5.length};a4.prototype.getGridLines=function(a9){var a8=[];var a6=this.leaves.slice(0,this.leaves.length);while(a6.length>0){var a5=a6.filter(function(ba){return ba.rect["overlap"+a9.toUpperCase()](a6[0].rect)});var a7={nodes:a5,pos:this.avg(a5.map(function(ba){return ba.rect["c"+a9]()}))};a8.push(a7);a7.nodes.forEach(function(ba){return a6.splice(a6.indexOf(ba),1)})}a8.sort(function(bb,ba){return bb.pos-ba.pos});return a8};a4.prototype.getDepth=function(a5){var a6=0;while(a5.parent!==this.root){a6++;a5=a5.parent}return a6};a4.prototype.midPoints=function(a5){var a8=a5[1]-a5[0];var a7=[a5[0]-a8/2];for(var a6=1;a6<a5.length;a6++){a7.push((a5[a6]+a5[a6-1])/2)}a7.push(a5[a5.length-1]+a8/2);return a7};a4.prototype.findLineage=function(a6){var a5=[a6];do{a6=a6.parent;a5.push(a6)}while(a6!==this.root);return a5.reverse()};a4.prototype.findAncestorPathBetween=function(a6,a5){var a8=this.findLineage(a6),a9=this.findLineage(a5),a7=0;while(a8[a7]===a9[a7]){a7++}return{commonAncestor:a8[a7-1],lineages:a8.slice(a7).concat(a9.slice(a7))}};a4.prototype.siblingObstacles=function(a6,a5){var ba=this;var a9=this.findAncestorPathBetween(a6,a5);var a7={};a9.lineages.forEach(function(bb){return a7[bb.id]={}});var a8=a9.commonAncestor.children.filter(function(bb){return !(bb in a7)});a9.lineages.filter(function(bb){return bb.parent!==a9.commonAncestor}).forEach(function(bb){return a8=a8.concat(bb.parent.children.filter(function(bc){return bc!==bb.id}))});return a8.map(function(bb){return ba.nodes[bb]})};a4.getSegmentSets=function(be,bb,ba){var a9=[];for(var a5=0;a5<be.length;a5++){var bc=be[a5];for(var a7=0;a7<bc.length;a7++){var bg=bc[a7];bg.edgeid=a5;bg.i=a7;var bf=bg[1][bb]-bg[0][bb];if(Math.abs(bf)<0.1){a9.push(bg)}}}a9.sort(function(bi,bh){return bi[0][bb]-bh[0][bb]});var bd=[];var a8=null;for(var a6=0;a6<a9.length;a6++){var bg=a9[a6];if(!a8||Math.abs(bg[0][bb]-a8.pos)>0.1){a8={pos:bg[0][bb],segments:[]};bd.push(a8)}a8.segments.push(bg)}return bd};a4.nudgeSegs=function(bd,bc,a5,bi,bg,bf){var bh=bi.length;if(bh<=1){return}var bj=bi.map(function(bn){return new C(bn[0][bd])});var a8=[];for(var bl=0;bl<bh;bl++){for(var bk=0;bk<bh;bk++){if(bl===bk){continue}var a7=bi[bl],a6=bi[bk],ba=a7.edgeid,a9=a6.edgeid,be=-1,bb=-1;if(bd=="x"){if(bg(ba,a9)){if(a7[0][bc]<a7[1][bc]){be=bk,bb=bl}else{be=bl,bb=bk}}}else{if(bg(ba,a9)){if(a7[0][bc]<a7[1][bc]){be=bl,bb=bk}else{be=bk,bb=bl}}}if(be>=0){a8.push(new ax(bj[be],bj[bb],bf))}}}var bm=new t(bj,a8);bm.solve();bj.forEach(function(bo,bp){var bq=bi[bp];var br=bo.position();bq[0][bd]=bq[1][bd]=br;var bn=a5[bq.edgeid];if(bq.i>0){bn[bq.i-1][1][bd]=br}if(bq.i<bn.length-1){bn[bq.i+1][0][bd]=br}})};a4.nudgeSegments=function(be,bc,ba,a5,bb){var bd=a4.getSegmentSets(be,bc,ba);for(var a7=0;a7<bd.length;a7++){var bh=bd[a7];var bf=[];for(var a6=0;a6<bh.segments.length;a6++){var bg=bh.segments[a6];bf.push({type:0,s:bg,pos:Math.min(bg[0][ba],bg[1][ba])});bf.push({type:1,s:bg,pos:Math.max(bg[0][ba],bg[1][ba])})}bf.sort(function(bj,bi){return bj.pos-bi.pos+bj.type-bi.type});var a8=[];var a9=0;bf.forEach(function(bi){if(bi.type===0){a8.push(bi.s);a9++}else{a9--}if(a9==0){a4.nudgeSegs(bc,ba,be,a8,a5,bb);a8=[]}})}};a4.prototype.routeEdges=function(a7,a9,a8,bb){var bc=this;var ba=a7.map(function(bd){return bc.route(a8(bd),bb(bd))});var a5=a4.orderEdges(ba);var a6=ba.map(function(bd){return a4.makeSegments(bd)});a4.nudgeSegments(a6,"x","y",a5,a9);a4.nudgeSegments(a6,"y","x",a5,a9);a4.unreverseEdges(a6,ba);return a6};a4.unreverseEdges=function(a5,a6){a5.forEach(function(a7,a8){var a9=a6[a8];if(a9.reversed){a7.reverse();a7.forEach(function(ba){ba.reverse()})}})};a4.angleBetween2Lines=function(a6,a5){var a9=Math.atan2(a6[0].y-a6[1].y,a6[0].x-a6[1].x);var a8=Math.atan2(a5[0].y-a5[1].y,a5[0].x-a5[1].x);var a7=a9-a8;if(a7>Math.PI||a7<-Math.PI){a7=a8-a9}return a7};a4.isLeft=function(a6,a5,a7){return((a5.x-a6.x)*(a7.y-a6.y)-(a5.y-a6.y)*(a7.x-a6.x))<=0};a4.getOrder=function(a7){var a5={};for(var a6=0;a6<a7.length;a6++){var a8=a7[a6];if(typeof a5[a8.l]==="undefined"){a5[a8.l]={}}a5[a8.l][a8.r]=true}return function(a9,ba){return typeof a5[a9]!=="undefined"&&a5[a9][ba]}};a4.orderEdges=function(a9){var bd=[];for(var ba=0;ba<a9.length-1;ba++){for(var a8=ba+1;a8<a9.length;a8++){var bc=a9[ba],bb=a9[a8],a5=new aD(bc,bb);var be,a7,a6;if(a5.length===0){continue}if(a5.reversed){bb.reverse();bb.reversed=true;a5=new aD(bc,bb)}if((a5.si<=0||a5.ti<=0)&&(a5.si+a5.length>=bc.length||a5.ti+a5.length>=bb.length)){bd.push({l:ba,r:a8});continue}if(a5.si+a5.length>=bc.length||a5.ti+a5.length>=bb.length){be=bc[a5.si+1];a6=bc[a5.si-1];a7=bb[a5.ti-1]}else{be=bc[a5.si+a5.length-2];a7=bc[a5.si+a5.length];a6=bb[a5.ti+a5.length]}if(a4.isLeft(be,a7,a6)){bd.push({l:a8,r:ba})}else{bd.push({l:ba,r:a8})}}}return a4.getOrder(bd)};a4.makeSegments=function(bb){function ba(bd){return{x:bd.x,y:bd.y}}var a9=function(be,bd,bf){return Math.abs((bd.x-be.x)*(bf.y-be.y)-(bd.y-be.y)*(bf.x-be.x))<0.001};var a7=[];var a6=ba(bb[0]);for(var a8=1;a8<bb.length;a8++){var a5=ba(bb[a8]),bc=a8<bb.length-1?bb[a8+1]:null;if(!bc||!a9(a6,a5,bc)){a7.push([a6,a5]);a6=a5}}return a7};a4.prototype.route=function(bk,bj){var bb=this;var a6=this.nodes[bk],bd=this.nodes[bj];this.obstacles=this.siblingObstacles(a6,bd);var a9={};this.obstacles.forEach(function(bl){return a9[bl.id]=bl});this.passableEdges=this.edges.filter(function(bn){var bm=bb.verts[bn.source],bl=bb.verts[bn.target];return !(bm.node&&bm.node.id in a9||bl.node&&bl.node.id in a9)});for(var ba=1;ba<a6.ports.length;ba++){var bi=a6.ports[0].id;var bh=a6.ports[ba].id;this.passableEdges.push({source:bi,target:bh,length:0})}for(var ba=1;ba<bd.ports.length;ba++){var bi=bd.ports[0].id;var bh=bd.ports[ba].id;this.passableEdges.push({source:bi,target:bh,length:0})}var bc=function(bl){return bl.source},a8=function(bl){return bl.target},bf=function(bl){return bl.length};var a5=new aG(this.verts.length,this.passableEdges,bc,a8,bf);var bg=function(br,bq,bo){var bn=bb.verts[br],bl=bb.verts[bq],bs=bb.verts[bo];var bp=Math.abs(bs.x-bn.x),bm=Math.abs(bs.y-bn.y);if(bn.node===a6&&bn.node===bl.node||bl.node===bd&&bl.node===bs.node){return 0}return bp>1&&bm>1?1000:0};var a7=a5.PathFromNodeToNodeWithPrevCost(a6.ports[0].id,bd.ports[0].id,bg);var be=a7.reverse().map(function(bl){return bb.verts[bl]});be.push(this.nodes[bd.id].ports[0]);return be.filter(function(bl,bm){return !(bm<be.length-1&&be[bm+1].node===a6&&bl.node===a6||bm>0&&bl.node===bd&&be[bm-1].node===bd)})};a4.getRoutePath=function(bs,bc,bl,bk){var bg={routepath:"M "+bs[0][0].x+" "+bs[0][0].y+" ",arrowpath:""};if(bs.length>1){for(var bn=0;bn<bs.length;bn++){var bj=bs[bn];var bf=bj[1].x,be=bj[1].y;var bi=bf-bj[0].x;var bh=be-bj[0].y;if(bn<bs.length-1){if(Math.abs(bi)>0){bf-=bi/Math.abs(bi)*bc}else{be-=bh/Math.abs(bh)*bc}bg.routepath+="L "+bf+" "+be+" ";var bm=bs[bn+1];var br=bm[0].x,bb=bm[0].y;var bp=bm[1].x;var ba=bm[1].y;bi=bp-br;bh=ba-bb;var bq=a4.angleBetween2Lines(bj,bm)<0?1:0;var bo,a8;if(Math.abs(bi)>0){bo=br+bi/Math.abs(bi)*bc;a8=bb}else{bo=br;a8=bb+bh/Math.abs(bh)*bc}var a9=Math.abs(bo-bf);var a7=Math.abs(a8-be);bg.routepath+="A "+a9+" "+a7+" 0 0 "+bq+" "+bo+" "+a8+" "}else{var bd=[bf,be];var a6,a5;if(Math.abs(bi)>0){bf-=bi/Math.abs(bi)*bk;a6=[bf,be+bl];a5=[bf,be-bl]}else{be-=bh/Math.abs(bh)*bk;a6=[bf+bl,be];a5=[bf-bl,be]}bg.routepath+="L "+bf+" "+be+" ";if(bk>0){bg.arrowpath="M "+bd[0]+" "+bd[1]+" L "+a6[0]+" "+a6[1]+" L "+a5[0]+" "+a5[1]}}}}else{var bj=bs[0];var bf=bj[1].x,be=bj[1].y;var bi=bf-bj[0].x;var bh=be-bj[0].y;var bd=[bf,be];var a6,a5;if(Math.abs(bi)>0){bf-=bi/Math.abs(bi)*bk;a6=[bf,be+bl];a5=[bf,be-bl]}else{be-=bh/Math.abs(bh)*bk;a6=[bf+bl,be];a5=[bf-bl,be]}bg.routepath+="L "+bf+" "+be+" ";if(bk>0){bg.arrowpath="M "+bd[0]+" "+bd[1]+" L "+a6[0]+" "+a6[1]+" L "+a5[0]+" "+a5[1]}}return bg};return a4}());var at={PADDING:10,GOLDEN_SECTION:(1+Math.sqrt(5))/2,FLOAT_EPSILON:0.0001,MAX_INERATIONS:100};function l(a8,be,bj,bc,ba,a5){if(ba===void 0){ba=1}if(a5===void 0){a5=true}var bb=0,a9=0,bm=be,bi=bj,ba=typeof ba!=="undefined"?ba:1,bc=typeof bc!=="undefined"?bc:0,bo=0,a6=0,bf=0,bg=0,bd=[];if(a8.length==0){return}bk(a8);bh(a8,ba);if(a5){bn(a8)}function bk(bq){bq.forEach(function(bs){br(bs)});function br(bw){var bt=Number.MAX_VALUE,bs=Number.MAX_VALUE,bv=0,bu=0;bw.array.forEach(function(by){var bx=typeof by.width!=="undefined"?by.width:bc;var bz=typeof by.height!=="undefined"?by.height:bc;bx/=2;bz/=2;bv=Math.max(by.x+bx,bv);bt=Math.min(by.x-bx,bt);bu=Math.max(by.y+bz,bu);bs=Math.min(by.y-bz,bs)});bw.width=bv-bt;bw.height=bu-bs}}function bn(bq){bq.forEach(function(bt){var br={x:0,y:0};bt.array.forEach(function(bv){br.x+=bv.x;br.y+=bv.y});br.x/=bt.array.length;br.y/=bt.array.length;var bs={x:br.x-bt.width/2,y:br.y-bt.height/2};var bu={x:bt.x-bs.x+bm/2-bo/2,y:bt.y-bs.y+bi/2-a6/2};bt.array.forEach(function(bv){bv.x+=bu.x;bv.y+=bu.y})})}function bh(bv,bD){var bx=Number.POSITIVE_INFINITY;var bA=0;bv.sort(function(bF,bE){return bE.height-bF.height});bf=bv.reduce(function(bF,bE){return bF.width<bE.width?bF.width:bE.width});var bu=br=bf;var bB=bq=a4(bv);var bw=0;var bt=Number.MAX_VALUE;var bs=Number.MAX_VALUE;var by=-1;var bC=Number.MAX_VALUE;var bz=Number.MAX_VALUE;while((bC>bf)||bz>at.FLOAT_EPSILON){if(by!=1){var br=bB-(bB-bu)/at.GOLDEN_SECTION;var bt=a7(bv,br)}if(by!=0){var bq=bu+(bB-bu)/at.GOLDEN_SECTION;var bs=a7(bv,bq)}bC=Math.abs(br-bq);bz=Math.abs(bt-bs);if(bt<bx){bx=bt;bA=br}if(bs<bx){bx=bs;bA=bq}if(bt>bs){bu=br;br=bq;bt=bs;by=1}else{bB=bq;bq=br;bs=bt;by=0}if(bw++>100){break}}a7(bv,bA)}function a7(bs,br){bd=[];bo=0;a6=0;bg=a9;for(var bq=0;bq<bs.length;bq++){var bt=bs[bq];bl(bt,br)}return Math.abs(bp()-ba)}function bl(bs,bt){var br=undefined;for(var bq=0;bq<bd.length;bq++){if((bd[bq].space_left>=bs.height)&&(bd[bq].x+bd[bq].width+bs.width+at.PADDING-bt)<=at.FLOAT_EPSILON){br=bd[bq];break}}bd.push(bs);if(br!==undefined){bs.x=br.x+br.width+at.PADDING;bs.y=br.bottom;bs.space_left=bs.height;bs.bottom=bs.y;br.space_left-=bs.height+at.PADDING;br.bottom+=bs.height+at.PADDING}else{bs.y=bg;bg+=bs.height+at.PADDING;bs.x=bb;bs.bottom=bs.y;bs.space_left=bs.height}if(bs.y+bs.height-a6>-at.FLOAT_EPSILON){a6=bs.y+bs.height-a9}if(bs.x+bs.width-bo>-at.FLOAT_EPSILON){bo=bs.x+bs.width-bb}}function a4(br){var bq=0;br.forEach(function(bs){return bq+=bs.width+at.PADDING});return bq}function bp(){return(bo/a6)}}function ai(a4,be){var bd={};var bf={};var a8=[];var bc=0;for(var a6=0;a6<be.length;a6++){var bb=be[a6];var a9=bb.source;var a7=bb.target;if(bf[a9.index]){bf[a9.index].push(a7)}else{bf[a9.index]=[a7]}if(bf[a7.index]){bf[a7.index].push(a9)}else{bf[a7.index]=[a9]}}for(var a6=0;a6<a4.length;a6++){var a5=a4[a6];if(bd[a5.index]){continue}ba(a5,true)}function ba(bj,bi){if(bd[bj.index]!==undefined){return}if(bi){bc++;a8.push({array:[]})}bd[bj.index]=bc;a8[bc-1].array.push(bj);var bh=bf[bj.index];if(!bh){return}for(var bg=0;bg<bh.length;bg++){ba(bh[bg],false)}}return a8}var Z;(function(a4){a4[a4.start=0]="start";a4[a4.tick=1]="tick";a4[a4.end=2]="end"})(Z=ac.EventType||(ac.EventType={}));function aF(a4){return typeof a4.leaves!=="undefined"||typeof a4.groups!=="undefined"}var aW=(function(){function a4(a5,a6){this.source=a5;this.target=a6}a4.prototype.actualLength=function(a5){var a6=this;return Math.sqrt(a5.reduce(function(a9,a8){var a7=a8[a6.target]-a8[a6.source];return a9+a7*a7},0))};return a4}());var e=(function(){function a4(a5,a7,a6){if(a5===void 0){a5=0}if(a7===void 0){a7=0}if(a6===void 0){a6=0}this.x=a5;this.y=a7;this.z=a6}return a4}());var aS=(function(){function a4(a6,a5,a8){var a9=this;if(a8===void 0){a8=1}this.nodes=a6;this.links=a5;this.idealLinkLength=a8;this.constraints=null;this.useJaccardLinkLengths=true;this.result=new Array(a4.k);for(var a7=0;a7<a4.k;++a7){this.result[a7]=new Array(a6.length)}a6.forEach(function(ba,bc){for(var bd=0,bb=a4.dims;bd<bb.length;bd++){var be=bb[bd];if(typeof ba[be]=="undefined"){ba[be]=Math.random()}}a9.result[0][bc]=ba.x;a9.result[1][bc]=ba.y;a9.result[2][bc]=ba.z})}a4.prototype.linkLength=function(a5){return a5.actualLength(this.result)};a4.prototype.start=function(a7){var ba=this;if(a7===void 0){a7=100}var a6=this.nodes.length;var bb=new aN();if(this.useJaccardLinkLengths){n(this.links,bb,1.5)}this.links.forEach(function(be){return be.length*=ba.idealLinkLength});var a8=(new aG(a6,this.links,function(be){return be.source},function(be){return be.target},function(be){return be.length})).DistanceMatrix();var a5=aU.createSquareMatrix(a6,function(bf,be){return a8[bf][be]});var bd=aU.createSquareMatrix(a6,function(){return 2});this.links.forEach(function(be){var bf=be.source,bg=be.target;return bd[bf][bg]=bd[bg][bf]=1});this.descent=new aU(this.result,a5);this.descent.threshold=0.001;this.descent.G=bd;if(this.constraints){this.descent.project=new J.Projection(this.nodes,null,null,this.constraints).projectFunctions()}for(var a9=0;a9<this.nodes.length;a9++){var bc=this.nodes[a9];if(bc.fixed){this.descent.locks.add(a9,[bc.x,bc.y,bc.z])}}this.descent.run(a7);return this};a4.prototype.tick=function(){this.descent.locks.clear();for(var a6=0;a6<this.nodes.length;a6++){var a5=this.nodes[a6];if(a5.fixed){this.descent.locks.add(a6,[a5.x,a5.y,a5.z])}}return this.descent.rungeKutta()};a4.dims=["x","y","z"];a4.k=a4.dims.length;return a4}());ac.Layout3D=aS;var aN=(function(){function a4(){}a4.prototype.getSourceIndex=function(a5){return a5.source};a4.prototype.getTargetIndex=function(a5){return a5.target};a4.prototype.getLength=function(a5){return a5.length};a4.prototype.setLength=function(a6,a5){a6.length=a5};return a4}());function aT(a5,a4){var a6={};for(var a7 in a5){a6[a7]={}}for(var a7 in a4){a6[a7]={}}return Object.keys(a6).length}function X(a5,a4){var a7=0;for(var a6 in a5){if(typeof a4[a6]!=="undefined"){++a7}}return a7}function az(a5,a7){var a6={};var a4=function(a9,a8){if(typeof a6[a9]==="undefined"){a6[a9]={}}a6[a9][a8]={}};a5.forEach(function(ba){var a9=a7.getSourceIndex(ba),a8=a7.getTargetIndex(ba);a4(a9,a8);a4(a8,a9)});return a6}function N(a5,a4,a7,a8){var a6=az(a5,a8);a5.forEach(function(bb){var ba=a6[a8.getSourceIndex(bb)];var a9=a6[a8.getTargetIndex(bb)];a8.setLength(bb,1+a4*a7(ba,a9))})}function aM(a5,a6,a4){if(a4===void 0){a4=1}N(a5,a4,function(a8,a7){return Math.sqrt(aT(a8,a7)-X(a8,a7))},a6)}function n(a5,a6,a4){if(a4===void 0){a4=1}N(a5,a4,function(a8,a7){return Math.min(Object.keys(a8).length,Object.keys(a7).length)<1.1?0:X(a8,a7)/aT(a8,a7)},a6)}function D(ba,a5,a6,a8){var a7=aE(ba,a5,a8);var a4={};a7.forEach(function(bc,bb){return bc.forEach(function(bd){return a4[bd]=bb})});var a9=[];a5.forEach(function(bb){var be=a8.getSourceIndex(bb),bf=a8.getTargetIndex(bb),bd=a4[be],bc=a4[bf];if(bd!==bc){a9.push({axis:a6,left:be,right:bf,gap:a8.getMinSeparation(bb)})}});return a9}function aE(bf,a9,a6){var a5=[];var bd=0;var bh=[];var bc=[];function bk(bm){bm.index=bm.lowlink=bd++;bh.push(bm);bm.onStack=true;for(var bp=0,bo=bm.out;bp<bo.length;bp++){var bl=bo[bp];if(typeof bl.index==="undefined"){bk(bl);bm.lowlink=Math.min(bm.lowlink,bl.lowlink)}else{if(bl.onStack){bm.lowlink=Math.min(bm.lowlink,bl.index)}}}if(bm.lowlink===bm.index){var bn=[];while(bh.length){bl=bh.pop();bl.onStack=false;bn.push(bl);if(bl===bm){break}}bc.push(bn.map(function(bq){return bq.id}))}}for(var ba=0;ba<bf;ba++){a5.push({id:ba,out:[]})}for(var a8=0,a4=a9;a8<a4.length;a8++){var be=a4[a8];var bb=a5[a6.getSourceIndex(be)],bi=a5[a6.getTargetIndex(be)];bb.out.push(bi)}for(var bg=0,a7=a5;bg<a7.length;bg++){var bj=a7[bg];if(typeof bj.index==="undefined"){bk(bj)}}return bc}var aC=(function(){function a4(a6,a7,a5){this.source=a6;this.target=a7;this.type=a5}return a4}());var ap=(function(){function a4(ba,a5,a8,a7){var a9=this;this.linkAccessor=a8;this.modules=new Array(ba);this.roots=[];if(a7){this.initModulesFromGroup(a7)}else{this.roots.push(new a1());for(var a6=0;a6<ba;++a6){this.roots[0].add(this.modules[a6]=new a0(a6))}}this.R=a5.length;a5.forEach(function(be){var bd=a9.modules[a8.getSourceIndex(be)],bb=a9.modules[a8.getTargetIndex(be)],bc=a8.getType(be);bd.outgoing.add(bc,bb);bb.incoming.add(bc,bd)})}a4.prototype.initModulesFromGroup=function(bd){var bc=new a1();this.roots.push(bc);for(var bb=0;bb<bd.leaves.length;++bb){var a9=bd.leaves[bb];var a7=new a0(a9.id);this.modules[a9.id]=a7;bc.add(a7)}if(bd.groups){for(var ba=0;ba<bd.groups.length;++ba){var a6=bd.groups[ba];var a8={};for(var a5 in a6){if(a5!=="leaves"&&a5!=="groups"&&a6.hasOwnProperty(a5)){a8[a5]=a6[a5]}}bc.add(new a0(-1-ba,new K(),new K(),this.initModulesFromGroup(a6),a8))}}return bc};a4.prototype.merge=function(a9,a6,ba){if(ba===void 0){ba=0}var a8=a9.incoming.intersection(a6.incoming),a7=a9.outgoing.intersection(a6.outgoing);var bb=new a1();bb.add(a9);bb.add(a6);var a5=new a0(this.modules.length,a7,a8,bb);this.modules.push(a5);var bc=function(be,bd,bf){be.forAll(function(bh,bg){bh.forAll(function(bj){var bi=bj[bd];bi.add(bg,a5);bi.remove(bg,a9);bi.remove(bg,a6);a9[bf].remove(bg,bj);a6[bf].remove(bg,bj)})})};bc(a7,"incoming","outgoing");bc(a8,"outgoing","incoming");this.R-=a8.count()+a7.count();this.roots[ba].remove(a9);this.roots[ba].remove(a6);this.roots[ba].add(a5);return a5};a4.prototype.rootMerges=function(a9){if(a9===void 0){a9=0}var ba=this.roots[a9].modules();var a6=ba.length;var a5=new Array(a6*(a6-1));var a7=0;for(var bc=0,a8=a6-1;bc<a8;++bc){for(var bb=bc+1;bb<a6;++bb){var be=ba[bc],bd=ba[bb];a5[a7]={id:a7,nEdges:this.nEdges(be,bd),a:be,b:bd};a7++}}return a5};a4.prototype.greedyMerge=function(){for(var a7=0;a7<this.roots.length;++a7){if(this.roots[a7].modules().length<2){continue}var a6=this.rootMerges(a7).sort(function(a9,a8){return a9.nEdges==a8.nEdges?a9.id-a8.id:a9.nEdges-a8.nEdges});var a5=a6[0];if(a5.nEdges>=this.R){continue}this.merge(a5.a,a5.b,a7);return true}};a4.prototype.nEdges=function(a8,a5){var a7=a8.incoming.intersection(a5.incoming),a6=a8.outgoing.intersection(a5.outgoing);return this.R-a7.count()-a6.count()};a4.prototype.getGroupHierarchy=function(a7){var a9=this;var a5=[];var a6={};P(this.roots[0],a6,a5);var a8=this.allEdges();a8.forEach(function(bc){var bb=a9.modules[bc.source];var ba=a9.modules[bc.target];a7.push(new aC(typeof bb.gid==="undefined"?bc.source:a5[bb.gid],typeof ba.gid==="undefined"?bc.target:a5[ba.gid],bc.type))});return a5};a4.prototype.allEdges=function(){var a5=[];a4.getEdges(this.roots[0],a5);return a5};a4.getEdges=function(a5,a6){a5.forAll(function(a7){a7.getEdges(a6);a4.getEdges(a7.children,a6)})};return a4}());function P(a5,a6,a4){a5.forAll(function(a7){if(a7.isLeaf()){if(!a6.leaves){a6.leaves=[]}a6.leaves.push(a7.id)}else{var a8=a6;a7.gid=a4.length;if(!a7.isIsland()||a7.isPredefined()){a8={id:a7.gid};if(a7.isPredefined()){for(var a9 in a7.definition){a8[a9]=a7.definition[a9]}}if(!a6.groups){a6.groups=[]}a6.groups.push(a7.gid);a4.push(a8)}P(a7.children,a8,a4)}})}var a0=(function(){function a4(a9,a6,a5,a8,a7){if(a6===void 0){a6=new K()}if(a5===void 0){a5=new K()}if(a8===void 0){a8=new a1()}this.id=a9;this.outgoing=a6;this.incoming=a5;this.children=a8;this.definition=a7}a4.prototype.getEdges=function(a5){var a6=this;this.outgoing.forAll(function(a7,a8){a7.forAll(function(a9){a5.push(new aC(a6.id,a9.id,a8))})})};a4.prototype.isLeaf=function(){return this.children.count()===0};a4.prototype.isIsland=function(){return this.outgoing.count()===0&&this.incoming.count()===0};a4.prototype.isPredefined=function(){return typeof this.definition!=="undefined"};return a4}());function q(a4,a7){var a6={};for(var a5 in a4){if(a5 in a7){a6[a5]=a4[a5]}}return a6}var a1=(function(){function a4(){this.table={}}a4.prototype.count=function(){return Object.keys(this.table).length};a4.prototype.intersection=function(a6){var a5=new a4();a5.table=q(this.table,a6.table);return a5};a4.prototype.intersectionCount=function(a5){return this.intersection(a5).count()};a4.prototype.contains=function(a5){return a5 in this.table};a4.prototype.add=function(a5){this.table[a5.id]=a5};a4.prototype.remove=function(a5){delete this.table[a5.id]};a4.prototype.forAll=function(a6){for(var a5 in this.table){a6(this.table[a5])}};a4.prototype.modules=function(){var a5=[];this.forAll(function(a6){if(!a6.isPredefined()){a5.push(a6)}});return a5};return a4}());var K=(function(){function a4(){this.sets={};this.n=0}a4.prototype.count=function(){return this.n};a4.prototype.contains=function(a6){var a5=false;this.forAllModules(function(a7){if(!a5&&a7.id==a6){a5=true}});return a5};a4.prototype.add=function(a6,a5){var a7=a6 in this.sets?this.sets[a6]:this.sets[a6]=new a1();a7.add(a5);++this.n};a4.prototype.remove=function(a7,a5){var a6=this.sets[a7];a6.remove(a5);if(a6.count()===0){delete this.sets[a7]}--this.n};a4.prototype.forAll=function(a6){for(var a5 in this.sets){a6(this.sets[a5],Number(a5))}};a4.prototype.forAllModules=function(a5){this.forAll(function(a7,a6){return a7.forAll(a5)})};a4.prototype.intersection=function(a6){var a5=new a4();this.forAll(function(a8,a7){if(a7 in a6.sets){var a9=a8.intersection(a6.sets[a7]),ba=a9.count();if(ba>0){a5.sets[a7]=a9;a5.n+=ba}}});return a5};return a4}());function X(a4,a5){return Object.keys(q(a4,a5)).length}function aB(a5,a4,a8,a7){var bb=a5.length,ba=new ap(bb,a4,a8,a7);while(ba.greedyMerge()){}var a9=[];var a6=ba.getGroupHierarchy(a9);a9.forEach(function(bd){var bc=function(be){var bf=bd[be];if(typeof bf=="number"){bd[be]=a5[bf]}};bc("source");bc("target")});return{groups:a6,powerEdges:a9}}var aq=(function(){function a4(a5){this.elem=a5;this.subheaps=[]}a4.prototype.toString=function(a5){var a8="",a6=false;for(var a7=0;a7<this.subheaps.length;++a7){var a9=this.subheaps[a7];if(!a9.elem){a6=false;continue}if(a6){a8=a8+","}a8=a8+a9.toString(a5);a6=true}if(a8!==""){a8="("+a8+")"}return(this.elem?a5(this.elem):"")+a8};a4.prototype.forEach=function(a5){if(!this.empty()){a5(this.elem,this);this.subheaps.forEach(function(a6){return a6.forEach(a5)})}};a4.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce(function(a6,a5){return a6+a5.count()},0)};a4.prototype.min=function(){return this.elem};a4.prototype.empty=function(){return this.elem==null};a4.prototype.contains=function(a6){if(this===a6){return true}for(var a5=0;a5<this.subheaps.length;a5++){if(this.subheaps[a5].contains(a6)){return true}}return false};a4.prototype.isHeap=function(a5){var a6=this;return this.subheaps.every(function(a7){return a5(a6.elem,a7.elem)&&a7.isHeap(a5)})};a4.prototype.insert=function(a6,a5){return this.merge(new a4(a6),a5)};a4.prototype.merge=function(a6,a5){if(this.empty()){return a6}else{if(a6.empty()){return this}else{if(a5(this.elem,a6.elem)){this.subheaps.push(a6);return this}else{a6.subheaps.push(this);return a6}}}};a4.prototype.removeMin=function(a5){if(this.empty()){return null}else{return this.mergePairs(a5)}};a4.prototype.mergePairs=function(a7){if(this.subheaps.length==0){return new a4(null)}else{if(this.subheaps.length==1){return this.subheaps[0]}else{var a5=this.subheaps.pop().merge(this.subheaps.pop(),a7);var a6=this.mergePairs(a7);return a5.merge(a6,a7)}}};a4.prototype.decreaseKey=function(ba,a9,a7,a8){var a5=ba.removeMin(a8);ba.elem=a5.elem;ba.subheaps=a5.subheaps;if(a7!==null&&a5.elem!==null){a7(ba.elem,ba)}var a6=new a4(a9);if(a7!==null){a7(a9,a6)}return this.merge(a6,a8)};return a4}());var F=(function(){function a4(a5){this.lessThan=a5}a4.prototype.top=function(){if(this.empty()){return null}return this.root.elem};a4.prototype.push=function(){var a7=[];for(var a9=0;a9<arguments.length;a9++){a7[a9]=arguments[a9]}var a6;for(var a8=0,a5;a5=a7[a8];++a8){a6=new aq(a5);this.root=this.empty()?a6:this.root.merge(a6,this.lessThan)}return a6};a4.prototype.empty=function(){return !this.root||!this.root.elem};a4.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)};a4.prototype.forEach=function(a5){this.root.forEach(a5)};a4.prototype.pop=function(){if(this.empty()){return null}var a5=this.root.min();this.root=this.root.removeMin(this.lessThan);return a5};a4.prototype.reduceKey=function(a5,a7,a6){if(a6===void 0){a6=null}this.root=this.root.decreaseKey(a5,a7,a6,this.lessThan)};a4.prototype.toString=function(a5){return this.root.toString(a5)};a4.prototype.count=function(){return this.root.count()};return a4}());var o=(function(){function a4(){this.findIter=function(a7){var a6=this._root;var a5=this.iterator();while(a6!==null){var a8=this._comparator(a7,a6.data);if(a8===0){a5._cursor=a6;return a5}else{a5._ancestors.push(a6);a6=a6.get_child(a8>0)}}return null}}a4.prototype.clear=function(){this._root=null;this.size=0};a4.prototype.find=function(a6){var a5=this._root;while(a5!==null){var a7=this._comparator(a6,a5.data);if(a7===0){return a5.data}else{a5=a5.get_child(a7>0)}}return null};a4.prototype.lowerBound=function(a5){return this._bound(a5,this._comparator)};a4.prototype.upperBound=function(a6){var a5=this._comparator;function a7(a9,a8){return a5(a8,a9)}return this._bound(a6,a7)};a4.prototype.min=function(){var a5=this._root;if(a5===null){return null}while(a5.left!==null){a5=a5.left}return a5.data};a4.prototype.max=function(){var a5=this._root;if(a5===null){return null}while(a5.right!==null){a5=a5.right}return a5.data};a4.prototype.iterator=function(){return new aY(this)};a4.prototype.each=function(a5){var a6=this.iterator(),a7;while((a7=a6.next())!==null){a5(a7)}};a4.prototype.reach=function(a5){var a6=this.iterator(),a7;while((a7=a6.prev())!==null){a5(a7)}};a4.prototype._bound=function(a8,a7){var a9=this._root;var a5=this.iterator();while(a9!==null){var ba=this._comparator(a8,a9.data);if(ba===0){a5._cursor=a9;return a5}a5._ancestors.push(a9);a9=a9.get_child(ba>0)}for(var a6=a5._ancestors.length-1;a6>=0;--a6){a9=a5._ancestors[a6];if(a7(a8,a9.data)>0){a5._cursor=a9;a5._ancestors.length=a6;return a5}}a5._ancestors.length=0;return a5};return a4}());var aY=(function(){function a4(a5){this._tree=a5;this._ancestors=[];this._cursor=null}a4.prototype.data=function(){return this._cursor!==null?this._cursor.data:null};a4.prototype.next=function(){if(this._cursor===null){var a5=this._tree._root;if(a5!==null){this._minNode(a5)}}else{if(this._cursor.right===null){var a6;do{a6=this._cursor;if(this._ancestors.length){this._cursor=this._ancestors.pop()}else{this._cursor=null;break}}while(this._cursor.right===a6)}else{this._ancestors.push(this._cursor);this._minNode(this._cursor.right)}}return this._cursor!==null?this._cursor.data:null};a4.prototype.prev=function(){if(this._cursor===null){var a5=this._tree._root;if(a5!==null){this._maxNode(a5)}}else{if(this._cursor.left===null){var a6;do{a6=this._cursor;if(this._ancestors.length){this._cursor=this._ancestors.pop()}else{this._cursor=null;break}}while(this._cursor.left===a6)}else{this._ancestors.push(this._cursor);this._maxNode(this._cursor.left)}}return this._cursor!==null?this._cursor.data:null};a4.prototype._minNode=function(a5){while(a5.left!==null){this._ancestors.push(a5);a5=a5.left}this._cursor=a5};a4.prototype._maxNode=function(a5){while(a5.right!==null){this._ancestors.push(a5);a5=a5.right}this._cursor=a5};return a4}());var ae=(function(){function a4(a5){this.data=a5;this.left=null;this.right=null;this.red=true}a4.prototype.get_child=function(a5){return a5?this.right:this.left};a4.prototype.set_child=function(a5,a6){if(a5){this.right=a6}else{this.left=a6}};return a4}());var d=(function(a5){j(a4,a5);function a4(a6){var a7=a5.call(this)||this;a7._root=null;a7._comparator=a6;a7.size=0;return a7}a4.prototype.insert=function(ba){var bb=false;if(this._root===null){this._root=new ae(ba);bb=true;this.size++}else{var be=new ae(undefined);var a8=false;var bf=false;var a9=null;var bc=be;var a6=null;var a7=this._root;bc.right=this._root;while(true){if(a7===null){a7=new ae(ba);a6.set_child(a8,a7);bb=true;this.size++}else{if(a4.is_red(a7.left)&&a4.is_red(a7.right)){a7.red=true;a7.left.red=false;a7.right.red=false}}if(a4.is_red(a7)&&a4.is_red(a6)){var bg=bc.right===a9;if(a7===a6.get_child(bf)){bc.set_child(bg,a4.single_rotate(a9,!bf))}else{bc.set_child(bg,a4.double_rotate(a9,!bf))}}var bd=this._comparator(a7.data,ba);if(bd===0){break}bf=a8;a8=bd<0;if(a9!==null){bc=a9}a9=a6;a6=a7;a7=a7.get_child(a8)}this._root=be.right}this._root.red=false;return bb};a4.prototype.remove=function(bc){if(this._root===null){return false}var be=new ae(undefined);var a9=be;a9.right=this._root;var a8=null;var bb=null;var bi=null;var ba=true;while(a9.get_child(ba)!==null){var bg=ba;bb=a8;a8=a9;a9=a9.get_child(ba);var bd=this._comparator(bc,a9.data);ba=bd>0;if(bd===0){bi=a9}if(!a4.is_red(a9)&&!a4.is_red(a9.get_child(ba))){if(a4.is_red(a9.get_child(!ba))){var a6=a4.single_rotate(a9,ba);a8.set_child(bg,a6);a8=a6}else{if(!a4.is_red(a9.get_child(!ba))){var bf=a8.get_child(!bg);if(bf!==null){if(!a4.is_red(bf.get_child(!bg))&&!a4.is_red(bf.get_child(bg))){a8.red=false;bf.red=true;a9.red=true}else{var bh=bb.right===a8;if(a4.is_red(bf.get_child(bg))){bb.set_child(bh,a4.double_rotate(a8,bg))}else{if(a4.is_red(bf.get_child(!bg))){bb.set_child(bh,a4.single_rotate(a8,bg))}}var a7=bb.get_child(bh);a7.red=true;a9.red=true;a7.left.red=false;a7.right.red=false}}}}}}if(bi!==null){bi.data=a9.data;a8.set_child(a8.right===a9,a9.get_child(a9.left===null));this.size--}this._root=be.right;if(this._root!==null){this._root.red=false}return bi!==null};a4.is_red=function(a6){return a6!==null&&a6.red};a4.single_rotate=function(a6,a7){var a8=a6.get_child(!a7);a6.set_child(!a7,a8.get_child(a7));a8.set_child(a7,a6);a6.red=true;a8.red=false;return a8};a4.double_rotate=function(a6,a7){a6.set_child(!a7,a4.single_rotate(a6.get_child(!a7),!a7));return a4.single_rotate(a6,a7)};return a4}(o));function U(a4){a4.bounds=typeof a4.leaves!=="undefined"?a4.leaves.reduce(function(a5,a6){return a6.bounds.union(a5)},J.empty()):J.empty();if(typeof a4.groups!=="undefined"){a4.bounds=a4.groups.reduce(function(a5,a6){return U(a6).union(a5)},a4.bounds)}a4.bounds=a4.bounds.inflate(a4.padding);return a4.bounds}function ah(a4,a9,ba){var a7=a4.rayIntersection(a9.cx(),a9.cy())||{x:a4.cx(),y:a4.cy()},a5=a9.rayIntersection(a4.cx(),a4.cy())||{x:a9.cx(),y:a9.cy()},bc=a5.x-a7.x,bb=a5.y-a7.y,a6=Math.sqrt(bc*bc+bb*bb),a8=a6-ba;return{sourceIntersection:a7,targetIntersection:a5,arrowStart:{x:a7.x+a8*bc/a6,y:a7.y+a8*bb/a6}}}function M(a9,ba,a6){var a8=ba.rayIntersection(a9.x,a9.y);if(!a8){a8={x:ba.cx(),y:ba.cy()}}var a7=a8.x-a9.x,a5=a8.y-a9.y,a4=Math.sqrt(a7*a7+a5*a5);return{x:a8.x-a6*a7/a4,y:a8.y-a6*a5/a4}}var aH=(function(){function a4(a5,a6,a7){this.v=a5;this.r=a6;this.pos=a7;this.prev=g();this.next=g()}return a4}());var ab=(function(){function a4(a6,a5,a7){this.isOpen=a6;this.v=a5;this.pos=a7}return a4}());function av(a5,a4){if(a5.pos>a4.pos){return 1}if(a5.pos<a4.pos){return -1}if(a5.isOpen){return -1}if(a4.isOpen){return 1}return 0}function g(){return new d(function(a5,a4){return a5.pos-a4.pos})}var au={getCentre:function(a4){return a4.cx()},getOpen:function(a4){return a4.y},getClose:function(a4){return a4.Y},getSize:function(a4){return a4.width()},makeRect:function(a5,a7,a4,a6){return new J(a4-a6/2,a4+a6/2,a5,a7)},findNeighbours:aA};var ad={getCentre:function(a4){return a4.cy()},getOpen:function(a4){return a4.x},getClose:function(a4){return a4.X},getSize:function(a4){return a4.height()},makeRect:function(a5,a7,a4,a6){return new J(a5,a7,a4-a6/2,a4+a6/2)},findNeighbours:w};function aP(bg,bm,a7,bd){if(bd===void 0){bd=false}var ba=bg.padding,bi=typeof bg.groups!=="undefined"?bg.groups.length:0,a6=typeof bg.leaves!=="undefined"?bg.leaves.length:0,bj=!bi?[]:bg.groups.reduce(function(bp,bq){return bp.concat(aP(bq,bm,a7,true))},[]),be=(bd?2:0)+a6+bi,bh=new Array(be),a5=new Array(be),bl=0,bc=function(bq,bp){a5[bl]=bq;bh[bl++]=bp};if(bd){var bo=bg.bounds,bn=bm.getCentre(bo),a9=bm.getSize(bo)/2,a8=bm.getOpen(bo),bb=bm.getClose(bo),bf=bn-a9+ba/2,bk=bn+a9-ba/2;bg.minVar.desiredPosition=bf;bc(bm.makeRect(a8,bb,bf,ba),bg.minVar);bg.maxVar.desiredPosition=bk;bc(bm.makeRect(a8,bb,bk,ba),bg.maxVar)}if(a6){bg.leaves.forEach(function(bp){return bc(bp.bounds,bp.variable)})}if(bi){bg.groups.forEach(function(bq){var bp=bq.bounds;bc(bm.makeRect(bm.getOpen(bp),bm.getClose(bp),bm.getCentre(bp),bm.getSize(bp)),bq.minVar)})}var a4=k(a5,bh,bm,a7);if(bi){bh.forEach(function(bp){bp.cOut=[],bp.cIn=[]});a4.forEach(function(bp){bp.left.cOut.push(bp),bp.right.cIn.push(bp)});bg.groups.forEach(function(bq){var bp=(bq.padding-bm.getSize(bq.bounds))/2;bq.minVar.cIn.forEach(function(br){return br.gap+=bp});bq.minVar.cOut.forEach(function(br){br.left=bq.maxVar;br.gap+=bp})})}return bj.concat(a4)}function k(a8,bd,bf,be){var a9,a6=a8.length;var bc=2*a6;console.assert(bd.length>=a6);var bi=new Array(bc);for(a9=0;a9<a6;++a9){var a4=a8[a9];var bh=new aH(bd[a9],a4,bf.getCentre(a4));bi[a9]=new ab(true,bh,bf.getOpen(a4));bi[a9+a6]=new ab(false,bh,bf.getClose(a4))}bi.sort(av);var ba=new Array();var a5=g();for(a9=0;a9<bc;++a9){var bb=bi[a9];var bh=bb.v;if(bb.isOpen){a5.insert(bh);bf.findNeighbours(bh,a5)}else{a5.remove(bh);var bg=function(bj,bl){var bk=(bf.getSize(bj.r)+bf.getSize(bl.r))/2+be;ba.push(new ax(bj.v,bl.v,bk))};var a7=function(bl,bk,bm){var bj,bn=bh[bl].iterator();while((bj=bn[bl]())!==null){bm(bj,bh);bj[bk].remove(bh)}};a7("prev","next",function(bk,bj){return bg(bk,bj)});a7("next","prev",function(bk,bj){return bg(bj,bk)})}}console.assert(a5.size===0);return ba}function aA(a4,a6){var a5=function(a9,a8){var ba=a6.findIter(a4);var a7;while((a7=ba[a9]())!==null){var bb=a7.r.overlapX(a4.r);if(bb<=0||bb<=a7.r.overlapY(a4.r)){a4[a9].insert(a7);a7[a8].insert(a4)}if(bb<=0){break}}};a5("next","prev");a5("prev","next")}function w(a4,a6){var a5=function(a9,a8){var a7=a6.findIter(a4)[a9]();if(a7!==null&&a7.r.overlapX(a4.r)>0){a4[a9].insert(a7);a7[a8].insert(a4)}};a5("next","prev");a5("prev","next")}function aQ(a4,a5){return k(a4,a5,au,0.000001)}function r(a4,a5){return k(a4,a5,ad,0.000001)}function B(a4){return aP(a4,au,0.000001)}function b(a4){return aP(a4,ad,0.000001)}function L(a4){var a7=a4.map(function(a8){return new C(a8.cx())});var a5=aQ(a4,a7);var a6=new t(a7,a5);a6.solve();a7.forEach(function(a8,a9){return a4[a9].setXCentre(a8.position())});a7=a4.map(function(a8){return new C(a8.cy())});a5=r(a4,a7);a6=new t(a7,a5);a6.solve();a7.forEach(function(a8,a9){return a4[a9].setYCentre(a8.position())})}var A=(function(a5){j(a4,a5);function a4(a7,a6){var a8=a5.call(this,0,a6)||this;a8.index=a7;return a8}return a4}(C));var aK=(function(){function a4(a6,a5,a9,bb,a8){var ba=this;if(a9===void 0){a9=null}if(bb===void 0){bb=null}if(a8===void 0){a8=false}this.nodes=a6;this.groups=a5;this.rootGroup=a9;this.avoidOverlaps=a8;this.variables=a6.map(function(bc,bd){return bc.variable=new A(bd,1)});if(bb){this.createConstraints(bb)}if(a8&&a9&&typeof a9.groups!=="undefined"){a6.forEach(function(bd){if(!bd.width||!bd.height){bd.bounds=new J(bd.x,bd.x,bd.y,bd.y);return}var bc=bd.width/2,be=bd.height/2;bd.bounds=new J(bd.x-bc,bd.x+bc,bd.y-be,bd.y+be)});U(a9);var a7=a6.length;a5.forEach(function(bc){ba.variables[a7]=bc.minVar=new A(a7++,typeof bc.stiffness!=="undefined"?bc.stiffness:0.01);ba.variables[a7]=bc.maxVar=new A(a7++,typeof bc.stiffness!=="undefined"?bc.stiffness:0.01)})}}a4.prototype.createSeparation=function(a5){return new ax(this.nodes[a5.left].variable,this.nodes[a5.right].variable,a5.gap,typeof a5.equality!=="undefined"?a5.equality:false)};a4.prototype.makeFeasible=function(ba){var a9=this;if(!this.avoidOverlaps){return}var a5="x",a7="width";if(ba.axis==="x"){a5="y",a7="height"}var a8=ba.offsets.map(function(bb){return a9.nodes[bb.node]}).sort(function(bc,bb){return bc[a5]-bb[a5]});var a6=null;a8.forEach(function(bb){if(a6){var bc=a6[a5]+a6[a7];if(bc>bb[a5]){bb[a5]=bc}}a6=bb})};a4.prototype.createAlignment=function(a8){var a7=this;var a5=this.nodes[a8.offsets[0].node].variable;this.makeFeasible(a8);var a6=a8.axis==="x"?this.xConstraints:this.yConstraints;a8.offsets.slice(1).forEach(function(ba){var a9=a7.nodes[ba.node].variable;a6.push(new ax(a5,a9,ba.offset,true))})};a4.prototype.createConstraints=function(a7){var a6=this;var a5=function(a8){return typeof a8.type==="undefined"||a8.type==="separation"};this.xConstraints=a7.filter(function(a8){return a8.axis==="x"&&a5(a8)}).map(function(a8){return a6.createSeparation(a8)});this.yConstraints=a7.filter(function(a8){return a8.axis==="y"&&a5(a8)}).map(function(a8){return a6.createSeparation(a8)});a7.filter(function(a8){return a8.type==="alignment"}).forEach(function(a8){return a6.createAlignment(a8)})};a4.prototype.setupVariablesAndBounds=function(a5,a7,a6,a8){this.nodes.forEach(function(bc,bd){if(bc.fixed){bc.variable.weight=bc.fixedWeight?bc.fixedWeight:1000;a6[bd]=a8(bc)}else{bc.variable.weight=1}var bb=(bc.width||0)/2,be=(bc.height||0)/2;var ba=a5[bd],a9=a7[bd];bc.bounds=new J(ba-bb,ba+bb,a9-be,a9+be)})};a4.prototype.xProject=function(a6,a7,a5){if(!this.rootGroup&&!(this.avoidOverlaps||this.xConstraints)){return}this.project(a6,a7,a6,a5,function(a8){return a8.px},this.xConstraints,B,function(a8){return a8.bounds.setXCentre(a5[a8.variable.index]=a8.variable.position())},function(a9){var ba=a5[a9.minVar.index]=a9.minVar.position();var a8=a5[a9.maxVar.index]=a9.maxVar.position();var bb=a9.padding/2;a9.bounds.x=ba-bb;a9.bounds.X=a8+bb})};a4.prototype.yProject=function(a5,a6,a7){if(!this.rootGroup&&!this.yConstraints){return}this.project(a5,a6,a6,a7,function(a8){return a8.py},this.yConstraints,b,function(a8){return a8.bounds.setYCentre(a7[a8.variable.index]=a8.variable.position())},function(ba){var a9=a7[ba.minVar.index]=ba.minVar.position();var a8=a7[ba.maxVar.index]=ba.maxVar.position();var bb=ba.padding/2;ba.bounds.y=a9-bb;ba.bounds.Y=a8+bb})};a4.prototype.projectFunctions=function(){var a5=this;return[function(a7,a8,a6){return a5.xProject(a7,a8,a6)},function(a6,a7,a8){return a5.yProject(a6,a7,a8)}]};a4.prototype.project=function(a8,bd,a7,a6,a5,bb,bc,a9,ba){this.setupVariablesAndBounds(a8,bd,a6,a5);if(this.rootGroup&&this.avoidOverlaps){U(this.rootGroup);bb=bb.concat(bc(this.rootGroup))}this.solve(this.variables,bb,a7,a6);this.nodes.forEach(a9);if(this.rootGroup&&this.avoidOverlaps){this.groups.forEach(ba);U(this.rootGroup)}};a4.prototype.solve=function(a9,a7,a5,a6){var a8=new t(a9,a7);a8.setStartingPositions(a5);a8.setDesiredPositions(a6);a8.solve()};return a4}());var aR=(function(){function a4(a6,a5){this.id=a6;this.distance=a5}return a4}());var O=(function(){function a4(a5){this.id=a5;this.neighbours=[]}return a4}());var aL=(function(){function a4(a6,a5,a7){this.node=a6;this.prev=a5;this.d=a7}return a4}());var aG=(function(){function a4(a6,bd,ba,a5,bb){this.n=a6;this.es=bd;this.neighbours=new Array(this.n);var a7=this.n;while(a7--){this.neighbours[a7]=new O(a7)}a7=this.es.length;while(a7--){var a8=this.es[a7];var be=ba(a8),bc=a5(a8);var a9=bb(a8);this.neighbours[be].neighbours.push(new aR(bc,a9));this.neighbours[bc].neighbours.push(new aR(be,a9))}}a4.prototype.DistanceMatrix=function(){var a6=new Array(this.n);for(var a5=0;a5<this.n;++a5){a6[a5]=this.dijkstraNeighbours(a5)}return a6};a4.prototype.DistancesFromNode=function(a5){return this.dijkstraNeighbours(a5)};a4.prototype.PathFromNodeToNode=function(a6,a5){return this.dijkstraNeighbours(a6,a5)};a4.prototype.PathFromNodeToNodeWithPrevCost=function(a7,a9,a6){var a5=new F(function(bk,bj){return bk.d<=bj.d}),bf=this.neighbours[a7],bd=new aL(bf,null,0),bc={};a5.push(bd);while(!a5.empty()){bd=a5.pop();bf=bd.node;if(bf.id===a9){break}var ba=bf.neighbours.length;while(ba--){var bh=bf.neighbours[ba],be=this.neighbours[bh.id];if(bd.prev&&be.id===bd.prev.node.id){continue}var bb=be.id+","+bf.id;if(bb in bc&&bc[bb]<=bd.d){continue}var a8=bd.prev?a6(bd.prev.node.id,bf.id,be.id):0,bg=bd.d+bh.distance+a8;bc[bb]=bg;a5.push(new aL(be,bd,bg))}}var bi=[];while(bd.prev){bd=bd.prev;bi.push(bd.node.id)}return bi};a4.prototype.dijkstraNeighbours=function(a6,ba){if(ba===void 0){ba=-1}var a5=new F(function(bh,bg){return bh.d<=bg.d}),a8=this.neighbours.length,a9=new Array(a8);while(a8--){var a7=this.neighbours[a8];a7.d=a8===a6?0:Number.POSITIVE_INFINITY;a7.q=a5.push(a7)}while(!a5.empty()){var bc=a5.pop();a9[bc.id]=bc.d;if(bc.id===ba){var bf=[];var bb=bc;while(typeof bb.prev!=="undefined"){bf.push(bb.prev.id);bb=bb.prev}return bf}a8=bc.neighbours.length;while(a8--){var be=bc.neighbours[a8];var bb=this.neighbours[be.id];var bd=bc.d+be.distance;if(bc.d!==Number.MAX_VALUE&&bb.d>bd){bb.d=bd;bb.prev=bc;a5.reduceKey(bb.q,bb,function(bh,bg){return bh.q=bg})}}}return a9};return a4}());var E=(function(){function a4(a5){this.scale=a5;this.AB=0;this.AD=0;this.A2=0}a4.prototype.addVariable=function(a8){var a6=this.scale/a8.scale;var a7=a8.offset/a8.scale;var a5=a8.weight;this.AB+=a5*a6*a7;this.AD+=a5*a6*a8.desiredPosition;this.A2+=a5*a6*a6};a4.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2};return a4}());var ax=(function(){function a4(a7,a5,a8,a6){if(a6===void 0){a6=false}this.left=a7;this.right=a5;this.gap=a8;this.equality=a6;this.active=false;this.unsatisfiable=false;this.left=a7;this.right=a5;this.gap=a8;this.equality=a6}a4.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()};return a4}());var H=(function(){function a4(a5){this.vars=[];a5.offset=0;this.ps=new E(a5.scale);this.addVariable(a5)}a4.prototype.addVariable=function(a5){a5.block=this;this.vars.push(a5);this.ps.addVariable(a5);this.posn=this.ps.getPosn()};a4.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var a5=0,a6=this.vars.length;a5<a6;++a5){this.ps.addVariable(this.vars[a5])}this.posn=this.ps.getPosn()};a4.prototype.compute_lm=function(a6,a7,a8){var a9=this;var a5=a6.dfdv();a6.visitNeighbours(a7,function(bc,ba){var bb=a9.compute_lm(ba,a6,a8);if(ba===bc.right){a5+=bb*bc.left.scale;bc.lm=bb}else{a5+=bb*bc.right.scale;bc.lm=-bb}a8(bc)});return a5/a6.scale};a4.prototype.populateSplitBlock=function(a5,a6){var a7=this;a5.visitNeighbours(a6,function(a9,a8){a8.offset=a5.offset+(a8===a9.right?a9.gap:-a9.gap);a7.addVariable(a8);a7.populateSplitBlock(a8,a5)})};a4.prototype.traverse=function(a6,a8,a5,a7){var a9=this;if(a5===void 0){a5=this.vars[0]}if(a7===void 0){a7=null}a5.visitNeighbours(a7,function(bb,ba){a8.push(a6(bb));a9.traverse(a6,a8,ba,a5)})};a4.prototype.findMinLM=function(){var a5=null;this.compute_lm(this.vars[0],null,function(a6){if(!a6.equality&&(a5===null||a6.lm<a5.lm)){a5=a6}});return a5};a4.prototype.findMinLMBetween=function(a6,a7){this.compute_lm(a6,null,function(){});var a5=null;this.findPath(a6,null,a7,function(a9,a8){if(!a9.equality&&a9.right===a8&&(a5===null||a9.lm<a5.lm)){a5=a9}});return a5};a4.prototype.findPath=function(a6,a8,ba,a7){var a9=this;var a5=false;a6.visitNeighbours(a8,function(bc,bb){if(!a5&&(bb===ba||a9.findPath(bb,a6,ba,a7))){a5=true;a7(bc,bb)}});return a5};a4.prototype.isActiveDirectedPathBetween=function(a6,a5){if(a6===a5){return true}var a7=a6.cOut.length;while(a7--){var a8=a6.cOut[a7];if(a8.active&&this.isActiveDirectedPathBetween(a8.right,a5)){return true}}return false};a4.split=function(a5){a5.active=false;return[a4.createSplitBlock(a5.left),a4.createSplitBlock(a5.right)]};a4.createSplitBlock=function(a6){var a5=new a4(a6);a5.populateSplitBlock(a6,null);return a5};a4.prototype.splitBetween=function(a7,a5){var a8=this.findMinLMBetween(a7,a5);if(a8!==null){var a6=a4.split(a8);return{constraint:a8,lb:a6[0],rb:a6[1]}}return null};a4.prototype.mergeAcross=function(a5,ba,a8){ba.active=true;for(var a7=0,a9=a5.vars.length;a7<a9;++a7){var a6=a5.vars[a7];a6.offset+=a8;this.addVariable(a6)}this.posn=this.ps.getPosn()};a4.prototype.cost=function(){var a7=0,a6=this.vars.length;while(a6--){var a5=this.vars[a6],a8=a5.position()-a5.desiredPosition;a7+=a8*a8*a5.weight}return a7};return a4}());var aO=(function(){function a4(a7){this.vs=a7;var a6=a7.length;this.list=new Array(a6);while(a6--){var a5=new H(a7[a6]);this.list[a6]=a5;a5.blockInd=a6}}a4.prototype.cost=function(){var a6=0,a5=this.list.length;while(a5--){a6+=this.list[a5].cost()}return a6};a4.prototype.insert=function(a5){a5.blockInd=this.list.length;this.list.push(a5)};a4.prototype.remove=function(a5){var a7=this.list.length-1;var a6=this.list[a7];this.list.length=a7;if(a5!==a6){this.list[a5.blockInd]=a6;a6.blockInd=a5.blockInd}};a4.prototype.merge=function(a8){var a5=a8.left.block,a6=a8.right.block;var a7=a8.right.offset-a8.left.offset-a8.gap;if(a5.vars.length<a6.vars.length){a6.mergeAcross(a5,a8,a7);this.remove(a5)}else{a5.mergeAcross(a6,a8,-a7);this.remove(a6)}};a4.prototype.forEach=function(a5){this.list.forEach(a5)};a4.prototype.updateBlockPositions=function(){this.list.forEach(function(a5){return a5.updateWeightedPosition()})};a4.prototype.split=function(a5){var a6=this;this.updateBlockPositions();this.list.forEach(function(a7){var a8=a7.findMinLM();if(a8!==null&&a8.lm<t.LAGRANGIAN_TOLERANCE){a7=a8.left.block;H.split(a8).forEach(function(a9){return a6.insert(a9)});a6.remove(a7);a5.push(a8)}})};return a4}());var t=(function(){function a4(a6,a5){this.vs=a6;this.cs=a5;this.vs=a6;a6.forEach(function(a7){a7.cIn=[],a7.cOut=[]});this.cs=a5;a5.forEach(function(a7){a7.left.cOut.push(a7);a7.right.cIn.push(a7)});this.inactive=a5.map(function(a7){a7.active=false;return a7});this.bs=null}a4.prototype.cost=function(){return this.bs.cost()};a4.prototype.setStartingPositions=function(a5){this.inactive=this.cs.map(function(a6){a6.active=false;return a6});this.bs=new aO(this.vs);this.bs.forEach(function(a6,a7){return a6.posn=a5[a7]})};a4.prototype.setDesiredPositions=function(a5){this.vs.forEach(function(a6,a7){return a6.desiredPosition=a5[a7]})};a4.prototype.mostViolated=function(){var a8=Number.MAX_VALUE,a7=null,a5=this.inactive,bc=a5.length,bb=bc;for(var a9=0;a9<bc;++a9){var ba=a5[a9];if(ba.unsatisfiable){continue}var a6=ba.slack();if(ba.equality||a6<a8){a8=a6;a7=ba;bb=a9;if(ba.equality){break}}}if(bb!==bc&&(a8<a4.ZERO_UPPERBOUND&&!a7.active||a7.equality)){a5[bb]=a5[bc-1];a5.length=bc-1}return a7};a4.prototype.satisfy=function(){if(this.bs==null){this.bs=new aO(this.vs)}this.bs.split(this.inactive);var a5=null;while((a5=this.mostViolated())&&(a5.equality||a5.slack()<a4.ZERO_UPPERBOUND&&!a5.active)){var a7=a5.left.block,a8=a5.right.block;if(a7!==a8){this.bs.merge(a5)}else{if(a7.isActiveDirectedPathBetween(a5.right,a5.left)){a5.unsatisfiable=true;continue}var a6=a7.splitBetween(a5.left,a5.right);if(a6!==null){this.bs.insert(a6.lb);this.bs.insert(a6.rb);this.bs.remove(a7);this.inactive.push(a6.constraint)}else{a5.unsatisfiable=true;continue}if(a5.slack()>=0){this.inactive.push(a5)}else{this.bs.merge(a5)}}}};a4.prototype.solve=function(){this.satisfy();var a5=Number.MAX_VALUE,a6=this.bs.cost();while(Math.abs(a5-a6)>0.0001){this.satisfy();a5=a6;a6=this.bs.cost()}return a6};a4.LAGRANGIAN_TOLERANCE=-0.0001;a4.ZERO_UPPERBOUND=-1e-10;return a4}());function x(be,bh,ba){var bi=be.map(function(bk){return new C(bk.desiredCenter)});var bd=[];var a6=be.length;for(var bb=0;bb<a6-1;bb++){var a7=be[bb],bg=be[bb+1];bd.push(new ax(bi[bb],bi[bb+1],(a7.size+bg.size)/2))}var bc=bi[0],a5=bi[a6-1],a4=be[0].size/2,a8=be[a6-1].size/2;var a9=null,bf=null;if(bh){a9=new C(bh,bc.weight*1000);bi.push(a9);bd.push(new ax(a9,bc,a4))}if(ba){bf=new C(ba,a5.weight*1000);bi.push(bf);bd.push(new ax(a5,bf,a8))}var bj=new t(bi,bd);bj.solve();return{newCenters:bi.slice(0,be.length).map(function(bk){return bk.position()}),lowerBound:a9?a9.position():bc.position()-a4,upperBound:bf?bf.position():a5.position()+a8}}})))};CanvasXpress.prototype.initCrypt=function(){var a=a||(function(h,j){var d;if(typeof window!=="undefined"&&window.crypto){d=window.crypto}if(typeof self!=="undefined"&&self.crypto){d=self.crypto}if(typeof globalThis!=="undefined"&&globalThis.crypto){d=globalThis.crypto}if(!d&&typeof window!=="undefined"&&window.msCrypto){d=window.msCrypto}if(!d&&typeof global!=="undefined"&&global.crypto){d=global.crypto}if(!d&&typeof require==="function"){try{d=require("crypto")}catch(l){}}var b=function(){if(d){if(typeof d.getRandomValues==="function"){try{return d.getRandomValues(new Uint32Array(1))[0]}catch(s){}}if(typeof d.randomBytes==="function"){try{return d.randomBytes(4).readInt32LE()}catch(s){}}}throw new Error("Native crypto module could not be used to get secure random number.")};var o=Object.create||(function(){function s(){}return function(u){var t;s.prototype=u;t=new s();s.prototype=null;return t}}());var c={};var e=c.lib={};var n=e.Base=(function(){return{extend:function(t){var s=o(this);if(t){s.mixIn(t)}if(!s.hasOwnProperty("init")||this.init===s.init){s.init=function(){s.$super.init.apply(this,arguments)}}s.init.prototype=s;s.$super=this;return s},create:function(){var s=this.extend();s.init.apply(s,arguments);return s},init:function(){},mixIn:function(t){for(var s in t){if(t.hasOwnProperty(s)){this[s]=t[s]}}if(t.hasOwnProperty("toString")){this.toString=t.toString}},clone:function(){return this.init.prototype.extend(this)}}}());var q=e.WordArray=n.extend({init:function(t,s){t=this.words=t||[];if(s!=j){this.sigBytes=s}else{this.sigBytes=t.length*4}},toString:function(s){return(s||k).stringify(this)},concat:function(z){var w=this.words;var u=z.words;var s=this.sigBytes;var y=z.sigBytes;this.clamp();if(s%4){for(var x=0;x<y;x++){var t=(u[x>>>2]>>>(24-(x%4)*8))&255;w[(s+x)>>>2]|=t<<(24-((s+x)%4)*8)}}else{for(var v=0;v<y;v+=4){w[(s+v)>>>2]=u[v>>>2]}}this.sigBytes+=y;return this},clamp:function(){var t=this.words;var s=this.sigBytes;t[s>>>2]&=4294967295<<(32-(s%4)*8);t.length=h.ceil(s/4)},clone:function(){var s=n.clone.call(this);s.words=this.words.slice(0);return s},random:function(u){var t=[];for(var s=0;s<u;s+=4){t.push(b())}return new q.init(t,u)}});var r=c.enc={};var k=r.Hex={stringify:function(u){var w=u.words;var t=u.sigBytes;var v=[];for(var s=0;s<t;s++){var x=(w[s>>>2]>>>(24-(s%4)*8))&255;v.push((x>>>4).toString(16));v.push((x&15).toString(16))}return v.join("")},parse:function(u){var s=u.length;var v=[];for(var t=0;t<s;t+=2){v[t>>>3]|=parseInt(u.substr(t,2),16)<<(24-(t%8)*4)}return new q.init(v,s/2)}};var g=r.Latin1={stringify:function(v){var w=v.words;var u=v.sigBytes;var s=[];for(var t=0;t<u;t++){var x=(w[t>>>2]>>>(24-(t%4)*8))&255;s.push(String.fromCharCode(x))}return s.join("")},parse:function(u){var s=u.length;var v=[];for(var t=0;t<s;t++){v[t>>>2]|=(u.charCodeAt(t)&255)<<(24-(t%4)*8)}return new q.init(v,s)}};var f=r.Utf8={stringify:function(s){try{return decodeURIComponent(escape(g.stringify(s)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(s){return g.parse(unescape(encodeURIComponent(s)))}};var m=e.BufferedBlockAlgorithm=n.extend({reset:function(){this._data=new q.init();this._nDataBytes=0},_append:function(s){if(typeof s=="string"){s=f.parse(s)}this._data.concat(s);this._nDataBytes+=s.sigBytes},_process:function(B){var t;var v=this._data;var C=v.words;var s=v.sigBytes;var y=this.blockSize;var A=y*4;var z=s/A;if(B){z=h.ceil(z)}else{z=h.max((z|0)-this._minBufferSize,0)}var x=z*y;var w=h.min(x*4,s);if(x){for(var u=0;u<x;u+=y){this._doProcessBlock(C,u)}t=C.splice(0,x);v.sigBytes-=w}return new q.init(t,w)},clone:function(){var s=n.clone.call(this);s._data=this._data.clone();return s},_minBufferSize:0});var i=e.Hasher=m.extend({cfg:n.extend(),init:function(s){this.cfg=this.cfg.extend(s);this.reset()},reset:function(){m.reset.call(this);this._doReset()},update:function(s){this._append(s);this._process();return this},finalize:function(s){if(s){this._append(s)}var t=this._doFinalize();return t},blockSize:512/32,_createHelper:function(s){return function(u,t){return new s.init(t).finalize(u)}},_createHmacHelper:function(s){return function(u,t){return new p.HMAC.init(s,t).finalize(u)}}});var p=c.algo={};return c}(Math));(function(){var g=a;var b=g.lib;var c=b.WordArray;var f=g.enc;var e=f.Base64={stringify:function(n){var p=n.words;var r=n.sigBytes;var k=this._map;n.clamp();var o=[];for(var m=0;m<r;m+=3){var u=(p[m>>>2]>>>(24-(m%4)*8))&255;var s=(p[(m+1)>>>2]>>>(24-((m+1)%4)*8))&255;var q=(p[(m+2)>>>2]>>>(24-((m+2)%4)*8))&255;var t=(u<<16)|(s<<8)|q;for(var l=0;(l<4)&&(m+l*0.75<r);l++){o.push(k.charAt((t>>>(6*(3-l)))&63))}}var h=k.charAt(64);if(h){while(o.length%4){o.push(h)}}return o.join("")},parse:function(o){var k=o.length;var l=this._map;var i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var h=0;h<l.length;h++){i[l.charCodeAt(h)]=h}}var n=l.charAt(64);if(n){var m=o.indexOf(n);if(m!==-1){k=m}}return d(o,k,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function d(q,m,p){var n=[];var l=0;for(var k=0;k<m;k++){if(k%4){var j=p[q.charCodeAt(k-1)]<<((k%4)*2);var h=p[q.charCodeAt(k)]>>>(6-(k%4)*2);var o=j|h;n[l>>>2]|=o<<(24-(l%4)*8);l++}}return c.create(n,l)}}());(function(d){var b=a;var c=b.lib;var j=c.WordArray;var f=c.Hasher;var k=b.algo;var g=[];(function(){for(var n=0;n<64;n++){g[n]=(d.abs(d.sin(n+1))*4294967296)|0}}());var l=k.MD5=f.extend({_doReset:function(){this._hash=new j.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,o){for(var J=0;J<16;J++){var n=o+J;var p=t[n];t[n]=((((p<<8)|(p>>>24))&16711935)|(((p<<24)|(p>>>8))&4278255360))}var y=this._hash.words;var B=t[o+0];var A=t[o+1];var z=t[o+2];var x=t[o+3];var w=t[o+4];var v=t[o+5];var u=t[o+6];var s=t[o+7];var r=t[o+8];var q=t[o+9];var I=t[o+10];var G=t[o+11];var F=t[o+12];var E=t[o+13];var D=t[o+14];var C=t[o+15];var O=y[0];var N=y[1];var L=y[2];var K=y[3];O=i(O,N,L,K,B,7,g[0]);K=i(K,O,N,L,A,12,g[1]);L=i(L,K,O,N,z,17,g[2]);N=i(N,L,K,O,x,22,g[3]);O=i(O,N,L,K,w,7,g[4]);K=i(K,O,N,L,v,12,g[5]);L=i(L,K,O,N,u,17,g[6]);N=i(N,L,K,O,s,22,g[7]);O=i(O,N,L,K,r,7,g[8]);K=i(K,O,N,L,q,12,g[9]);L=i(L,K,O,N,I,17,g[10]);N=i(N,L,K,O,G,22,g[11]);O=i(O,N,L,K,F,7,g[12]);K=i(K,O,N,L,E,12,g[13]);L=i(L,K,O,N,D,17,g[14]);N=i(N,L,K,O,C,22,g[15]);O=e(O,N,L,K,A,5,g[16]);K=e(K,O,N,L,u,9,g[17]);L=e(L,K,O,N,G,14,g[18]);N=e(N,L,K,O,B,20,g[19]);O=e(O,N,L,K,v,5,g[20]);K=e(K,O,N,L,I,9,g[21]);L=e(L,K,O,N,C,14,g[22]);N=e(N,L,K,O,w,20,g[23]);O=e(O,N,L,K,q,5,g[24]);K=e(K,O,N,L,D,9,g[25]);L=e(L,K,O,N,x,14,g[26]);N=e(N,L,K,O,r,20,g[27]);O=e(O,N,L,K,E,5,g[28]);K=e(K,O,N,L,z,9,g[29]);L=e(L,K,O,N,s,14,g[30]);N=e(N,L,K,O,F,20,g[31]);O=m(O,N,L,K,v,4,g[32]);K=m(K,O,N,L,r,11,g[33]);L=m(L,K,O,N,G,16,g[34]);N=m(N,L,K,O,D,23,g[35]);O=m(O,N,L,K,A,4,g[36]);K=m(K,O,N,L,w,11,g[37]);L=m(L,K,O,N,s,16,g[38]);N=m(N,L,K,O,I,23,g[39]);O=m(O,N,L,K,E,4,g[40]);K=m(K,O,N,L,B,11,g[41]);L=m(L,K,O,N,x,16,g[42]);N=m(N,L,K,O,u,23,g[43]);O=m(O,N,L,K,q,4,g[44]);K=m(K,O,N,L,F,11,g[45]);L=m(L,K,O,N,C,16,g[46]);N=m(N,L,K,O,z,23,g[47]);O=h(O,N,L,K,B,6,g[48]);K=h(K,O,N,L,s,10,g[49]);L=h(L,K,O,N,D,15,g[50]);N=h(N,L,K,O,v,21,g[51]);O=h(O,N,L,K,F,6,g[52]);K=h(K,O,N,L,x,10,g[53]);L=h(L,K,O,N,I,15,g[54]);N=h(N,L,K,O,A,21,g[55]);O=h(O,N,L,K,r,6,g[56]);K=h(K,O,N,L,C,10,g[57]);L=h(L,K,O,N,u,15,g[58]);N=h(N,L,K,O,E,21,g[59]);O=h(O,N,L,K,w,6,g[60]);K=h(K,O,N,L,G,10,g[61]);L=h(L,K,O,N,z,15,g[62]);N=h(N,L,K,O,q,21,g[63]);y[0]=(y[0]+O)|0;y[1]=(y[1]+N)|0;y[2]=(y[2]+L)|0;y[3]=(y[3]+K)|0},_doFinalize:function(){var r=this._data;var w=r.words;var t=this._nDataBytes*8;var u=r.sigBytes*8;w[u>>>5]|=128<<(24-u%32);var s=d.floor(t/4294967296);var o=t;w[(((u+64)>>>9)<<4)+15]=((((s<<8)|(s>>>24))&16711935)|(((s<<24)|(s>>>8))&4278255360));w[(((u+64)>>>9)<<4)+14]=((((o<<8)|(o>>>24))&16711935)|(((o<<24)|(o>>>8))&4278255360));r.sigBytes=(w.length+1)*4;this._process();var q=this._hash;var v=q.words;for(var p=0;p<4;p++){var n=v[p];v[p]=(((n<<8)|(n>>>24))&16711935)|(((n<<24)|(n>>>8))&4278255360)}return q},clone:function(){var n=f.clone.call(this);n._hash=this._hash.clone();return n}});function i(q,p,y,v,o,u,r){var w=q+((p&y)|(~p&v))+o+r;return((w<<u)|(w>>>(32-u)))+p}function e(q,p,y,v,o,u,r){var w=q+((p&v)|(y&~v))+o+r;return((w<<u)|(w>>>(32-u)))+p}function m(q,p,y,v,o,u,r){var w=q+(p^y^v)+o+r;return((w<<u)|(w>>>(32-u)))+p}function h(q,p,y,v,o,u,r){var w=q+(y^(p|~v))+o+r;return((w<<u)|(w>>>(32-u)))+p}b.MD5=f._createHelper(l);b.HmacMD5=f._createHmacHelper(l)}(Math));(function(d){var b=a;var c=b.lib;var h=c.WordArray;var f=c.Hasher;var i=b.algo;var k=[];var j=[];(function(){function o(s){var r=d.sqrt(s);for(var q=2;q<=r;q++){if(!(s%q)){return false}}return true}function m(q){return((q-(q|0))*4294967296)|0}var p=2;var l=0;while(l<64){if(o(p)){if(l<8){k[l]=m(d.pow(p,1/2))}j[l]=m(d.pow(p,1/3));l++}p++}}());var e=[];var g=i.SHA256=f.extend({_doReset:function(){this._hash=new h.init(k.slice(0))},_doProcessBlock:function(o,n){var r=this._hash.words;var E=r[0];var D=r[1];var C=r[2];var B=r[3];var A=r[4];var z=r[5];var y=r[6];var x=r[7];for(var w=0;w<64;w++){if(w<16){e[w]=o[n+w]|0}else{var m=e[w-15];var G=((m<<25)|(m>>>7))^((m<<14)|(m>>>18))^(m>>>3);var s=e[w-2];var F=((s<<15)|(s>>>17))^((s<<13)|(s>>>19))^(s>>>10);e[w]=G+e[w-7]+F+e[w-16]}var t=(A&z)^(~A&y);var l=(E&D)^(E&C)^(D&C);var v=((E<<30)|(E>>>2))^((E<<19)|(E>>>13))^((E<<10)|(E>>>22));var u=((A<<26)|(A>>>6))^((A<<21)|(A>>>11))^((A<<7)|(A>>>25));var q=x+u+t+j[w]+e[w];var p=v+l;x=y;y=z;z=A;A=(B+q)|0;B=C;C=D;D=E;E=(q+p)|0}r[0]=(r[0]+E)|0;r[1]=(r[1]+D)|0;r[2]=(r[2]+C)|0;r[3]=(r[3]+B)|0;r[4]=(r[4]+A)|0;r[5]=(r[5]+z)|0;r[6]=(r[6]+y)|0;r[7]=(r[7]+x)|0},_doFinalize:function(){var n=this._data;var o=n.words;var l=this._nDataBytes*8;var m=n.sigBytes*8;o[m>>>5]|=128<<(24-m%32);o[(((m+64)>>>9)<<4)+14]=d.floor(l/4294967296);o[(((m+64)>>>9)<<4)+15]=l;n.sigBytes=o.length*4;this._process();return this._hash},clone:function(){var l=f.clone.call(this);l._hash=this._hash.clone();return l}});b.SHA256=f._createHelper(g);b.HmacSHA256=f._createHmacHelper(g)}(Math));(function(){var h=a;var e=h.lib;var c=e.Base;var g=e.WordArray;var f=h.algo;var d=f.MD5;var b=f.EvpKDF=c.extend({cfg:c.extend({keySize:128/32,hasher:d,iterations:1}),init:function(i){this.cfg=this.cfg.extend(i)},compute:function(r,m){var k;var o=this.cfg;var s=o.hasher.create();var n=g.create();var q=n.words;var p=o.keySize;var j=o.iterations;while(q.length<p){if(k){s.update(k)}k=s.update(r).finalize(m);s.reset();for(var l=1;l<j;l++){k=s.finalize(k);s.reset()}n.concat(k)}n.sigBytes=p*4;return n}});h.EvpKDF=function(j,k,i){return b.create(i).compute(j,k)}}());a.lib.Cipher||(function(e){var n=a;var x=n.lib;var j=x.Base;var u=x.WordArray;var w=x.BufferedBlockAlgorithm;var s=n.enc;var g=s.Utf8;var m=s.Base64;var c=n.algo;var i=c.EvpKDF;var k=x.Cipher=w.extend({cfg:j.extend(),createEncryptor:function(C,B){return this.create(this._ENC_XFORM_MODE,C,B)},createDecryptor:function(C,B){return this.create(this._DEC_XFORM_MODE,C,B)},init:function(D,C,B){this.cfg=this.cfg.extend(B);this._xformMode=D;this._key=C;this.reset()},reset:function(){w.reset.call(this);this._doReset()},process:function(B){this._append(B);return this._process()},finalize:function(C){if(C){this._append(C)}var B=this._doFinalize();return B},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function B(C){if(typeof C=="string"){return h}else{return A}}return function(C){return{encrypt:function(F,E,D){return B(E).encrypt(C,F,E,D)},decrypt:function(F,E,D){return B(E).decrypt(C,F,E,D)}}}}())});var q=x.StreamCipher=k.extend({_doFinalize:function(){var B=this._process(!!"flush");return B},blockSize:1});var t=n.mode={};var z=x.BlockCipherMode=j.extend({createEncryptor:function(B,C){return this.Encryptor.create(B,C)},createDecryptor:function(B,C){return this.Decryptor.create(B,C)},init:function(B,C){this._cipher=B;this._iv=C}});var d=t.CBC=(function(){var B=z.extend();B.Encryptor=B.extend({processBlock:function(G,F){var D=this._cipher;var E=D.blockSize;C.call(this,G,F,E);D.encryptBlock(G,F);this._prevBlock=G.slice(F,F+E)}});B.Decryptor=B.extend({processBlock:function(H,G){var D=this._cipher;var F=D.blockSize;var E=H.slice(G,G+F);D.decryptBlock(H,G);C.call(this,H,G,F);this._prevBlock=E}});function C(I,H,F){var G;var D=this._iv;if(D){G=D;this._iv=e}else{G=this._prevBlock}for(var E=0;E<F;E++){I[H+E]^=G[E]}}return B}());var f=n.pad={};var b=f.Pkcs7={pad:function(G,E){var F=E*4;var I=F-G.sigBytes%F;var B=(I<<24)|(I<<16)|(I<<8)|I;var D=[];for(var C=0;C<I;C+=4){D.push(B)}var H=u.create(D,I);G.concat(H)},unpad:function(B){var C=B.words[(B.sigBytes-1)>>>2]&255;B.sigBytes-=C}};var r=x.BlockCipher=k.extend({cfg:k.cfg.extend({mode:d,padding:b}),reset:function(){var D;k.reset.call(this);var B=this.cfg;var C=B.iv;var E=B.mode;if(this._xformMode==this._ENC_XFORM_MODE){D=E.createEncryptor}else{D=E.createDecryptor;this._minBufferSize=1}if(this._mode&&this._mode.__creator==D){this._mode.init(this,C&&C.words)}else{this._mode=D.call(E,this,C&&C.words);this._mode.__creator=D}},_doProcessBlock:function(C,B){this._mode.processBlock(C,B)},_doFinalize:function(){var B;var C=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){C.pad(this._data,this.blockSize);B=this._process(!!"flush")}else{B=this._process(!!"flush");C.unpad(B)}return B},blockSize:128/32});var p=x.CipherParams=j.extend({init:function(B){this.mixIn(B)},toString:function(B){return(B||this.formatter).stringify(this)}});var o=n.format={};var v=o.OpenSSL={stringify:function(B){var E;var D=B.ciphertext;var C=B.salt;if(C){E=u.create([1398893684,1701076831]).concat(C).concat(D)}else{E=D}return E.toString(m)},parse:function(D){var B;var C=m.parse(D);var E=C.words;if(E[0]==1398893684&&E[1]==1701076831){B=u.create(E.slice(2,4));E.splice(0,4);C.sigBytes-=16}return p.create({ciphertext:C,salt:B})}};var A=x.SerializableCipher=j.extend({cfg:j.extend({format:v}),encrypt:function(B,G,E,C){C=this.cfg.extend(C);var D=B.createEncryptor(E,C);var H=D.finalize(G);var F=D.cfg;return p.create({ciphertext:H,key:E,iv:F.iv,algorithm:B,mode:F.mode,padding:F.padding,blockSize:B.blockSize,formatter:C.format})},decrypt:function(B,F,D,C){C=this.cfg.extend(C);F=this._parse(F,C.format);var E=B.createDecryptor(D,C).finalize(F.ciphertext);return E},_parse:function(B,C){if(typeof B=="string"){return C.parse(B,this)}else{return B}}});var l=n.kdf={};var y=l.OpenSSL={execute:function(D,H,B,G,F){if(!G){G=u.random(64/8)}if(!F){var E=i.create({keySize:H+B}).compute(D,G)}else{var E=i.create({keySize:H+B,hasher:F}).compute(D,G)}var C=u.create(E.words.slice(H),B*4);E.sigBytes=H*4;return p.create({key:E,iv:C,salt:G})}};var h=x.PasswordBasedCipher=A.extend({cfg:A.cfg.extend({kdf:y}),encrypt:function(B,E,D,C){C=this.cfg.extend(C);var G=C.kdf.execute(D,B.keySize,B.ivSize,C.salt,C.hasher);C.iv=G.iv;var F=A.encrypt.call(this,B,E,G.key,C);F.mixIn(G);return F},decrypt:function(B,F,D,C){C=this.cfg.extend(C);F=this._parse(F,C.format);var G=C.kdf.execute(D,B.keySize,B.ivSize,F.salt,C.hasher);C.iv=G.iv;var E=A.decrypt.call(this,B,F,G.key,C);return E}})}());(function(){var b=a;var c=b.lib;var q=c.BlockCipher;var l=b.algo;var e=[];var m=[];var p=[];var o=[];var n=[];var k=[];var j=[];var i=[];var h=[];var g=[];(function(){var u=[];for(var s=0;s<256;s++){if(s<128){u[s]=s<<1}else{u[s]=(s<<1)^283}}var y=0;var v=0;for(var s=0;s<256;s++){var w=v^(v<<1)^(v<<2)^(v<<3)^(v<<4);w=(w>>>8)^(w&255)^99;e[y]=w;m[w]=y;var r=u[y];var B=u[r];var z=u[B];var A=(u[w]*257)^(w*16843008);p[y]=(A<<24)|(A>>>8);o[y]=(A<<16)|(A>>>16);n[y]=(A<<8)|(A>>>24);k[y]=A;var A=(z*16843009)^(B*65537)^(r*257)^(y*16843008);j[w]=(A<<24)|(A>>>8);i[w]=(A<<16)|(A>>>16);h[w]=(A<<8)|(A>>>24);g[w]=A;if(!y){y=v=1}else{y=r^u[u[u[z^r]]];v^=u[u[v]]}}}());var d=[0,1,2,4,8,16,32,64,128,27,54];var f=l.AES=q.extend({_doReset:function(){var B;if(this._nRounds&&this._keyPriorReset===this._key){return}var A=this._keyPriorReset=this._key;var s=A.words;var z=A.sigBytes/4;var y=this._nRounds=z+6;var r=(y+1)*4;var u=this._keySchedule=[];for(var x=0;x<r;x++){if(x<z){u[x]=s[x]}else{B=u[x-1];if(!(x%z)){B=(B<<8)|(B>>>24);B=(e[B>>>24]<<24)|(e[(B>>>16)&255]<<16)|(e[(B>>>8)&255]<<8)|e[B&255];B^=d[(x/z)|0]<<24}else{if(z>6&&x%z==4){B=(e[B>>>24]<<24)|(e[(B>>>16)&255]<<16)|(e[(B>>>8)&255]<<8)|e[B&255]}}u[x]=u[x-z]^B}}var v=this._invKeySchedule=[];for(var w=0;w<r;w++){var x=r-w;if(w%4){var B=u[x]}else{var B=u[x-4]}if(w<4||x<=4){v[w]=B}else{v[w]=j[e[B>>>24]]^i[e[(B>>>16)&255]]^h[e[(B>>>8)&255]]^g[e[B&255]]}}},encryptBlock:function(s,r){this._doCryptBlock(s,r,this._keySchedule,p,o,n,k,e)},decryptBlock:function(u,s){var r=u[s+1];u[s+1]=u[s+3];u[s+3]=r;this._doCryptBlock(u,s,this._invKeySchedule,j,i,h,g,m);var r=u[s+1];u[s+1]=u[s+3];u[s+3]=r},_doCryptBlock:function(A,z,I,w,u,s,r,H){var F=this._nRounds;var y=A[z]^I[0];var x=A[z+1]^I[1];var v=A[z+2]^I[2];var t=A[z+3]^I[3];var G=4;for(var J=1;J<F;J++){var E=w[y>>>24]^u[(x>>>16)&255]^s[(v>>>8)&255]^r[t&255]^I[G++];var D=w[x>>>24]^u[(v>>>16)&255]^s[(t>>>8)&255]^r[y&255]^I[G++];var C=w[v>>>24]^u[(t>>>16)&255]^s[(y>>>8)&255]^r[x&255]^I[G++];var B=w[t>>>24]^u[(y>>>16)&255]^s[(x>>>8)&255]^r[v&255]^I[G++];y=E;x=D;v=C;t=B}var E=((H[y>>>24]<<24)|(H[(x>>>16)&255]<<16)|(H[(v>>>8)&255]<<8)|H[t&255])^I[G++];var D=((H[x>>>24]<<24)|(H[(v>>>16)&255]<<16)|(H[(t>>>8)&255]<<8)|H[y&255])^I[G++];var C=((H[v>>>24]<<24)|(H[(t>>>16)&255]<<16)|(H[(y>>>8)&255]<<8)|H[x&255])^I[G++];var B=((H[t>>>24]<<24)|(H[(y>>>16)&255]<<16)|(H[(x>>>8)&255]<<8)|H[v&255])^I[G++];A[z]=E;A[z+1]=D;A[z+2]=C;A[z+3]=B},keySize:256/32});b.AES=q._createHelper(f)}());this.encrypt=function(g,c){if(!c){c="CanvasXpress"}var b=a.lib.WordArray.random(12);var d=a.SHA256(c);var f=a.AES.encrypt(g,d,{iv:b,mode:a.mode.CBC,format:a.format.OpenSSL});var e=a.enc.Base64.stringify(b);var h=f.toString();return e+h};this.decrypt=function(i,d){if(!d){d="CanvasXpress"}var f=i.slice(0,16);var h=i.slice(16);var c=a.enc.Base64.parse(f);var e=a.SHA256(d);var b=a.AES.decrypt(h,e,{iv:c,mode:a.mode.CBC,format:a.format.OpenSSL});var g=b.toString(a.enc.Utf8);return g};this.md5=function(b){return a.MD5(b).toString()}};CanvasXpress.prototype.initMathUtils=function(){this.DQ=function(a){return isNaN(a)?true:a==Number.POSITIVE_INFINITY?true:a==Number.NEGATIVE_INFINITY?true:false};this.BC=function(a){return !isNaN(a)&&(function(b){return(b|0)===b})(parseFloat(a))};this.XW=function(a){if(this.tO(a)){for(var b=0;b<a.length;b++){if(!isFinite(a[b])){return false}}return true}else{return isFinite(a)}};this.Za=function(a,b){return Number(Math.round(a+"e"+b)+"e-"+b)};this.G7=function(b,e,d,c){return{x:b+d*Math.cos(c*Math.PI/180),y:e+d*Math.sin(c*Math.PI/180)}};this.jn=function(a){return(a=1-a*a*a)*a*a};this.KB=function(b,a){return b*a};this.Cc=function(a,b){return(a*Math.PI*b)/180};this.WJ=function(b,a){return(a*180)/(b*Math.PI)};this.E7=function(b,a){return a/b};this.MC=function(a){return a*Math.PI/180};this.wN=function(a){return a*180/Math.PI};this.Gj=function(e,g,c,f,d){var b=(Math.atan2(f-g,c-e)*180/Math.PI)%360;if(!d){d=0}while(b<d){b+=360}while(b>=(d+360)){b-=360}return b};this.gx=function(d,f,c,e){var b=Math.atan2(e-f,c-d);if(b<0){b+=(2*Math.PI)}return b};this.Y1=function(c,h,b,g,d){var f=Math.cos(d)*(c-b)-Math.sin(d)*(h-g)+b;var e=Math.sin(d)*(c-b)+Math.cos(d)*(h-g)+g;return[f,e]};this.Cj=function(b,d,a,c){return Math.sqrt(Math.pow(a-b,2)+Math.pow(c-d,2))};this.OM=function(b,d,a,c){return[(b+a)/2,(d+c)/2]};this.Ci=function(b,i,a,h,g){var c=a-b;var j=h-i;var e=Math.sqrt(Math.pow(c,2)+Math.pow(j,2));var f=g/e;return[b+(c*f),i+(j*f)]};this.Vn=function(c,e,b,d,a){return e+((a-c)/(b-c))*(d-e)};this.SR=function(r,d,p,b,n){var i=p-r;var h=b-d;var o=this.Cj(r,d,p,b);var u=i/o;var t=h/o;var s=-t;var q=u;var c=r+n*s;var f=d+n*q;var a=r-n*s;var e=d-n*q;var j=p+n*s;var m=b+n*q;var g=p-n*s;var k=b-n*q;return[c,f,a,e,j,m,g,k]};this.Xx=function(b,n,a,j,c,g){var h=this.Cj(b,n,a,j);var o=this.OM(b,n,a,j);if(!c){c=h*g}var r=a-o[0];var q=j-o[1];var e=r/h;var d=q/h;var p=-d;var m=e;var k=o[0]+c*p;var i=o[1]+c*m;return[k,i]};this.mm=function(f,n,c,m,p,i,r,a){if(this.eb([f,n,c,m,p,i])){if(r.match(/bezier/i)){if(r.match(/beziery/i)){return m>n?[f,n+p,c,m-i]:[f,n-p,c,m+i]}else{return c>f?[f+p,n,c-i,m]:[f-p,n,c+i,m]}}else{if(r.match(/quadratic/i)){var k=this.Cj(f,n,c,m);var d=this.Xx(f,n,c,m,false,Math.min(1,this.arrowQuadraticFactor*Math.abs(a))*(a>0?-1:1));var b=this.an(f,n,d[0],d[1],c,m,p/k,true);var o=this.an(c,m,d[0],d[1],f,n,i/k,true);return[b[1][0],b[1][1],o[1][0],o[1][1]]}else{if(r.match(/curved/i)){return[f,n,c,m]}else{var g=Math.atan2(m-n,c-f);var h=Math.cos(g);var l=Math.sin(g);var j=this.Cj(f,n,c,m);if(j){while(j<(p+i)){p/=1.1;i/=1.1}f+=h*p;n+=l*p;c-=h*i;m-=l*i}return[f,n,c,m]}}}}};this.mD=function(c,b,a,l,g,d){if(l>g){var j=l;l=g;g=j}var k=[];var h=((Math.PI*2)-(g-l))/16;k.push([a*Math.cos(l)+c,a*Math.sin(l)+b]);for(var f=0;f<16;f++){l-=h;k.push([a*Math.cos(l)+c,a*Math.sin(l)+b])}return d?k.reverse():k};this.Co=function(c,b,a,m,h,d){if(m>h){var k=m;m=h;h=k}var l=[];var g=Math.PI;var i=h-m;var f=32;var j=i/f;if(j<1e-9){l.push([a*Math.cos(m)+c,a*Math.sin(m)+b])}else{l.push([a*Math.cos(m)+c,a*Math.sin(m)+b]);m+=j;while(m<h){l.push([a*Math.cos(m)+c,a*Math.sin(m)+b]);m+=j}l.push([a*Math.cos(h)+c,a*Math.sin(h)+b])}return d?l:l.reverse()};this.an=function(l,k,e,c,j,h,b,f){var m=[];b=Math.max(0.01,b);var a=function(i,q,p,o){var n=1-i;return n*n*q+2*n*i*p+i*i*o};var d=function(i){return[a(i,l,e,j),a(i,k,c,h)]};for(var g=0;g<=1;g+=b){m.push(d(g))}return f?m:m.reverse()};this.az=function(j,h,c,b,l,k,g,f,a,d){var m=[];a=Math.max(0.01,a);for(var e=0;e<=1;e+=a){m.push(this.mx([[j,h],[c,b],[l,k],[g,f]],e))}return d?m:m.reverse()};this.Ze=function(e,m,d,l,c,k){var n=Math.sqrt(Math.pow(d-e,2)+Math.pow(l-m,2));var h=Math.sqrt(Math.pow(c-d,2)+Math.pow(k-l,2));var g=this.tension*n/(n+h);var f=this.tension-g;var b=d+g*(e-c);var a=l+g*(m-k);var j=d-f*(e-c);var i=l-f*(m-k);return[b,a,j,i]};this.Bt=function(e,g){var f=[];var a=e[0];var d=e[1];for(var c=0;c<a.length;c++){f.push(a[c]);f.push(d[c])}var b=this.fk(f,g);a=[];d=[];while(b.length){a.push(b.shift());d.push(b.shift())}return[a,d]};this.fk=function(v,k){var a=[];var w=[];var f=this.tension;var g=this.tensionSegments;k=k?k:false;a=v.slice(0);if(k){a.unshift(v[v.length-1]);a.unshift(v[v.length-2]);a.unshift(v[v.length-1]);a.unshift(v[v.length-2]);a.push(v[0]);a.push(v[1])}else{a.unshift(v[1]);a.unshift(v[0]);a.push(v[v.length-2]);a.push(v[v.length-1])}var e,d,c,n,b,l,p,o,m,h,q;for(var u=2;u<(a.length-4);u+=2){for(var r=0;r<=g;r++){c=(a[u+2]-a[u-2])*f;n=(a[u+4]-a[u])*f;b=(a[u+3]-a[u-1])*f;l=(a[u+5]-a[u+1])*f;q=r/g;p=2*Math.pow(q,3)-3*Math.pow(q,2)+1;o=-(2*Math.pow(q,3))+3*Math.pow(q,2);m=Math.pow(q,3)-2*Math.pow(q,2)+q;h=Math.pow(q,3)-Math.pow(q,2);e=p*a[u]+o*a[u+2]+m*c+h*n;d=p*a[u+1]+o*a[u+3]+m*b+h*l;w.push(e);w.push(d)}}return w};this.XV=function(f){var c=this;var f;var e=[];var g=0;var b,a;var d=function(p,n,m){var l=function(r,q){var t=q[0]-r[0];var s=q[1]-r[1];return Math.sqrt(t*t+s*s)};var o=l(p,n);var k=l(n,m);var h=c.tension*o/(o+k);var j=[((p[0]-m[0])*h)+n[0],((p[1]-m[1])*h)+n[1]];var i=[n[0]-((p[0]-m[0])*h),(n[1]-(p[1]-m[1])*h)];return[j,i]};for(b=0;b<f.length-2;b++){e.push.apply(e,d(f[b],f[b+1],f[b+2]))}e.push.apply(e,d(f[b],f[b+1],f[0]));e.push.apply(e,d(f[b+1],f[0],f[1]));return e};this.Wj=function(o,w){var b=function(i){var d=Math.sqrt(i.x*i.x+i.y*i.y);return{x:i.x/d,y:i.y/d}};var s=function(d,i){return{x:d.x*i,y:d.y*i}};var l=function(i,d){return i.x*d.x+i.y*d.y};var c=function(d){return{x:d.y,y:-d.x}};var x=function(d){return{x:-d.y,y:d.x}};var v=function(F,E){var i=F[1].x-F[0].x;var D=E[0].x-E[1].x;var B=E[0].x-F[0].x;var d=F[1].y-F[0].y;var C=E[0].y-E[1].y;var p=E[0].y-F[0].y;var G=(D*p-C*B)/(d*D-i*C);return{x:F[0].x+G*(F[1].x-F[0].x),y:F[0].y+G*(F[1].y-F[0].y)}};var z=function(d){return l(c({x:d[1].x-d[0].x,y:d[1].y-d[0].y}),{x:d[2].x-d[1].x,y:d[2].y-d[1].y})>=0};var t=[];var g=z(o)?x:c;for(var u=0;u<o.length;++u){var k=o[(u>0)?u-1:o.length-1];var h=o[u];var f=o[(u<o.length-1)?u+1:0];var m={x:h[0]-k[0],y:h[1]-k[1]};var y={x:f[0]-h[0],y:f[1]-h[1]};var n=s(b(g(m)),w);var A=s(b(g(y)),w);var r={x:k[0]+n.x,y:k[1]+n.y};var j={x:h[0]+n.x,y:h[1]+n.y};var e={x:h[0]+A.x,y:h[1]+A.y};var q={x:f[0]+A.x,y:f[1]+A.y};var a=v([r,j],[e,q]);t.push([a.x,a.y])}return t};this.Nk=function(r,y,q){var f=function(i,e,d){return((d.x-i.x)*(e.y-i.y))-((e.x-i.x)*(d.y-i.y))};var z=function(p,s){var e=p.vrs[s];var d=p.vrs[(s+1)%p.vrs.length];var i=p.vrs[(s+p.vrs.length-1)%p.vrs.length];return(f(i,d,e)<0)?true:false};var h=function(s){var i=s.v2.x-s.v1.x;var d=s.v2.y-s.v1.y;var p=Math.sqrt(i*i+d*d);return{x:-d/p,y:i/p}};var o=function(d){var i=h(d);return{x:-i.x,y:-i.y}};var b=function(J){var p={vrs:J};var I=[];var D=(J.length>0)?J[0].x:undefined;var v=(J.length>0)?J[0].y:undefined;var s=D;var d=v;for(var E=0;E<p.vrs.length;E++){J[E].label=String(E);J[E].isReflex=z(p,E);var F={v1:J[E],v2:J[(E+1)%J.length],pol:p,index:E};F.outwardNormal=o(F);F.inwardNormal=h(F);I.push(F);var H=J[E].x;var G=J[E].y;D=Math.min(H,D);v=Math.min(G,v);s=Math.max(H,s);d=Math.max(G,d)}p.edges=I;p.minX=D;p.minY=v;p.maxX=s;p.maxY=d;p.closed=true;return p};var l=function(p,i,d){return{v1:{x:p.v1.x+i,y:p.v1.y+d},v2:{x:p.v2.x+i,y:p.v2.y+d}}};var C=function(p,e){var s=(e.v2.y-e.v1.y)*(p.v2.x-p.v1.x)-(e.v2.x-e.v1.x)*(p.v2.y-p.v1.y);if(s==0){return null}var i=((e.v2.x-e.v1.x)*(p.v1.y-e.v1.y)-(e.v2.y-e.v1.y)*(p.v1.x-e.v1.x))/s;var d=((p.v2.x-p.v1.x)*(p.v1.y-e.v1.y)-(p.v2.y-p.v1.y)*(p.v1.x-e.v1.x))/s;if(i<0||d<0||i>1||d>1){return null}return{x:p.v1.x+i*(p.v2.x-p.v1.x),y:p.v1.y+i*(p.v2.y-p.v1.y)}};var c=function(L,E,d,K,F,s){var J=Math.PI*2;var H=Math.atan2(K.y-E.y,K.x-E.x);var D=Math.atan2(F.y-E.y,F.x-E.x);if(H<0){H+=J}if(D<0){D+=J}var G=((H>D)?(H-D):(H+J-D));var e=((s)?-G:J-G)/q;L.push(K);for(var p=1;p<q;++p){var G=H+e*p;var I={x:E.x+Math.cos(G)*d,y:E.y+Math.sin(G)*d};L.push(I)}L.push(F)};var t=[];var u=[];for(var w=0;w<r.length;w++){u.push({x:r[w][0],y:r[w][1]})}var j=b(u);for(var w=0;w<j.edges.length;w++){var x=j.edges[w];var n=x.outwardNormal.x*y;var k=x.outwardNormal.y*y;t.push(l(x,n,k))}u=[];for(var w=0;w<t.length;w++){var g=t[w];var B=t[(w+t.length-1)%t.length];var m=C(B,g);if(m){u.push(m)}else{var A=j.edges[w].v1;c(u,A,y,B.v2,g.v1,false)}}var a=[];for(var w=0;w<u.length;w++){a.push([u[w].x,u[w].y])}return a};this.c3=function(c){var b=[];if(c.length>1){var f=0;for(var a=0;a<c.length;a++){var e=this.CU(c[a]);if(e<8){f=Math.max(f,e)}}for(var a=0;a<c.length;a++){b.push(Number(this.gG(c[a],f)))}}else{if(c.length>0){return c}}return b};this.CU=function(a){a=this.TZ(a).toString();return a.indexOf(".")>=0?Math.min(Number(a.length-(a.indexOf(".")+1)),20):0};this.V6=function(a,g,b){var e=function(p,h,r,q){var o=0;var m=q-1;while(o<m-1){var l=Math.floor((o+m)/2);if(p<h[l]){m=l}else{o=l}}if(p==h[m]){return r[m]}if(p==h[o]){return r[o]}return r[o]+(r[m]-r[o])*((p-h[o])/(h[m]-h[o]))};var d=[];var f=b.length;for(var c=0;c<f;c++){d[c]=isNaN(a[c])?a[c]:e(b[c],a,g,f)}return d};this.aC=function(c,g){if(c){if(!g||g<=0){g=c.length}var e,b;var f=c.slice(0);var d=c.length;var a=d-g;while(d-->a){b=Math.floor((d+1)*this.DI());e=f[b];f[b]=f[d];f[d]=e}return f.slice(a)}else{return[]}};this.ob=function(b,c){var f=b.length;var a=[];if(!Array.isArray(b)){return this.ob([b],c)}else{if(!Array.isArray(c)){for(var e=0;e<c;e++){for(var d=0;d<f;d++){a[d+e*f]=b[d]}}}else{if(c.length!=b.length){alert("If x and k are both arrays in 'rep', then they need to have the same length.")}for(var e=0;e<f;e++){for(var d=0;d<c[e];d++){a.push(b[e])}}}}return a};this.XX=function(g,c,f,a){var d=[];if(g!=null&&c!=null&&(a||f)){var b=c<g;if(c<g){var e=g;g=c;c=e}if(a){a=Math.abs(a);f=(c-g)/(a-1)}else{f=Math.abs(f)}if(f){while(c>=g){d.push(g);g+=f}}if(a){d[a-1]=c}else{if(d[d.length-1]<c){d.push(c)}}}return b?d.reverse():d};this.Lu=function(h){var g=0;var d=1+1/(h-1);var b=1/(h-1);for(var c=-1,a=0|Math.max(0,Math.ceil((d-g)/b)),f=new Array(a);++c<a;){f[c]=g+c*b}f.splice(h);return f};this.T6=function(f,e,b){var c=[];if(e!=null&&b!=null){for(var d=0;d<f;d++){c.push(this.Gs(e,b))}}else{for(var d=0;d<f;d++){c.push(this.DI())}}return c};this.nd=function(h){h=parseFloat(h);var j=0.42;var u=2.50662823884;var s=-18.61500062529;var o=41.39119773534;var m=-25.44106049637;var d=-8.4735109309;var c=23.08336743743;var b=-21.06224101826;var a=3.13082909833;var l=-2.78718931138;var k=-2.29796479134;var i=4.85014127135;var g=2.32121276858;var v=3.54388924762;var t=1.63706781897;var f=h-0.5;var e,n;if(Math.abs(f)<=j){e=f*f;n=f*(((m*e+o)*e+s)*e+u)/((((a*e+b)*e+c)*e+d)*e+1)}else{e=h;if(f>0){e=1-h}if(e>0){e=Math.sqrt(-Math.log(e));n=(((g*e+i)*e+k)*e+l)/((t*e+v)*e+1);if(f<0){n=-n}}else{n=0}}return n};this.Ts=function(k,c,n,f){if(this.tO(k)){var h=[];for(var g=0;g<k.length;g++){h[g]=this.Ts(k[g],c,n,f)}return h}else{var j=function(d,i){if(Number.isNaN(d)||Number.isNaN(i)){return d+i}if(!Number.isFinite(d)||!Number.isFinite(i)){return Number.POSITIVE_INFINITY}return d*Math.pow(2,i)};if(c==null){c=0}if(n==null){n=1}var e=Math.abs((k-c)/n);if(e>=2*Number.MAX_VALUE){return f?Number.NEGATIVE_INFINITY:0}if(f){return -(0.9189385332046728+0.5*e*e+Math.log(n))}if(e<5){return 0.3989422804014327*Math.exp(-0.5*e*e)/n}if(e>Math.sqrt(-2*0.6931471805599453*(Math.log2(Number.MIN_VALUE)+1-18))){return 0}var b=j(Math.round(j(e,16)),-16);var a=e-b;return 0.3989422804014327/n*(Math.exp(-0.5*b*b)*Math.exp((-0.5*a-b)*a))}};this.eu=function(a){var c=[];for(var b=1;b<a.length;b++){c.push(a[b]-a[b-1])}return this.c3(c)};this.QU=function(h,b,d){var g=this;var c=[];if(b==null){b=0}if(d==null){d=1}d=Math.sqrt(d);var f=function(){var j,i;var a=2;while(a>1){j=g.DI()*2-1;i=g.DI()*2-1;a=j*j+i*i}return b+d*j*Math.sqrt(-2*Math.log(a)/a)};for(var e=0;e<h;e++){c.push(f())}return c};this.qt=function(d,i){var b;var c=function(k){return k>0?1:k<0?-1:0};function j(a){var l=1;for(var k=2;k<=a;k=k+1){l=l*k}return l}function f(A,B,w){var a;if(A<1/2){a=-f(1-A,0,1)}else{var x=Math.sqrt(-2*Math.log(1-A));var v=-0.322232431088;var t=-0.342242088547;var s=-0.020423121024;var r=-0.0000453642210148;var p=0.099348462606;var o=0.58858157049;var n=0.531103462366;var l=0.10353775285;var k=0.0038560700634;var m=v+x*(-1+x*(t+x*(s+r*x)));var y=p+x*(o+x*(n+x*(l+k*x)));a=x+m/y}return B+a*w}var e=function(n,u){var l;var r=Math.ceil(u/2);var v=1-n;if(v!=0.5){var m=Math.sqrt(2*Math.pow((1-2*v),2)/(1-Math.pow((1-2*v),2)));for(var t=0;t<20;t=t+1){var w=0;for(var s=0;s<=r-1;s=s+1){w=w+j(2*s)/Math.pow(2,(2*s))/Math.pow(j(s),2)*Math.pow((1+Math.pow(m,2)/(2*r)),-s)}var o=1/Math.sqrt(1/(2*r)*(Math.pow((w/(1-2*v)),2)-1));m=o}if(v>0.5){l=-m}else{l=m}}else{l=0}return l};function g(l,v){var r=l>0.5?2*(1-l):2*l;var m=l>0.5?false:true;var w=1/(v-0.5);var t=48/(w*w);var o=((20700*w/t-98)*w-16)*w+96.36;var n=((94.5/(t+o)-3)/t+1)*Math.sqrt(w*Math.PI/2)*v;var u=r*n;var s=Math.pow(u,(2/v));if(s>0.05+w){u=f(r*0.5,0,1);s=u*u;if(v<5){o=o+0.3*(v-4.5)*(u+0.6)}o=o+(((0.05*n*u-5)*u-7)*u-2)*u+t;s=(((((0.4*s+6.3)*s+36)*s+94.5)/o-s-3)/t+1)*u;s=w*s*s;if(s>0.002){s=Math.exp(s)-1}else{s=s+0.5*s*s}}else{s=((1/(((v+6)/(v*s)-0.089*n-0.822)*(v+2)*3)+0.5/(v+4))*s-1)*(v+1)/(v+2)+1/s}var k=Math.sqrt(v*s);return m?-k:k}if(i==1){b=Math.tan(Math.PI*(d-1/2))}else{if(i==2){var h=4*d*(1-d);b=(2*d-1)*Math.sqrt(2/h)}else{if(i==4){var h=4*d*(1-d);b=Math.cos(1/3*Math.acos(Math.sqrt(h)))/Math.sqrt(h);b=c(d-1/2)*2*Math.sqrt(b-1)}else{if(i%2==0){b=e(d,i)}else{b=g(d,i)}}}}return b};this.Uu=function(a,f){if(a.length===0){return 0}if(typeof f!=="number"){throw new TypeError("p must be a number")}if(f<=0){return a[0]}if(f>=1){return a[a.length-1]}var c=a.length*f;var b=Math.floor(c);var d=b+1;var e=c%1;if(d>=a.length){return a[b]}else{return a[b]*(1-e)+a[d]*e}};this.WA=function(a,c){if(typeof c!=="number"){throw new TypeError("v must be a number")}for(var d=0,b=a.length;d<b;d++){if(c<=a[d]){while(d<b&&c===a[d]){d++}if(d===0){return 0}if(c!==a[d-1]){d+=(c-a[d-1])/(a[d]-a[d-1])}return d/b}}return 1};this.cL=function(d,a,e){var b=a-d;if(b==0){return 50}var c=e-d;return c*100/b};this.j5=function(b){if(b.length===0){return b}var e=this.lJ(b);var a=this.K1(b);var c=a-e;var f=[];for(var d=0;d<b.length;d++){var g=b[d]-e;f.push(g/c)}return f};this.Lq=function(a){return a.map(function(b,d,c){return c.filter(function(e){return e<b}).length})};this.I5=function(a){var c=[];for(var b=0;b<a.length;b++){c.push(b)}c.sort(function(e,d){return a[e]-a[d]});return c};this.Wz=function(b){var d=b.slice().sort(function(g,f){return g-f});var e=b.slice().map(function(f){return d.indexOf(f)+1});var c={};e.map(function(f){c[f]=c[f]?c[f]++:1});var a=e.map(function(f){return f/c[f]});return a};this.lJ=function(b,a,f){if(this.tO(b)){var e=Number.POSITIVE_INFINITY;if(this.tO(b[0])){for(var d=0;d<b.length;d++){for(var c=0;c<b[d].length;c++){if(this.xx(b[d][c],true)){e=Math.min(e,b[d][c])}}}}else{b=this.C1(b,a,f);for(var d=0;d<b.length;d++){if(this.xx(b[d],true)){e=Math.min(e,b[d])}}}return e}else{return this.Min(b,a)}};this.K1=function(c,b,f){if(this.tO(c)){var a=Number.NEGATIVE_INFINITY;if(this.tO(c[0])){for(var e=0;e<c.length;e++){for(var d=0;d<c[e].length;d++){if(this.xx(c[e][d],true)){a=Math.max(a,c[e][d])}}}}else{c=this.C1(c,b,f);for(var e=0;e<c.length;e++){if(this.xx(c[e],true)){a=Math.max(a,c[e])}}}return a}else{return this.Max(c,b)}};this.RD=function(b,a,g,e,f){b=this.C1(b,a,g);var d=0;for(var c=0;c<b.length;c++){if(e){if(b[c]>0){d+=b[c]}}else{if(f){if(b[c]<0){d+=b[c]}}else{d+=b[c]}}}return d};this.r3=function(b,a,f,e){b=this.C1(b,a,f);var d=0;for(var c=0;c<b.length;c++){if(e){if(b[c]>0){d+=b[c]*b[c]}}else{d+=b[c]*b[c]}}return d};this.Wi=function(b,a,g){b=this.C1(b,a,g);var c=this.NA(b);var f=0;for(var e=0;e<b.length;e++){var d=b[e]-c;f+=d*d}return f};this.NA=function(b,a,e){b=this.C1(b,a,e);var c=0;var f=0;for(var d=0;d<b.length;d++){if(!this.DQ(b[d])){c+=Number(b[d]);f++}}if(f>0){c/=f}return c};this.cp=function(c,b,g,f,h){c=this.C1(c,b,g);var e=Number.MAX_VALUE;var a=Number.MAX_VALUE*-1;for(var d=0;d<c.length;d++){e=Math.min(c[d],e);a=Math.max(c[d],a)}return f?Number(a)-Number(e):h?[e,a]:e==a&&e==0?[-0.5,0.5]:e==a?[Number(e)-0.5,Number(a)+0.5]:[Number(e),Number(a)]};this.vM=function(b){var e=Number.MAX_VALUE;var a=Number.MAX_VALUE*-1;for(var d=0;d<b.length;d++){for(var c=0;c<b[d].length;c++){if(this.xx(b[d][c],true)){e=Math.min(b[d][c],e);a=Math.max(b[d][c],a)}}}return e==a&&e==0?[-0.5,0.5]:e==a?[Number(e)-0.5,Number(a)+0.5]:[Number(e),Number(a)]};this.xZ=function(b,a,f){b=this.C1(b,a,f);var e=[];var d=[];var g=0;e[0]=Number.NaN;e[1]=Number.NaN;for(var c=0;c<b.length;c++){d.push(b[c]);g++}if(g>0){e[1]=g;d.sort(function(i,h){return i-h});if(g%2){e[0]=d[parseInt(g/2)]}else{e[0]=(d[parseInt((g-1)/2)]+d[g/2])/2}}return e};this.yw=function(b,a,e){b=this.C1(b,a,e);var d=[];for(var c=0;c<b.length;c++){d.push(Math.abs(b[c]))}return d};this.bu=function(b,a,e){b=this.C1(b,a,e);var d=[];for(var c=0;c<b.length;c++){d.push(b[c]*b[c])}return d};this.lx=function(c,e){var b=[];for(var d=0;d<c.length;d++){b.push(c[d]-e)}return b};this.ux=function(c,e){var b=[];for(var d=0;d<c.length;d++){b.push(c[d]+e)}return b};this.dy=function(c,e){var b=[];for(var d=0;d<c.length;d++){b.push(e)}return b};this.JF=function(a){if(this.randomMethod=="numericalRecipes"){return(a*9301+49297)%233280}else{a=((a+2127912214)+(a<<12))&4294967295;a=((a^3345072700)^(a>>>19))&4294967295;a=((a+374761393)+(a<<5))&4294967295;a=((a+3550635116)^(a<<9))&4294967295;a=((a+4251993797)+(a<<3))&4294967295;a=((a^3042594569)^(a>>>16))&4294967295;return a}};this.DI=function(a){if(this.pseudoRandom){this.randomSeed=this.JF(a||this.randomSeed);return this.randomMethod=="numericalRecipes"?this.randomSeed/233280:(this.randomSeed&268435455)/268435456;return}else{return Math.random()}};this.Gs=function(c,a,b){return(this.DI(b)*(a-c+1))+c};this.x5=function(a){return parseInt(this.DI(a))};this.Vj=function(c,a,b){return Math.floor(this.DI(b)*(a-c+1))+c};this.gI=function(b,a,c){if(this.errorBarsType=="standardErrorMean"){return this.iQ(b,a,c)}else{if(this.errorBarsType=="confidenceInterval95"){return this.zF(b,a,c)}else{return this.Wg(b,a,c)}}};this.iQ=function(b,a,d){var c=this.rl(b,a,d,true);if(this.DQ(c[1])){return[Number.NaN,Number.NaN,Number.NaN]}return[c[0],Math.sqrt(c[1])/Math.sqrt(c[2]),c[2]]};this.zF=function(b,a,d){var c=this.iQ(b,a,d,true);if(this.DQ(c[1])){return[Number.NaN,Number.NaN,Number.NaN]}return[c[0],c[1]*1.96,c[2]]};this.Wg=function(b,a,d){var c=this.rl(b,a,d,true);if(this.DQ(c[1])){return[Number.NaN,Number.NaN,Number.NaN]}return[c[0],Math.sqrt(c[1]),c[2]]};this.Yw=function(a){a.sort(function(h,d){return h-d});var g=a.length;var b=Math.floor((g+3)/2)/2;var f=[1,b,(g+1)/2,g+1-b,g];var e=[];for(var c=0;c<f.length;c++){e.push((a[Math.floor(f[c])-1]+a[Math.ceil(f[c])-1])*0.5)}return e};this.UL=function(a,d,c){if(a.length>0){a=this.C1(a,d,c);var e=[];var l=[];var b=this.Yw(a);var g=this.boxplotHingeFunction=="summary"?this.kP(a,[0.25,0.75]):[b[1],b[3]];var w=b[0];var r=g[0];var p=b[2];var u=b[2];var n=g[1];var v=b[4];var k=n-r;var q=r-this.boxplotCoef*k;var m=n+this.boxplotCoef*k;var j=(b[3]-b[1])/Math.sqrt(a.length);var t=Number.NEGATIVE_INFINITY;var o=Number.POSITIVE_INFINITY;for(var s=0;s<a.length;s++){if(a[s]<q||a[s]>m){e.push(a[s]);t=Math.max(t,a[s]);o=Math.min(o,a[s])}else{l.push(a[s])}}if(e.length>0){var f=this.cp(l,false,false,false,true);w=f[0];v=f[1]}t=Math.max(t,v);o=Math.min(o,w);var h=[u-1.58*j,u+1.58*j];return[u,r,p,n,w,v,e,a.length,h,[o,t]]}return[Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN,Number.NaN]};this.mW=function(b,a){if(a<b[0]){return 0}else{if(a>=b[0]&&a<b[1]){return 1}else{if(a>=b[1]&&a<b[2]){return 2}else{if(a>=b[2]){return 3}}}}};this.kP=function(b,c){b=this.C1(b);b=b.slice().sort(function(f,e){return f-e});var d=b.length-1;var a=!c||!c.length?[0.25,0.5,0.75]:c;return a.map(function(j){if(j===0){return b[0]}else{if(j===1){return b[d]}else{var f=1+j*d;var i=Math.floor(f);var g=f-i;var e=b[i-1];return g===0?e:e+g*(b[i]-e)}}})};this.AF=function(a){var b=this.kP(a,[0.25,0.75]);return b[1]-b[0]};this.rl=function(e,f,c,a){e=this.C1(e,f,c);var b=e.length;if(b<1){return a?[Number.NaN,Number.NaN,Number.NaN]:Number.NaN}else{if(b==1){return a?[e[0],0,1]:0}else{var j=this.NA(e);var h=0;var d=b;while(--d>=0){if(!this.DQ(e[d])){var g=e[d]-j;h+=g*g}}if(a){return this.standardDeviationType=="unbiased"?[j,h/(b-1),b]:[j,h/b,b]}else{return this.standardDeviationType=="unbiased"?h/(b-1):h/b}}}};this.Hv=function(b,a,f){b=this.C1(b,a,f);var g=b.length;if(g<1){return[Number.NaN]}else{if(g==1){return[0]}else{var c=this.NA(b);var d=[];for(var e=0;e<g;e++){if(!this.DQ(b[e])){d[e]=b[e]-c}else{d[e]=NaN}}return d}}};this.uc=function(b,a,d){var c=this.rl(b,a,d);if(this.DQ(c)){return c}return Math.sqrt(c)};this.lv=function(b,a,d){var c=this.rl(b,a,d,true);if(this.DQ(c[1])){return c[1]}return Math.sqrt(c[1])/Math.sqrt(c[2])};this.zT=function(b,a,c){b=this.C1(b,a,c);return this.Wi(this.Wi(b,a,c))/b.length};this.jy=function(c,b,d){var a=this.lv(c,b,d);if(this.DQ(a)){return a}return a*1.96};this.at=function(h,g,e,c){var f=this.zM(h,g,e,c);h=f[0];g=f[1];var l=0;var a=[];var b=0;var k=this.NA(h);var j=this.NA(g);for(var d=0;d<h.length;d++){a[d]=(h[d]-k)*(g[d]-j);l+=a[d];b++}if(b>0){return l/(this.standardDeviationType=="unbiased"?b-1:b)}else{return NaN}};this.u3=function(c,b,a,e,d){if(d&&d=="spearman"){return this.Qp(c,b,a,e)}else{return this.fP(c,b,a,e)}};this.Qp=function(m,l,h,f){var k=this.zM(m,l,h,f);m=k[0];l=k[1];var a=m.length;var b=0;var e=this.Wz(m);var c=this.Wz(l);for(var g=0;g<m.length;g++){var j=e[g]-c[g];b+=j*j}return 1-(6*b/(a*(a*a-1)))};this.fP=function(c,b,a,d){return this.at(c,b,a,d)/this.uc(c,a,d)/this.uc(b,a,d)};this.kD=function(l,k,a){var e=this.meta;if(!e.vals.regression){e.vals.regression={}}var g=[];var p=[];var o=[];for(var h=0;h<l.length;h++){if(!this.DQ(l[h])&&!this.DQ(k[h])){g.push([l[h],k[h]]);p.push(l[h]);o.push(k[h])}}var b=l.length;var j=g.length;var c=this.regressionType+"Regression";var q=this.TU([b,j,c,this.transformData,(a||"Global")]);q=q.join(":");if(!e.vals.regression.hasOwnProperty(q)){e.vals.regression[q]=this[c](g);e.vals.regression[q].correlation=this.u3(p,o)}var f=e.vals.regression[q];return[f.params[0],f.params[1],f.r2,f.confidence,f.range,f.correlation]};this.p9=function(b,d,a,c){return d!=c?(a-b)/(c-d):0};this.kC=function(a,c,b){return c-(a*b)};this.rI=function(b,e,a,d){var c=this.p9(b,e,a,d);return[c,this.kC(b,e,c)]};this.kw=function(f){var e=this.standardDeviationType;this.standardDeviationType="biased";for(var c=0;c<f.length;c++){var a=this.Wg(f[c]);for(var b=0;b<f[c].length;b++){f[c][b]=(f[c][b]-a[0])/a[1]}}this.standardDeviationType=e;return f};this.Si=function(h,f){var c=0;for(var b=0;b<h.length;b++){c+=h[b][1]}var j=c/h.length;var e=0;for(var b=0;b<h.length;b++){var g=h[b][1]-j;e+=g*g}var d=0;for(var b=0;b<h.length;b++){var a=h[b][1]-f[b][1];d+=a*a}return 1-(d/e)};this.IA=function(m,b){var o=m;var a=m.length-1;var c=[b];for(var g=0;g<a;g++){var h=g;for(var e=g+1;e<a;e++){if(Math.abs(o[g][e])>Math.abs(o[g][h])){h=e}}for(var d=g;d<a+1;d++){var f=o[d][g];o[d][g]=o[d][h];o[d][h]=f}for(var e=g+1;e<a;e++){for(var d=a;d>=g;d--){o[d][e]-=(o[d][g]*o[g][e])/o[g][g]}}}for(var e=a-1;e>=0;e--){var l=0;for(var d=e+1;d<a;d++){l+=o[d][e]*c[d]}c[e]=(o[a][e]-l)/o[e][e]}return c};this.vC=function(z){var c=[0,0,0,0,0];var r=0;var p=Number.NEGATIVE_INFINITY;var l=Number.POSITIVE_INFINITY;for(var k=0;k<z.length;k++){r++;p=Math.max(p,z[k][0]);l=Math.min(l,z[k][0]);c[0]+=z[k][0];c[1]+=z[k][1];c[2]+=z[k][0]*z[k][0];c[3]+=z[k][0]*z[k][1];c[4]+=z[k][1]*z[k][1]}var h=((r*c[2])-(c[0]*c[0]));var a=((r*c[3])-(c[0]*c[1]));var b=h===0?0:a/h;var x=(c[1]/r)-((b*c[0])/r);var o=[];for(var k=0;k<z.length;k++){o[k]=[z[k][0],(z[k][0]*b)+x]}var e=[];var j=0;var y=0;var q=c[0]/r;var g=Math.max(k-2,1);var d=this.XX(l,p,(p-l)/10);var f=this.tinv(1-this.confidenceLevel,g,true);for(var m=0;m<k;m++){j+=Math.pow(z[m][1]-o[m][1],2);y+=Math.pow(z[m][0]-q,2)}j=Math.sqrt(j/g);var s=Number.NEGATIVE_INFINITY;var v=Number.POSITIVE_INFINITY;var u=d[d.length-1];var w=d[0];for(var m=0;m<d.length;m++){var A=-f*j*Math.sqrt((1/k)+Math.pow(d[m]-q,2)/y);var t=b*d[m]+x;e.push([d[m],t+A,t-A,A]);s=Math.max(s,t+A);v=Math.min(v,t-A)}return{predict:o,params:[b,x],r2:this.Si(z,o),confidence:e,string:x===0?"y = "+b+"x":"y = "+b+"x + "+x,range:[w,u,v,s]}};this.Wn=function(g){var f=[0,0,0,0,0,0];for(var i=0;i<g.length;i++){f[0]+=g[i][0];f[1]+=g[i][1];f[2]+=g[i][0]*g[i][0]*g[i][1];f[3]+=g[i][1]*Math.log(g[i][1]);f[4]+=g[i][0]*g[i][1]*Math.log(g[i][1]);f[5]+=g[i][0]*g[i][1]}var h=((f[1]*f[2])-(f[5]*f[5]));var d=Math.exp(((f[2]*f[3])-(f[5]*f[4]))/h);var c=((f[1]*f[4])-(f[5]*f[3]))/h;var e=[];for(var i=0;i<g.length;i++){e[i]=[g[i][0],d*Math.exp(c*g[i][0])]}return{predict:e,params:[d,c],r2:this.Si(g,e),confidence:false,string:"y = "+d+"e^("+c+"x)",range:false}};this.oE=function(h){var g=[0,0,0,0];var d=h.length;for(var i=0;i<d;i++){g[0]+=Math.log(h[i][0]);g[1]+=h[i][1]*Math.log(h[i][0]);g[2]+=h[i][1];g[3]+=Math.pow(Math.log(h[i][0]),2)}const c=((d*g[1])-(g[2]*g[0]))/((d*g[3])-(g[0]*g[0]));const e=(g[2]-(c*g[0]))/d;var f=[];for(var i=0;i<h.length;i++){f[i]=[h[i][0],e+(c*Math.log(h[i][0]))]}return{predict:f,params:[e,c],r2:this.Si(h,f),confidence:false,string:"y = "+e+" + "+c+"ln(x)",range:false}};this.Xn=function(h){var g=[0,0,0,0,0];var d=h.length;for(var i=0;i<d;i++){g[0]+=Math.log(h[i][0]);g[1]+=Math.log(h[i][1])*Math.log(h[i][0]);g[2]+=Math.log(h[i][1]);g[3]+=Math.pow(Math.log(h[i][0]),2)}var c=((d*g[1])-(g[0]*g[2]))/((d*g[3])-Math.pow(g[0],2));var e=Math.exp(((g[2]-(c*g[0]))/d));var f=[];for(var i=0;i<h.length;i++){f[i]=[h[i][0],e*Math.pow(h[i][0],c)]}return{predict:f,params:[e,c],r2:this.Si(h,f),confidence:false,string:"y = "+e+"x^"+c,range:false}};this.pg=function(n){this.regressionOrder=2;var g=[];var r=[];var u=0;var t=0;var q=n.length;var h=this.regressionOrder+1;for(var o=0;o<h;o++){for(var f=0;f<q;f++){u+=Math.pow(n[f][0],o)*n[f][1]}g.push(u);u=0;var s=[];for(var m=0;m<h;m++){for(var f=0;f<q;f++){t+=Math.pow(n[f][0],(o+m))}s.push(t);t=0}r.push(s)}r.push(g);var e=this.IA(r,h);var d=function d(a){return[a,e.reduce(function(i,b,c){return i+b*Math.pow(a,c)},0)]};var v=n.map(function(a){return d(a[0])});var p="y = ";for(var o=e.length-1;o>=0;o--){if(o>1){p+=e[o]+"x^"+o+" + "}else{if(o===1){p+=e[o]+"x + "}else{p+=e[o]}}}return{predict:v,params:e.reverse(),r2:this.Si(n,v),confidence:false,string:p,range:false}};this.Fd=function(c,b){var a=[];var e={};for(var d=0;d<c.length;d++){e[c[d]]=true}for(var d=0;d<b.length;d++){if(e[b[d]]){a.push(b[d])}}return a};this.CJ=function(a,c,b){if(b){return this.tk(a,c,b)}else{return this.cn(a,c)}};this.cn=function(k,g){var i=this.rl(k,false,false,true);var h=this.rl(g,false,false,true);var j=this.at(k,g);var m=[[i[1],j],[j,h[1]]];var n=this.qh("eig",m);var l=Math.sqrt(2*this.gammaPinv(this.confidenceLevel,1));var f=n.lambda.x[0]>n.lambda.x[1]?0:1;var e=n.lambda.x[0]<n.lambda.x[1]?0:1;var b=i[1]>h[1]?Math.sqrt(n.lambda.x[f])*l:Math.sqrt(n.lambda.x[e])*l;var a=h[1]>i[1]?Math.sqrt(n.lambda.x[f])*l:Math.sqrt(n.lambda.x[e])*l;var c=Math.atan2(n.E.x[f][1],n.E.x[f][0]);if(c<0){c+=Math.PI/2}var d={rx:b,ry:a,cx:i[0],cy:h[0],rot:c};return d};this.tk=function(n,m,k){var i=function(z){for(var y=0;y<z.length;y++){for(var x=0;x<z[y].length;x++){if(isNaN(z[y][x])){return false}}}return true};var q=this.rl(n,false,false,true);var p=this.rl(m,false,false,true);var o=this.rl(k,false,false,true);var c=this.at(n,m);var b=this.at(n,k);var j=this.at(m,k);var u=[[q[1],c,b],[c,p[1],j],[b,j,o[1]]];if(i(u)){var l=this.qh("eig",u);var a=Math.sqrt(2*this.gammaPinv(this.confidenceLevel,1));var f=this.I5(l.lambda.x);var t=f[2];var r=f[1];var s=f[0];var h=Math.sqrt(l.lambda.x[t])*a;var e=Math.sqrt(l.lambda.x[r])*a;var d=Math.sqrt(l.lambda.x[s])*a;var A=Math.atan2(l.E.x[2][t]*-1,l.E.x[1][t]*-1);var w=Math.atan2(l.E.x[2][t]*-1,l.E.x[0][t]*-1);var v=Math.atan2(l.E.x[1][t]*-1,l.E.x[0][t]*-1);if(A<0){}if(w<0){w+=Math.PI/2}if(v<0){}var g={rx:[h],ry:[e],rz:[d],cx:q[0],cy:p[0],cz:o[0],rot:[A,w,v]};return g}else{return false}};this.kh=function(a,c,b){var a=(a-c)/b;var f=1/(1+0.2315419*Math.abs(a));var g=0.3989423*Math.exp(-a*a/2);var e=g*f*(0.3193815+f*(-0.3565638+f*(1.781478+f*(-1.821256+f*1.330274))));if(a>0){e=1-e}return e};this.MG=function(c,f){var e=[];var a=[];var l=[];for(var d=0;d<c.length;d++){if(this.xx(c[d])){e.push(c[d]);a.push(f[d]);l.push(d)}}var k=l.sort(function(m,i){return e[m]-e[i]});var j=this.TU(e);j=j.sort(function(m,i){return m-i});var h=[];var b=e.length;for(var d=0;d<b;d++){h.push((d+1)/b)}var g=[];for(var d=0;d<k.length;d++){g.push(a[k[d]])}return{i:g,x:j,y:h}};this.qs=function(h,g){if(!g||!g.length||g.length!=2){g=[0.25,0.75]}var h=this.kP(h,g);var a=[];for(var d=0;d<g.length;d++){a.push(this.nd(g[d]))}var b=this.eu(h);var c=this.eu(a);var e=b[0]/c[0];var f=h[0]-e*a[0];return{slope:e,intercept:f}};this.CO=function(b,f){var e=[];var a=[];var l=[];for(var d=0;d<b.length;d++){if(this.xx(b[d])){e.push(b[d]);a.push(f[d]);l.push(d)}}var c=this.Qw(e.length);var k=l.sort(function(m,i){return e[m]-e[i]});var h=e.sort(function(m,i){return m-i});var j=[];for(var d=0;d<c.length;d++){j.push(this.nd(c[d]))}var g=[];for(var d=0;d<k.length;d++){g.push(a[k[d]])}return{l:this.qs(h),i:g,x:j,y:h}};this.Qw=function(e){var c=e<=10?3/8:0.5;var b=[];for(var d=0;d<e;d++){b.push(((d+1)-c)/(e+1-2*c))}return b};this.e6=function(g,o,l,n){var e=o.density.maxY>0?o.density.maxY:0.000001;var a;var p=n*this.jitterFactor*0.5*this.widthFactor;var b=this.varIndices.length>1?0.5:0.9;switch(this.violinScale){case"area":a=n/e*e/o.scale*b;break;case"count":a=n/e*o.density.sumY/o.area*b;break;case"width":a=n/e*b;break}for(var h=0;h<l.length;h++){for(var f=0;f<o.density.xy.length;f++){if(o.density.xy[f][0]>=l[h]){var c=o.density.xy[f][1]*a;g[h]=g[h]/p*c;break}}}};this.CC=function(n,h,m){if(n.length<2){return n}if(!h){h=1}var g=this.cp(n);var k=this.eu(g)[0];if(k==0){k=Math.abs(g[0])}if(k==0){k=1}if(m==null){var c=[];var l=3-Math.floor(Math.log10(k));for(var e=0;e<n.length;e++){c.push(Number(n[e].toFixed(l)))}c=this.Ry(c.sort(function(f,d){return f-d}));var j=this.eu(c);if(j.length){j=this.lJ(j)}else{if(c[0]!=0){j=c[0]/10}else{j=k/10}}m=h/5*Math.abs(j)}else{if(m==0){m=h*(k/50)}}this.randomSeed=8;var b=this.T6(n.length,-m,m);for(var e=0;e<b.length;e++){b[e]+=n[e]}return b};this.jj=function(g,e){var b=g[0][0];var a=g[0][1];var d=g[1][0];var c=g[1][1];var h=b+(d-b)*e;var f=a+(c-a)*e;return[h,f]};this.mx=function(e,d){if(d===1){return e[e.length-1]}if(d===0){return e[0]}if(e.length==1){return e[0]}var b=[];for(var c=1,a=e.length;c<a;c++){b.push(this.jj([e[c-1],e[c]],d))}return this.mx(b,d)};this.vb=function(f,e,c,g){c=c||[];g=g||[];c.push(f[0]);g.push(f[f.length-1]);if(f.length===1){return[c,g]}var b=[];for(var d=1,a=f.length;d<a;d++){b.push(this.jj([f[d-1],f[d]],e))}return this.vb(b,e,c,g)};this.si=function(a){var c=[];if(!a||a.length<2){return[0,0]}else{if(a.length<3||a.length%2){return[a[0],a[1]]}else{while(a.length>1){c.push([a.shift(),a.shift()])}}}var b=c.reduce(function(d,e){return[d[0]+e[0]/c.length,d[1]+e[1]/c.length]},[0,0]);return b};this.Fq=function(a){var b=this.TU(a);b.shift();return this.si(b)};this.C2=function(c){var b=[];var e=Array.apply(null,Array(c.length+2)).map(function(a,j){return j});var h=Array.apply(null,Array(1*e.length)).map(function(){return 1});c.map(function(a){h[a]++});for(var f=0;f<c.length;f++){for(var d=0;d<e.length;d++){if(h[e[d]]===1){b.push([c[f],e[d]]);h[c[f]]--;h[e[d]]--;break}}}var g=e.filter(function(a){return h[a]===1});b.push(g);return b};this.v4=function(c){var e=6;var d,a,b;if(c==0){a=0}else{d=0.5*Math.abs(c);if(d>(e*0.5)){a=1}else{if(d<1){b=d*d;a=((((((((0.000124818987*b-0.001075204047)*b+0.005198775019)*b-0.019198292004)*b+0.059054035642)*b-0.151968751364)*b+0.319152932694)*b-0.5319230073)*b+0.797884560593)*d*2}else{d-=2;a=(((((((((((((-0.000045255659*d+0.00015252929)*d-0.000019538132)*d-0.000676904986)*d+0.001390604284)*d-0.00079462082)*d-0.002034254874)*d+0.006549791214)*d-0.010557625006)*d+0.011630447319)*d-0.009279453341)*d+0.005353579108)*d-0.002141268741)*d+0.000535310849)*d+0.999936657524}}}return c>0?((a+1)*0.5):((1-a)*0.5)};this.Vk=function(e){var g=6;var c=0.000001;var f=-g;var d=g;var b=0;var a;if(e<0){e=0}if(e>1){e=1}while((d-f)>c){a=this.v4(b);if(a>e){d=b}else{f=b}b=(d+f)*0.5}return b};this.au=function(m,c,f){var k=this;function o(z,i){var n=k.JR(z,i);n.sort(function(B,A){return B[1]-A[1]});return k.nn(n,0)}function x(n,i){return n-i}var w={times:[],times2:[],events:[]};for(var t=0;t<m.length;t++){if(!isNaN(m[t])){w.times.push(m[t]);if(this.kmInvertCensored){w.events.push(isNaN(c[t])?1:c[t]?0:1)}else{w.events.push(isNaN(c[t])?0:c[t])}}}var e=this.XX(0,w.times.length-1,1).sort(function(n,i){return w.times[n]-w.times[i]});if(f){for(var t=0;t<f.length;t++){if(!isNaN(f[t])){w.times2.push(f[e[t]])}}f=w.times2}m=w.times;c=w.events;var g=this.Ry(m).sort(x);var u=new Array(g.length);var a=new Array(g.length);var p=new Array(g.length);var j=new Array(g.length);var y=new Array(g.length);var l=new Array(g.length);var q=new Array(g.length);var s=0;c=o(c,m);m.sort(x);for(var h=0;h<g.length;h++){if(f){var r=m.length;for(var t=0;t<m.length;t++){if(f[t]>=g[h]){r--}}y[h]=r}else{y[h]=m.length}l[h]=0;q[h]=0;for(var t=0;t<m.length;t++){if(m[t]==g[h]){l[h]+=c[t];q[h]+=!c[t]}else{break}}var v=t;u[h]=(1-l[h]/y[h])*((h==0)?1:u[h-1]);s+=l[h]/(y[h]*(y[h]-l[h]));a[h]=Math.sqrt(s)*u[h];p[h]=Math.sqrt(s);j[h]=Math.sqrt(s)/Math.log(u[h]);c=c.slice(v);m=m.slice(v);if(f){f=f.slice(v)}}var b=0;for(var t=0;t<u.length;t++){if(u[t]<=0.5){b=g[t];break}}var d=this.jf(u,this.kmConfidenceIntervalType=="log"?p:this.kmConfidenceIntervalType=="loglog"?j:a);return{time:g,nAtRisk:y,nEvents:l,nCensored:q,kaplanMeier:u,greenwoodSE:a,greenwoodSELog:p,greenwoodSELogLog:j,lowerLimit:d[0],upperLimit:d[1],medianSurvivalTime:b}};this.jf=function(b,f){var g=this.Vk(this.kmConfidenceLevel);var h=b.length;var c=new Array(h);var e=new Array(h);for(var d=0;d<h;d++){var a=b[d];if(this.kmConfidenceIntervalType=="log"){a=Math.log(a)}if(this.kmConfidenceIntervalType=="loglog"){a=Math.log(-Math.log(a))}c[d]=a-g*f[d];e[d]=a+g*f[d];if(this.kmConfidenceIntervalType=="log"){c[d]=Math.exp(c[d]);e[d]=Math.exp(e[d])}if(this.kmConfidenceIntervalType=="loglog"){c[d]=Math.exp(-Math.exp(c[d]));e[d]=Math.exp(-Math.exp(e[d]))}c[d]=Math.max(0,c[d]);e[d]=Math.min(1,e[d])}return[c,e]};this.Nq=function(g,f){var d=[];var c=[];var w=[];var u=[];var h={};for(var x=0;x<g.time.length;x++){if(g.nCensored[x]==0||g.nEvents[x]>0){h[g.time[x]]=true}else{h[g.time[x]]=false}}for(var x=0;x<f.time.length;x++){if(f.nCensored[x]==0||f.nEvents[x]>0){h[f.time[x]]=true}else{h[f.time[x]]=false}}var q=Object.keys(h).sort(function(j,i){return j-i});for(var x=0;x<q.length;x++){w.push(g.time.indexOf(Number(q[x])));u.push(f.time.indexOf(Number(q[x])))}for(var x=0;x<q.length;x++){if(h[q[x]]){for(var v=0;v<g.time.length;v++){if(g.time[v]==q[x]){d.push([g.nEvents[v],g.nCensored[v],g.nAtRisk[v]]);break}}for(var v=0;v<f.time.length;v++){if(f.time[v]==q[x]){c.push([f.nEvents[v],f.nCensored[v],f.nAtRisk[v]]);break}}var p;if(d.length!=c.length){if(d.length>c.length){p=c.length-1;c.push([0,0,p>=0?c[p][2]-(c[p][0]+c[p][1]):f.nAtRisk[0]])}else{p=d.length-1;d.push([0,0,p>=0?d[p][2]-(d[p][0]+d[p][1]):g.nAtRisk[0]])}}}else{if(x>0){var p=d.length-1;if(w[x]>=0){d[p][1]+=g.nCensored[w[x]]}if(u[x]>=0){c[p][1]+=f.nCensored[u[x]]}}}}var l=0;var s=0;var e=0;for(var x=0;x<d.length;x++){var b=d[x][0];var a=c[x][0];var o=d[x][2];var n=c[x][2];var m=(o/(o+n))*(b+a);var k=(n/(o+n))*(b+a);l+=b-m;s+=a-k;var t=(o*n)*(b+a)*(o+n-b-a)/(Math.pow((o+n),2)*(o+n-1));e+=isNaN(t)?0:t}return 1-this.mw(Math.pow(s,2)/e,1)};this.mw=function(c,f){var a=function(i){var h=1+76.18009173/i-86.50532033/(i+1)+24.01409822/(i+2)-1.231739516/(i+3)+0.00120858003/(i+4)-0.00000536382/(i+5);var g=(i-0.5)*Math.log(i+4.5)-(i+4.5)+Math.log(h*2.50662827465);return g};var e=function(h,i){var k=0;var o=1;var j=1;var n=h;var m=0;var l=0;while(Math.abs((j-m)/j)>0.00001){m=j;l=l+1;k=j+(l-i)*k;o=n+(l-i)*o;j=h*k+l*j;n=h*o+l*n;k=k/n;o=o/n;j=j/n;n=1}var g=Math.exp(i*Math.log(h)-h-a(i))*j;return 1-g};var d=function(k,h){var g=1/h;var j=g;var i=1;while(g>j*0.00001){g=g*k/(h+i);j=j+g;i=i+1}j=j*Math.exp(h*Math.log(k)-k-a(h));return j};var b=function(g,h){var i;if(g<=0){i=0}else{if(g<h+1){i=d(g,h)}else{i=e(g,h)}}return i};return b(c/2,f/2)};this.LO=function(h,m,k){var f=function(q,s){var n=[];for(var p=0;p<q;p++){n.push([]);for(var o=0;o<s;o++){n[p].push(0)}}return n};var d=function(i,o,n){var q=i[o];i[o]=i[n];i[n]=q};var a=function(p,u){var q=p.length;for(var r=0;r<q;r++){var w=0;var o=Number.NEGATIVE_INFINITY;for(var t=r;t<q;t++){if(Math.abs(p[t][r])>o){w=t;o=Math.abs(p[t][r])}}d(p,r,w);for(var t=r+1;t<q;t++){var n=(p[t][r]/p[r][r]);for(var s=r;s<q+1;s++){p[t][s]-=p[r][s]*n}}}for(var t=q-1;t>=0;t--){var y=p[t][q]/p[t][t];u[t]=y;for(var s=t-1;s>=0;s--){p[s][q]-=p[s][t]*y;p[s][t]=0}}};var b=function(v,o,w,s){var p=1;while(o[p]<v){p++}var y=(v-o[p-1])/(o[p]-o[p-1]);var u=s[p-1]*(o[p]-o[p-1])-(w[p]-w[p-1]);var r=-s[p]*(o[p]-o[p-1])+(w[p]-w[p-1]);var n=(1-y)*w[p-1]+y*w[p]+y*(1-y)*(u*(1-y)+r*y);return n};var e=h.length-1;var c=f(e+1,e+2);var l=[];var g=[[],[]];for(var j=0;j<h.length;j++){l[j]=1}for(var j=1;j<e;j++){c[j][j-1]=1/(h[j]-h[j-1]);c[j][j]=2*(1/(h[j]-h[j-1])+1/(h[j+1]-h[j]));c[j][j+1]=1/(h[j+1]-h[j]);c[j][e+1]=3*((m[j]-m[j-1])/((h[j]-h[j-1])*(h[j]-h[j-1]))+(m[j+1]-m[j])/((h[j+1]-h[j])*(h[j+1]-h[j])))}c[0][0]=2/(h[1]-h[0]);c[0][1]=1/(h[1]-h[0]);c[0][e+1]=3*(m[1]-m[0])/((h[1]-h[0])*(h[1]-h[0]));c[e][e-1]=1/(h[e]-h[e-1]);c[e][e]=2/(h[e]-h[e-1]);c[e][e+1]=3*(m[e]-m[e-1])/((h[e]-h[e-1])*(h[e]-h[e-1]));a(c,l);for(var j=0;j<k.length;j++){g[0].push(k[j]);g[1].push(b(k[j],h,m,l))}return g}};CanvasXpress.prototype.initSankeyUtils=function(){this.Qq=function(){var h=function(D,C){return D<C?-1:D>C?1:D>=C?0:NaN};var f=function(H,F){var E=0,G=H.length,C,D=-1;if(F==null){while(++D<G){if(C=+H[D]){E+=C}}}else{while(++D<G){if(C=+F(H[D],D,H)){E+=C}}}return E};var t=function(H,F){var E=-1,G=H.length,D,C;if(F==null){while(++E<G){if((C=H[E])!=null&&C>=C){D=C;break}}while(++E<G){if((C=H[E])!=null&&D>C){D=C}}}else{while(++E<G){if((C=F(H[E],E,H))!=null&&C>=C){D=C;break}}while(++E<G){if((C=F(H[E],E,H))!=null&&D>C){D=C}}}return D};var x=function(D,C){return D=+D,C-=D,function(E){return D+C*E}};var v="$";function j(){}j.prototype=A.prototype={constructor:j,has:function(C){return(v+C) in this},get:function(C){return this[v+C]},set:function(C,D){this[v+C]=D;return this},remove:function(C){var D=v+C;return D in this&&delete this[D]},clear:function(){for(var C in this){if(C[0]===v){delete this[C]}}},keys:function(){var C=[];for(var D in this){if(D[0]===v){C.push(D.slice(1))}}return C},values:function(){var C=[];for(var D in this){if(D[0]===v){C.push(this[D])}}return C},entries:function(){var C=[];for(var D in this){if(D[0]===v){C.push({key:D.slice(1),value:this[D]})}}return C},size:function(){var C=0;for(var D in this){if(D[0]===v){++C}}return C},empty:function(){for(var C in this){if(C[0]===v){return false}}return true},each:function(D){for(var C in this){if(C[0]===v){D(this[C],C.slice(1),this)}}}};function A(C,F){var G=new j;if(C instanceof j){C.each(function(K,J){G.set(J,K)})}else{if(Array.isArray(C)){var E=-1,I=C.length,H;if(F==null){while(++E<I){G.set(E,C[E])}}else{while(++E<I){G.set(F(H=C[E],E,C),H)}}}else{if(C){for(var D in C){G.set(D,C[D])}}}}return G}var z=function(){var G=[],I=[],F,H,E;function D(P,N,L,Q){if(N>=G.length){return H!=null?H(P):(F!=null?P.sort(F):P)}var O=-1,J=P.length,T=G[N++],M,R,K=A(),S,U=L();while(++O<J){if(S=K.get(M=T(R=P[O])+"")){S.push(R)}else{K.set(M,[R])}}K.each(function(V,W){Q(U,W,D(V,N,L,Q))});return U}function C(K,L){if(++L>G.length){return K}var M,J=I[L-1];if(H!=null&&L>=G.length){M=K.entries()}else{M=[],K.each(function(O,N){M.push({key:N,values:C(O,L)})})}return J!=null?M.sort(function(O,N){return J(O.key,N.key)}):M}return E={object:function(J){return D(J,0,r,o)},map:function(J){return D(J,0,s,B)},entries:function(J){return C(D(J,0,s,B),0)},key:function(J){G.push(J);return E},sortKeys:function(J){I[G.length-1]=J;return E},sortValues:function(J){F=J;return E},rollup:function(J){H=J;return E}}};function r(){return{}}function o(C,D,E){C[D]=E}function s(){return A()}function B(E,C,D){E.set(C,D)}var l={};var e=12;var i=5;var m=[1,1];var p=[];var d=[];l.nodeWidth=function(C){if(!arguments.length){return e}e=+C;return l};l.nodePadding=function(C){if(!arguments.length){return i}i=+C;return l};l.nodes=function(C){if(!arguments.length){return p}p=C;return l};l.links=function(C){if(!arguments.length){return d}d=C;return l};l.size=function(C){if(!arguments.length){return m}m=C;return l};l.layout=function(C){c();k();a();g(C);b();u();return l};l.relayout=function(){b();u();return l};l.link=function(){var D=0.5;function C(L){var I=L.source.x+L.source.dx,H=L.target.x,G=x(I,H),F=G(D),E=G(1-D),K=L.source.y+L.sy+L.dy/2,J=L.target.y+L.ty+L.dy/2;return"M"+I+","+K+"C"+F+","+K+" "+E+","+J+" "+H+","+J}C.curvature=function(E){if(!arguments.length){return D}D=+E;return C};return C};function u(){var C=0.5;d.forEach(function(K){var H=K.source.x+K.source.dx,G=K.target.x,F=x(H,G),E=F(C),D=F(1-C),J=K.source.y+K.sy+K.dy/2,I=K.target.y+K.ty+K.dy/2;K.bezier=[[H,E,D,G],[J,J,I,I]]})}function c(){p.forEach(function(C){C.sourceLinks=[];C.targetLinks=[]});d.forEach(function(C){var D=C.source,E=C.target;if(typeof D==="number"){D=C.source=p[C.source]}if(typeof E==="number"){E=C.target=p[C.target]}D.sourceLinks.push(C);E.targetLinks.push(C)})}function k(){p.forEach(function(C){C.value=Math.max(f(C.sourceLinks,q),f(C.targetLinks,q))})}function a(){var D=p,E,C=0;while(D.length){E=[];D.forEach(function(F){F.x=C;F.breadth=C;F.dx=e;F.sourceLinks.forEach(function(G){E.push(G.target)})});D=E;++C}w(C);n((m[0]-e)/(C-1))}function w(C){p.forEach(function(D){if(!D.sourceLinks.length){D.x=C-1}})}function n(C){p.forEach(function(D){D.x*=C})}function g(H){var C=z().key(function(K){return K.x}).sortKeys(h).entries(p).map(function(K){return K.values});F();J();for(var I=1;H>0;--H){D(I*=0.99);J();E(I);J()}function F(){var K=t(C,function(L){return(m[1]-(L.length-1)*i)/f(L,q)});C.forEach(function(L){L.forEach(function(N,M){N.y=M;N.dy=N.value*K})});d.forEach(function(L){L.dy=L.value*K})}function E(L){C.forEach(function(M,N){M.forEach(function(O){if(O.targetLinks.length){var P=f(O.targetLinks,K)/f(O.targetLinks,q);O.y+=(P-y(O))*L}})});function K(M){return y(M.source)*M.value}}function D(L){C.slice().reverse().forEach(function(M){M.forEach(function(N){if(N.sourceLinks.length){var O=f(N.sourceLinks,K)/f(N.sourceLinks,q);N.y+=(O-y(N))*L}})});function K(M){return y(M.target)*M.value}}function J(){C.forEach(function(L){var O,K,N=0,P=L.length,M;L.sort(G);for(M=0;M<P;++M){O=L[M];K=N-O.y;if(K>0){O.y+=K}N=O.y+O.dy+i}K=N-i-m[1];if(K>0){N=O.y-=K;for(M=P-2;M>=0;--M){O=L[M];K=O.y+O.dy+i-N;if(K>0){O.y-=K}N=O.y}}})}function G(L,K){return L.y-K.y}}function b(){p.forEach(function(E){E.sourceLinks.sort(C);E.targetLinks.sort(D)});p.forEach(function(F){var G=0,E=0;F.sourceLinks.forEach(function(H){H.sy=G;G+=H.dy});F.targetLinks.forEach(function(H){H.ty=E;E+=H.dy})});function D(F,E){return F.source.y-E.source.y}function C(F,E){return F.target.y-E.target.y}}function y(C){return C.y+C.dy/2}function q(C){return C.value}return l};this.lw=function(){var a=this.Qq();if(this.layoutValid){this.Lz(false,this.layoutWidth,this.layoutHeight)}a.nodeWidth(Math.min(20,this.sankeyNodeWidth));a.nodePadding(Math.min(10,this.sankeyNodePadding));a.size([this.x-(this.margin*8),this.y-this.margin]);a.nodes(this.data.sankey.nodes);a.links(this.data.sankey.links);a.layout(this.sankeyIterations);this.data.sankey.object=a;if(this.layoutValid){this.Lz(true,this.width,this.height)}}};CanvasXpress.prototype.initCirclePackUtils=function(){this.It=function(){var l=this;var r=function(K,I){if(K===I){return K}var J=K.ancestors();var H=I.ancestors();var L=null;K=J.pop();I=H.pop();while(K===I){L=K;K=J.pop();I=H.pop()}return L};var o=function(H){H.data=H.data.data};var w=function(I){var H=0;do{I.height=H}while((I=I.parent)&&(I.height<++H))};var m=function(N,J){var Q=new F(N);var O=+N.value&&(Q.value=N.value);var L;var H=[Q];var I;var P;var M;var K;if(J==null){J=function(R){return R.children}}while(L=H.pop()){if(O){L.value=+L.data.value}if((P=J(L.data))&&(K=P.length)){L.children=new Array(K);for(M=K-1;M>=0;--M){H.push(I=L.children[M]=new F(P[M]));I.parent=L;I.depth=L.depth+1}}}return Q.eachBefore(w)};var F=function(H){this.data=H;this.depth=0;this.height=0;this.parent=null;if(this.nid==null){this.id=l.treeNodeId++}};F.prototype=m.prototype={constructor:F,count:function(){return this.eachAfter(count)},each:function(N){var K=this;var L;var J=[K];var I,H,M;do{L=J.reverse();J=[];while(K=L.pop()){N(K);I=K.children;if(I){for(H=0,M=I.length;H<M;++H){J.push(I[H])}}}}while(J.length);return this},eachAfter:function(N){var L=this;var H=[L];var K=[];var J,I,M;while(L=H.pop()){K.push(L);J=L.children;if(J){for(I=0,M=J.length;I<M;++I){H.push(J[I])}}}while(L=K.pop()){N(L)}return this},eachBefore:function(L){var K=this;var H=[K];var J,I;while(K=H.pop()){L(K);J=K.children;if(J){for(I=J.length-1;I>=0;--I){H.push(J[I])}}}return this},sum:function(H){return this.eachAfter(function(L){var K=+H(L.data)||0;var J=L.children;var I=J&&J.length;while(--I>=0){K+=J[I].value}L.value=K})},sort:function(H){return this.eachBefore(function(I){if(I.children){I.children.sort(H)}})},path:function(H){var L=this;var K=r(L,H);var J=[L];while(L!==K){L=L.parent;J.push(L)}var I=J.length;while(H!==K){J.splice(I,0,H);H=H.parent}return J},ancestors:function(){var I=this;var H=[I];while(I=I.parent){H.push(I)}return H},descendants:function(){var H=[];this.each(function(I){H.push(I)});return H},leaves:function(){var H=[];this.eachBefore(function(I){if(!I.children){H.push(I)}});return H},links:function(){var H=this;var I=[];H.each(function(J){if(J!==H){I.push({source:J.parent,target:J})}});return I},copy:function(){return m(this).eachBefore(o)}};var e=null;var s=1;var q=1;var h=function(H){this._=H;this.next=null};var g=function(M){var I;var L=(M=M.slice()).length;var H=null;var K=H;while(L){var J=new h(M[L-1]);if(K){K=K.next=J}else{K=H=J}M[I]=M[--L]}return{head:H,tail:K}};var t=function(H){return G(g(H),[])};var d=function(J,H){var K=H.x-J.x;var I=H.y-J.y;var L=J.r-H.r;return L*L+0.000001>K*K+I*I};var G=function(I,O){var M;var K=null;var J=I.head;var H;var N;switch(O.length){case 1:M=y(O[0]);break;case 2:M=x(O[0],O[1]);break;case 3:M=u(O[0],O[1],O[2]);break}while(J){N=J._;H=J.next;if(!M||!d(M,N)){if(K){I.tail=K;K.next=null}else{I.head=I.tail=null}O.push(N);M=G(I,O);O.pop();if(I.head){J.next=I.head;I.head=J}else{J.next=null;I.head=I.tail=J}K=I.tail;K.next=H}else{K=J}J=H}I.tail=K;return M};var y=function(H){return{x:H.x,y:H.y,r:H.r}};var x=function(S,P){var I=S.x;var R=S.y;var K=S.r;var H=P.x;var O=P.y;var J=P.r;var N=H-I;var Q=O-R;var L=J-K;var M=Math.sqrt(N*N+Q*Q);return{x:(I+H+N/M*L)/2,y:(R+O+Q/M*L)/2,r:(M+K+J)/2}};var u=function(ag,ae,ad){var ac=ag.x;var L=ag.y;var X=ag.r;var aa=ae.x;var K=ae.y;var V=ae.r;var Y=ad.x;var I=ad.y;var U=ad.r;var aj=2*(ac-aa);var N=2*(L-K);var T=2*(V-X);var ak=ac*ac+L*L-X*X-aa*aa-K*K+V*V;var ah=2*(ac-Y);var M=2*(L-I);var S=2*(U-X);var ai=ac*ac+L*L-X*X-Y*Y-I*I+U*U;var af=ah*N-aj*M;var Z=(N*ai-M*ak)/af-ac;var W=(M*T-N*S)/af;var J=(ah*ak-aj*ai)/af-L;var H=(aj*S-ah*T)/af;var R=W*W+H*H-1;var Q=2*(Z*W+J*H+X);var P=Z*Z+J*J-X*X;var O=(-Q-Math.sqrt(Q*Q-4*R*P))/(2*R);return{x:Z+W*O+ac,y:J+H*O+L,r:O}};var n=function(M,K,I){var H=M.x;var Q=M.y;var R=K.r+I.r;var P=M.r+I.r;var S=K.x-H;var O=K.y-Q;var N=S*S+O*O;if(N){var L=0.5+((P*=P)-(R*=R))/(2*N);var J=Math.sqrt(Math.max(0,2*R*(P+N)-(P-=N)*P-R*R))/(2*N);I.x=H+L*S+J*O;I.y=Q+L*O-J*S}else{I.x=H+P;I.y=Q}};var a=function(J,H){var K=H.x-J.x;var I=H.y-J.y;var L=J.r+H.r;return L*L-0.000001>K*K+I*I};var A=function(M,I,O){var K=M._;var H=M.next._;var N=K.r+H.r;var L=(K.x*H.r+H.x*K.r)/N-I;var J=(K.y*H.r+H.y*K.r)/N-O;return L*L+J*J};var i=function(H){this._=H;this.next=null;this.previous=null};var k=function(P){if(!(N=P.length)){return 0}var U,N,R,V,V,T;var X=P[0];X.x=0;X.y=0;if(!(N>1)){return X.r}var W=P[1];X.x=-W.r;W.x=X.r;W.y=0;if(!(N>2)){return X.r+W.r}n(W,X,U=P[2]);var Y=X.r*X.r;var L=W.r*W.r;var M=U.r*U.r;var Q=Y+L+M;var K=Y*X.x+L*W.x+M*U.x;var J=Y*X.y+L*W.y+M*U.y;var I,H,S,R,O,V,T;X=new i(X);W=new i(W);U=new i(U);X.next=U.previous=W;W.next=X.previous=U;U.next=W.previous=X;B:for(var S=3;S<N;++S){n(X._,W._,U=P[S]);U=new i(U);R=W.next;O=X.previous;V=W._.r;T=X._.r;do{if(V<=T){if(a(R._,U._)){W=R;X.next=W;W.previous=X;--S;continue B}V+=R._.r;R=R.next}else{if(a(O._,U._)){X=O;X.next=W;W.previous=X;--S;continue B}T+=O._.r;O=O.previous}}while(R!==O.next);U.previous=X;U.next=W;X.next=W.previous=W=U;Q+=M=U._.r*U._.r;K+=M*U._.x;J+=M*U._.y;Y=A(X,I=K/Q,H=J/Q);while((U=U.next)!==W){if((M=A(U,I,H))<Y){X=U;Y=M}}W=X.next}X=[W._];U=W;while((U=U.next)!==W){X.push(U._)}U=t(X);for(var S=0;S<N;++S){X=P[S];X.x-=U.x;X.y-=U.y}return U.r};var j=function(H){k(H);return H};var E=function(H){return H==null?null:p(H)};var p=function(H){if(typeof H!=="function"){throw new Error}return H};var z=function(){return 0};var f=function(H){return function(){return H}};var D=function(H){return Math.sqrt(H.value)};var E=function(H){return H==null?null:p(H)};var C=function(H){return function(I){if(!I.children){I.r=Math.max(0,+H(I)||0)}}};var c=function(I,H){return function(M){if(K=M.children){var K,J,O=K.length,L=I(M)*H||0,N;if(L){for(J=0;J<O;++J){K[J].r+=L}}N=k(K);if(L){for(J=0;J<O;++J){K[J].r-=L}}M.r=N+L}}};var b=function(H){return function(J){var I=J.parent;J.r*=H;if(I){J.x=I.x+H*J.x;J.y=I.y+H*J.y}}};var v=z;function B(H){H.x=s/2,H.y=q/2;if(e){H.eachBefore(C(e)).eachAfter(c(v,0.5)).eachBefore(b(1))}else{H.eachBefore(C(D)).eachAfter(c(z,1)).eachAfter(c(v,H.r/Math.min(s,q))).eachBefore(b(Math.min(s,q)/(2*H.r)))}return H}B.radius=function(H){return arguments.length?(e=E(H),B):e};B.size=function(H){return arguments.length?(s=+H[0],q=+H[1],B):[s,q]};B.padding=function(H){return arguments.length?(v=typeof H==="function"?H:f(+H),B):v};B.setPack=function(H){return m(H).sum(function(I){return I.size}).sort(function(J,I){return I.value-J.value})};return B};this.Jx=function(){var g=Math.max(this.top,this.right);var c=this.width-(this.right+this.left+this.marginLeft+this.marginRight);var k=this.height-(this.top+this.bottom+this.marginTop+this.marginBottom);var h=c>k?k:c;this.data.bubble.object=this.It().size([h,h]).padding(2);if(!this.data.bubble.root){this.data.bubble.root=this.It().setPack(this.data.bubble.data)}this.data.bubble.plot=this.data.bubble.object(this.data.bubble.root);this.data.bubble.plot.diameter=h;this.data.bubble.hierarchy=this.TU(this.hierarchy);if(this.bubbleDeleted){var e=this.data.bubble.root.descendants();for(var f=0;f<e.length;f++){var a=e[f];var j=a.depth+":"+(a.data.name||"foo");if(this.bubbleDeleted.hasOwnProperty(j)){a.label={x:this.bubbleDeleted[j].x,y:this.bubbleDeleted[j].y}}}delete this.bubbleDeleted}}};CanvasXpress.prototype.initTreeUtils=function(){this.bl=function(){var b=this;var l=function(y,x,w){var z=w/(x.i-y.i);x.c-=z;x.s+=w;y.c+=z;x.z+=w;x.m+=w};var f=function(z){var y=0;var C=0;var B=z.children;var A=B.length;var x;while(--A>=0){x=B[A];x.z+=y;x.m+=y;y+=x.s+(C+=x.c)}};var a=function(x,w,y){return x.a.parent===w.parent?x.a:y};var r=function(w){var x=w.children;return x?x[0]:w.t};var v=function(w){var x=w.children;return x?x[x.length-1]:w.t};var e=function(x,w){return x.parent===w.parent?1:2};var i=1;var g=1;var n=null;var h=function(z,x){if(z===x){return z}var y=z.ancestors();var w=x.ancestors();var A=null;z=y.pop();x=w.pop();while(z===x){A=z;z=y.pop();x=w.pop()}return A};var d=function(w){w.data=w.data.data};var j=function(x){var w=0;do{x.height=w}while((x=x.parent)&&(x.height<++w))};var c=function(C,y){var F=new u(C);var D=+C.value&&(F.value=C.value);var A;var w=[F];var x;var E;var B;var z;if(y==null){y=function(G){return G.children}}while(A=w.pop()){if(D){A.value=+A.data.value}if((E=y(A.data))&&(z=E.length)){A.children=new Array(z);for(B=z-1;B>=0;--B){w.push(x=A.children[B]=new u(E[B]));x.parent=A;x.depth=A.depth+1}}}return F.eachBefore(j)};var u=function(w){this.data=w;this.depth=0;this.height=0;this.parent=null;if(this.nid==null){this.id=b.treeNodeId++}};u.prototype=c.prototype={constructor:u,count:function(){return this.eachAfter(count)},each:function(C){var z=this;var A;var y=[z];var x,w,B;do{A=y.reverse();y=[];while(z=A.pop()){C(z);x=z.children;if(x){for(w=0,B=x.length;w<B;++w){y.push(x[w])}}}}while(y.length);return this},eachAfter:function(C){var A=this;var w=[A];var z=[];var y,x,B;while(A=w.pop()){z.push(A);y=A.children;if(y){for(x=0,B=y.length;x<B;++x){w.push(y[x])}}}while(A=z.pop()){C(A)}return this},eachBefore:function(A){var z=this;var w=[z];var y,x;while(z=w.pop()){A(z);y=z.children;if(y){for(x=y.length-1;x>=0;--x){w.push(y[x])}}}return this},sum:function(w){return this.eachAfter(function(A){var z=+w(A.data)||0;var y=A.children;var x=y&&y.length;while(--x>=0){z+=y[x].value}A.value=z})},sort:function(w){return this.eachBefore(function(x){if(x.children){x.children.sort(w)}})},path:function(w){var A=this;var z=h(A,w);var y=[A];while(A!==z){A=A.parent;y.push(A)}var x=y.length;while(w!==z){y.splice(x,0,w);w=w.parent}return y},ancestors:function(){var x=this;var w=[x];while(x=x.parent){w.push(x)}return w},descendants:function(){var w=[];this.each(function(x){w.push(x)});return w},leaves:function(){var w=[];this.eachBefore(function(x){if(!x.children){w.push(x)}});return w},links:function(){var w=this;var x=[];w.each(function(y){if(y!==w){x.push({source:y.parent,target:y})}});return x},copy:function(){return c(this).eachBefore(d)}};var p=function(x,w){this._=x;this.parent=null;this.children=null;this.A=null;this.a=this;this.z=0;this.m=0;this.c=0;this.s=0;this.t=null;this.i=w};p.prototype=Object.create(u.prototype);var q=function(x){var w=new p(x,0);var B;var y=[w];var D;var A;var z;var C;while(B=y.pop()){if(A=B._.children){B.children=new Array(C=A.length);for(z=C-1;z>=0;--z){y.push(D=B.children[z]=new p(A[z],z));D.parent=B}}}(w.parent=new p(null,0)).children=[w];return w};function k(B){var D=q(B);D.eachAfter(t),D.parent.m=-D.z;D.eachBefore(o);if(n){B.eachBefore(s)}else{var x=B;var C=B;var w=B;B.eachBefore(function(F){if(F.x<x.x){x=F}if(F.x>C.x){C=F}if(F.depth>w.depth){w=F}});var E=x===C?1:e(x,C)/2;var y=E-x.x;var A=i/(C.x+E+y);var z=g/(w.depth||1);B.eachBefore(function(F){F.x=(F.x+y)*A;F.y=F.depth*z})}return B}function t(y){var A=y.children;var B=y.parent.children;var x=y.i?B[y.i-1]:null;if(A){f(y);var z=(A[0].z+A[A.length-1].z)/2;if(x){y.z=x.z+e(y._,x._);y.m=y.z-z}else{y.z=z}}else{if(x){y.z=x.z+e(y._,x._)}}y.parent.A=m(y,x,y.parent.A||B[0])}function o(w){w._.x=w.z+w.parent.m;w.m+=w.parent.m}function m(I,H,C){if(H){var z=I;var y=I;var B=H;var A=z.parent.children[0];var E=z.m;var D=y.m;var G=B.m;var F=A.m;var x;while(B=v(B),z=r(z),B&&z){A=r(A);y=v(y);y.a=I;x=B.z+G-z.z-E+e(B._,z._);if(x>0){l(a(B,I,C),I,x);E+=x;D+=x}G+=B.m;E+=z.m;F+=A.m;D+=y.m}if(B&&!v(y)){y.t=B;y.m+=G-D}if(z&&!r(A)){A.t=z;A.m+=E-F;C=I}}return C}function s(w){w.x*=i;w.y=w.depth*g}k.separation=function(w){return arguments.length?(e=w,k):e};k.size=function(w){return arguments.length?(n=false,i=+w[0],g=+w[1],k):(n?null:[i,g])};k.nodeSize=function(w){return arguments.length?(n=true,i=+w[0],g=+w[1],k):(n?[i,g]:null)};k.setTree=function(x,w){return c(x,w)};k.collapse=function(w){k.collapseTree(w);k.update(w)};k.expand=function(w){k.expandTree(w);k.update(w)};k.collapseTree=function(w){if(w.children){w._children=w.children;w._children.forEach(k.collapseTree);w.children=null}};k.expandTree=function(w){if(w._children){w.children=w._children;w.children.forEach(k.expandTree);delete w._children}};return k};this.EX=function(){var f=[];var g=this.isDOE?this.margin*6:0;var a=(this.treeNodeSize*this.treeBracketLengthFactor)*1.33;if(this.treeType=="circular"){f=this.x>this.y?[360,this.y/2]:[360,this.x/2]}else{f=[this.Qc()?this.x-g:this.y,this.Qc()?this.y:this.x-g];if(this.treeType=="bracket"){f[1]+=a}}var c=function(h,d){return(h.parent==d.parent?1:2)/h.depth};var e=function(h,d){return h.parent==d.parent?1:2};var b=this.treeType=="circular"?c:e;this.data.tree.object=this.treeType=="circular"?this.bl().size(f).separation(b):this.bl().size(f);if(!this.data.tree.root){this.data.tree.root=this.bl().setTree(this.data.tree.data,function(h){return h.children})}this.data.tree.plot=this.data.tree.object(this.data.tree.root);this.data.tree.plot.size=f;this.data.tree.hierarchy=this.TU(this.hierarchy)}};CanvasXpress.prototype.initNetworkUtils=function(){this.M7=function(a){var d=this;if(!this.colaConnector){var f={trigger:function(g){switch(g.type){case"0":break;case"1":break}this.updateNodePositions()},kick:function(){this.resume()},on:function(h,g){if(!g.iteration){g.iteration=0}var i=setInterval(function(){if(g.colaConnector._alpha<g.colaConnector._threshold||g.iteration>=g.maxIterations){g.colaConnector.stop();for(var j=0;j<g.data.nodes.length;j++){delete g.data.nodes[j].bounds;delete g.data.nodes[j].variable;delete g.data.nodes[j].parent}g.nE("colaLayout");g.hT();clearInterval(i)}else{g.iteration++;g.Rf();g.Ug("Optimizing ...",g.iteration/g.maxIterations);g.colaConnector.tick()}},30)}};if(this.is3DNetwork){this.colaConnector=new this.cola.Layout3D(this.data.nodes,this.data.edges,4)}else{this.colaConnector=new this.cola.adaptor(f).defaultNodeSize(this.nodeSize).linkDistance(this.networkColaLinkDistance).handleDisconnected(this.networkColaHandleDisconnected).avoidOverlaps(this.networkColaAvoidOverlaps).size([this.x,this.y])}}if(this.is3DNetwork){this.colaConnector.start(this.networkColaStartUnconstrainedIterations,this.networkColaUserConstraintIterations,this.networkColaAllConstraintsIterations,this.networkColaGridSnapIterations,this.networkColaKeepRunning,this.networkColaCenterGraph);this.calculateLayout=false;if(!this.iteration){this.iteration=0}var e=Number.POSITIVE_INFINITY;var c=false;var b=setInterval(function(){var h=c?0:d.colaConnector.tick();if(h!=0&&Math.abs(Math.abs(e/h)-1)>1e-7&&d.iteration<d.maxIterations){e=h;for(var g=0;g<d.data.nodes.length;g++){d.data.nodes[g].x=d.colaConnector.result[0][g];d.data.nodes[g].y=d.colaConnector.result[1][g];d.data.nodes[g].z=d.colaConnector.result[2][g]}d.iteration++;d.Rf();d.Ug("Optimizing ...",d.iteration/d.maxIterations)}else{d.nE("colaLayout");d.hT();clearInterval(b)}},30)}else{this.colaConnector.nodes(this.data.nodes).links(this.data.edges);if(this.data.constraints){this.colaConnector.constraints(this.data.constraints)}if(this.data.groups){this.colaConnector.groups(this.data.groups)}if(this.networkColaJaccardLinkLengths){this.colaConnector.jaccardLinkLengths(this.networkColaJaccardLinkLengths,this.networkColaJaccardLinkLengthDefault)}if(this.networkColaFlowLayoutAxis){this.colaConnector.flowLayout(this.networkColaFlowLayoutAxis,this.networkColaFlowLayoutSeparation)}this.colaConnector.start(this.networkColaStartUnconstrainedIterations,this.networkColaUserConstraintIterations,this.networkColaAllConstraintsIterations,this.networkColaGridSnapIterations,this.networkColaKeepRunning,this.networkColaCenterGraph);this.calculateLayout=false;this.colaConnector.on("tick",this)}};this.gn=function(c,f){var e=this;if(c.length>0){var b,g,d;if(f){}else{b=this.x/2;g=this.y/2;d=Math.max(this.x,this.y)}this.GJ(c,b,g,d);var a=function(){if(e.iteration<=15){e.h7(c);e.Rf(false);e.Ug("Optimizing ...",e.iteration/15);e.Pn(a)}else{e.nE("circularLayout")}};a()}};this.GJ=function(b,g,f,a){if(this.sizeNodeBy){var j=0;for(var d=0;d<b.length;d++){var c=b[d];if(!c.hide){j+=(this.nodeSize*this.NO(c,false,"sizeNodeBy")*2)+this.nodeSize}}var e=2*Math.PI/j;var h=0;for(var d=0;d<b.length;d++){var c=b[d];var j=(this.nodeSize*this.NO(c,false,"sizeNodeBy")*2)+this.nodeSize;if(!c.hide){h+=e*j*0.5;c.layout.lastPosition.x=g+a+a*Math.sin(h);c.layout.lastPosition.y=f+a+a*Math.cos(h);c.layout.lastPosition.r=this.networkRadialRadius;c.layout.lastPosition.a=h*180/Math.PI;c.radius=this.networkRadialRadius;c.angle=h*180/Math.PI;h+=e*j*0.5}}}else{var e=2*Math.PI/b.length;for(var d=0;d<b.length;d++){var c=b[d];if(!c.hide){c.layout.lastPosition.x=g+a+a*Math.sin(d*e);c.layout.lastPosition.y=f+a+a*Math.cos(d*e);c.layout.lastPosition.r=this.networkRadialRadius;c.layout.lastPosition.a=d*e*180/Math.PI;c.radius=this.networkRadialRadius;c.angle=d*e*180/Math.PI}}}};this.h7=function(d){var k=Math.atan((this.iteration++/15)*10-5)*0.5/Math.atan(5)+0.5;for(var e=0;e<d.length;e++){var h=d[e].layout;var g=h.lastPosition;var b=g.a*k;var f=g.r*k;var j=this.G7(this.networkXCenter,this.networkYCenter,f,b);h.position.x=j.x;h.position.y=j.y}this.M5(d)};this.HK=function(a,d){var c=this;if(a&&a.length){this.Qe(d);this.ep(a);var b=function(){if(c.iteration<15){c.xI(a);c.Rf(false);c.Ug("Optimizing ...",c.iteration/15);c.Pn(b)}else{c.nE("radialLayout")}};b()}};this.Pe=function(d){var b=this.data.nodeIndices[d];var c=0;for(var a=b;a<this.data.nodes.length;a++){this.data.nodes[a].layout.order=c++}for(var a=0;a<b;a++){this.data.nodes[a].layout.order=c++}};this.xI=function(d){var f=Math.atan((this.iteration++/15)*10-5)*0.5/Math.atan(5)+0.5;var e=1-f;for(var h=0;h<d.length;h++){var g=d[h].layout;var l=g.lastPosition;var k=((e*g.angle)+(f*l.a));var b=((e*g.radius)+(f*l.r));var j=this.G7(this.networkXCenter,this.networkYCenter,b,k);d[h].layout.position.x=j.x;d[h].layout.position.y=j.y}this.M5(d)};this.ep=function(a){for(var b=0;b<a.length;b++){var e=a[b].layout;var c=e.lastPosition;if(c.r==0){e.angle=c.a}if(c.r==0){c.a=e.angle}var f=(c.a-e.angle);if(f<0){f+=360}if(f>360){f-=360}if(f>180){f-=360}c.a=e.angle+f}};this.Qe=function(g,d){var p=this;var t=0;var s=[];var o=this.data.nodes[this.data.nodeIndices[g]];var h=o.layout;if(h.hierarchy!="done"){if(!o.hide&&!o.hiddenParent){if(h.children.length>1&&!d){this.Pe(g);h.children.sort(function(i,c){var n=p.data.nodes[p.data.nodeIndices[i]].layout;var l=p.data.nodes[p.data.nodeIndices[c]].layout;return n.order-l.order});for(var k=0;k<h.children.length;k++){var e=h.children[k];var u=this.data.nodes[this.data.nodeIndices[e]].layout;if(u.level>h.level){this.Qe(e);s.push(u.angle)}}if(s.length>0){var f=s.length-1;if(s.length==1){t=s[0]}else{if(s[0]>s[f]){t=((s[0]+s[f])%360)/2}else{t=(s[0]+s[f])/2}}}else{this.Qe(g,true)}}else{t=this.networkCurrentAngle;this.networkCurrentAngle=(this.networkCurrentAngle+this.networkAngleStep)}var j=(this.networkDepth-1)-h.level;var q=this.G7(this.networkXCenter,this.networkYCenter,this.networkRadialRadius,t);var v=this.mm(this.networkXCenter,this.networkYCenter,q.x,q.y,0,this.networkLevelSize*j,"line");var b=this.Cj(this.networkXCenter,this.networkYCenter,v[2],v[3]);if(h.level==0){t=0;b=0}h.lastPosition.x=v[2];h.lastPosition.y=v[3];h.lastPosition.r=b;h.lastPosition.a=t%360;h.hierarchy="done";h.angle=t}}};this.Z4=function(b,a){var d=this;var e=2;this.meta.layout={};if(b&&b.length){var c=function(){d.optimizingLayout=true;if(d.subNetworks&&d.networkDisjoint){var h=d.cv(b);d.meta.layout[d.iteration]=h;if(h<d.networkConvergenceThreshold||d.iteration>=d.maxIterations){d.optimizingLayout=false;d.nE("forceDirectedLayout")}else{d.iteration++;if(d.iteration%e==0){d.Rf(false);d.Ug("Optimizing ...",d.iteration/d.maxIterations)}d.Pn(c)}}else{var f=d.cu(b,a);var g=f/b.length;d.meta.layout[d.iteration]=g;if(g<d.networkConvergenceThreshold||d.iteration>d.maxIterations){d.optimizingLayout=false;d.nE("forceDirectedLayout")}else{d.iteration++;if(d.iteration%e==0){d.Rf(false);d.Ug("Optimizing ...",d.iteration/d.maxIterations)}d.Pn(c)}}};c()}};this.cv=function(u){var d=1;var C=0.001;var D=1-Math.pow(C,1/300);var h=0;var b=0.6;var v=(Math.random()-0.5)*0.000001;if(!this.networkAlphaDisjoint){this.networkAlphaDisjoint=d}d=this.networkAlphaDisjoint;d+=(h-d)*D;var B=this.data.edges.length;for(var z=0;z<1;++z){for(var A=0;A<B;++A){var f=this.data.edges[A];var c=f.layout.subnetworks;var o=this.nodes[f.id1].layout.subnetworks;var j=this.nodes[f.id2].layout.subnetworks;var q=j.x+j.vx-o.x-o.vx||v;var p=j.y+j.vy-o.y-o.vy||v;var w=Math.sqrt(q*q+p*p);w=(w-c.dist)/w*d*c.strn;q*=w;p*=w;j.vx-=q*c.bias;j.vy-=p*c.bias;o.vx+=q*(1-c.bias);o.vy+=p*(1-c.bias)}}var a=this.Le();a(d);var t=this.data.nodes.length;for(var A=0;A<t;++A){var g=this.data.nodes[A].layout.subnetworks;g.vx+=-g.x*g.strX*d;g.vy+=-g.y*g.strY*d}var s=0;var r=0;for(var A=0;A<t;++A){var g=this.data.nodes[A].layout.subnetworks;s+=g.x;r+=g.y}for(s=s/t-(this.x*0.5),r=r/t-(this.y*0.5),A=0;A<t;++A){var g=this.data.nodes[A].layout.subnetworks;g.x-=s;g.y-=r}for(var A=0;A<t;++A){var g=this.data.nodes[A].layout.subnetworks;if(g.fx==null){g.x+=g.vx*=b}else{g.x=g.fx;g.vx=0}if(g.fy==null){g.y+=g.vy*=b}else{g.y=g.fy;g.vy=0}}this.networkAlphaDisjoint=d;this.MF(u);return d};this.MF=function(a){var b=this.data.nodes.length;if(b){while(b--){var c=this.data.nodes[b];if(!c.fixed&&this.iteration%2){c.layout.position.x=c.layout.subnetworks.x;c.layout.position.y=c.layout.subnetworks.y}}}this.M5(this.data.nodes)};this.cu=function(b,a){if(this.useBarnesHutSimulation||a){this.a1();return this.WU(b)}else{this.Yx(b);return this.HG(b)}};this.HG=function(a){var d=this.DH(a);var b=a.length;if(b){while(b--){var c=a[b];if(!c.fixed&&this.iteration%2){c.layout.prevPosition.x=c.layout.position.x;c.layout.prevPosition.y=c.layout.position.y}}}this.M5(a);return d*a.length};this.Yx=function(d){var b={};var h=[];var g=d.length;for(var j=0;j<g;j++){var f=d[j];for(var o=0;o<f.layout.edges.length;o++){var k=f.layout.edges[o];var n=k.id1+":"+k.id2;if(!b.hasOwnProperty(n)){h.push(k);b[n]=true}}if(!f.fixed&&!this.iteration){f.layout.displacement={x:f.x,y:f.y,z:f.z};f.layout.force={x:0,y:0,z:0}}}this.lE(d);this.TQ(d,h);this.pM(d)};this.lE=function(b){var v=this;var f=b.length;var g=Math.sqrt((f*f)/f+1);var r=function(i){switch(v.repulsiveForceFunction){case"FruchtermanReingold":case"square":return(g*g)/i;case"cubic":return(g*g*g)/i;case"Eades":case"log":return g/Math.log(i);case"pow":return g*Math.pow(2,i);case"sqrt":return g/Math.sqrt(i)}};for(var n=0;n<f;n++){var e=b[n];var c=e.layout.displacement;var q=e.layout.force;if(!e.fixed){for(var h=0;h<f;h++){if(n!=h){var d=b[h];var a=d.layout.displacement;var w=c.x-a.x;var u=c.y-a.y;var s=c.z-a.z;var p=Math.sqrt((w*w)+(u*u)+(s*s))+0.01;var o=r(p);q.x+=w/p*o;q.y+=u/p*o;q.z+=s/p*o}}}}};this.TQ=function(h,a){var f=this;var o=h.length;var r=Math.sqrt((o*o)/o+1);var w=function(i){switch(f.attractiveForceFunction){case"FruchtermanReingold":case"square":return(i*i)/r;case"cubic":return(i*i*i)/r;case"Eades":case"log":return i*Math.log(m);case"pow":return i*Math.pow(2,r);case"sqrt":return i/Math.sqrt(r)}};var o=a.length;for(var u=0;u<o;u++){var b=a[u];var s=this.nodes[b.id1];var p=this.nodes[b.id2];var q=s.layout.displacement;var n=p.layout.displacement;var x=s.layout.force;var v=p.layout.force;var e=q.x-n.x;var d=q.y-n.y;var c=q.z-n.z;var g=Math.sqrt((e*e)+(d*d)+(c*c))+0.01;var j=w(g);if(!s.fixed){x.x-=e/g*j;x.y-=d/g*j;x.z-=c/g*j}if(!p.fixed){v.x+=e/g*j;v.y+=d/g*j;v.z+=c/g*j}}};this.pM=function(b){var r=this;var e=b.length;var d=Math.sqrt(e*e)/10;var f=Math.sqrt((e*e)/e+1);for(var g=0;g<e;g++){var o=b[g].layout.displacement;var h=b[g].layout.force;var j=Math.sqrt((o.x*o.x)+(o.y*o.y)+(o.z*o.z));var a=f*this.networkGravity*j*0.01;h.x-=a*o.x/j;h.y-=a*o.y/j;h.z-=a*o.z/j;h.x*=this.networkSpeed;h.y*=this.networkSpeed;h.z*=this.networkSpeed;if(!b[g].fixed){var s=h.x;var q=h.y;var p=h.z;var j=Math.sqrt((s*s)+(q*q)+(p*p));if(j>0){var n=Math.min(d*this.networkSpeed,j);o.x+=s/j*n;o.y+=q/j*n;o.z+=p/j*n}}}for(var g=0;g<e;g++){var c=b[g];var o=b[g].layout.displacement;c.layout.position={x:o.x,y:o.y,z:o.z}}};this.a1=function(){var c=this.data.nodes;var b=this.data.edges;var d=c.length;if(d){var a=this.ju(c);while(d--){var e=c[d];if(!e.fixed){e.layout.force={x:0,y:0,z:0};this.M8(e,a);this.Ua(e)}}}d=b.length;while(d--){this.q8(b[d])}this.M5(c)};this.dD=function(){this.barnesHutNodesCache[this.barnesHutNodesCacheCurrent]={body:null,quad0:null,quad1:null,quad2:null,quad3:null,quad4:null,quad5:null,quad6:null,quad7:null,mass:0,massX:0,massY:0,left:0,top:0,bottom:0,right:0,back:0,front:0};var a=this.barnesHutNodesCache[this.barnesHutNodesCacheCurrent];++this.barnesHutNodesCacheCurrent;return a};this.ju=function(e,p){var d=this;var a=function(X){var T=function(y,x){if(x===0){return y.quad0}if(x===1){return y.quad1}if(x===2){return y.quad2}if(x===3){return y.quad3}return null};var S=function(y,x,z){if(x===0){y.quad0=z}else{if(x===1){y.quad1=z}else{if(x===2){y.quad2=z}else{if(x===3){y.quad3=z}}}}};var W=function(aa,Z){var z=Math.abs(aa.x-Z.x);var y=Math.abs(aa.y-Z.y);var x=Math.abs(aa.z-Z.z);return(z<1e-8&&y<1e-8&&x<1e-8)};var Y={stack:[],popIdx:0,isEmpty:function(){return this.popIdx===0},push:function(y,x){this.stack[this.popIdx]={node:y,body:x};++this.popIdx},pop:function(){if(this.popIdx>0){return this.stack[--this.popIdx]}},reset:function(){this.popIdx=0}};Y.reset();Y.push(p,X);while(!Y.isEmpty()){var A=Y.pop();var Q=A.node;var M=A.body;if(!Q.body){var J=M.layout.position.x;var H=M.layout.position.y;var G=M.layout.position.z;Q.mass=Q.mass+M.layout.mass;Q.massX=Q.massX+M.layout.mass*J;Q.massY=Q.massY+M.layout.mass*H;Q.massZ=Q.massZ+M.layout.mass*G;var w=0;var B=Q.left;var V=(Q.right+B)/2;var O=Q.top;var F=(Q.bottom+O)/2;var P=Q.back;var E=(Q.front-P)/2;if(d.is3DNetwork){if(J>V){w=w+1;var R=B;B=V;V=V+(V-R)}if(H>F){w=w+2;var i=O;O=F;F=F+(F-i)}if(G>E){w=w+4;var v=P;P=E;E=P+(P-v)}}else{if(J>V){w=w+1;B=V;V=Q.right}if(H>F){w=w+2;O=F;F=Q.bottom}}var D=T(Q,w);if(!D){D=d.dD();D.left=B;D.top=O;D.right=V;D.bottom=F;D.back=P;D.front=E;D.body=M;S(Q,w,D)}else{Y.push(D,M)}}else{var L=Q.body;Q.body=null;if(W(L.layout.position,M.layout.position)){var U=3;while(U>0&&W(L.layout.position,M.layout.position)){var C=d.DI();var N=(Q.right-Q.left)*C;var K=(Q.bottom-Q.top)*C;var I=(Q.front-Q.back)*C;L.layout.position.x=Q.left+N;L.layout.position.y=Q.top+K;L.layout.position.z=Q.back+I;U-=1}if(U===0&&W(L.layout.position,M.layout.position)){return}}Y.push(Q,L);Y.push(Q,M)}}};var u=Number.MAX_VALUE;var c=Number.MAX_VALUE;var o=Number.MAX_VALUE;var t=Number.MIN_VALUE;var b=Number.MIN_VALUE;var l=Number.MIN_VALUE;var r=e.length;var s=r;while(s--){var j=e[s].layout.position.x;var g=e[s].layout.position.y;var f=e[s].layout.position.y;if(j<u){u=j}if(j>t){t=j}if(g<c){c=g}if(g>b){b=g}if(f<o){o=f}if(f>l){l=f}}var n=t-u;var k=b-c;var h=l-o;var q=Math.max(n,Math.max(k,h));if(this.is3DNetwork){t=u+q;b=c+q;l=o+q}else{if(n>k){b=c+n}else{t=u+k}}this.barnesHutNodesCacheCurrent=0;p=this.dD();p.left=u;p.right=t;p.top=c;p.bottom=b;p.back=o;p.from=l;s=r-1;if(s>=0){p.body=e[s]}while(s--){a(e[s],p)}return p};this.M8=function(p,t){var u=this.barnesHutUpdateQueue;var l;var k;var j;var h;var o;var f=0;var d=0;var c=0;var x=p.layout;var q=1;var e=0;var n=1;var a=this.networkRepulsion;var A=this.networkTheta;var y=this.is3DNetwork;u[0]=t;while(q){var s=u[e];var i=s.body;var b=i?i.layout:false;var z=b?b.position:false;var w=x.position;q-=1;e+=1;var g=i!==p;if(i&&g){k=z.x-w.x;j=z.y-w.y;h=y?z.z-w.z:0;o=Math.sqrt(k*k+j*j+h*h);if(o===0){k=(this.DI()-0.5)/50;j=(this.DI()-0.5)/50;h=y?(this.DI()-0.5)/50:0;o=Math.sqrt(k*k+j*j+h*h)}l=a*b.mass*x.mass/(o*o*o);f+=l*k;d+=l*j;c+=l*h}else{if(g){k=s.massX/s.mass-w.x;j=s.massY/s.mass-w.y;h=y?s.massZ/s.mass-w.z:0;o=Math.sqrt(k*k+j*j+h*h);if(o===0){k=(this.DI()-0.5)/50;j=(this.DI()-0.5)/50;h=(this.DI()-0.5)/50;o=Math.sqrt(k*k+j*j+h*h)}if((s.right-s.left)/o<A){l=a*s.mass*x.mass/(o*o*o);f+=l*k;d+=l*j;c+=l*h}else{if(s.quad0){u[n]=s.quad0;q+=1;n+=1}if(s.quad1){u[n]=s.quad1;q+=1;n+=1}if(s.quad2){u[n]=s.quad2;q+=1;n+=1}if(s.quad3){u[n]=s.quad3;q+=1;n+=1}if(y){if(s.quad4){u[n]=s.quad4;q+=1;n+=1}if(s.quad5){u[n]=s.quad5;q+=1;n+=1}if(s.quad6){u[n]=s.quad6;q+=1;n+=1}if(s.quad7){u[n]=s.quad7;q+=1;n+=1}}}}}}x.force.x+=f;x.force.y+=d;x.force.z+=c};this.M5=function(a){var b=a.length;while(b--){a[b].x=a[b].layout.position.x;a[b].y=a[b].layout.position.y;a[b].z=a[b].layout.position.z}};this.q8=function(b){var h=this.data.nodes[this.data.nodeIndices[b.id1]];var g=this.data.nodes[this.data.nodeIndices[b.id2]];var c=b.layout.length<0?this.networkSpringLength:b.layout.length;var j=g.layout.position.x-h.layout.position.x;var i=g.layout.position.y-h.layout.position.y;var a=Math.sqrt(j*j+i*i);if(a===0){j=(this.DI()-0.5)/50;i=(this.DI()-0.5)/50;a=Math.sqrt(j*j+i*i)}var f=a-c;var e=((!b.layout.coeff||b.layout.coeff<0)?this.networkSpringCoeff:b.layout.coeff)*f/a*b.layout.weight;h.layout.force.x+=e*j;h.layout.force.y+=e*i;g.layout.force.x-=e*j;g.layout.force.y-=e*i};this.WU=function(a){var n=0;var e=0;var l=0;var c=0;var j=a.length;if(j===0){return 0}for(var d=0;d<j;++d){var b=a[d];var f=this.networkTimeStep/b.layout.mass;b.layout.velocity.x+=f*b.layout.force.x;b.layout.velocity.y+=f*b.layout.force.y;var h=b.layout.velocity.x;var g=b.layout.velocity.y;var k=Math.sqrt(h*h+g*g);if(k>1){b.layout.velocity.x=h/k;b.layout.velocity.y=g/k}n=this.networkTimeStep*b.layout.velocity.x;l=this.networkTimeStep*b.layout.velocity.y;b.layout.position.x+=n;b.layout.position.y+=l;e+=Math.abs(n);c+=Math.abs(l)}return(e*e+c*c)/j};this.Ua=function(a){a.layout.force.x-=this.networkDragCoeff*a.layout.velocity.x;a.layout.force.y-=this.networkDragCoeff*a.layout.velocity.y};this.DH=function(c){var d=c.length;var b=0;var a=0;while(d--){var f=c[d];var g=f.layout.position;var e=f.layout.prevPosition;b+=Math.abs(g.x-e.x);a+=Math.abs(g.y-e.y)}return Math.sqrt(b*b+a*a)/c.length};this.Mw=function(c,f){var k=this;var j=[];var g=[];var d={};var l={};var o={};var n={};var a={};var b=function(u){var y=function(s,i){if(l[i]===-1){l[i]=l[s]+1;j.push(i)}if(l[i]===l[s]+1){o[i]+=o[s];d[i].push(s)}};var w=function(A){var z=k.nodes[A].layout.edges;for(var B=0;B<z.length;B++){var C=z[B];var s=C.id1;if(A==s){if(y(A,s)){return true}}}};var t=function(A){var z=k.nodes[A].layout.edges;for(var B=0;B<z.length;B++){var C=z[B];var s=C.id1==A?C.id2:C.id1;if(y(A,s)){return true}}};var x=function(i){if(f){return w(i)}else{return t(i)}};for(var r=0;r<c.length;r++){d[c[r].id]=[];l[c[r].id]=-1;o[c[r].id]=0}l[u]=0;o[u]=1;j.push(u);while(j.length){var q=j.shift();g.push(q);x(q)}};var p=function(){for(var u=0;u<c.length;u++){n[c[u].id]=0}while(g.length){var q=g.pop();var s=(1+n[q])/o[q];var t=d[q];for(var u=0;u<t.length;++u){var r=t[u];n[r]+=o[r]*s}if(q!==e.id){a[q]+=n[q]}}};for(var h=0;h<c.length;h++){var e=c[h].layout;if(!e.metrics){e.metrics={betweenness:-1,closeness:-1,degree:-1,eccentricity:-1};e.edges=this.Hf(this.data.edges,c[h].id)}a[c[h].id]=0}for(var h=0;h<c.length;h++){var e=c[h];b(e.id);p()}for(var h=0;h<c.length;h++){var e=c[h].layout;e.metrics.betweenness=f?a[c[h].id]:a[c[h].id]/2}};this.pk=function(b,e){var j=this;var h=[];var k={};var f={};var c;var a=function(q){var u=function(s,i){if(k[i]===-1){k[i]=k[s]+1;h.push(i)}};var r=function(x){var w=j.nodes[x].layout.edges;for(var y=0;y<w.length;y++){var z=w[y];var s=z.id1;if(x==s){if(u(x,s)){return true}}}};var p=function(x){var w=j.nodes[x].layout.edges;for(var y=0;y<w.length;y++){var z=w[y];var s=z.id1==x?z.id2:z.id1;if(u(x,s)){return true}}};var t=function(i){if(e){return r(i)}else{return p(i)}};for(var o=0;o<b.length;o++){k[b[o].id]=-1}k[q]=0;h.push(q);while(h.length){var n=h.shift();t(n)}};var l=function(){var n=Object.keys(k).map(function(p){return k[p]}).filter(function(p){return p!==-1});var o=n.length;var i=n.reduce(function(q,p){return q+p});if(i>0){f[c]=(o-1)/i}else{f[c]=0}};for(var g=0;g<b.length;g++){var d=b[g].layout;if(!d.metrics){d.metrics={betweenness:-1,closeness:-1,degree:-1,eccentricity:-1};d.edges=this.Hf(this.data.edges,b[g].id)}f[b[g].id]=0}for(var g=0;g<b.length;g++){var d=b[g];c=b[g].id;a(d.id);l()}for(var g=0;g<b.length;g++){var d=b[g].layout;d.metrics.closeness=f[b[g].id]}};this.bL=function(b,f){var j=this;var h=[];var k={};var c={};var d;var a=function(q){var u=function(s,i){if(k[i]===-1){k[i]=k[s]+1;h.push(i)}};var r=function(x){var w=j.nodes[x].layout.edges;for(var y=0;y<w.length;y++){var z=w[y];var s=z.id1;if(x==s){if(u(x,s)){return true}}}};var p=function(x){var w=j.nodes[x].layout.edges;for(var y=0;y<w.length;y++){var z=w[y];var s=z.id1==x?z.id2:z.id1;if(u(x,s)){return true}}};var t=function(i){if(f){return r(i)}else{return p(i)}};for(var o=0;o<b.length;o++){k[b[o].id]=-1}k[q]=0;h.push(q);while(h.length){var n=h.shift();t(n)}};var l=function(){var i=0;Object.keys(k).forEach(function(n){var o=k[n];if(i<o){i=o}});c[d]=i};for(var g=0;g<b.length;g++){var e=b[g].layout;if(!e.metrics){e.metrics={betweenness:-1,closeness:-1,degree:-1,eccentricity:-1};e.edges=this.Hf(this.data.edges,b[g].id)}c[b[g].id]=0}for(var g=0;g<b.length;g++){var e=b[g];d=b[g].id;a(e.id);l()}for(var g=0;g<b.length;g++){var e=b[g].layout;e.metrics.eccentricity=c[b[g].id]}};this.Ia=function(b,d){for(var c=0;c<b.length;c++){var f=b[c].layout;var a=f.edges||this.Hf(this.data.edges,b[c].id);var e=0;switch(d){case"in":for(var c=0;c<a.length;c++){e+=(a[c].id1==b[c].id)?1:0}break;case"out":for(var c=0;c<a.length;c++){e+=(a[c].id2==b[c].id)?1:0}break;default:e=a.length}f.metrics.degree=e}};this.gH=function(){for(var a=0;a<this.data.nodes.length;a++){var b=this.data.nodes[a];if(b.layout){b.betweenness=b.layout.metrics.betweenness;b.closeness=b.layout.metrics.closeness;b.degree=b.layout.metrics.degree;b.eccentricity=b.layout.metrics.eccentricity}}};this.nw=function(p,g,x,c,v,a){var z=Number.MAX_VALUE;var d=Number.MAX_VALUE;var y=Number.MIN_VALUE;var b=Number.MIN_VALUE;var u,t,s,r;var w=p.length;if(w===0){return}while(w--){var q=p[w];if(!q.hide){if(q.fixed){q.layout.position.x=q.layout.prevPosition.x;q.layout.position.y=q.layout.prevPosition.y}else{q.layout.prevPosition.x=q.layout.position.x;q.layout.prevPosition.y=q.layout.position.y}if(q.layout.position.x<z){z=q.layout.position.x;u=q}if(q.layout.position.x>y){y=q.layout.position.x;t=q}if(q.layout.position.y<d){d=q.layout.position.y;s=q}if(q.layout.position.y>b){b=q.layout.position.y;r=q}}}g.x1=z;g.x2=y;g.y1=d;g.y2=b;return;var B=u.width?u.width:u.size?(this.nodeSize*u.size*this.scaleFactorX):this.nodeSize*this.scaleFactorX;var A=t.width?t.width:t.size?(this.nodeSize*t.size*this.scaleFactorX):this.nodeSize*this.scaleFactorX;var f=s.height?s.height:s.size?(this.nodeSize*s.size*this.scaleFactorY):this.nodeSize*this.scaleFactorY;var e=r.height?r.height:r.size?(this.nodeSize*r.size*this.scaleFactorY):this.nodeSize*this.scaleFactorY;if(!x){x=this.left}if(!v){v=this.left+this.x}if(!c){c=this.top}if(!a){a=this.top+this.y}B=z-(B/2);A=y+(A/2);f=d-(f/2);e=b+(e/2);var j=v-x;var h=a-c;var l=A-B;var k=e-f;var o=j/l;var n=h/k;var w=p.length;while(w--){var q=p[w];if(!q.hide){q.layout.position.x=(q.layout.position.x-B)*o;q.layout.position.y=(q.layout.position.y-f)*n}if(q.fixed){q.layout.position.x=q.layout.prevPosition.x;q.layout.position.y=q.layout.prevPosition.y}else{q.layout.prevPosition.x=q.layout.position.x;q.layout.prevPosition.y=q.layout.position.y}}g.x1=x;g.x2=v;g.y1=c;g.y2=a};this.Bw=function(t,l,k){function n(D){var C=+this._x.call(null,D),E=+this._y.call(null,D);return q(this.cover(C,E),C,E,D)}function q(K,H,G,S){if(isNaN(H)||isNaN(G)){return K}var F,L=K._root,O={data:S},R=K._x0,D=K._y0,P=K._x1,C=K._y1,J,T,I,Q,U,E,N,M;if(!L){return K._root=O,K}while(L.length){if(U=H>=(J=(R+P)/2)){R=J}else{P=J}if(E=G>=(T=(D+C)/2)){D=T}else{C=T}if(F=L,!(L=L[N=E<<1|U])){return F[N]=O,K}}I=+K._x.call(null,L.data);Q=+K._y.call(null,L.data);if(H===I&&G===Q){return O.next=L,F?F[N]=O:K._root=O,K}do{F=F?F[N]=new Array(4):K._root=new Array(4);if(U=H>=(J=(R+P)/2)){R=J}else{P=J}if(E=G>=(T=(D+C)/2)){D=T}else{C=T}}while((N=E<<1|U)===(M=(Q>=T)<<1|(I>=J)));return F[M]=L,F[N]=O,K}function w(F){var I,G,E=F.length,L,J,N=new Array(E),H=new Array(E),D=Infinity,M=Infinity,C=-Infinity,K=-Infinity;for(G=0;G<E;++G){if(isNaN(L=+this._x.call(null,I=F[G]))||isNaN(J=+this._y.call(null,I))){continue}N[G]=L;H[G]=J;if(L<D){D=L}if(L>C){C=L}if(J<M){M=J}if(J>K){K=J}}if(C<D){D=this._x0,C=this._x1}if(K<M){M=this._y0,K=this._y1}this.cover(D,M).cover(C,K);for(G=0;G<E;++G){q(this,N[G],H[G],F[G])}return this}function s(J,H){if(isNaN(J=+J)||isNaN(H=+H)){return this}var D=this._x0,L=this._y0,C=this._x1,I=this._y1;if(isNaN(D)){C=(D=Math.floor(J))+1;I=(L=Math.floor(H))+1}else{if(D>J||J>C||L>H||H>I){var G=C-D,E=this._root,K,F;switch(F=(H<(L+I)/2)<<1|(J<(D+C)/2)){case 0:do{K=new Array(4),K[F]=E,E=K}while(G*=2,C=D+G,I=L+G,J>C||H>I);break;case 1:do{K=new Array(4),K[F]=E,E=K}while(G*=2,D=C-G,I=L+G,D>J||H>I);break;case 2:do{K=new Array(4),K[F]=E,E=K}while(G*=2,C=D+G,L=I-G,J>C||L>H);break;case 3:do{K=new Array(4),K[F]=E,E=K}while(G*=2,D=C-G,L=I-G,D>J||L>H);break}if(this._root&&this._root.length){this._root=E}}else{return this}}this._x0=D;this._y0=L;this._x1=C;this._y1=I;return this}function r(){var x=[];this.visit(function(y){if(!y.length){do{x.push(y.data)}while(y=y.next)}});return x}function v(x){return arguments.length?this.cover(+x[0][0],+x[0][1]).cover(+x[1][0],+x[1][1]):isNaN(this._x0)?undefined:[[this._x0,this._y0],[this._x1,this._y1]]}function u(E,y,D,x,C){this.node=E;this.x0=y;this.y0=D;this.x1=x;this.y1=C}function e(J,I,G){var X,T=this._x0,F=this._y0,S,E,R,D,Q=this._x1,C=this._y1,H=[],O=this._root,N,P;if(O){H.push(new u(O,T,F,Q,C))}if(G==null){G=Infinity}else{T=J-G,F=I-G;Q=J+G,C=I+G;G*=G}while(N=H.pop()){if(!(O=N.node)||(S=N.x0)>Q||(E=N.y0)>C||(R=N.x1)<T||(D=N.y1)<F){continue}if(O.length){var M=(S+R)/2,V=(E+D)/2;H.push(new u(O[3],M,V,R,D),new u(O[2],S,V,M,D),new u(O[1],M,E,R,V),new u(O[0],S,E,M,V));if(P=(I>=V)<<1|(J>=M)){N=H[H.length-1];H[H.length-1]=H[H.length-1-P];H[H.length-1-P]=N}}else{var L=J-+this._x.call(null,O.data),K=I-+this._y.call(null,O.data),W=L*L+K*K;if(W<G){var U=Math.sqrt(G=W);T=J-U,F=I-U;Q=J+U,C=I+U;X=O.data}}}return X}function d(Q){if(isNaN(I=+this._x.call(null,Q))||isNaN(H=+this._y.call(null,Q))){return this}var G,L=this._root,T,D,K,P=this._x0,E=this._y0,O=this._x1,C=this._y1,I,H,J,R,S,F,N,M;if(!L){return this}if(L.length){while(true){if(S=I>=(J=(P+O)/2)){P=J}else{O=J}if(F=H>=(R=(E+C)/2)){E=R}else{C=R}if(!(G=L,L=L[N=F<<1|S])){return this}if(!L.length){break}if(G[(N+1)&3]||G[(N+2)&3]||G[(N+3)&3]){T=G,M=N}}}while(L.data!==Q){if(!(D=L,L=L.next)){return this}}if(K=L.next){delete L.next}if(D){return K?D.next=K:delete D.next,this}if(!G){return this._root=K,this}K?G[N]=K:delete G[N];if((L=G[0]||G[1]||G[2]||G[3])&&L===(G[3]||G[2]||G[1]||G[0])&&!L.length){if(T){T[M]=L}else{this._root=L}}return this}function b(y){for(var x=0,C=y.length;x<C;++x){this.remove(y[x])}return this}function j(){return this._root}function f(){var x=0;this.visit(function(y){if(!y.length){do{++x}while(y=y.next)}});return x}function c(J){var K=[],x,F=this._root,D,E,I,y,H;if(F){K.push(new u(F,this._x0,this._y0,this._x1,this._y1))}while(x=K.pop()){if(!J(F=x.node,E=x.x0,I=x.y0,y=x.x1,H=x.y1)&&F.length){var G=(E+y)/2,C=(I+H)/2;if(D=F[3]){K.push(new u(D,G,C,y,H))}if(D=F[2]){K.push(new u(D,E,C,G,H))}if(D=F[1]){K.push(new u(D,G,I,y,C))}if(D=F[0]){K.push(new u(D,E,I,G,C))}}}return this}function g(K){var L=[],G=[],x;if(this._root){L.push(new u(this._root,this._x0,this._y0,this._x1,this._y1))}while(x=L.pop()){var F=x.node;if(F.length){var D,E=x.x0,J=x.y0,y=x.x1,I=x.y1,H=(E+y)/2,C=(J+I)/2;if(D=F[0]){L.push(new u(D,E,J,H,C))}if(D=F[1]){L.push(new u(D,H,J,y,C))}if(D=F[2]){L.push(new u(D,E,C,H,I))}if(D=F[3]){L.push(new u(D,H,C,y,I))}}G.push(x)}while(x=G.pop()){K(x.node,x.x0,x.y0,x.x1,x.y1)}return this}function a(x){return x[0]}function i(x){return arguments.length?(this._x=x,this):this._x}function B(x){return x[1]}function h(x){return arguments.length?(this._y=x,this):this._y}function o(C,H,E,G,D,F){this._x=C;this._y=H;this._x0=E;this._y0=G;this._x1=D;this._y1=F;this._root=undefined}function A(x){var C={data:x.data},y=C;while(x=x.next){y=y.next={data:x.data}}return C}var z=o.prototype;z.copy=function(){var E=new o(this._x,this._y,this._x0,this._y0,this._x1,this._y1),C=this._root,x,D;if(!C){return E}if(!C.length){return E._root=A(C),E}x=[{source:C,target:E._root=new Array(4)}];while(C=x.pop()){for(var y=0;y<4;++y){if(D=C.source[y]){if(D.length){x.push({source:D,target:C.target[y]=new Array(4)})}else{C.target[y]=A(D)}}}}return E};z.add=n;z.addAll=w;z.cover=s;z.data=r;z.extent=v;z.find=e;z.remove=d;z.removeAll=b;z.root=j;z.size=f;z.visit=c;z.visitAfter=g;z.x=i;z.y=h;var p=new o(l==null?a:l,k==null?B:k,NaN,NaN,NaN,NaN);return t==null?p:p.addAll(t)};this.Le=function(){var j=this;function l(s){return function(){return s}}function q(){return(Math.random()-0.5)*0.000001}function n(s){return s.layout.subnetworks.x}function o(s){return s.layout.subnetworks.y}function h(){if(!a){return}var s,u=a.length,t;d=new Array(u);for(s=0;s<u;++s){t=a[s],d[s]=+t.layout.subnetworks.str}}function r(t){var z=0,w,B,v=0,s,A,u;if(t.length){for(s=A=u=0;u<4;++u){if((w=t[u])&&(B=Math.abs(w.value))){z+=w.value,v+=B,s+=B*w.x,A+=B*w.y}}t.x=s/v;t.y=A/v}else{w=t;w.x=w.data.layout.subnetworks.x;w.y=w.data.layout.subnetworks.y;do{z+=d[w.data.layout.subnetworks.index]}while(w=w.next)}t.value=z}function p(v,B,A,z){if(!v.value){return true}var s=v.x-e.layout.subnetworks.x,C=v.y-e.layout.subnetworks.y,u=z-B,t=s*s+C*C;if(u*u/i<t){if(t<g){if(s===0){s=q(),t+=s*s}if(C===0){C=q(),t+=C*C}if(t<k){t=Math.sqrt(k*t)}e.layout.subnetworks.vx+=s*v.value*f/t;e.layout.subnetworks.vy+=C*v.value*f/t}return true}else{if(v.length||t>=g){return}}if(v.data.layout.subnetworks!==e.layout.subnetworks||v.next){if(s===0){s=q(),t+=s*s}if(C===0){C=q(),t+=C*C}if(t<k){t=Math.sqrt(k*t)}}do{if(v.data.layout.subnetworks!==e.layout.subnetworks){u=d[v.data.layout.subnetworks.index]*f/t;e.layout.subnetworks.vx+=s*u;e.layout.subnetworks.vy+=C*u}}while(v=v.next)}var a=j.data.nodes;var e,f,c=l(-30),d,k=1,g=Infinity,i=0.81;h();var b=function(t){var u,v=a.length,s=j.Bw(a,n,o).visitAfter(r);for(f=t,u=0;u<v;++u){e=a[u],s.visit(p)}};b.initialize=function(s){a=s;h()};b.strength=function(s){return arguments.length?(c=typeof s==="function"?s:l(+s),h(),b):c};b.distanceMin=function(s){return arguments.length?(k=s*s,b):Math.sqrt(k)};b.distanceMax=function(s){return arguments.length?(g=s*s,b):Math.sqrt(g)};b.theta=function(s){return arguments.length?(i=s*s,b):Math.sqrt(i)};return b};this.hv=function(i){var h=this;function j(p){return function(){return p}}function o(){return(Math.random()-0.5)*0.000001}function k(p){return p.layout.subnetworks.x+p.layout.subnetworks.vx}function n(p){return p.layout.subnetworks.y+p.layout.subnetworks.vy}var a=this.data.nodes;var g,d,c=1,e=1;if(typeof i!=="function"){i=j(i==null?1:+i)}function l(p){if(p.data){return p.r=g[p.data.index]}for(var q=p.r=0;q<4;++q){if(p[q]&&p[q].r>p.r){p.r=p[q].r}}}function f(){if(!a){return}var p,r=a.length,q;g=new Array(r);for(p=0;p<r;++p){q=a[p],g[p]=+i(q,p,a)}}var b=function(){var u,q=a.length,y,r,v,t,w,p;for(var s=0;s<e;++s){y=h.quadtree(a,k,n).visitAfter(l);for(u=0;u<q;++u){r=a[u];w=g[r.layout.subnetworks.index],p=w*w;v=r.layout.subnetworks.x+r.layout.subnetworks.vx;t=r.layout.subnetworks.y+r.layout.subnetworks.vy;y.visit(x)}}function x(J,B,I,A,H){var D=J.data,F=J.r,z=w+F;if(D){if(D.index>r.layout.subnetworks.index){var G=v-D.x-D.vx,E=t-D.y-D.vy,C=G*G+E*E;if(C<z*z){if(G===0){G=o(),C+=G*G}if(E===0){E=o(),C+=E*E}C=(z-(C=Math.sqrt(C)))/C*c;r.layout.subnetworks.vx+=(G*=C)*(z=(F*=F)/(p+F));r.layout.subnetworks.vy+=(E*=C)*z;D.layout.subnetworks.vx-=G*(z=1-z);D.layout.subnetworks.vy-=E*z}}return}return B>v+z||A<v-z||I>t+z||H<t-z}};b.initialize=function(p,q){a=p;d=q;f()};b.iterations=function(p){return arguments.length?(e=+p,b):e};b.strength=function(p){return arguments.length?(c=+p,b):c};b.radius=function(p){return arguments.length?(i=typeof p==="function"?p:constant(+p),f(),b):i};return b};this.kZ=function(g,j,i){var f=this;function h(l){return function(){return l}}var a=this.data.nodes,c=h(0.1),d,k;if(typeof g!=="function"){g=h(+g)}if(j==null){j=0}if(i==null){i=0}var b=function(u){for(var q=0,v=a.length;q<v;++q){var t=a[q],p=t.layout.subnetworks.x-j||0.000001,l=t.layout.subnetworks.y-i||0.000001,s=Math.sqrt(p*p+l*l),o=(k[q]-s)*d[q]*u/s;t.layout.subnetworks.vx+=p*o;t.layout.subnetworks.vy+=l*o}};function e(){if(!a){return}var l,o=a.length;d=new Array(o);k=new Array(o);for(l=0;l<o;++l){k[l]=+g(a[l],l,a);d[l]=isNaN(k[l])?0:+c(a[l],l,a)}}b.initialize=function(l){a=l,e()};b.strength=function(l){return arguments.length?(c=typeof l==="function"?l:h(+l),e(),b):c};b.radius=function(l){return arguments.length?(g=typeof l==="function"?l:h(+l),e(),b):g};b.x=function(l){return arguments.length?(j=+l,b):j};b.y=function(l){return arguments.length?(i=+l,b):i};return b}};CanvasXpress.prototype.initFFT=function(){this.Jr=function(l,a,e){var d=function(r,q){var i=r.length;if(i!=q.length){throw"Mismatched lengths"}if(i==0){return}else{if((i&(i-1))==0){o(r,q)}else{m(r,q)}}};var p=function(n,i){d(i,n)};var b=function(s,r){var n=0;for(var q=0;q<r;q++){n=(n<<1)|(s&1);s>>>=1}return n};var o=function(A,s){var t=A.length;if(t!=s.length){throw"Mismatched lengths"}if(t==1){return}var E=-1;for(var y=0;y<32;y++){if(1<<y==t){E=y}}if(E==-1){throw"Length is not a power of 2"}var w=new Array(t/2);var C=new Array(t/2);for(var y=0;y<t/2;y++){w[y]=Math.cos(2*Math.PI*y/t);C[y]=Math.sin(2*Math.PI*y/t)}for(var y=0;y<t;y++){var x=b(y,E);if(x>y){var D=A[y];A[y]=A[x];A[x]=D;D=s[y];s[y]=s[x];s[x]=D}}for(var F=2;F<=t;F*=2){var r=F/2;var z=t/F;for(var y=0;y<t;y+=F){for(var x=y,v=0;x<y+r;x++,v+=z){var u=x+r;var q=A[u]*w[v]+s[u]*C[v];var B=-A[u]*C[v]+s[u]*w[v];A[u]=A[x]-q;s[u]=s[x]-B;A[x]+=q;s[x]+=B}}}};var m=function(C,q){var s=C.length;if(s!=q.length){throw"Mismatched lengths"}var u=1;while(u<s*2+1){u*=2}var w=new Array(s);var D=new Array(s);for(var y=0;y<s;y++){var x=y*y%(s*2);w[y]=Math.cos(Math.PI*x/s);D[y]=Math.sin(Math.PI*x/s)}var v=g(u);var B=g(u);for(var y=0;y<s;y++){v[y]=C[y]*w[y]+q[y]*D[y];B[y]=-C[y]*D[y]+q[y]*w[y]}var t=g(u);var A=g(u);t[0]=w[0];A[0]=D[0];for(var y=1;y<s;y++){t[y]=t[u-y]=w[y];A[y]=A[u-y]=D[y]}var r=new Array(u);var z=new Array(u);h(v,B,t,A,r,z);for(var y=0;y<s;y++){C[y]=r[y]*w[y]+z[y]*D[y];q[y]=-r[y]*D[y]+z[y]*w[y]}};var h=function(t,w,s,v,x,q){var r=t.length;if(r!=w.length||r!=s.length||r!=v.length||r!=x.length||r!=q.length){throw"Mismatched lengths"}t=t.slice();w=w.slice();s=s.slice();v=v.slice();d(t,w);d(s,v);for(var u=0;u<r;u++){var y=t[u]*s[u]-w[u]*v[u];w[u]=w[u]*s[u]+t[u]*v[u];t[u]=y}p(t,w);for(var u=0;u<r;u++){x[u]=t[u]/r;q[u]=w[u]/r}};function g(s){var q=[];for(var r=0;r<s;r++){q.push(0)}return q}var c=l.length;var j=new Float64Array(c);var k=new Float64Array(c);for(var f=0;f<c;f++){j[f]=l[f];k[f]=a&&a.length?a[f]:0}if(e){p(j,k)}else{d(j,k)}return[j,k]}};CanvasXpress.prototype.initContour=function(){this.Ks=function(b,e,a,c,d){return{x0:b,y0:e,x1:a,y1:c,next:d}};this.R5=function(a){var c=a.x0;var b=a.y0;a.x0=a.x1;a.y0=a.y1;a.x1=c;a.y1=b};this.gP=function(g,b,f,e,d,a){var c=function(j,i){return Math.abs(j-i)==0};if(d==null){a=null;return null}switch(f){case 1:case 3:if(c(b,d.y0)){if(!e){this.R5(d)}a=d;return[d.next,a]}if(c(b,d.y1)){if(e){this.R5(d)}a=d;return[d.next,a]}break;case 2:case 4:if(c(g,d.x0)){if(!e){this.R5(d)}a=d;return[d.next,a]}if(c(g,d.x1)){if(e){this.R5(d)}a=d;return[d.next,a]}break}var h=this.gP(g,b,f,e,d.next,a);d.next=h?h[0]:null;return d};this.c7=function(o,h,g,n,c){if(!o.length){throw new Error("missing x data")}if(!h.length){throw new Error("missing y data")}if(!g.length){throw new Error("missing z data")}if(o.length*h.length!=g.length){throw new Error("dimensions of 'x', 'y' and 'z' do not match")}var q=this.cp(g);var A=q[0];var F=q[1];if(n==null){n=A}var I=function(j,i,f){if((j<f)!=(i<f)&&j!=f&&i!=f){G=(f-j)/(i-j);return 1}else{return 0}};var C,B,w,e,G,p,t,L,N,M,r,a,u;var d=[];var s=[];var K=o.length;var J=h.length;var b=[];if(!c){c=0.001*(F-A)}for(var E=0;E<K;E++){for(var D=0;D<J;D++){b[E+D*K]=null}}for(var E=0;E<K-1;E++){p=o[E];t=o[E+1];for(var D=0;D<J-1;D++){L=h[D];N=h[D+1];C=E+D*K;M=g[C];r=g[C+1];a=g[C+K];u=g[C+K+1];if(M==n){M+=c}if(r==n){r+=c}if(a==n){a+=c}if(u==n){u+=c}e=0;if(isFinite(M)){e+=1}if(isFinite(r)){e+=2}if(isFinite(a)){e+=4}if(isFinite(u)){e+=8}C=0;switch(e){case 15:if(I(M,r,n)){d[C]=p+G*(t-p);s[C]=L;C++}if(I(M,a,n)){s[C]=L+G*(N-L);d[C]=p;C++}if(I(r,u,n)){s[C]=L+G*(N-L);d[C]=t;C++}if(I(a,u,n)){d[C]=p+G*(t-p);s[C]=N;C++}break;case 14:if(I(r,u,n)){s[C]=L+G*(N-L);d[C]=t;C++}if(I(a,u,n)){d[C]=p+G*(t-p);s[C]=N;C++}if(I(a,r,n)){d[C]=p+G*(t-p);s[C]=N+G*(L-N);C++}break;case 13:if(I(M,a,n)){s[C]=L+G*(N-L);d[C]=p;C++}if(I(a,u,n)){d[C]=p+G*(t-p);s[C]=N;C++}if(I(M,u,n)){d[C]=p+G*(t-p);s[C]=L+G*(N-L);C++}break;case 11:if(I(r,u,n)){s[C]=L+G*(N-L);d[C]=t;C++}if(I(M,r,n)){d[C]=p+G*(t-p);s[C]=L;C++}if(I(M,u,n)){d[C]=p+G*(t-p);s[C]=L+G*(N-L);C++}break;case 7:if(I(M,a,n)){s[C]=L+G*(N-L);d[C]=p;C++}if(I(M,r,n)){d[C]=p+G*(t-p);s[C]=L;C++}if(I(a,r,n)){d[C]=p+G*(t-p);s[C]=N+G*(L-N);C++}break}var H=null;if(C>0){if(C==2){H=this.Ks(d[0],s[0],d[1],s[1],H)}else{if(C==4){for(C=3;C>=1;C--){w=C;p=d[C];for(B=0;B<C;B++){if(d[B]>p){p=d[B];w=B}}if(w!=C){p=d[C];L=s[C];d[C]=d[w];s[C]=s[w];d[w]=p;s[w]=L}}H=this.Ks(d[0],s[0],d[1],s[1],H);H=this.Ks(d[2],s[2],d[3],s[3],H)}else{alert("k is "+C+" and it should be 2 or 4")}}}b[E+D*K]=H}}return b};this.Yb=function(m,h,g,e){var f=this;var b=function(z,j,i,D,c,C){var k=function(y,x){return Math.abs(y-x)==0};if(k(j,D[A])){if(A==0){return 0}A=A-1;return 3}if(k(z,i[n])){if(n==0){return 0}n=n-1;return 4}if(k(j,D[A+1])){if(A>=C-1){return 0}A=A+1;return 1}if(k(z,i[n+1])){if(n>=c-1){return 0}n=n+1;return 2}return 0};var r=function(J,H,G,I,k){var V=J.length;var U=H.length;var c,D,W;var X,M;var T,S,L,F,C;var P=[];var E=f.c7(J,H,G,I,k);var R=25000;for(var Q=0;Q<V-1;Q++){for(var O=0;O<U-1;O++){var N=[];var K=[];while((T=E[Q+O*V])){n=Q;A=O;F=C=T;E[Q+O*V]=T.next;c=T.x1;D=T.y1;while((M=b(c,D,J,H,V,U))){W=f.gP(c,D,M,true,E[n+A*V],S);if(W){E[n+A*V]=W[0];S=W[1]}else{E[n+A*V]=null;S=null}if(!S){break}C.next=S;C=S;c=C.x1;D=C.y1}C.next=null;n=Q;A=O;c=T.x0;D=T.y0;while((M=b(c,D,J,H,V,U))){W=f.gP(c,D,M,false,E[n+A*V],S);if(W){E[n+A*V]=W[0];S=W[1]}else{E[n+A*V]=null;S=null}if(!S){break}S.next=F;F=S;c=F.x0;D=F.y0}L=F;X=0;while(L&&X<R){X++;L=L.next}if(X==R){alert("Reached max contour segments")}L=F;X=0;N[X]=L.x0;K[X++]=L.y0;while(L.next&&X<R){L=L.next;N[X]=L.x0;K[X++]=L.y0}N[X]=L.x1;K[X++]=L.y1}if(N.length){P.push({x:N,y:K})}}}return P};if(!m.length){throw new Error("missing x data")}if(!h.length){throw new Error("missing y data")}if(!g.length){throw new Error("missing z data")}if(m.length*h.length!=g.length){throw new Error("dimensions of 'x', 'y' and 'z' do not match")}var q=this.cp(g);var w=q[0];var p=q[1];if(!e){e=this[this.axisAlgorithm](w,p,this.contourLevelNumber)}var B=[];var a=0.001*(p-w);var n,A;for(var u=0;u<e.length;u++){var l=r(m,h,g,e[u],a);var d=[];for(var t=0;t<l.length;t++){var o=[];for(var s=0;s<l[t].x.length;s++){o.push([l[t].x[s],l[t].y[s]])}d.push(o)}B.push({type:"Multipolygon",value:e[u],coordinates:[d]})}return B};this.QQ=function(i,d,b,m,f,a,k,e,l,j,h,n){var g;if(f>e){if(e>d||f<i){return n}if(f<d){l[n]=b;j[n]=m;h[n]=f;++n}else{if(f==Number.POSITIVE_INFINITY){l[n]=a;j[n]=m;h[n]=e;++n}else{g=(f-d)/(f-e);l[n]=b+g*(a-b);j[n]=m;h[n]=f+g*(e-f);++n}}if(e==Number.NEGATIVE_INFINITY){l[n]=b;j[n]=m;h[n]=f;++n}else{if(e<=i){g=(e-i)/(e-f);l[n]=a-g*(a-b);j[n]=m;h[n]=e-g*(e-f);++n}}}else{if(f<e){if(e<i||f>d){return n}if(f>i){l[n]=b;j[n]=m;h[n]=f;++n}else{if(f==Number.NEGATIVE_INFINITY){l[n]=a;j[n]=m;h[n]=e;++n}else{g=(f-i)/(f-e);l[n]=b+g*(a-b);j[n]=m;h[n]=f+g*(e-f);++n}}if(e<d){l[n]=a;j[n]=k;h[n]=e;++n}else{if(e==Number.POSITIVE_INFINITY){l[n]=b;j[n]=m;h[n]=f;++n}else{g=(e-d)/(e-f);l[n]=a-g*(a-b);j[n]=m;h[n]=e-g*(e-f);++n}}}else{if(i<=f&&f<=d){l[n]=b;j[n]=m;h[n]=f;++n;l[n]=a;j[n]=k;h[n]=e;++n}}}return n};this.OK=function(g,d,b,a,k,i,e,n,c,m,j,h,f){var l=0;l=this.QQ(g,d,b,k,e,a,k,n,j,h,f,l);l=this.QQ(g,d,k,a,n,i,a,m,h,j,f,l);l=this.QQ(g,d,a,i,m,b,i,c,j,h,f,l);l=this.QQ(g,d,i,b,c,k,b,e,h,j,f,l);return l};this.Em=function(g,f,e,r){if(!g.length){throw new Error("missing x data")}if(!f.length){throw new Error("missing y data")}if(!e.length){throw new Error("missing z data")}if(g.length*f.length!=e.length){throw new Error("dimensions of 'x', 'y' and 'z' do not match")}var o=this.cp(e);var q=o[0];var w=o[1];if(!r){r=this[this.axisAlgorithm](q,w,this.contourLevelNumber)}var D=g.length;var B=f.length;var a=r.length;var b={};for(var A=1;A<D;A++){for(var u=1;u<B;u++){for(var s=1;s<a;s++){if(!b.hasOwnProperty(r[s-1])){b[r[s-1]]=[]}var p=[];var n=[];var m=[];var h=this.OK(r[s-1],r[s],g[A-1],g[A],f[u-1],f[u],e[A-1+(u-1)*D],e[A+(u-1)*D],e[A-1+u*D],e[A+u*D],p,n,m);var d=[];if(h>2){for(var C=0;C<p.length;C++){d.push([p[C],n[C]])}d.push([d[0][0],d[0][1]]);b[r[s-1]].push(d)}}}}var t=[];for(var s=1;s<a;s++){if(b.hasOwnProperty(r[s-1])){t.push({type:"Multipolygon",value:r[s-1],coordinates:[b[r[s-1]]]})}}return t.length?t:false};this.nB=function(){var r=Math.sqrt(50);var j=Math.sqrt(10);var k=Math.sqrt(2);var A=function(J,E,H){var C;var D=-1;var I,G,F;E=+E,J=+J,H=+H;if(J===E&&H>0){return[J]}if(C=E<J){I=J,J=E,E=I}if((F=s(J,E,H))===0||!isFinite(F)){return[]}if(F>0){let r0=Math.round(J/F),r1=Math.round(E/F);if(r0*F<J){++r0}if(r1*F>E){--r1}G=new Array(I=r1-r0+1);while(++D<I){G[D]=(r0+D)*F}}else{F=-F;let r0=Math.round(J*F),r1=Math.round(E*F);if(r0/F<J){++r0}if(r1/F>E){--r1}G=new Array(I=r1-r0+1);while(++D<I){G[D]=(r0+D)/F}}if(C){G.reverse()}return G};var s=function(H,D,G){var F=(D-H)/Math.max(0,G);var E=Math.floor(Math.log(F)/Math.LN10);var C=F/Math.pow(10,E);return E>=0?(C>=r?10:C>=j?5:C>=k?2:1)*Math.pow(10,E):-Math.pow(10,-E)/(C>=r?10:C>=j?5:C>=k?2:1)};var l=function(H,F,G){var E=Math.abs(F-H)/Math.max(0,G);var C=Math.pow(10,Math.floor(Math.log(E)/Math.LN10));var D=E/C;if(D>=r){C*=10}else{if(D>=j){C*=5}else{if(D>=k){C*=2}}}return F<H?-C:C};var a=function(C){return C[0]};var B=function(C){return C[1]};var d=function(){return 1};var i=function(D,J,E){var F=D.width;var G=D.height;var K=(E<<1)+1;for(var H=0;H<G;++H){for(var I=0,C=0;I<F+E;++I){if(I<F){C+=D.data[I+H*F]}if(I>=E){if(I>=K){C-=D.data[I-K+H*F]}J.data[I-E+H*F]=C/Math.min(I+1,F-1+K-I,K)}}}};var h=function(D,J,E){var F=D.width;var G=D.height;var K=(E<<1)+1;for(var I=0;I<F;++I){for(var H=0,C=0;H<G+E;++H){if(H<G){C+=D.data[I+H*F]}if(H>=E){if(H>=K){C-=D.data[I+(H-K)*F]}J.data[I+(H-E)*F]=C/Math.min(H+1,G-1+K-H,K)}}}};var y=function(H,F){var E=-1,G=H.length,D,C;if(arguments.length===1){while(++E<G){if((C=H[E])!=null&&C>=C){D=C;break}}while(++E<G){if((C=H[E])!=null&&C>D){D=C}}}else{while(++E<G){if((C=F.call(H,H[E],E))!=null&&C>=C){D=C;break}}while(++E<G){if((C=F.call(H,H[E],E))!=null&&C>D){D=C}}}return D};var m=function(C,D){let m=0;if(D===undefined){for(let v in C){let value=C[v];if(value!=null&&(value=+value)>=value){++m}}}else{let index=-1;for(let v in C){let value=C[v];if((value=D(value,++index,C))!=null&&(value=+value)>=value){++m}}}return m};var t=function(H,E,F){H=+H,E=+E,F=(G=arguments.length)<2?(E=H,H=0,1):G<3?1:+F;var D=-1,G=Math.max(0,Math.ceil((E-H)/F))|0,C=new Array(G);while(++D<G){C[D]=H+D*F}return C};var x=Array.prototype.slice;var f=function(D,C){return D-C};var z=function(C){var D=0;var F=C.length;var E=C[F-1][1]*C[0][0]-C[F-1][0]*C[0][1];while(++D<F){E+=C[D-1][1]*C[D][0]-C[D-1][0]*C[D][1]}return E};var e=function(C){return function(){return C}};var n=function(C,E){var D=-1;var G=E.length;var F;while(++D<G){if(F=w(C,E[D])){return F}}return 0};var q=function(I,F){var E=-1,H=I.length,D,C,G;if(arguments.length===1){while(++E<H){if((C=I[E])!=null&&C>=C){D=G=C;break}}while(++E<H){if((C=I[E])!=null){if(D>C){D=C}if(G<C){G=C}}}}else{while(++E<H){if((C=F.call(I,I[E],E))!=null&&C>=C){D=G=C;break}}while(++E<H){if((C=F.call(I,I[E],E))!=null){if(D>C){D=C}if(G<C){G=C}}}}return[D,G]};var w=function(G,P){var O=P[0];var N=P[1];var E=-1;for(var J=0,C=G.length,H=C-1;J<C;H=J++){var K=G[J],M=K[0],F=K[1],I=G[H],L=I[0],D=I[1];if(b(K,I,P)){return 0}if(((F>N)!==(D>N))&&((O<(L-M)*(N-F)/(D-F)+M))){E=-E}}return E};var b=function(D,C,F){var E;return p(D,C,F)&&u(D[E=+(D[0]===C[0])],F[E],C[E])};var p=function(D,C,E){return(C[0]-D[0])*(E[1]-D[1])===(E[0]-D[0])*(C[1]-D[1])};var u=function(E,D,C){return E<=D&&D<=C||C<=D&&D<=E};var g=function(){};var c=[[],[[[1,1.5],[0.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[0.5,1]]],[[[1,0.5],[1.5,1]]],[[[1,1.5],[0.5,1]],[[1,0.5],[1.5,1]]],[[[1,0.5],[1,1.5]]],[[[1,0.5],[0.5,1]]],[[[0.5,1],[1,0.5]]],[[[1,1.5],[1,0.5]]],[[[0.5,1],[1,0.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,0.5]]],[[[0.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[0.5,1],[1,1.5]]],[]];var o=function(){var K=1;var J=1;var G=function(L){return Math.ceil(Math.log(m(L))/Math.LN2)+1};var I=function(L){var O=G(L);if(!Array.isArray(O)){const N=q(L),M=l(N[0],N[1],O);O=A(Math.floor(N[0]/M)*M,Math.floor(N[1]/M-1)*M,O)}else{O=O.slice().sort(f)}return O.map(function(P){return F(L,P)})};var H=function(L){return L[0]*2+L[1]*(K+1)*4};var D=function(M,L,N){M.forEach(function(Q){var P=Q[0];var U=Q[1];var R=P|0;var S=U|0;var O;var T=L[S*K+R];if(P>0&&P<K&&R===P){O=L[S*K+R-1];Q[0]=P+(N-O)/(T-O)-0.5}if(U>0&&U<J&&S===U){O=L[(S-1)*K+R];Q[1]=U+(N-O)/(T-O)-0.5}})};var C=D;var F=function(N,O){var M=[];var L=[];E(N,O,function(P){C(P,N,O);if(z(P)>0){M.push([P])}else{L.push(P)}});L.forEach(function(R){for(var Q=0,S=M.length,P;Q<S;++Q){if(n((P=M[Q])[0],R)!==-1){P.push(R);return}}});return{type:"MultiPolygon",value:O,coordinates:M}};var E=function(V,U,W){var M=new Array;var N=new Array;var T,S,R,Q,P,O;var L=function(Y){var ad=[Y[0][0]+T,Y[0][1]+S];var X=[Y[1][0]+T,Y[1][1]+S];var ac=H(ad);var ab=H(X);var aa,Z;if(aa=N[ac]){if(Z=M[ab]){delete N[aa.end];delete M[Z.start];if(aa===Z){aa.ring.push(X);W(aa.ring)}else{M[aa.start]=N[Z.end]={start:aa.start,end:Z.end,ring:aa.ring.concat(Z.ring)}}}else{delete N[aa.end];aa.ring.push(X);N[aa.end=ab]=aa}}else{if(aa=M[ab]){if(Z=N[ac]){delete M[aa.start];delete N[Z.end];if(aa===Z){aa.ring.push(X);W(aa.ring)}else{M[Z.start]=N[aa.end]={start:Z.start,end:aa.end,ring:Z.ring.concat(aa.ring)}}}else{delete M[aa.start];aa.ring.unshift(ad);M[aa.start=ac]=aa}}else{M[ac]=N[ab]={start:ac,end:ab,ring:[ad,X]}}}};T=S=-1;Q=V[0]>=U;c[Q<<1].forEach(L);while(++T<K-1){R=Q,Q=V[T+1]>=U;c[R|Q<<1].forEach(L)}c[Q<<0].forEach(L);while(++S<J-1){T=-1;Q=V[S*K+K]>=U;P=V[S*K]>=U;c[Q<<1|P<<2].forEach(L);while(++T<K-1){R=Q,Q=V[S*K+K+T+1]>=U;O=P,P=V[S*K+T+1]>=U;c[R|Q<<1|P<<2|O<<3].forEach(L)}c[Q|P<<3].forEach(L)}T=-1;P=V[S*K]>=U;c[P<<2].forEach(L);while(++T<K-1){O=P,P=V[S*K+T+1]>=U;c[P<<2|O<<3].forEach(L)}c[P<<3].forEach(L)};I.contour=F;I.size=function(L){if(!arguments.length){return[K,J]}var N=Math.ceil(L[0]);var M=Math.ceil(L[1]);if(!(N>0)||!(M>0)){throw new Error("invalid size")}return K=N,J=M,I};I.thresholds=function(L){return arguments.length?(G=typeof L==="function"?L:Array.isArray(L)?e(x.call(L)):e(L),I):G};I.smooth=function(L){return arguments.length?(C=L?D:g,I):C===D};I.density=function(){var X=a;var W=B;var U=d;var ab=960;var Z=500;var L=20;var S=2;var N=L*3;var P=(ab+N*2)>>S;var Q=(Z+N*2)>>S;var T=e(20);var Y=function(af){var ae=new Float32Array(P*Q);var ad=new Float32Array(P*Q);af.forEach(function(am,ak,al){var ai=(+X(am,ak,al)+N)>>S,aj=(+W(am,ak,al)+N)>>S,ah=+U(am,ak,al);if(ai>=0&&ai<P&&aj>=0&&aj<Q){ae[ai+aj*P]+=ah}});i({width:P,height:Q,data:ae},{width:P,height:Q,data:ad},L>>S);h({width:P,height:Q,data:ad},{width:P,height:Q,data:ae},L>>S);i({width:P,height:Q,data:ae},{width:P,height:Q,data:ad},L>>S);h({width:P,height:Q,data:ad},{width:P,height:Q,data:ae},L>>S);i({width:P,height:Q,data:ae},{width:P,height:Q,data:ad},L>>S);h({width:P,height:Q,data:ad},{width:P,height:Q,data:ae},L>>S);var ag=T(ae);if(!Array.isArray(ag)){var ac=y(ae);ag=l(0,ac,ag);ag=t(0,Math.floor(ac/ag)*ag,ag);ag.shift()}return[ag,[P,Q],ae,O]};var O=function(ac){ac.value*=Math.pow(2,-2*S);ac.coordinates.forEach(R);return ac};var R=function(ac){ac.forEach(aa)};var aa=function(ac){ac.forEach(V)};var V=function(ac){ac[0]=ac[0]*Math.pow(2,S)-N;ac[1]=ac[1]*Math.pow(2,S)-N};var M=function(){N=L*3;P=(ab+N*2)>>S;Q=(Z+N*2)>>S;return Y};Y.x=function(ac){return arguments.length?(X=typeof ac==="function"?ac:e(+ac),Y):X};Y.y=function(ac){return arguments.length?(W=typeof ac==="function"?ac:e(+ac),Y):W};Y.weight=function(ac){return arguments.length?(U=typeof ac==="function"?ac:e(+ac),Y):U};Y.size=function(ac){if(!arguments.length){return[ab,Z]}var ae=+ac[0],ad=+ac[1];if(!(ae>=0&&ad>=0)){throw new Error("invalid size")}return ab=ae,Z=ad,M()};Y.cellSize=function(ac){if(!arguments.length){return 1<<S}if(!((ac=+ac)>=1)){throw new Error("invalid cell size")}return S=Math.floor(Math.log(ac)/Math.LN2),M()};Y.thresholds=function(ac){return arguments.length?(T=typeof ac==="function"?ac:Array.isArray(ac)?e(x.call(ac)):e(ac),Y):T};Y.bandwidth=function(ac){if(!arguments.length){return Math.sqrt(L*(L+1))}if(!((ac=+ac)>=0)){throw new Error("invalid bandwidth")}return L=Math.round((Math.sqrt(4*ac*ac+1)-1)/2),M()};return Y};return I};return o}};CanvasXpress.prototype.initDensity=function(){this.AQ=function(m,o,j,d,b){var p=0;var f=b-2;var k=(d-j)/(b-1);var l=[];for(var h=0;h<2*b;h++){l[h]=0}for(var h=0;h<m.length;h++){if(isFinite(m[h])){var g=(m[h]-j)/k;if(g>Number.MAX_VALUE||g<Number.MIN_VALUE){continue}var c=Math.floor(g);var e=g-c;var a=o[h];if(p<=c&&c<=f){l[c]+=(1-e)*a;l[c+1]+=e*a}else{if(c==-1){l[0]+=e*a}else{if(c==f+1){l[c]+=(1-e)*a}}}}}return l};this.gB=function(a,g,e){var c=function(h){var m=0;var k=a.length-1;while(m<k-1){var l=parseInt((m+k)/2);if(h<a[l]){k=l}else{m=l}}return g[m]+(g[k]-g[m])*((h-a[m])/(a[k]-a[m]))};var b=[];for(var d=0;d<e.length;d++){var f=c(e[d]);b.push(isNaN(f)?0:Math.max(0,f))}return b};this.qI=function(e,g){var a=[];var h=[];for(var c=0;c<e.length;c++){a.push(e[c][0]);h.push(e[c][1])}var d=[];for(var c=0;c<g.length;c++){d.push(g[c][0])}var b=this.gB(a,h,d);var f=[];for(var c=0;c<d.length;c++){f.push([g[c][0],b[c]])}return f};this.Uj=function(r,B){var h=function(x){var d=x[1].length;for(var a=0;a<d;a++){x[1][a]*=-1}};var j=function(F,E){var I=F[0].length;var d=new Float32Array(I);var H=new Float32Array(I);for(var G=0;G<I;G++){d[G]=(F[0][G]*E[0][G])-(F[1][G]*E[1][G]);H[G]=(F[0][G]*E[1][G])+(F[1][G]*E[0][G])}return[d,H]};var o=[];for(var v=0;v<r.length;v++){if(isFinite(r[v])){o.push(r[v])}}if(!B||!B.length){B=this.ob(1/o.length,o.length)}var s=Math.max(512,o.length);if(s>512){s=Math.pow(Math.ceil(Math.log2(s)),2)}var z=this.bandwidthAdjust!=1?Number(this.bandwidthAdjust):this[this.bandwidthRule+"Rule"](o)*this.bandwidthAdjust;var u=this.lJ(o)-this.bandwidthCut*z;var b=this.K1(o)+this.bandwidthCut*z;var k=u-4*z;var p=b+4*z;var l=this.AQ(o,B,k,p,s);var f=this.XX(0,2*(p-k),false,2*s);var q=1;for(var v=s+1;v<s*2;v++){f[v]=-f[s-q++]}switch(this.densityKernel){case"gaussian":f=this.Ts(f,0,z);break;case"rectangular":var D=z*Math.sqrt(3);for(var v=0;v<f.length;v++){f[v]=Math.abs(f[v])<D?0.5/D:0}break;case"triangular":var D=z*Math.sqrt(6);for(var v=0;v<f.length;v++){f[v]=Math.abs(f[v]);f[v]=f[v]<D?(1-f[v]/D)/D:0}break;case"epanechnikov":var D=z*Math.sqrt(5);for(var v=0;v<f.length;v++){f[v]=Math.abs(f[v]);f[v]=f[v]<D?0.75*(1-Math.pow((f[v]/D),2))/D:0}break;case"quartic":case"biweight":var D=z*Math.sqrt(7);var C=15/16;for(var v=0;v<f.length;v++){f[v]=Math.abs(f[v]);f[v]=f[v]<D?C*Math.pow(1-Math.pow((f[v]/D),2),2)/D:0}break;case"cosine":var D=z/Math.sqrt(1/3-2/Math.pow(Math.PI,2));for(var v=0;v<f.length;v++){f[v]=Math.abs(f[v])<D?(1+Math.cos(Math.PI*f[v]/D))/(2*D):0}break;case"optcosine":var D=z/Math.sqrt(1-8/Math.pow(Math.PI,2));for(var v=0;v<f.length;v++){f[v]=Math.abs(f[v])<D?Math.PI/4*Math.cos(Math.PI*f[v]/(2*D))/D:0}break}var c=this.Jr(l);var m=this.Jr(f);h(m);var t=j(c,m);f=this.Jr(t[0],t[1],true);var A=[];for(var v=0;v<s;v++){A[v]=Math.max(0,f[0][v])/(s*2)}var g=this.XX(k,p,false,s);var w=this.XX(u,b,false,s);var e=this.gB(g,A,w);return{x:w,y:e,bw:z,summX:this.UL(w),summY:this.UL(e)}};this.LL=function(p,m,k,c,o){if(!c){c=25}if(!Array.isArray(c)){c=this.ob(c,2)}if(p.length!=m.length){throw new Error("data vectors must be the same length")}if(!p.every(function(h){return isFinite(h)})||!m.every(function(h){return isFinite(h)})){throw new Error("missing or infinite values in the data are not allowed")}if(!o){o=[this.cp(p),this.cp(m)]}if(!o[0].every(function(h){return isFinite(h)})||!o[1].every(function(h){return isFinite(h)})){throw new Error("only finite values are allowed in 'lims'")}if(!k){k=[this.nm(p)/4,this.nm(m)/4]}var s=this.XX(o[0][0],o[0][1],false,c[0]);var r=this.XX(o[1][0],o[1][1],false,c[1]);var a=[];for(var g=0;g<s.length;g++){a[g]=[];for(var f=0;f<p.length;f++){a[g][f]=this.Ts((s[g]-p[f])/k[0])}}var t=[];for(var g=0;g<m.length;g++){t[g]=[];for(var f=0;f<r.length;f++){t[g][f]=this.Ts((r[f]-m[g])/k[1])}}var l=[];for(var g=0;g<c[0];g++){l[g]=[];for(var f=0;f<c[1];f++){l[g][f]=0}}for(var d=0;d<s.length;d++){for(var b=0;b<r.length;b++){l[d][b]=0;for(var g=0;g<p.length;g++){l[d][b]+=a[d][g]*t[g][b]}l[d][b]/=(p.length*k[0]*k[1])}}var e=[];for(var d=0;d<r.length;d++){for(var b=0;b<s.length;b++){e.push(l[b][d])}}var q={x:s,y:r,z:e};return q};this.Ed=function(c){var a=Math.sqrt(this.rl(c));var b=4*Math.pow(a,5);var d=3*c.length;return Math.pow(b/d,0.2)};this.EO=function(d){var a=Math.sqrt(this.rl(d));var e=this.AF(d)/1.34;var c=Math.pow(d.length,-0.2);var b=e>0?Math.min(a,e):a;return 0.9*b*c};this.nm=function(d){var a=Math.sqrt(this.rl(d));var e=this.AF(d)/1.34;var c=Math.pow(d.length,-0.2);var b=e>0?Math.min(a,e):a;return 4*1.06*b*c};this.ia=function(y){var o=this;var r=y.length;var u,s;if(r<2){return this.EO(y)}var d=function(g){return Math.exp(-0.5*g*g)/Math.sqrt(2*Math.PI)};var p=function(g,h){if(h===2){return(g*g-1)*d(g)}if(h===4){return(g*g*g*g-6*g*g+3)*d(g)}throw new Error("Derivative "+h+" not implemented for SJ bandwidth.")};var m=function(z,n,A){var j=0;for(var g=0;g<A.length;g++){j+=p(A[g]/n,z)}return 2*j/(r*(r-1)*Math.pow(n,z+1))};var b=[];for(u=0;u<r;u++){for(s=0;s<u;s++){b.push(y[u]-y[s])}}var e=1/(2*Math.sqrt(Math.PI));var x=1/Math.sqrt(Math.PI);var k=1;var v=o.EO(y);var l;var q=0.00001;var f=20;var t=0;while(Math.abs(v-l)/l>q&&t<f){l=v;var a=m(4,l,b);var w=Math.pow(x/(k*a*r),1/7);var c=m(2,w,b);v=Math.pow(e/(k*c*r),1/5);t++}return v};this.Zz=function(u){var l=this;var o=u.length;if(o<2){return this.EO(u)}var b=function(i){return Math.exp(-0.5*i*i)/Math.sqrt(2*Math.PI)};var h=function(j){var i=(1/Math.sqrt(4*Math.PI))*Math.exp(-(j*j)/4);var n=b(j);return i-2*n};var a=[];for(var s=0;s<o;s++){for(var r=0;r<s;r++){a.push(u[s]-u[r])}}var k=function(w){var v=0;for(var j=0;j<a.length;j++){v+=h(a[j]/w)}var n=(2*v)/(o*(o-1)*w);var y=1/(2*Math.sqrt(Math.PI));var x=y/(o*w);return x+n};var t=this.EO(u);var e=t/4;var m=t*4;var q=100;var p=(m-e)/q;var d=Infinity;var f=t;for(var s=0;s<=q;s++){var c=e+s*p;if(c<=0.000001){continue}var g=k(c);if(g<d){d=g;f=c}}return f};this.lk=function(f){var r=this;var c=f.length;var g,e;if(c<2){return this.EO(f)}var o=function(h){return Math.exp(-0.5*h*h)/Math.sqrt(2*Math.PI)};var q=function(h,i){if(i===4){return(h*h*h*h-6*h*h+3)*o(h)}throw new Error("Derivative "+i+" not implemented for BCV bandwidth.")};var p=function(t,s,u){var n=0;for(var j=0;j<u.length;j++){n+=q(u[j]/s,t)}return 2*n/(c*(c-1)*Math.pow(s,t+1))};var m=[];for(g=0;g<c;g++){for(e=0;e<g;e++){m.push(f[g]-f[e])}}var d=this.ia(f);var a=p(4,d,m);if(a<=0){return this.nm(f)}var l=1/(2*Math.sqrt(Math.PI));var b=1;var k=Math.pow(l/(c*b*a),1/5);return k};this.yu=function(d,f,b){var a=this.meta;if(!a.vals.density){a.vals.density={}}var e=d.length;var c=this.TU([e,this.bandwidthRule,this.bandwidthAdjust,this.bandwidthCut,this.densityKernel,this.axisAlgorithm,this.histogramBreaks,this.histogramBinWidth,this.histogramBins,this.histogramRight,this.histogramLowest,this.histogramStat,(f||"Global")]);c=c.join(":");if(!a.vals.density.hasOwnProperty(c)){a.vals.density[c]=this.sL(d,f,b)}return a.vals.density[c]};this.sL=function(w,E,p){var o=function(j,I){var H=[];var F=[];for(var G=0;G<j.length;G++){if(!isNaN(parseFloat(j[G]))&&isFinite(j[G])){H.push(j[G]);F.push(I?I[G]:G)}}return[H,F]};var a=o(w,p);var C=a[0];var u=a[1];var h=this.cp(C,false,false,true);if(!C.length||!h){if(C.length&&!h){return{range:[C[0]-0.5,C[0]+0.5],data:C,idxs:u,median:[C[0],C.length],trim:[C[0],C[0]],xy:[],bw:0,values:[C[0]-0.5,C[0],C[0]+0.5],quantilesX:[],quantilesY:[],indecesY:[],sumY:0,maxY:0,minY:0,minData:C[0],maxData:C[0],globalMaxY:0,histogram:{estimator:1,breaks:[C[0]-0.5,C[0]+0.5],fbreaks:[C[0]-1,C[0]+1],count:[C.length],mids:[C[0]],idxs:[[]],size:1,half:0.5,maxY:C.length,name:E,labels:["Bin 1 ("+(C[0])+" - "+(C[0])+")"]},name:E,n:0}}else{return{range:[0,0],data:[],idxs:[],median:0,trim:[0,0],xy:[],bw:0,values:[],quantilesX:[],quantilesY:[],indecesY:[],sumY:0,maxY:0,minY:0,minData:0,maxData:0,globalMaxY:0,histogram:{estimator:0.5,breaks:[0.5],count:[0],mids:[0.5],idxs:[[]],size:1,half:0.5,maxY:1,name:E,labels:["Bin 1 (0 - 1)"]},name:E,n:0}}}var k=this.cp(C);var q=this.xZ(C);var B=this.Jf(C,E,u);var l=this.Uj(w);var x=k[0];var A=k[1];var n=l.summX;var m=l.summY;var t=l.bw;var b=[];for(var z=0;z<l.x.length;z++){b.push([l.x[z],l.y[z]])}var g=[];var f=[];var s=Number.NEGATIVE_INFINITY;var d=Number.POSITIVE_INFINITY;var c=0;var v,e;for(var z=0;z<l.x.length;z++){if(l.x[z]>x&&l.x[z]<A){if(g.length==0){v=z;g.push(l.x[z-1]);f.push(l.y[z-1]);c+=l.y[z-1];s=Math.max(s,l.y[z-1]);d=Math.min(d,l.y[z-1])}g.push(l.x[z]);f.push(l.y[z]);c+=l.y[z];s=Math.max(s,l.y[z]);d=Math.min(d,l.y[z])}else{if(l.x[z]>=A){e=z;g.push(l.x[z]);f.push(l.y[z]);c+=l.y[z];s=Math.max(s,l.y[z]);d=Math.min(d,l.y[z]);break}}}var D=this[this.axisAlgorithm](0,s,this.yAxisTicks,this.isGraphTime,this.axisWilkinsonLoose);var r=[];for(var z=0;z<6;z++){for(var y=0;y<g.length;y++){if(g[y]>=n[z]){r.push(f[y]);break}}}return{range:k,data:C,idxs:u,median:q,trim:[v,Math.max(v,e)],xy:b,bw:t,values:D,quantilesX:n,quantilesY:m,indecesY:r,sumY:c,maxY:s,minY:d,minData:x,maxData:A,globalMaxY:s,histogram:B,name:E,n:C.length}}};CanvasXpress.prototype.initHist=function(){this.O2=function(b,a,c){if(b&&b.length>1){b=this.C1(b,a,c);var d=this.AF(b);return d==0?1:Math.ceil(2*d*Math.pow(b.length,-1/3))}else{if(b&&b.length==1){return Number(b[0])}else{return 1}}};this.Sm=function(b,a,c){if(b&&b.length>1){b=this.C1(b,a,c);return Math.ceil((Math.log(b.length)/Math.LN2)+1)}else{if(b&&b.length==1){return Number(b[0])}else{return 1}}};this.KF=function(b,a,e){if(b&&b.length>1){b=this.C1(b,a,e);var c=this.cp(b);var d=Math.sqrt(this.vriance(b));return Math.ceil((c[1]-c[0])/(3.5*d*Math.pow(b.length,-1/3)))}else{if(b&&b.length==1){return Number(b[0])}else{return 1}}};this.WW=function(k,h,m,c){var a=k.length;var e=h.length;var j=e-1;var l=[];for(var d=0;d<j;d++){l[d]=[]}for(var d=0;d<a;d++){if(isFinite(k[d])){var g=0;var b=j;if(h[g]<=k[d]&&(k[d]<h[b]||(k[d]==h[b]&&c))){while(b-g>=2){var f=Math.floor((b+g)/2);if(k[d]>h[f]||(!m&&k[d]==h[f])){g=f}else{b=f}}l[g].push(d)}}}return l};this.Jf=function(y,z,b){var c=[];var k=[];for(var r=0;r<y.length;r++){if(isFinite(y[r])){c.push(y[r]);if(b){k.push(b[r])}}}var d=this.cp(c);var w=[];var g=this[this.histogramSizeEstimator](c);if(y.length==1){w=[y[0]-0.5,y[0]+0.5]}else{if(this.histogramBreaks.length){w=this.histogramBreaks}else{if(this.histogramBinWidth){w=this.iH(d[0],d[1],g);w=this.XX(w[0],w[w.length-1],this.histogramBinWidth)}else{if(this.histogramBins){g=(d[1]-d[0])/this.histogramBins;if(g*100!=g.toFixed(2)*100){w=this.iH(d[0],d[1],this.histogramBins)}else{w=[];for(var r=0;r<=this.histogramBins;r++){w.push(Number(this.gG(d[0]+(r*g))))}var u=0;while(w[w.length-1]<d[1]){w.push(Number(this.gG(w[w.length-1]+g)));u++;if(u>100){w.push(d[1]+g);break}}}}else{w=this.iH(d[0],d[1],g)}}}}var s=this.eu(w);var e=this.xZ(s);var t=1e-7*(w.length>5?e[0]:1);var a=[];a[0]=w[0]-t;if(this.histogramRight){for(var r=1;r<w.length-1;r++){a.push(w[r]+t)}}else{for(var r=1;r<w.length-1;r++){a.push(w[r]-t)}}a[w.length-1]=w[w.length-1]+t;var f=this.WW(c,a,this.histogramRight,this.histogramLowest);var o=[];var v=[];var l=[];var p=0;for(var r=0;r<w.length-1;r++){o[r]=f[r].length;p=Math.max(p,o[r]);v[r]=(w[r]+w[r+1])*0.5;l.push("Bin"+(r+1)+" ("+w[r]+" - "+w[r+1]+")")}if(b){var n=[];for(var r=0;r<f.length;r++){n[r]=[];for(var m=0;m<f[r].length;m++){n[r].push(k[f[r][m]])}}f=n}return{estimator:g,breaks:w,fbreaks:a,count:o,mids:v,idxs:f,size:s[0],half:s[0]/2,maxY:p,name:z,labels:l}};this.KI=function(h,f){var i=this.histogramRight;var b=this.histogramLowest;var c=f?f.length:0;var g=c-1;if(isFinite(h)&&c){var e=0;var a=g;if(f[e]<=h&&(h<f[a]||(h==f[a]&&b))){while(a-e>=2){var d=Math.floor((a+e)/2);if(h>f[d]||(!i&&h==f[d])){e=d}else{a=d}}return e}}return NaN};this.Eh=function(a,p,x){if(this.tO(a)&&this.tO(a[0])&&a.length>0){var h=0;for(var s=0;s<p.length;s++){h=Math.max(h,this.meta.data.d.s[p[s].toString()].maxY)}for(var s=0;s<p.length;s++){this.meta.data.d.s[p[s].toString()].globalMaxY=h}var w=[];for(var s=0;s<a.length;s++){w=w.concat(a[s])}var d=this.sL(w,x);var o=d.histogram.count.length;var l=d.histogram.breaks;var u=d.histogram.fbreaks;var e=this.isTransformedData?this.data.y.trans:this.data.y.data;var q=l[0];var g={data:[],vars:[],smps:[],histogram:[],cols:[],values:[],density:[],global:d.histogram};for(var s=0;s<o;s++){g.vars.push("Bin"+(s+1)+" ("+this.gG(d.histogram.breaks[s])+" - "+this.gG(d.histogram.breaks[s+1])+")");g.data[s]=[];g.data[s][0]=l[s+1]-q;g.histogram[s]=[];g.values[s]=[];for(var r=0;r<p.length;r++){g.histogram[s][r]=[];g.values[s][r]=[]}}g.smps.push("Bin");for(var s=0;s<p.length;s++){var m=0;var t=0;g.smps.push(this.data.y.smps[p[s]]);var b=[];for(var r=0;r<o;r++){b[r]=0}for(var r=0;r<this.varIndices.length;r++){var f=e[this.varIndices[r]][p[s]];if(f!=null&&f!==""&&!isNaN(f)){var k=this.KI(f,u);if(!isNaN(k)){b[k]++;g.histogram[k][s].push(this.varIndices[r]);g.values[k][s].push(f);m++}}}for(var r=0;r<o;r++){g.data[r][s+1]=b[r];t=Math.max(t,b[r])}g.cols.push(t);g.density[s]=this.meta.data.d.s[p[s].toString()]}return g}};this.mL=function(j,h,a){var z=[];var b=[];var s=[];if(a){for(var C=0;C<j.length;C++){if(isFinite(j[C])&&isFinite(h[C])){if(j[C]>=this.xAxisMin&&j[C]<=this.xAxisMax&&h[C]>=this.yAxisMin&&h[C]<=this.yAxisMax){z.push(j[C]);b.push(h[C]);s.push(C)}}}}else{for(var C=0;C<j.length;C++){if(isFinite(j[C])&&isFinite(h[C])){z.push(j[C]);b.push(h[C]);s.push(C)}}}var u=s.length;var w=0;var v={data:{},x:0,y:0};var g=this.histogramBins;var G=this.histogramBinWidth;if(this.tO(this.binplotBins)){if(this.binplotBins[0]){this.histogramBins=this.binplotBins[0]}else{this.histogramBins=30}}else{this.histogramBins=this.binplotBins}if(this.tO(this.binplotBinWidth)){if(this.binplotBinWidth[0]){this.histogramBinWidth=this.binplotBinWidth[0]}else{this.histogramBinWidth=false}}else{this.histogramBinWidth=this.binplotBinWidth}if(!z.length){return false}var E=this.Jf(z,"hex-x-data");if(this.tO(this.binplotBins)){if(this.binplotBins[1]){this.histogramBins=this.binplotBins[1]}else{this.histogramBins=30}}else{this.histogramBins=this.binplotBins}if(this.tO(this.binplotBinWidth)){if(this.binplotBinWidth[1]){this.histogramBinWidth=this.binplotBinWidth[1]}else{this.histogramBinWidth=false}}else{this.histogramBinWidth=this.binplotBinWidth}var D=this.Jf(b,"hex-y-data");this.histogramBins=g;this.histogramBinWidth=G;var f=E.size;var e=D.size;v.x=f;v.y=e;if(this.binplotShape=="hexagon"){var l=f*2*Math.sin(Math.PI/3);var k=e*1.5;for(var C=0;C<u;++C){var r=z[C];var p=b[C];var F=Math.round(p/=k);var H=Math.round(r=r/l-(F&1)/2);var d=p-F;if(Math.abs(d)*3>1){var B=r-H;var t=H+(r<H?-1:1)/2;var I=F+(p<F?-1:1);var A=r-t;var c=p-I;if(B*B+d*d>A*A+c*c){H=t+(F&1?1:-1)/2;F=I}}var q=this.gG(H)+":"+this.gG(F);if(!v.data.hasOwnProperty(q)){v.data[q]={idx:[],x:(H+(F&1)/2)*l,y:F*k}}v.data[q].idx.push(s[C]);w=Math.max(w,v.data[q].idx.length)}}else{var l=f;var k=e;for(var C=0;C<u;++C){var r=this.KI(z[C],E.fbreaks);var p=this.KI(b[C],D.fbreaks);var F=D.breaks[p+1];var H=E.breaks[r+1];var q=this.gG(H)+":"+this.gG(F);if(!v.data.hasOwnProperty(q)){v.data[q]={idx:[],x:H,y:F}}v.data[q].idx.push(s[C]);w=Math.max(w,v.data[q].idx.length)}}var o=this.dl((this.isCxplot?this.colorSpectrum:this.NH(8,this.binplotColorScheme,true)),0,w);v.brew=o;for(var q in v.data){v.data[q].color=this.PW(o,v.data[q].idx.length)}return v}};CanvasXpress.prototype.initLoess=function(){this.P0=function(e,g){var a=this.meta;if(!a.vals.loess){a.vals.loess={}}var f=e[0].length;var b=e[2]?2:1;var c=this.TU([f,b,this.loessStatistics,this.loessSurface,this.loessFamily,this.loessSpan,this.loessNormalize,this.loessDegree,this.loessIterations,this.loessCell,this.loessSteps,this.loessBandwidth,this.transformData,(g||"Global")]);c=c.join(":");if(!a.vals.loess.hasOwnProperty(c)){a.vals.loess[c]=e[2]?this.BQ(e):this.rQ(e)}return a.vals.loess[c]};this.hs=function(f){var c=[0,0,0,0,0];var p=0;var m=Number.NEGATIVE_INFINITY;var j=Number.POSITIVE_INFINITY;for(var h=0;h<f.length;h++){p++;m=Math.max(m,f[h][0]);j=Math.min(j,f[h][0]);c[0]+=f[h][0];c[1]+=f[h][1];c[2]+=f[h][0]*f[h][0];c[3]+=f[h][0]*f[h][1];c[4]+=f[h][1]*f[h][1]}var e=((p*c[2])-(c[0]*c[0]));var a=((p*c[3])-(c[0]*c[1]));var b=e===0?0:a/e;var r=(c[1]/p)-((b*c[0])/p);var l=[];for(var h=0;h<f.length;h++){l[h]=[f[h][0],(f[h][0]*b)+r]}var q=[];var g=0;var s=0;var o=c[0]/p;var d=Math.max(h-2,1);var t=this.qt(1-this.confidenceLevel,d);for(var k=0;k<h;k++){g+=Math.pow(f[k][1]-l[k][1],2);s+=Math.pow(f[k][0]-o,2)}g=Math.sqrt(g/d);for(var k=0;k<h;k++){q.push((-t*g*Math.sqrt((1/h)+Math.pow(f[k][0]-o,2)/s)*1))}return q};this.BQ=function(X){var E=this;var V=function(d){var w=Math.abs(d);var i=1/(1+w/2);var j=i*Math.exp(-w*w-1.26551223+i*(1.00002368+i*(0.37409196+i*(0.09678418+i*(-0.18628806+i*(0.27886807+i*(-1.13520398+i*(1.48851587+i*(-0.82215223+i*0.17087277)))))))));return d>=0?j:2-j};var k=function(d){if(d>=2){return -100}if(d<=0){return 100}var aa=(d<1)?d:2-d;var w=Math.sqrt(-2*Math.log(aa/2));var Z=-0.70711*((2.30753+w*0.27061)/(1+w*(0.99229+w*0.04481))-w);for(var i=0;i<2;i++){var y=V(Z)-aa;Z+=y/(1.1283791670955126*Math.exp(-(Z*Z))-Z*y)}return(d<1)?Z:-Z};var W=function(i,j,d){var w=Math.sqrt(j);return i-w*Math.sqrt(2)*k(2*d)};var N=function(d){var Z=Math.ceil(0.1*d.length);var w=E.TU(d);w=w.sort(function(i,aa){return i-aa});for(var j=0;j<Z;j++){w.shift();w.pop()}var y=E.uc(w);return function(i){return i.map(function(aa){return aa/y})}};var a=function(j,d){var y=[];for(var w=0;w<j.length;w++){if(E.tO(j[w])&&E.tO(d[w])){y.push(a(j[w],d[w]))}else{y.push(j[w]*d[w])}}return y};var n=function(j,ab){var y=function(d,ac,ae){if(ae>1){for(var ad=ac;ad<j.length;ad++){y(a(d,j[ad]),ad,ae-1)}}else{aa.push(d)}};var aa=[];var Z=Array(j[0].length).fill(1);for(var w=0;w<=ab;w++){y(Z,0,w+1)}return aa};var l=function(j,i){if(j.length<2){return Math.abs(j[0]-i[0])}else{return Math.sqrt(j.reduce(function(d,w,y){return d+Math.pow(w-i[y],2)},0))}};var O=function(i,d){return i.map(function(j){return d.map(function(w){return l(j,w)})})};var o=function(w,j,i){return w<j?Math.pow(1-Math.pow(w/j,i),i):0};var p=function(y,j,i){return y.map(function(aa){var ac=E.I5(aa);var ab=[];for(var Z=0;Z<ac.length;Z++){ab.push([aa[ac[Z]],j[ac[Z]]])}var ae=E.RD(j)*i;var d=0;var w=ab.findIndex(function(af){d+=af[1];return d>=ae});var ad=i>1?ab[ab.length-1][0]*i:ab[w][0];return a(aa.map(function(af){return o(af,ad,3)}),j)})};var q=function(ad,ac){var ab=ad.length;var w=ad[0].length;var y=ac.length;var ae=ac[0].length;var j=new Array(ab);for(var d=0;d<ab;d++){j[d]=new Array(ae);for(var aa=0;aa<ae;aa++){j[d][aa]=0;for(var Z=0;Z<w;Z++){j[d][aa]+=ad[d][Z]*ac[Z][aa]}}}return j};var g=function(y,w){var d=new Array(y.length);for(var aa=0;aa<d.length;aa++){d[aa]=new Array(y[aa].length);for(var Z=0;Z<d[aa].length;Z++){d[aa][Z]=y[aa][Z]-w[aa][Z]}}return d};var s=function(d){var j=[];for(var w=0;w<d.length;w++){j.push(d[w][0])}return j};var H=function(j,w,y){var ab=a(y,w);var ac=E.rq(j.map(function(ae){return a(y,ae)}));var aa=q(j,ac);var d=q(j,E.rq([ab]));var Z=q(E.qh("inv",aa),d);var i=q(E.rq(Z),j);var ad=g([w],i);return{beta:Z,yhat:i,residuals:ad}};var e=function(d){b=[];S=[];m=[];M=a(d,J);var i=E.rq(L);i.forEach(function(w,j){var y=H(Y,F,M[j]);b.push(s(q([w],y.beta)));S.push(y.residuals);m.push(s(y.beta));var Z=E.xZ(E.yw(y.residuals[0]));d[j]=y.residuals[0].map(function(aa){return o(aa,6*Z[0],2)})})};this.loessDegree=parseInt(this.loessDegree);if(this.loessDegree<0||this.loessDegree>2){this.loessDegree=2}this.loessBandWidth=Number(this.loessBandwidth);if(this.loessBandwidth<0||this.loessBandwidth>1){this.loessBandwidth=0.8}this.loessSpan=Number(this.loessSpan);if(this.loessSpan<0||this.loessSpan>1){this.loessSpan=0.75}var x=[X[0]];var r=[this.loessSteps];var F=X[1];var Q=1;if(X[2]){x.push(X[2]);r.push(this.loessSteps)}var G=Array(X[0].length).fill(1);var Y=n(x,this.loessDegree);var c=x.map(N);var K=x.map(function(i,d){return c[d](i)});var h=this.nG(K);var D=[];var I=[];x.forEach(function(ac,ad){var d=ac.sort(function(ae,i){return ae-i});var j=d[0];var Z=d[d.length-1];var w=(Z-j)/(r[ad]-1);I.push([]);for(var y=0;y<r[ad];y++){I[ad].push(j+y*w)}var aa=1;var ab=1;for(var y=ad-1;y>=0;y--){aa*=r[y]}for(var y=ad+1;y<x.length;y++){ab*=r[y]}D.push([]);for(var y=0;y<aa;y++){D[ad]=D[ad].concat(I[ad].reduce(function(i,ae){return i.concat(Array(ab).fill(ae))},[]))}});var z=this.TU(D);var U=D[0].length;var L=n(z,this.loessDegree);var T=z.map(function(i,d){return c[d](i)});var f=O(this.rq(T),h);var J=p(f,G,this.loessBandwidth);var b;var S;var m;var M;var B=Array(U).fill(Array(X[0].length).fill(1));for(var u=0;u<Q;u++){e(B)}var t={fitted:s(b),residuals:S,betas:m,weights:M};(function(){var y=W(0,1,1-(1-E.loessSpan)/2);var j=M.map(function(ac,Z){var aa=E.RD(ac);var i=q([ac],E.rq([ac]))[0];var ab=Math.sqrt(q([E.bu(S[Z][0])],E.rq([ac]))/(aa-i/aa));return ab*y});var w=[];for(var d=0;d<b.length;d++){w[d]=[I[0][d],b[d][0]]}Object.assign(t,{halfwidth:j,se:E.hs(w)})})();var A=[];if(X[2]){for(var R=0;R<this.loessSteps;R++){var C=[];for(var P=0;P<this.loessSteps;P++){C.push(t.fitted[P*this.loessSteps+R])}A.push(C)}}for(var R=0;R<this.loessSteps;R++){t.residuals[R]=t.residuals[R][0]}if(!this.meta.vals.loess){this.meta.vals.loess={}}if(X[2]){return{x:I[0],y:I[1],z:A,b:t.betas,c:t.halfwidth,r:t.residuals,se:t.se}}else{return{x:D[0],y:t.fitted,b:t.betas,c:t.halfwidth,r:t.residuals,se:t.se}}};this.rQ=function(am){var V=this;function R(aw,ap,at,d,aq,av,au){if(aw<=0){return}if(au==null){au=1}else{aw+=(au-1)}if(av!=null){for(var ar=au;ar<=aw;ar++){d[ar][av]=ap[ar][av]}}else{for(var ar=1;ar<=aw;ar++){d[ar]=ap[ar]}}}function L(aq,ay,az,ax,d){if(aq<1||az<1){return 0}if(aq==1){return Math.abs(ay[1])}var ar=0;var ap=1;var au=[];if(d==null){d=1}else{aq+=(d-1)}if(ax!=null){for(var at=d;at<=aq;at++){au[at]=ay[at][ax]}}else{au=ay}for(var at=d;at<=aq;at++){if(au[at]!=0){var aw=Math.abs(au[at]);var av=ar/aw;if(ar<aw){ap=1+ap*Math.pow((ar/aw),2);ar=aw}else{ap=ap+Math.pow((aw/ar),2)}}}return ar*Math.sqrt(ap)}function w(aq,ay,aw,ax,av,au,ar,d){var ap=0;if(aq<=0){return}if(d==null){d=1}else{aq+=(d-1)}if(au!=null&&ar!=null){for(var at=d;at<=aq;at++){ap=ay[at][au];ay[at][au]=ax[at][ar];ax[at][ar]=ap}}else{for(var at=1;at<=aq;at++){ap=ay[at];ay[at]=ax[at];ax[at]=ap}}}function Q(aw,aq,ap,at,av,au){if(aw<0||at<0){return}var d=[];if(au==null){au=1}else{aw+=(au-1)}if(av!=null){for(var ar=au;ar<=aw;ar++){if(ap[ar]){d[ar]=ap[ar][av]}}}else{d=ap}for(ar=au;ar<=aw;ar++){if(ap[ar]){d[ar]*=aq}}if(av!=null){for(var ar=au;ar<=aw;ar++){if(ap[ar]){ap[ar][av]=d[ar]}}}}function b(ap,aB,az,aA,ax,au,ar,aq,d){var ay=0;if(ap<=0){return 0}if(au!=null&&ar!=null&&aq!=null&&d!=null){var av=[];var aw=[];ap+=(aq-1);for(var at=aq;at<=ap;at++){av[at]=aB[at][au];aw[at]=aA[at][d]}for(var at=aq;at<=ap;at++){ay+=av[at]*aw[at]}}else{var av=[];var aw=[];if(aq==null){aq=1}else{ap+=(aq-1)}if(au!=null&&ar!=null){for(var at=aq;at<=ap;at++){av[at]=aB[at][au];aw[at]=aA[at][ar]}}else{if(au!=null){for(var at=aq;at<=ap;at++){av[at]=aB[at][au];aw[at]=aA[at]}}else{av=aB;aw=aA}}for(var at=aq;at<=ap;at++){ay+=av[at]*aw[at]}}return ay}function Y(ap,az,aA,ax,ay,aw,at,aq,d){if(ap<=0){return}if(az==0){return}var au=[];var av=[];if(d==null){d=1}else{ap+=(d-1)}if(at!=null&&aq!=null){for(var ar=d;ar<=ap;ar++){au[ar]=aA[ar][at];av[ar]=ay[ar][aq]}}else{if(at!=null){for(var ar=d;ar<=ap;ar++){au[ar]=aA[ar][at];av[ar]=ay[ar]}}else{if(aq!=null){for(var ar=d;ar<=ap;ar++){au[ar]=aA[ar];av[ar]=ay[ar][aq]}}else{au=aA;av=ay}}}for(var ar=d;ar<=ap;ar++){av[ar]+=az*au[ar]}if(at!=null&&aq!=null){for(var ar=d;ar<=ap;ar++){ay[ar][aq]=av[ar]}}else{if(at!=null){for(var ar=d;ar<=ap;ar++){ay[ar]=av[ar]}}else{if(aq!=null){for(var ar=d;ar<=ap;ar++){ay[ar][aq]=av[ar]}}else{ay=av}}}}function U(ap){var aw=ap[0];var au=ap[1];var ar=ap[2]||1;var ax=ap[3]||0;var d,at;var av=au;if(Math.abs(aw)>Math.abs(au)){av=aw}var aq=Math.abs(aw)+Math.abs(au);if(aq==0){ar=1;ax=0;d=0;at=0}else{d=aq*Math.sqrt(Math.pow(aw/aq,2)+Math.pow(au/aq,2));d=ai(1,av)*d;ar=aw/d;ax=au/d;at=1;if(Math.abs(aw)>Math.abs(au)){at=ax}if(Math.abs(au)>=Math.abs(aw)&&ar!=0){at=1/ar}}aw=d;au=at;return[aw,au,ar,ax]}function E(aq,aA,ax,ay,aw,av,az,au,ar,d){if(aq<=0){return}if(d==null){d=1}else{aq+=(d-1)}for(var at=d;at<=aq;at++){var ap=av*aA[at][au]+az*ay[at][ar];ay[at][ar]=av*ay[at][ar]-az*aA[at][au];aA[at][au]=ap}}function t(ax,aq,aE,aF,aC,aw,aL,av,aM,d,aI,au){var aD=au/10000!=0;var ap=(au%10000)!=0;var aB=(au%1000)/100!=0;var at=(au%100)/10!=0;var az=(au%10)!=0;var aA=Math.min(aF,aE-1);if(aA==0){if(aD){aL[1]=aw[1]}if(ap){av[1]=aw[1]}if(az){aI[1]=aw[1]}if(aB){if(ax[1][1]==0){throw new Error("Error in dqrsl x[1][1] = 0.0")}aM[1]=aw[1]/ax[1][1]}if(at){d[1]=0}throw new Error("Error in dqrsl")}if(aD){R(aE,aw,1,aL,1)}if(ap){R(aE,aw,1,av,1)}if(aD){for(var aJ=1;aJ<=aA;aJ++){var aG=aA-aJ+1;if(aC[aG]!=0){var aK=ax[aG][aG];ax[aG][aG]=aC[aG];var ay=-b(aE-aG+1,ax,1,aL,1,aG,null,aG)/ax[aG][aG];Y(aE-aG+1,ay,ax,1,aL,1,aG,null,aG);ax[aG][aG]=aK}}}if(ap){for(var aG=1;aG<=aA;aG++){if(aC[aG]!=0){var aK=ax[aG][aG];ax[aG][aG]=aC[aG];var ay=-b(aE-aG+1,ax,1,av,1,aG,null,aG)/ax[aG][aG];Y(aE-aG+1,ay,ax,1,av,1,aG,null,aG);ax[aG][aG]=aK}}}if(aB){R(aF,av,1,aM,1)}var ar=aF+1;if(az){R(aF,av,1,aI,1)}if(at&&aF<aE){R(aE-aF,av,1,d,1,ar)}if(az&&ar<=aE){for(var aH=ar;aH<=aE;aH++){aI[aH]=0}}if(at){for(var aH=1;aH<=aF;aH++){d[aH]=0}}if(aB){for(var aJ=1;aJ<=aF;aJ++){var aG=aF-aJ+1;if(ax[aG][aG]==0){throw new Error("Error in dqrsl")}aM[aG]=aM[aG]/ax[aG][aG];if(aG!=1){var ay=-aM[aG];Y(aG-1,ay,ax,1,aM,1,aG,null,1)}}}if(at||az){for(var aJ=1;aJ<=aA;aJ++){var aG=aA-aJ+1;if(aC[aG]!=0){var aK=ax[aG][aG];ax[aG][aG]=aC[aG];if(at){var ay=-b(aE-aG+1,ax,1,d,1,aG,null,aG)/ax[aG][aG];Y(aE-aG+1,ay,ax,1,d,1,aG,null,aG)}if(az){var ay=-b(aE-aG+1,ax,1,aI,1,aG,null,aG)/ax[aG][aG];Y(aE-aG+1,ay,ax,1,aI,1,aG,null,aG)}ax[aG][aG]=aK}}}}function r(aw,at,aE,aA,aC,ax,aD,au){var ar,aK,aq,aH,av,aG,aL,aB,ap,d,az,ay;aL=1;aB=0;if(au!=0){for(var aI=1;aI<=aA;aI++){ar=ax[aI]>0;ap=ax[aI]<0;ax[aI]=aI;if(ap){ax[aI]=-aI}if(ar){if(aI!=aL){w(aE,aw,1,aw,1,aI,1,aL,aI,1)}ax[aI]=ax[aL];ax[aL]=aI;aL=aL+1}}aB=aA;for(var aJ=1;aJ<=aA;aJ++){aI=aA-aJ+1;if(ax[aI]<0){ax[aI]=-ax[aI];if(aI!=aB){w(aE,aw,1,aw,1,aB,aI,1);aH=ax[aB];ax[aB]=ax[aI];ax[aI]=aH}aB=aB-1}}}if(aB>=aL){for(var aI=aL;aI<=aB;aI++){aC[aI]=L(aE,aw,1,aI,1);aD[aI]=aC[aI]}}aq=Math.min(aE,aA);for(var aF=1;aF<=aq;aF++){if(aF>=aL&&aF<aB){av=0;ay=aF;for(var aI=aF;aI<=aB;aI++){if(aC[aI]>av){av=aC[aI];ay=aI}}if(ay!=aF){w(aE,aw,1,aw,1,aF,ay,1);aC[ay]=aC[aF];aD[ay]=aD[aF];aH=ax[ay];ax[ay]=ax[aF];ax[aF]=aH}}aC[aF]=0;if(aF!=aE){aG=L(aE-aF+1,aw,1,aF,aF);if(aG!=0){if(aw[aF][aF]!=0){aG=ai(aG,aw[aF][aF])}Q(aE-aF+1,1/aG,aw,1,aF,aF);aw[aF][aF]=1+aw[aF][aF];aK=aF+1;if(aA>=aK){for(var aI=aK;aI<=aA;aI++){az=-b(aE-aF+1,aw,1,aw,1,aF,aI,aF)/aw[aF][aF];Y(aE-aF+1,az,aw,1,aw,1,aF,aI,aF);if(aI>=aL&&aI<=aB){if(aC[aI]!=0){d=1-Math.pow(Math.abs(aw[aF][aI])/aC[aI],2);d=Math.max(d,0);az=d;d=1+0.05*d*Math.pow(aC[aI]/aD[aI],2);if(d!=1){aC[aI]=aC[aI]*Math.sqrt(az)}aC[aI]=L(aE-aF,aw,1,aF+1,aI);aD[aI]=aC[aI]}}}}aC[aF]=aw[aF][aF];aw[aF][aF]=-aG}}}}function M(aT,a2,a1,aZ,bc,aX,aW,aR,aF){var aK=0;var aM=30;var aD=false;var aB=false;var aE=(aF%100)/10;var aS=a2;if(aE>1){aS=Math.min(a2,a1)}if(aE!=0){aD=true}if((aF%10)!=0){aB=true}var aU=Math.min(a2-1,a1);var a3=Math.max(0,Math.min(a1-2,a2));var aJ=Math.max(aU,a3);if(aJ>=1){for(var a5=1;a5<=aJ;a5++){var aC=a5+1;if(a5<=aU){aZ[a5]=L(a2-a5+1,aT,1,a5,a5);if(aZ[a5]!=0){if(aT[a5][a5]!=0){aZ[a5]=ai(aZ[a5],aT[a5][a5])}Q(a2-a5+1,1/aZ[a5],aT,1,a5,a5);aT[a5][a5]++}aZ[a5]=-aZ[a5]}if(a1>=aC){for(var a7=aC;a7<=a1;a7++){if(a5<=aU&&aZ[a5]!=0){var aY=-b(a2-a5+1,aT,1,aT,1,a5,a7,a5)/aT[a5][a5];Y(a2-a5+1,aY,aT,1,aT,1,a5,a7,a5)}bc[a7]=aT[a5][a7]}}if(aD&&a5<=aU){for(var a8=a5;a8<=a2;a8++){aX[a8][a5]=aT[a8][a5]}}if(a5<=a3){bc[a5]=L(a1-a5,bc,1,null,aC);if(bc[a5]!=0){if(bc[aC]!=0){bc[a5]=ai(bc[a5],bc[aC])}Q(a1-a5,1/bc[a5],bc,1,null,aC);bc[aC]++}bc[a5]=-bc[a5];if(aC<=a2&&bc[a5]!=0){for(var a8=aC;a8<=a2;a8++){aR[a8]=0}for(var a7=aC;a7<=a1;a7++){Y(a2-a5,bc[a7],aT,1,aR,1,a7,null,aC)}for(var a7=aC;a7<=a1;a7++){Y(a2-a5,-bc[a7]/bc[aC],aR,1,aT,1,null,a7,aC)}}if(aB){for(var a8=aC;a8<=a1;a8++){if(!aW[a8]){aW[a8]=[]}aW[a8][a5]=bc[a8]}}}}}var a4=Math.min(a1,a2+1);var d=aU+1;var at=a3+1;if(aU<a1){aZ[d]=aT[d][d]}if(a2<a4){aZ[a4]=0}if(at<a4){bc[at]=aT[at][a4]}bc[a4]=0;if(aD){if(aS>=d){for(a8=1;a8<=a2;a8++){if(!aX[a8]){aX[a8]=[]}}for(var a7=d;a7<=aS;a7++){for(var a8=1;a8<=a2;a8++){aX[a8][a7]=0}aX[a7][a7]=1}}if(aU>=1){for(var aN=1;aN<=aU;aN++){a5=aU-aN+1;if(aZ[a5]!=0){var aC=a5+1;if(aS>=aC){for(var a7=aC;a7<=aS;a7++){var aY=-b(a2-a5+1,aX,1,aX,1,a5,a7,a5)/aX[a5][a5];Y(a2-a5+1,aY,aX,1,aX,1,a5,a7,a5)}}Q(a2-a5+1,-1,aX,1,a5,a5);aX[a5][a5]++;var aA=a5-1;if(aA>=1){for(var a8=1;a8<=aA;a8++){aX[a8][a5]=0}}}else{for(var a8=1;a8<=a2;a8++){aX[a8][a5]=0}aX[a5][a5]=1}}}}if(aB){for(var aN=1;aN<=a1;aN++){a5=a1-aN+1;var aC=a5+1;if(a5<=a3&&bc[a5]!=0){for(var a7=aC;a7<=a1;a7++){var aY=-b(a1-a5,aW,1,aW,1,a5,a7,aC)/aW[aC][a5];Y(a1-a5,aY,aW,1,aW,1,a5,a7,aC)}}for(var a8=1;a8<=a1;a8++){if(!aW[a8]){aW[a8]=[]}aW[a8][a5]=0}aW[a5][a5]=1}}var au=a4;var aI=0;var ar,a0,aq;while(true){if(a4==0){return 0}if(aI>=aM){throw new TypeError("Reached maximum iterations")}for(var aN=1;aN<=a4;aN++){a5=a4-aN;if(a5==0){break}ar=Math.abs(aZ[a5])+Math.abs(aZ[a5+1]);a0=ar+Math.abs(bc[a5]);if(a0==ar){bc[a5]=0;break}}if(a5==a4-1){aq=4}else{var aC=a5+1;var ax=a4+1;var aK;for(var ap=aC;ap<=ax;ap++){aK=a4-ap+aC;if(aK==a5){break}ar=0;if(aK!=a4){ar+=Math.abs(bc[aK])}if(aK!=a5+1){ar+=Math.abs(bc[aK-1])}a0=ar+Math.abs(aZ[aK]);if(a0==ar){aZ[aK]=0;break}}if(aK==a5){aq=3}else{if(aK==a4){aq=1}else{aq=2;a5=aK}}}a5++;var av=a4-1;switch(aq){case 1:var bb=bc[a4-1];bc[a4-1]=0;for(var be=a5;be<=av;be++){var aG,aw;var a6=av-be+a5;var aQ=aZ[a6];var aP=U([aQ,bb,aG,aw]);aQ=aP[0];bb=aP[1];aG=aP[2];aw=aP[3];aZ[a6]=aQ;if(a6!=a5){bb=-aw*bc[a6-1];bc[a6-1]=aG*bc[a6-1]}if(aB){E(a1,aW,1,aW,1,aG,aw,a6,a4,1)}}break;case 2:var bb=bc[a5-1];bc[a5-1]=0;for(var a6=a5;a6<=a4;a6++){var aG,aw;var aQ=aZ[a6];var aP=U([aQ,bb,aG,aw]);aQ=aP[0];bb=aP[1];aG=aP[2];aw=aP[3];aZ[a6]=aQ;bb=-aw*bc[a6];bc[a6]=aG*bc[a6];if(aD){E(a2,aX,1,aX,1,aG,aw,a6,a5-1,1)}}break;case 3:var aO=Math.max(Math.abs(aZ[a4]),Math.abs(aZ[a4-1]),Math.abs(bc[a4-1]),Math.abs(aZ[a5]),Math.abs(bc[a5]));var ay=aZ[a4]/aO;var aH=aZ[a4-1]/aO;var aV=bc[a4-1]/aO;var az=aZ[a5]/aO;var a9=bc[a5]/aO;var bf=((aH+ay)*(aH-ay)+Math.pow(aV,2))/2;var bd=Math.pow(ay*aV,2);var aL=0;if(bf!=0||bd!=0){aL=Math.sqrt(bf*bf+bd);if(bf<0){aL=-aL}aL=bd/(bf+aL)}var bb=(az+ay)*(az-ay)+aL;var ba=az*a9;var av=a4-1;for(var a6=a5;a6<=av;a6++){var aG,aw;var aP=U([bb,ba,aG,aw]);bb=aP[0];ba=aP[1];aG=aP[2];aw=aP[3];if(a6!=a5){bc[a6-1]=bb}bb=aG*aZ[a6]+aw*bc[a6];bc[a6]=aG*bc[a6]-aw*aZ[a6];ba=aw*aZ[a6+1];aZ[a6+1]=aG*aZ[a6+1];if(aB){E(a1,aW,1,aW,1,aG,aw,a6,a6+1,1)}aP=U([bb,ba,aG,aw]);bb=aP[0];ba=aP[1];aG=aP[2];aw=aP[3];aZ[a6]=bb;bb=aG*bc[a6]+aw*aZ[a6+1];aZ[a6+1]=-aw*bc[a6]+aG*aZ[a6+1];ba=aw*bc[a6+1];bc[a6+1]=aG*bc[a6+1];if(aD&&a6<a2){E(a2,aX,1,aX,1,aG,aw,a6,a6+1,1)}}bc[a4-1]=bb;aI++;break;case 4:if(aZ[a5]<0){aZ[a5]=-aZ[a5];if(aB){Q(a1,-1,aW,1,a5,1)}}while(a5!=au){if(aZ[a5]>aZ[a5+1]){break}var aY=aZ[a5];aZ[a5]=aZ[a5+1];aZ[a5+1]=aY;if(aB&&a5<a1){w(a1,aW,1,aW,1,a5,a5+1,1)}if(aD&&a5<a2){w(a2,aX,1,aX,1,a5,a5+1,1)}a5=a5+1}aI=0;a4--;break}}}function N(d,au,ap,ar){d.unshift(undefined);au.unshift(undefined);ap.unshift(undefined);ar.unshift(undefined);var at=d.length;for(var aq=1;aq<at;aq++){d[aq]=[undefined,d[aq]]}}function F(d,au,ap,ar){d.shift();au.shift();ap.shift();ar.shift();var at=d.length;for(var aq=0;aq<at;aq++){d[aq]=d[aq][1]}}function K(ap,at){var d=ap.length;var au=ap[0].length;if(!at){at=[]}for(var ar=0;ar<d;ar++){at[ar+1]=[];for(var aq=0;aq<au;aq++){at[ar+1][aq+1]=ap[ar][aq]}}return at}function ag(ap){var at=[];var d=ap.length;var au=ap[1].length;for(var ar=1;ar<d;ar++){at[ar-1]=[];for(var aq=1;aq<au;aq++){at[ar-1][aq-1]=ap[ar][aq]}}return at}function J(ap,au){var aq=[];var d=ap.length;var av=ap[1].length;for(var at=0;at<d;at++){aq[at]=[];for(var ar=(au==null?1:au);ar<av;ar++){aq[at][ar]=ap[ar][at]}}return aq}function P(aE,bq){var aW=[];for(var a4=0;a4<aE[0].length;a4++){aW[a4]=a4}aW.sort(function(bK,d){return aE[0][bK]-aE[0][d]});var aR=[];var aQ=[];var aO=aE[2]?[]:false;for(var a4=0;a4<aW.length;a4++){aR[a4]=aE[0][aW[a4]];aQ[a4]=aE[1][aW[a4]];if(aE[2]){aO[a4]=aE[2][aW[a4]]}}if(!bq){bq=[];for(var a4=0;a4<aQ.length;a4++){bq[a4]=1;aW[a4]=a4}}var az=V.loessSpan;var bs=V.loessDegree;var bB=V.loessNormalize;var aY=[];var bl=[];for(var a4=0;a4<8;a4++){aY[a4]=false;bl[a4]=false}var ap=V.loessFamily;var aB=V.loessSurface;var bh=V.loessStatistics;var aM=V.loessCell;var bd="wait.to.decide";var bn=ap=="gaussian"?0:V.loessIterations;var aA="";var bu=V.showConfidenceIntervals&&aE[0].length<=V.confidenceIntervalsMax;var a5=false;var a7=aO?2:1;var aZ=aR.length;if(bd=="wait.to.decide"){if(aB=="interpolate"){bd=aZ<500?"exact":"approximate"}else{bd="exact"}}var bG=bd;var aH=0;var bF=0;var bk=0;var aK=az*aM;var a9=[];for(var a4=0;a4<aZ;a4++){a9[a4]=1}var bE=[];for(a4=0;a4<(aZ*a7);a4++){bE[a4]=aR[a4]}var by=[];if(bB&&a7>1){var aJ=Math.ceil(0.1*aZ);for(var a4=0;a4<a7;a4++){var a2=a4*aZ;var bi=[];for(var a3=0;a3<aZ;a3++){bi[a3]=aR[a2+a3]}bi=bi.sort(function(bK,d){return bK-d});var bw=0;for(var a3=aJ;a3<=(aZ-aJ-1);a3++){bw=bw+bi[a3]}var aP=bw/(aZ-2*aJ);bw=0;for(var a3=aJ;a3<=(aZ-aJ-1);a3++){bi[a3]-=aP;bw+=bi[a3]*bi[a3]}by[a4]=Math.sqrt(bw/(aZ-2*aJ-1));for(var a3=0;a3<aZ;a3++){var aX=a2+a3;bE[aX]=aR[aX]/by[a4]}}}else{for(var a4=0;a4<a7;a4++){by[a4]=1}}var a3=a7-1;var aS=0;var aq=0;var bH=0;var au=[];var ba=[];var bI=[];var bv=[];var av=[];var bx=[];var ax=[];var be=[];var bj=[];var aI=[];var bc=[];var a8=[];var aV=[];var aG=[];for(var a4=0;a4<a7;a4++){aS+=bl[a4];aq+=aY[a4];if(aY[a4]){ax[a3--]=a4}else{ax[bH++]=a4}}for(var a4=0;a4<a7;a4++){be[a4]=2-bl[ax[a4]];var a2=a4*aZ;var aX=ax[a4]*aZ;for(a3=0;a3<aZ;a3++){aR[a2+a3]=bE[aX+a3]}}if(bs==1&&aS){throw new Error("Specified the square of a factor predictor to be dropped when degree = 1")}if(a7==1&&aS){throw new Error("Specified the square of a predictor to be dropped with only one numeric predictor")}if(aq==a7){throw new Error("Specified parametric for all predictors")}var bt=[];var bb=[];var a6,br,bp;var at=[];var bg=[];var a0=[];var bi=[];var bD=0;var bf=[];var a1=[];var ay=[];for(var a3=0;a3<=bn;a3++){var bJ=a3?"none":bh;if(a3==0){for(var a4=0;a4<aZ;a4++){a9[a4]=bq[a4]*a9[a4]}}else{for(var a4=1;a4<=aZ;a4++){a9[a4]=bq[a4]*a9[a4]}}aA=m(aB,bJ,bG);a5=aA=="interpolate/exact";a0=W(aQ,aR,bq,a9,a7,aZ,az,bs,bH,be,aS,aK,aA,ap,bt,au,ba,bI,bv,av,bx,a6,br,bp,a5,bu,ay,a1,a3==0);a6=a0[0];br=a0[1];bp=a0[2];if(a3==0){bk=a6;aH=br;bF=bp}for(a4=1;a4<=aZ;a4++){bb[a4]=aQ[a4]-bt[a4]}if(a3<bn){X(bb,aZ,a9,bi)}}if(bn>0){ad(aZ,aQ,bt,bq,a9,bi,bg);var aL,bC,bo;a0=W(bg,aR,bq,bq,a7,aZ,az,bs,bH,be,aS,aK,aA,ap,bi,bj,aI,bc,a8,aV,aG,aL,bC,bo,bD,bu,ay,a1);aL=a0[0];bC=a0[1];bo=a0[2];for(a4=1;a4<=aZ;a4++){at[a4]=bg[a4]-bi[a4]}}var bm=0;if(bn==0){for(a4=1;a4<=aZ;a4++){bm=bm+bq[a4]*bb[a4]*bb[a4]}}else{for(a4=1;a4<=aZ;a4++){bm=bm+bq[a4]*at[a4]*at[a4]}}var aT=(aH)+2*(bk)-aZ;var aU=Math.sqrt(bm/aH);var aD=(aH*aH)/bF;var ar=V.qt(1-0.975,aD);var aN=[];F(aR,aQ,bq,a9);bt.shift();var bz=Number.NEGATIVE_INFINITY;var aC=Number.POSITIVE_INFINITY;var bA=aR[aR.length-1];var aF=aR[0];if(bu){a1=ag(a1);for(var a4=0;a4<aZ;a4++){for(var a3=0;a3<aZ;a3++){a1[a4][a3]/=bq[a4];a1[a4][a3]*=a1[a4][a3]}}for(var a4=0;a4<aZ;a4++){var aw=0;for(var a3=0;a3<aZ;a3++){aw+=a1[a4][a3]}bf[a4]=aU*Math.sqrt(aw);aN[a4]=ar*bf[a4]}for(var a4=0;a4<aZ;a4++){bz=Math.max(bz,(bt[a4]+(bf[a4]*2)));aC=Math.min(aC,(bt[a4]-(bf[a4]*2)))}}else{for(var a4=0;a4<aZ;a4++){bz=Math.max(bz,bt[a4]);aC=Math.min(aC,bt[a4])}}return a0={loess:{x:aR,y:aQ,weights:bq,robust:a9,span:az,degree:bs,normalize:bB,y_fit:bt,cell:aM,family:ap,surface:aB,statistics:bh,trace_hat:bd,iterations:bn,order:aW,residualScale:aU,df:aD,se:bf,confidence:aN,range:[aF,bA,aC,bz]},nObs:aZ,param:aT,resStdErr:aU}}function m(d,ar,aq){var ap="";if(d=="interpolate"){if(ar=="none"){ap="interpolate/none"}else{if(ar=="exact"){ap="interpolate/exact"}else{if(ar=="approximate"){if(aq=="approximate"){ap="interpolate/2.approx"}else{if(aq=="exact"){ap="interpolate/1.approx"}}}}}}else{if(d=="direct"){if(ar=="none"){ap="direct/none"}else{if(ar=="exact"){ap="direct/exact"}else{if(ar=="approximate"){ap="direct/approximate"}}}}}return ap}function T(au,av,ay,aK,aA,aJ,aI,ap,az,aE,aB,aL,aC,aD,aG,aH){var ax=0;var aF=1;var at=2;var aN=O(aL,aC,aI,ap,az,aE,aB,ax);var aq=aN[0];var aM=aN[1];var aw=aN[2];var ar=aN[3];if(aJ=="gaussian"){ah(av,au,aK,aq,aM,ar,aw,aD,ay,aH,at,aG)}else{if(aJ=="symmetric"){ah(av,au,aK,aq,aM,ar,aw,aD,ay,aH,at,aG);ah(av,au,aA,aq,aM,ar,aw,aD,ay,ax,ax,aG)}}}function i(aw,ap,ar,aq,au,d,av,at){af(aw,ap,ar,aq,au,iv,liv,lv,v);aj(iv,liv,lv,v,d,av,at)}function j(au,av,az,aI,aH,aq,ay,aD,aA,ap,aJ,aB,aC,aE,aG){var ax=0;var aF=1;var aL=O(aJ,aB,aH,aq,ay,aD,aA,aF);var ar=aL[0];var aK=aL[1];var aw=aL[2];var at=aL[3];aw[2]=ap;an(av,au,aI,ax,ax,ar,aK,at,aw);ae(ar,aK,at,aw,aC,az,aG)}function O(aG,az,aE,ap,ax,aA,ay,aF){var aq=106;var ar=Math.max(200,az);var av=Math.min(az,Math.floor(az*aE));var aC=(ap>1)?((aG+2)*(aG+1)*0.5):(aG+1);var aB=aC-ay;var aw=[];var at=[];var au=50+(3*aG+3)*ar+az+(aC+2)*av;var aH=50+(Math.pow(2,aG)+4)*ar+2*az;if(aF){au=au+(aG+1)*av*ar;aH=aH+av*ar}ak(aq,at,aH,au,aw,aG,az,aE,ap,ar,aF);for(var aD=0;aD<aG;aD++){at[aD+40]=aA[aD]}return[at,aH,aw,au,aB]}function u(au,aG,aB,aE,aA,av,aI,aw,az){var aF=av[2];var ap=av[4]-1;var ax=av[5];var aH=av[6];var aJ=av[7];var ar=av[11]-1;var aq=av[12];var ay=av[13];var at=av[14];for(var aD=0;aD<5;aD++){au[aD]=av[aD+2]}au[5]=av[22]-1;au[6]=av[15]-1;for(var aD=0;aD<aF;aD++){var aC=at*(aD+1);aE[aD]=az[ar+ap];aE[aD+aF]=az[ar+ap+aC]}for(var aD=0;aD<ax;aD++){aB[aD]=az[aq+aD];aG[aD]=av[aJ+aD]}var aC=(aF+1)*aH;for(var aD=0;aD<aC;aD++){aA[aD]=az[ay+aD]}}function af(at,aF,aA,aD,az,au,aH,av,ay){var aE=at[0];var ap=at[2];var aw=at[3];var aG=at[4];aH=at[5];av=at[6];au[1]=aE;au[2]=at[1];au[3]=ap;au[5]=au[13]=aG;au[4]=au[16]=aw;au[6]=50;au[7]=au[6]+aw;au[8]=au[7]+ap*aw;au[9]=au[8]+aw;au[10]=50;au[12]=au[10]+aG*aE;au[11]=au[12]+(aE+1)*aG;au[27]=173;var ar=au[10]-1;var aq=au[11]-1;var aI=au[6]-1;var ax=au[12]-1;for(var aC=0;aC<aE;aC++){var aB=aG*aC;ay[ar+aB]=aD[aC];ay[ar+ap-1+aB]=aD[aC+aE]}for(var aC=0;aC<aw;aC++){ay[aq+aC]=aA[aC];au[aI+aC]=aF[aC]}var aB=(aE+1)*aG;for(var aC=0;aC<aB;aC++){ay[ax+aC]=az[aC]}g(aE,ap,aw,aw,aG,aG,ay+ar,au+aI,ay+aq,au+au[7]-1,au+au[8]-1,au+au[9]-1)}function W(aN,aP,aU,aw,a0,aT,az,aq,ay,aG,aB,aF,a3,at,aX,aL,a2,aO,av,a6,a5,aD,aY,aR,aJ,ax,aM,aV,ar){var aK,a4,aC;var ap=0;var au=1;var aE=2;var a1,aZ,aW;var aS=[];var aH=[];aD=0;if(ar){N(aP,aN,aU,aw)}var aI=O(a0,aT,az,aq,ay,aG,aB,aJ);var aA=aI[0];var a4=aI[1];var aQ=aI[2];var aC=aI[3];var aK=aI[4];aQ[2]=aF;if(a3=="interpolate/none"){an(aP,aN,aw,ap,ap,aA,a4,aC,aQ);aj(aA,a4,aC,aQ,aT,aP,aX);u(aL,a2,aO,av,a6,aA,a4,aC,aQ)}else{if(a3=="direct/none"){ah(aP,aN,aw,aA,a4,aC,aQ,aT,aP,ap,ap,aX)}else{if(a3=="interpolate/1.approx"){an(aP,aN,aU,a5,au,aA,a4,aC,aQ);aj(aA,a4,aC,aQ,aT,aP,aX);a1=aA[29];for(var aZ=1;aZ<=aT;aZ++){aD+=a5[aZ]}aI=ao(aD,aT,a0,aK,a1,aY,aR);aY=aI[0];aR=aI[1];u(aL,a2,aO,av,a6,aA,a4,aC,aQ)}else{if(a3=="interpolate/2.approx"){an(aP,aN,aw,ap,ap,aA,a4,aC,aQ);aj(aA,a4,aC,aQ,aT,aP,aX);a1=aA[29];aD=o(aK,a0,az,aD);aI=ao(aD,aT,a0,aK,a1,aY,aR);aY=aI[0];aR=aI[1];u(aL,a2,aO,av,a6,aA,a4,aC,aQ)}else{if(a3=="direct/approximate"){ah(aP,aN,aU,aA,a4,aC,aQ,aT,aP,a5,au,aX);a1=aA[29];for(var aZ=1;aZ<=aT;aZ++){aD+=a5[aZ][1]}aI=ao(aD,aT,a0,aK,a1,aY,aR);aY=aI[0];aR=aI[1]}else{if(a3=="interpolate/exact"){an(aP,aN,aU,a5,au,aA,a4,aC,aQ);ae(aA,a4,aC,aQ,aT,aP,aS);aI=al(aT,aS,aH,aD,aY,aR);aD=aI[0];aY=aI[1];aR=aI[2];aj(aA,a4,aC,aQ,aT,aP,aX);u(aL,a2,aO,av,a6,aA,a4,aC,aQ)}else{if(a3=="direct/exact"){ah(aP,aN,aU,aA,a4,aC,aQ,aT,aP,aV,aE,aX);aI=al(aT,aV,aH,aD,aY,aR);aD=aI[0];aY=aI[1];aR=aI[2];for(var aZ=1;aZ<=aT;aZ++){a5[aZ]=aV[aZ][aZ]}}}}}}}}if(a3.match(/^direct/)){if(ax){T(aN,aP,aP,aU,aw,at,az,aq,ay,aG,aB,a0,aT,aT,aM,aV)}}else{if(ax){j(aN,aP,aP,aU,az,aq,ay,aG,aB,aF,a0,aT,aT,aM,aV)}}return[aD,aY,aR,aA,a4,aC,aQ]}function I(d){if(d==100){throw new TypeError("wrong version number in lowesd.  Probably typo in caller.")}if(d==101){throw new TypeError("d>dMAX in ehg131.  Need to recompile with increased dimensions.")}if(d==102){throw new TypeError("liv too small.   (Discovered by lowesd)")}if(d==103){throw new TypeError("lv too small.    (Discovered by lowesd)")}if(d==104){throw new TypeError("alpha too small.  fewer data values than degrees of freedom.")}if(d==105){throw new TypeError("k>d2MAX in ehg136.  Need to recompile with increased dimensions.")}if(d==106){throw new TypeError("lwork too small")}if(d==107){throw new TypeError("invalid value for kernel")}if(d==108){throw new TypeError("invalid value for ideg")}if(d==109){throw new TypeError("lowstt only applies when kernel=1.")}if(d==110){throw new TypeError("not enough extra workspace for robustness calculation")}if(d==120){throw new TypeError("zero-width neighborhood. make alpha bigger")}if(d==121){throw new TypeError("all data on boundary of neighborhood. make alpha bigger")}if(d==122){throw new TypeError("extrapolation not allowed with blending")}if(d==123){throw new TypeError("ihat=1 (diag L) in l2fit only makes sense ifz=x (eval=data).")}if(d==171){throw new TypeError("lowesd must be called first.")}if(d==172){throw new TypeError("lowesf must not come between lowesb and lowese, lowesr, or lowesl.")}if(d==173){throw new TypeError("lowesb must come before lowese, lowesr, or lowesl.")}if(d==174){throw new TypeError("lowesb need not be called twice.")}if(d==180){throw new TypeError("nv>nvmax in cpvert.")}if(d==181){throw new TypeError("nt>20 in eval.")}if(d==182){throw new TypeError("svddc failed in l2fit.")}if(d==183){throw new TypeError("didnt find edge in vleaf.")}if(d==184){throw new TypeError("zero-width cell found in vleaf.")}if(d==185){throw new TypeError("trouble descending to leaf in vleaf.")}if(d==186){throw new TypeError("insufficient workspace for lowesf.")}if(d==187){throw new TypeError("insufficient stack space")}if(d==188){throw new TypeError("lv too small for computing explicit L")}if(d==191){throw new TypeError("computed trace L was negative); something iswrong!")}if(d==192){throw new TypeError("computed delta was negative); something is wrong!")}if(d==193){throw new TypeError("workspace in loread appears to be corrupted")}if(d==194){throw new TypeError("trouble in l2fit/l2tr")}if(d==195){throw new TypeError("only constant, linear, or quadratic local models allowed")}if(d==196){throw new TypeError("degree must be at least 1 for vertex influence matrix")}if(d==999){throw new TypeError("not yet implemented")}}function H(ap,d,ar,aq){throw new TypeError(ap,d,ar,aq)}function G(ap,d,ar,aq){throw new TypeError(ap,d,ar,aq)}function B(ay,ap,az,aA,aC,at){var au,aB,ax,aE,ar,aD;var aw=Number.MAX_VALUE;for(var aq=1;aq<=ay;aq++){ar=aw;aB=-aw;for(var av=1;av<=ap;av++){aD=aA[av][aq];ar=Math.min(ar,aD);aB=Math.max(aB,aD)}aE=0.005*Math.max(aB-ar,10*Math.max(Math.abs(ar),Math.abs(aB))+1-30);ar=ar-aE;aB=aB+aE;aC[1][aq]=ar;aC[az][aq]=aB}for(var av=2;av<=az-1;av++){au=av-1;for(var aq=1;aq<=ay;aq++){aC[av][aq]=aC[1+(au%2)*(az-1)][aq];au=(au)/2}}}function C(az,aM,au,at,aq,aL,aF,aw,ay,ax,aK,aE,av){var aD,aC,aJ,ap,aI,aB,ar;var ap=0;ap=ap+1;aI=aM;for(var aH=1;aH<=ay;aH++){for(var aG=1;aG<=ax;aG++){aI=aI+1;if(!au[aI]){au[aI]=[]}for(var aA=1;aA<=aL;aA++){au[aI][aA]=au[aK[0]][aA]}au[aI][aF]=aw;ar=false;aB=1;if(!ar){aD=(aB<=aM)}else{aD=false}while(!aD){ar=(au[aB][1]==au[aI][1]);aJ=2;if(ar){aC=(aJ<=aL)}else{aC=false}while(!aC){ar=(au[aB][aJ]==au[aI][aJ]);aJ=aJ+1}aB=aB+1}aB=aB-1;if(ar){aI=aI-1}else{aB=aI;if(at[1]>=0){at[aB]=az}}aE[0]=aK[0];aE[1]=aB;av[0]=aB;av[1]=aK[1]}}aM=aI;if(!(aM<=aq)){I(180)}return aM}function e(at,av,ax,aw,au,d,aq){var ap;var ar=at;var ap=ax[ar]!=0?av[ax[ar]]!=aw[ar]:false;while(!(ap)){if(av[ax[ar]]<=aw[ar]){ar=au[ar]}else{ar=d[ar]}}return ar}function c(az,ay,au,ap,aq,ax,ar){var at=az;var d=ay;while(at<d){var aB=aq[ax[au]];var aw=at;var av=d;var aA=ax[at];ax[at]=ax[au];ax[au]=aA;if(aB<aq[ax[d]]){aA=ax[at];ax[at]=ax[d];ax[d]=aA}while(aw<av){aA=ax[aw];ax[aw]=ax[av];ax[av]=aA;aw+=1;av-=1;while(aq[ax[aw]]<aB){aw+=1}while(aB<aq[ax[av]]){av-=1}}if(aq[ax[at]]==aB){aA=ax[at];ax[at]=ax[av];ax[av]=aA}else{av+=1;aA=ax[d];ax[d]=ax[av];ax[av]=aA}if(av<=au){at=av+1}if(au<=av){d=av-1}}}function A(a1,a3,bb,ar,a9,aW,aN,aV,aQ,aP,a4,ay,aO,bd,aU,aX,aR,at,av,aY,ba,aq,aF,aS,aH,aK,be,ap,a0){var aD,aI,aZ,aT,aL,aG,aC,az,ax,aB,bc;var a7=[];var a2=[];var a8=[];var aA=Number.EPSILON;for(var aE=1;aE<=a3;aE++){ay[aE]=0}for(var a5=1;a5<=aK;a5++){aD=a1[a5];for(var aE=1;aE<=a3;aE++){ay[aE]=ay[aE]+Math.pow(aW[aE][a5]-aD,2)}}c(1,a3,ar,1,ay,aN,a3);aT=ay[aN[ar]]*Math.max(1,a9);if(!(0<aT)){I(120)}if(aP==2){for(var a6=1;a6<=ar;a6++){if(ay[aN[a6]]<aT){aI=Math.sqrt(aQ[aN[a6]])}else{aI=0}aX[a6]=aI}}else{for(var aE=1;aE<=ar;aE++){aX[aE]=Math.sqrt(ay[aN[aE]]/aT)}for(var aE=1;aE<=ar;aE++){aX[aE]=Math.sqrt(aQ[aN[aE]]*Math.pow((1-Math.pow(aX[aE],3)),3))}}if(Math.abs(aX[n(ar,aX,1)])==0){G("at ",a1,aK,1);G("radius ",aT,1,1);if(!false){I(121)}}aZ=1;for(var aE=1;aE<=ar;aE++){if(!bd[aE]){bd[aE]=[,[]]}bd[aE][aZ]=aX[aE]}if(be>=1){for(var a5=1;a5<=bb;a5++){if(ap[a5]>=1){aZ=aZ+1;aC=a1[a5];for(var aE=1;aE<=ar;aE++){bd[aE][aZ]=aX[aE]*(aW[aN[aE]][a5]-aC)}}}}if(be>=2){for(var a5=1;a5<=bb;a5++){if(ap[a5]>=1){if(ap[a5]>=2){aZ=aZ+1;aB=a1[a5];for(var aE=1;aE<=ar;aE++){bd[aE][aZ]=aX[aE]*Math.pow((aW[aN[aE]][a5]-aB),2)}}for(var aJ=a5+1;aJ<=bb;aJ++){if(ap[aJ]>=1){aZ=aZ+1;az=a1[a5];ax=a1[aJ];for(var aE=1;aE<=ar;aE++){bd[aE][aZ]=aX[aE]*(aW[aN[aE]][a5]-az)*(aW[aN[aE]][aJ]-ax)}}}}}a4=aZ}for(var aE=1;aE<=ar;aE++){aO[aE]=aX[aE]*aV[aN[aE]]}for(var a5=1;a5<=a4;a5++){bc=0;for(var aM=1;aM<=ar;aM++){bc=bc+Math.pow(bd[aM][a5],2)}bc=Math.sqrt(bc);if(0<bc){for(var aE=1;aE<=ar;aE++){bd[aE][a5]=bd[aE][a5]/bc}a7[a5]=bc}else{a7[a5]=1}}r(bd,ar,ar,a4,aF,a2,aS,0);t(bd,ar,ar,a4,aF,aO,aS,aO,aO,aS,aS,1000);for(var aE=1;aE<=a4;aE++){if(!aY[aE]){aY[aE]=[]}}for(var aw=1;aw<=a4;aw++){for(var aE=1;aE<=a4;aE++){aY[aE][aw]=0}}for(var a6=1;a6<=a4;a6++){for(var a5=a6;a5<=a4;a5++){aY[a6][a5]=bd[a6][a5]}}M(aY,a4,a4,av,a8,aY,ba,aS,21);aH=av[1]*(100*aA);aR=Math.min(aR,av[a4]/av[1]);if(av[a4]<=aH){at=at+1;if(at==1){G("Warning. pseudoinverse used at",a1,bb,1);G("neighborhood radius",Math.sqrt(aT),1,1);G("reciprocal condition number ",aR,1,1)}else{if(at==2){G("There are other near singularities as well.",aT,1,1)}}}for(var a5=1;a5<=a4;a5++){aL=a7[a5];for(var aE=1;aE<=a4;aE++){ba[a5][aE]=ba[a5][aE]/aL}}for(var a5=1;a5<=a4;a5++){if(aH<av[a5]){aG=b(a4,aY,1,aO,1,a5,null,1)/av[a5]}else{aG=0}aq[a5]=aG}var au=J(ba);for(var a5=0;a5<=aU;a5++){if(!a0[a5]){a0[a5]=[]}if(a5<=a4){a0[a5].push(b(a4,au,1,aq,1,a5+1,null,1))}else{a0[a5].push(0)}}return aH}function p(aS,aQ,aH,ay,aU,aG,aZ,aX,a3,ar,ba,aF,aY,aW,aq,a2,a7,a4,a5,aK,aB,aD,aV,a1,a8,aR,av,aE,a6,aC,aN,aT,au,aM,at,aA,a9,ap,aI,aO,az){if(!(a3<=8)){I(101)}B(a3,aX,aF,aS,aV,aW);aY=aF;ar=1;for(var a0=1;a0<=aF;a0++){a4[a0]=[];a4[a0][ar]=a0;a1[a0]=0}var aP=[];for(var ax=1;ax<=a3;ax++){aP[ax]=aV[aF][ax]-aV[1][ax]}aN=aN*L(a3,aP,1);for(var aJ=1;aJ<=aX;aJ++){aB[aJ]=aJ}var aL=D(1,aX,a3,aX,aY,ar,ba,aF,aS,aB,a7,aR,aK,a5,a4,aV,a1,aW,aC,aN,aA);ar=aL[0];aY=aL[1];for(var ax=0;ax<=a3;ax++){au[ax]=[]}if(ay!=0){for(var aw=1;aw<=aY;aw++){for(var ax=0;ax<=a3;ax++){au[ax][aw]=0}}}ay=a(aV,aW,aY,aX,a3,aq,a2,aS,aB,aD,aQ,aH,ay,aG,aZ,av,[],aE,a6,a3,aT,aU,au,ar,aF,a7,aR,aK,a5,a4,a1,aM,at,aA,a9,ap,aI,aO,az,a8);return[ay,ar,aY]}function l(aB,aF,ap,ar,at,au,aI,aG,aq,aw,ax,az,aA,aC,av,ay){for(var aE=0;aE<az.length;aE++){az[aE].unshift(undefined)}var aH=[];for(var aE=1;aE<=aC;aE++){for(var aD=1;aD<=aF;aD++){aH[aD]=av[aE][aD]}ay[aE]=z(aH,aF,au,ap,aI,aA,aw,aq,aG,ax,ar,az)}}function ac(d,aq,ap){d[aq]=ap}function ab(aG,at,ar,aw,aD,aB,aC,aq,ap){var aA,au,aF,az,av,ax,ay;var aE=[0,0.297162,0.380266,0.5886043,0.4263766,0.3346498,0.6271053,0.5241198,0.3484836,0.6687687,0.6338795,0.4076457,0.7207693,0.1611761,0.3091323,0.4401023,0.2939609,0.3580278,0.5555741,0.397239,0.4171278,0.6293196,0.4675173,0.469907,0.6674802,0.2848308,0.2254512,0.2914126,0.5393624,0.251723,0.389897,0.7603231,0.2969113,0.474013,0.9664956,0.3629838,0.5348889,0.207567,0.2822574,0.2369957,0.3911566,0.2981154,0.3623232,0.5508869,0.3501989,0.4371032,0.7002667,0.4291632,0.493037];if(ar==0){aC=1}if(ar==1){aC=aD+1}if(ar==2){aC=((aD+2)*(aD+1))/2}aA=Math.sqrt(aw/(at));aF=(Math.sqrt(aw/aG)-aA)/(1-aA);if(aB==0&&1<aF){G("Chernobyl! trL<k",aG,1,1)}if(aF<0){G("Chernobyl! trL>n",aG,1,1)}aF=Math.min(1,Math.max(0,aF));au=Math.exp(Z(aF));ay=1+3*(Math.min(aD,4)-1+4*(ar-1));if(aD<=4){az=aE[ay];ax=aE[ay+1];av=aE[ay+2]}else{az=aE[ay]+(aD-4)*(aE[ay]-aE[ay-3]);ax=aE[ay+1]+(aD-4)*(aE[ay+1]-aE[ay-2]);av=aE[ay+2]+(aD-4)*(aE[ay+2]-aE[ay-1])}aq=at-aG*Math.exp(az*Math.pow(aF,ax)*Math.pow(1-aF,av)*au);ay=ay+24;if(aD<=4){az=aE[ay];ax=aE[ay+1];av=aE[ay+2]}else{az=aE[ay]+(aD-4)*(aE[ay]-aE[ay-3]);ax=aE[ay+1]+(aD-4)*(aE[ay+1]-aE[ay-2]);av=aE[ay+2]+(aD-4)*(aE[ay+2]-aE[ay-1])}ap=at-aG*Math.exp(az*Math.pow(aF,ax)*Math.pow(1-aF,av)*au);return[aC,aq,ap]}function al(aq,ar,aw,ay,ap,d){for(var av=1;av<=aq;av++){if(!aw[av]){aw[av]=[]}ar[av][av]=ar[av][av]-1}var au=J(ar);for(var av=1;av<=aq;av++){for(var at=1;at<=av;at++){aw[av][at]=b(aq,au,1,au,1,av,at,1)}}for(var av=1;av<=aq;av++){for(var at=av+1;at<=aq;at++){aw[av][at]=aw[at][av]}}for(var av=1;av<=aq;av++){ar[av][av]=ar[av][av]+1}ay=0;ap=0;for(var av=1;av<=aq;av++){ay+=ar[av][av];ap+=aw[av][av]}d=0;var ax=J(aw);for(var av=1;av<=aq;av++){d+=b(aq,ax,1,aw,1,av,1,1,av)}return[ay,ap,d]}function g(aH,ap,au,aw,aK,ar,aA,aJ,aD,aI,aq,ay){for(var aG=2;aG<=ap-1;aG++){aF=aG-1;for(var aE=1;aE<=aH;aE++){aA[aG][aE]=aA[1+(aF%2)*(ap-1)][aE];aF=x((aF)/2)}}var aL=1;var aB=ap;var av=[];av[1]=-1;for(var aF=1;aF<=ap;aF++){aI[aF][aL]=aF}var aC=1;while(!(aC<=au)){if(aJ[aC]!=0){aE=aJ[aC];aL=aL+1;ay[aC]=aL;aL=aL+1;aq[aC]=aL;var at=[];var ax=[];var az=[];for(var aG=1;aG<=ap;aG++){at[aG-1]=aI[aG][aC];ax[aG-1]=0;az[aG-1]=0}aB=C(aC,aB,aA,av,ar,aH,aE,aD[aC],Math.pow(2,aE-1),Math.pow(2,aH-aE),at,ax,az);aI[1].push(ax[0]);aI[2].push(ax[1]);aI[1].push(az[0]);aI[2].push(az[1])}aC=aC+1}if(!(aL==au)){I(193)}if(!(aB==aK)){I(193)}}function Z(az){var av=1;var aw=2;var au=10;var ar=17;var aA=[];var ay=[undefined,[],[]];var ap=[];var at=[];var ax=[];var aB=[undefined,[],[],[],[],[],[],[],[],[],[]];var aq=[[],[]];aA[1]=1;ap[1]=3;at[1]=2;ax[1]=0.3705;ay[1][1]=1;ay[2][1]=2;aA[2]=1;ap[2]=5;at[2]=4;ax[2]=0.2017;ay[1][2]=1;ay[2][2]=3;aA[3]=1;ap[3]=7;at[3]=6;ax[3]=0.5591;ay[1][3]=3;ay[2][3]=2;aA[4]=1;ap[4]=9;at[4]=8;ax[4]=0.1204;ay[1][4]=1;ay[2][4]=4;aA[5]=1;ap[5]=11;at[5]=10;ax[5]=0.2815;ay[1][5]=4;ay[2][5]=3;aA[6]=1;ap[6]=13;at[6]=12;ax[6]=0.4536;ay[1][6]=3;ay[2][6]=5;aA[7]=1;ap[7]=15;at[7]=14;ax[7]=0.7132;ay[1][7]=5;ay[2][7]=2;aA[8]=0;ay[1][8]=1;ay[2][8]=6;aA[9]=0;ay[1][9]=6;ay[2][9]=4;aA[10]=0;ay[1][10]=4;ay[2][10]=7;aA[11]=0;ay[1][11]=7;ay[2][11]=3;aA[12]=0;ay[1][12]=3;ay[2][12]=8;aA[13]=0;ay[1][13]=8;ay[2][13]=5;aA[14]=0;ay[1][14]=5;ay[2][14]=9;aA[15]=1;ap[15]=17;at[15]=16;ax[15]=0.8751;ay[1][15]=9;ay[2][15]=2;aA[16]=0;ay[1][16]=9;ay[2][16]=10;aA[17]=0;ay[1][17]=10;ay[2][17]=2;aq[0][1]=-0.090572;aB[1][1]=-5;aq[1][1]=4.4844;aq[0][2]=-0.010856;aB[2][1]=1.005;aq[1][2]=-0.7736;aq[0][3]=-0.053718;aB[3][1]=0.3705;aq[1][3]=-0.3495;aq[0][4]=0.026152;aB[4][1]=0.2017;aq[1][4]=-0.7286;aq[0][5]=-0.058387;aB[5][1]=0.5591;aq[1][5]=0.1611;aq[0][6]=0.095807;aB[6][1]=0.1204;aq[1][6]=-0.7978;aq[0][7]=-0.031926;aB[7][1]=0.2815;aq[1][7]=-0.4457;aq[0][8]=-0.06417;aB[8][1]=0.4536;aq[1][8]=0.032813;aq[0][9]=-0.020636;aB[9][1]=0.7132;aq[1][9]=0.335;aq[0][10]=0.040172;aB[10][1]=0.8751;aq[1][10]=-0.041032;return z([undefined,az],av,ar,aw,aA,ax,at,ap,ay,aB,au,aq)}function ao(aD,au,aC,ay,aB,ar,ap){var aF=ab(aD,au,1,ay,aC,aB,aw,aA,at);var aw=aF[0];var aA=aF[1];var at=aF[2];var aE=ab(aD,au,2,ay,aC,aB,av,az,aq);var av=aE[0];var az=aE[1];var aq=aE[2];var ax=(ay-aw)/(av-aw);ar=(1-ax)*aA+ax*az;ap=(1-ax)*at+ax*aq;return[ar,ap]}function s(aG,ay,aI,aM,aE,au,aP,ax,ap,aO,aD,az,ar,aN,aA,at,aK,aB,aw){var aC,aq;var av=[];for(var aJ=1;aJ<=aE;aJ++){for(var aF=1;aF<=aP;aF++){for(var aH=0;aH<=aM;aH++){aK[aH][aF]=0}}for(var aL=1;aL<=aP;aL++){aq=aw[aL][1];aw[aL][1]=aJ;aC=au;while(aw[aL][aC]!=aJ){aC=aC-1}aw[aL][1]=aq;if(aw[aL][aC]==aJ){for(var aH=0;aH<=aM;aH++){aK[aH][aL]=aB[aH][aL][aC]}}}for(var aL=1;aL<=aG;aL++){if(!aI[aL]){aI[aL]=[]}for(var aH=1;aH<=aM;aH++){av[aH]=ay[aL][aH]}aI[aL][aJ]=z(av,aM,ax,ap,aO,aD,az,ar,aN,aA,at,aK)}}}function o(at,av,au,az){var aw=k(1,at,av,au,aq,ay);var ay=aw[0];var aq=aw[1];aw=k(2,at,av,au,ap,ax);var ax=aw[0];var ap=aw[1];var ar=(at-aq)/(ap-aq);az=(1-ar)*ay+ar*ax;return az}function k(aq,au,av,at,ap,ar){var at;ap=0;if(aq==1){ap=av+1}if(aq==2){ap=((av+2)*(av+1))/2}g1=(-0.08125*av+0.13)*av+1.05;ar=ap*(1+Math.max(0,(g1-at)/at));return[ap,ar]}function q(aC,aB,ap,at,aA,aw,ay,aD,az){for(var ar=1;ar<=aA;ar++){for(var au=0;au<=aB;au++){ay[au][ar]=0}}for(var ax=1;ax<=aA;ax++){for(var av=1;av<=at;av++){var aq=aC[az[ax][av]];for(var au=0;au<=aB;au++){ay[au][ax]=ay[au][ax]+aq*aD[au][ax][av]}}}}function z(aX,be,bl,aN,bh,aY,aR,bg,bf,aZ,a2,bk){var a9,ay,a1,aF,aA,aH,av,aw,aJ,aQ,bi,aq,aG,a3,bc,aP,ar,ax,at,a4,aB,aM,aC,au,az,ap,bb,aW,aD,a5,a8,aT,aO,aL,aS,bj,aE;var bd=[];var a7=1;var a0=[];a0[a7]=1;var a6=1;while(bh[a6]!=0){a7=a7+1;if(aX[bh[a6]]<=aY[a6]){aE=aR[a6]}else{aE=bg[a6]}a0[a7]=aE;if(!(a7<20)){I(181)}a6=a0[a7]}for(var aK=0;aK<=be;aK++){bd[aK]=[]}for(var aI=1;aI<=aN;aI++){for(var aK=0;aK<=be;aK++){bd[aK][aI]=bk[aK]?bk[aK][bf[aI][a6]]:0}}aW=aN;aT=bf[1][a6];aS=bf[aN][a6];for(var ba=be;ba>=1;ba--){bc=(aX[ba]-aZ[aT][ba])/(aZ[aS][ba]-aZ[aT][ba]);if(bc<-0.001){G("eval ",aX,be,1);G("lowerlimit ",aZ[aT][1],be,a2)}else{if(1.001<bc){G("eval ",aX,be,1);G("upperlimit ",aZ[aS][1],be,a2)}}if(-0.001<=bc){aD=(bc<=1.001)}else{aD=false}if(!aD){I(122)}aW=(aW)/2;for(var aV=1;aV<=aW;aV++){ax=Math.pow(1-bc,2)*(1+2*bc);av=bc*bc*(3-2*bc);bb=bc*(1-bc)*(1-bc);a8=bc*bc*(bc-1);bd[0][aV]=ax*bd[0][aV]+av*bd[0][aV+aW]+(bb*bd[ba][aV]+a8*bd[ba][aV+aW])*(aZ[aS][ba]-aZ[aT][ba]);for(var aU=1;aU<=ba-1;aU++){bd[aU][aV]=ax*bd[aU][aV]+av*bd[aU][aV+aW]}}}a1=bd[0][1];if(be==2){bj=aZ[aT][1];bi=aZ[aS][1];for(var aK=0;aK<=be;aK++){a9[aK]=bk[aK][bf[3][a6]]}for(var aK=0;aK<=be;aK++){a5[aK]=bk[aK][bf[4][a6]]}ap=aZ[aS][2];a3=a7-1;if(a3==0){aB=true}else{if(bh[a0[a3]]==2){aC=(aY[a0[a3]]==ap)}else{aC=false}aB=aC}while(!aB){a3=a3-1}if(a3>=1){a3=bg[a0[a3]];while(bh[a3]!=0){if(aX[bh[a3]]<=aY[a3]){a3=aR[a3]}else{a3=bg[a3]}}if(bj<aZ[bf[1][a3]][1]){bj=aZ[bf[1][a3]][1];for(var aK=0;aK<=be;aK++){a9[aK]=bk[aK][bf[1][a3]]}}if(aZ[bf[2][a3]][1]<bi){bi=aZ[bf[2][a3]][1];for(var aK=0;aK<=be;aK++){a5[aK]=bk[aK][bf[2][a3]]}}}bc=(aX[1]-bj)/(bi-bj);ax=(1-bc)*(1-bc)*(1+2*bc);av=bc*bc*(3-2*bc);bb=bc*(1-bc)*(1-bc);a8=bc*bc*(bc-1);aF=ax*a9[0]+av*a5[0]+(bb*a9[1]+a8*a5[1])*(bi-bj);aM=ax*a9[2]+av*a5[2];bj=aZ[aT][1];bi=aZ[aS][1];for(var aK=0;aK<=be;aK++){a9[aK]=bk[aK][bf[1][a6]]}for(var aK=0;aK<=be;aK++){a5[aK]=bk[aK][bf[2][a6]]}ap=aZ[aT][2];a3=a7-1;if(a3==0){ay=true}else{if(bh[a0[a3]]==2){aA=(aY[a0[a3]]==ap)}else{aA=false}ay=aA}while(!ay){a3=a3-1}if(a3>=1){a3=aR[a0[a3]];while(bh[a3]!=0){if(aX[bh[a3]]<=aY[a3]){a3=aR[a3]}else{a3=bg[a3]}}if(bj<aZ[bf[3][a3]][1]){bj=aZ[bf[3][a3]][1];for(var aK=0;aK<=be;aK++){a9[aK]=bk[aK][bf[3][a3]]}}if(aZ[bf[4][a3]][1]<bi){bi=aZ[bf[4][a3]][1];for(var aK=0;aK<=be;aK++){a5[aK]=bk[aK][bf[4][a3]]}}}bc=(aX[1]-bj)/(bi-bj);ax=(1-bc)*(1-bc)*(1+2*bc);av=bc*bc*(3-2*bc);bb=bc*(1-bc)*(1-bc);a8=bc*bc*(bc-1);az=ax*a9[0]+av*a5[0]+(bb*a9[1]+a8*a5[1])*(bi-bj);aH=ax*a9[2]+av*a5[2];bj=aZ[aT][2];bi=aZ[aS][2];for(var aK=0;aK<=be;aK++){a9[aK]=bk[aK][bf[2][a6]]}for(var aK=0;aK<=be;aK++){a5[aK]=bk[aK][bf[4][a6]]}ap=aZ[aS][1];a3=a7-1;if(a3==0){au=true}else{if(bh[a0[a3]]==1){aw=(aY[a0[a3]]==ap)}else{aw=false}au=aw}while(!au){a3=a3-1}if(a3>=1){a3=bg[a0[a3]];while(bh[a3]!=0){if(aX[bh[a3]]<=aY[a3]){a3=aR[a3]}else{a3=bg[a3]}}if(bj<aZ[bf[1][a3]][2]){bj=aZ[bf[1][a3]][2];for(var aK=0;aK<=be;aK++){a9[aK]=bk[aK][bf[1][a3]]}}if(aZ[bf[3][a3]][2]<bi){bi=aZ[bf[3][a3]][2];for(var aK=0;aK<=be;aK++){a5[aK]=bk[aK][bf[3][a3]]}}}bc=(aX[2]-bj)/(bi-bj);ax=(1-bc)*(1-bc)*(1+2*bc);av=bc*bc*(3-2*bc);bb=bc*(1-bc)*(1-bc);a8=bc*bc*(bc-1);aJ=ax*a9[0]+av*a5[0]+(bb*a9[2]+a8*a5[2])*(bi-bj);aO=ax*a9[1]+av*a5[1];bj=aZ[aT][2];bi=aZ[aS][2];for(var aK=0;aK<=be;aK++){a9[aK]=bk[aK][bf[1][a6]]}for(var aK=0;aK<=be;aK++){a5[aK]=bk[aK][bf[3][a6]]}ap=aZ[aT][1];a3=a7-1;if(a3==0){aL=true}else{if(bh[a0[a3]]==1){at=(aY[a0[a3]]==ap)}else{at=false}aL=at}while(!aL){a3=a3-1}if(a3>=1){a3=aR[a0[a3]];while(bh[a3]!=0){if(aX[bh[a3]]<=aY[a3]){a3=aR[a3]}else{a3=bg[a3]}}if(bj<aZ[bf[2][a3]][2]){bj=aZ[bf[2][a3]][2];for(var aK=0;aK<=be;aK++){a9[aK]=bk[aK][bf[2][a3]]}}if(aZ[bf[4][a3]][2]<bi){bi=aZ[bf[4][a3]][2];for(var aK=0;aK<=be;aK++){a5[aK]=bk[aK][bf[4][a3]]}}}bc=(aX[2]-bj)/(bi-bj);ax=(1-bc)*(1-bc)*(1+2*bc);av=bc*bc*(3-2*bc);bb=bc*(1-bc)*(1-bc);a8=bc*bc*(bc-1);ar=ax*a9[0]+av*a5[0]+(bb*a9[2]+a8*a5[2])*(bi-bj);aG=ax*a9[1]+av*a5[1];bc=(aX[2]-aZ[aT][2])/(aZ[aS][2]-aZ[aT][2]);ax=(1-bc)*(1-bc)*(1+2*bc);av=bc*bc*(3-2*bc);bb=bc*(1-bc)*(1-bc);a8=bc*bc*(bc-1);aQ=ax*az+av*aF+(bb*aH+a8*aM)*(aZ[aS][2]-aZ[aT][2]);bc=(aX[1]-aZ[aT][1])/(aZ[aS][1]-aZ[aT][1]);ax=(1-bc)*(1-bc)*(1+2*bc);av=bc*bc*(3-2*bc);bb=bc*(1-bc)*(1-bc);a8=bc*bc*(bc-1);aP=ax*ar+av*aJ+(bb*aG+a8*aO)*(aZ[aS][1]-aZ[aT][1]);a1=(aQ+aP)-a1}return a1}function x(d){return Math.floor(d)}function ai(ap,d){var aq=Math.abs(ap);return d>=0?aq:-aq}function h(aP,aH,aW,aU,a4,ar,a2,aN,aC,aM,aF,aE,aY,av,aD,a5,aL,aT,aw,aO,aJ,at,aB,a6,ap,aR){var ay,aI,az;var a1=[];var aS=[];var ax=[];var aK=[];var a3=[];var aq=[];var au=[];var aV=[];var aQ=[];if(!(aY<=ar-1)){I(104)}if(!(aY<=15)){I(105)}for(var aG=1;aG<=aU;aG++){aC[aG]=aG}for(var aX=1;aX<=aW;aX++){for(var aA=1;aA<=a4;aA++){aS[aA]=aP[aX][aA]}if(!aT[aX]){aT[aX]=[]}az=A(aS,aU,a4,ar,a2,aN,aC,aM,aF,aE,aY,av,aD,a5,aL,aO,aJ,at,au,a3,a1,aq,ax,aK,az,aB,a6,ap,aR);if(aw==1){if(!(aW==aU)){I(123)}a0=1;while(aX!=aC[a0]){a0=a0+1;if(!(a0<ar)){I(123)}}for(var aA=1;aA<=ar;aA++){aD[aA]=0}aD[a0]=aO[a0];t(a5,ar,ar,aY,ax,aD,aV,aQ,[],[],[],1000);R(ar,aQ,1,aD,1);for(var aA=1;aA<=aY;aA++){aq[aA]=0}for(var aZ=1;aZ<=aY;aZ++){ay=aD[aZ];for(var aA=1;aA<=aY;aA++){aq[aA]+=ay*a3[aZ][aA]}}for(var aZ=1;aZ<=aY;aZ++){if(az<au[aZ]){aq[aZ]/=au[aZ]}else{aq[aZ]=0}}aT[aX][1]=b(aY,J(a1),1,aq,1,1,null,1)}else{if(aw==2){for(var aA=1;aA<=aU;aA++){aT[aX][aA]=0}for(var aZ=1;aZ<=aY;aZ++){for(var aA=1;aA<=ar;aA++){aD[aA]=0}for(var aA=1;aA<=aY;aA++){aD[aA]=a3[aA][aZ]}t(a5,ar,ar,aY,ax,aD,aV,[],[],[],[],10000);R(ar,aV,1,aD,1);if(az<au[aZ]){aI=1/au[aZ]}else{aI=0}for(var aA=1;aA<=ar;aA++){aD[aA]*=(aI*aO[aA])}for(var a0=1;a0<=ar;a0++){aT[aX][aC[a0]]+=a1[1][aZ]*aD[a0]}}}}}}function a(a5,a8,bd,bb,bl,ar,bj,a2,aJ,aK,a0,aO,aG,aN,be,aw,bq,aL,bo,aZ,a3,a4,av,bs,aM,bp,a1,aS,bn,bm,bi,aV,at,aI,br,ap,aP,aX,aH,a7){var aU,aQ,aE,ba;var a9=[];var aY=[];var aC=[];var aW=[];var a6=[];var bk=[];var aq=[];var au=[];var bh=[];if(!(be<=ar-1)){I(104)}if(!(be<=15)){I(105)}if(aG!=0){for(var aA=1;aA<=bb;aA++){a4[aA]=0}for(var ay=1;ay<=bd;ay++){for(var aA=0;aA<=bl;aA++){av[aA][ay]=0}}}for(var aR=1;aR<=bb;aR++){aK[aR]=aR}for(var bc=0;bc<=bl;bc++){if(!a7[bc]){a7[bc]=[]}}for(var bc=1;bc<=bd;bc++){for(var aA=1;aA<=bl;aA++){a9[aA]=a5[bc][aA]}aE=A(a9,bb,bl,ar,bj,a2,aK,a0,aO,aN,be,aw,aL,bo,aZ,a3,aV,at,au,a6,bk,aq,aC,aW,aE,aI,br,ap,a7);if(aG!=0){for(var aA=1;aA<=bb;aA++){bq[aA]=0}for(var bg=1;bg<=ar;bg++){bq[aK[bg]]=bg}for(var aA=1;aA<=bl;aA++){aY[aA]=a5[bc][aA]}ba=f(aY,bi[bc],bh,ba,bl,bd,a8,bs,aM,bp,a1,aS,bn,bm,a5);for(var az=1;az<=ba;az++){for(var aT=aS[bh[az]];aT<=bn[bh[az]];aT++){bg=bq[aJ[aT]];if(bg!=0){if(!(aK[bg]==aJ[aT])){I(194)}for(var aA=1;aA<=ar;aA++){aL[aA]=0}aL[bg]=a3[bg];t(bo,ar,ar,be,aC,aL,aW,aL,aL,aW,aW,1000);for(var bf=1;bf<=be;bf++){aq[bf]=aE<au[bf]?b(be,a6,1,aL,1,bf,null,1)/au[bf]:0}for(var bf=1;bf<=bl+1;bf++){if(bf<=be){av[bf-1][bc]=b(be,J(bk),1,aq,1,bf,null,1)}else{av[bf-1][bc]=0}}for(var aA=1;aA<=bl;aA++){aY[aA]=a2[aJ[aT]][aA]}aQ=z(aY,bl,bs,aM,bp,a1,aS,bn,bm,a5,a8,av);a4[aJ[aT]]=a4[aJ[aT]]+aQ;for(var aA=0;aA<=bl;aA++){av[aA][bc]=0}}}}}if(aH){if(!(be>=bl+1)){I(196)}for(var aA=1;aA<=ar;aA++){if(!aP[bc]){aP[bc]=[]}aP[bc][aA]=aK[aA]}for(var ay=1;ay<=ar;ay++){for(var aA=0;aA<=bl;aA++){if(!aX[aA]){aX[aA]=[]}if(!aX[aA][bc]){aX[aA][bc]=[]}aX[aA][bc][ay]=0}}for(var bf=1;bf<=be;bf++){for(var aA=1;aA<=ar;aA++){aL[aA]=0}for(var aA=1;aA<=be;aA++){aL[aA]=a6[aA][bf]}t(bo,ar,ar,be,aC,aL,aL,aW,aW,aW,aW,10000);if(aE<au[bf]){aU=1/au[bf]}else{aU=0}for(var aA=1;aA<=ar;aA++){aL[aA]=aL[aA]*(aU*a3[aA])}for(var bg=1;bg<=ar;bg++){var ax=aL[bg];for(var aA=0;aA<=bl;aA++){if(aA<be){aX[aA][bc][bg]=aX[aA][bc][bg]+bk[1+aA][bf]*ax}else{aX[aA][bc][bg]=0}}}}}}if(aG!=0){if(bb<=0){aG=0}else{var aB=bb;var aF=a4[aB];for(var aD=aB-1;aD>=1;aD--){aF=a4[aD]+aF}aG=aF}}return aG}function n(au,ap,ar){var at,d;if(au<1){return 0}if(au==1){return 1}if(ar!=1){d=1;at=Math.abs(ap[1]);d=d+ar;for(var aq=2;aq<=au;aq++){if(Math.abs(ap[d])>at){return aq}d+=ar}}at=Math.abs(ap[1]);for(var aq=2;aq<=au;aq++){if(Math.abs(ap[aq])>at){return aq}}return 1}function an(d,ax,at,av,ar,aq,ay,ap,au){if(!(aq[28]!=173)){I(174)}if(aq[28]!=172){if(!(aq[28]==171)){I(171)}}aq[28]=173;var aA=ar?1:0;var az=(aq[27]!=aq[25]);aq[aq[7]]=[];aq[aq[8]]=[];aq[aq[9]]=[];aq[aq[10]]=[];aq[aq[22]]=[];aq[aq[27]]=[];au[aq[11]]=[[],[],[]];aq[aq[23]]=[];au[aq[13]]=[];au[aq[12]]=[];au[aq[15]]=[];au[aq[16]]=[];au[aq[18]]=[];au[aq[26]]=[];au[aq[24]]=[];aq[aq[25]]=[];au[aq[34]]=[];var aw=p(d,ax,at,aA,av,aq[20],aq[29],aq[3],aq[2],aq[5],aq[17],aq[4],aq[6],aq[14],aq[19],au[1],aq[aq[7]],aq[aq[8]],aq[aq[9]],aq[aq[10]],aq[aq[22]],aq[aq[27]],au[aq[11]],aq[aq[23]],au[aq[13]],au[aq[12]],au[aq[15]],au[aq[16]],au[aq[18]],x(aq[3]*au[2]),au[3],au[aq[26]],au[aq[24]],au[4],aq[30],aq[33],aq[32],aq[41],aq[aq[25]],au[aq[34]],az);aA=aw[0];aq[5]=aw[1];aq[6]=aw[2];if(aq[14]<aq[6]+(aq[4])/2){H("Warning. k-d tree limited by memory; nvmax=",aq[14],1,1)}else{if(aq[17]<aq[5]+2){H("Warning. k-d tree limited by memory. ncmax=",aq[17],1,1)}}return aA}function ak(aF,au,aI,av,ay,aH,az,aG,ar,at,aE){var ap,aB,aw,ax,aq,aC;if(!(aF==106)){I(100)}au[28]=171;au[2]=aH;au[3]=az;aq=Math.pow(2,aH);au[4]=aq;if(!(0<aG)){I(120)}aw=Math.min(az,x(az*aG));au[19]=aw;au[20]=1;if(ar==0){aB=1}else{if(ar==1){aB=aH+1}else{if(ar==2){aB=((aH+2)*(aH+1))/2}}}au[29]=aB;au[21]=1;au[14]=at;ax=at;au[17]=ax;au[30]=0;au[32]=ar;if(!(ar>=0)){I(195)}if(!(ar<=2)){I(195)}au[33]=aH;for(var aA=41;aA<=49;aA++){au[aA]=[,ar]}au[7]=50;au[8]=au[7]+ax;au[9]=au[8]+aq*ax;au[10]=au[9]+ax;au[22]=au[10]+ax;aC=au[22]-1;for(var aD=1;aD<=az;aD++){au[aC+aD]=aD}au[23]=au[22]+az;au[25]=au[23]+at;if(aE){au[27]=au[25]+at*aw}else{au[27]=au[25]}ap=au[27]+az;if(!(ap-1<=aI)){I(102)}au[11]=50;au[13]=au[11]+at*aH;au[12]=au[13]+(aH+1)*at;au[15]=au[12]+ax;au[16]=au[15]+az;au[18]=au[16]+aw;au[24]=au[18]+au[29]*aw;au[34]=au[24]+(aH+1)*at;if(aE){au[26]=au[34]+(aH+1)*at*aw}else{au[26]=au[34]}ap=au[26]+aw;if(!(ap-1<=av)){I(103)}ay[1]=aG;ay[2]=0.05;ay[3]=0;ay[4]=1}function aj(aq,ap,av,au,d,at,ar){if(!(aq[28]!=172)){I(172)}if(!(aq[28]==173)){I(173)}l(aq[3],aq[2],aq[4],aq[14],aq[5],aq[17],aq[aq[7]],aq[aq[8]],aq[aq[9]],aq[aq[10]],au[aq[11]],au[aq[13]],au[aq[12]],d,at,ar)}function ah(d,az,ax,au,aC,ar,ay,ap,aA,aq,aw,aD){var at=171<=au[28]?au[28]<=174:false;if(!at){I(171)}au[28]=172;if(!(au[14]>=au[19])){I(186)}au[au[22]]=[];ay[au[15]]=[];ay[au[16]]=[];ay[au[18]]=[];ay[au[26]]=[];var aB=[];h(aA,ap,ap,au[3],au[2],au[19],ay[1],d,au[au[22]],az,ax,au[20],au[29],ay[au[15]],ay[au[16]],ay[au[18]],0,aq,aw,ay[au[26]],ay[4],au[30],au[33],au[32],au[41],aB);for(var av=0;av<aB[0].length;av++){aD[av+1]=aB[0][av]}}function ae(ar,ap,av,au,d,at,aq){if(!(ar[28]!=172)){I(172)}if(!(ar[28]==173)){I(173)}if(!(ar[26]!=ar[34])){I(175)}s(d,at,aq,ar[2],ar[3],ar[19],ar[6],ar[17],ar[4],ar[ar[7]],au[ar[12]],ar[ar[10]],ar[ar[9]],ar[ar[8]],au[ar[11]],ar[14],au[ar[24]],au[ar[34]],ar[ar[25]])}function aa(at,ap,d,ar,aq){if(!(ap[28]!=172)){I(172)}if(!(ap[28]==173)){I(173)}q(at,ap[2],ap[3],ap[19],ap[6],ap[14],aq[ap[13]],aq[ap[34]],ap[ap[25]])}function X(ax,aq,ap,aw){var ay,au,ar;for(var at=1;at<=aq;at++){ap[at]=Math.abs(ax[at])}for(var d=1;d<=aq;d++){aw[d]=d}ar=x((aq)/2)+1;c(1,aq,ar,1,ap,aw,aq);if((aq-ar)+1<ar){c(1,ar-1,ar-1,1,ap,aw,aq);ay=3*(ap[aw[ar]]+ap[aw[ar-1]])}else{ay=6*ap[aw[ar]]}au=Number.MIN_VALUE;if(ay<au){for(var at=1;at<=aq;at++){ap[at]=1}}else{for(var av=1;av<=aq;av++){if(ay*0.999<ap[av]){ap[av]=0}else{if(ay*0.001<ap[av]){ap[av]=Math.pow((1-Math.pow(ap[av]/ay,2)),2)}else{ap[av]=1}}}}}function ad(at,aD,aw,av,d,aA,aE){var ax,aB,aC,au,az,ar;for(var aq=1;aq<=at;aq++){aE[aq]=Math.abs(aD[aq]-aw[aq])*Math.sqrt(av[aq])}for(var ap=1;ap<=at;ap++){aA[ap]=ap}ax=x((at)/2)+1;c(1,at,ax,1,aE,aA,at);if((at-ax)+1<ax){c(1,ax-1,ax-1,1,aE,aA,at);aB=(aE[aA[ax-1]]+aE[aA[ax]])/2}else{aB=aE[aA[ax]]}aC=Math.pow(6*aB,2)/5;for(var aq=1;aq<=at;aq++){aE[aq]=1-(Math.pow(aD[aq]-aw[aq],2)*av[aq])/aC}for(var aq=1;aq<=at;aq++){aE[aq]=aE[aq]*Math.sqrt(d[aq])}if(at<=0){ar=0}else{au=at;az=aE[au];for(var ay=au-1;ay>=1;ay--){az=aE[ay]+az}ar=az}aC=at/ar;for(var aq=1;aq<=at;aq++){aE[aq]=aw[aq]+(aC*d[aq])*(aD[aq]-aw[aq])}}function D(aK,aI,a3,aV,aY,ap,a7,aD,aO,aB,a6,aN,aH,a5,a4,aQ,a2,aS,aM,aL,aA){var aU,ar,aW,a1,aZ,at,ax,az,aE,ay,aq,aP,av;var aT=1;var aX=aK;var aR=aI;aH[aT]=aX;a5[aT]=aR;var av=[];var at=[];var au=[];for(var a0=1;a0<aO.length;a0++){au[a0]=aO[a0][1]}while(aT<=ap){for(var aw=1;aw<=aA;aw++){av[aw]=aQ[a4[aD][aT]][aw]-aQ[a4[1][aT]][aw]}ar=0;for(var aC=1;aC<=aA;aC++){ar=ar+Math.pow(av[aC],2)}ar=Math.sqrt(ar);if((aR-aX)+1<=aM){az=true}else{az=(ar<=aL)}if(az){a1=true}else{if(a7<ap+2){ay=true}else{ay=(aS<aY+(aD)/2)}a1=ay}if(!a1){y(aX,aR,aA,aO,aB,aV,at);aZ=parseInt(n(aA,at,1));aW=parseInt((aX+aR)/2);c(aX,aR,aW,1,au,aB,aV);aP=0;if(((aW+aP)>=aR)||((aW+aP)<aX)){}else{if(aP<0){aq=aX;aE=aW+aP;aU=aE}else{aq=aW+aP+1;aE=aq;aU=aR}c(aq,aU,aE,1,au,aB,aV);if(aO[aB[aW+aP]][aZ]==aO[aB[aW+aP+1]][aZ]){aP=(-aP);if(aP>=0){aP=aP+1}}else{aW=aW+aP}}if(aQ[a4[1][aT]][aZ]==aO[aB[aW]][aZ]){a1=true}else{a1=(aQ[a4[aD][aT]][aZ]==aO[aB[aW]][aZ])}}if(a1){a6[aT]=0}else{a6[aT]=aZ;aN[aT]=aO[aB[aW]][aZ];ap=ap+1;aH[aT]=ap;aH[ap]=aX;a5[ap]=aW;ap=ap+1;a5[aT]=ap;aH[ap]=aW+1;a5[ap]=aR;var aF=[];var aG=[];var aJ=[];for(var a0=1;a0<=aD;a0++){aF[a0-1]=a4[a0][aT];aG[a0-1]=0;aJ[a0-1]=0}aY=C(aT,aY,aQ,a2,aS,a3,aZ,aN[aT],Math.pow(2,aZ-1),Math.pow(2,a3-aZ),aF,aG,aJ);a4[1].push(aG[0]);a4[2].push(aG[1]);a4[1].push(aJ[0]);a4[2].push(aJ[1])}aT=aT+1;aX=aH[aT];aR=a5[aT]}return[ap,aY]}function y(aq,aB,ax,ay,aw,ap,aA){var aC,at,az;var av=Number.MAX_VALUE;for(var ar=1;ar<=ax;ar++){at=av;az=-av;for(var au=aq;au<=aB;au++){aC=ay[aw[au]][ar];at=Math.min(at,ay[aw[au]][ar]);az=Math.max(az,aC)}aA[ar]=az-at}}function f(av,ay,aC,aB,aD,aH,at,au,ap,aG,aA,aw,ar,aF,ax){var aq=[];var aE=0;var az=1;aB=0;while(0<az){if(aG[az]==0){aB=aB+1;aC[aB]=az;if(aE>=1){az=aq[aE]}else{az=0}aE=Math.max(0,aE-1)}else{if(av[aG[az]]==aA[az]){aE=aE+1;if(!(aE<=20)){I(187)}aq[aE]=ar[az];az=aw[az]}else{if(av[aG[az]]<=aA[az]){az=aw[az]}else{az=ar[az]}}}}if(!(aB<=256)){I(185)}return aB}var S=P(am);return{x:S.loess.x,y:S.loess.y_fit,se:S.loess.se,confidence:S.loess.confidence,order:S.loess.order,summary:"<b>Family</b>: "+S.loess.family+"<br><b>Parameters</b>: "+V.gG(S.param)+"<br><b>Residual SE</b>: "+V.gG(S.resStdErr)+"<br><b>n</>: "+S.nObs,range:S.loess.range}}};CanvasXpress.prototype.initQuantreg=function(){this.iF=function(G,E,L,K,B,I,t,J,v,g,e,f,H){var k=this.XM(g,G,0);var A=this.XM(g,G,1);var i=this.XM(e,E,0);var h=this.XM(g,G,2);var m=this.XM(g,G,3);var o=this.XM(g,G,4);var C=this.XM(g,G,5);var l=this.XM(e,E,1);var j=this.XM(g,G,6);var q=this.XM(g,G,7);var D=this.XM(g,G,8);var b=this.XM(e,E,2);var F=this.oH(this.XM(e,E,3),1,E);H=this.JC(G,E,L,K,B,I,t,J,v,k,A,i,h,m,o,C,l,j,q,D,b,F,f,H);this.Aq(g,G,0,k);this.Aq(g,G,1,A);this.Aq(e,E,0,i);this.Aq(g,G,2,h);this.Aq(g,G,3,m);this.Aq(g,G,4,o);this.Aq(g,G,5,C);this.Aq(e,E,1,l);this.Aq(g,G,6,j);this.Aq(g,G,7,q);this.Aq(g,G,8,D);this.Aq(e,E,2,b);this.Aq(e,E,3,this.oH([],1,E,F));return H};this.JC=function(P,O,Y,W,X,V,L,G,D,J,N,I,H,K,k,o,j,h,m,r,F,l,M,S){var e=0;var t=1;var U=-1;var C=100000000000000000000;var E=500;M[0]=0;M[1]=0;M[2]=P;this.tJ("n",O,P,t,Y,O,W,1,e,I,1);for(var R=0;R<P;R++){V[R]=t}S=this.hH(P,O,Y,V,I,l,S);if(S!=0){return S}this.tu(P,W,1,N,1);this.tJ("t",O,P,U,Y,O,I,1,t,N,1);for(var R=0;R<P;R++){if(Math.abs(N[R])<D){H[R]=Math.max(N[R],e)+D;K[R]=Math.max(-N[R],e)+D}else{H[R]=Math.max(N[R],e);K[R]=Math.max(-N[R],e)}N[R]=L[R]-J[R]}var B=this.Rq(P,H,1,J,1)+this.Rq(P,K,1,N,1);while(B>D&&M[0]<E){M[0]++;for(var R=0;R<P;R++){V[R]=t/(H[R]/J[R]+K[R]/N[R]);o[R]=H[R]-K[R];h[R]=V[R]*o[R]}this.tu(O,X,1,j,1);this.tJ("n",O,P,U,Y,O,J,1,t,j,1);this.tJ("n",O,P,t,Y,O,h,1,t,j,1);this.tu(O,j,1,F,1);S=this.hH(P,O,Y,V,j,l,S);if(S!=0){return S}this.tJ("t",O,P,t,Y,O,j,1,U,o,1);var f=C;var q=C;for(var R=0;R<P;R++){k[R]=V[R]*o[R];o[R]=-k[R];h[R]=-H[R]*(k[R]/J[R]+t);m[R]=-K[R]*(o[R]/N[R]+t);if(k[R]<0){f=Math.min(f,-J[R]/k[R])}if(o[R]<0){f=Math.min(f,-N[R]/o[R])}if(h[R]<0){q=Math.min(q,-H[R]/h[R])}if(m[R]<0){q=Math.min(q,-K[R]/m[R])}}f=Math.min(G*f,t);q=Math.min(G*q,t);if(Math.min(f,q)<t){M[1]++;var v=this.Rq(P,J,1,H,1)+this.Rq(P,N,1,K,1);var T=v+f*this.Rq(P,k,1,H,1)+q*this.Rq(P,h,1,J,1)+f*q*this.Rq(P,h,1,k,1)+f*this.Rq(P,o,1,K,1)+q*this.Rq(P,m,1,N,1)+f*q*this.Rq(P,o,1,m,1);v=v*(Math.pow(T/v,3))/(2*P);for(var R=0;R<P;R++){r[R]=V[R]*(v*(1/N[R]-1/J[R])+k[R]*h[R]/J[R]-o[R]*m[R]/N[R])}this.X2(O,F,1,j,1);this.tJ("n",O,P,t,Y,O,r,1,t,j,1);this.dN("u",O,1,l,O,j,O,S);this.tJ("t",O,P,t,Y,O,j,1,e,L,1);f=C;q=C;for(var R=0;R<P;R++){var A=k[R]*h[R];var Q=o[R]*m[R];k[R]=V[R]*(L[R]-H[R]+K[R])-r[R];o[R]=-k[R];h[R]=-H[R]+(v-H[R]*k[R]-A)/J[R];m[R]=-K[R]+(v-K[R]*o[R]-Q)/N[R];if(k[R]<0){f=Math.min(f,-J[R]/k[R])}if(o[R]<0){f=Math.min(f,-N[R]/o[R])}if(h[R]<0){q=Math.min(q,-H[R]/h[R])}if(m[R]<0){q=Math.min(q,-K[R]/m[R])}}f=Math.min(G*f,t);q=Math.min(G*q,t)}this.LG(P,f,k,1,J,1);this.LG(P,f,o,1,N,1);this.LG(O,q,j,1,I,1);this.LG(P,q,h,1,H,1);this.LG(P,q,m,1,K,1);B=this.Rq(P,H,1,J,1)+this.Rq(P,K,1,N,1)}this.LG(P,U,K,1,H,1);this.X2(P,H,1,J,1);return S};this.hH=function(f,e,r,o,q,c,g){for(var l=0;l<e;l++){c[l]=[];for(var h=0;h<e;h++){c[l][h]=0}}for(var m=0;m<f;m++){this.eZ("u",e,o[m],r[m],1,c,e)}g=this.If("u",e,1,c,e,q,e,g);return g};this.jU=function(w,v,x,G,g,l,s,D,k,f,c,F,e,C){var h=0;var z=1;var E=0.99995;var q=0.000001;var o=[];for(var B=0;B<x;B++){this.tJ("n",v,w,z-l[B],G,v,D,1,h,s,1);this.jE(w,h,f,1);this.LG(w,z-l[B],k,1,f,1);C=this.iF(w,v,G,g,s,D,k,E,q,f,c,e,C);if(C!=0){return C}for(var A=0;A<w;A++){k[A]=z;D[A]=z}this.tu(v,c,1,F,1);o.push({tau:l[B],intercept:c[0],slope:c[1]})}return o};this.Lf=function(l,k,v,q){var J=[];var H=[];for(var A=0;A<l.length;A++){J.push([1,l[A]]);H.push(k[A])}var s=J.length;var r=2;var t=v.length;var F=this.ob(1,s);var o=this.ob(1,s);var f=[];for(var A=0;A<9;A++){for(var w=0;w<s;w++){f.push(0)}}var e=[];var z=r+3;for(var A=0;A<z;A++){for(var w=0;w<r;w++){e.push(0)}}var I=[];for(var A=0;A<t;A++){for(var w=0;w<r;w++){I.push(0)}}var C=this.jU(s,r,t,J,H,v,this.ob(0,r),F,o,f,e,I,this.ob(0,3),0);var G=this.lJ(l);var E=this.K1(l);var D=this.lJ(k);var B=this.K1(k);for(var A=0;A<C.length;A++){var h=C[A].slope;var g=C[A].intercept;D=Math.min((Math.min((h*G)+g,D),Math.min((h*E)+g,D)));B=Math.max((Math.max((h*G)+g,B),Math.max((h*E)+g,B)))}return{data:C,range:[G,E,D,B]}};this.yX=function(b,h,e,g){var c=this.meta;if(!c.vals.quantileRegression){c.vals.quantileRegression={}}var f=b.length;var a=e.length;var d=this.TU([f,a,(g||"Global")]).join(":");if(!c.vals.quantileRegression.hasOwnProperty(d)){c.vals.quantileRegression[d]=this.Lf(b,h,e,g)}return c.vals.quantileRegression[d]}};CanvasXpress.prototype.initLAPACK=function(){this.XM=function(d,h,e){var c=[];var g=h*e;var j=g+h;for(var f=g;f<j;f++){c.push(d[f])}return c};this.Aq=function(d,h,e,c){var g=h*e;var j=g+h;var e=0;for(var f=g;f<j;f++){d[f]=c[e];e++}return d};this.oH=function(d,g,k){var b=[];var h=0;for(var f=0;f<g;f++){b[f]=[];for(var e=0;e<k;e++){b[f][e]=d[h++]}}return b};this.tF=function(d,g,k,b){var h=0;for(var f=0;f<g;f++){b[f]=[];for(var e=0;e<k;e++){d[h]=b[f][e];h++}}return d};this.qZ=function(b,h,i){if(b<1||i<1){return 0}if(b==1){return Math.abs(h[0])}var d=0;var a=1;for(var c=0;c<1+(b-1)*i;c+=i){var e=c;if(h[e]!==0){var g=Math.abs(h[e]);var f=d/g;if(d<g){a=1+a*Math.pow(d/g,2);d=g}else{a=a+Math.pow(g/d,2)}}}return d*Math.sqrt(a)};this.ze=function(e,y,o,z,q,p,f,D,t,C,r){var w=e==="l";var g=w?q:p;var l=z==="n";var h=y==="u";var A=0;if(!e.match(/l|r/)){A=1}else{if(!y.match(/u|l/)){A=2}else{if(!o.match(/n|t|c/)){A=3}else{if(!z.match(/u|n/)){A=4}else{if(q<0){A=5}else{if(p<0){A=6}else{if(t<Math.max(1,g)){A=9}else{if(r<Math.max(1,q)){A=11}}}}}}}}if(A!=0){throw new Error("dtrmm: "+A)}if(q==0||p==0){return A}if(f==0){for(var v=0;v<p;v++){for(var x=0;x<q;x++){C[v][x]=0}}return A}if(w){if(o=="n"){if(h){for(var v=0;v<p;v++){for(var s=0;s<q;s++){if(C[v][s]!=0){var B=f*C[v][s];for(var x=0;x<s;x++){C[v][x]+=B*D[s][x]}if(l){B*=D[s][s]}C[v][s]=B}}}}else{for(var v=0;v<p;v++){for(var s=q-1;s>=0;s--){if(C[v][s]!=0){var B=f*C[v][s];C[v][s]=B;if(l){C[v][s]*=D[s][s]}for(var x=s+1;x<q;x++){C[v][x]+=B*D[s][x]}}}}}}else{if(h){for(var v=0;v<p;v++){for(var x=q-1;x>=0;x--){var B=C[v][x];if(l){B*=D[x][x]}for(var s=0;s<x;s++){B+=D[x][s]*C[v][s]}C[v][x]=f*B}}}else{for(var v=0;v<p;v++){for(var x=0;x<q;x++){var B=C[v][x];if(l){B*=D[x][x]}for(var s=x+1;s<q;s++){B+=D[x][s]*C[v][s]}C[v][x]=f*B}}}}}else{if(o=="n"){if(h){for(var v=p-1;v>=0;v--){var B=f;if(l){B*=D[v][v]}for(var x=0;x<q;x++){C[v][x]*=B}for(var s=0;s<v;s++){if(D[v][s]!=0){B=f*D[v][s];for(var x=0;x<q;x++){C[v][x]+=B*C[s][x]}}}}}else{for(var v=0;v<p;v++){var B=f;if(l){B*=D[v][v]}for(var x=0;x<q;x++){C[v][x]*=B}for(var s=v+1;s<p;s++){if(D[v][s]!=0){B=f*D[v][s];for(var x=0;x<q;x++){C[v][x]+=B*C[s][x]}}}}}}else{if(h){for(var s=0;s<p;s++){for(var v=0;v<s;v++){if(D[s][v]!==0){var d=f*D[s][v];for(var x=0;x<q;x++){C[v][x]+=d*C[s][x]}}}var B=f;if(l){B*=D[s][s]}if(B!=1){for(var x=0;x<q;x++){C[s][x]*=B}}}}else{for(var s=p-1;s>=0;s--){for(var v=s+1;v<p;v++){if(D[s][v]!=0){var c=f*D[s][v];for(var x=0;x<q;x++){C[v][x]+=c*C[s][x]}}}var B=f;if(l){B*=D[s][s]}if(B!=1){for(var x=0;x<q;x++){C[s][x]*=B}}}}}}return A};this.eZ=function(h,b,e,o,p,m,k){var c=0;if(h!="u"&&h!="l"){c=1}else{if(b<0){c=2}else{if(p===0){c=5}else{if(k<Math.max(1,b)){c=7}}}}if(c!==0){throw new Error("dsyr: "+c)}if(b==0||e==0){return c}var l=p<0?b-1:0;var r=l;if(h=="u"){for(var f=0;f<b;f++){if(o[r]!==0){var q=e*o[r];var d=l;for(var g=0;g<=f;g++){m[f][g]+=o[d]*q;d+=p}}r+=p}}else{for(var f=0;f<b;f++){if(o[r]!==0){var q=e*o[r];var d=r;for(var g=f;g<b;g++){m[f][g]+=o[d]*q;d+=p}}r+=p}}return c};this.Y0=function(p,y,d,g,f,t,q,v,s,m){var x=p=="u";var r=y==="n"?d:g;var b=0;if(p!="u"&&p!="l"){b=1}else{if(y!="n"&&y!="t"&&y!="c"){b=2}else{if(d<0){b=3}else{if(g<0){b=4}else{if(q<Math.max(1,r)){b=7}else{if(m<Math.max(1,d)){b=10}}}}}}if(b){throw new Error("dsyrk: "+b)}if(d==0||((f==0||g==0)&&v==1)){return b}if(f==0){if(x){for(var h=0;h<d;h++){for(var o=0;o<=h;o++){s[h][o]=v==0?0:s[h][o]*v}}}else{for(var h=0;h<d;h++){for(var o=h;o<d;o++){s[h][o]=v==0?0:s[h][o]*v}}}return b}if(y=="n"){if(x){for(var h=0;h<d;h++){for(var o=0;o<=h;o++){s[h][o]=v==0?0:s[h][o]*v}for(var e=0;e<g;e++){if(t[e][h]!=0){var w=f*t[e][h];for(var o=0;o<=h;o++){s[h][o]+=w*t[e][o]}}}}}else{for(var h=0;h<d;h++){for(var o=h;o<d;o++){s[h][o]=v==0?0:s[h][o]*v}for(var e=0;e<g;e++){if(t[e][h]!=0){var w=f*t[e][h];for(var o=h;o<d;o++){s[h][o]+=w*t[e][o]}}}}}}else{if(x){for(var h=0;h<d;h++){for(var o=0;o<=h;o++){var w=0;for(var e=0;e<g;e++){w+=t[o][e]*t[h][e]}s[h][o]=v==0?f*w:f*w+v*s[h][o]}}}else{for(var h=0;h<d;h++){for(var o=h;o<d;o++){var w=0;for(var e=0;e<g;e++){w+=t[o][e]*t[h][e]}s[h][o]=v==0?f*w:f*w+v*s[h][o]}}}}return b};this.tJ=function(d,q,p,e,D,r,g,o,C,f,l){var z=0;if(!d.match(/n|t|c/)){z=1}else{if(q<0){z=2}else{if(p<0){z=3}else{if(r<Math.max(1,q)){z=6}else{if(o==0){z=8}else{if(l==0){z=11}}}}}}if(z!=0){throw new Error("dgemv: "+z)}if(q==0||p==0||(e==0&&C==1)){return z}var w=d=="n"?p:q;var u=d=="n"?q:p;var B=o>0?0:w-1;var v=l>0?0:u-1;if(C!=1){if(l==1){if(C==0){for(var t=0;t<u;t++){f[t]=0}}else{for(var t=0;t<u;t++){f[t]*=C}}}else{var b=v;if(C==0){for(var t=0;t<u;t++){f[b]=0;b+=l}}else{for(var t=0;t<u;t++){f[b]*=C;b+=l}}}}if(e==0){return z}if(d=="n"){var k=B;if(l==1){for(var s=0;s<p;s++){var A=e*g[k];for(var t=0;t<q;t++){f[t]+=A*D[s][t]}k+=o}}else{for(var s=0;s<p;s++){var A=e*g[k];var b=v;for(var t=0;t<q;t++){f[b]+=A*D[s][t];b+=l}k+=o}}}else{var h=v;if(o==1){for(var s=0;s<p;s++){var A=0;for(var t=0;t<q;t++){A+=D[s][t]*g[t]}f[h]+=e*A;h+=l}}else{for(var s=0;s<p;s++){var A=0;var c=B;for(var t=0;t<q;t++){A+=D[s][t]*g[c];c+=o}f[h]+=e*A;h+=l}}}return z};this.Yf=function(h,g,q,o,u,d,E,t,D,s,A,B,p){var C=h=="n";var z=g=="n";var f=C?q:u;var e=z?u:o;var x=0;if(!h.match(/n|t|c/)){x=1}else{if(!g.match(/n|t|c/)){x=2}else{if(q<0){x=3}else{if(o<0){x=4}else{if(u<0){x=5}else{if(t<Math.max(1,f)){x=8}else{if(s<Math.max(1,e)){x=10}else{if(p<Math.max(1,q)){x=13}}}}}}}}if(x!=0){throw new Error("dgemm: "+x)}if(q==0||o==0||((d==0||u==0)&&A==1)){return x}if(d==0){if(A==0){for(var v=0;v<o;v++){for(var w=0;w<q;w++){B[v][w]=0}}}else{for(var v=0;v<o;v++){for(var w=0;w<q;w++){B[v][w]*=A}}}return x}if(z){if(C){for(var v=0;v<o;v++){for(var w=0;w<q;w++){B[v][w]=A==0?0:A!=1?B[v][w]*A:B[v][w]}for(var r=0;r<u;r++){var y=d*D[v][r];for(var w=0;w<q;w++){B[v][w]+=y*E[r][w]}}}}else{for(var v=0;v<o;v++){for(var w=0;w<q;w++){var y=0;for(var r=0;r<u;r++){y+=E[w][r]*D[v][r]}if(A==0){B[v][w]=d*y}else{B[v][w]=d*y+A*B[v][w]}}}}}else{if(C){for(var v=0;v<o;v++){for(var w=0;w<q;w++){B[v][w]=A==0?0:A!=1?B[v][w]*A:B[v][w]}for(var r=0;r<u;r++){var y=d*D[r][v];for(var w=0;w<q;w++){B[v][w]+=y*E[r][w]}}}}else{for(var v=0;v<o;v++){for(var w=0;w<q;w++){var y=0;for(var r=0;r<u;r++){y+=E[w][r]*D[r][v]}if(A==0){B[v][w]=d*y}else{B[v][w]=d*y+A*B[v][w]}}}}}return x};this.tu=function(h,d,g,c,e){if(h<=0){return}if(g==1&&e==1){for(var f=0;f<h;f++){c[f]=d[f]}}else{var b=g<0?h-1:0;var a=e<0?h-1:0;for(var f=0;f<h;f++){c[a]=d[b];b+=g;a+=e}}};this.X2=function(b,j,g,h,f){var c=0;if(b<=0){return}if(g==1&&f==1){for(var e=0;e<b;e++){c=j[e];j[e]=h[e];h[e]=c}}else{var d=0;var a=0;if(g<0){d=b-1}if(f<0){a=b-1}for(var e=0;e<b;e++){c=j[d];j[d]=h[a];h[a]=c;d+=g;a+=f}}};this.jE=function(f,c,b,e){if(f<0||e<0){return}if(e==1){for(d=0;d<f;d++){b[d]*=c}}else{var a=f*e;for(var d=0;d<a;d=d+e){b[d]*=c}}};this.mA=function(b,f){if(!(isNaN(b)||isNaN(f))){var d=Math.abs(b);var a=Math.abs(f);var c=Math.max(d,a);var e=Math.min(d,a);return e==0?c:c*Math.sqrt(1+Math.pow(e/c,2))}};this.LG=function(b,h,j,f,g,e){if(b<=0){return}if(h==0){return}if(f==1&&e==1){for(var d=0;d<b;d++){g[d]+=h*j[d]}}else{var c=0;var a=0;if(f<0){c=b-1}if(e<0){a=b-1}for(var d=0;d<b;d++){g[a]+=h*j[c];c+=f;a+=e}}};this.Rq=function(b,j,f,g,e){var h=0;if(b<=0){return 0}if(f==1&&e==1){for(var d=0;d<b;d++){h+=j[d]*g[d]}}else{var c=0;var a=0;if(f<0){c=b-1}if(e<0){a=b-1}for(var d=0;d<b;d++){h+=j[c]*g[a];c+=f;a+=e}}return h};this.T8=function(c,w,d,x,o,l,e,B,r,A,p){var t=c==="l";var f=t?o:l;var h=x=="n";var g=w=="u";var y=0;if(!c.match(/l|r/)){y=1}else{if(!w.match(/u|l/)){y=2}else{if(!d.match(/n|t|c/)){y=3}else{if(!x.match(/u|n/)){y=4}else{if(o<0){y=5}else{if(l<0){y=6}else{if(r<Math.max(1,f)){y=9}else{if(p<Math.max(1,o)){y=11}}}}}}}}if(y!==0){throw new Error("dtrsm: "+y)}if(o==0||l==0){return y}if(e==0){for(var s=0;s<l;s++){for(var v=0;v<o;v++){A[s][v]=0}}return y}if(t){if(d=="n"){if(g){for(var s=0;s<l;s++){if(e!=1){for(var v=0;v<o;v++){A[s][v]*=e}}for(var q=o-1;q>=0;q--){if(A[s][q]!=0){if(h){A[s][q]/=B[q][q]}for(var v=0;v<q;v++){A[s][v]-=A[s][q]*B[q][v]}}}}}else{for(var s=0;s<l;s++){if(e!=1){for(var v=0;v<o;v++){A[s][v]*=e}}for(var q=0;q<o;q++){if(A[s][q]!=0){if(h){A[s][q]/=B[q][q]}for(var v=q+1;v<o;v++){A[s][v]-=A[s][q]*B[q][v]}}}}}}else{if(g){for(var s=0;s<l;s++){for(var v=0;v<o;v++){var z=e*A[s][v];for(var q=0;q<v;q++){z-=B[v][q]*A[s][q]}if(h){z/=B[v][v]}A[s][v]=z}}}else{for(var s=0;s<l;s++){for(var v=o-1;v>=0;v--){var z=e*A[s][v];for(var q=v+1;q<o;q++){z-=B[v][q]*A[s][q]}if(h){z/=B[v][v]}A[s][v]=z}}}}}else{if(d=="n"){if(g){for(var s=0;s<l;s++){if(e!=1){for(var v=0;v<o;v++){A[s][v]*=e}}for(var q=0;q<s;q++){if(B[s][q]!=0){for(var v=0;v<o;v++){A[s][v]-=B[s][q]*A[q][v]}}}if(h){var z=1/B[s][s];for(var v=0;v<o;v++){A[s][v]*=z}}}}else{for(var s=l-1;s>=0;s--){if(e!=1){for(var v=0;v<o;v++){A[s][v]*=e}}for(var q=s+1;q<l;q++){if(B[s][q]!==0){for(var v=0;v<o;v++){A[s][v]-=B[s][q]*A[q][v]}}}if(h){var z=1/B[s][s];for(var v=0;v<o;v++){A[s][v]*=z}}}}}else{if(g){for(var q=l-1;q>=0;q--){if(h){var z=1/B[q][q];for(var v=0;v<o;v++){A[q][v]*=z}}for(var s=0;s<q;s++){if(B[q][s]!=0){var z=B[q][s];for(var v=0;v<o;v++){A[s][v]-=z*A[q][v]}}}if(e!=1){for(var v=0;v<o;v++){A[q][v]*=e}}}}else{for(var q=0;q<l;q++){if(h){var z=1/B[q][q];for(var v=0;v<o;v++){A[q][v]*=z}}for(var s=q+1;s<l;s++){if(B[q][s]!=0){var z=B[q][s];for(var v=0;v<o;v++){A[s][v]-=z*A[q][v]}}}if(e!=1){for(var v=0;v<o;v++){A[q][v]*=e}}}}}}return y};this.If=function(g,j,i,e,d,c,h,f){var f=0;if(!g.match(/u|l/)){f=-1}else{if(j<0){f=-2}else{if(i<0){f=-3}else{if(d<Math.max(1,j)){f=-5}else{if(h<Math.max(1,j)){f=-7}}}}}if(f!=0){throw new Error("dposv: "+-f)}f=this.oa(g,j,e,d,f);if(f==0){f=this.dN(g,j,i,e,d,c,h,f)}return f};this.dN=function(f,c,k,i,g,h,e){var d=0;var j=f=="u";if(!j&&!f.match(/l/)){d=-1}else{if(c<0){d=-2}else{if(k<0){d=-3}else{if(g<Math.max(1,c)){d=-5}else{if(e<Math.max(1,c)){d=-7}}}}}if(d!=0){throw new Error("dpotrs: "+-d)}if(c==0||k==0){return d}if(j){this.T8("l","u","t","n",c,k,1,i,g,[h],e);this.T8("l","u","n","n",c,k,1,i,g,[h],e)}else{this.T8("l","l","n","n",c,k,1,i,g,[h],e);this.T8("l","t","n","n",c,k,1,i,g,[h],e)}return d};this.oa=function(f,g,c,b,e){var e=0;var d=f=="u";if(!d&&!f.match(/l/)){e=-11}else{if(g<0){e=-2}else{if(b<Math.max(1,g)){e=-4}}}if(e!=0){throw new Error("dpotrf: "+-e)}if(g==0){return e}return this.Xc(f,g,c,b,e)};this.Xc=function(f,g,c,b,e){var e=0;var d=f=="u";if(!d&&!f.match(/l/)){e=-11}else{if(g<0){e=-2}else{if(b<Math.max(1,g)){e=-4}}}if(e!=0){throw new Error("dpotrf2: "+-e)}if(g==0){return e}return this.Vp("u",g,c,e)};this.Vp=function(g,b,o,d){var m=[];for(var h=0;h<b;h++){m[h]=[];for(var f=0;f<b;f++){m[h][f]=0}}for(var h=0;h<b;h++){for(var e=0;e<(h+1);e++){var l=0;for(var f=0;f<e;f++){l+=m[h][f]*m[e][f]}m[h][e]=(h==e)?Math.sqrt(o[h][h]-l):(1/m[e][e]*(o[h][e]-l))}}if(g=="u"){for(var h=0;h<b;h++){for(var f=0;f<b;f++){o[h][f]=m[h][f]}}}else{for(var h=0;h<b;h++){for(var f=0;f<b;f++){o[h][f]=m[f][h]}}}return d}};CanvasXpress.prototype.initLayout=function(){this.JH=function(){return(this.scatterPlotMatrix||this.isDOE||(this.graphType=="Pie"&&!this.isDOE&&this.xAxis.length>1)||(this.graphType!="Circular"&&this.qn()))?true:false};this.ua=function(){var b=this.layoutTopology?this.layoutTopology.split(/X/i):this.layout.split(/X/i);if(this.layoutTopology){this.layoutRows=b[0];this.layoutCols=b[1]}else{if(this.layout){this.layoutRows=b[0];this.layoutCols=b[1]}else{this.layoutRows=1;this.layoutCols=1;this.layoutValid=false}}if(!this.scatterPlotMatrix&&this.layoutComb&&this.data.l&&(this.data.l.vars||this.data.l.smps)&&this.data.l.weight&&this.data.l.type){this.data.l.comp=[];if(this.data.l.vars&&this.data.l.smps){var q={};for(var o=0;o<this.data.y.vars.length;o++){if(!q[this.data.y.vars[o]]){q[this.data.y.vars[o]]=[]}q[this.data.y.vars[o]].push(o)}var t={};for(var o=0;o<this.data.y.smps.length;o++){if(!t[this.data.y.smps[o]]){t[this.data.y.smps[o]]=[]}t[this.data.y.smps[o]].push(o)}var s=0;var p=this.layoutTypeVariablesFirst;if(this.layoutType=="wrap"||(this.layoutType=="cols"&&p)||(this.layoutType=="rows"&&!p)||(this.s9())){for(var o=0;o<this.data.l.smps.length;o++){var f=[];var e=this.data.l.smps[o].length;for(var m=0;m<e;m++){for(var h=0;h<t[this.data.l.smps[o][m]].length;h++){f.push(t[this.data.l.smps[o][m]][h])}}for(var m=0;m<this.data.l.vars.length;m++){var d=[];var e=this.data.l.vars[m].length;for(var h=0;h<e;h++){for(var g=0;g<q[this.data.l.vars[m][h]].length;g++){d.push(q[this.data.l.vars[m][h]][g])}}this.data.l.comp[s]=[d,f];s++}}}else{for(var o=0;o<this.data.l.vars.length;o++){var d=[];var e=this.data.l.vars[o].length;for(var m=0;m<e;m++){for(var h=0;h<q[this.data.l.vars[o][m]].length;h++){d.push(q[this.data.l.vars[o][m]][h])}}for(var m=0;m<this.data.l.smps.length;m++){var f=[];var e=this.data.l.smps[m].length;for(var h=0;h<e;h++){for(var g=0;g<t[this.data.l.smps[m][h]].length;g++){f.push(t[this.data.l.smps[m][h]][g])}}this.data.l.comp[s]=[d,f];s++}}}}else{if(this.data.l.vars){if(this.um(this.data.y.smps)){var a={};for(var o=0;o<this.data.y.vars.length;o++){if(!a[this.data.y.vars[o]]){a[this.data.y.vars[o]]=[]}a[this.data.y.vars[o]].push(o)}for(var o=0;o<this.data.l.vars.length;o++){this.data.l.comp[o]=[];var e=this.data.l.vars[o].length;for(var m=0;m<e;m++){if(!this.isDOE&&this.data.l.vars[o][m]){for(var h=0;h<a[this.data.l.vars[o][m]].length;h++){this.data.l.comp[o].push(a[this.data.l.vars[o][m]][h])}}}}}else{for(var o=0;o<this.data.l.ids.length;o++){this.data.l.comp[o]=[];var e=this.data.l.ids[o].length;var a={};for(var m=0;m<this.data.l.ids[o].length;m++){if(!a[this.data.y.vars[this.data.l.ids[o][m]]]){a[this.data.y.vars[this.data.l.ids[o][m]]]=[]}a[this.data.y.vars[this.data.l.ids[o][m]]].push(this.data.l.ids[o][m])}for(var m=0;m<e;m++){if(!this.isDOE){for(var h=0;h<a[this.data.y.vars[this.data.l.ids[o][m]]].length;h++){this.data.l.comp[o].push(a[this.data.y.vars[this.data.l.ids[o][m]]][h])}}}}}}else{if(this.um(this.data.y.smps)){var a={};for(var o=0;o<this.data.y.smps.length;o++){if(!a[this.data.y.smps[o]]){a[this.data.y.smps[o]]=[]}a[this.data.y.smps[o]].push(o)}for(var o=0;o<this.data.l.smps.length;o++){this.data.l.comp[o]=[];var e=this.data.l.smps[o].length;for(var m=0;m<e;m++){if(!this.isDOE){for(var h=0;h<a[this.data.l.smps[o][m]].length;h++){this.data.l.comp[o].push(a[this.data.l.smps[o][m]][h])}}}}}else{for(var o=0;o<this.data.l.ids.length;o++){this.data.l.comp[o]=[];var e=this.data.l.ids[o].length;var a={};for(var m=0;m<this.data.l.ids[o].length;m++){if(!a[this.data.y.smps[this.data.l.ids[o][m]]]){a[this.data.y.smps[this.data.l.ids[o][m]]]=[]}a[this.data.y.smps[this.data.l.ids[o][m]]].push(this.data.l.ids[o][m])}for(var m=0;m<e;m++){if(!this.isDOE){for(var h=0;h<a[this.data.y.smps[this.data.l.ids[o][m]]].length;h++){this.data.l.comp[o].push(a[this.data.y.smps[this.data.l.ids[o][m]]][h])}}}}}}}this.layoutValid=true}else{if(this.layoutComb&&this.data.l&&this.data.l.smps&&this.data.l.weight&&this.data.l.type){this.data.l.comp=[];var r=[];for(var o=0;o<this.data.y.vars.length;o++){r.push(o)}for(var o=0;o<this.data.l.type.length;o++){this.data.l.comp[o]=r}this.layoutValid=true}else{if(this.data.l&&this.data.l.comp){if(this.data.l.comp.length<=(this.layoutRows*this.layoutCols)){this.layoutValid=true}else{this.layoutValid=false}}else{this.layoutValid=false}}}if(this.layoutValid){this.meta.config.orig.adjustAspectRatio=this.adjustAspectRatio;this.adjustAspectRatio=true;this.layoutComb=true}};this.ng=function(b,d){var a=(d*Number(this.layoutRows))+b+Number(this.layoutRows);if(this.isDOE){return true}else{if(this.scatterPlotMatrix){return Number(d)==Number(this.layoutCols)-1||!this.data.l.smps[a].xAxis}else{return Number(d)==Number(this.layoutCols)-1||!this.data.l.comp[a]}}};this.tZ=function(b,d){var a=(b*Number(this.layoutCols))+d+Number(this.layoutCols);if(this.isDOE){return true}else{if(this.scatterPlotMatrix){if(this.scatterPlotMatrixType&&this.scatterPlotMatrixType=="both"&&!this.layoutAdjust){return Number(b)==Number(this.layoutRows)-1}else{return Number(b)==Number(this.layoutRows)-1||!this.data.l.smps[a].xAxis}}else{if(this.data.l.hasOwnProperty("axes")&&this.data.l.axes){return Number(b)==Number(this.layoutRows)-1||!this.data.l.axes[a]}else{return Number(b)==Number(this.layoutRows)-1||!this.data.l.comp[a]}}}};this.vZ=function(){var a=this.layoutTopology?this.layoutTopology.split(/X/i):this.layout.split(/X/i);if(this.layoutTopology){if(this.layoutRows==a[0]&&this.layoutCols==a[1]){return}}else{if(this.layout){if(this.layoutRows==a[0]&&this.layoutCols==a[1]){return}}}this.ua();var e=1/this.layoutCols;var d=1/this.layoutRows;for(var b=0;b<this.data.l.comp.length;b++){this.data.l.weight[b]=[e,d]}};this.Hu=function(){this.U6();if(this.yW()){this.ks()}else{if(this.graphType=="Pie"){this.el()}else{this.u2()}}};this.EC=function(a){var b=0;if(this.graphType=="Treemap"||this.graphType=="TagCloud"||this.graphType=="Pie"||this.s9()){return 0}else{if(this.yW()){if(a){return this.yAxisTitle?this.yAxisTitleFontSize+(this.margin*2):0}else{return this.xAxisTitle?this.xAxisTitleFontSize+(this.margin*2):0}}else{if(this.Qc()){b=a?this.zn(true):this.zn();b=b!=""?this.xAxisTitleFontSize+(this.margin*2):0}else{b=a?this.zn(true):this.zn();b=b!=""?this.xAxisTitleFontSize+(this.margin*2):0}}}return b};this.JX=function(){var g=[];var c=this.stndByLayoutData&&this.stndByLayoutData.data?this.stndByLayoutData.data:this.data.l;this.data.l=this.TU(c);if(this.layoutGlobalGroups){this.layoutSameSamples=true}else{if(c.group&&c.smps){for(var e=0;e<c.smps.length;e++){var a={};for(var d=0;d<c.ids[e].length;d++){var l=c.ids[e][d];var m=[];for(var b=0;b<c.group.length;b++){var f=c.group[b];var k=this.Mk(l,"x",f,true);if(k==null){k="NA"}m.push(k)}m=m.sort();a[m.join("")]=true}g.push(Object.keys(a).sort())}for(var d=1;d<g.length;d++){if(!this.gS(g[d-1],g[d])){this.layoutSameSamples=false;return}}this.layoutSameSamples=true}else{this.layoutSameSamples=false}}};this.FW=function(){var a=0;if(this.isDOE||this.graphType=="Meter"){a=0}else{if(this.yW()){if(!this.layoutAdjust||this.scatterPlotMatrixType.match(/correlation|all/)){a+=this.Gx()}else{a+=this.EC()}}else{if(this.graphType=="Pie"){a=(this.margin*2)+this.pb("XX",this.smpTextFont)}else{if(this.s9()){a+=this.segregateSamplesBy.length?this.stripThickness:this.margin;if(this.smpOverlaysThicknessLeft){a+=this.smpOverlaysThicknessLeft}if(this.smpTitleLabelPosition=="left"&&this.showSampleNames){a+=this.i7()+this.WT()-(this.margin*2)}else{a+=this.margin*3}if(this.smpDendrogramPosition=="left"&&this.smpDendrogramNewick&&this.showSmpDendrogram){a+=this.dendrogramHeight}}else{if(!this.layoutAdjust){if(this.segregateVariablesBy.length>0){if(this.graphOrientation!="vertical"){a=this.WT()}else{a=this.kr()}}else{if(this.segregateSamplesBy.length>0){if(this.Qc()){a=this.kr()}else{if(this.segregateSamplesBy.length&&!this.layout.match(/X1/)){this.JX();if(this.layoutSameSamples){a=this.WT()}}}}}}else{if(this.graphOrientation!="vertical"){if(this.segregateVariablesBy.length){a=this.WT()}else{if(this.segregateSamplesBy.length&&!this.layout.match(/X1/)){this.JX();if(this.layoutSameSamples){a=this.WT()}}}}}if(this.Qc()){a+=this.EC()}else{a+=this.smpTitle?this.smpTitleFontSize+(this.margin*2):0}}}}if(this.showLegend&&!this.s9()){a+=this.legendPosition=="left"?this.legend.width:this.margin}}return a};this.ov=function(){var c=0;var d=this.layoutType=="rows"||(this.layoutType=="cols"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1);if(this.isDOE||this.graphType=="Meter"){c=0}else{if(this.yW()){if(this.scatterPlotMatrix&&this.showScatterPlotMatrixLabels&&this.scatterPlotMatrixType!="first"){c+=this.stripThickness}else{if(this.layoutType=="rows"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0){c+=this.stripThickness}else{if(this.layoutType=="cols"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1){c+=this.stripThickness}else{if(this.layoutType=="wrap"){}else{if(!this.layoutAdjust){}}}}}}else{if(this.s9()){var b=0;if(this.showSampleNames&&this.smpTitleLabelPosition=="left"){b=this.EH("var");if(this.showSmpDendrogram&&this.smpDendrogramPosition=="right"&&this.smpDendrogramNewick&&b>this.dendrogramHeight){}else{if(this.showSmpDendrogram&&this.smpDendrogramPosition=="right"&&this.smpDendrogramNewick){b=0}}}else{if(this.varOverlays.length){b=this.EH("var")}}c+=b;if(this.smpOverlaysThicknessRight){c+=this.smpOverlaysThicknessRight}if(this.smpTitleLabelPosition=="right"&&this.showSampleNames){c+=this.i7()+this.WT()}if(this.smpDendrogramPosition=="right"&&this.smpDendrogramNewick&&this.showSmpDendrogram){c+=this.dendrogramHeight}if(this.heatmapIndicatorPosition.match(/right/)){c+=this.j0()}}else{if(!this.layoutAdjust){if(this.Qc()&&!d){c=this.kr(true)}}else{c=0}if(this.Qc()&&!d){c+=this.EC(true)}if(d){c+=this.stripThickness}}}if(this.showLegend){c+=this.legendPosition=="right"&&this.legend.width?this.legend.width:this.margin}}return c};this.zW=function(){var a=0;if(this.isDOE){this.title=this.meta.config.user.title;this.subtitle=this.meta.config.user.subtitle;a=this.SP();this.title="";this.subtitle="";return a}else{a=this.SP();var b=this.layoutType=="cols"||(this.layoutType=="rows"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1);if(this.graphType=="Pie"){a+=this.stripThickness}else{if(this.yW()){if(this.showLegend&&this.legendPosition=="top"){a+=this.legend.height}if(this.scatterPlotMatrix&&this.showScatterPlotMatrixLabels&&this.scatterPlotMatrixType!="first"){a+=this.stripThickness}else{if(this.layoutType=="rows"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1){a+=this.stripThickness}else{if(this.layoutType=="cols"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>0){a+=this.stripThickness}else{if(this.layoutType=="wrap"){}else{if(!this.layoutAdjust){}}}}}}else{if(!this.s9()){if(this.showLegend&&this.legendPosition=="top"){a+=this.legend.height}if(!this.layoutAdjust){if(this.graphOrientation!="vertical"&&!b){a+=this.kr()}}if(this.graphOrientation!="vertical"&&!b){a+=this.EC()}}else{a+=this.segregateVariablesBy.length?this.stripThickness:this.margin;if(this.varOverlaysThicknessTop){a+=this.varOverlaysThicknessTop}if(this.varTitleLabelPosition=="top"&&this.showVariableNames){a+=this.aZ()+this.IP()}if(this.varDendrogramPosition=="top"&&this.varDendrogramNewick&&this.showVarDendrogram){a+=this.dendrogramHeight}}if(b&&!this.s9()){a+=this.stripThickness}}}}return a};this.jO=function(){var c=0;if(this.isDOE||this.graphType=="Meter"){c=0}else{if(this.yW()){if(!this.layoutAdjust||this.scatterPlotMatrixType.match(/correlation|all/)){c=this.dj()}else{c+=this.EC()}if(this.showLegend&&this.legendPosition=="bottom"){c+=this.legend.height}}else{if(this.graphType=="Pie"){if(this.showLegend&&this.legendPosition=="bottom"){}}else{if(this.s9()){if(this.varOverlaysThicknessBottom){c+=this.varOverlaysThicknessBottom}if(this.varTitleLabelPosition=="bottom"&&this.showVariableNames){c+=this.aZ()+this.IP()}if(this.varDendrogramPosition=="bottom"&&this.varDendrogramNewick&&this.showVarDendrogram){c+=this.dendrogramHeight}var d=this.EH("smp");if(d>c){c=d}}else{if(!this.layoutAdjust){if(this.graphOrientation!="vertical"){c=this.kr(true)}}if(this.Qc()){if(this.segregateVariablesBy.length>0){c=this.WT()}else{if(this.segregateSamplesBy.length&&!this.layout.match(/1X/)){this.JX();if(this.layoutSameSamples){c=this.WT()}}}c+=this.smpTitle?this.smpTitleFontSize+(this.margin*2):0}else{c+=this.EC(this.layoutType=="cols"?false:true);if(this.layoutType=="rows"&&this.isGroupedData){c+=this.xAxisTitleFontSize}}if(this.showLegend&&this.legendPosition=="bottom"){c+=this.Tc("bottom")}}}}}c+=this.l0();return c};this.ke=function(b){var a=this.smpIndices;this.smpIndices=b;this.smpIndices=a;this.showSampleNames=true;this.showOverlays=true;this.Sf()};this.MY=function(){this.offsetX=0;this.offsetY=0;this.layoutLeft=this.FW();this.layoutRight=this.ov();this.layoutTop=this.zW();this.layoutBottom=this.jO();if(this.layoutCanvasCompartments){var a=this.width-(this.marginLeft+this.layoutLeft+this.marginRight+this.layoutRight);var b=this.height-(this.marginTop+this.layoutTop+this.marginBottom+this.layoutBottom);this.To({p:["drawShape","rectangle",this.marginLeft+this.layoutLeft+(a/2),this.marginTop+this.layoutTop+(b/2),a,b,false,"rgba(0,0,0,0.5)","open"],t:"Size"})}};this.M0=function(){var a=this.isGroupedData;this.isGroupedData=false;this.legendLayoutPosition=this.legendPosition;this.Hu();if(this.graphType=="Pie"||this.isDOE){this.Bs()}else{if(this.yW()||this.isMultidimensionalData||((this.Pc()||this.connectBy)&&this.graphType.match(/^Bar$|Boxplot|Dotplot|Treemap|Heatmap/))){this.mU(true);if(this.showHistogram){this.sQ()}}else{this.Bs()}}this.isGroupedData=a};this.aF=function(){if(this.isDOE&&!this.layoutDOETables){this.layoutDOETables={}}};this.it=function(){var b=["layoutLeft","layoutRight","layoutTop","layoutBottom"];for(var a=0;a<b.length;a++){if(!this[b[a]]){this[b[a]]=this.margin}}};this.eo=function(){var k=0;var f=0;var q=0;var C=0;this.it();var D=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight);var b=this.height-(this.marginTop+this.layoutTop+this.layoutBottom+this.marginBottom);if(this.graphType=="Treemap"){return}if(this.graphType=="Pie"&&this.showPieSampleLabel){var z,m;var A=0;this.Vd();var s=this.rk(this.font);var d=this.marginTop;var a=this.marginLeft+this.layoutLeft;var n=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(var v=0;v<this.layoutRows;v++){z=b*this.layoutParams[A].weight[1];k=(this.marginLeft+this.layoutLeft)-this.margin;d+=z;for(var u=0;u<this.layoutCols;u++){if(this.xAxis.length<=A){break}m=D*this.layoutParams[A].weight[0];a+=m;f=(this.marginTop+this.layoutTop)-(this.stripThickness/2);if(this.showPieSampleLabel){this.To({p:["drawText",this.xAxis[A],a-(m/1.1),d-(z/5),this.legendTextFont,this.foreground,"center","middle"],t:"LabelsTitle"})}A++}a=this.marginLeft+this.layoutLeft}}else{if(this.yW()){if(this.yAxisTitle){var B=((this.height-(this.marginTop+this.layoutTop+this.marginBottom+this.layoutBottom))/2)+(this.marginTop+this.layoutTop);var o=this.marginLeft+this.margin+(this.yAxisTitleFontSize/2)+((this.showLegend&&this.legendPosition=="left"&&this.legend.width?this.legend.width:0)-this.margin);this.To({p:["drawText",this.yAxisTitle,o,B,this.yAxisTitleFont,this.yAxisTitleColor,"center","middle",-Math.PI/2],t:"LabelsTitle"})}if(this.xAxisTitle){var t=0;var m=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight);var z=this.marginBottom+this.margin+(this.xAxisTitleFontSize/2)+t+(this.showLegend&&this.legendPosition=="bottom"&&this.legend.height?this.legend.height:0)+this.l0();this.To({p:["drawText",this.xAxisTitle,this.marginLeft+this.layoutLeft+(m/2),this.height-z,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle"],t:"LabelsTitle"})}}else{if(this.s9()){this.pZ()}if(this.smpTitle&&!this.s9()){if(this.Qc()){var t=this.legendPosition=="bottom"&&this.legend.height?this.legend.height:0;var m=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight);var z=this.marginBottom+this.margin+(this.smpTitleFontSize/2)+t+ +this.l0();this.To({p:["drawText",this.smpTitle,this.marginLeft+this.layoutLeft+(m/2),this.height-z,this.smpTitleFont,this.smpTitleColor,"center","middle"],t:"LabelsTitle"})}else{this.To({p:["drawText",this.smpTitle,this.marginLeft+this.margin+(this.smpTitleFontSize/2),this.height/2,this.smpTitleFont,this.smpTitleColor,"center","middle",-Math.PI/2],t:"LabelsTitle"})}}var g=this.zn();var e=this.zn(true,this.layoutType=="rows"&&this.isGroupedData);if(g!=""&&!this.s9()&&this.xAxisShow&&this.layoutType!="rows"){if(this.Qc()){var o=this.marginLeft+this.margin+(this.xAxisTitleFontSize/2)+(this.showLegend&&this.legendPosition=="left"&&this.legend.width?this.legend.width:0);var B=((this.height-this.layoutTop)/2)+this.layoutTop;this.To({p:["drawText",g,o,B,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle",-Math.PI/2],t:"LabelsTitle"})}else{var m=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight);var z;if(this.layoutType=="cols"){z=this.marginTop+this.layoutTop+this.layoutHeight+this.SP()}else{z=this.margin+(this.xAxisTitleFontSize/2)+this.SP()+(this.showLegend&&this.legendPosition=="top"&&this.legend.height?this.legend.height:0)}this.To({p:["drawText",g,this.marginLeft+this.layoutLeft+(m/2),this.marginTop+z,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle"],t:"LabelsTitle"})}}if((e!=""&&!this.s9()&&this.xAxis2Show)||(this.layoutType=="rows"&&this.isGroupedData)){if(this.Qc()){var t=this.legendPosition=="right"&&this.legend.width?this.legend.width:0;var p=this.marginRight+this.margin+(this.xAxisTitleFontSize/2)+t;this.To({p:["drawText",e,this.width-p,this.height/2,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle",Math.PI/(this.xAxis2Rotate?-2:2)],t:"LabelsTitle"})}else{var t=this.legendPosition=="bottom"&&this.legend.height?this.legend.height:0;var m=this.width-(this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight);var z=this.marginBottom+this.margin+(this.xAxisTitleFontSize/2)+t;this.To({p:["drawText",e,this.marginLeft+this.layoutLeft+(m/2),this.height-z,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle"],t:"LabelsTitle"})}}}}};this.xm=function(o,j){var i=this.foreground;var l=this.font;var g=this.pb(o,l);var b=this.rk(l)/2;var n=this.layoutWidth;var e=this.layoutHeight;var m=this.marginLeft+this.offsetX;var k=this.marginTop+this.offsetY;var a=m+n-5;var d=k+e-5;this.layoutParams[j].bounds=[m+b,k+b,a,d];this.To({p:["drawText",o,m+20,k,l,i,"left","top"],t:"Labels"});this.To({p:["drawLine","line",m+b,k+b,m+15,k+b,i],t:"Labels"});this.To({p:["drawLine","line",m+g+25,k+b,a,k+b,i],t:"Labels"});this.To({p:["drawLine","line",a,k+b,a,d,i],t:"Labels"});this.To({p:["drawLine","line",m+b,d,a,d,i],t:"Labels"});this.To({p:["drawLine","line",m+b,k+b,m+b,d,i],t:"Labels"});this.To({p:["drawShape","rect",a-5,d-5,10,10,false,"rgba(0,0,0,0)","open"],i:["ResizeDOE-"+j],t:"Size"});this.To({p:["drawLine","line",a-6,d,a,d-6,"rgba(0,0,0,0.2)"],t:"Size"});this.To({p:["drawLine","line",a-2,d,a,d-2,"rgba(0,0,0,0.2)"],t:"Size"});this.To({p:["drawLine","line",a-10,d,a,d-10,"rgba(0,0,0,0.2)"],t:"Size"})};this.EF=function(){var a=this.data.l.weight;var d=this.layoutParams;var e=this.data.l.comp;if(a){if(this.isDOE||this.scatterPlotMatrix||(this.data.l.vars&&this.data.l.smps)){for(var b=0;b<a.length;b++){d[b].weight=a[b]}}else{if(this.graphType=="Pie"){for(var b=0;b<e.length;b++){d[b].weight=a[b]}}else{for(var b=0;b<a.length;b++){d[b].weight=a[b]}}}}else{if(e){a=[];for(var b=0;b<e.length;b++){a[b]=e.length;d[b].weight=a[b]}}else{alert("Wuz going on dude? This aint't gonna work!")}}};this.Rg=function(){var b=this.data.l.type;if(b){for(var a=0;a<b.length;a++){this.layoutParams[a].graphType=b&&b[a]?b[a]:this.graphType}}};this.Ru=function(g){var b;var a=this.xAxis.length&&this.xAxis2.length?this.tU(this.xAxis).concat(this.tU(this.xAxis2)):this.varIndices;var c=this.l4(a);var f=this.l4(this.smpIndices);for(var e=0;e<this.data.l.comp.length;e++){if(this.data.l.vars&&this.data.l.smps){b=[];var c=this.l4(this.data.l.comp[e][0]);for(var d=0;d<a.length;d++){if(c.hasOwnProperty(a[d])){b.push(a[d])}}this.layoutParams[e].varIndices=b;b=[];var f=this.l4(this.data.l.comp[e][1]);for(var d=0;d<this.smpIndices.length;d++){if(f.hasOwnProperty(this.smpIndices[d])){b.push(this.smpIndices[d])}}if(this.layoutGlobalGroups){this.layoutParams[e].smpIndices=b}else{this.layoutParams[e].smpIndices=b}this.PR(e,this.layoutParams[e].varIndices,this.layoutParams[e].smpIndices)}else{if(this.data.l.comp[e]){b=[];if(this.data.l.vars){var c=this.l4(this.data.l.comp[e]);for(var d=0;d<a.length;d++){if(c.hasOwnProperty(a[d])){b.push(a[d])}}this.layoutParams[e].varIndices=this.showHistogram?a:b;this.layoutParams[e].smpIndices=this.smpIndices;this.PR(e,this.layoutParams[e].varIndices,this.smpIndices)}else{var f=this.l4(this.data.l.comp[e]);for(var d=0;d<this.smpIndices.length;d++){if(f.hasOwnProperty(this.smpIndices[d])){b.push(this.smpIndices[d])}}this.layoutParams[e].varIndices=a;if(!this.layoutParams[e].smpIndices||this.layoutParams[e].smpIndices.length!=b.length){this.layoutParams[e].smpIndices=b}this.PR(e,a,this.layoutParams[e].smpIndices)}}else{if(this.data.l.vars){this.layoutParams[e].varIndices=[];this.layoutParams[e].smpIndices=this.smpIndices}else{this.layoutParams[e].varIndices=a;this.layoutParams[e].smpIndices=[]}}}this.layoutParams[e].varIndicesStart=-1;this.layoutParams[e].smpIndicesStart=-1;this.layoutParams[e].grpIndicesStart=-1}for(var e=0;e<this.data.l.type.length;e++){for(var d=0;d<g.length;d++){if(!this.layoutParams[e].hasOwnProperty(g[d])){this.layoutParams[e][g[d]]=this[g[d]]}}}};this.An=function(){delete (this.data.l);delete (this.layoutParams);this.offsetX=0;this.offsetY=0;this.layoutValidN=false;this.layoutValidR=false;this.layoutValidC=false;this.layoutValidBounds=false;this.layoutCurrent=false;this.layoutComb=false;this.layoutRestore=false;this.layout="1X1"};this.DD=function(){this.layoutRestore=false};this.EI=function(){if(!this.layoutRestore){this.layoutRestore={};var b=["title","subtitle","showHistogram","varIndices","smpIndices","grpIndices","varIndicesStart","smpIndicesStart","grpIndicesStart","smpTitle","showVariableNames","showSampleNames","showOverlays","showLegend","legendInside","showDecorationsLegend","xAxisShow","xAxis2Show","xAxisS2Show","yAxisShow","yAxisS2Show","xAxisTitle","xAxis2Title","yAxisTitle","zAxisTitle","legend"];b.push("layoutWidth","layoutHeight","layoutValid","layoutComb","offsetX","offsetY");b.push("layoutTop","layoutRight","layoutBottom","layoutLeft");if(this.graphType.match(/Heatmap/)){b.push("showHeatmapIndicator","showSmpOverlaysLegend","showVarOverlaysLegend","showSampleNames","showVariableNames","showSmpDendrogram","showVarDendrogram","smpDendrogramPosition","varDendrogramPosition","showOverlays")}for(var a=0;a<b.length;a++){this.layoutRestore[b[a]]=this[b[a]]}if(this.isGroupedData&&this.data.w){this.layoutRestore.isGroupedData=this.isGroupedData}}};this.RB=function(){if(!this.layoutParams&&this.data.l.comp){this.layoutParams=[]}for(var a=0;a<this.data.l.type.length;a++){if(!this.layoutParams[a]){this.layoutParams[a]={}}}};this.Wx=function(){if(this.layoutRemoveEmpty&&this.layoutParams&&!this.isDOE){var f={};var d=[];var g=["comp","desc","name","type","vars","smps","weight"];var h=0;for(var c=0;c<g.length;c++){if(this.data.l[g[c]]){f[g[c]]=[]}}for(var c=0;c<this.data.l.weight.length;c++){var b=this.layoutParams[c].varIndices.length;var e=this.layoutParams[c].smpIndices.length;if(b&&e){d.push(this.layoutParams[c]);for(var a=0;a<g.length;a++){if(this.data.l[g[a]]){f[g[a]].push(this.data.l[g[a]][c])}}if(this.data.l.group){f.group=this.data.l.group}h++}}if(h!=this.data.l.weight.length){this.stndByLayoutData={};this.stndByLayoutData.data=this.aj(this.data.l);this.stndByLayoutData.pars=this.TU(this.layoutParams);this.stndByLayoutData.layoutRows=this.layoutRows;this.stndByLayoutData.layoutCols=this.layoutCols;this.stndByLayoutData.layout=this.layout;this.data.l=f;this.layoutParams=d;this.layoutRows=Math.ceil(Math.sqrt(h));this.layoutCols=this.layoutRows*(this.layoutRows-1)>=h?this.layoutRows-1:this.layoutRows;this.layout=this.layoutRows+"X"+this.layoutCols;for(var c=0;c<this.data.l.weight.length;c++){this.data.l.weight[c]=[1/this.layoutCols,1/this.layoutRows]}}}};this.MS=function(){if(this.stndByLayoutData){this.data.l=this.stndByLayoutData.data;this.layoutParams=this.stndByLayoutData.pars;this.layoutRows=this.stndByLayoutData.layoutRows;this.layoutCols=this.stndByLayoutData.layoutCols;this.layout=this.stndByLayoutData.layout}};this.Po=function(c){if(this.data.l.smps){if(this.graphType.match(/Scatter2D/)&&this.segregateSamplesBy&&this.segregateSamplesBy.length==1&&this.segregateSamplesBy[0]=="sample"){var e=this.TU(this[c+"Axis"]);if(e[0]=="Bin"){if(c=="x"){return["Bin"]}else{e.shift();return e}}else{return this.TU(this.data.y.smps)}}else{var e={};var b=c=="x"?0:1;for(var d=0;d<this.data.l.smps.length;d++){if(this.data.l.smps[d]&&(this.data.l.smps[d][b]||this.data.l.smps[d][b]==0)){if(this.tO(this.data.l.smps[d])){e[this.data.l.smps[d][b]]=true}else{if(this.data.l.smps[d]!=""){e[this.data.l.smps[d]]=true}}}else{if(this.data.l.smps[d][c+"Axis"]){if(this.tO(this.data.l.smps[d][c+"Axis"])){if(this.data.l.smps[d][c+"Axis"][0]){e[this.data.l.smps[d][c+"Axis"][0]]=true}}else{e[this.data.l.smps[d][c+"Axis"]]=true}}}}return this.Nv(e)}}else{if(this[c+"Axis"].length>0){return this[c+"Axis"]}else{return this.data.y.smps}}};this.sb=function(f){if(!this.isDOE&&this.graphType!="Pie"){delete this.xAxisLayoutMaxTickStr;delete this.xAxisLayoutMaxTickStrLength;delete this.xAxis2LayoutMaxTickStr;delete this.xAxis2LayoutMaxTickStrLength;delete this.yAxisLayoutMaxTickStr;delete this.yAxisLayoutMaxTickStrLength;var a=this.marginLeft+(this.layoutLeft||0)+(this.layoutRight||0)+this.marginRight;var g=this.marginTop+(this.layoutTop||0)+(this.layoutBottom||0)+this.marginBottom;var l=0;for(var e=0;e<this.layoutRows;e++){for(var d=0;d<this.layoutCols;d++){this.layoutCurrent=l;if(this.layoutParams.length<=l){break}if(this.layoutParams[l]){for(var b=0;b<f.length;b++){this[f[b]]=this.layoutParams[l].hasOwnProperty(f[b])?this.layoutParams[l][f[b]]:this[f[b]]}}this.hc(a,g,l);if(this.yW()||(this.graphType.match(/Boxplot/)&&this.scatterPlotMatrix)){this.xJ(a,g,e,d,l)}else{this.vH(a,g,l)}l++}}this.yI()}};this.r1=function(){this.layoutHidden={};var b=["hiddenVars","hiddensSmps","hiddenLegends"];for(var a=0;a<b.length;a++){this.layoutHidden[b[a]]=this.TU(this[b[a]])}};this.Ut=function(){var b=["hiddenVars","hiddensSmps","hiddenLegends"];for(var a=0;a<b.length;a++){this[b[a]]=this.layoutHidden[b[a]]}};this.Se=function(){if(this.yW()){var a=Number(Math.max(0.5,this.dataPointSize/Math.max(this.layoutRows,this.layoutCols)*1.5).toFixed(1));if(this.isDOE){this.dataPointSize=a*1.8}else{if(this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/Density|Histogram|all/)){if(this.scatterPlotMatrixType.match(/Density|Histogram/)){this.dataPointSize=a*1.8}else{this.dataPointSize=a*1.8}}else{this.dataPointSize=a*1.8}}}};this.X9=function(b){var B=["left","right","top","bottom","x","y","offsetX","offsetY","graphType","summaryType","transformData","showHistogram","smpInfo","varInfo","minData","maxData","xAxisMin","xAxisMax","xAxisRange","xAxis2Min","xAxis2Max","xAxis2Range","yAxisMin","yAxisMax","yAxisRange","zAxisMin","zAxisMax","zAxisRange","xAxisAbsMin","xAxisAbsMax","xAxis2AbsMin","xAxis2AbsMax","yAxisAbsMin","yAxisAbsMax","zAxisAbsMin","zAxisAbsMax","xAxisUnit","xAxis2Unit","yAxisUnit","zAxisUnit"];var f=[];if(this.layoutComb||this.isDOE){this.vZ();if(this.isDOE){B.push("data");f=["weight","graphType","varIndicesStart","smpIndicesStart","grpIndicesStart","setMin","setMax","setMin2","setMax2","setMinX","setMaxX","setMinY","setMaxY","setMinZ","setMaxZ"]}else{f=["weight","graphType","varIndices","smpIndices","grpIndices","varIndicesStart","smpIndicesStart","grpIndicesStart","setMin","setMax","setMin2","setMax2","setMinX","setMaxX","setMinY","setMaxY","setMinZ","setMaxZ"]}this.Wx();this.Se();if(this.yW()){this.xAxisTmp=this.TU(this.xAxis);this.yAxisTmp=this.TU(this.yAxis);this.xAxis=this.Po("x");this.yAxis=this.Po("y");this.xu();this.xAxis=this.xAxisTmp;this.yAxis=this.yAxisTmp;this.xAxisIndices=this.yV(this.xAxis);this.yAxisIndices=this.yV(this.yAxis);this.meta.data.i={vars:this.TU(this.varIndices),smps:this.TU(this.smpIndices)}}else{if(this.data.l&&this.data.l.group){this.meta.data.i={vars:this.TU(this.varIndices),smps:this.TU(this.smpIndices),grps:this.TU(this.data.w.grpIdxs)};this.meta.data.g=this.TU(this.data.w);if((this.stackBy||this.dodgeBy)&&this.data.l.group.length){this.hW(this.data.l.group,false,false,true,true,true);this.xu()}}else{this.initAxes()}}this.aF();this.M0();this.EI();this.RB();this.EF();this.Kx();this.Rg();this.Ru(f);this.sb(f);this.r1();this.MY();this.title="";this.subtitle="";this.offsetX=this.layoutLeft;this.offsetY=this.graphType=="Pie"?0:this.layoutTop;var g=this.marginLeft+this.layoutLeft+this.layoutRight+this.marginRight;var z=this.marginTop+this.layoutTop+this.layoutBottom+this.marginBottom;var A=0;for(var y=0;y<this.layoutRows;y++){for(var v=0;v<this.layoutCols;v++){this.layoutCurrent=A;this.layoutCurrentR=y;this.layoutCurrentC=v;if(this.isDOE){if(this.data.l.smps.length<=A){break}}else{if(this.graphType=="Pie"){if(this.data.l.smps.length<=A){break}}else{if(this.layoutParams.length<=A){break}}}if(this.layoutParams[A]){for(var u=0;u<f.length;u++){this[f[u]]=this.layoutParams[A].hasOwnProperty(f[u])?this.layoutParams[A][f[u]]:this[f[u]]}}this.hc(g,z,A);if(this.isDOE){this.offsetX=this.layoutLeft+((this.width-g)/this.layoutCols*this.data.l.coords[A][1]);this.offsetY=this.layoutTop+((this.height-z)/this.layoutRows*this.data.l.coords[A][0]);if(this.offsetX>this.width-18||this.offsetY>this.height-18){break}this.G8(g,z,A)}else{if(this.yW()||(this.graphType.match(/Boxplot/)&&this.scatterPlotMatrix)){this.xJ(g,z,y,v,A)}else{if(this.graphType=="Pie"){this.y8(g,z,A)}else{if(!this.scatterPlotMatrix){this.vH(g,z,A)}}}}var C={};if(this.layoutConfig&&this.layoutConfig[A]){for(var q in this.layoutConfig[A]){C[q]=this.TU(this[q]);this[q]=this.layoutConfig[A][q]}}if((!this.isDOE&&this.varIndices.length>0&&this.smpIndices.length>0)||(this.isCxplot&&this.layoutType!="wrap")){if(this.scatterPlotMatrix){if(this.scatterPlotMatrixType.match(/correlation|all/)){if(v>y){this.showHistogram=false;if(this.scatterPlotMatrixType.match(/all/)&&v==this.layoutCols-1){var n=this.data.l.params[A];var o={};for(var q in n){o[q]=this[q];this[q]=n[q]}this.xu();b.call(this);for(var q in o){this[q]=o[q]}}}else{if(v==y){this.showHistogram=this.scatterPlotMatrixType!="correlation";this.showFilledHistogramDensity=true;this.showHistogramBars=this.scatterPlotMatrixType.match(/histogram/i);this.showHistogramDensity=this.scatterPlotMatrixType.match(/density|all/i);if(this.showHistogram){this.xu()}if(y==this.layoutRows-1&&v==this.layoutCols-1&&this.scatterPlotMatrixType.match(/all/)){}else{b.call(this)}}else{if(y==this.layoutRows-1&&this.scatterPlotMatrixType.match(/all/)){this.showHistogram=true;this.showHistogramBars=true;this.showHistogramDensity=false;this.xu();b.call(this)}else{b.call(this)}}}}else{b.call(this)}}else{if(this.yW()){if(this.xAxis.length&&this.yAxis.length){b.call(this)}}else{if(this.varIndices.length&&this.smpIndices.length){b.call(this)}}}}if(this.layoutConfig&&this.layoutConfig[A]){for(var q in this.layoutConfig[A]){this[q]=C[q]}}for(var u=0;u<B.length;u++){if(B[u]=="data"){var m=this.Nv(this[B[u]]);var s=false;for(var t=0;t<m.length;t++){if(["sankey","tree","bubble","gantt","contour"].includes(m[t])){s=true;break}}}if(B[u]=="data"&&s){this.layoutParams[A][B[u]]={};this.layoutParams[A][B[u]].y=this.TU(this[B[u]].y);if(this[B[u]].x){this.layoutParams[A][B[u]].x=this.TU(this[B[u]].x)}if(this[B[u]].z){this.layoutParams[A][B[u]].z=this.TU(this[B[u]].z)}}else{this.layoutParams[A][B[u]]=this.TU(this[B[u]])}}if(this.data.w){this.layoutParams[A].w=this.TU(this.data.w)}if(this.layoutCanvasCompartments){this.sB()}if(this.isDOE||this.graphType=="Pie"){}else{if(this.yW()||(this.graphType.match(/Boxplot/)&&this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/all/))){if(this.scatterPlotMatrix||this.qn()){this.FR(A,y,v,g)}}else{if(this.varIndices.length&&this.smpIndices.length){if(this.s9()){if(this.qn()){if(this.data.l.cluster[A]){if(y==0&&this.data.l.cluster[A].varDendrogramNewick&&this.layoutRestore.varDendrogramPosition=="top"&&this.layoutRestore.showVarDendrogram){this.showVarDendrogram=this.layoutRestore.showVarDendrogram;this.varDendrogramPosition=this.layoutRestore.varDendrogramPosition;this.showVariableNames=this.layoutRestore.showVariableNames;this.Wo("varDendrogram")}else{if(y==this.layoutRows-1&&this.data.l.cluster[A].varDendrogramNewick&&this.layoutRestore.varDendrogramPosition=="bottom"&&this.layoutRestore.showVarDendrogram){this.showVarDendrogram=this.layoutRestore.showVarDendrogram;this.varDendrogramPosition=this.layoutRestore.varDendrogramPosition;this.showVariableNames=this.layoutRestore.showVariableNames;this.Wo("varDendrogram",false,false,this.layoutBottom+this.margin)}}if(v==0&&this.data.l.cluster[A].smpDendrogramNewick&&this.layoutRestore.smpDendrogramPosition=="left"&&this.layoutRestore.showSmpDendrogram){this.showSmpDendrogram=this.layoutRestore.showSmpDendrogram;this.smpDendrogramPosition=this.layoutRestore.smpDendrogramPosition;this.showSampleNames=this.layoutRestore.showSampleNames;this.Wo("smpDendrogram",false,this.offsetX-(!this.segregateSamplesBy.length?0:this.stripThickness))}else{if(v==this.layoutCols-1&&this.data.l.cluster[A].smpDendrogramNewick&&this.layoutRestore.smpDendrogramPosition=="right"&&this.layoutRestore.showSmpDendrogram){this.showSmpDendrogram=this.layoutRestore.showSmpDendrogram;this.smpDendrogramPosition=this.layoutRestore.smpDendrogramPosition;this.showSampleNames=this.layoutRestore.showSampleNames;this.Wo("smpDendrogram",false)}}}if(this.layoutRestore.showVariableNames&&((y==0&&this.varTitleLabelPosition=="top")||(y==this.layoutRows-1&&this.varTitleLabelPosition=="bottom"))){this.showVariableNames=this.layoutRestore.showVariableNames}else{this.showVariableNames=false}if(this.layoutRestore.showSampleNames&&((v==0&&this.smpTitleLabelPosition=="left")||(v==this.layoutCols-1&&this.smpTitleLabelPosition=="right"))){this.showSampleNames=this.layoutRestore.showSampleNames}else{this.showSampleNames=false}this.Sf();if(this.layoutRestore.showOverlays){this.showOverlays=this.layoutRestore.showOverlays;this.ug();if(y==0){this.skipOverlaysTicks=v!=0;this.showNameOverlays=(this.smpTitleLabelPosition=="left"&&v==this.layoutCols-1)||(this.smpTitleLabelPosition=="right"&&v==0);this.na("var","top")}else{if(y==this.layoutRows-1){this.skipOverlaysTicks=v!=0;this.na("var","bottom")}}if(v==0){this.showNameOverlays=y==this.layoutRows-1;this.skipOverlaysTicks=y!=this.layoutRows-1;this.na("smp","left")}else{if(v==this.layoutCols-1){this.showNameOverlays=y==this.layoutRows-1;this.skipOverlaysTicks=y!=this.layoutRows-1;this.na("smp","right")}}this.skipOverlaysTicks=false}}}else{if(!this.layoutAdjust){var e=this.Qc()?v:y;var d=this.Qc()?this.layoutCols-1:this.layoutRows-1;var r=this.Qc()&&(this.layoutType=="rows"||(this.layoutType=="cols"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1));var a=this.graphOrientation!="vertical"&&(this.layoutType=="cols"||(this.layoutType=="rows"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1));if(e==0&&this.layoutRestore.xAxisShow&&!a){this.layoutAxis=1;this.xAxisShow=true;this.pZ()}if(e==d&&this.layoutRestore.xAxis2Show&&!r){this.layoutAxis=2;this.xAxis2Show=true;this.pZ()}}else{if(this.Qc()&&this.layoutType=="rows"&&this.layoutCols==1){this.layoutAxis=1;this.xAxisShow=true;this.pZ()}}if(this.segregateVariablesBy.length){if(this.Qc()){if((y==this.layoutRows-1)||(y==this.layoutRows-2&&(A+1+parseInt(this.layoutCols))>this.data.l.weight.length)){this.showSampleNames=this.layoutRestore.showSampleNames;this.Sf()}}else{if(v==0){this.showSampleNames=this.layoutRestore.showSampleNames;this.Sf()}}}else{if(this.Qc()&&this.segregateSamplesBy.length&&this.layoutSameSamples){if((y==this.layoutRows-1)||(y==this.layoutRows-2&&(A+1+parseInt(this.layoutCols)>this.data.l.weight.length))){this.showSampleNames=this.layoutRestore.showSampleNames;this.Sf()}}else{if(this.graphOrientation!="vertical"&&this.segregateSamplesBy.length&&this.layoutSameSamples&&v==0){this.showSampleNames=this.layoutRestore.showSampleNames;this.Sf()}}}}this.FR(A,y,v)}}}this.offsetX+=this.layoutWidth+(this.layoutCollapse?0:v<this.layoutCols-0?this.layoutSpacing:0);A++}this.offsetX=this.layoutLeft;this.offsetY+=this.layoutHeight+(this.layoutCollapse?0:this.layoutSpacing)}this.layoutCurrent=false;this.yI();if(this.isDOE){this.graphType=this.data.l.type[0];if(this.isDOE==2){this.varIndices=this.data.l.doe}else{this.smpIndices=this.data.l.doe}}else{this.p3();this.eo();if(this.showLegend){this.legendPosition=this.legendLayoutPosition;if(this.isDOE||this.graphType!="Pie"){if(this.yW()){this.U6();this.legendPosition=this.legendLayoutPosition}this.On(true)}}}if(this.yW()&&this.scatterPlotMatrix){this.varIndices=this.meta.data.i.vars;this.smpIndices=this.meta.data.i.smps}else{if(this.meta.data.g){this.data.w=this.meta.data.g;this.varIndices=this.meta.data.i.vars;this.smpIndices=this.meta.data.i.smps;this.grpIndices=this.data.w.grpIdxs;delete (this.meta.data.g);delete (this.meta.data.i)}else{this.isGroupedData=false}}}};this.vA=function(){for(var a in this.meta.config.user){if(a.match(/margin|dataPointSize/)){delete this.meta.config.user[a]}}};this.yI=function(){for(var a in this.layoutRestore){this[a]=this.layoutRestore[a]}};this.hc=function(a,e,f){var d=(this.layoutCols-1)*this.layoutSpacing/this.layoutCols;var b=(this.layoutRows-1)*this.layoutSpacing/this.layoutRows;this.layoutWidth=((this.width-a)*this.layoutParams[f].weight[0])-(this.layoutCollapse?0:d);this.layoutHeight=((this.height-e)*this.layoutParams[f].weight[1])-(this.layoutCollapse?0:b);this.layoutParams[f].width=this.layoutWidth;this.layoutParams[f].height=this.layoutHeight};this.Kx=function(){var a=[];if(this.scatterPlotMatrix){}else{if((this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0)||(this.segregateSamplesBy.length>1||this.segregateVariablesBy.length>1)){for(var b=0;b<this.data.l.name.length;b++){a.push(this.data.l.name[b][0]);a.push(this.data.l.name[b][1])}}else{if(this.data.l.name){for(var b=0;b<this.data.l.name.length;b++){a.push(this.data.l.name[b])}}}this.longestLayoutLabel=this.pQ(a)}};this.Uo=function(d,b,a){this.stripLabels=[];if(this.showHistogram){if(this.graphType=="Scatter2D"&&this.segregateVariablesBy.length&&this.segregateVariablesBy.length==2){if(this.meta.data.z[this.segregateVariablesBy[0]]){this.stripLabels.push(this.meta.data.z[this.segregateVariablesBy[0]].levels[b])}if(this.meta.data.z[this.segregateVariablesBy[1]]){this.stripLabels.push(this.meta.data.z[this.segregateVariablesBy[1]].levels[a])}}else{if(this.segregateVariablesBy.length&&this.meta.data.z[this.segregateVariablesBy[0]]){this.stripLabels.push(this.meta.data.z[this.segregateVariablesBy[0]].levels[d])}else{if(this.segregateSamplesBy.length){this.stripLabels.push(this.legend.samplesN==this.data.l.axes.length?this.data.y.smps[d]:this.data.l.axes[d].yAxis[0])}else{this.stripLabels.push(this.data.l.name[d])}}}}else{if(this.segregateSamplesBy.length>0&&this.segregateVariablesBy.length>0){this.stripLabels.push(this.data.l.name[d][this.yW()?1:0]);this.stripLabels.push(this.data.l.name[d][this.yW()?0:1])}else{if(this.segregateSamplesBy.length>1||this.segregateVariablesBy.length>1){this.stripLabels.push(this.data.l.name[d][this.yW()?0:1]);this.stripLabels.push(this.data.l.name[d][this.yW()?1:0])}else{if(this.scatterPlotMatrix){}else{this.stripLabels.push(this.data.l.name[d])}}}}};this.G8=function(o,j,m){var l=this;var a={};var k=function(t){var h;var c=[];if(l.isDOE>1){if(l.data.z.hasOwnProperty(t)){return l.data.z[t]}else{h=l.yV(t);if(h>=0){for(var s=0;s<l.data.y.data.length;s++){c.push(l.data.y.data[s][h])}return c}}}else{l.data.x[t];if(l.data.x.hasOwnProperty(t)){return l.data.x[t]}else{h=l.tU(t);if(h>=0){return l.data.y.vars[h]}}}};var r=function(c){if(!l.data.l.data[l.layoutCurrent]||(l.data.l.data[l.layoutCurrent]&&!l.data.l.data[l.layoutCurrent].y.hasOwnProperty("pie"))){l.layoutConfig[m].graphType=c?"Table":"Pie";l.data.l.data[l.layoutCurrent]=l.qy(l.data.l.smps[m][0],true);l.data.l.params[l.layoutCurrent]={showLegend:false,graphType:c?"Table":"Pie",isTable:c}}b()};var n=function(){if(!l.data.l.data[l.layoutCurrent]||(l.data.l.data[l.layoutCurrent]&&!l.data.l.data[l.layoutCurrent].y.hasOwnProperty("treemap"))){l.layoutConfig[m].graphType="Treemap";l.data.l.data[l.layoutCurrent]=l.C7(l.data.l.smps[m][0],true);l.data.l.params[l.layoutCurrent]={showLegend:false,plotByVariable:false,graphType:"Treemap"}}b()};var d=function(){if(!l.data.l.data[l.layoutCurrent]||(l.data.l.data[l.layoutCurrent]&&!l.data.l.data[l.layoutCurrent].y.hasOwnProperty("meter"))){l.layoutConfig[m].graphType="Meter";l.data.l.data[l.layoutCurrent]=l.TJ(l.data.l.smps[m][0]);l.data.l.params[l.layoutCurrent]={showLegend:false,plotByVariable:false,graphType:"Meter"}}l.uP();b()};var g=function(){if(l.data.l.data[l.layoutCurrent]){l.data.l.data[l.layoutCurrent]=false}l.data.l.params[l.layoutCurrent]={showLegend:false,histogramStat:"count",xAxisTitle:"",yAxisTitle:"",showHistogram:true};b()};var q=function(){var u=l.data.l.smps[m][0];var t={y:{data:[[]],vars:[u],smps:[]}};var c=l.data.l.doe;var s=k(u);for(var h=0;h<c.length;h++){if(l.isDOE>1){t.y.smps.push(l.data.y.vars[c[h]]);t.y.data[0].push(s[c[h]])}else{t.y.smps.push(l.data.y.smps[c[h]]);t.y.data[0].push(s[c[h]])}}l.data.l.data[l.layoutCurrent]=t;l.data.l.params[l.layoutCurrent]={showLegend:false,xAxisTitle:false};b()};var p=function(){var u=l.data.l.smps[m][0];var t={y:{data:[],vars:[],smps:l.isDOE>1?[l.data.y.smps[0],u]:[l.data.y.vars[0],u]}};var c=l.data.l.doe;var s=k(u);for(var h=0;h<c.length;h++){if(l.isDOE>1){t.y.vars.push(l.data.y.vars[c[h]]);t.y.data.push([l.data.y.data[c[h]][0],s[c[h]]])}else{t.y.vars.push(l.data.y.smps[c[h]]);t.y.data.push([l.data.y.data[0][c[h]],s[c[h]]])}}l.data.l.data[l.layoutCurrent]=t;l.data.l.params[l.layoutCurrent]={showLegend:false,xAxis:[t.y.smps[0]],yAxis:[t.y.smps[1]],xAxisTitle:t.y.smps[0],yAxisTitle:t.y.smps[1],showHistogram:false};b()};var b=function(){if(l.data.l.params[m]){for(var c in l.data.l.params[m]){l[c]=l.data.l.params[m][c]}}};if(m==0){if(!this.data.l.params[m].hasOwnProperty("xAxis")){this.data.l.params[m].xAxis=this.xAxis}if(!this.data.l.params[m].hasOwnProperty("yAxis")){this.data.l.params[m].yAxis=this.yAxis}if(this.data.l.params[m]){for(var f in this.data.l.params[m]){a[f]=this.TU(this[f]);this[f]=this.data.l.params[m][f]}}this.isShowDOEData=true;this.xm(this.graphType=="Map"?"Map":"Data",m);this.xu();if(this.graphType=="Map"){this.b7()}else{if(this.graphType=="Scatter3D"){this.Hn()}else{if(this.graphType.match(/Scatter/i)||this.data.l.showHistogram){this.L5()}else{if(this.data.l.group){this.hW(this.data.l.group,false,false,true,true,true)}this.e8()}}}this.isShowDOEData=false}else{if(!this.layoutConfig){this.layoutConfig=[]}if(!this.layoutConfig[m]){this.layoutConfig[m]={}}var e=["top","bottom","right","left","graphType","graphOrientation","legendPosition","xAxisTitle","yAxisTitle","zAxisTitle","showHistogram"];for(var f=0;f<e.length;f++){a[e[f]]=this[e[f]]}for(var f in this.layoutConfig[m]){a[f]=this.TU(this[f])}if(this.data.l.params[m]){for(var f in this.data.l.params[m]){a[f]=this.TU(this[f])}}this.top=5;this.bottom=5;this.right=5;this.left=5;this.graphType=this.layoutConfig[m].graphType||this.data.l.type[m];this.graphOrientation="vertical";this.legendPosition="right";this.layoutCurrentDOE=this.data.l.smps[m][0];for(var f in this.layoutConfig[m]){this[f]=this.layoutConfig[m][f]}this.xm(this.data.l.smps[m][0],m);switch(this.graphType){case"Table":r(true);if(!this.layoutDOETables.hasOwnProperty(this.data.l.smps[m][0])||this.layoutDOETables[this.data.l.smps[m][0]].idxs.length!=this.data.l.data[this.layoutCurrent].y.vars.length){this.layoutDOETables[this.data.l.smps[m][0]]={sort:false,idxs:this.XX(0,this.data.l.data[this.layoutCurrent].y.vars.length-1,1)}}this.en();break;case"Pie":r();this.sy();break;case"Meter":d();this.e8();break;case"Treemap":n();this.e8();break;case"Line":case"Bar":case"Dotplot":q();this.xu();this.e8();break;case"Scatter":p();this.graphType="Scatter2D";this.xu();this.L5();break;case"Scatter2D":g();this.xu();this.L5();break}}for(var f in a){}};this.xJ=function(a,e,d,b,f){if(this.segregateVariablesBy.length&&this.segregateSamplesBy.length){this.xAxis=[this.data.l.smps[Math.floor(f/this.data.l.smps.length)][0]];this.yAxis=[this.data.l.smps[Math.floor(f/this.data.l.smps.length)][1]];this.xAxisIndices=this.yV(this.xAxis);this.yAxisIndices=this.yV(this.yAxis);this.Uo(f,d,b)}else{if(this.data.l.smps&&this.data.l.smps[f].xAxis&&this.data.l.smps[f].yAxis){this.xAxis=this.data.l.smps[f].xAxis;this.yAxis=this.data.l.smps[f].yAxis;this.xAxisIndices=this.yV(this.xAxis);this.yAxisIndices=this.yV(this.yAxis)}else{if(!this.scatterPlotMatrix&&this.data.l.smps&&this.data.l.smps[f]){if(this.showHistogram){if(this.data.l.axes[f]){this.xAxis=this.data.l.axes[f].xAxis;this.yAxis=this.data.l.axes[f].yAxis;this.xAxisIndices=this.yV(this.xAxis);this.yAxisIndices=this.yV(this.yAxis)}else{this.xAxis=[];this.yAxis=[];this.xAxisIndices=[];this.yAxisIndices=[]}}else{this.xAxis=[this.data.l.smps[f][0]];if(this.isQQ){this.yAxis=[this.data.l.smps[f][0]]}else{this.yAxis=[this.data.l.smps[f][1]||this.data.l.smps[f][0]]}this.xAxisIndices=this.yV(this.xAxis);this.yAxisIndices=this.yV(this.yAxis)}this.Uo(f,d,b)}else{if(this.data.l.vars&&this.data.l.vars[f]){if(this.data.l.axes){if(this.data.l.axes[f]){this.xAxis=this.data.l.axes[f].xAxis;this.yAxis=this.data.l.axes[f].yAxis;this.xAxisIndices=this.yV(this.xAxis);this.yAxisIndices=this.yV(this.yAxis);this.Uo(f,d,b)}else{this.xAxis=[];this.yAxis=[];this.xAxisIndices=[];this.yAxisIndices=[]}}else{this.Uo(f,d,b)}}else{this.xAxis=false;this.yAxis=false;this.xAxisIndices=false;this.yAxisIndices=false}}}}if(this.layoutAdjust&&this.xAxis.length&&this.yAxis.length){this.xu();this.layoutAxis=3}else{this.layoutAxis=b==0?2:0;this.layoutAxis=d==this.layoutRows&&this.layoutAxis?3:d==this.layoutRows?1:0}if(this.isQQ){this.DT("qq")}else{if(this.isCDF){this.DT("cdf")}}this.showLegend=false;this.legendInside=true;this.showDecorationsLegend=true;this.xAxisTitle="";this.yAxisTitle="";if(this.scatterPlotMatrix){switch(this.scatterPlotMatrixType){case"correlation":case"correlationDensity":case"correlationHistogram":case"all":this.xAxisGridMajorShow=d!=b;this.xAxisShow=d==Number(this.layoutRows)-1;this.xAxis2Show=false;this.yAxisGridMajorShow=d!=b;this.yAxisShow=b==0;this.yAxis2Show=false;break;case"both":case"upper":case"lower":case"first":if(!this.layoutAdjust){this.xAxisShow=this.tZ(d,b);this.xAxis2Show=false;this.yAxisShow=b==0;this.yAxis2Show=false}break}}else{if(this.layoutType){if(!this.layoutAdjust){this.xAxisShow=this.tZ(d,b);this.xAxis2Show=false;this.yAxisShow=b==0&&!this.meta.config.user.hasOwnProperty("yAxisShow")?true:this.meta.config.user.hasOwnProperty("yAxisShow")?this.meta.config.user.yAxis2Show:false;this.yAxis2Show=false}}}};this.y8=function(a,b,d){this.smpIndices=[this.yV(this.data.l.smps[d])];this.showLegend=true};this.vH=function(b,e,g){this.showLegend=false;this.showOverlays=true;this.isGroupedData=false;this.xAxisTitle=false;this.xAxis2Title=false;this.smpTitle=false;this.adjustAspectRatioXTries=0;this.adjustAspectRatioYTries=0;this.Uo(g);if(this.varIndices.length>0&&this.smpIndices.length>0){if(this.data.l.group){if(this.data.l.w[g]&&this.smpIndices.length==this.RD(this.data.l.w[g].n[this.varIndices[0]])){this.data.w=this.data.l.w[g];this.isGroupedData=true}else{this.hW(this.data.l.group,false,false,true,true,true)}if(this.layoutParams[g].dragged){var a=this.layoutParams[g].dragged&&this.layoutParams[g].grpIndices.length==this.data.w.grpIdxs.length?this.layoutParams[g].grpIndices:this.data.w.grpIdxs;this.hW(this.data.l.group,false,a,true,true,true)}this.data.l.w[g]=this.TU(this.data.w);this.layoutParams[g].grpIndices=this.data.w.grpIdxs;if(this.colorBy&&this.groupingFactors.includes(this.colorBy)&&this.layoutRestore.showLegend){}var f=false;for(var d=0;d<this.data.l.group.length;d++){if(this.segregateSamplesBy.includes(this.data.l.group[d])){f=true;break}}if(this.data.w.smps.length==1&&!this.s9()&&f){this.showSampleNames=false}if(this.segregateSamplesBy.length&&this.layoutSameSamples){this.showSampleNames=false}if(this.hiddenGrpsLayout){if(this.hiddenGrps.length==1){if(this.hiddenGrpsLayout[g]){this.hiddenGrps[0]=true}}else{for(var d=0;d<this.hiddenGrps.length;d++){if(this.hiddenGrpsLayout[d]){this.hiddenGrps[d]=true}}}}}else{if(this.smpIndices.length==1&&!this.s9()){}}if(this.segregateVariablesBy.length>0&&!this.s9()){this.showSampleNames=false}if(this.s9()){this.showHeatmapIndicator=false;this.showHeatmapIndicator=false;this.showSmpOverlaysLegend=false;this.showVarOverlaysLegend=false;this.showSampleNames=false;this.showVariableNames=false;this.showSmpDendrogram=false;this.showVarDendrogram=false;this.showOverlays=false}if((this.layoutAdjust||this.graphType=="Meter")&&this.layoutType=="wrap"){this.layoutAxis=3;if(this.varIndices.length>0&&this.smpIndices.length>0){this.xu()}}else{if(this.Qc()){this.xAxisShowLayout=this.xAxisShow&&!(g%this.layoutCols)?true:false;this.xAxis2ShowLayout=this.xAxis2Show&&!((g+1)%this.layoutCols)?true:false}else{this.xAxisShowLayout=this.s9()?false:this.xAxisShow&&g<this.layoutCols?true:false;this.xAxis2ShowLayout=this.s9()?false:this.xAxis2Show&&g>=this.layoutCols*(this.layoutRows-1)?true:false}this.xAxisShow=false;this.xAxis2Show=false}}};this.FR=function(M,s,I,P){var n=this;var J=function(b){if(n.isCxplot){return b}else{if(b.length>n.stripTextMaxLength){b=b.substring(0,n.stripTextMaxLength-3)+"..."}if(n.stripTextLines>1){b=n.j1(b,n.stripTextLines)}return b}};if(this.isCxplot){this.gV(Math.min(this.width,this.height)/2,"stripTextFont")}else{var D=this.pQ(this.data.l.name);if(D.length>this.stripTextMaxLength){D=D.substring(0,this.stripTextMaxLength-3)+"..."}if(this.stripTextLines>1){D=this.pQ(this.j1(D,this.stripTextLines).split("\n"))}this.stripTextFont=this.M9(D,20,this.layoutWidth,this.stripThickness);var F=parseInt(this.rk(this.stripTextFont)*this.stripTextScaleFontFactor);this.stripTextFont=this.stripTextFont.replace(/\d+/,F)}var g=function(){var c=n.marginLeft+n.offsetX+n.left;var b=c+n.x;var h=n.marginTop+n.offsetY+n.top;var d=h+n.y;n.To({p:["drawLine",n.xAxisLineLeftType,c,h,b,h,n.xAxisLineLeftColor,n.xAxisLineLeftWidth,"butt"],t:"Axes2"});n.To({p:["drawLine",n.xAxisLineRightLineType,c,d,b,d,n.xAxisLineRightColor,n.xAxisLineRightWidth,"butt"],t:"Axes2"});n.To({p:["drawLine",n.yAxisLineTopLineType,b,h,b,d,n.yAxisLineTopColor,n.yAxisLineTopWidth,"butt"],t:"Axes2"});n.To({p:["drawLine",n.yAxisLineBottomLineType,c,h,c,d,n.yAxisLineBottomColor,n.yAxisLineBottomWidth,"butt"],t:"Axes2"})};if(this.scatterPlotMatrix&&this.scatterPlotMatrixType!="first"){var o=this.yAxisLineTopColor||this.foreground;switch(this.scatterPlotMatrixType){case"both":case"upper":case"lower":case"correlation":if(s==I){g();var y=this.M9(this.meta.data.y.maxSmpStr,this.maxTextSize,(this.width-P)*0.7/this.layoutCols,this.y);this.To({p:["drawText",this.data.y.smps[s],this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top+(this.y/2),y,this.foreground,"center","middle"],t:"Labels"})}else{if(I>s&&this.scatterPlotMatrixType=="correlation"){var k=this.meta.data.c;var B=this.data.y.smps[this.smpIndices[s]]+"::"+this.data.y.smps[this.smpIndices[I]];var e=this.colorBy&&k.z[this.colorBy]&&k.z[this.colorBy][B]?k.z[this.colorBy][B]:k.s[B]?k.s[B]:false;var y=this.M9(this.meta.data.y.maxSmpStr,this.maxTextSize,(this.width-P)*0.7/this.layoutCols,this.y);this.v1();this.To({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top+(this.y/2),this.x,this.y,false,o,"open"],t:"Labels"});if(e){var j=this.y/(e.length+1);for(var E=0;E<e.length;E++){var Q=this.gG(e[E].cor,3);var m=e[E].col;var A=(E+1)*j;this.To({p:["drawText",Q,this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top+A,y,m,"center","middle"],t:"Labels"})}}}}break;case"correlationHistogram":case"correlationDensity":case"all":if(this.scatterPlotMatrixType=="all"&&I==this.layoutCols-1&&s==this.layoutRows-1){break}if(this.showScatterPlotMatrixLabels){var K=this.stripThickness;var y=this.M9(this.meta.data.y.maxSmpStr,this.fontSize,Math.min(this.layoutWidth,this.layoutHeight),K);if(s==0){var z=this.data.z&&this.data.z.hasOwnProperty(this.scatterPlotMatrix)?this.scatterPlotMatrix:"Variation";var B=this.scatterPlotMatrixType=="all"&&I==this.layoutCols-1?z:this.data.y.smps[I];this.To({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top-(K/2),this.x,K,false,this.foreground,"open"],t:"Labels"});this.To({p:["drawText",B,this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top-(K/2),y,this.foreground,"center","middle"],t:"Labels"})}if(I==this.layoutCols-1){this.To({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+this.x+(K/2),this.marginTop+this.offsetY+this.top+(this.y/2),K,this.y,false,this.foreground,"open"],t:"Labels"});this.To({p:["drawText",this.data.y.smps[s],this.marginLeft+this.offsetX+this.left+this.x+(K/2),this.marginTop+this.offsetY+this.top+(this.y/2),y,this.foreground,"center","middle",Math.PI/2],t:"Labels"})}}else{if(s==I){var y=this.M9(this.meta.data.y.maxSmpStr,this.maxTextSize,(this.width-P)*0.7/this.layoutCols,this.y);var K=this.stripThickness;this.To({p:["drawText",this.data.y.smps[s],this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top+K,y,this.foreground,"center","middle"],t:"Labels"})}}if(I>s){if(this.scatterPlotMatrixType=="all"&&I==this.layoutCols-1){break}var k=this.meta.data.c;var B=this.data.y.smps[this.smpIndices[s]]+"::"+this.data.y.smps[this.smpIndices[I]];var e=this.colorBy&&k.z[this.colorBy]&&k.z[this.colorBy][B]?k.z[this.colorBy][B]:k.s[B]?k.s[B]:false;var y=this.M9(this.meta.data.y.maxSmpStr,this.maxTextSize,(this.width-P)*0.7/this.layoutCols,this.y);this.v1();this.To({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top+(this.y/2),this.x,this.y,false,o,"open"],t:"Labels"});if(e){var j=this.y/(e.length+1);for(var E=0;E<e.length;E++){var Q=this.gG(e[E].cor,3);var m=e[E].col;var A=(E+1)*j;this.To({p:["drawText",Q,this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top+A,y,m,"center","middle"],t:"Labels"})}}}break}}else{if(this.layoutValid&&this.stripShow){var C=this.offsetX+this.marginLeft+this.layoutParams[M].left;var u=this.offsetY+this.marginTop+this.layoutParams[M].top;var x=C+this.layoutParams[M].x;var N=u+this.layoutParams[M].y;var p=x-C;var G=N-u;var f=C+p/2;var a=u+G/2;var L=this.stripThickness;if(this.scatterPlotMatrix&&this.scatterPlotMatrixType=="first"){if(this.data.y.smps[M+1]){var H=u-(L/2);this.To({p:["drawShape","box",f,H,p,L,this.stripBackgroundColor,this.stripBackgroundBorderColor],t:"Labels"});this.To({p:["drawText",this.data.y.smps[0]+" & "+this.data.y.smps[M+1],f,H,this.stripTextFont,this.stripTextColor,this.stripTextAlign,"middle"],t:"Labels"})}else{return}}else{if(this.stripShow&&!this.s9()){if(this.layoutType=="wrap"){var O=0;for(var E=0;E<this.stripLabels.length;E++){var H=u-((L/2)*(E+1));this.To({p:["drawShape","box",f,H+O,p,L,this.stripBackgroundColor,this.stripBackgroundBorderColor],t:"Labels"});var v=this.stripLabels.length-E-1;this.To({p:["drawText",this.stripLabels[v],this.stripTextAlign=="left"?C+this.stripTextMargin:this.stripTextAlign=="right"?f+(p/2)-this.stripTextMargin:f,H+O,this.stripTextFont,this.stripTextColor,this.stripTextAlign,"middle"],i:["Layout-"+M+"-"+E+":"+this.stripLabels[v]],t:"Labels"});O-=L/2}}else{if(s==0){var H=u-(L/2);this.To({p:["drawShape","box",f,H,p,L,this.stripBackgroundColor,this.stripBackgroundBorderColor],t:"Labels"});var v=this.stripLabels.length-1;this.To({p:["drawText",J(this.stripLabels[v]),f,H,this.stripTextFont,this.stripTextColor,this.stripTextAlign,"middle"],i:["Layout-"+M+":"+this.stripLabels[v]],t:"Labels"})}if(Number(I)+1==this.layoutCols&&this.stripLabels.length>1){var q=x+(L/2);this.To({p:["drawShape","box",q,a,L,G,this.stripBackgroundColor,this.stripBackgroundBorderColor],t:"Labels"});this.To({p:["drawText",J(this.stripLabels[0]),q,a,this.stripTextFont,this.stripTextColor,this.stripTextAlign,"middle",Math.PI/2],i:["Layout-"+M+":"+this.stripLabels[0]],t:"Labels"})}}}}this.To({p:["drawLine","line",C,u,x,u,this.stripBackgroundBorderColor],t:"Labels"});this.To({p:["drawLine","line",x,u,x,N,this.stripBackgroundBorderColor],t:"Labels"});this.To({p:["drawLine","line",x,N,C,N,this.stripBackgroundBorderColor],t:"Labels"});this.To({p:["drawLine","line",C,N,C,u,this.stripBackgroundBorderColor],t:"Labels"})}}};this.gU=function(a){if(this.layoutValid&&this.layoutConfig&&this.layoutConfig[this.layoutCurrent]&&this.layoutConfig[this.layoutCurrent][a]){return this.layoutConfig[this.layoutCurrent][a]}else{return false}};this.V1=function(){this.ua()}};CanvasXpress.prototype.initViewport=function(){this.Qh=function(){if(this.$(this.target+"-cX-DOM")){return}var b=this.Pp();if(!b){return}var a=this.aO();var c=a.querySelector("#"+this.target+"-events");b.parentNode.insertBefore(a,b);c.parentNode.insertBefore(b,c);this.BX(b.width,b.height);this.J1(c);this.T7();this.aw();this.da()};this.BX=function(c,a){var b=this.target;var d=this.$(b+"-cX-Wrapper");if(d){d.style.setProperty("--base-w",c+"px");d.style.setProperty("--base-h",a+"px")}};this.Pp=function(){var f=this.$(this.target);var d=f.parentNode;var a=f.attributes;for(var b=0;b<a.length;b++){this.meta.dom[a[b].name]=a[b].value}if(d.children.length>1){var e=this.$cX("div");f.parentNode.insertBefore(e,f);e.appendChild(f);d=f.parentNode}f.className="CanvasXpress";if(!f.hasAttribute("data-maxWidth")){f.setAttribute("data-maxWidth",f.hasAttribute("width")?Number(f.getAttribute("width")):d.clientWidth)}if(!f.hasAttribute("data-maxHeight")){f.setAttribute("data-maxHeight",f.hasAttribute("height")?Number(f.getAttribute("height")):d.clientHeight)}if(!d.id){d.id="CanvasXpress-ParentNode-"+this.target}if(!CanvasXpress.system.isShiny){d.classList.add("CanvasXpress-ParentNode")}if(!d.style.margin&&!d.style.marginTop&&this.toolbarType.match(/over|fixed/)){d.style.marginTop="36px"}this.targetParentNode=d.id;this.Tj(f);return f};this.aO=function(){var o=this;var e=this.target;this.target2=this.target+"-events";var J=function(M){var O=o.$cX("div",{id:e+"-cX-Canvas-Container",className:"cX-Canvas-Container"});M.appendChild(O);var L=o.$cX("canvas",{id:e+"-events",className:"CanvasXpress"},{position:"absolute"});O.appendChild(L);var i=o.$cX("div",{id:e+"-cX-Viewer-Motion",className:"cX-Viewer-Motion"});M.appendChild(i);var j=o.$cX("div",{id:e+"-cX-Viewer-Drag",className:"cX-Viewer-Drag"});M.appendChild(j);var N=o.$cX("div",{id:e+"-cX-Viewer-Drag-Layout",className:"cX-Viewer-Drag-Layout"});M.appendChild(N);var K=o.$cX("div",{id:e+"-cX-Tooltip",className:"cX-Tooltip"});M.appendChild(K)};var x=this.$cX("div",{id:e+"-cX-DOM",className:"cX-DOM"});if(this.useLeaflet){var G=this.$cX("div",{id:"leaflet-"+e,className:"cX-Leaflet"});x.appendChild(G)}var y=this.$cX("div",{id:e+"-cX-Container-HTMLWidgets",className:"cX-Container-HTMLWidgets"});x.appendChild(y);var p=this.$cX("div",{id:e+"-cX-Container-DOE",className:"cX-Container-DOE"});x.appendChild(p);var l=o.$cX("div",{id:e+"-cX-Container-Code",className:"cX-Container-Code draggable"});x.appendChild(l);var a=this.$cX("div",{id:e+"-cX-Container-Menus",className:"cX-Container-Menus"});x.appendChild(a);var g=this.$cX("div",{id:e+"-cX-Resizer-Container",className:"cX-Resizer-Container"});x.appendChild(g);var r=this.$cX("div",{id:e+"-cX-Resize-Indicator",className:"cX-Resize-Indicator"});g.appendChild(r);var v=["t","b","l","r","lt","rt","lb","rb"];for(var F=0;F<v.length;F++){var c=v[F];var d=this.$cX("div",{className:"cX-Resizer "+c});g.appendChild(d)}var n=this.$cX("div",{id:e+"-cX-Wrapper",className:"cX-Wrapper"});x.appendChild(n);var H=this.$cX("div",{id:e+"-cX-UI",className:"cX-UI"});n.appendChild(H);var m=this.$cX("div",{id:e+"-cX-Toolbars",className:"cX-Toolbars"});H.appendChild(m);var f=["Top","Bottom","Left","Right"];for(var F=0;F<f.length;F++){var I=f[F];var b=I.charAt(0).toLowerCase();var u=this.$cX("div",{id:e+"-cX-Toolbar-"+I,className:"cX-Toolbar-Trigger cX-Toolbar-Trigger-"+b});m.appendChild(u);var C=this.$cX("div",{id:e+"-cX-Toolbar-Container-"+I,className:"cX-Toolbar-Edge cX-Toolbar-Edge-"+I+" cX-Toolbar-"+b});m.appendChild(C)}var z=this.$cX("div",{id:e+"-cX-Container",className:"cX-Container"});H.appendChild(z);var w=["Customizer","Viewer","DataTable","DataFilters"];for(var E=0;E<w.length;E++){var A=w[E];var q=this.$cX("div",{id:e+"-cX-Container-"+A,className:"cX-Container-Cell"});z.appendChild(q);if(A==="Viewer"){J(q)}}var s=o.$cX("div",{id:e+"-cX-Loader",className:"cX-Loader"});z.appendChild(s);var k=o.$cX("div",{className:"cX-Loader-Spinner"});s.appendChild(k);var t=o.$cX("span",{id:e+"-cX-Loader-Timer",className:"cX-Loader-Timer"});s.appendChild(t);var D=this.$cX("div",{id:e+"-cX-Container-Chat",className:"cX-Container-Chat"});n.appendChild(D);var B=this.$cX("div",{id:e+"-cX-Version-Info-Trigger",className:"cX-Version-Info-Trigger"});x.appendChild(B);var h=this.$cX("div",{id:e+"-cX-Version-Info-Container",className:"cX-Version-Info-Container"});x.appendChild(h);return x};this.Tj=function(h){this.targetParentNodeResponsive=false;this.targetParentNodeAspectRatio=[];var b=h.hasAttribute("data-responsive")?JSON.parse(h.getAttribute("data-responsive")):false;var e=h.hasAttribute("data-aspectRatio")?h.getAttribute("data-aspectRatio"):false;var a=h.hasAttribute("data-resizable")?h.getAttribute("data-resizable"):false;var g=h.hasAttribute("data-fixedDimensions")?h.getAttribute("data-fixedDimensions"):false;if(a){this.resizable=(a!=="none");this.resizableX=(a==="both"||a.toLowerCase()==="x");this.resizableY=(a==="both"||a.toLowerCase()==="y")}if(b){this.targetParentNodeResponsive=true;var f=e?e.split(/:/):[];var d=this.KA(h,f);if(!g){h.width=d[0];h.height=d[1]}this.targetParentNodeAspectRatio=[h.width,h.height]}h.originalWidth=parseInt(h.width)>0?parseInt(h.width)-4:500;h.originalHeight=parseInt(h.height)>0?parseInt(h.height)-4:500;h.width=h.originalWidth;h.height=h.originalHeight;h.style.width=h.width+"px";h.style.height=h.height+"px"};this.J1=function(a){this.meta.canvas.ctx2=this.yY(a);this.meta.canvas.ctx2.setTransform(this.meta.canvas.canvasPixelRatio,0,0,this.meta.canvas.canvasPixelRatio,0,0);this.meta.canvas.ctx2.o=[];this.meta.canvas.ctx2.render=function(c){var e=this.o.length;for(var k=0;k<e;k++){var d=this.o[k];var b=d.funcs;for(var g in d){if(g!=="funcs"){this[g]=d[g]}}if(b){var n=b.length;for(var g=0;g<n;g++){var m=b[g];var h=m[0];if(this[h]){this[h].apply(this,m[1])}if(c){var q=this.getTransform().a;if(q!=c){this.setTransform(c,0,0,c,0,0)}}}}}};this.meta.canvas.ctx2.resetRender=function(){this.o=[]};this.meta.canvas.ctx2.resetContext=function(){this.direction="ltr";this.fillStyle="#000000";this.filter="none";this.font="10px sans-serif";this.fontKerning="auto";this.fontStretch="normal";this.fontVariantCaps="normal";this.globalAlpha=1;this.globalCompositeOperation="source-over";this.imageSmoothingEnabled=true;this.imageSmoothingQuality="low";this.letterSpacing="0px";this.lineCap="butt";this.lineDashOffset=0;this.lineJoin="miter";this.lineWidth=1;this.miterLimit=10;this.shadowBlur=0;this.shadowColor="rgba(0, 0, 0, 0)";this.shadowOffsetX=0;this.shadowOffsetY=0;this.strokeStyle="#000000";this.textAlign="start";this.textBaseline="alphabetic";this.textRendering="auto";this.wordSpacing="0px"}};this.da=function(j,h){var g=this;var c=this.target;var r=j||this.view;var a=this.lastView||"canvas";var d=1000;var o=window.innerWidth;var i=window.innerHeight;var l=function(){if(!g.motionBy){return}var t=g.$(c+"-cX-Motion");if(!t){return}if(m){var v=(o-g.width)/2;var u=(i-g.height)/2;if(e.offsetWidth!=g.width||e.offsetHeight!=g.height){var s=parseFloat(t.style.top);u=(i-s)-(t.firstChild.offsetHeight*1.5)}t.style.marginLeft=v+"px";t.style.marginTop=u+"px"}else{t.style.marginLeft="";t.style.marginTop=""}};var k=function(t,w,v,u,s){if(!t){return}t.className+=" active";t.style.top=w;t.style.left=v;t.style.width=u;t.style.height=s};this.isSwitchingLayout=true;var e=this.$(c+"-cX-Wrapper");var b=this.$(c+"-cX-Container-Viewer");var m=e.classList.contains("fullscreen-mode");var n={customizer:this.$(c+"-cX-Container-Customizer"),viewer:this.$(c+"-cX-Container-Viewer"),dataTable:this.$(c+"-cX-Container-DataTable"),dataFilters:this.$(c+"-cX-Container-DataFilters")};if(r==="table"){this.Q7()}if((r==="customize"||r==="explore")&&!m){this.ee()}else{if((a==="customize"||a==="explore")&&r==="canvas"&&m){this.lastView="canvas";this.ee()}else{if(r==="table"&&m){this.d2(o,i)}else{if(r==="table"&&!m&&this.width&&this.height){this.d2(this.width,this.height)}}}}if(r!=="chat"){e.className=e.className.replace(" show-Chat","")}for(var q in n){if(n.hasOwnProperty(q)&&n[q]){n[q].className=n[q].className.split(" active")[0]}}var f=this.dataFilterWidth||300;var p=this.customizerWidth||400;switch(r){case"canvas":k(n.viewer,"0%","0%","100%","100%");break;case"customize":k(n.customizer,"0%","0%",p+"px","100%");k(n.viewer,"0%",p+"px","calc(100% - "+p+"px)","100%");break;case"table":k(n.dataTable,"0%","0%","100%","100%");break;case"layout":k(n.dataTable,"0%","0%","calc(100% - "+f+"px)","100%");k(n.dataFilters,"0%","calc(100% - "+f+"px)",f+"px","100%");break;case"explore":k(n.viewer,"0%","0%","calc(100% - "+f+"px)","66.6%");k(n.dataFilters,"0%","calc(100% - "+f+"px)",f+"px","66.6%");k(n.dataTable,"66.6%","0%","100%","33.4%");break;case"chat":if(a==="canvas"){k(n.viewer,"0%","0%","100%","100%")}else{if(a==="table"){k(n.dataTable,"0%","0%","100%","100%")}}e.className+=" show-Chat";break}l();this.O6();if(!h){setTimeout(function(){g.isSwitchingLayout=false;switch(r){case"canvas":case"customize":case"explore":g.Ez("draw",[{width:b.offsetWidth,height:b.offsetHeight,func:"finalizeViewport",par:[b.offsetWidth,b.offsetHeight]}]);break;case"table":break}},d)}};this.Ez=function(d,c,a){if(d){var b=this;setTimeout(function(){b.skipStack=true;b[d].apply(b,c);b.skipStack=false},a||0)}};this.UD=function(g){for(var b=0;b<CanvasXpress.instances.length;b++){var h=CanvasXpress.instances[b];var e=h.$(h.target+"-cX-DOM").parentNode;if(e&&h.target!==this.target){e.style.display=g?"none":"flex"}}for(var d=0;d<this.fullscreenExclude.length;d++){var a=this.fullscreenExclude[d];var f=document.querySelectorAll(a);if(f){for(var c=0;c<f.length;c++){var l=f[c];l.style.visibility=g?"hidden":""}}}};this.ee=function(e){var b=this.target;var h=this.view;var a=this.$(b+"-cX-DOM");var f=this.$(b+"-cX-Wrapper");if(!f){return}var d=f.classList.contains("fullscreen-mode");var c=!d;this.UD(c);a.classList.toggle("fullscreen-mode",c);f.classList.toggle("fullscreen-mode",c);document.body.classList.toggle("has-fullscreen",c);if(this.isJupyter){this.k3()}var g=d||h=="table"?false:e?!e.shiftKey:true;if(h==="canvas"||h=="table"){this.da(this.view,g)}};this.P9=function(d,a){this.lastView=this.view;var b={table:this.changeViewToTable,layout:this.changeViewToLayout,canvas:this.changeViewToCanvas,explore:this.changeViewToExplore,customize:this.changeViewToCustomize};this.WI();this.skipRender=a==="table"||a==="layout";var c=b[a];if(c){c.call(this)}else{this.tY()}var e=this.view==="canvas"?false:d?!d.shiftKey:true;this.da(this.view,e);return false};this.tY=function(){this.view="canvas"};this.yG=function(){this.view="table"};this.bJ=function(){var c=this.target;var e=this.$(c+"-cX-Wrapper");var d=e.offsetWidth;var a=e.offsetHeight;var b=d-this.dataFilterWidth;this.view="layout";this.d2(b,a);this.iY(a)};this.Kl=function(){var c=window.innerWidth;var b=window.innerHeight*2/3;var a=(c/3);this.view="explore";this.d2(c,a);this.iY(b)};this.Sj=function(){this.view="customize";this.Ji();this.ft()};this.KA=function(l,b){var m,g;if(!l){l=this.$(this.target);if(!l){return[this.width,this.height]}}if(!b){b=this.targetParentNodeAspectRatio}var k=this.targetParentNode&&this.$(this.targetParentNode)?this.$(this.targetParentNode):false;var n=Number(l.getAttribute("data-maxWidth"));var i=Number(l.getAttribute("data-maxHeight"));if(k){if(k.parentNode){k=k.parentNode}}else{return[n,i]}var j=k.getClientRects();var f=parseInt(getComputedStyle(k).paddingLeft)+parseInt(getComputedStyle(k).paddingRight);var d=parseInt(getComputedStyle(k).paddingTop)+parseInt(getComputedStyle(k).paddingBottom);var e=Number(j[0]?j[0].width-f:this.width);var a=Number(j[0]?j[0].height-d:this.height);e=e>n?n:e;a=a>i?i:a;if(b.length==2){b[0]=Number(b[0]);b[1]=Number(b[1]);if(b[0]==b[1]){m=e-(e>=n?0:(f?f:0));g=m}else{if(b[0]>b[1]){m=parseInt(e);g=parseInt(m*b[1]/b[0])}else{g=parseInt(a);m=parseInt(g*b[0]/b[1])}}}else{m=e;g=a}return[m,g]};this.Ji=function(){var e=window.innerHeight;var b=[{name:"xxsmall",maxHeight:1004,props:{customizerSpace:2,customizerIcons:16,customizerLeftIcons:30,customizerLineHeight:12,customizerFontSize:10,customizerInputHeight:24,customizerItemHeight:30,customizerLeftWidth:55,customizerRightWidth:310,customizerWidth:365}},{name:"xsmall",maxHeight:1132,props:{customizerSpace:2,customizerIcons:16,customizerLeftIcons:34,customizerLineHeight:14,customizerFontSize:12,customizerInputHeight:24,customizerItemHeight:30,customizerLeftWidth:70,customizerRightWidth:310,customizerWidth:380}},{name:"small",maxHeight:1260,props:{customizerSpace:4,customizerIcons:18,customizerLeftIcons:38,customizerLineHeight:16,customizerFontSize:14,customizerItemHeight:44,customizerInputHeight:28,customizerLeftWidth:80,customizerRightWidth:330,customizerWidth:410}},{name:"midsmall",maxHeight:1324,props:{customizerSpace:4,customizerIcons:20,customizerLeftIcons:40,customizerLineHeight:16,customizerFontSize:14,customizerItemHeight:50,customizerInputHeight:30,customizerLeftWidth:85,customizerRightWidth:335,customizerWidth:420}},{name:"medium",maxHeight:1388,props:{customizerSpace:5,customizerIcons:24,customizerLeftIcons:44,customizerLineHeight:18,customizerFontSize:16,customizerItemHeight:58,customizerInputHeight:34,customizerLeftWidth:90,customizerRightWidth:340,customizerWidth:430}},{name:"large",maxHeight:Infinity,props:{customizerSpace:6,customizerIcons:36,customizerLeftIcons:56,customizerLineHeight:22,customizerFontSize:18,customizerItemHeight:62,customizerInputHeight:40,customizerLeftWidth:100,customizerRightWidth:360,customizerWidth:460}}];var a=b.find(function(f){return e<=f.maxHeight})||b[b.length-1];this.customizerSize=a.name;var d=a.props;for(var c in d){if(d.hasOwnProperty(c)){this[c]=d[c]}}return this.customizerWidth};this.aw=function(){var a=[];a.push("<b>CanvasXpress</b>");a.push("<b>ver</b>:&nbsp;"+CanvasXpress.factory.version);a.push("<b>date</b>:&nbsp;"+CanvasXpress.factory.buildDate);if(this.createVersion){a.push("- Original Plot -");a.push("<b>CanvasXpress</b>");a.push("<b>ver</b>:&nbsp;"+this.createVersion)}if(window.cX){a.push("<b>license</b>:&nbsp;"+window.cX)}var b=this.$(this.target+"-cX-Version-Info-Container");if(b){b.innerHTML=a.join("<br>")}};this.IL=function(){var a=document.getElementById("CanvasXpress-ParentNode-"+this.target);var b=document.getElementById(this.target+"-cX-DOM");var d=document.getElementById(this.target+"-cX-Container-Chat");if(!a||!b||!d){return}var c=b.offsetHeight+d.offsetHeight;a.style.height=c+"px"};this.Q6=function(){this.Qh()}};CanvasXpress.prototype.initMenus=function(){this.De=function(B,a,o,b,j,g,w,A,n){var c=this.view=="layout"||this.view=="explore"||this.view=="customize";if(this.disableMenu||c){return}var q;var p;var d=this.$(this.target+"-cX-Container-Menus");this.Rv();if(d){if(a){p=this.oy("-cX-Menu-");q=this.$cX("div",{id:p,className:"CanvasXpressMenu draggable",par:o},{left:"0px",top:"0px",zIndex:this.menuIndex++,display:"none"})}else{this.WI();if(b){a=b}else{a=this.KK(B);var z=this.zL(B);var C=this.Ej(B,z);if(A){j=8;g=8}else{j=C.x;g=C.y}}p=this.oy("-cX-Menu-");q=this.$cX("div",{id:p,className:"CanvasXpressMenu draggable"},{left:j+"px",top:g+"px",zIndex:this.menuIndex++})}var k=this.$cX("ul",{id:this.oy("-cX-List-"),className:"CanvasXpressList",header:w,colorBackground:n});q.appendChild(k);d.appendChild(q);var v=this.maxSubMenus;var r=a.length>v?v:a.length;if(a.length>v&&this.graphType!="Network"){k.rawMenu=a;k.rawMenuIndex=0;this.IN(k,"Top")}for(var t=0;t<r;t++){if(a[t][0]=="-"){this.Hp(k)}else{if(a[t][0]=="-text-"){this.yD(a[t],k)}else{if(a[t][0]=="-color-"){this.gu(a[t],k)}else{if(a[t][0]=="-filter-"){this.CH(a[t],k)}else{this.y0(a[t],k)}}}}}if(a.length>v){this.IN(k,"Bottom")}}return p};this.vP=function(e,f){var g,j,a,i;var h=e.rawMenuMatch||e.rawMenu;if(h){var d=e.childNodes.length-2;if(f=="Top"&&e.rawMenuIndex>0){g=e.childNodes[e.childNodes.length-2];j=h[e.rawMenuIndex-1];a=e.childNodes[2];i=true;e.rawMenuIndex--}else{if(f=="Bottom"&&h.length>(e.rawMenuIndex+d)){g=e.childNodes[2];j=h[e.rawMenuIndex+d];a=e.childNodes[e.childNodes.length-1];i=true;e.rawMenuIndex++}}if(i){this.xW("removeEvtListener",g);g.parentNode.removeChild(g);if(j[0]=="-"){this.Hp(e,a)}else{if(j[0]=="-text-"){this.yD(j,e,a)}else{if(j[0]=="-color-"){this.gu(j,e,a)}else{if(j[0]=="-filter-"){this.CH(j,e,a)}else{this.y0(j,e,a)}}}}}}};this.TF=function(b){var k=this.$(b);if(k){var c=k.value;var n=new RegExp(k.value,"i");var h=k.parentNode.parentNode;var j=h.rawMenu;var f=[];for(var e=0;e<j.length;e++){if(j[e][0].match(n)){f.push(j[e])}}if(f.length!=j.length){h.rawMenuMatch=f}else{delete (h.rawMenuMatch)}while(h.childNodes.length>0){var d=h.childNodes[0];this.xW("removeEvtListener",d);h.removeChild(d)}var m=this.maxSubMenus;var g=f.length>m?m:f.length;h.rawMenuIndex=0;var a=this.IN(h,"Top",c);for(var e=0;e<g;e++){this.y0(f[e],h)}this.IN(h,"Bottom");a.focus();a.value=c}};this.Hp=function(d,a){var c=this.$cX("li",{id:this.oy("-cX-List-Item-Sep-"),className:"CanvasXpressListItemSep"});var e=this.$cX("span",{id:this.oy("-cX-List-Item-Text-Sep-"),className:"CanvasXpressListItemTextSep",innerHTML:"&nbsp;"});c.appendChild(e);if(a){a.parentNode.insertBefore(c,a)}else{d.appendChild(c)}};this.IN=function(c,d){var b=this.$cX("li",{id:this.oy("-cX-List-Item-Scroll-"+d),className:"CanvasXpressListItemScroll"+d});var f=this.$cX("span",{id:this.oy("-cX-List-Item-Text-Scroll-"+d),className:"CanvasXpressListItemTextScroll"+d,innerHTML:"&nbsp;"});b.appendChild(f);c.appendChild(b);this.xW("addEvtListener",b);if(d=="Top"){var a=this.$cX("li",{id:this.oy("-cX-List-Item-Scroll-Search"),className:"CanvasXpressListItemScrollSearch"+d});var e=this.$cX("input",{id:this.oy("-cX-List-Item-Scroll-Search-Input"),className:"CanvasXpressListItemScrollSearch",type:"text",placeholder:" Search menu"});a.appendChild(e);c.appendChild(a);return e}};this.sU=function(d){if(d[2][2]){var c=this.TU(d[2][2]);var b=this;while(c.length>0){var a=c.shift();if(b[a]){b=b[a]}else{return""}}return b!=null?b:""}else{return this[d[2][0]]||""}};this.y0=function(r,j,w){var d=this.oy("-cX-List-Item-");var t=this.$cX("li",{id:d,className:"CanvasXpressListItem",click:r[2],params:r[3]||[],upload:r[0]&&r[0]=="Load"?true:false,uploadParams:r[0]&&r[0]=="Load Parameters"?true:false,closeOnClick:r[6]});if(j.colorBackground){var c=CanvasXpress.colorSchemes[r[0]];var m,e,f;if(c&&c[3]){m=this.W6(c[3][0]);e=this.W6(c[3][1]);f=this.W6(c[3][2])}else{var z=this.Nv(c).sort(function(l,i){return l-i});var h=c[z[0]].length;m=this.W6(c[z[0]][0]);e=this.W6(c[z[0]][Math.floor(h/2)]);f=this.W6(c[z[0]][h-1])}t.style.background="linear-gradient(to right, "+m+"70 33%, "+e+"70 33% 67%, "+f+"70 67%)"}var x;var k={cursor:"grab",cursor:"-moz-grab",cursor:"-webkit-grab"};var y=false;if(r[5]){x=this.$cX("a",{id:this.oy("-cX-List-Item-A-"),className:"CanvasXpressListItemAArrow",hidefocus:"true",unselectable:"on",href:"#",menu:d,menuId:"false",menuFunc:r[5],menuParm:r[6],draggable:false},k);y=true}else{x=this.$cX("a",{id:this.oy("-cX-List-Item-A-"),className:"CanvasXpressListItemA",hidefocus:"true",unselectable:"on",href:"#",menuFunc:r[2],menuParm:r[3],draggable:false})}var v=this.$cXI(r[1]&&CanvasXpress.icons.use.hasOwnProperty(r[1])?r[1]:CanvasXpress.png,{id:this.oy("-cX-List-Icon-"),className:"CanvasXpressListIcon",src:r[1],key:r[1]});var n;if(r[0]&&(r[0]=="Load"||r[0]=="Load Parameters")){n=this.$cX("span",{id:this.oy("-cX-List-Item-Text-"),className:"CanvasXpressListItemText",draggable:false},{marginRight:0});var g=this.$cX("input",{id:this.oy("-cX-List-Item-Text-File-Upload"),className:"CanvasXpressListItemText",type:"file",draggable:false},{color:"transparent",width:"120px"});n.appendChild(g)}else{n=this.$cX("span",{id:this.oy("-cX-List-Item-Text-"),className:"CanvasXpressListItemText",innerHTML:r[0]||"",draggable:false},y?k:false)}if(j.colorBackground){n.style.fontWeight="bolder"}var p=this.$cX("span",{className:"CanvasXpressListItemTextShort",innerHTML:r[4]||"",draggable:false});x.appendChild(v);x.appendChild(n);x.appendChild(p);t.appendChild(x);if(w){w.parentNode.insertBefore(t,w)}else{j.appendChild(t)}this.xW("addEvtListener",t)};this.yD=function(c,m,j){var h=this.oy("-cX-List-Item-Text-");var f=this.oy("-cX-List-Item-Text-Input-");var d=this.sU(c);var e=this.$cX("li",{id:h,className:"CanvasXpressListItem",click:c[1],params:[c[2],f]});var n=this.$cX("input",{id:f,className:"CanvasXpressList",type:"text",value:d},{paddingLeft:"3px",width:"200px"});var k=this.$cX("a",{id:this.oy("-cX-List-Text-Item-A-"),className:"CanvasXpressListItemA",hidefocus:"true",unselectable:"on",href:"#"});var g=this.$cXI("op_refresh",{id:this.oy("-cX-List-Text-Icon-"),className:"CanvasXpressListIcon",src:"op_refresh",key:"refreshForm"},{marginTop:"4px"});k.appendChild(g);k.appendChild(n);e.appendChild(k);if(j){j.parentNode.insertBefore(e,j)}else{m.appendChild(e)}this.xW("addEvtListener",e)};this.gu=function(c,m,j){var g=this.oy("-cX-List-Item-Color-");var h=this.oy("-cX-List-Item-Color-Input-");var d=this[c[2][0]]||"";var e=this.$cX("li",{id:g,className:"CanvasXpressListItem",click:c[1],params:[c[2],h]});var n=this.$cX("input",{id:h,className:"CanvasXpressList",type:"color",value:d},{padding:"0px",width:"200px"});var k=this.$cX("a",{id:this.oy("-cX-List-Color-Item-A-"),className:"CanvasXpressListItemA",hidefocus:"true",unselectable:"on",href:"#"});var f=this.$cXI("op_refresh",{id:this.oy("-cX-List-Color-Icon-"),className:"CanvasXpressListIcon",src:"op_refresh",key:"refreshForm"},{marginTop:"4px"});k.appendChild(f);k.appendChild(n);e.appendChild(k);if(j){j.parentNode.insertBefore(e,j)}else{m.appendChild(e)}this.xW("addEvtListener",e)};this.CH=function(g,d,a){var f=this.oy("-cX-List-Item-");var e=g[1].getAttribute("data-category")||"String";var c=this.$cX("li",{id:f,className:"CanvasXpressListItem",type:"filter",selector:g[1].id.split(":")[1]},{width:e=="Numeric"||e=="Date"?"300px":"200px"});c.appendChild(g[1]);if(a){a.parentNode.insertBefore(c,a)}else{d.appendChild(c)}};this.xW=function(b,a){if(!a){return this.WI()}else{if(this.md(a,"CanvasXpressListItemSep")){return}}var g=a.parentNode.parentNode;var d=false;var h=a.id.match("-cX-List-Item-Color-");if(this.md(g,"draggable")&&!h&&this.view!="table"){g.setAttribute("data-menus",true);this.cI(b,g,"mousedown","registerMousemove",[],d)}if(a.upload){var e=a.childNodes[0].childNodes[1].childNodes[0];e.setAttribute("data-menus",true);this.cI(b,e,"change","loadFile",[],d)}else{if(a.uploadParams){var e=a.childNodes[0].childNodes[1].childNodes[0];e.setAttribute("data-menus",true);this.cI(b,e,"change","loadParamsFile",[],d)}else{if(h){a.firstElementChild.lastElementChild.setAttribute("data-callback-click","clickMenuItem");a.firstElementChild.lastElementChild.setAttribute("data-menus","true");this.cI(b,a,"input",this.input,[],d)}else{a.setAttribute("data-menus",true);this.cI(b,a,"click","clickMenuItem",[],d)}a.setAttribute("data-menus",true);this.cI(b,a,"mouseover","mouseoverMenuItem",[],d);this.cI(b,a,"mouseout","mouseoutMenuItem",[],d);this.cI(b,a,"mousewheel","mousewheelMenuItem",[],{passive:false});if(a.className.match(/Scroll/)){this.cI(b,a,"mousedown","mousedownMenuItem",[],d);this.cI(b,a,"mouseup","mouseupMenuItem",[],d)}}}};this.s6=function(g){this.Y6(g);var a=this.zL(g);var j=this.kS(g);if(j&&!/input|textarea|select/i.test(a.tagName)){if(j[0].className.match(/Scroll/)||j[1].className.match(/Scroll/)){var b=j[0].className.match(/Scroll/)?j[0]:j[1];var m=b.parentNode;var h=b.className.match(/ScrollTop/)?"Top":"Bottom";this.vP(m,h)}else{var d=[];if(j[0].params){for(var f=0;f<j[0].params.length;f++){if(j[0].params[f]=="event"){d.push(g)}else{if(j[0].params[f]=="component"){d.push(j)}else{d.push(j[0].params[f])}}}}if(this[j[0].click]){this[j[0].click].apply(this,d);if(j[0].closeOnClick){this.WI()}var n=j[1].firstChild;var c=n.tagName.toUpperCase()=="SVG"?n.getAttribute("key"):false;if(c){if(c.match("sl_checkboxoff")){n.setAttribute("key","sl_checkboxon");this.$cXIU(n,"sl_checkboxon")}else{if(c.match("sl_checkboxon")){n.setAttribute("key","sl_checkboxoff");this.$cXIU(n,"sl_checkboxoff")}else{if(c.match("sl_eclose")){n.setAttribute("key","sl_eopen");this.$cXIU(n,"sl_eopen");j[1].childNodes[1].innerHTML=j[1].childNodes[1].innerHTML.replace("Hide","Show")}else{if(c.match("sl_eopen")){n.setAttribute("key","sl_eclose");this.$cXIU(n,"sl_eclose");j[1].childNodes[1].innerHTML=j[1].childNodes[1].innerHTML.replace("Show","Hide")}else{if(c=="sl_lightbulbon"){n.setAttribute("key","sl_lightbulboff");this.$cXIU(n,"sl_lightbulboff")}else{if(c=="sl_lightbulboff"){n.setAttribute("key","sl_lightbulbon");this.$cXIU(n,"sl_lightbulbon")}else{if(c=="sr_azd"){n.setAttribute("key","sr_azi");this.$cXIU(n,"sr_azi");j[0].params[1]="sr_azi"}else{if(c=="sr_azi"){n.setAttribute("key","sr_azd");this.$cXIU(n,"sr_azd");j[0].params[1]="sr_azd"}else{if(c.match("sl_radioon")){this.IH(j[2].firstChild.childNodes);if(d[1]&&d[1].toString().match(/xAxis|yAxis|zAxis/)){n.setAttribute("key","sl_radioon");this.$cXIU(n,"sl_radioon")}else{n.setAttribute("key","sl_radiooff");this.$cXIU(n,"sl_radiooff")}}else{if(c.match("sl_radiooff")){this.IH(j[2].firstChild.childNodes);n.setAttribute("key","sl_radioon");this.$cXIU(n,"sl_radioon")}else{if((c=="variables"||c=="samples")&&d[0]=="sortDir"){j[0].params[1]=j[0].params[1]=="sr_azd"?"sr_azi":"sr_azd"}}}}}}}}}}}}}}return false}else{if(j&&/input|textarea|select/i.test(a.tagName)&&((g.type=="keydown"&&g.keyCode==13)||g.type=="input")){var d=[];if(j[0].params){for(var f=0;f<j[0].params.length;f++){if(j[0].params[f]=="event"){d.push(g)}else{if(j[0].params[f]=="component"){d.push(j)}else{d.push(j[0].params[f])}}}}if(this[j[0].click]){this[j[0].click].apply(this,d);if(j[0].closeOnClick){this.WI()}}return false}else{return false}}};this.IH=function(b){for(var c=0;c<b.length;c++){var a=b[c].firstChild.firstChild;if(a&&a.nodeName.match(/svg/i)){this.$cXIU(a,"sl_radiooff",{src:"sl_radiooff",key:"sl_radiooff"})}}};this.Eb=function(b,i,h){var f,o;var j=this.$(this.target+"-cX-Wrapper");var g=window.innerWidth;var k=j.offsetLeft;var a=g-k;var n=b.clientWidth;if(i){f=i.offsetLeft+i.offsetWidth-5;if(f+n+5>a){f=i.offsetLeft-n+5}o=i.offsetTop+h.offsetTop}else{f=b.offsetLeft;o=b.offsetTop}b.style.left=f+"px";b.style.top=o+"px"};this.D0=function(h){var g=this.kS(h);if(!g){return false}if((g[0]&&g[0].upload)||(g[0]&&g[0].uploadParams)){var l=g[0];l.className+="Active";return false}if((g[0]&&g[0].className&&g[0].className.toString().match(/Scroll/))||(g[1]&&g[1].className&&g[1].className.toString().match(/Scroll/))){var l=g[0]&&g[0].className&&g[0].className.match(/Scroll/)?g[0]:g[1];l.className+="Active";return false}var b=g[2].firstChild.childNodes;this.Ni(b);g[0].className="CanvasXpressListItemActive";if(g[1]&&g[1].menu){var k=this[g[1].menuFunc].apply(this,g[1].menuParm);var f=this.De(false,k,g[1].menu,false,false,false,false,false,g[1].innerText=="Scheme");var a=this.$(f);var j=g[2];a.style.left="0px";a.style.top="0px";a.style.display="block";this.Eb(a,j,g[1]);g[1].className="CanvasXpressListItemAArrowActive";g[1].menuId=f}else{if(g[1]){g[1].className="CanvasXpressListItemAActive"}}return false};this.u7=function(w){if(this.fastScrollMenuOn){this.fastScrollMenuOn=false;clearInterval(this.fastScrollMenu)}var u,t,s,q,g,f,c,b;var y=this.Ej(w);if(y){var h=this.$(this.target+"-cX-Container-Menus");y.y+=h.offsetHeight;var k=this.kS(w);if(!k){return false}else{if(k[1]&&k[1].menu){var n=this.$(k[1].menuId);var l=n.firstChild.firstChild;u=n.offsetLeft;g=n.offsetTop;t=u+n.offsetWidth;f=g+n.offsetHeight;if(this.view=="table"){if(Math.abs(y.x-u)>=1&&y.x<=t&&y.y>=g&&y.y<=f){return false}}else{if(y.x>=u&&y.x<=t&&y.y>=g&&y.y<=f){return false}}this.Rm(k,n);this.filteringNumericOn=false;this.filteringStringOn=false;this.filteringDateOn=false;if(l&&l.type=="filter"){var x=l.firstChild;if(x.type=="string"){var p=this.$(this.target+":"+l.selector+":cX-DataFilterMask");if(p){this.lN("removeEvtListener",p)}}else{var o=this.$(this.target+":"+l.selector+":cX-DataFilterMin");var j=this.$(this.target+":"+l.selector+":cX-DataFilterMinLabel");var i=this.$(this.target+":"+l.selector+":cX-DataFilterRange");var r=this.$(this.target+":"+l.selector+":cX-DataFilterMax");var v=this.$(this.target+":"+l.selector+":cX-DataFilterMaxLabel");var a=this.$(this.target+":"+l.selector+":cX-DataFilterScale");if(o&&j&&i&&r&&v&&a){this.GT("removeEvtListener",o,r,j,v,a)}}}}else{this.Rm(k)}}}return false};this.XY=function(b){var a=this;this.fastScrollMenuOn=true;this.fastScrollMenu=this.mG(function(){a.s6(b)},100);return false};this.QD=function(a){if(this.fastScrollMenuOn){this.fastScrollMenuOn=false;clearInterval(this.fastScrollMenu)}};this.pr=function(f){this.Y6(f);var g=0;if(f.wheelDelta){g=f.wheelDelta;if(window.opera){g=-g}}else{if(f.detail){g=-f.detail}}if(g){var a=this.zL(f);var c=this.kS(f);if(!c){return false}var b=c[0].parentNode;if(g>0){this.vP(b,"Top")}else{this.vP(b,"Bottom")}}return false};this.kS=function(b){var a=this.zL(b);while(a&&a.tagName&&!a.tagName.match(/li/i)){a=a.parentNode}return a.parentNode&&a.parentNode.parentNode?[a,a.firstChild,a.parentNode.parentNode]:false};this.Rm=function(e,f){if(e){if((e[0]&&e[0].className&&e[0].className.toString().match(/Scroll/))||(e[1]&&e[1].className&&e[1].className.toString().match(/Scroll/))){var g=e[0]&&e[0].className&&e[0].className.match(/Scroll/)?e[0]:e[1];g.className=g.className.replace("Active","")}else{if(e[0]||e[1]){if(e[1]&&e[1].menu){e[1].className="CanvasXpressListItemAArrow"}else{if(e[1]){e[1].className="CanvasXpressListItemA"}}if(e[0]){e[0].className="CanvasXpressListItem"}}}}if(f){var b=f.firstChild.childNodes;for(var d=0;d<b.length;d++){var a=b[d];if(!a.className.match(/Scroll|ItemSep/)){this.xW("removeEvtListener",a)}}f.parentNode.removeChild(f)}};this.Ni=function(e){for(var f=0;f<e.length;f++){var c=e[f];if(c&&c.className&&!c.className.toString().match(/Scroll|ItemSep/)){var d=c.firstChild;var b=d&&d.menu?this.$(d.menuId):false;if(b){this.Ni(b.firstChild.childNodes)}this.Rm([c,d],b)}}};this.WI=function(k){var e=[];if(this.skipHeaderMouseout){this.skipHeaderMouseout.className=this.skipHeaderMouseout.className.replace("Active","");this.skipHeaderMouseout.firstChild.firstChild.className=this.skipHeaderMouseout.firstChild.firstChild.className.replace("Active","");this.skipHeaderMouseout=false}if(!k){var g=this.$(this.target+"-cX-Container-Menus");if(g){var h=g.getElementsByTagName("div");for(var f=0;f<h.length;f++){if(this.md(h[f],"CanvasXpressMenu")){e.unshift(this.$(h[f].id))}}}this.menuIndex=10002}else{e.push(this.$(this.target+"-cX-Menu-"+k))}if(e.length>0){for(f in this.meta.ids){if(f.match(/cX-Menu-|cX-Menu/)){delete (this.meta.ids[f])}}for(var f=0;f<e.length;f++){var a=e[f];var b=a.getElementsByTagName("li");for(var c=0;c<b.length;c++){if(b[c].className!="CanvasXpressListItemSep"){this.xW("removeEvtListener",b[c])}}a.parentNode.removeChild(a)}}this.isMenu=false};this.Vy=function(f,c,d,e){var a=[];if(e){for(var b=0;b<c.length;b++){a.push([c[b],e[b],"changeAttribute",[f,d[b]]])}}else{for(var b=0;b<c.length;b++){a.push([c[b],this[f]==d[b]?"sl_radioon":"sl_radiooff","changeAttribute",[f,d[b]]])}}return a};this.hS=function(a,c){var b=this.view=="table"?"changeTableColAttribute":"changeTextColorAttribute";return this.tO(c)?[[a,b,c]]:[[a,b,[c]]]};this.nk=function(){var a=[];a.push(["Both panels ",this.scatterPlotMatrixType=="both"?"sl_radioon":"sl_radiooff","modifyLayoutType",["both"]]);a.push(["Upper panel ",this.scatterPlotMatrixType=="upper"?"sl_radioon":"sl_radiooff","modifyLayoutType",["upper"]]);a.push(["Lower panel ",this.scatterPlotMatrixType=="lower"?"sl_radioon":"sl_radiooff","modifyLayoutType",["lower"]]);a.push(["Correlation ",this.scatterPlotMatrixType=="densityCorrelation"?"sl_radioon":"sl_radiooff","modifyLayoutType",["correlation"]]);a.push(["Correlation - Density ",this.scatterPlotMatrixType=="correlationDensity"?"sl_radioon":"sl_radiooff","modifyLayoutType",["correlationDensity"]]);a.push(["Correlation - Histogram ",this.scatterPlotMatrixType=="correlationHistogram"?"sl_radioon":"sl_radiooff","modifyLayoutType",["correlationHistogram"]]);a.push(["All ",this.scatterPlotMatrixType=="all"?"sl_radioon":"sl_radiooff","modifyLayoutType",["all"]]);a.push(["First ",this.scatterPlotMatrixType=="first"?"sl_radioon":"sl_radiooff","modifyLayoutType",["first"]]);return a};this.Qn=function(){var a=[];var b=false;a.push(["Auto-Adjust",this.layoutAdjust?"sl_lightbulbon":"sl_lightbulbOff","toggleAttribute",["layoutAdjust"]]);a.push(["Type","ly_splom",b,b,b,"getAxisLayoutTypeMenu",[]]);return a};this.OB=function(c){var d=[];var a=this.l4(this[c+"Axis"]);for(var b=0;b<this.data.y.smps.length;b++){d.push([this.data.y.smps[b],a[this.data.y.smps[b]]?"sl_checkboxon":"sl_checkboxoff","changeSampleInAxis",[this.data.y.smps[b],c+"Axis"]])}return d};this.uh=function(g,d){var c=g.toUpperCase();var b=d?"2":"";var a=[];var e=false;a.push([this[g+"Axis"+b+"Show"]?"Hide Axis":"Show Axis",this[g+"AxisShow"]?"sl_eclose":"sl_eopen","toggleAttribute",[g+"Axis"+b+"Show"]]);a.push(["Set Min","dtp_min",e,e,e,"changeTextColorAttributeMenu",["-text-","setMin"+c+b]]);a.push(["Set Max","dtp_max",e,e,e,"changeTextColorAttributeMenu",["-text-","setMax"+c+b]]);a.push(["Transform","ch_ofx",e,e,e,"getAxisTransformMenu",[g]]);if(this.graphType=="Scatter3D"||this.graphType=="ScatterBubble2D"||this.is3DPlot){a.push(["Exact Range","dtp_exact","toggleAttribute",[g+"AxisExact"]])}a.push(["Format","tx_format",e,e,e,"changeTextColorAttributeMenu",["-text-",g+"Axis"+b+"TickFormat"]]);if(this.yW()){a.push(["Samples","ch_ls",e,e,e,"getAxisSampleMenu",[g]])}a.push(["Color","at_col",e,e,e,"changeTextColorAttributeMenu",["-color-",g+"AxisTextColor"]]);a.push(["Font","ch_oaa",e,e,e,"getFontStyleMenu",[g+"AxisText"]]);return a};this.Pz=function(){return[[this.xAxisShow?"Hide Axis":"Show Axis",this.xAxisShow?"sl_eclose":"sl_eopen","toggleAttribute",["xAxisShow"]]]};this.ko=function(){return[[this.xAxis2Show?"Hide Axis":"Show Axis",this.xAxis2Show?"sl_eclose":"sl_eopen","toggleAttribute",["xAxis2Show"]]]};this.ZE=function(){var a=[];var b=false;a.push(["Set Min","dtp_min",b,b,b,"changeTextColorAttributeMenu",["-text-","setMinX"]]);a.push(["Set Max","dtp_max",b,b,b,"changeTextColorAttributeMenu",["-text-","setMaxX"]]);return a};this.Ti=function(){var b=[];var a=false;if(this.graphType=="Scatter2D"){b.push(["X-Axis","p_g2axistitlex",a,a,a,"getAxisMenu",["x"]]);b.push(["Y-Axis","p_g2axistitley",a,a,a,"getAxisMenu",["y"]]);if(this.scatterPlotMatrix){b.push(["Axes Layout","g_splom",a,a,a,"getAxisLayoutMenu",[]])}}else{if(this.graphType=="Scatter3D"||this.graphType=="ScatterBubble2D"||this.is3DPlot){b.push(["X-Axis","p_g3axistitlex",a,a,a,"getAxisMenu",["x"]]);b.push(["Y-Axis","p_g3axistitley",a,a,a,"getAxisMenu",["y"]]);b.push(["Z-Axis","p_g3axistitlez",a,a,a,"getAxisMenu",["z"]])}else{if(this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)){b.push(["First Axis","p_g1axistitle1",a,a,a,"getAxisMenu",["x"]]);b.push(["Second Axis","p_g1axistitle2",a,a,a,"getAxisMenu",["x",true]])}else{b.push(["First Axis","p_g1axistitle1",a,a,a,"getFirstAxisMenu",[]]);b.push(["Second Axis","p_g1axistitle2",a,a,a,"getSecondAxisMenu",[]]);b.push(["Range","dtp_range",a,a,a,"getRangeAxisMenu",[]]);b.push(["Format","tx_format",a,a,a,"changeTextColorAttributeMenu",["-text-","xAxisTickFormat"]]);b.push(["Color","at_col",a,a,a,"changeTextColorAttributeMenu",["-color-","xAxisTextColor"]]);b.push(["Font","ch_oaa",a,a,a,"getFontStyleMenu",["xAxisText"]]);if(this.layoutValid){b.push(["Auto-Adjust",this.layoutAdjust?"sl_lightbulbon":"sl_lightbulboff","toggleAttribute",["layoutAdjust"]])}}}}return b};this.kj=function(){var b=[];var a=false;b.push(["Color","at_col",a,a,a,"changeTextColorAttributeMenu",["-color-","heatmapCellBoxColor"]]);b.push(["Width","sp_thickness2",a,a,a,"changeTextColorAttributeMenu",["-text-","heatmapCellBoxWidth"]]);b.push([this.heatmapCellBox?"Hide Box":"Show Box",this.heatmapCellBox?"sl_eclose":"sl_eopen","toggleAttribute",["heatmapCellBox"]]);return b};this.A4=function(){var a=false;return[["Color","at_col",a,a,a,"changeTextColorAttributeMenu",["-color-","heatmapCellBoxColorHighlight"]]]};this.bk=function(h,d,j){var e=this.meta.data;var k=[];if(e[h]&&d.length>0){var f={};for(var g=0;g<d.length;g++){var a=d[g];if(e[h][a].type!="Numeric"){f[a]=true}}var b=this.Z7(f);for(var g=0;g<b.length;g++){k.push([b[g],b[g]==this[j]?"sl_radioon":"sl_radiooff","changeAttribute",[j,b[g]]])}}return k};this.LM=function(){var a=[];var b=false;if(this.MX("v")){a.push(["Variables","ch_lv",b,b,b,"getHeatmapVarSmpSeparatorsMenu",["z",this.varOverlays,"heatmapVarSeparateBy"]])}if(this.MX("s")){a.push(["Samples","ch_ls",b,b,b,"getHeatmapVarSmpSeparatorsMenu",["x",this.smpOverlays,"heatmapSmpSeparateBy"]])}return a};this.hN=function(){var b=[];var a=false;b.push(["Cell Boxes","dps_square",a,a,a,"getHeatmapBoxMenu",[]]);b.push(["Highlight","gc_ghcell",a,a,a,"getHeatmapHighlightMenu",[]]);if(this.MX()){b.push(["Separators","gc_ghspace",a,a,a,"getHeatmapSeparatorsMenu",[]])}if(this.isOncoprint){b.push(["Oncoprint <-> Heatmap","op_refresh","toggleAttribute",["oncoprintHeatmapSwitch"]]);b.push([this.oncoprintNoAlterations?"Hide No Alterations":"Show No Alterations",this.oncoprintNoAlterations?"sl_eclose":"sl_eopen","toggleAttribute",["oncoprintNoAlterations","modifyOncoprintNoAlterations"]])}return b};this.NF=function(a){return[[this[a]?"Hide Major Ticks":"Show Major Ticks",this[a]?"sl_eclose":"sl_eopen","toggleAttribute",[a]]]};this.Mg=function(a){return[[this[a]?"Hide Minor Ticks":"Show Minor Ticks",this[a]?"sl_eclose":"sl_eopen","toggleAttribute",[a]]]};this.cY=function(a){var b=[];b.push(["Solid","gr_stylesolid","changeAttribute",[a,"solid"]]);b.push(["Dotted","gr_styledotted","changeAttribute",[a,"dotted"]]);b.push(["Dashed","gr_styledashed","changeAttribute",[a,"dashed"]]);return b};this.n5=function(c){var a=[];var b=false;a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-",c+"AxisGridColor"]]);if(this.graphType!="Scatter3D"&&!this.is3DPlot){a.push(["Major Ticks","gr_major",b,b,b,"getPlotAreaGridMajorShowMenu",[c+"AxisGridMajorShow"]]);a.push(["Minor Ticks","gr_minor",b,b,b,"getPlotAreaGridMinorShowMenu",[c+"AxisGridMinorShow"]]);a.push(["Number","ch_snumber",b,b,b,"changeTextColorAttributeMenu",["-text-",c+"AxisTicks"]])}a.push(["Style","gr_style",b,b,b,"getPlotAreaGridTypeMenu",[c+"AxisGridMajorLineType"]]);return a};this.o3=function(){var a=[];var b=false;if(this.graphType=="Scatter2D"||this.graphType=="ScatterBubble2D"){a.push(["X-Axis","gr_g2x",b,b,b,"getPlotAreaGridMenu",["x"]]);a.push(["Y-Axis","gr_g2y",b,b,b,"getPlotAreaGridMenu",["y"]])}else{if(this.graphType=="Scatter3D"||this.is3DPlot){a.push(["X-Axis","gr_g2x",b,b,b,"getPlotAreaGridMenu",["x"]]);a.push(["Y-Axis","gr_g2y",b,b,b,"getPlotAreaGridMenu",["y"]]);a.push(["Z-Axis","gr_g2z",b,b,b,"getPlotAreaGridMenu",["z"]])}}return a};this.xz=function(){var b=["Heckbert","R Pretty","Wilkinson","Wilkinson Extended"];var a=["heckbert","rPretty","wilkinson","wilkinsonExtended"];return this.Vy("axisAlgorithm",b,a)};this.oC=function(){var b=["Standard Deviation","Standard Error of Mean","95% Confidence Interval"];var a=["standardDeviation","standardErrorMean","confidenceInterval95"];return this.Vy("errorBarsType",b,a)};this.hZ=function(){var b=[];var a=false;b.push(["Color","at_col",a,a,a,"changeTextColorAttributeMenu",["-color-","errorBarsColor"]]);b.push(["Thickness","sp_thickness",a,a,a,"changeTextColorAttributeMenu",["-text-","errorBarsThickness"]]);b.push(["Type","ch_lt",a,a,a,"getPlotAreaBarsTypeMenu",[]]);b.push([this.showErrorBars?"Hide Error Bars":"Show Error Bars",this.showErrorBars?"sl_eclose":"sl_eopen","toggleAttribute",["showErrorBars"]]);return b};this.Te=function(){var a=[];a.push(["Farther","sp_farther","setFontAttributeSize",["variableSpace","increase"]]);a.push(["Closer","sp_closer","setFontAttributeSize",["variableSpace","decrease"]]);return a};this.ZP=function(){var a=[];a.push(["Wider","sp_thicker","setFontAttributeSize",["widthFactor","increase"]]);a.push(["Thinner","sp_thinner","setFontAttributeSize",["widthFactor","decrease"]]);return a};this.vq=function(){var a=[];var b=false;a.push(["Median Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","boxplotMedianColor"]]);a.push(["Width","sp_thickness",b,b,b,"changeTextColorAttributeMenu",["-text-","boxplotMedianWidth"]]);return a};this.dk=function(){var a=[];var b=false;a.push(["Mean Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","boxplotMeanColor"]]);a.push(["Mean Border Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","boxplotMeanBorderColor"]]);a.push([this.boxplotMean?"Hide Mean":"Show Mean",this.boxplotMean?"sl_eclose":"sl_eopen","toggleAttribute",["boxplotMean"]]);return a};this.As=function(){var c=["None","Single","Double"];var a=["none","single","double"];var b=["bx_wishkersn","bx_wishkerss","bx_wishkersd"];return this.Vy("boxplotWhiskersType",c,a,b)};this.XZ=function(){var b=["Box and Whiskers","Range"];var a=["boxWhiskers","range"];return this.Vy("boxplotType",b,a)};this.kU=function(){var c=["Left","Center","Right"];var a=["left","center","right"];var b=["dp_binl","dp_binc","dp_binr"];return this.Vy("binAlignment",c,a,b)};this.ev=function(){var b=[];var a=false;b.push(["Jitter","dp_jittered","toggleAttribute",["jitter"]]);b.push(["Binned","dp_binned","toggleAttribute",["binned"]]);b.push(["Bin Aligment","dp_bin",a,a,a,"getBinAlignmentMenu",[]]);if(this.graphType=="Boxplot"){b.push([this.showBoxplotOriginalData?"Hide Data":"Show Data",this.showBoxplotOriginalData?"sl_eclose":"sl_eopen","toggleAttribute",["showBoxplotOriginalData"]])}return b};this.ET=function(){var b=[];var c=false;b.push(["Notch","bx_notched","toggleAttribute",["boxplotNotched"]]);b.push(["Whiskers","bx_wishkers",c,c,c,"getWhiskersMenu"]);b.push(["Boxplot Mean","bx_mean",c,c,c,"getBoxplotMeanMenu",[]]);b.push(["Boxplot Median","bx_medianw",c,c,c,"getBoxplotMedianMenu",[]]);return b};this.vV=function(){var b=["Trim","Not Trim"];var a=[true,false];return this.Vy("violinTrim",b,a)};this.y1=function(){var b=["Area","Count","Width"];var a=["area","count","width"];return this.Vy("violinScale",b,a)};this.HD=function(){var b=[];var c=false;b.push(["Trim","bx_violin",c,c,c,"getViolinTrimMenu",[]]);b.push(["Scale","wp_scale",c,c,c,"getViolinScaleMenu",[]]);b.push(["Adjust","ch_la",c,c,c,"changeTextColorAttributeMenu",["-text-",["bandwidthAdjust"]]]);b.push([this.showBoxplotIfViolin?"Hide Boxplot":"Show Boxplot",this.showBoxplotIfViolin?"sl_eclose":"sl_eopen","toggleAttribute",["showBoxplotIfViolin"]]);b.push(["Boxplot ratio","sp_thickness",c,c,c,"changeTextColorAttributeMenu",["-text-","boxplotWidthRatioIfViolin"]]);b.push([this.showViolinBoxplot?"Hide Violin":"Show Violin",this.showViolinBoxplot?"sl_eclose":"sl_eopen","toggleAttribute",["showViolinBoxplot"]]);return b};this.i1=function(){var a=[];var b=false;a.push(["Type","bx_type",b,b,b,"getBoxplotTypeMenu",[]]);a.push(["Var Width","sp_thickness","toggleAttribute",["boxplotVarWidth"]]);a.push(["Data Points","bx_data",b,b,b,"getDataPointsMenu",[]]);a.push(["Attributes","bx_median",b,b,b,"getBoxplotAttributesMenu",[]]);a.push(["Violin Attributes","bx_violin",b,b,b,"getViolinAttributesMenu",[]]);a.push(["Connect Boxplot","bx_connect","toggleAttribute",["boxplotConnect"]]);return a};this.l7=function(){var b=[];var c=false;b.push(["Axis Algorithm","ga_axisx",c,c,c,"getPlotAreaAxisAlgorithmMenu",[]]);b.push(["Error Bars","gc_gerrors",c,c,c,"getPlotAreaErrorBarsMenu",[]]);if(this.graphType.match(/Bar|Boxplot/)&&this.data.y.vars.length>1){b.push(["Variable Space","sp_spacing",c,c,c,"getPlotAreaOneVariableSpaceMenu",[]])}b.push(["Sample Width","sp_thickness",c,c,c,"getPlotAreaOneSampleWidthMenu",[]]);return b};this.vm=function(){var b=[];var c=false;b.push(["Axis Algorithm",this.graphType=="Scatter3D"||this.is3DPlot?"ga_axisxyz":"ga_axisxy",c,c,c,"getPlotAreaAxisAlgorithmMenu",[]]);b.push(["Error Bars","gc_gerrors",c,c,c,"getPlotAreaErrorBarsMenu",[]]);return b};this.sJ=function(){var a=[];var b=false;a.push(["Title","ch_oa",b,b,b,"changeTextColorAttributeMenu",["-text-","xAxisTitle"]]);a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","xAxisTitleColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["xAxisTitle"]]);return a};this.xU=function(){var a=[];var b=false;a.push(["Title","ch_oa",b,b,b,"changeTextColorAttributeMenu",["-text-","xAxis2Title"]]);a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","xAxisTitleColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["xAxisTitle"]]);return a};this.Yv=function(){var a=[];var b=false;a.push(["Title","ch_oa",b,b,b,"changeTextColorAttributeMenu",["-text-","yAxisTitle"]]);a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","yAxisTitleColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["yAxisTitle"]]);return a};this.OF=function(){var a=[];var b=false;a.push(["Title","ch_oa",b,b,b,"changeTextColorAttributeMenu",["-text-","zAxisTitle"]]);a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","zAxisTitleColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["zAxisTitle"]]);return a};this.AG=function(){var a=[];var b=false;if(this.graphType.match(/scatter/i)||this.is3DPlot){if(this.graphType=="Scatter3D"||this.is3DPlot){a.push(["X-Axis","p_g3axistitlex",b,b,b,"getAxesTitleXMenu",[]]);a.push(["Y-Axis","p_g3axistitley",b,b,b,"getAxesTitleYMenu",[]]);a.push(["Z-Axis","p_g3axistitlez",b,b,b,"getAxesTitleZMenu",[]])}else{a.push(["X-Axis","p_g2axistitlex",b,b,b,"getAxesTitleXMenu",[]]);a.push(["Y-Axis","p_g2axistitley",b,b,b,"getAxesTitleYMenu",[]])}}else{a.push(["First Axis","p_g1axistitle1",b,b,b,"getAxesTitleXMenu",[]]);a.push(["Second Axis","p_g1axistitle2",b,b,b,"getAxesTitleX2Menu",[]])}return a};this.DM=function(){var a=[];var b=false;a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","titleColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["title"]]);a.push(["Text","ch_oa",b,b,b,"changeTextColorAttributeMenu",["-text-","title"]]);return a};this.I9=function(){var a=[];var b=false;a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","subtitleColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["subtitle"]]);a.push(["Text","ch_oa",b,b,b,"changeTextColorAttributeMenu",["-text-","subtitle"]]);return a};this.NQ=function(){var a=[];var b=false;if(this.graphType.match(/scatter/i)||this.is3DPlot){a.push(["Title","p_g2title",b,b,b,"getTitleMenu",[]]);a.push(["Subtitle","p_g2subtitle",b,b,b,"getSubtitleMenu",[]])}else{a.push(["Title",this.s9()?"p_ghtitle":"p_g1title",b,b,b,"getTitleMenu",[]]);a.push(["Subtitle",this.s9()?"p_ghsubtitle":"p_g1subtitle",b,b,b,"getSubtitleMenu",[]])}return a};this.tB=function(){var a=[];a.push(["Inside Plot","dps_toinside","changeAttribute",["legendInside",true]]);a.push(["Outside Plot","dps_tooutside","changeAttribute",["legendInside",false]]);return a};this.tE=function(){var a=[];if(this.legendInside){a.push(["Top","ps_top","changeAttribute",["legendPosition","top"]]);a.push(["Top Right","ps_topright","changeAttribute",["legendPosition","topRight"]]);a.push(["Right","ps_right","changeAttribute",["legendPosition","right"]]);a.push(["Bottom Right","ps_bottomright","changeAttribute",["legendPosition","bottomRight"]]);a.push(["Bottom","ps_bottom","changeAttribute",["legendPosition","bottom"]]);a.push(["Bottom Left","ps_bottomleft","changeAttribute",["legendPosition","bottomLeft"]]);a.push(["Left","ps_left","changeAttribute",["legendPosition","left"]]);a.push(["Top Left","ps_topleft","changeAttribute",["legendPosition","topLeft"]])}else{a.push(["Top","ps_top","changeAttribute",["legendPosition","top"]]);a.push(["Bottom","ps_bottom","changeAttribute",["legendPosition","bottom"]]);a.push(["Right","ps_right","changeAttribute",["legendPosition","right"]]);a.push(["Left","ps_left","changeAttribute",["legendPosition","left"]])}return a};this.ec=function(){var a=[];var c=false;a.push(["Color","at_col",c,c,c,"changeTextColorAttributeMenu",["-color-","legendBackgroundBorderColor"]]);a.push([this.showLegendBorder?"Hide Border":"Show Border",this.showLegendBorder?"sl_eclose":"sl_eopen","toggleAttribute",["showLegendBorder"]]);return a};this.L2=function(){var a=[];var b=false;a.push(["Border","dps_square",b,b,b,"getLegendBorderMenu",[]]);a.push(["Background","b_bbody",b,b,b,"changeTextColorAttributeMenu",["-color-","legendBackgroundColor"]]);a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","legendTextColor"]]);a.push(["Title Font","ch_oaa",b,b,b,"getFontStyleMenu",["legendTitle"]]);a.push(["Text Font","ch_oaa",b,b,b,"getFontStyleMenu",["legendText"]]);if(this.graphType!="Network"){a.push(["Position",this.legendInside?"ps_toloc3":"ps_toloc2",b,b,b,"getLegendPositionMenu",[]]);a.push(["Location","ps_toloc",b,b,b,"getLegendLocationMenu",[]])}a.push(["Columns","ch_snumber",b,b,b,"changeTextColorAttributeMenu",["-text-","legendColumns"]]);if(this.graphType!="Network"){a.push(["Reset Positions","op_refresh","resetLegendPosition"])}a.push([this.showLegend?"Hide Legend":"Show Legend",this.showLegend?"sl_eclose":"sl_eopen","toggleAttribute",["showLegend"]]);return a};this.BZ=function(){var a=[];a.push(["Right","ps_right","changeAttribute",["heatmapIndicatorPosition","right"]]);a.push(["Top Right","ps_topright","changeAttribute",["heatmapIndicatorPosition","topRight"]]);a.push(["Top","ps_top","changeAttribute",["heatmapIndicatorPosition","top"]]);a.push(["Top Left","ps_topleft","changeAttribute",["heatmapIndicatorPosition","topLeft"]]);return a};this.Z8=function(){var a=[];var b=false;a.push(["Position","ps_toloc2",b,b,b,"getIndicatorPositionMenu",[]]);a.push(["Height","sp_heightness",b,b,b,"changeTextColorAttributeMenu",["-text-","heatmapIndicatorHeight"]]);a.push(["Width","sp_thickness",b,b,b,"changeTextColorAttributeMenu",["-text-","heatmapIndicatorWidth"]]);a.push(["Histogram","i_hist","toggleAttribute",["heatmapIndicatorHistogram"]]);a.push([this.showHeatmapIndicator?"Hide Indicator":"Show Indicator",this.showHeatmapIndicator?"sl_eclose":"sl_eopen","toggleAttribute",["showHeatmapIndicator"]]);return a};this.VV=function(){var a=[];var c=false;a.push(["Color","at_col",c,c,c,"changeTextColorAttributeMenu",["-color-","decorationsBackgroundBorderColor"]]);a.push([this.showDecorationsBorder?"Hide Border":"Show Border",this.showDecorationsBorder?"sl_eclose":"sl_eopen","toggleAttribute",["showDecorationsBorder"]]);return a};this.vs=function(){var a=[];if(this.legendInside){a.push(["Top","ps_top","changeAttribute",["decorationsPosition","top"]]);a.push(["Top Right","ps_topright","changeAttribute",["decorationsPosition","topRight"]]);a.push(["Right","ps_right","changeAttribute",["decorationsPosition","right"]]);a.push(["Bottom Right","ps_bottomright","changeAttribute",["decorationsPosition","bottomRight"]]);a.push(["Bottom","ps_bottom","changeAttribute",["decorationsPosition","bottom"]]);a.push(["Bottom Left","ps_bottomleft","changeAttribute",["decorationsPosition","bottomLeft"]]);a.push(["Left","ps_left","changeAttribute",["decorationsPosition","left"]]);a.push(["Top Left","ps_topleft","changeAttribute",["decorationsPosition","topLeft"]])}else{a.push(["Bottom","ps_bottom","changeAttribute",["decorationsPosition","bottom"]]);a.push(["Right","ps_right","changeAttribute",["decorationsPosition","right"]])}return a};this.WX=function(){return[[this.showDecorations?"Hide Decorations":"Show Decorations",this.showDecorations?"sl_eclose":"sl_eopen","toggleAttribute",["showDecorations"]]]};this.Hd=function(){return[[this.showDecorationsLegend?"Hide Decorations Legend":"Show Decorations Legend",this.showDecorationsLegend?"sl_eclose":"sl_eopen","toggleAttribute",["showDecorationsLegend"]]]};this.FS=function(){var a=[];var b=[0.5,0.75,0.8,0.85,0.9,0.95,0.99];for(var c=0;c<b.length;c++){a.push([b[c],this.kmConfidenceLevel==b[c]?"sl_radioon":"sl_radiooff","changeAttribute",["kmConfidenceLevel",b[c],false,this.isKM?"updateKaplanMeier":false]])}return a};this.T3=function(){var a=[];var c=["ordinary","log","loglog"];for(var b=0;b<c.length;b++){a.push([c[b],this.kmConfidenceIntervalType==c[b]?"sl_radioon":"sl_radiooff","changeAttribute",["kmConfidenceIntervalType",c[b],false,this.isKM?"updateKaplanMeier":false]])}return a};this.dK=function(){var c=this.decorations;var b=false;var a=[];if(this.isKM){a.push([this.showKMConfidenceIntervals?"Hide Confidence Intervals":"Show Confidence Intervals",this.showKMConfidenceIntervals?"sl_eclose":"sl_eopen","toggleAttribute",["showKMConfidenceIntervals",this.isKM?"updateKaplanMeier":false]]);a.push(["Confidence Level","cr_normal",b,b,b,"getDecorationsConfidenceLevelMenu",[]]);a.push(["Confidence Type","ch_ofx",b,b,b,"getDecorationsConfidenceTypeMenu",[]])}return a};this.J0=function(){var a=[];var b=false;a.push([this.isKM?"Remove Kaplan-Meier Plot":"Create Kaplan-Meier Plot",this.isKM?"sl_eclose":"sl_eopen","modifyKaplanMeier"]);a.push(["Invert Censor Value",this.kmInvertCensored?"sl_lightbulbon":"sl_lightbulboff","toggleAttribute",["invertCensored","updateKaplanMeier"]]);if(this.isKM){a.push(["Confidence Intervals","dt_kmconf",b,b,b,"getDecorationsConfidenceIntervalsMenu",[]])}return a};this.VK=function(){var c=this.decorations;var b=false;var a=[];a.push(["Border","dps_square",b,b,b,"getDecorationsBorderMenu",[]]);a.push(["Background","b_bbody",b,b,b,"changeTextColorAttributeMenu",["-color-","decorationsBackgroundColor"]]);a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","decorationsTextColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["decoration"]]);a.push(["Position",this.legendInside?"dps_toinside":"ps_toloc3",b,b,b,"getDecorationsPositionMenu",[]]);a.push(["Data and Legend","wp_datawrangling",b,b,b,"getDecorationsDataMenu",[]]);a.push(["Legend","lg_g2",b,b,b,"getDecorationsLegendMenu",[]]);return a};this.aP=function(g,b){var f=[];var e={};for(var a=0;a<this[b+"Overlays"].length;a++){e[this[b+"Overlays"][a]]=true}var d=this.Z7(this.data[g]);for(var a=0;a<d.length;a++){f.push([d[a],e[d[a]]?"sl_checkboxon":"sl_checkboxoff",b=="var"?"modifyVariableOverlays":"modifySampleOverlays",[d[a]]])}return f};this.Hk=function(g,b){var e=[];var f=this[b+"OverlayProperties"];var d=this.Z7(this.data[g]);for(var a=0;a<d.length;a++){e.push([d[a],f[d[a]]&&f[d[a]].showLegend?"sl_eclose":"sl_eopen","modifyOverlaysProperties",[false,b+"OverlayProperties",d[a],"showLegend"]])}return e};this.yZ=function(a,b){var c=[];if(a=="var"){c.push(["Bottom","ps_bottom","modifyOverlaysProperties",["bottom",a+"OverlayProperties",b,"position"]]);c.push(["Top","ps_top","modifyOverlaysProperties",["top",a+"OverlayProperties",b,"position"]])}else{if(this.s9()||this.Ir()){c.push(["Left","ps_left","modifyOverlaysProperties",["left",a+"OverlayProperties",b,"position"]]);c.push(["Right","ps_right","modifyOverlaysProperties",["right",a+"OverlayProperties",b,"position"]])}else{c.push(["Bottom","ps_bottom","modifyOverlaysProperties",["bottom",a+"OverlayProperties",b,"position"]]);c.push(["Top","ps_top","modifyOverlaysProperties",["top",a+"OverlayProperties",b,"position"]])}}return c};this.iR=function(h,b){var g=[];var e=false;var d=this.Z7(this.data[h]);for(var a=0;a<d.length;a++){g.push([d[a],"op_config",e,e,e,"getOverlaysPositionMemberMenu",[b,d[a]]])}return g};this.Lk=function(h,b){var g=[];var e=false;var d=this.Z7(this.data[h]);for(var a=0;a<d.length;a++){g.push([d[a],"op_config",e,e,e,"changeTextColorAttributeMenu",["-text-",[e,"modifyOverlaysProperties",[b+"OverlayProperties",d[a],"thickness"]]]])}return g};this.lY=function(g,f){var e=[];var b=this.meta.data[g];var a=this.Tx();for(var d=0;d<a.length;d++){e.push([a[d],b[f].spectrum==a[d]?"sl_radioon":"sl_radiooff","modifyColorProperties",[a[d],f,g]])}return e};this.Ba=function(j,d){var h=[];var g=false;var a=this.meta.data[j];var e=this.Z7(this.data[j]);for(var b=0;b<e.length;b++){if(this.eb(this.data[j][e[b]])){if(this[d+"OverlayProperties"][e[b]]&&this[d+"OverlayProperties"][e[b]].type&&this[d+"OverlayProperties"][e[b]].type=="Heatmap"){h.push([e[b],"op_config",g,g,g,"getColorSpectrumMenu",[a[e[b]].colorBrew.spectrum,"modifyColorProperties",e[b],j]])}else{h.push([e[b],"op_config",g,g,g,"changeTextColorAttributeMenu",["-color-",[g,"modifyOverlaysProperties",[d+"OverlayProperties",e[b],"color"]]]])}}else{h.push([e[b],"op_config",g,g,g,"getOverlaysColorSchemesMenu",[j,e[b]]])}}return h};this.h5=function(d,f){var e=[];var b=["Area","AreaLine","Bar","BarLine","Dotplot","DotLine","Heatmap","Line","Pie","Stacked","StackedLine","StackedPercent","StackedPercentLine","Treemap"];var a=["g_area","g_arealine","g_bar","g_barline","g_dotplot","g_dotline","g_heatmap","g_line","g_pie","g_stacked","g_stackedline","g_stackedpercent","g_stackedpercentline","g_treemap"];for(var c=0;c<b.length;c++){e.push([b[c],a[c],"modifyOverlaysProperties",[b[c],d+"OverlayProperties",f,"type"]])}return e};this.BV=function(a,c){var b=[];b.push(["Default","g_heatmap","modifyOverlaysProperties",["Heatmap",a+"OverlayProperties",c,"type"]]);b.push(["Text","ch_lt","modifyOverlaysProperties",["Text",a+"OverlayProperties",c,"type"]]);b.push(["Treemap","g_treemap","modifyOverlaysProperties",["Treemap",a+"OverlayProperties",c,"type"]]);return b};this.lp=function(j,d){var h=[];var g=false;var a=this.meta.data[j];var e=this.Z7(this.data[j]);for(var b=0;b<e.length;b++){if(this.eb(this.data[j][e[b]])){h.push([e[b],"op_config",g,g,g,"getOverlaysGraphTypeMenu",[d,e[b]]])}else{h.push([e[b],"op_config",g,g,g,"getOverlaysGraphDefaultMenu",[d,e[b]]])}}return h};this.A6=function(e,a){var d=[];var b=false;if(a=="var"){d.push(["Position","ar_v",b,b,b,"getOverlaysPositionMenu",[e,a]])}else{if(this.s9()||this.Qc()){d.push(["Position","ar_h",b,b,b,"getOverlaysPositionMenu",[e,a]])}else{d.push(["Position","ar_v",b,b,b,"getOverlaysPositionMenu",[e,a]])}}d.push(["Thickness","sp_thickness",b,b,b,"getOverlaysThicknessMenu",[e,a]]);d.push(["Color","at_col",b,b,b,"getOverlaysColorMenu",[e,a]]);d.push(["Type","ly_doe",b,b,b,"getOverlaysGraphMenu",[e,a]]);d.push(["Legend",this.s9()?"lg_h":"lg_g1",b,b,b,"getOverlaysLegendMenu",[e,a]]);return d};this.nj=function(){var a=[];a.push(["Top Right","ps_topright","changeAttribute",["overlaysLegendPosition","topRight"]]);a.push(["Right","ps_right","changeAttribute",["overlaysLegendPosition","right"]]);a.push(["Bottom Left","ps_bottomleft","changeAttribute",["overlaysLegendPosition","bottomLeft"]]);a.push(["Bottom","ps_bottom","changeAttribute",["overlaysLegendPosition","bottom"]]);return a};this.wI=function(a){var b="show"+a+"OverlaysLegend";return[[this[b]?"Hide Legend":"Show Legend",this[b]?"sl_eclose":"sl_eopen","toggleAttribute",[b]]]};this.fY=function(){var b=[];var a=false;if(this.s9()&&this.data.z){b.push(["Variable Overlays","o_ghvars",a,a,a,"getOverlaysMemebersMenu",["z","var"]]);b.push(["Variable Overlays Properties","o_ghvars",a,a,a,"getOverlaysPropertiesMenu",["z","var"]]);b.push(["Variable Overlays Legend","lg_h",a,a,a,"getLegendOverlaysMenu",["Var"]]);b.push(["-"])}if(this.data.x){b.push(["Sample Overlays",this.s9()?"o_ghsmps":"o_g1",a,a,a,"getOverlaysMemebersMenu",["x","smp"]]);b.push(["Sample Overlays Properties",this.s9()?"o_ghsmpsp":"o_g1p",a,a,a,"getOverlaysPropertiesMenu",["x","smp"]]);b.push(["Sample Overlays Legend",this.s9()?"lg_h":"lg_g1",a,a,a,"getLegendOverlaysMenu",["Smp"]]);b.push(["-"])}b.push(["Overlays Legend Position","ps_toloc3",a,a,a,"getLegendOverlaysPositionMenu",[]]);b.push(["-"]);b.push(["Label Color","at_col",a,a,a,"changeTextColorAttributeMenu",["-color-","overlayColor"]]);b.push(["Label Font","ch_oaa",a,a,a,"getFontStyleMenu",["overlay"]]);b.push(["Default Thickness","sp_thickness",a,a,a,"changeTextColorAttributeMenu",["-text-","overlaysThickness"]]);if(this.data.x||this.data.z){b.push([this.showOverlays?"Hide Overlays":"Show Overlays",this.showOverlays?"sl_eclose":"sl_eopen","toggleAttribute",["showOverlays"]])}return b};this.C9=function(d){var b=[];for(var a=0;a<this.data.y.vars.length;a++){if(d){b.push([this.data.y.vars[a],"sl_radiooff","binDataByPercentile",[a,true]])}else{b.push([this.data.y.vars[a],"sl_radiooff","binDataByPercentile",[a]])}}return b};this.m1=function(d){var b=[];for(var a=0;a<this.data.y.vars.length;a++){if(d){b.push([this.data.y.vars[a],"sl_radiooff","binDataByQuantile",[a,true]])}else{b.push([this.data.y.vars[a],"sl_radiooff","binDataByQuantile",[a]])}}return b};this.tK=function(b){var c=[];for(var a=2;a<9;a++){c.push([a+" bins","sl_radiooff","binDataCustom",[b,a]])}return c};this.Ex=function(){var e=[];var d=false;for(var a=0;a<this.data.y.vars.length;a++){var b=this.data.y.vars[a].substring(0,1).toLowerCase();e.push([this.data.y.vars[a],"ch_l"+b,d,d,d,"getBinDataCustomBinMenu",[a]])}return e};this.kW=function(){var a=[];var c=false;a.push(["By Percentile Discrete","ch_spercent",c,c,c,"getBinDataPercentileMenu",[]]);a.push(["By Percentile Continuous","ch_spercent",c,c,c,"getBinDataPercentileMenu",[true]]);a.push(["By Quantile Discrete","ch_oquantile",c,c,c,"getBinDataQuantileMenu",[]]);a.push(["By Quantile Continuous","ch_oquantile",c,c,c,"getBinDataQuantileMenu",[true]]);a.push(["Custom","ch_lc",c,c,c,"getBinDataCustomMenu",[]]);return a};this.ps=function(){if(this.data.x){var d=[];var b={};var a=this.Z7(this.data.x);for(var c=0;c<this.groupingFactors.length;c++){b[this.groupingFactors[c]]=true}for(var c=0;c<a.length;c++){d.push([a[c],b[a[c]]?"sl_checkboxon":"sl_checkboxoff","modifySampleGroups",[a[c]]])}return d}else{return false}};this.dB=function(){var c=[];var b={};var d=this.isGroupedData?this.data.w:this.data.y;for(var a=0;a<this.highlightSmp.length;a++){b[this.highlightSmp[a]]=true}for(var a=0;a<d.smps.length;a++){c.push([d.smps[a],b[d.smps[a]]?"sl_checkboxon":"sl_checkboxoff","modifyObjectArray",[d.smps[a],false,"highlightSmp",true,true]])}return c};this.Cx=function(){var a=[];var b=false;a.push(["Samples","ch_ls",b,b,b,"getSmpLabelHighlightLevelMenu",[]]);a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","smpHighlightColor"]]);return a};this.E2=function(){var a=[];var b=false;a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","smpTextColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["smpText"]]);a.push(["Highlight",this.s9()?"p_ghsamplelabels":"p_g1samplelabels",b,b,b,"getSmpLabelHighlightMenu",[]]);a.push(["Interval","ch_snumber",b,b,b,"changeTextColorAttributeMenu",["-text-","smpLabelInterval"]]);a.push(["Rotate","rt_c",b,b,b,"changeTextColorAttributeMenu",["-text-","smpTextRotate"]]);a.push([this.showSampleNames?"Hide Labels":"Show Labels",this.showSampleNames?"sl_eclose":"sl_eopen","toggleAttribute",["showSampleNames"]]);return a};this.VH=function(){var d=[];var c={};var a=this.data.y.vars;for(var b=0;b<this.highlightVar.length;b++){c[this.highlightVar[b]]=true}for(var b=0;b<a.length;b++){d.push([a[b],c[a[b]]?"sl_checkboxon":"sl_checkboxoff","modifyObjectArray",[a[b],false,"highlightVar",true,true]])}return d};this.z8=function(){var a=[];var b=false;a.push(["Variables","ch_lv",b,b,b,"getVarLabelHighlightLevelMenu",[]]);a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","varHighlightColor"]]);return a};this.pS=function(c){var a=[];var b=false;a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","varTextColor"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",["varText"]]);a.push(["Highlight","p_ghvariablelabels",b,b,b,"getVarLabelHighlightMenu",[]]);a.push(["Interval","ch_snumber",b,b,b,"changeTextColorAttributeMenu",["-text-","varLabelInterval"]]);a.push(["Rotate","rt_c",b,b,b,"changeTextColorAttributeMenu",["-text-","varTextRotate"]]);a.push([this.showVariableNames?"Hide Labels":"Show Labels",this.showVariableNames?"sl_eclose":"sl_eopen","toggleAttribute",["showVariableNames"]]);return a};this.Au=function(c){var a=[];var b=false;a.push(["Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-",c+"Color"]]);a.push(["Font","ch_oaa",b,b,b,"getFontStyleMenu",[c]]);a.push(["Text","ch_oa",b,b,b,"changeTextColorAttributeMenu",["-text-",c]]);return a};this.Dl=function(c){var b=[];var a="ScaleFontFactor";b.push(["Bigger","sr_aai","setFontAttributeSize",[c+a,"increase"]]);b.push(["Smaller","sr_aad","setFontAttributeSize",[c+a,"decrease"]]);b.push(["Normal","ch_oa","setFontAttributeStyle",[c+"FontStyle","normal"]]);b.push(["Bold","ch_lb","setFontAttributeStyle",[c+"FontStyle","bold"]]);b.push(["Italic","ch_oitalic","setFontAttributeStyle",[c+"FontStyle","italic"]]);return b};this.e5=function(b){var d=[];var c=this.isGroupedData?this.data.w:this.data.y;for(var a=0;a<c.smps.length;a++){d.push([c.smps[a],this[b]==c.smps[a]?"sl_radioon":"sl_radiooff","changeAttribute",[b,c.smps[a]]])}return d};this.Bn=function(h){var j=[];var e=false;if(h=="treemapBy"){var a={};var b=this.Z7(this.data.x);for(var c=0;c<this.treemapBy.length;c++){a[this.treemapBy[c]]=true}for(var c=0;c<b.length;c++){j.push([b[c],a[b[c]]?"sl_checkboxon":"sl_checkboxoff","modifyTreemapGroups",[b[c]]])}}else{if(this.isDOE){var g=this.graphType.match(/scatter/i)||this.graphType=="Map"?this.Z7(this.data.z):this.Z7(this.data.x);for(var c=0;c<g.length;c++){j.push([g[c],g[c]==this[h]?"sl_radioon":"sl_radiooff","changeAttribute",[h,g[c]]])}}else{if(this.graphType!="Line"&&this.graphType!="ParallelCoordinates"){var g=this.graphType.match(/scatter/i)||this.graphType=="Map"||this.graphType.match(/line/i)?this.Z7(this.data.z):this.Z7(this.data.x);for(var c=0;c<g.length;c++){j.push([g[c],g[c]==this[h]?"sl_radioon":"sl_radiooff","changeAttribute",[h,g[c]]])}}else{if((this.data.z||this.data.x)&&h!="patternBy"){var g=this.data.z?this.Z7(this.data.z):this.Z7(this.data.x);for(var c=0;c<g.length;c++){j.push([g[c],g[c]==this[h]?"sl_radioon":"sl_radiooff","changeAttribute",[h,g[c]]])}}}if(h!="connectBy"&&h!="ellipseBy"&&h!="ridgeBy"&&!this.graphType.match(/StackedLine/)){j.push(["-"]);j.push(["Variable",this[h]=="variable"?"sl_radioon":"sl_radiooff","changeAttribute",[h,"variable"]])}if(((!this.graphType.match(/scatter/i)&&!this.graphType=="Map")||this.graphType=="Dotplot")&&this.data.z){var d=this.Z7(this.data.z);if(h!="connectBy"||this.graphType=="Dotplot"){j.push(["-"])}for(var c=0;c<d.length;c++){if(h!="connectBy"||this.graphType=="Dotplot"){j.push([d[c],d[c]==this[h]?"sl_radioon":"sl_radiooff","changeAttribute",[h,d[c]]])}}}if(this.graphType=="Line"||this.graphType=="ParallelCoordinates"||this.graphType=="Map"){j.push(["-"]);j.push(["Sample","ch_ls",e,e,e,"getDataPointAttributesPropertySampleMenu",[h]])}}}return j};this.Dk=function(){var a=[];var b=false;if(this.isKM&&this.data.z){a.push(["Color By","at_col",b,b,b,"getDataPointAttributesPropertyMenu",["colorBy"]])}else{if(!this.s9()){a.push(["Color By","at_col",b,b,b,"getDataPointAttributesPropertyMenu",["colorBy"]])}if(this.graphType.match(/scatter/i)||this.is3DPlot||this.graphType=="Dotplot"||this.graphType=="Tree"||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)){a.push(["Shape By","at_shp",b,b,b,"getDataPointAttributesPropertyMenu",["shapeBy"]]);a.push(["Size By","at_sze",b,b,b,"getDataPointAttributesPropertyMenu",["sizeBy"]])}a.push(["Pattern By",this.graphType.match(/parallelcoordinates|line/i)?"ln_style":"at_pat",b,b,b,"getDataPointAttributesPropertyMenu",["patternBy"]]);if(this.graphType.match(/scatter/i)||this.is3DPlot||this.graphType=="Dotplot"||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)){a.push(["Connect By","bx_connect",b,b,b,"getDataPointAttributesPropertyMenu",["connectBy"]])}if(this.graphType.match(/stacked/i)&&this.data.x&&this.isGroupedData){a.push(["Treemap By","g_treemap",b,b,b,"getDataPointAttributesPropertyMenu",["treemapBy"]])}if(this.graphType.match(/scatter/i)){if(this.graphType=="Scatter2D"&&!this.dR()&&!this.np()){a.push(["Ellipse By","at_ellipse",b,b,b,"getDataPointAttributesPropertyMenu",["ellipseBy"]])}if(this.graphType=="Scatter2D"&&!this.dR()&&!this.np()&&!this.scatterPlotMatrix){a.push(["Ridge By","g_ridgeline",b,b,b,"getDataPointAttributesPropertyMenu",["ridgeBy"]])}}}return a};this.bR=function(d){var e=[];if(d){var c=this.Z7(this.data.z);for(var b=0;b<c.length;b++){e.push([c[b],this.colorVarDendrogramBy==c[b]?"sl_radioon":"sl_radiooff","changeAttribute",["colorVarDendrogramBy",c[b]]])}}else{var a=this.Z7(this.data.x);for(var b=0;b<a.length;b++){e.push([a[b],this.colorSmpDendrogramBy==a[b]?"sl_radioon":"sl_radiooff","changeAttribute",["colorSmpDendrogramBy",a[b]]])}}return e};this.i3=function(){var a=[];var b=false;if(this.graphType=="Tree"){a.push(["Bracket Layout",this.treeType=="bracket"?"sl_radioon":"sl_radiooff","changeAttribute",["treeType",["bracket"]]]);a.push(["Radial Layout",this.treeType=="circular"?"sl_radioon":"sl_radiooff","changeAttribute",["treeType",["circular"]]]);a.push(["Inverted Tree",this.treeInverted?"sl_checkboxon":"sl_checkboxoff","toggleAttribute",["treeInverted"]])}else{if(this.s9()){a.push(["Cluster Variable","cl_vertical","clusterVariables",[true]]);a.push(["K-Means Variable","cl_verticalk","kmeansVariables",[true]]);if(this.varDendrogram){a.push(["Color Variable Cluster By","at_col",b,b,b,"getDendrogramColorMenu",[true]]);if(this.showVarDendrogram){a.push(["Hide Dendrogram","sl_eclose","showHideDendrogram",["showVarDendrogram"]])}else{a.push(["Show Dendrogram","sl_eopen","showHideDendrogram",["showVarDendrogram"]])}}a.push(["-"])}a.push(["Cluster Samples","cl_horizontal","clusterSamples",[true]]);a.push(["K-Means Samples","cl_horizontalk","kmeansSamples",[true]]);if(this.smpDendrogram){a.push(["Color Sample Cluster By","at_col",b,b,b,"getDendrogramColorMenu",[]]);if(this.showSmpDendrogram){a.push(["Hide Dendrogram","sl_eclose","showHideDendrogram",["showSmpDendrogram"]])}else{a.push(["Show Dendrogram","sl_eopen","showHideDendrogram",["showSmpDendrogram"]])}}}return a};this.i6=function(){var c=this.L3();var a=[];for(var b in c){a.push([c[b][0],"sl_radiooff","loadMap",[c[b][1]]])}return a};this.uv=function(){var a=[];a.push(["Area","g_area","changeAttribute",["graphType","Area"]]);a.push(["Area Line","g_arealine","changeAttribute",["graphType","AreaLine"]]);a.push(["Bar","g_bar","changeAttribute",["graphType","Bar"]]);a.push(["Bar Line","g_barline","changeAttribute",["graphType","BarLine"]]);a.push(["Boxplot","g_boxplot","changeAttribute",["graphType","Boxplot"]]);a.push(["Circular","g_circular","changeAttribute",["graphType","Circular"]]);a.push(["Correlation","g_correlation","changeAttribute",["graphType","Correlation"]]);a.push(["Dot Line","g_dotline","changeAttribute",["graphType","DotLine"]]);a.push(["Dotplot","g_dotplot","changeAttribute",["graphType","Dotplot"]]);a.push(["Gantt Chart","g_gantt","changeAttribute",["graphType","g_gantt"]]);a.push(["Heatmap","g_heatmap","changeAttribute",["graphType","Heatmap"]]);a.push(["Line","g_line","changeAttribute",["graphType","Line"]]);a.push(["Map","g_map","changeAttribute",["graphType","Map"]]);a.push(["Pie Chart","g_pie","changeAttribute",["graphType","Pie"]]);if(this.data.y.smps.length>1){a.push(["Scatter 2D","g_scatter2d","changeAttribute",["graphType","Scatter2D"]])}if(this.data.y.smps.length>2){a.push(["Scatter Bubble 2D","g_scatterbubble2d","changeAttribute",["graphType","ScatterBubble2D"]]);a.push(["Scatter 3D","g_scatter3d","changeAttribute",["graphType","Scatter3D"]])}a.push(["Stacked","g_stacked","changeAttribute",["graphType","Stacked"]]);a.push(["Stacked Line","g_stackedline","changeAttribute",["graphType","StackedLine"]]);a.push(["Stacked Percent","g_stackedpercent","changeAttribute",["graphType","StackedPercent"]]);a.push(["Stacked Percent Line","g_stackedpercentline","changeAttribute",["graphType","StackedPercentLine"]]);a.push(["Tag Cloud","g_tagcloud","changeAttribute",["graphType","TagCloud"]]);a.push(["Parallel Coordinates","g_parallelcoordinates","changeAttribute",["graphType","ParallelCoordinates"]]);a.push(["Sankey","g_sankey","changeAttribute",["graphType","Sankey"]]);a.push(["Tree","g_tree","changeAttribute",["graphType","Tree"]]);a.push(["Treemap","g_treemap","changeAttribute",["graphType","Treemap"]]);return a};this.L4=function(){var a=[];a.push(["Horizontal","gc_gohorizontal","changeAttribute",["graphOrientation","horizontal"]]);a.push(["Vertical","gc_govertical","changeAttribute",["graphOrientation","vertical"]]);return a};this.O7=function(){var b=[];var a=false;b.push(["g_lobal","mr_all",a,a,a,"changeTextColorAttributeMenu",["-text-","margin"]]);b.push(["-"]);b.push(["Bottom","mr_bottom",a,a,a,"changeTextColorAttributeMenu",["-text-","marginBottom"]]);b.push(["Left","mr_left",a,a,a,"changeTextColorAttributeMenu",["-text-","marginLeft"]]);b.push(["Top","mr_top",a,a,a,"changeTextColorAttributeMenu",["-text-","marginTop"]]);b.push(["Right","mr_right",a,a,a,"changeTextColorAttributeMenu",["-text-","marginRight"]]);return b};this.eD=function(){var b=[];var a=false;b.push(["Objects","at_shd","toggleAttribute",["showShadow"]]);b.push(["Text","tx_shadow","toggleAttribute",["showTextShadow"]]);b.push(["Color","at_col",a,a,a,"changeTextColorAttributeMenu",["-color-","shadowColor"]]);return b};this.HP=function(){var b=[];var a=false;b.push(["Plot Border Color","b_bbody",a,a,a,"changeTextColorAttributeMenu",["-color-","plotBackgroundBorderColor"]]);b.push(["Panel Border Color","b_bwindowsolid",a,a,a,"changeTextColorAttributeMenu",["-color-","panelBackgrounBorderColor"]]);return b};this.wC=function(){var a=[];a.push(["Horizontal","b_grhl","changeAttribute",["gradientOrientation","horizontal"]]);a.push(["Vertical","b_grvt","changeAttribute",["gradientOrientation","vertical"]]);return a};this.Un=function(){var a=[];a.push(["Linear","b_grvt","changeAttribute",["gradientType","linear"]]);a.push(["Radial","b_grc","changeAttribute",["gradientType","radial"]]);return a};this.g2=function(){var a=[];var b=false;a.push(["Gradient","b_gsswitch","toggleAttribute",["gradient"]]);a.push(["Orientation","b_gsori",b,b,b,"getGradientsOrientationMenu",[]]);a.push(["Type","b_gstype",b,b,b,"getGradientsTypeMenu",[]]);a.push(["-"]);return a};this.ZF=function(){var a=[];a.push(["Solid","b_bbody","changeAttribute",["backgroundType","solid","solid"]]);a.push(["Gradient","b_bgradient","changeAttribute",["backgroundType","gradient","gradient"]]);a.push(["Solid Window","b_bwindowsolid","changeAttribute",["backgroundType","panel","panel"]]);a.push(["Solid Panel on Gradient Plot","b_bbodygradient","changeAttribute",["backgroundType","panelGradient","panelGradient"]]);a.push(["Gradient Panel on Solid Plot","b_bwindowgradient","changeAttribute",["backgroundType","panelSolidGradient","panelSolidGradient"]]);return a};this.YC=function(){var b=[];var a=false;b.push(["Type","b_btype",a,a,a,"getBackgroundTypeMenu",[]]);b.push(["-"]);b.push(["Plot Color","b_bbody",a,a,a,"changeTextColorAttributeMenu",["-color-","plotBackgroundColor"]]);b.push(["Panel Color","b_bwindowsolid",a,a,a,"changeTextColorAttributeMenu",["-color-","panelBackgroundColor"]]);b.push(["Gradient Start Color","b_grvt",a,a,a,"changeTextColorAttributeMenu",["-color-","backgroundGradient1Color"]]);b.push(["Gradient End Color","b_grvb",a,a,a,"changeTextColorAttributeMenu",["-color-","backgroundGradient2Color"]]);return b};this.zI=function(){var a=[];a.push(["Bigger","sr_aai","setFontAttributeSize",["fontScaleFontFactor","increase"]]);a.push(["Smaller","sr_aad","setFontAttributeSize",["fontScaleFontFactor","decrease"]]);a.push(["Normal","ch_oa","setFontAttributeStyle",["fontStyle","normal"]]);a.push(["Bold","ch_lb","setFontAttributeStyle",["fontStyle","bold"]]);a.push(["Italic","ch_oitalic","setFontAttributeStyle",["fontStyle","italic"]]);return a};this.J3=function(){var a=[];var c=false;a.push(["Size and Style","ch_oaa",c,c,c,"getFontsSizeStyleMenu",[]]);a.push(["-"]);for(var b in CanvasXpress.fonts){a.push([b,this.fontName==b?"sl_radioon":"sl_radiooff","changeAttribute",["fontName",b,b]])}return a};this.Xe=function(){var d=[];var a={};for(var b=0;b<this.segregateVariablesBy.length;b++){a[this.segregateVariablesBy[b]]=true}if(this.data.z){var c=this.Z7(this.data.z);for(var b=0;b<c.length;b++){d.push([c[b],a[c[b]]?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",[c[b]]])}if(!this.yW()){d.push(["-"])}}if(!this.yW()){d.push(["variable",a.variable?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",["variable"]])}return d};this.zp=function(){var a=[];var d={};for(var c=0;c<this.segregateSamplesBy.length;c++){d[this.segregateSamplesBy[c]]=true}if(this.data.x){var b=this.Z7(this.data.x);for(var c=0;c<b.length;c++){a.push([b[c],d[b[c]]?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",[b[c]]])}if(!this.yW()){a.push(["-"])}}if(!this.yW()){a.push(["sample",d.sample?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]])}return a};this.wL=function(){var a=[];var b=false;a.push(["Segregate Samples By","ch_ls",b,b,b,"getLayoutSmpMenu",[]]);a.push(["Segregate Variables By","ch_lv",b,b,b,"getLayoutVarMenu",[]]);return a};this.Z2=function(){var d={};var e=[];if((this.isQQ||this.isCDF)&&!this.ridgeBy){e.push(["sample",this.segregateSamplesBy.includes("sample")?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]])}else{if(this.data.z&&!this.scatterPlotMatrix){var f=this.Z7(this.data.z);var a=this.meta.data.z;for(var c=0;c<this.segregateVariablesBy.length;c++){d[this.segregateVariablesBy[c]]=true}for(var c=0;c<f.length;c++){if(a[f[c]].type=="String"){e.push([f[c],d[f[c]]?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",[f[c]]])}}}if(this.data.x&&!this.scatterPlotMatrix){var b=this.Z7(this.data.x);var a=this.meta.data.x;for(var c=0;c<this.segregateSamplesBy.length;c++){d[this.segregateSamplesBy[c]]=true}for(var c=0;c<b.length;c++){if(a[b[c]]&&a[b[c]].type=="String"){e.push([b[c],d[b[c]]?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",[b[c]]])}}}if(!this.yW()){e.push(["variable",this.segregateVariablesBy.includes("variable")?"sl_checkboxon":"sl_checkboxoff","modifyVariableSegregation",["variable"]]);e.push(["sample",this.segregateSamplesBy.includes("sample")?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]])}else{if(!this.ridgeBy){e.push(["sample",this.segregateSamplesBy.includes("sample")?"sl_checkboxon":"sl_checkboxoff","modifySampleSegregation",["sample"]])}}}if(!this.is3DPlot&&e.length>0){return e}else{return false}};this.qV=function(b,g,m,l,k){var c=[];var a=this.l4(b);var f=this.Np();for(var e=0;e<f.length;e++){if(a[f[e]]){var h=0;for(var d=0;d<b.length;d++){if(f[e]==b[d]){h=d;break}}if(m&&l){c.push([f[e]+" ("+(h+1)+")","sl_checkboxon",g,[f[e],m,l]])}else{c.push([f[e]+" ("+(h+1)+")","sl_checkboxon",g,[f[e]]])}}else{if(m&&l){c.push([f[e],"sl_checkboxoff",g,[f[e],m,l]])}else{c.push([f[e],"sl_checkboxoff",g,[f[e]]])}}}return c};this.MB=function(e,f){var d=[];var a=this.Tx();for(var b=0;b<a.length;b++){if(this.isContour&&f=="Contour"){d.push([a[b],this[e]==a[b]?"sl_radioon":"sl_radiooff","changeAttribute",["contourColorScheme",a[b]]])}else{if(this.scatterType=="bin2d"&&f=="Binplot"){d.push([a[b],this[e]==a[b]?"sl_radioon":"sl_radiooff","changeAttribute",["binplotColorScheme",a[b]]])}else{d.push([a[b],this[e]==a[b]?"sl_radioon":"sl_radiooff","changeAttribute",["colorSpectrum",[],false,f,a[b]]])}}}return d};this.Ou=function(e,f){var d=[];var a=this.Tx();for(var b=0;b<a.length;b++){d.push([a[b],this[e]==a[b]?"sl_radioon":"sl_radiooff","changeAttribute",[e,a[b],false,f]])}return d};this.co=function(){var b=[];var a=false;b.push(["Spectrum By Colors","at_col",a,a,a,"getColorSpectrumMenu",[this.colorSpectrum,"modifyColorSpectrum"]]);b.push(["Spectrum By Scheme","at_palette",a,a,a,"getColorSpectrumSchemeMenu",["colorScheme","modifyColorSpectrumByScheme"]]);b.push(["Zero-Center","ch_lz",a,a,a,"changeTextColorAttributeMenu",["-text-",[a,"modifyColorSpectrumZeroValue",[null]]]]);return b};this.AX=function(){var a=[];a.push(["No Blind Type",!this.blindnessType?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType",false]]);a.push(["Protanopia",this.blindnessType=="protanopia"?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType","protanopia"]]);a.push(["Deuteranopia",this.blindnessType=="deuteranopia"?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType","deuteranopia"]]);a.push(["Tritanopia",this.blindnessType=="tritanopia"?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType","tritanopia"]]);a.push(["Monochromatic",this.blindnessType=="monochromatic"?"sl_radioon":"sl_radiooff","changeAttribute",["blindnessType","monochromatic"]]);return a};this.v3=function(){var b=[];var a=false;b.push(["Blind Type","sl_eopen",a,a,a,"getColorBlindTypeMenu",[]]);b.push(["Scheme","at_palette",a,a,a,"getColorSchemeMenu",["colorScheme","modifyColorScheme"]]);b.push(["Spectrum","at_sch",a,a,a,"getColorsSpectrumCompMenu",[]]);return b};this.f1=function(){var a=[];a.push(["CanvasXpress",this.theme=="cx"?"sl_radioon":"sl_radiooff","changeTheme",["cx"]]);a.push(["Economist",this.theme=="economist"?"sl_radioon":"sl_radiooff","changeTheme",["economist"]]);a.push(["GGPlot",this.theme=="ggplot"?"sl_radioon":"sl_radiooff","changeTheme",["ggplot"]]);a.push(["Gray-Inverse",this.theme=="igray"?"sl_radioon":"sl_radiooff","changeTheme",["igray"]]);a.push(["Excel",this.theme=="excel"?"sl_radioon":"sl_radiooff","changeTheme",["excel"]]);a.push(["Paul Tol",this.theme=="paulTol"?"sl_radioon":"sl_radiooff","changeTheme",["paulTol"]]);a.push(["Black And White",this.theme=="blackAndWhite"?"sl_radioon":"sl_radiooff","changeTheme",["blackAndWhite"]]);a.push(["Solarized",this.theme=="solarized"?"sl_radioon":"sl_radiooff","changeTheme",["solarized"]]);a.push(["Stata",this.theme=="stata"?"sl_radioon":"sl_radiooff","changeTheme",["stata"]]);a.push(["Tableau",this.theme=="tableau"?"sl_radioon":"sl_radiooff","changeTheme",["tableau"]]);a.push(["Wall Street Journal",this.theme=="wallStreetJournal"?"sl_radioon":"sl_radiooff","changeTheme",["wallStreetJournal"]]);a.push(["-"]);a.push(["Last Air Bender Fire",this.theme=="lastAirBenderFire"?"sl_radioon":"sl_radiooff","changeTheme",["lastAirBenderFire"]]);a.push(["Last Air Bender Air",this.theme=="lastAirBenderAir"?"sl_radioon":"sl_radiooff","changeTheme",["lastAirBenderAir"]]);a.push(["Last Air Bender Water",this.theme=="lastAirBenderWater"?"sl_radioon":"sl_radiooff","changeTheme",["lastAirBenderWater"]]);a.push(["Last Air Bender Earth",this.theme=="lastAirBenderEarth"?"sl_radioon":"sl_radiooff","changeTheme",["lastAirBenderEarth"]]);a.push(["-"]);a.push(["Game Of Thrones Targaryen",this.theme=="gameOfThronesTargaryen"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesTargaryen"]]);a.push(["Game Of Thrones Stark",this.theme=="gameOfThronesStark"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesStark"]]);a.push(["Game Of Thrones Stannis",this.theme=="gameOfThronesStannis"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesStannis"]]);a.push(["Game Of Thrones Lannister",this.theme=="gameOfThronesLannister"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesLannister"]]);a.push(["Game Of Thrones Tyrell",this.theme=="gameOfThronesTyrell"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesTyrell"]]);a.push(["Game Of Thrones Martell",this.theme=="gameOfThronesMartell"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesMartell"]]);a.push(["Game Of Thrones Tully",this.theme=="gameOfThronesTully"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesTully"]]);a.push(["Game Of Thrones Greyjoy",this.theme=="gameOfThronesGreyjoy"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesGreyjoy"]]);a.push(["Game Of Thrones Manderly",this.theme=="gameOfThronesManderly"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesManderly"]]);a.push(["Game Of Thrones Arryn",this.theme=="gameOfThronesArryn"?"sl_radioon":"sl_radiooff","changeTheme",["gameOfThronesArryn"]]);a.push(["-"]);a.push(["None",this.theme=="none"?"sl_radioon":"sl_radiooff","changeTheme",["none"]]);return a};this.Cq=function(){var b=[];var a=false;b.push(["Background","b_bbody",a,a,a,"getBackgroundMenu",[]]);b.push(["Border","dps_square",a,a,a,"getCanvasBorderMenu",[]]);b.push(["Color","at_col",a,a,a,"getColorsMenu",[]]);b.push(["Font","ch_oaa",a,a,a,"getFontsMenu",[]]);b.push(["Gradients","b_grvt",a,a,a,"getGradientsMenu",[]]);if(!this.yW()&&!this.is3DPlot){b.push(["Graph Orientation","gc_goverticalhorizontal",a,a,a,"getGraphOrientationMenu",[]])}b.push(["Graph Type","ly_doe",a,a,a,"getGraphTypeMenu",[]]);if(!this.is3DPlot&&(this.data.x||this.data.z)){b.push(["Layout","ly_segregate",a,a,a,"getLayoutMenu",[]])}b.push(["Margins","mr_all",a,a,a,"getMarginsMenu",[]]);b.push(["Shadows","at_shd",a,a,a,"getShadesMenu",[]]);b.push(["Theme","at_sch",a,a,a,"getThemeMenu",[]]);b.push(["Transparency","at_trn",a,a,a,"changeTextColorAttributeMenu",["-text-","transparency"]]);return b};this.dH=function(){var b=[];for(var a=0;a<this.data.y.smps.length;a++){b.push([this.data.y.smps[a],"sl_radiooff","switchSmpToAnnotation",[this.data.y.smps[a]]])}return b};this.v7=function(){var c=[];var b=this.Z7(this.data.z);for(var a=0;a<b.length;a++){if(this.meta.data.z[b[a]]){c.push([b[a],"sl_radiooff","switchAnnotationToSmp",[b[a]]])}}return c};this.iE=function(){var c=[];var a=this.Z7(this.data.x);for(var b=0;b<a.length;b++){if(this.meta.data.x[a[b]].unique){c.push([a[b],"sl_radiooff","switchSmpAnnotationToId",[a[b]]])}}return c};this.TV=function(){var a=[];for(var b=0;b<this.data.y.vars.length;b++){a.push([this.data.y.vars[b],"sl_radiooff","switchVarToAnnotation",[this.data.y.vars[b]]])}return a};this.Fl=function(){var b=[];var a=this.Z7(this.data.x);for(var c=0;c<a.length;c++){if(this.meta.data.x[a[c]]){b.push([a[c],"sl_radiooff","switchAnnotationToVar",[a[c]]])}}return b};this.su=function(){var c=[];var b=this.Z7(this.data.z);for(var a=0;a<b.length;a++){if(this.meta.data.z[b[a]].unique){c.push([b[a],"sl_radiooff","switchVarAnnotationToId",[b[a]]])}}return c};this.lb=function(){var a=[];var b=false;a.push(["Sample to Annotation","sw_down",b,b,b,"getSwitchSmpToAnnotationMenu",[]]);if(this.data.z){a.push(["Annotation to Sample","sw_up",b,b,b,"getSwitchAnnotationToSmpMenu",[]])}if(this.data.x&&this.gk("s")){a.push(["Annotation to Id","sw_updown",b,b,b,"getSwitchSmpAnnotationToIdMenu",[]])}a.push(["Create New Sample Id","op_more","switchSmpIdToAnnotation",[]]);return a};this.xt=function(){var a=[];var b=false;a.push(["Variable to Annotation","sw_down",b,b,b,"getSwitchVarToAnnotationMenu",[]]);if(this.data.x){a.push(["Annotation to Variable","sw_up",b,b,b,"getSwitchAnnotationToVarMenu",[]])}if(this.data.z&&this.gk("v")){a.push(["Annotation to Id","sw_updown",b,b,b,"getSwitchVarAnnotationToIdMenu",[]])}a.push(["Create New Variable Id","op_more","switchVarIdToAnnotation",[]]);return a};this.JP=function(){var a=[];var b=false;a.push(["Samples","ch_ls",b,b,b,"getSwitchSamplesMenu",[]]);a.push(["Variables","ch_lv",b,b,b,"getSwitchVariablesMenu",[]]);return a};this.Pu=function(f,b){var d=[];var e=this.Z7(this.data[f]);for(var a=0;a<e.length;a++){if(this.meta.data[f][e[a]]&&this.meta.data[f][e[a]].type=="Numeric"){d.push([e[a],"sl_radiooff","switchNumericToString",[e[a],b]])}}return d};this.B5=function(f,b){var d=[];var e=this.Z7(this.data[f]);for(var a=0;a<e.length;a++){if(this.meta.data[f][e[a]]&&this.meta.data[f][e[a]].type!="Numeric"){d.push([e[a],"sl_radiooff","switchStringToNumeric",[e[a],b]])}}return d};this.VF=function(e,a){var d=[];var b=false;if(this.Yi(a)){d.push(["Numeric to String","tx_tostring",b,b,b,"getConvertNumericToStringMenu",[e,a=="s"]])}if(this.sG(a)){d.push(["String to Numeric","tx_tonumeric",b,b,b,"getConvertStringToNumericMenu",[e,a=="s"]])}return d};this.oG=function(){var b=[];var a=false;if(this.data.x){b.push(["Samples","ch_ls",a,a,a,"getConvertVarSmpMenu",["x","s"]])}if(this.data.z){b.push(["Variables","ch_lv",a,a,a,"getConvertVarSmpMenu",["z","v"]])}return b};this.aN=function(){var a=[];a.push(["By Sample","ch_ls","transform",["percentile","samples"]]);a.push(["By Variable","ch_lv","transform",["percentile","variables"]]);return a};this.mr=function(){var a=[];a.push(["By Sample","ch_ls","transform",["zscore","samples"]]);a.push(["By Variable","ch_lv","transform",["zscore","variables"]]);return a};this.aX=function(){var b=[];var a=false;b.push(["To Sample","ch_ls",a,a,a,"getTransformRatioSmpMenu",[]]);if(this.data.x&&this.isGroupedData){b.push(["To Group","ch_lg",a,a,a,"getTransformRatioGrpMenu",[]]);if(this.ratioGroupReference&&this.data.x.hasOwnProperty(this.ratioGroupReference)){b.push(["To Level","ch_ll",a,a,a,"getTransformRatioLevMenu",[]])}}return b};this.nN=function(){var c=[];var a=this.Z7(this.l4(this.data.x[this.ratioGroupReference]));for(var b=0;b<a.length;b++){if(a[b]!=null){c.push([a[b],this.ratioLevelReference==a[b]?"sl_radioon":"sl_radiooff","modifyTransformRatio",["level",a[b]]])}}return c};this.y4=function(){var b=[];var a=this.Z7(this.data.x);for(var c=0;c<a.length;c++){b.push([a[c],this.ratioGroupReference==a[c]?"sl_radioon":"sl_radiooff","modifyTransformRatio",["group",a[c]]])}return b};this.X5=function(){var c=[];for(var a=0;a<this.data.y.smps.length;a++){var b=this.data.y.smps[a];c.push([b,this.ratioSampleReference==b?"sl_radioon":"sl_radiooff","modifyTransformRatio",["sample",b]])}return c};this.jH=function(){var b=[];if(this.isDOE){b.push(["Log Base 2","ch_olog2","changeAttribute",["transformType","log2"]]);b.push(["Log Base 10","ch_olog10","changeAttribute",["transformType","log10"]]);b.push(["Neg Log Base 2","ch_onlog2","changeAttribute",["transformType","-log2"]]);b.push(["Neg Log Base 10","ch_onlog10","changeAttribute",["transformType","-log10"]]);b.push(["Exp Base 2","ch_oe2","changeAttribute",["transformType","exp2"]]);b.push(["Exp Base 10","ch_oe10","changeAttribute",["transformType","exp10"]]);b.push(["SQRT","ch_osqrt","changeAttribute",["transformType","sqrt"]]);b.push(["Reset","op_refresh","changeAttribute",["transformType","reset"]])}else{var a=false;b.push(["Log Base 2","ch_olog2","transform",["log2"]]);b.push(["Log Base 10","ch_olog10","transform",["log10"]]);b.push(["Neg Log Base 2","ch_onlog2","transform",["-log2"]]);b.push(["Neg Log Base 10","ch_onlog10","transform",["-log10"]]);b.push(["Exp Base 2","ch_oe2","transform",["exp2"]]);b.push(["Exp Base 10","ch_oe10","transform",["exp10"]]);b.push(["SQRT","ch_osqrt","transform",["sqrt"]]);b.push(["Ceil data","ch_oceil",a,a,a,"changeTextColorAttributeMenu",["-text-",[a,"modifyTransform",["tceil"]]]]);b.push(["Floor data","ch_ofloor",a,a,a,"changeTextColorAttributeMenu",["-text-",[a,"modifyTransform",["tfloor"]]]]);b.push(["Factor data","v_cancel2",a,a,a,"changeTextColorAttributeMenu",["-text-",[a,"modifyTransform",["tfactor"]]]]);b.push(["Percentile","ch_spercent",a,a,a,"getTransformPercentMenu",[]]);b.push(["Z-Score","ch_lz",a,a,a,"getTransformZScoreMenu",[]]);b.push(["Ratio","ch_lr",a,a,a,"getTransformRatioMenu",[]]);b.push(["-"]);b.push(["Reset","op_refresh","transform",["reset"]]);b.push(["-"]);b.push(["Overwrite data","sv_disk","transform",["save"]])}return b};this.bB=function(b){var c=[];b=b.toLowerCase();c.push(["Log Base 2","ch_olog2","changeAttribute",[b+"AxisTransform","log2"]]);c.push(["Log Base 10","ch_olog10","changeAttribute",[b+"AxisTransform","log10"]]);c.push(["Neg Log Base 2","ch_onlog2","changeAttribute",[b+"AxisTransform","-log2"]]);c.push(["Neg Log Base 10","ch_onlog10","changeAttribute",[b+"AxisTransform","-log10"]]);c.push(["Exp Base 2","ch_oe2","changeAttribute",[b+"AxisTransform","exp2"]]);c.push(["Exp Base 10","ch_oe10","changeAttribute",[b+"AxisTransform","exp10"]]);c.push(["SQRT","ch_osqrt","changeAttribute",[b+"AxisTransform","sqrt"]]);c.push(["Percentile","ch_spercent","changeAttribute",[b+"AxisTransform","percentile"]]);c.push(["-"]);c.push(["Reset","op_refresh","changeAttribute",[b+"AxisTransform",false]]);return c};this.jW=function(){var c=[];var a={};if(this.sortingSamples){for(var b=0;b<this.sortingSamples.length;b++){a[this.sortingSamples[b]]=true}}for(var b=0;b<this.data.y.smps.length;b++){c.push([this.data.y.smps[b],a[this.data.y.smps[b]]?"sl_checkboxon":"sl_checkboxoff","modifySort",["smp","var",this.data.y.smps[b]]])}return c};this.X7=function(){var c=[];var a={};if(this.sortingVariables){for(var b=0;b<this.sortingVariables.length;b++){a[this.sortingVariables[b]]=true}}for(var b=0;b<this.data.y.vars.length;b++){c.push([this.data.y.vars[b],a[this.data.y.vars[b]]?"sl_checkboxon":"sl_checkboxoff","modifySort",["var","smp",this.data.y.vars[b]]])}return c};this.Wf=function(){var d=[];var b={};var a=this.Z7(this.data.x);if(this.sortingSampleCategories){for(var c=0;c<this.sortingSampleCategories.length;c++){b[this.sortingSampleCategories[c]]=true}}for(var c=0;c<a.length;c++){d.push([a[c],b[a[c]]?"sl_checkboxon":"sl_checkboxoff","modifySort",["cat","smp",a[c]]])}return d};this.ka=function(){var d=[];var a={};var c=this.Z7(this.data.z);if(this.sortingVariableCategories){for(var b=0;b<this.sortingVariableCategories.length;b++){a[this.sortingVariableCategories[b]]=true}}for(var b=0;b<c.length;b++){d.push([c[b],a[c[b]]?"sl_checkboxon":"sl_checkboxoff","modifySort",["cat","var",c[b]]])}return d};this.x0=function(){var a=[];var b=false;a.push(["By Variable Intensity","ch_lv",b,b,b,"getSortVarIntensityMenu",[]]);if(this.data.x){a.push(["By Sample Category","ch_lx",b,b,b,"getSortSmpCatMenu",[]])}a.push(["By Name","ch_ls","modifySort",[false,"smp","samples"]]);return a};this.q7=function(){var a=[];var b=false;a.push(["By Sample Intensity","ch_ls",b,b,b,"getSortSmpIntensityMenu",[]]);if(this.data.z){a.push(["By Variable Category","ch_lz",b,b,b,"getSortVarCatMenu",[]])}a.push(["By Name","ch_lv","modifySort",[false,"var","variables"]]);return a};this.WQ=function(){var a=[];a.push(["Samples","ch_ls","changeAttribute",["sortDir",this.sortDir,true,"modifySort",[this.isGroupedData?"grpIndex":"smpIndex"]]]);a.push(["Variables","ch_lv","changeAttribute",["sortDir",this.sortDir,true,"modifySort",["varIndex"]]]);return a};this.j6=function(){var a=[];if(this.isDOE){a.push(["Sort string","sr_az","changeAttribute",["sortType","String"]]);a.push(["Sort numeric","sr_19","changeAttribute",["sortType","Numeric"]])}else{var b=false;a.push(["Change Sort","sr_azi",b,b,b,"getSortChangeMenu",[]]);a.push(["Case Sensitive",this.sortCaseSensitive?"sl_checkboxon":"sl_checkboxoff","toggleAttribute",["sortCaseSensitive","modifySort",["both"]]]);a.push(["-"]);a.push(["Sort Samples","ch_ls",b,b,b,"getSortSmpMenu",[]]);a.push(["Sort Variables","ch_lv",b,b,b,"getSortVarMenu",[]])}return a};this.C0=function(){var c=[];if(this.Gl()){var a=this.data.x?this.Z7(this.data.x):[];if(this.data.y.vars.length==3){var d=this.data.y.vars;c.push([d[0]+" as Variables; "+d[1]+" as Samples","sl_radiooff","pivotYY",[d[0],d[1]]]);c.push([d[0]+" as Variables; "+d[2]+" as Samples","sl_radiooff","pivotYY",[d[0],d[2]]]);c.push([d[1]+" as Variables; "+d[0]+" as Samples","sl_radiooff","pivotYY",[d[1],d[0]]]);c.push([d[1]+" as Variables; "+d[2]+" as Samples","sl_radiooff","pivotYY",[d[1],d[2]]]);c.push([d[2]+" as Variables; "+d[0]+" as Samples","sl_radiooff","pivotYY",[d[2],d[0]]]);c.push([d[2]+" as Variables; "+d[1]+" as Samples","sl_radiooff","pivotYY",[d[2],d[1]]])}else{if(this.data.y.vars.length==2){var d=this.data.y.vars;c.push([a[0]+" as Variables; "+d[0]+" as Samples","sl_radiooff","pivotXY",[a[0],d[0]]]);c.push([a[0]+" as Variables; "+d[1]+" as Samples","sl_radiooff","pivotXY",[a[0],d[1]]]);c.push([d[0]+" as Variables; "+a[0]+" as Samples","sl_radiooff","pivotXY",[d[0],a[0]]]);c.push([d[1]+" as Variables; "+a[0]+" as Samples","sl_radiooff","pivotXY",[d[1],a[0]]])}else{if(a.length==2){c.push([a[0]+" as Variables; "+a[1]+" as Samples","sl_radiooff","pivotXX",[a[0],a[1]]]);c.push([a[1]+" as Variables; "+a[0]+" as Samples","sl_radiooff","pivotXX",[a[1],a[0]]])}}}for(var b=0;b<a.length;b++){if(this.meta.data.x[a[b]].type=="String"){c.push(["Pivot on "+a[b],"sl_radiooff","pivotX",[a[b]]])}}}return c};this.M6=function(d){var a=[];if(CanvasXpress.Rdatasets){var c=this.Z7(CanvasXpress.Rdatasets[d]);c=c.sort(function(f,e){return f.toLowerCase()>e.toLowerCase()});for(var b=0;b<c.length;b++){a.push([c[b],"sl_radiooff","getRLibraryDataSets",[d,c[b]]])}}return a};this.yz=function(){var b=[];if(CanvasXpress.Rdatasets){var d=this.Z7(CanvasXpress.Rdatasets);d=d.sort(function(f,e){return f.toLowerCase()>e.toLowerCase()});for(var c=0;c<d.length;c++){var a="ch_l"+d[c].charAt(0).toLowerCase();b.push([d[c],a,false,false,false,"getRdatasetsMenuURLs",[d[c]]])}}return b};this.Tt=function(){var a=[];var b=false;a.push(["R library Summaries","tb_table","getRLibrarySummary",[]]);a.push(["Select R Library","c_r",b,b,b,"getRdatasetsMenuLibraries",[]]);return a};this.gL=function(){var a=[];var b=false;a.push(["Set Min","dtp_min",b,b,b,"changeTextColorAttributeMenu",["-text-","setMinX"]]);a.push(["Set Max","dtp_max",b,b,b,"changeTextColorAttributeMenu",["-text-","setMaxX"]]);a.push(["Exact Range","dtp_exact","toggleAttribute",["xAxisExact"]]);return a};this.xY=function(){var c=[];var b=["mean","median","min","max","sum","count"];c.push(["Raw",!this.summaryType||this.summaryType=="raw"?"sl_radioon":"sl_radiooff","modifySummaryType",["raw"]]);for(var a=0;a<b.length;a++){c.push([this.Y5(b[a]),this.summaryType==b[a]?"sl_radioon":"sl_radiooff","modifySummaryType",[b[a]]])}return c};this.kq=function(){var b=this.graphType.match(/Area|Gantt/)||(this.graphType=="Circular"&&this.circularType=="sunburst");var a=[];var c=false;if((this.data.x||this.data.z)&&!this.isDOE){a.push(["Convert Annotations","tx_stringnumeric",c,c,c,"getConvertMenu",[]])}if(this.s9()&&!this.isDOE){a.push(["Range","dtp_range",c,c,c,"getRangeMenu",[]])}if(!b&&!this.isDOE){a.push(["Summary Type","ch_ssum",c,c,c,"getSummaryTypeMenu",[]])}if(!this.isDOE){a.push(["Switch Data","sw_updown",c,c,c,"getSwitchMenu",[]])}if(!this.graphType.match(/Scatter/i)){a.push(["Sort","sr_azi",c,c,c,"getSortMenu",[]])}if(!b){a.push(["Transform","ch_ofx",c,c,c,"getTransformMenu",[]])}if(!this.layoutValid&&!this.showIdeogram){a.push(["Transpose","dtt_transpose","transpose"])}if(this.Gl()&&!this.isPivot&&!b&&!this.isDOE){a.push(["Pivot","dtt_pivot",c,c,c,"getPivotMenu",[]])}else{if(this.isPivot&&!b&&!this.isDOE){a.push(["Remove Pivot","dtt_pivotremove","removePivot"])}}if(!this.layoutValid&&!b&&!this.isDOE&&!this.graphType.match(/Circular/)){a.push(["Bin Data","dt_hist",c,c,c,"getBinDataMenu",[]])}return a};this.Qb=function(){var a=[["Gaussian",this.loessFamily=="gaussian"?"sl_radioon":"sl_radiooff","changeAttribute",["loessFamily","gaussian"]],["Symmetric",this.loessFamily=="symmetric"?"sl_radioon":"sl_radiooff","changeAttribute",["loessFamily","symmetric"]]];return a};this.xE=function(){var a=[["Approximate",this.loessStatistics=="approximate"?"sl_radioon":"sl_radiooff","changeAttribute",["loessStatistics","approximate"]],["Exact",this.loessStatistics=="exact"?"sl_radioon":"sl_radiooff","changeAttribute",["loessStatistics","exact"]]];return a};this.CP=function(){var a=[["Interpolate",this.loessSurface=="interpolate"?"sl_radioon":"sl_radiooff","changeAttribute",["loessSurface","interpolate"]],["Direct",this.loessSurface=="direct"?"sl_radioon":"sl_radiooff","changeAttribute",["loessSurface","direct"]]];return a};this.Wh=function(){var a=[];var b=false;a.push([this.showConfidenceIntervals?"Hide Confidence":"Show Confidence",this.showConfidenceIntervals?"sl_eclose":"sl_eopen","toggleAttribute",["showConfidenceIntervals"]]);a.push(["Statistics","ch_of",b,b,b,"getLoessStatisticsMenu",[]]);a.push(["Surface","ch_ls",b,b,b,"getLoessSurfaceMenu",[]]);a.push(["Family","cr_normal",b,b,b,"getLoessFamilyMenu",[]]);a.push(["Span","ar_v",b,b,b,"changeTextColorAttributeMenu",["-text-","loessSpan"]]);a.push(["Normalize",this.loessNormalize?"sl_checkboxon":"sl_checkboxoff","toggleAttribute",["loessNormalize"]]);a.push(["Degree","ch_ld",b,b,b,"changeTextColorAttributeMenu",["-text-","loessDegree"]]);a.push(["Iterations","ch_li",b,b,b,"changeTextColorAttributeMenu",["-text-","loessIterations"]]);a.push(["Cell","ch_lc",b,b,b,"changeTextColorAttributeMenu",["-text-","loessCell"]]);a.push([this.showLoessFit?"Hide Loess Fit":"Show Loess Fit",this.showLoessFit?"sl_eclose":"sl_eopen","toggleAttribute",["showLoessFit"]]);return a};this.eT=function(){var a=[];a.push([this.showQuantileRegressionFit?"Hide Quantile Regression Fit":"Show Quantile Regression Fit",this.showQuantileRegressionFit?"sl_eclose":"sl_eopen","toggleAttribute",["showQuantileRegressionFit"]]);return a};this.NG=function(){var b=["gaussian","rectangular","triangular","epanechnikov","quartic","biweight","cosine","optcosine"];var a=[];for(var c=0;c<b.length;c++){a.push([b[c],b[c]==this.densityKernel?"sl_radioon":"sl_radiooff","changeAttribute",["densityKernel",b[c],false,"modifyHistogram"]])}return a};this.BD=function(){var a=[];a.push(["Solid","ln_stylesolid","changeAttribute",["histogramMedianLineType","solid","modifyHistogram"]]);a.push(["Dotted","ln_styledotted","changeAttribute",["histogramMedianLineType","dotted","modifyHistogram"]]);a.push(["Dashed","ln_styledashed","changeAttribute",["histogramMedianLineType","dashed","modifyHistogram"]]);return a};this.d0=function(){var a=[["Dodged",this.histogramType=="dodged"?"sl_radioon":"sl_radiooff","changeAttribute",["histogramType","dodged",false,"modifyHistogram"]],["Staggered",this.histogramType=="staggered"?"sl_radioon":"sl_radiooff","changeAttribute",["histogramType","staggered",false,"modifyHistogram"]],["Stacked",this.histogramType=="stacked"?"sl_radioon":"sl_radiooff","changeAttribute",["histogramType","stacked",false,"modifyHistogram"]]];return a};this.vd=function(){var a=[["Count",this.histogramStat=="count"?"sl_radioon":"sl_radiooff","changeAttribute",["histogramStat","count",false,"modifyHistogram"]],["Density",this.histogramStat=="density"?"sl_radioon":"sl_radiooff","changeAttribute",["histogramStat","density",false,"modifyHistogram"]]];return a};this.Zk=function(){var a=[["Normal",this.densityPosition=="normal"?"sl_radioon":"sl_radiooff","changeAttribute",["densityPosition","normal",false,"modifyHistogram"]],["Stacked",this.densityPosition=="stacked"?"sl_radioon":"sl_radiooff","changeAttribute",["densityPosition","stacked",false,"modifyHistogram"]],["Filled",this.densityPosition=="filled"?"sl_radioon":"sl_radiooff","changeAttribute",["densityPosition","filled",false,"modifyHistogram"]]];return a};this.DY=function(){var b=[];var a=false;b.push(["Bin Number","ch_snumber",a,a,a,"changeTextColorAttributeMenu",["-text-",["histogramBins","modifyHistogram"]]]);b.push(["Bin Width","sp_thickness",a,a,a,"changeTextColorAttributeMenu",["-text-",["histogramBinWidth","modifyHistogram"]]]);b.push(["Density Kernel","dt_denfit",a,a,a,"getHistogramDensityMenu",[]]);b.push(["Density Position","ch_lp",a,a,a,"getHistogramDensityPositionMenu",[]]);b.push(["Remove Histogram","dt_histremove","removeHistogram"]);b.push([this.showHistogramBars?"Hide Histogram Bars":"Show Histogram Bars",this.showHistogramBars?"sl_eclose":"sl_eopen","toggleAttribute",["showHistogramBars","modifyHistogram"]]);b.push([this.showHistogramPath?"Hide Histogram Path":"Show Histogram Path",this.showHistogram?"sl_eclose":"sl_eopen","toggleAttribute",["showHistogramPath","modifyHistogram"]]);b.push([this.histogramRight?"Right":"Left",this.histogramRight?"ps_right":"ps_left","toggleAttribute",["histogramRight","modifyHistogram"]]);b.push([this.histogramLowest?"Include Lowest":"Exclude Lowest",this.histogramLowest?"sl_radioon":"sl_radiooff","toggleAttribute",["histogramLowest","modifyHistogram"]]);b.push(["Histogram Type","dt_histstag",a,a,a,"getHistogramTypeMenu",[]]);b.push(["Histogram Stat","ch_of",a,a,a,"getHistogramStatMenu",[]]);b.push([this.showHistogramDensity?"Hide Density":"Show Density",this.showHistogramDensity?"sl_eclose":"sl_eopen","toggleAttribute",["showHistogramDensity","modifyHistogram"]]);b.push([this.showFilledHistogramDensity?"Hide Filled Density":"Show Filled Density",this.showFilledHistogramDensity?"sl_eclose":"sl_eopen","toggleAttribute",["showFilledHistogramDensity","modifyHistogram"]]);b.push(["Fill Transparency","at_trn",a,a,a,"changeTextColorAttributeMenu",["-text-",["histogramDensityFillTransparency","modifyHistogram"]]]);b.push([this.showHistogramMedian?"Hide Median":"Show Median",this.showHistogramMedian?"sl_eclose":"sl_eopen","toggleAttribute",["showHistogramMedian"]]);b.push(["Median Line Style","ln_style",a,a,a,"getHistogramMedianLineTypeMenu",[]]);return b};this.jL=function(){var d=[];if(this.data.z){var b=this.Z7(this.data.z);for(var a=0;a<b.length;a++){d.push([b[a],"sl_radiooff","createHistogram",[b[a]]])}d.push(["Single","sl_radiooff","createHistogram",[]])}else{d.push(["Show Histogram","sl_radiooff","createHistogram",[]])}return d};this.E0=function(){var a=[["Normal",this.contourType=="normal"?"sl_radioon":"sl_radiooff","changeAttribute",["contourType","normal"]],["Raster",this.contourType=="raster"?"sl_radioon":"sl_radiooff","changeAttribute",["contourType","raster"]],["Point",this.contourType=="point"?"sl_radioon":"sl_radiooff","changeAttribute",["contourType","point"]]];return a};this.N4=function(){var a=[["Count",this.contourStat=="count"?"sl_radioon":"sl_radiooff","changeAttribute",["contourStat","count"]],["Ndensity",this.contourStat=="ndensity"?"sl_radioon":"sl_radiooff","changeAttribute",["contourStat","ndensity"]],["Density",this.contourStat=="density"?"sl_radioon":"sl_radiooff","changeAttribute",["contourStat","density"]]];return a};this.j2=function(){var a=[];var b=false;a.push([this.showContourLevel?"Hide Contour Levels":"Show Contour Levels",this.showContourLevel?"sl_eclose":"sl_eopen","toggleAttribute",["showContourLevel"]]);a.push(["Contour Stat","ch_of",b,b,b,"getContourStatMenu",[]]);if(!this.s9()){a.push(["Number of Levels","ch_snumber",b,b,b,"changeTextColorAttributeMenu",["-text-","contourLevelNumber"]]);a.push(["Bin Width","dt_denfit",b,b,b,"changeTextColorAttributeMenu",["-text-","contourLevelWidth"]]);a.push(["Contour Filled",this.contourFilled?"sl_eclose":"sl_eopen","toggleAttribute",["contourFilled"]])}a.push(["Fill Transparency","at_trn",b,b,b,"changeTextColorAttributeMenu",["-text-",["contourFilledTransparency"]]]);a.push(["Show Contour Bands",this.showContourBands?"sl_eclose":"sl_eopen","toggleAttribute",["showContourBands"]]);a.push(["Bands Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","contourBandsColor"]]);if(!this.s9()){a.push(["Show Data Points",this.showContourDataPoints?"sl_eclose":"sl_eopen","toggleAttribute",["showContourDataPoints"]]);a.push(["Data Points Color","at_col",b,b,b,"changeTextColorAttributeMenu",["-color-","scatterDataPointsColor"]]);a.push(["Contour Type","ch_lt",b,b,b,"getContourTypeMenu",[]])}a.push(["Contour Color Scheme","at_palette",b,b,b,"getColorSpectrumSchemeMenu",["contourColorScheme","Contour"]]);a.push(["Remove Contour","dt_contourremove","removeContour"]);return a};this.Mu=function(){var d=[];if(this.data.z&&!this.s9()){var b=this.Z7(this.data.z);for(var a=0;a<b.length;a++){d.push([b[a],"sl_radiooff","modifyContour",[b[a]]])}d.push(["Single","sl_radiooff","modifyContour",[]])}else{d.push(["Show Contour","sl_radiooff","modifyContour",[]])}return d};this.XE=function(){var e=[];var d=this.data.l.graphType.match(/Scatter|Map/)?this.Nv(this.data.z):this.Nv(this.data.x);var g=this.data.l.graphType.match(/Scatter|Map/)?this.data.y.smps:this.data.y.vars;var b=this.l4(this.includeDOE);var f=[];for(var c=0;c<d.length;c++){e.push([d[c],b[d[c]]?"sl_checkboxon":"sl_checkboxoff","modifyDOE",[d[c]]]);f.push(d[c])}if(this.extendedDOE){var a=Math.min(g.length,this.maxSubMenus);for(var c=0;c<a;c++){e.push([g[c],b[g[c]]?"sl_checkboxon":"sl_checkboxoff","modifyDOE",[g[c]]]);f.push(g[c])}}e.push(["Add All",b[g[c]]?"sl_checkboxon":"sl_checkboxoff","modifyDOE",[f]]);return e};this.jc=function(){var a=[];var e=this.layoutCurrent;var b=this.layoutConfig[e]&&this.layoutConfig[e].graphType?this.layoutConfig[e].graphType:this.data.l.type[e];var d=false;if(e){a.push(["Graph Type","ly_doe",d,d,d,"getDOEGraphTypeMenu",[]]);a.push(["Graph Size","ar_minmax",d,d,d,"getDOEGraphSizeMenu",[]]);if(b=="Scatter"){a.push(["Axes","p_g2axes",d,d,d,"getDOEAxesMenu",[]])}}else{a.push(["Graph Size","ar_minmax",d,d,d,"getDOEGraphSizeMenu",[]])}return a};this.AZ=function(){var b=this.layoutCurrent;var a=[];if(this.data.l.type[b].match(/Pie|Treemap|Meter/)){a.push(["Pie Chart","g_pie","updateDOEGraphType",["Pie"]]);a.push(["Treemap","g_treemap","updateDOEGraphType",["Treemap"]]);a.push(["Meter","g_meter","updateDOEGraphType",["Meter"]]);a.push(["Table","tb_table","updateDOEGraphType",["Table"]])}else{a.push(["Bar","g_bar","updateDOEGraphType",["Bar"]]);a.push(["Dotplot","g_dotplot","updateDOEGraphType",["Dotplot"]]);a.push(["Line","g_line","updateDOEGraphType",["Line"]]);a.push(["Scatter 2D","g_scatter2d","updateDOEGraphType",["Scatter"]]);a.push(["Histogram","g_histogram","updateDOEGraphType",["Scatter2D"]]);a.push(["Table","tb_table","updateDOEGraphType",["Table"]])}return a};this.I8=function(){var f=[];var h=this.layoutCurrent;var a=this.layoutConfig[h]&&this.layoutConfig[h].size?this.layoutConfig[h].size:"1X1";var g=this.layout.split("X");for(var e=0;e<g[0];e++){for(var d=0;d<g[1];d++){var b=(e+1)+"X"+(d+1);f.push([b,a==b?"sl_radioon":"sl_radiooff","updateDOEGraphSize",[b]])}}return f};this.kN=function(){var d=[];for(var c=2;c<5;c++){for(var b=2;b<5;b++){var a=c+"X"+b;d.push([a,this.layoutTopology==a?"sl_radioon":"sl_radiooff","modifyDOE",["layout",a]])}}return d};this.AD=function(){var b=[];var a=false;b.push(["X-Axis","p_g2axisx",a,a,a,"getDOEAxisMenu",["x"]]);b.push(["Y-Axis","p_g2axisy",a,a,a,"getDOEAxisMenu",["y"]]);return b};this.ry=function(b){var a=false;return[["Series","ch_ls",a,a,a,"getDOEAxisSeriesMenu",[b]]]};this.YF=function(b){var k=[];var e=this.Z7(this.yW()?this.data.z:this.data.x);var f=this.layoutCurrent;var h=this.yW()?this.data.z:this.data.x;var a=this.layoutConfig[f]&&this.layoutConfig[f].xAxis?this.layoutConfig[f].xAxis:this.data.l.smps[f][0];var g=this.layoutConfig[f]&&this.layoutConfig[f].yAxis?this.layoutConfig[f].yAxis:this.data.l.smps[f][0];var j=b=="x"?(h.hasOwnProperty(a)?a:(this.yW()?this.data.y.smps[a]:this.data.y.vars[a])):(h.hasOwnProperty(g)?g:(this.yW()?this.data.y.smps[g]:this.data.y.vars[g]));for(var d=0;d<e.length;d++){if(this.meta.data[this.yW()?"z":"x"][e[d]].type=="Numeric"){k.push([e[d],e[d]==j?"sl_radioon":"sl_radiooff","updateDOEAxis",[b,e[d]]])}}if(k.length){k.push(["-"])}if(this.yW()){for(var d=0;d<this.data.y.smps.length;d++){k.push([this.data.y.smps[d],this.data.y.smps[d]==j?"sl_radioon":"sl_radiooff","updateDOEAxis",[b,d]])}}else{for(var d=0;d<this.data.y.vars.length;d++){k.push([this.data.y.vars[d],this.data.y.vars[d]==j?"sl_radioon":"sl_radiooff","updateDOEAxis",[b,d]])}}return k};this.eY=function(){var e=[];var d=false;if(this.graphType=="Scatter2D"){if(this.data.z){var c=this.Z7(this.data.z);for(var b=0;b<c.length;b++){e.push([c[b],this.showRegressionFit==c[b]?"sl_radioon":"sl_radiooff","createRegression",[false,c[b]]])}}e.push(["All data",this.showRegressionFit===true?"sl_radioon":"sl_radiooff","createRegression",[false]])}else{if(this.data.x){var a=this.Z7(this.data.x);for(var b=0;b<a.length;b++){if(this.meta.data.x[a[b]].type=="Numeric"){e.push([a[b],this.showRegressionFit==a[b]?"sl_radioon":"sl_radiooff","createRegression",[true,a[b]]])}}}if(this.data.z){var c=this.Z7(this.data.z);for(var b=0;b<c.length;b++){if(this.meta.data.z[c[b]].type=="Numeric"){e.push([c[b],this.showRegressionFit==c[b]?"sl_radioon":"sl_radiooff","createRegression",[false,c[b]]])}}}e.push(["All data",this.showRegressionFit===true?"sl_radioon":"sl_radiooff","createRegression",[true]])}return e};this.rs=function(){var a=[];for(var b=1;b<=10;b++){a.push([(96*b)+" DPI",this.printMagnification==b?"sl_radioon":"sl_radiooff","changeAttributeNoDraw",["printMagnification",b]])}return a};this.fe=function(){var a=[];a.push(["Load Parameters","cd_upload",true,[]]);a.push(["Save as JSON","sv_diskjson","save",[false,"cX-"+this.target+"-param",true]]);return a};this.os=function(){var a=[];var b=false;a.push(["Reproducible Research code","c_rrcode","clickRepResearch",[]]);a.push(["Show JSON code","cd_json","clickShowCode",[]]);a.push(["Show R code","c_rcode","clickShowRCode",[]]);a.push(["Show Python code","c_python","clickShowPythonCode",[]]);a.push(["Show Jupyter code","c_jupyter","clickShowPythonCode",[false,true]]);a.push(["Show Streamlit code","c_streamlit","clickShowPythonCode",[false,false,true]]);a.push(["Show Shiny for Python code","c_shiny","clickShowPythonCode",[false,false,false,true]]);a.push(["Show English code","op_chat2","clickShowEnglishCode",[],CanvasXpress.system.control+" + "+CanvasXpress.system.alt+" + E"]);a.push(["Show Meta data","cd_params","clickShowMetaCode",[]]);if(!this.motionBy){a.push(["Reproduce","op_redo","reproduce",[b],CanvasXpress.system.control+" + "+CanvasXpress.system.alt+" + R"]);a.push(["Replay","sv_video","reproduce",[b,true],CanvasXpress.system.shift+" + "+CanvasXpress.system.control+" + R"]);a.push(["Print Sequence","sv_pictures","reproduce",[b,b,true],CanvasXpress.system.shift+" + "+CanvasXpress.system.control+" + P"])}a.push(["-"]);return a};this.cU=function(){var a=[];var b=false;a.push(["Save as PNG","sv_image","print",[],CanvasXpress.system.control+" + P"]);if(!this.graphType.match(/Venn|TagCloud|Map/)){a.push(["Save as SVG","sv_svg","saveSVG",[]])}a.push(["Save as JSON","sv_diskjson","save",[],CanvasXpress.system.control+" + S"]);if(this.isEditable){a.push(["Edit in JS Fiddle","c_jsfiddle","editJSFiddle",[]]);a.push(["Edit in CodePen","c_codepen","editCodePen",[]])}a.push(["Print Magnification","z_zoom",b,b,b,"getMagnificationMenu",[]]);a.push(["-"]);a.push(["Reproducible Research","c_rr",b,b,b,"getReproducibleResearchMenu",[]]);a.push(["-"]);a.push(["Load","cd_upload",true,[]]);a.push(["-"]);a.push(["Parameters","wp_configuration",b,b,b,"getParametersMenu",[]]);a.push(["-"]);if(CanvasXpress.Rdatasets){a.push(["R Datasets","c_r",b,b,b,"getRdatasetsMenu",[]])}else{a.push(["Load R Datasets","c_r","getRDatasets",[]])}a.push([(this.loadLLMDatasets?"Unload LLM Datasets":"Load LLM Datasets"),(this.loadLLMDatasets?"wp_configuration":"wp_code"),"getLLMDatasets",[]]);a.push(["Load Map","g_map",b,b,b,"getMapsMenu",[]]);a.push(["-"]);a.push(["Reset","op_refresh","masterReset",[],"ESC"]);a.push(["Hard Reset","op_redo","replot",[false,false,true],CanvasXpress.system.shift+" ESC"]);return a};this.PA=function(){var a=this.l4(CanvasXpress.graphTypes.OneDGraphs);var c=[];if(!this.showRegressionFit&&!this.isDOE){if(a[this.graphType]&&!this.is3DPlot&&!this.graphType.match(/Treemap|Gantt/)&&!this.isContour&&this.segregateSamplesBy.length+this.segregateVariablesBy.length==0){if(this.data.x||this.extendedDOE){c.push(["Explore Meta-Data","ly_doe","createDOE"])}}else{if(this.graphType=="Scatter2D"){var b=this.decorations&&this.decorations.nlfit;if((this.data.z||this.extendedDOE)&&!this.scatterPlotMatrix&&!b&&!this.dR()&&!this.np()){c.push(["Explore Meta-Data","ly_doe","createDOE"])}}else{if(this.graphType.match(/Map|Sankey|Tree/)&&!this.graphType.match(/Treemap|Gantt/)){if(this.data.z||this.extendedDOE){c.push(["Explore Meta-Data","ly_doe","createDOE"])}}}}}return c.length>0?c[0]:false};this.Zg=function(){var g=this.decorations;var e=false;var b={Bar:true,Line:true,Area:true,AreaLine:true,BarLine:true,Boxplot:true,Dotplot:true,DotLine:true,Gantt:true,Heatmap:true,Treemap:true,TagCloud:true,ParallelCoordinates:true,Sankey:true,Stacked:true,StackedLine:true,StackedPercent:true,StackedPercentLine:true};var a=[];if(this.graphType=="Map"||this.graphType=="Tree"){a.push(["Citation","p_g1citation",e,e,e,"getGraphPartMenu",["citation"]]);a.push(["Legend","lg_legend",e,e,e,"getLegendMenu",[]]);a.push(["Title / Subtitle",this.s9()?"p_ghtitlesubtitle":"p_g1titlesubtitle",e,e,e,"getTitleSubtitleMenu",[]])}else{if(b[this.graphType]&&!this.is3DPlot){if(!this.s9()){a.push(["Axes","p_g1axes",e,e,e,"getAxesMenu",[]]);a.push(["Axes Titles","p_g1axestitles",e,e,e,"getAxesTitleMenu",[]])}a.push(["Citation",this.s9()?"p_ghcitation":"p_g1citation",e,e,e,"getGraphPartMenu",["citation"]]);a.push(["General",this.s9()?"gc_ggh":"gc_gg1",e,e,e,"getGeneralMenu",[]]);if(!this.s9()){a.push(["Grid","gr_g1",e,e,e,"getPlotAreaGridMenu",["x"]]);if(this.graphType.match(/Dot/)){a.push(["Dotplot","g_dotplot",e,e,e,"getDataPointsMenu",[]])}else{if(this.graphType=="Boxplot"){a.push(["Boxplot","g_boxplot",e,e,e,"getBoxplotMenu",[]])}}a.push(["Plot Area","gc_gg1",e,e,e,"getPlotAreaOneMenu",[]]);if(g){a.push(["Decorations",g.marker?"gd_g1marker":"gd_g1line",e,e,e,"getDecorationsMenu",[]])}a.push(["Legend","lg_g1",e,e,e,"getLegendMenu",[]]);if(this.data.x){a.push(["Overlays","o_g1",e,e,e,"getOverlaysMenu",[]])}}if(this.s9()){a.push(["Indicator","i_h",e,e,e,"getIndicatorMenu",[]]);a.push(["Heatmap","g_heatmap",e,e,e,"getHeatmapMenu",[]]);if(this.data.x||this.data.z){a.push(["Overlays","o_ghsmps",e,e,e,"getOverlaysMenu",[]])}}a.push(["Sample Labels",this.s9()?"p_ghsamplelabels":"p_g1samplelabels",e,e,e,"getSmpLabelMenu",[]]);a.push(["Samples Title",this.s9()?"p_ghsampletitle":"p_g1sampletitle",e,e,e,"getGraphPartMenu",["smpTitle"]]);if(this.s9()){a.push(["Variable Labels","p_ghvariablelabels",e,e,e,"getVarLabelMenu",[]]);a.push(["Variables Title","p_ghvariabletitle",e,e,e,"getGraphPartMenu",["varTitle"]])}a.push(["Title / Subtitle",this.s9()?"p_ghtitlesubtitle":"p_g1titlesubtitle",e,e,e,"getTitleSubtitleMenu",[]])}else{if(this.graphType.match(/scatter/i)||this.is3DPlot){if(this.graphType=="Scatter3D"||this.is3DPlot){a.push(["Axes","p_g3axes",e,e,e,"getAxesMenu",[]]);a.push(["Axes Titles","p_g3axestitles",e,e,e,"getAxesTitleMenu",[]]);a.push(["Citation","p_g3citation",e,e,e,"getGraphPartMenu",["citation"]]);a.push(["General","gc_gg3",e,e,e,"getGeneralMenu",[]])}else{a.push(["Axes","p_g2axes",e,e,e,"getAxesMenu",[]]);a.push(["Axes Titles","p_g2axestitles",e,e,e,"getAxesTitleMenu",[]]);a.push(["Citation","p_g2citation",e,e,e,"getGraphPartMenu",["citation"]]);a.push(["General","gc_gg2",e,e,e,"getGeneralMenu",[]])}a.push(["Grid","gr_g2xy",e,e,e,"getPlotAreaScatterGridMenu",[]]);a.push(["Plot Area","gc_gg2",e,e,e,"getPlotAreaScatterMenu",[]]);if(g){var c=g.nlfit?"dt_cdf":g.line?"gd_g2line":g.reg?"dt_cor":g.nor?"dt_denfit":g.area?"dt_denfitfilled":g.qq?"dt_qq":g.cdf?"dt_cdf":this.isKM?"dt_km":g.marker?"gd_g2marker":"gd_g2line";a.push(["Decorations",c,e,e,e,"getDecorationsMenu",[]])}a.push(["Legend","lg_g2",e,e,e,"getLegendMenu",[]]);a.push(["Title / Subtitle","p_g2titlesubtitle",e,e,e,"getTitleSubtitleMenu",[]]);if(this.isSelectDataPoints){a.push(["Show hidden data points","sl_eopen","showHideSelectedData",[e,45],"Ctrl + Insert"]);a.push(["Hide data points","sl_eremove","showHideSelectedData",[e,46],"Ctrl + Delete"])}}}}return a};this.fg=function(){var b=[];var a=false;b.push(["Top","a_aligntop","alignDistributeSelectedNodes",[a,84]]);b.push(["Right","a_alignright","alignDistributeSelectedNodes",[a,82]]);b.push(["Bottom","a_alignbottom","alignDistributeSelectedNodes",[a,66]]);b.push(["Left","a_alignleft","alignDistributeSelectedNodes",[a,76]]);return b};this.RJ=function(){var b=[];var a=false;b.push(["Vertically","a_distributever","alignDistributeSelectedNodes",[a,86]]);b.push(["Horozontally","a_distributehor","alignDistributeSelectedNodes",[a,72]]);return b};this.cD=function(){var a=[];a.push(["Clockwise","rt_c","arrowMove",[34]]);a.push(["Clockwise - Animate","rt_c2","arrowMove",[39,true]]);a.push(["Anticlockwise","rt_ac","arrowMove",[33]]);a.push(["Anticlockwise - Animate","rt_ac2","arrowMove",[37,true]]);return a};this.jI=function(){var a=[];a.push(["Send to back","a_moveback","orderNodes",["sendNodeToBack"]]);a.push(["Send backward","a_movebackward","orderNodes",["sendNodeBackward"]]);a.push(["Bring to front","a_movefront","orderNodes",["bringNodeToFront"]]);a.push(["Bring forward","a_moveforward","orderNodes",["bringNodeForward"]]);return a};this.li=function(){var a=[];a.push(["Center","ps_center","changeAttribute",["decorationsPosition","center"]]);a.push(["Top","ps_top","changeAttribute",["decorationsPosition","top"]]);a.push(["Right","ps_right","changeAttribute",["decorationsPosition","right"]]);a.push(["Bottom","ps_bottom","changeAttribute",["decorationsPosition","bottom"]]);a.push(["Left","ps_left","changeAttribute",["decorationsPosition","left"]]);return a};this.be=function(){var d=[];var c=[];var a=this.Z7(this.meta.data.nodes);var f={x:true,y:true,z:true,width:true,height:true,community:true,decorationsXi:true,decorationsYi:true};for(var e=0;e<a.length;e++){if(this.meta.data.nodes[a[e]].type=="Numeric"&&!f[a[e]]){c.push(a[e])}}var b={};for(var e=0;e<this.decorations.length;e++){b[this.decorations[e]]=true}for(var e=0;e<c.length;e++){d.push([c[e],b[c[e]]?"sl_checkboxon":"sl_checkboxoff","modifyNetworkDecorations",[c[e]]])}return d};this.fd=function(){var a=[];a.push(["Bar","g_bar","changeAttribute",["decorationsType","bar"]]);a.push(["Heatmap","g_heatmap","changeAttribute",["decorationsType","heatmap"]]);a.push(["Pie Chart","g_pie","changeAttribute",["decorationsType","pie"]]);a.push(["Stacked","g_stacked","changeAttribute",["decorationsType","stacked"]]);return a};this.bg=function(){var b=[];var a=false;b.push(["Attributes","ch_la",a,a,a,"getNetworkDecorationAttributesMenu",[]]);b.push(["Height","sp_heightness",a,a,a,"changeTextColorAttributeMenu",["-text-","decorationsHeight"]]);b.push(["Width","sp_thickness",a,a,a,"changeTextColorAttributeMenu",["-text-","decorationsWidth"]]);b.push(["Position","ps_toloc2",a,a,a,"getNetworkDecorationsPositionMenu",[]]);b.push(["Type","ly_doe",a,a,a,"getNetworkDecorationsTypeMenu",[]]);b.push([this.showDecorations?"Hide Decorations":"Show Decorations",this.showDecorations?"sl_eclose":"sl_eopen","toggleAttribute",["showDecorations"]]);return b};this.SU=function(){var a=[];var b=false;a.push(["Nodes","n_nodes",b,b,b,"getNetworkNodeAttributesMenu",[]]);a.push(["Edges","n_edges",b,b,b,"getNetworkEdgeAttributesMenu",[]]);return a};this.vc=function(b){var d=[];var c=this.Z7(this.meta.data.nodes);for(var a=0;a<c.length;a++){if(b.match(/shape|pattern/i)){if(this.meta.data.nodes[c[a]].type=="Numeric"){continue}}d.push([c[a],this[b]==c[a]?"sl_radioon":"sl_radiooff","changeAttribute",[b,c[a]]])}return d};this.Rj=function(){var a=[];var b=false;a.push(["Color By","at_col",b,b,b,"getNetworkNodeAttributesPropertyMenu",["colorNodeBy"]]);a.push(["Shape By","at_shp",b,b,b,"getNetworkNodeAttributesPropertyMenu",["shapeNodeBy"]]);a.push(["Size By","at_sze",b,b,b,"getNetworkNodeAttributesPropertyMenu",["sizeNodeBy"]]);a.push(["Pattern By","at_pat",b,b,b,"getNetworkNodeAttributesPropertyMenu",["patternNodeBy"]]);return a};this.SJ=function(b){var d=[];var c=this.Z7(this.meta.data.edges);for(var a=0;a<c.length;a++){if(b.match(/shape|pattern/)){if(this.meta.data.edges[c[a]].type=="Numeric"){continue}}d.push([c[a],this[b]==c[a]?"sl_radioon":"sl_radiooff","changeAttribute",[b,c[a]]])}return d};this.B9=function(){var a=[];a.push(["Rectangule","sh_square","changeAttribute",["binplotShape","rectangle"]]);a.push(["Hexagon","sh_hexagon","changeAttribute",["binplotShape","hexagon"]]);a.push(["Oval","sh_oval","changeAttribute",["binplotShape","oval"]]);return a};this.Lc=function(){var c=false;var a=[];a.push(["Bin Number","ch_snumber",c,c,c,"changeTextColorAttributeMenu",["-text-","binplotBins"]]);a.push(["Bin Width","sp_thickness",c,c,c,"changeTextColorAttributeMenu",["-text-","binplotBinWidth"]]);a.push(["Shape","at_shp",c,c,c,"getBin2dShapeMenu",[]]);a.push(["Binplot Color Scheme","at_palette",c,c,c,"getColorSpectrumSchemeMenu",["binplotColorScheme","Binplot"]]);a.push([this.scatterType=="bin2d"?"Remove Bin-2d":"Show Bin-2d",this.scatterType=="bin2d"?"sl_eclose":"sl_eopen","changeAttribute",["scatterType",(this.scatterType=="bin2d"?false:"bin2d")]]);return a};this.nR=function(){var a=[];var b=false;a.push(["Color By","at_col",b,b,b,"getNetworkEdgeAttributesPropertyMenu",["colorEdgeBy"]]);a.push(["Size By","sp_thickness2",b,b,b,"getNetworkEdgeAttributesPropertyMenu",["sizeEdgeBy"]]);return a};this.KK=function(g){var b=this.l4(CanvasXpress.graphTypes.OneDGraphs);var i=this.decorations;var a=g&&this.layoutValid?this.y3(g):false;var c=false;this.layoutCurrent=a?a.idx:false;this.menu=[];if(this.graphType!="Network"){this.menu.push(["File","cd_folder",c,c,c,"getFileMenu",[]]);this.menu.push(["-"]);if(!this.isDOE&&this.graphType!="Genome"&&!this.isOncoprint&&!this.xAxisHistogramShow&&!this.yAxisHistogramShow&&this.scatterType!="visium"){var h=this.PA();if(h){this.menu.push(h);this.menu.push(["-"])}}}if(this.graphType=="Network"){if(CanvasXpress.selector.selections){this.menu.push(["Align","a_alignbottom",c,c,c,"getAlignNetworkMenu",[]]);this.menu.push(["Distribute","a_distributever",c,c,c,"getDistributeNetworkMenu",[]]);this.menu.push(["Order","a_order",c,c,c,"getOrderNetworkMenu",[]]);this.menu.push(["-"]);this.menu.push(["Show conections","g_network","showHideSelectedData",[c,36],"Ctrl + Home"]);this.menu.push(["-"]);this.menu.push(["Hide nodes","sl_eremove","showHideSelectedData",[c,46],"Ctrl + Delete"]);this.menu.push(["-"]);this.menu.push(["Layout Selected Nodes","op_refresh","recalculateLayoutSelectedNodes"])}else{this.menu.push(["File","cd_folder",c,c,c,"getFileMenu",[]]);this.menu.push(["-"]);var h=this.PA();if(h){this.menu.push(h);this.menu.push(["-"])}this.menu.push(["Legend","lg_legend",c,c,c,"getLegendMenu",[]]);this.menu.push(["-"]);this.menu.push(["Data Point Properties","at_colshpsze",c,c,c,"getNetworkNodeEdgeAttributesMenu",[]]);this.menu.push(["-"]);this.menu.push(["Decorations","wp_installation",c,c,c,"getNetworkDecorationsMenu",[]]);this.menu.push(["Color","at_col",c,c,c,"getColorsMenu",[]]);if(!this.networkVendor){this.menu.push(["-"]);this.menu.push([this.showNetworkCommunities?"Hide Communities":"Show Communities",this.showNetworkCommunities?"sl_eclose":"sl_eopen","toggleAttribute",["showNetworkCommunities"]]);if(this.showNetworkCommunities&&!this.colorNodeBy){this.menu.push(["Coordinate Convex Hull Color","at_col","toggleAttribute",["coordinateNetworkConvexHullCommunityColor"]])}}if(!this.isNetworkMetricsDone){this.menu.push(["-"]);this.menu.push(["Calculate Network metrics","n_nodes","calculateNetworkMetrics",[true]])}this.menu.push(["-"]);if(this.isHiddenNodes){this.menu.push(["Show hidden nodes","sl_eopen","hideUnhideNodes",[],"Ctrl + Insert"]);this.menu.push(["-"])}this.menu.push(["Rotate","rt_ac",c,c,c,"getRotateNetworkMenu",[]]);this.menu.push(["-"]);this.menu.push(["Undo","op_undo","undo",[],"Ctrl + z"]);this.menu.push(["Redo","op_redo","redo",[],"Ctrl + y"]);this.menu.push(["-"]);this.menu.push(["Redraw","op_refresh","recalculateLayout"])}}if(this.graphType=="Map"){this.menu.push(["Customize","wp_configuration",c,c,c,"getConfigurationMenu",[]]);this.menu.push(["-"]);if(this.data.z){this.menu.push(["Color By","at_col",c,c,c,"getDataPointAttributesPropertyMenu",["colorBy"]])}}else{if(this.graphType=="Tree"&&!this.isDOE){this.menu.push(["Customize","wp_configuration",c,c,c,"getConfigurationMenu",[]]);this.menu.push(["-"]);if(this.data.x){this.menu.push(["Data Point Properties","at_colshpsze",c,c,c,"getDataPointAttributesMenu",[]]);this.menu.push(["-"])}this.menu.push(["Layout","cl_horizontal",c,c,c,"getDendrogramsMenu",[]])}else{if(this.graphType=="Circular"&&this.circularType=="normal"&&!this.showIdeogram&&!this.rAxisIndices.length){this.menu.push(["Cluster","cl_horizontal",c,c,c,"getDendrogramsMenu",[]]);this.menu.push(["-"])}}}if(this.isDOE){this.menu.push(["Customize","wp_configuration",c,c,c,"getDOEConfigurationMenu",[]]);this.menu.push(["-"]);this.menu.push(["Modify Meta-Data Plots","ly_doe",c,c,c,"getDOEMenu",[]]);this.menu.push(["Meta-Data Plots Topology","ly_segregate",c,c,c,"getDOETopologyMenu",[]]);this.menu.push(["Remove Meta-Data Plots","ly_doeremove","removeDOE"])}else{if(b[this.graphType]&&!this.is3DPlot&&!this.graphType.match(/Meter/i)){this.menu.push(["Customize","wp_configuration",c,c,c,"getConfigurationMenu",[]]);this.menu.push(["-"]);this.menu.push(["Data","wp_data",c,c,c,"getDataMenu",[]]);this.menu.push(["-"]);if(this.data.x||this.graphType=="ParallelCoordinates"||(this.graphType=="Line"&&this.data.x)){this.menu.push(["Data Point Properties","at_colshpsze",c,c,c,"getDataPointAttributesMenu",[]]);this.menu.push(["-"])}if((this.data.x||this.data.z)&&this.isRawData){if(this.data.x){this.menu.push(["Group Samples","a_group",c,c,c,"getGroupSamplesMenu",[]])}if((this.data.x||this.data.z)&&!this.isGraphTime&&this.barType!="lollipop"){this.menu.push(["Segregate Data","ly_segregate",c,c,c,"getSegregationMenu",[]])}this.menu.push(["-"])}if(!this.layoutValid&&this.isRawData&&!this.graphType.match(/Gantt|Stacked|Meter/i)&&!this.isContour&&this.barType!="swimmer"&&!this.stackBy&&!this.dodgeBy&&!this.isGroupedData){this.menu.push(["Cluster","cl_horizontal",c,c,c,"getDendrogramsMenu",[]]);if(this.showHistogram){this.menu.push(["-"]);this.menu.push(["Histogram","dt_hist",c,c,c,"getHistogramMenu",[]])}else{if(!this.showRegressionFit&&!this.showHistogram&&!this.graphType.match(/Gantt|Heatmap/)&&!this.isContour){this.menu.push(["-"]);this.menu.push(["Regress","dt_cor",c,c,c,"getRegressionMenu",[]]);if(!this.isMultidimensionalData){this.menu.push(["Histogram","dt_hist","createHistogram"])}}}}if(this.graphType=="Heatmap"){if(this.isContour){this.menu.push(["Contour","g_contour",c,c,c,"getContourMenu",[]])}else{if(this.Fh()){this.menu.push(["-"]);this.menu.push(["Contour","g_contour",c,c,c,"getContourCreateMenu"])}}}}else{if(this.graphType=="Circular"){this.menu.push(["Data","wp_data",c,c,c,"getDataMenu",[]]);this.menu.push(["-"]);if(this.data.x||this.data.z){if(this.data.x||this.data.z){this.menu.push(["Segregate Data","ly_segregate",c,c,c,"getSegregationMenu",[]])}this.menu.push(["-"])}}else{if(this.graphType.match(/scatter/i)||this.is3DPlot){this.menu.push(["Customize","wp_configuration",c,c,c,"getConfigurationMenu",[]]);this.menu.push(["-"]);if(this.graphType=="Scatter2D"&&this.scatterType!="manhattan"&&!this.Hi()&&!this.showHistogram){this.menu.push(["Data","wp_data",c,c,c,"getDataMenu",[]]);this.menu.push(["-"])}if(this.graphType=="Scatter2D"&&this.scatterType!="manhattan"&&this.scatterType!="visium"){if(this.showHistogram){this.menu.push(["Histogram","dt_hist",c,c,c,"getHistogramMenu",[]])}else{if(this.isContour){this.menu.push(["Contour","g_contour",c,c,c,"getContourMenu",[]])}else{if(this.showRegressionFit){this.menu.push(["Remove Regression","dt_corremove","removeRegression",[],false,false,true])}else{if(this.isQQ){this.menu.push(["Remove QQ Plot","dt_qqremove","removeQQPlot"])}else{if(this.isCDF){this.menu.push(["Remove CDF plot","dt_cdfremove","removeCDFPlot"])}else{if(this.scatterType=="bin2d"){this.menu.push(["Bin-2d","dt_bin",c,c,c,"getBin2dMenu",[]])}else{if(this.showRegressionFit){this.menu.push(["Remove Regression","dt_corremove","removeRegression",[],false,false,true])}else{if(!this.Hi()){this.menu.push(["Loess","cr_bezier",c,c,c,"getLoessMenu",[]]);this.menu.push(["Quantile Regression","dt_quantreg",c,c,c,"getQuantileRegressionMenu",[]]);this.menu.push(["Regression","dt_cor",c,c,c,"getRegressionMenu",[]]);this.menu.push(["Contour","g_contour",c,c,c,"getContourCreateMenu"]);this.menu.push(["Bin-2d","dt_bin",c,c,c,"getBin2dMenu"])}if(!this.scatterPlotMatrix){this.menu.push(["Kaplan Meier","dt_km",c,c,c,"getKaplanMeierMenu",[]])}if(!this.isKM&&!this.scatterPlotMatrix){this.menu.push(["QQ Plot","dt_qq","addQQPlot"]);this.menu.push(["CDF Plot","dt_cdf","addCDFPlot"])}}if(!this.scatterPlotMatrix&&!this.isKM){if(this.decorations&&this.decorations.kaplanMeier){}else{if(this.data.z){this.menu.push(["Create Histogram","dt_hist",c,c,c,"getHistogramCreateMenu",[]])}else{this.menu.push(["Create Histogram","dt_hist","createHistogram"])}}}}}}}}}}else{if(this.graphType=="ScatterBubble2D"){if(this.isContour){this.menu.push(["Contour","g_contour",c,c,c,"getContourMenu",[]])}else{this.menu.push(["-"]);this.menu.push(["Contour","g_contour",c,c,c,"getContourCreateMenu"])}}else{if(this.graphType=="Scatter3D"){this.menu.push(["Loess","cr_bezier",c,c,c,"getLoessMenu",[]])}}}if(this.data.z){if(this.graphType=="Scatter2D"){this.menu.push(["Data Point Properties","at_colshpsze",c,c,c,"getDataPointAttributesMenu",[]])}else{this.menu.push(["Data Point Properties","at_colshpsze",c,c,c,"getDataPointAttributesMenu",[]])}}if((this.isQQ||this.isCDF||this.data.z)&&!this.scatterPlotMatrix&&this.graphType!="Scatter3D"&&!this.is3DPlot&&!this.Hi()){if(!CanvasXpress.graphTypes.OneDGraphs.includes(this.initialGraphType)){this.menu.push(["-"]);this.menu.push(["Segregate Data","ly_segregate",c,c,c,"getSegregationMenu",[]])}}}}}}return this.menu};this.At=function(){this.WI()};this.n6=function(){if(this.showPrimaryMenus){var a=this.KK();for(var c=0;c<a.length;c++){var e=a[c];var d=c==0?{marginLeft:"13px"}:false;if(e[5]){this.addImageToToolbarTop(e[1],e[0],e[5],e[6],false,true,false,d)}}var b=this.$(this.target+"-cX-ToolbarTop-Custom");if(b){if(b.clientWidth>(this.width*0.8)){this.removeAllImagesFromToolbarTop()}}}};this.n6()};CanvasXpress.prototype.initLinks=function(){this.vo=function(){var b=this.$(this.target+"-cX-Link");if(b){this.Rv();return b}var b=this.$cX("div",{id:this.target+"-cX-Link",className:"CanvasXpressLink"},{zIndex:10002,display:"none"});var a=this.$cX("ul",{id:this.target+"-cX-Link-Content",className:"CanvasXpressList"});var c=this.$(this.target+"-cX-Tooltip");if(c){b.appendChild(a);c.appendChild(b)}return b};this.hp=function(G,b,A){var H=this.$(this.target+"-cX-Link-Content");if(!H){H=this.vo()}var J=false;if(H){this.Rv();var I=this.Ej(G);if(I){var f=I.y;for(var E=0;E<b.length;E++){var h=b[E].url;var w=b[E].name;var k=b[E].title;var B=b[E].icon;var o=b[E].source;var v=b[E].params;if(h){J=true}else{if(o&&this.data.links&&this.data.links[o]){h=this.data.links[o].url;J=true;if(v){for(var D in v){h=h.replace("$"+D+"$",v[D])}}}}var C=this.$cX("li",{className:"CanvasXpressListItem"});var c=k?k:this.data.links&&o&&this.data.links[o]&&this.data.links[o].title?this.data.links[o].title:"";var K=this.$cX("a",{className:"CanvasXpressListItemA",href:h,alt:c,title:c,target:"_blank"});var F=this.$cX("img",{className:"CanvasXpressListIcon",src:B?B:this.data.links&&o&&this.data.links[o]&&this.data.links[o].icon?this.data.links[o].icon:CanvasXpress.png});var r=this.$cX("span",{className:"CanvasXpressListItemText",innerHTML:w?w:this.data.links&&o&&this.data.links[o]&&this.data.links[o].name?this.data.links[o].name:E});K.appendChild(F);K.appendChild(r);C.appendChild(K);this.B0("addEvtListener",C);H.appendChild(C)}H.parentNode.style.left=x+"px";H.parentNode.style.top=f+"px";H.parentNode.style.display=J?"block":"none"}}};this.B0=function(b,a){if(a){this.cI(b,a,"click","clickLink",[],false);this.cI(b,a,"mouseover","mouseoverLink",[],false);this.cI(b,a,"mouseout","mouseoutLink",[],false)}};this.cC=function(a){t.Rv()};this.RT=function(b){var a=this.kS(b);if(a){a[0].className="CanvasXpressListItemActive";a[1].className="CanvasXpressListItemAActive"}return false};this.SD=function(b){var a=this.kS(b);if(a){a[0].className="CanvasXpressListItem";a[1].className="CanvasXpressListItemA"}return false};this.Rv=function(){var a=this.$(this.target+"-cX-Link-Content");if(a&&a.childNodes){while(a.childNodes.length>0){this.B0("removeEvtListener",a.childNodes[0]);a.removeChild(a.childNodes[0])}a.parentNode.style.display="none"}};this.oU=function(){this.Rv()};this.he=function(){if(!this.disableEvents){return this.vo()}}};CanvasXpress.prototype.initTooltip=function(){this.ZG=function(){var a=this.$(this.target+"-cX-Info");if(a){this.nv();return a}var b=this.$(this.target+"-cX-Tooltip");if(b){a=this.$cX("div",{id:this.target+"-cX-Info",className:this.disableTooltipCallout?"CanvasXpressTooltipInfo":"CanvasXpressTooltipInfoCallout"},{display:"none"});b.appendChild(a);return a}};this.nv=function(h,g,a){var d=this.$(this.target+"-cX-Info");if(!d){d=this.fv()}if(d&&!this.noInfoSpanReset){var c=new Date().getTime()-this.infoStartTime;if(c>this.infoTimeIn||g){d.style.left="unset";d.style.top="unset";if(this.disableTooltipCallout){d.style.background="rgba(255,255,255,0.95)";d.style.border="1px solid rgb(83,105,255)"}d.style.display="none";if(a){for(var b in a){d.style[b]="unset"}}d.innerHTML="";d.className=this.disableTooltipCallout?"CanvasXpressTooltipInfo":"CanvasXpressTooltipInfoCallout"}}};this.s1=function(f,e,h,b,a){var d=this;if(b){}var j=this.$(this.target+"-cX-Info");if(!j){j=this.fv()}if(j){j.innerHTML=h;j.className="CanvasXpressTooltipInfo";j.style.display="block";j.style.left=(f||0)+"px";j.style.top=(e||0)+"px";j.style.background="rgba(255,255,255,0.95)";j.style.color="rgb(0,0,0)";if(this.disableTooltipCallout){j.style.border="1px solid rgb(83,105,255)"}if(a){for(var c in a){j.style[c]=a[c]}}if(b){var g=function(){var k=function(){var l=new Date().getTime();if(l-d.infoStartTime>b){d.nv(false,false,a);clearInterval(i)}};var i=d.mG(k,b)};g.call()}}};this.pB=function(u,k,l,q,a){if(this.view=="table"||(this.draggingOn||this.noInfoSpanReset||(this.lassoPoints&&this.lassoPoints.length))&&!a){return}var n=document.documentElement;var j=new Date().getTime()-this.infoStartTime;var m=this.$(this.target+"-cX-Info");if(!m){m=this.fv()}var v,g,o;if(m&&k&&k!=""&&j>this.infoTimeIn){var A=q?this.hh(u,q):this.Ej(u,m);if(A){if(!isNaN(k)){k=k.toString()}if(k.match(/\w/)){m.innerHTML=k;m.style.display="block";if(this.disableTooltipCallout){m.style.background="rgba(255,255,255,0.95)";m.style.border="1px solid rgb(83,105,255)"}if(l){for(var c in l){if(l[c]!=null&&l[c]!=false){if(c.match(/border|background/)){if(!this.disableTooltipCallout&&this.tooltipTransparency==null){if(c=="background"){if(l[c] instanceof CanvasGradient){}else{g=this.pP(l[c])}}else{v=this.pP(l[c].split(" ")[2])}continue}else{if(c=="background"){if(l[c] instanceof CanvasGradient){}else{m.style[c]=this.pP(l[c])}}else{m.style[c]=l[c]}}}else{m.style[c]=l[c]}}}}if(this.tooltipBackgroundColor){m.style.backgroundColor=this.tooltipBackgroundColor;g=this.tooltipBackgroundColor}if(this.tooltipBorderColor){m.style.borderColor=this.tooltipBorderColor;v=this.tooltipBorderColor}m.style.color=this.tooltipFontColor?this.tooltipFontColor:(this.vN(m.style.background||g||"rgba(255,255,255,0.95)"));if(g=="rgb(0,0,0)"||g=="rgba(0,0,0,1)"){m.style.color="rgba(255,255,255,1)"}var i=parseInt(m.clientWidth);var p=parseInt(m.clientHeight);if(i<window.innerWidth&&i>this.width-A.x){if(this.disableTooltipCallout||!g||!v){m.className="CanvasXpressTooltipInfo";o="right"}else{m.className="CanvasXpressTooltipInfoRight";n.style.setProperty("--cx-callout-background-color",g);n.style.setProperty("--cx-callout-border-color",v)}}else{if(this.disableTooltipCallout||!g||!v){m.className="CanvasXpressTooltipInfo";o="left"}else{m.className="CanvasXpressTooltipInfoLeft";n.style.setProperty("--cx-callout-background-color",g);n.style.setProperty("--cx-callout-border-color",v)}}if(!this.disableTooltipCallout){o=m.className.match(/Right/)?"right":"left"}var f,d;switch(o){case"right":f=A.x-(i+23);d=A.y-(p/2);break;case"left":f=A.x+18;d=A.y-(p/2);break}if(f<0){m.className="CanvasXpressTooltipInfoLeft";f=A.x+18;d=A.y-(p/2)}m.style.left=f+"px";m.style.top=d+"px";this.infoStartTime=new Date().getTime();if(this.tooltipTransparency!=null){m.style.backgroundColor=this.b9(m.style.background||g||"rgba(255,255,255,0.95)",this.tooltipTransparency,true)}var b=this;var z=function(){var h=function(){var r=new Date().getTime();if(r-b.infoStartTime>b.infoTimeOut){b.nv();clearInterval(e)}};var e=b.mG(h,100)};z.call()}}if(!this.reproducing){this.JW({func:"showInfoSpan",par:[u,k,l,q,a],video:true})}}};this.fv=function(){if(!this.disableEvents){return this.ZG()}}};CanvasXpress.prototype.initTooltipMouse=function(){this.fy=function(){var e=this.$(this.target+"-cX-MousePosition");if(e){return e}e=this.$cX("div",{id:this.target+"-cX-MousePosition",className:"CanvasXpressMousePosition"},{left:"0px",top:"0px",display:"none"});var b=this.$cXI("ar_cross",{className:"CanvasXpressMousePosition",src:"ar_cross"});var c=this.$cX("span",{id:this.target+"-cX-MousePositionCoordinates",className:"CanvasXpressMousePosition",innerHTML:"0, 0"});e.appendChild(b);e.appendChild(c);var a=this.$(this.target+"-cX-Tooltip");if(a){a.appendChild(e)}return e};this.CS=function(f,h){if(h){}else{if(f){h=this.Ej(f)}else{return}}var a=h.x+", "+h.y;var g=this.$(this.target+"-cX-MousePosition");if(!g){g=this.gN()}var b=this.$(this.target+"-cX-MousePositionCoordinates");if(g&&b){g.style.left=h.x+"px";g.style.top=h.y+"px";g.style.display="block";b.innerHTML=a;this.mousePositioning=true}};this.SN=function(){var b=this.$(this.target+"-cX-MousePosition");if(!b){b=this.gN()}var a=this.$(this.target+"-cX-MousePositionCoordinates");if(b&&a){b.style.left="0px";b.style.top="0px";b.style.display="none";a.innerHTML="0, 0";this.mousePositioning=false}};this.gN=function(){if(!this.disableEvents){return this.fy()}}};CanvasXpress.prototype.initTooltipDiv=function(){this.wl=function(o,n,l,b,h){this.nv();var m=this.$(this.target+"-cX-Info");if(m&&m.style.display!=="none"){n=parseInt(m.style.left);l=parseInt(m.style.top)}var e=0;var k=this.target+"-cX-TooltipDiv"+e;var d=this.$(k);while(d){e++;k=this.target+"-cX-TooltipDiv"+e;d=this.$(k)}var a=this.$cX("div",{id:k,className:"CanvasXpressTooltip draggable"},{left:n+"px",top:l+"px"});var c=this.$cXI("op_cancel",{id:k+"Close",className:"CanvasXpressTooltip",src:"op_cancel",title:"Close"},{cssFloat:"right",cursor:"pointer"},false,24);var f=this.$cXI("fp_pencil",{id:k+"Marker",className:"CanvasXpressTooltip",src:"fp_pencil",obj:this.G0(h),title:"Add Marker"},{display:h&&h.render?"block":"none",cssFloat:"right",marginRight:"5px",cursor:"pointer"},false,24);var p=b||{};var g=1;if(p.hasOwnProperty("opacity")){g=p.opacity;delete p.opacity}a.style.opacity=g;var j=this.$cX("div",{id:k+"HTML",innerHTML:o||""},p);j.style.pointerEvents="none";a.appendChild(c);if(h){a.appendChild(f)}a.appendChild(j);var i=this.$(this.target+"-cX-Tooltip");i.appendChild(a);if(b&&b.hasOwnProperty("zIndex")){a.style.zIndex=b.zIndex}return a};this.sv=function(c,b){var a=b.childNodes[0];var d=b.childNodes[1];this.cI(c,b,"mousedown","registerMousemove",[],false);this.cI(c,a,"click","closeMarkerConfigurator",[],false);if(d&&a.tagName.toUpperCase()==="SVG"){this.cI(c,d,"click","addMarkerTooltipDiv",[],false)}};this.X6=function(b,d){if(!b&&!d){return false}var a;if(d){a=this.$(d)}else{var c=this.zL(b).closest("SVG");if(!c){return false}a=c.parentNode}if(a){this.sv("removeEvtListener",a);this.Ok(a,"holeOut",function(){a.parentNode.removeChild(a)})}};this.Kt=function(a){var c=a.target||a.srcElement;if(c){var b=c.getAttribute("obj");if(b){this.QV(a,this.parseJSON(b))}}};this.i2=function(a,j,d,b,i,f,c){var h;if(j&&j!=""){if(i!=null&&f!=null){h=this.wl(j,i,f,b,c);this.sv("addEvtListener",h)}else{var e=this.$(this.target+"-cX-Info");var g=d?this.hh(a,d):this.Ej(a,e);if(g){i=g.x;f=a?g.y:g.y+25;h=this.wl(j,i,f,b,c);this.sv("addEvtListener",h)}}this.Ok(h,"holeIn")}return h};this.qw=function(){var c=0;var a=this.target+"-cX-TooltipDiv"+c;var b=this.$(a);while(b){this.sv("removeEvtListener",b);b.parentNode.removeChild(b);c++;a=this.target+"-cX-TooltipDiv"+c;b=this.$(a)}};this.zi=function(a){if(a.c&&this.graphType==="Map"){if(this.wo(a.c)){return a.c}return this.parseJSON(a.c)}return false};this.m3=function(){if(this.graphType==="Boxplot"){return this.graphOrientation==="horizontal"?"top":"right"}else{return this.graphOrientation==="horizontal"?"right":"top"}};this.OV=function(a){var b=(a.render&&a.render[0])?a.render[0].layout:"";if(this.layoutValid&&b!=null&&this.data.l&&this.data.l.name&&this.data.l.name[b]){b=this.data.l.name[b]}return b};this.YE=function(c,a,g,b){for(var e=0;e<a.length;e++){var f=this.$cX("option",{text:g[e],value:a[e],selected:(b==a[e])});try{c.add(f,null)}catch(d){c.add(f)}}};this.wQ=function(c,a){var b=this.graphType==="Network";return{text:"",color:"rgb(0,0,0)",fontSize:12,fontStyle:"",align:"center",baseline:"middle",type:b?"none":"line",x:b?0:c[0],y:b?0:c[1],position:b?"center":false,offsetX:0,offsetY:0,rotate:0,location:c[2],scope:a||""}};this.ml=function(r,q,o,b,n,h){var p=this.i4(q);var a=this.i4(o);var c={id:this.oy("-marker-"),coords:r,variable:p,sample:a,scope:b,update:false};if(this.graphType==="Network"&&this.data.nodeIndices&&this.data.nodeIndices.hasOwnProperty(p)&&this.data.nodes[this.data.nodeIndices[p]]&&this.data.nodes[this.data.nodeIndices[p]].hasOwnProperty("decorations")){var d=this.data.nodes[this.data.nodeIndices[p]].decorations;for(var g=0;g<h.length;g++){var l=h[g];n[l]=d[l]||""}c.update=true}else{if(this.decorations&&this.decorations.marker){for(var f=0;f<this.decorations.marker.length;f++){var m=this.decorations.marker[f];m.variable=this.i4(m.variable);m.sample=this.i4(m.sample);m.scope=m.scope?this.i4(m.scope):[];var s=(b===false)?[]:this.i4(b);if(this.gS(m.variable,p)&&this.gS(m.sample,a)&&this.gS(m.scope,s)){for(var e=0;e<h.length;e++){var l=h[e];n[l]=m[l]||""}c.update=true;break}}}}return c};this.QV=function(D,p){var l=this.$(this.target+"-cX-Tooltip");if(!l){return}var n=D?this.zL(D):null;var f=this.target+"-cX-Marker";var k=this.$(f);if(k){this.SM(D)}var q=this.Ej(D);var h=p.y?p.y.vars:p.w?p.w.vars:p.nodes?p.nodes[0].id:[];var u=p.y?p.y.smps:p.w?p.w.labs:[];var d=this.OV(p);var y=p.c?this.zi(p):false;var w=p.render?this.Fk(p.render[0],this.m3(),true,2):false;var r=this.wQ(w,d);var c=Object.keys(r).filter(function(i){return i!=="location"});var o=this.ml(y,h,u,d,r,c);var m=this.$cX("div",{id:f,className:"cX-Marker draggable"},{left:q.x+"px",top:q.y+"px",height:y?"224px":"640px"});m.setAttribute("data-object",this.G0(o));m.setAttribute("data-parent",n.parentNode.id);var b=this.$cXI("op_cancel",{id:f+"ConfiguratorMarkerClose",className:"cX-DataTable-Toolbar-Image",src:"op_cancel",title:"Close"},{position:"relative",top:"5px"});var v=this.$cX("div",{id:f+"Container",className:"cX-Marker-Table-Container"},{height:y?"134px":"550px"});var e=this.$cX("table",{id:f+"MarkerTable",className:"cX-DataTable"});var A=this.$cX("tbody");for(var E=0;E<c.length;E++){var t=c[E];var H=this.$cX("tr",{className:"cX-DataTable-Row"},{padding:"1px"});var z=this.$cX("th",{className:"cX-DataTable-Cell-Head"});var s=this.$cX("div",{className:"cX-DataTable-Cell",innerHTML:this.Y5(t)},{width:"100px"});if(t==="text"){z.style.height="96px";s.style.height="96px"}var x=this.$cX("td",{className:"cX-DataTable-Cell"});var g=this.$cX("div",{className:"cX-DataTable-Cell"},{width:"180px",padding:0});if(t==="text"){x.style.height="96px";g.style.height="96px"}var j;var B=f+"ConfiguratorMarker-"+t;var G=r[t];if(t==="text"){j=this.$cX("textarea",{id:B,className:"cX-Marker",name:t,value:G.replace(/__nl__/g,"\n"),rows:3},{cursor:"text"})}else{if(t==="color"){j=this.$cX("input",{id:B,className:"cX-Marker",type:"color",name:t,value:(G?this.u5(G,null,true):"rgb(0,0,0)")},{padding:"0.5px"})}else{if(t.match(/fontSize/)){j=this.$cX("input",{id:B,className:"cX-Marker",type:"number",name:t,value:G},{cursor:"text"})}else{if(t.match(/fontStyle/)){j=this.$cX("select",{id:B,className:"cX-Marker",size:1});this.YE(j,["","bold","italic","bold italic"],["Normal","Bold","Italic","Bold Italic"],G)}else{if(t==="type"){j=this.$cX("select",{id:B,className:"cX-Marker",size:1,disabled:(this.graphType==="Network")});this.YE(j,["none","line","square","arrow","curvedcw","curvedacw"],["None","Straight Line","Square Line","Straight Arrow Line","Curved Arrow Clockwise","Curved Arrow Anti-Clockwise"],G)}else{if(t==="align"){j=this.$cX("select",{id:B,className:"cX-Marker",size:1});this.YE(j,["left","center","right"],["Left","Center","Right"],G)}else{if(t==="baseline"){j=this.$cX("select",{id:B,className:"cX-Marker",size:1});this.YE(j,["top","middle","bottom"],["Top","Middle","Bottom"],G)}else{if(t==="x"||t==="y"){j=this.$cX("input",{id:B,className:"cX-Marker",type:"number",name:t,value:G?this.vy("%.2f",Number(G)):0,min:0,max:1,step:0.01,disabled:(this.graphType==="Network")},{cursor:"text"})}else{if(t==="offsetX"||t==="offsetY"||t==="rotate"){j=this.$cX("input",{id:B,className:"cX-Marker",type:"number",name:t,value:G?Number(G):0,step:1},{cursor:"text"})}else{if(t==="position"){j=this.$cX("select",{id:B,className:"cX-Marker",size:1,location:w[2],render:p.render[0]});this.YE(j,[false,"top","right","bottom","left","center"],["Use above X, Y","Top","Right","Bottom","Left","Center"],G)}else{j=this.$cX("input",{id:B,className:"cX-Marker",type:"text",name:t,value:G},{cursor:"text"})}}}}}}}}}}g.appendChild(j);x.appendChild(g);z.appendChild(s);H.appendChild(z);H.appendChild(x);if(y){if(t==="text"||t==="color"){A.appendChild(H)}}else{A.appendChild(H)}}e.appendChild(A);v.appendChild(e);var a=this.$cX("div",{className:"cX-Marker-Button-Container"});var F=this.$cX("input",{id:f+"ConfiguratorMarkerRemove",className:"cX-Marker-Remove",value:"Remove",type:"button"});var C=this.$cX("input",{id:f+"ConfiguratorMarkerAdd",className:"cX-Marker-Add-Update",value:o.update?"Update":"Add",type:"button"});a.appendChild(F);a.appendChild(C);m.appendChild(b);m.appendChild(v);m.appendChild(a);l.appendChild(m);this.Wu("addEvtListener")};this.Wu=function(d){var c=this.$(this.target+"-cX-Marker");var e=this.$(this.target+"-cX-MarkerContainer");var b=this.$(this.target+"-cX-MarkerConfiguratorMarkerClose");var g=this.$(this.target+"-cX-MarkerConfiguratorMarkerRemove");var f=this.$(this.target+"-cX-MarkerConfiguratorMarkerAdd");var a=this.$(this.target+"-cX-MarkerConfiguratorMarker-type");if(c&&b&&g&&f){this.cI(d,c,"mousedown","registerMousemove",[],false);this.cI(d,e,"mousedown","focusElement",[],false);this.cI(d,b,"click","closeTooltipDiv",[],false);this.cI(d,g,"click","removeMarker",[],false);this.cI(d,f,"click","addMarker",[],false);if(a){this.cI(d,a,"change","changeTypeMarker",[],false)}}};this.SM=function(d){var e=this.zL(d);if(!e){return false}var a=e.parentNode.parentNode;if(!a){return false}if(a.getAttribute("data-object")==null){a=e.parentNode;this.sv("removeEvtListener",a);a.parentNode.removeChild(a)}else{var c=a.getAttribute("data-parent");var b=c?this.$(c):false;if(b){this.sv("removeEvtListener",b);b.parentNode.removeChild(b)}this.Wu("removeEvtListener");a.parentNode.removeChild(a)}};this.aH=function(b){var c=this.zL(b);if(!c){return false}var a=c.parentNode.parentNode;if(!a){return false}var d=this.parseJSON(a.getAttribute("data-object"));this.BK(d,true);this.SM(b)};this.oB=function(b){var c=this.zL(b);if(!c){return false}var a=c.parentNode.parentNode;if(!a){return false}var d=this.parseJSON(a.getAttribute("data-object"));this.BK(d);this.SM(b)};this.HW=function(a){var e=a.target||a.srcElement;var h=e.value;var i=e.parentNode.parentNode.parentNode;var g=i.nextElementSibling;var d=g.nextElementSibling;var c=g.childNodes[1].childNodes[0].childNodes[0];var f=d.childNodes[1].childNodes[0].childNodes[0];var b=(h==="line");c.disabled=!b;f.disabled=!b;return false};this.iO=function(c,q,j,l){if(c&&q&&j){if(!this.cacheMarkers){this.cacheMarkers={}}var h=this.target+"-marker-"+j.render[0].id;if(this.cacheMarkers.hasOwnProperty(h)){var m=this.cacheMarkers[h];var g=this.Tr(m);if(g){this.Ln(g.id);delete this.cacheMarkers[h];return false}}var o=j.y?j.y.vars:j.w?j.w.vars:j.nodes?j.nodes[0].id:[];var k=j.y?j.y.smps:j.w?j.w.labs:[];var a=this.OV(j);var r=j.c?this.zi(j):false;var b=j.render?this.Fk(j.render[0],this.m3(),true,2):false;var i=this.wQ(b,a);var f=Object.keys(i).filter(function(p){return p!=="location"});var n=this.ml(r,o,k,a,i,f);n.id=h;n.text=q;n.type="none";n.x=i.x;n.y=i.y;n.render=j.render?j.render[0]:null;for(var e in l){if(l.hasOwnProperty(e)){if(e=="color"&&l[e]=="auto"){n[e]=n.render.params[5]}else{n[e]=l[e]}}}this.BK(n);if(this.graphType!="Network"){var d=this.decorations.marker.length-1;var m=this.decorations.marker[d].id;this.cacheMarkers[h]=m}return false}};this.BK=function(h,a){var f=["text","color","fontSize","fontStyle","align","baseline","type","x","y","offsetX","offsetY","rotate","position","scope"];for(var e=0;e<f.length;e++){var d=f[e];var b=this.target+"-cX-MarkerConfiguratorMarker-"+d;var g=this.$(b);if(g){h[d]=g.value}}var c=this.$(this.target+"-cX-MarkerConfiguratorMarker-position");if(c){h.location=c.location;h.render=c.render;if(c.value!=="false"){h.x=h.location[c.value][0];h.y=h.location[c.value][1]}}h.text=h.text.replace(/\n/g,"__nl__");this.TE(h,a)};this.nF=function(d){var c=d.fontSize?(d.fontStyle||"")+" "+parseInt(d.fontSize)+"px "+this.fontName:this.decorationsTextFont;var b=this.pb(d.text,c)/this.x*0.5;var a=this.rk(c)/this.y*0.5;switch(d.position){case"top":d.y=Number((d.y-a).toFixed(2));break;case"right":d.x=Number((d.x+b).toFixed(2));break;case"bottom":d.y=Number((d.y+a).toFixed(2));break;case"left":d.x=Number((d.x-b).toFixed(2));break}};this.TE=function(b,a){if(this.KV()){return}if(b&&b.scope&&typeof b.scope==="string"&&b.scope.includes(",")){b.scope=b.scope.split(",")}if(a){if(!b.update){return false}if(this.graphType==="Network"){var e=b.variable;var d=this.data.nodeIndices?this.data.nodeIndices[e]:undefined;var c=d!==undefined?this.data.nodes[d]:undefined;if(c&&c.hasOwnProperty("decorations")){delete c.decorations}else{return false}}else{var g=[];for(var h=0;h<this.decorations.marker.length;h++){var j=this.decorations.marker[h];j.variable=this.i4(j.variable);j.sample=this.i4(j.sample);j.scope=this.i4(j.scope);var f=(b.scope===""||b.scope===undefined||b.scope===null||b.scope===false)?[]:this.i4(b.scope);if(this.gS(j.variable,b.variable)&&this.gS(j.sample,b.sample)&&this.gS(j.scope,f)){continue}g.push(j)}this.decorations.marker=g}}else{if(b.position&&b.position!=="false"&&b.position!=="center"){this.nF(b)}var l={text:b.text,color:b.color,fontSize:Number(b.fontSize),fontStyle:b.fontStyle,align:b.align,baseline:b.baseline,x:Math.max(0.01,Math.min(0.99,Number(b.x))),y:Math.max(0.01,Math.min(0.99,Number(b.y))),position:b.position,location:b.location,type:b.type,scope:b.scope,offsetX:Number(b.offsetX)||0,offsetY:Number(b.offsetY)||0,rotate:Number(b.rotate)||0,render:b.render?b.render.n:undefined,layout:b.render?b.render.layout:undefined};if(b.update){if(this.graphType==="Network"){var e=b.variable;var d=this.data.nodeIndices?this.data.nodeIndices[e]:undefined;var c=d!==undefined?this.data.nodes[d]:undefined;if(c&&c.hasOwnProperty("decorations")){Object.assign(c.decorations,l)}}else{for(var h=0;h<this.decorations.marker.length;h++){var j=this.decorations.marker[h];var k=b.scope!==""?this.gS(j.scope,this.i4(b.scope)):true;if(this.gS(this.i4(j.variable),b.variable)&&this.gS(this.i4(j.sample),b.sample)&&k){Object.assign(j,l);break}}}}else{Object.assign(l,{variable:b.variable,sample:b.sample,coords:b.coords});if(this.graphType==="Network"){var e=b.variable;var d=this.data.nodeIndices?this.data.nodeIndices[e]:undefined;var c=d!==undefined?this.data.nodes[d]:undefined;if(c){c.decorations=l}}else{if(!this.decorations){this.decorations={}}if(!this.decorations.marker){this.decorations.marker=[]}this.decorations.marker.push(l)}}}this.x9({func:"updateMarker",par:[b,a]})};this.mM=function(h){var l=this.$(this.target+"-cX-Tooltip");var f=this.$(this.target+"-cX-Password");if(f){f.style.display="block";this.HT("addEvtListener");return}else{f=this.$cX("div",{id:this.target+"-cX-Password",className:"CanvasXpressPassword"},{border:this.dataUIStyle!="modern"?"1px solid rgb(200, 200, 200)":"1px solid rgb(83, 105, 255)",left:parseInt((this.width-180)/2)+"px",top:"100px"})}if(h){f.style.height="150px"}var j=this.$cXI("op_cancel",{id:this.target+"-cX-PasswordCloseImage",className:"CanvasXpressPassword",src:"op_cancel",title:"Close Code"},{width:"24px",height:"24px"});var g=this.$cX("div",{id:this.target+"-cX-PasswordContainer",className:"CanvasXpressPasswordContainer"});var m=this.$cX("span",{className:"CanvasXpressPassword",innerHTML:"Password:"});var e=this.$cX("input",{id:this.target+"-cX-PasswordInput",className:"CanvasXpressPassword",type:"password"});if(h){e.data=h}var k=this.$cX("span",{className:"CanvasXpressPassword",innerHTML:"Re-enter Password:"},{display:h?"none":"block"});var a=this.$cX("input",{id:this.target+"-cX-PasswordRepeat",className:"CanvasXpressPassword",type:"password"},{display:h?"none":"block"});var i=this.$cX("input",{id:this.target+"-cX-PasswordSetUnset",className:"CanvasXpressPassword",value:(h?"Unlock":"Update"),type:"button"},{marginTop:"10px",top:"-2px",left:"40px",position:"relative",backgroundColor:this.dataUIStyle!="modern"?"rgb(200, 200, 200)":"rgb(83,105,255)",border:"1px solid rgba(255, 255, 255, 0.95)",padding:"8px",width:"100px"});g.appendChild(m);g.appendChild(e);g.appendChild(k);g.appendChild(a);g.appendChild(i);f.appendChild(j);f.appendChild(g);l.appendChild(f);this.HT("addEvtListener")};this.HT=function(a){var c=this.$(this.target+"-cX-PasswordCloseImage");var b=this.$(this.target+"-cX-PasswordSetUnset");if(c&&b){this.cI(a,c,"click","closePaswrdDiv",[],false);this.cI(a,b,"click","setUnsetPaswrd",[],false)}};this.bQ=function(c){var b=this.$(this.target+"-cX-Password");var a=this.$(this.target+"-cX-PasswordInput");var d=this.$(this.target+"-cX-PasswordRepeat");if(b&&a&&d){if(a.value!==d.value){a.value="";d.value=""}this.HT("removeEvtListener");b.style.display="none"}};this.to=function(a){var e=this.$(this.target+"-cX-Password");var c=this.$(this.target+"-cX-PasswordInput");var g=this.$(this.target+"-cX-PasswordRepeat");if(e&&c&&g){var d=c.value;var h=g.value;if(d!==""&&h!==""){if(d!==h){alert("Repeat DOES NOT match the password")}else{this.HT("removeEvtListener");e.style.display="none"}}else{if(c.data){var b=this.$w;var i=c.data;var j=this[b(10)](i.data,d);i.config[b(0)]=d;try{i.data=this.parseJSON(decodeURIComponent(j))}catch(f){i.data=this.parseJSON(j)}this.HT("removeEvtListener");e.style.display="none";this.F2(i)}else{this.HT("removeEvtListener");e.style.display="none"}}}}};CanvasXpress.prototype.initToolbar=function(){this.T7=function(){this.GQ();this.hQ();this.gM();this.DK();this.SF("addEvtListener")};this.IQ=function(){var f=this;var c=this.view=="layout"||this.view=="explore"||this.view=="customize";var e=this.reproducing;var b=this.isDOE;var g=this.graphType!=="Genome"&&this.graphType!=="Fish"&&this.graphType!=="Venn";var d=!e&&!c&&!b&&g;var a=this.graphType.match(/Scatter/i);return[{name:"Reset",icon:"op_refresh",title:"Reset",handler:"resetStack",isVisible:function(){return d}},{name:"Save",icon:"sv_image",title:"Save as png",handler:"print",isVisible:function(){return !e&&!c&&f.toolbarItems.includes("Save")}},{name:"Chat",icon:"op_chat",title:"Open Chat",handler:"toggleChatInterface",isVisible:function(){return d&&!f.disableChat&&f.toolbarItems.includes("Chat")}},{name:"History",icon:"tm_history",title:"Reproduce",handler:"reproducePlay",isVisible:function(){return d&&f.afterRender.length&&!f.motionBy&&f.toolbarItems.includes("History")}},{name:"Lasso",icon:"m_zlasso",title:"Lasso Selection",handler:"setLasso",isVisible:function(){return a&&f.toolbarItems.includes("Lasso")}},{name:"Table",icon:"tb_table",title:"View table",handler:"showView",isVisible:function(){return d&&!f.disableDataTable&&f.toolbarItems.includes("Table")}},{name:"Explore",icon:"fp_funnel",title:"Explore data",handler:"showExplorer",isVisible:function(){return !e&&!c&&g&&!f.disableDataFilters&&!f.disableDataTable&&f.toolbarItems.includes("Explore")}},{name:"Customize",icon:"wp_installation",title:"Customize",handler:"showCustomizer",isVisible:function(){return !e&&!c&&g&&f.toolbarItems.includes("Customize")}},{name:"Password",icon:["wp_pc","wp_po"],title:["Decrypt","Protect"],handler:"$q",isVisible:function(){return !e&&!f.toolbarItems.includes("Password")}},{name:"Information",icon:"ch_oinfo",title:"Data Details",handler:"showDataDetails",isVisible:function(){return !e&&!!f.info}},{name:"Maximize",icon:"ar_minmax",title:"Minimize / Maximize",handler:"toggleMaximizeView",isVisible:function(){return !e&&!c&&!f.useLeaflet&&f.toolbarItems.includes("Maximize")}}]};this.O6=function(){var c=this;var b=Math.min(this.width,this.height);this.toolbarSize=b<200?16:b<400?22:this.toolbarSize;var g=15;var e=this.$(this.target+"-cX-Toolbar-Container-Top");if(!e){return}var d=this.IQ();var f=0;var a={Reset:"Reset",Save:"Save",Chat:"Chat",History:"History",Lasso:"Lasso",Table:"Table",Explore:"Explore",Customize:"Customize",Password:"Pswrd",Information:"Information",Maximize:"Maximize"};d.forEach(function(i){var h=i.isVisible()?"block":"none";var k=a[i.name];if(k){var j=c.$(c.target+"-cX-ToolbarTop"+k);if(j){j.style.display=h}}if(h==="block"){f++}});e.style.width=(f*(this.toolbarSize+g))+"px";e.style.height=this.toolbarSize+"px";e.style.visibility=f===0?"hidden":"visible";e.style.gridTemplateColumns="repeat("+f+", 1fr)";this.VW()};this.VW=function(){var c=this.$(this.target+"-cX-ToolbarTopPswrd");var a=this.view=="layout"||this.view=="explore"||this.view=="customize";if(a){c.style.display="none"}else{var b=c.getAttribute("src");if(CanvasXpress[this.$w(6)][this.$w(7)]){if(b=="wp_pc"||b=="wp_po"){this.$cXIU(c,b+"r");this.$(this.target+"-cX-ToolbarTopPswrd").style.display="block"}}else{if(b=="wp_pcr"||b=="wp_por"){this.$cXIU(c,b.replace(/r$/,""));this.$(this.target+"-cX-ToolbarTopPswrd").style.display="block"}}}};this.GQ=function(){var d=this;var c=Math.min(this.width,this.height);this.toolbarSize=c<200?16:c<400?22:this.toolbarSize;var b=c<200?"3px 0 3px 0":c<400?"5px 0 5px 0":"10px 0 10px 0";var g=18;var a=this.toolbarSize-4;var h=this.$(this.target+"-cX-Toolbar-Container-Left");if(!h){return}var e={JSON:{title:"Show JSON code",icon:"cd_json",handler:"clickRepResearch",params:[]},R:{title:"Show R code",icon:"c_rcode",handler:"clickShowRCode",params:[]},Python:{title:"Show Python code",icon:"c_python",handler:"clickShowPythonCode",params:[]},Jupyter:{title:"Show Jupyter code",icon:"c_jupyter",handler:"clickShowPythonCode",params:[false,true]},Streamlit:{title:"Show Streamlit code",icon:"c_streamlit",handler:"clickShowPythonCode",params:[false,false,true]},Shiny:{title:"Show Shiny for Python code",icon:"c_shiny",handler:"clickShowPythonCode",params:[false,false,false,true]},JSFiddle:{title:"Edit in JS Fiddle",icon:"c_jsfiddle",handler:"editJSFiddle",params:[]},CodePen:{title:"Edit in CodePen",icon:"c_codepen",handler:"editCodePen",params:[]},English:{title:"Show English",icon:"op_chat2",handler:"clickShowEnglishCode",params:[]}};h.innerHTML="";var f=0;this.toolbarCodes.forEach(function(j){var i=e[j];if(i){var k=d.$cXI(i.icon,{id:d.target+"-cX-ToolbarLeft"+j.replace(/ /g,""),className:"cX-Toolbar-Image",src:i.icon,title:i.title},{display:"block",margin:b,paddingLeft:"4px"},false,a);k.style.setProperty("background-color",d.background,"important");k.setAttribute("data-callback-click",i.handler);k.setAttribute("data-params",JSON.stringify(i.params));h.appendChild(k);f++}});h.style.width=(this.toolbarSize+5)+"px";h.style.height=(f*(this.toolbarSize+g))+"px";h.style.gridTemplateColumns="1fr";if(f===0){h.style.display="none"}else{h.style.display="grid"}};this.hQ=function(){var e=this;var h=Math.min(this.width,this.height);this.toolbarSize=h<200?16:h<400?22:this.toolbarSize;var b=h<200?"0 3px 0 3px":h<400?"0 5px 0 5px":"0 10px 0 10px";var a=15;var f=this.toolbarSize-8;var i=this.$pX();var g=this.$(this.target+"-cX-Toolbar-Container-Top");if(!g){return}var d=this.IQ();var c=0;g.innerHTML="";d.forEach(function(l){var k=l.isVisible()?"block":"none";if(k==="block"){c++}var m;var n={display:k,margin:b,paddingTop:"4px"};if(l.name==="Password"){var j=i;m=e.$cXI((j?l.icon[0]:l.icon[1]),{id:e.target+"-cX-ToolbarTopPswrd",className:"cX-Toolbar-Image",src:(j?l.icon[0]:l.icon[1]),asr:(j?l.icon[1]:l.icon[0]),title:(j?l.title[0]:l.title[1])},n,false,f)}else{m=e.$cXI(l.icon,{id:e.target+"-cX-ToolbarTop"+l.name,className:"cX-Toolbar-Image",src:l.icon,title:l.title},n,false,f)}m.style.setProperty("background-color",e.background,"important");m.setAttribute("data-callback-click",l.handler);g.appendChild(m)});g.style.width=(c*(this.toolbarSize+a))+"px";g.style.height=this.toolbarSize+"px";g.style.visibility=c===0?"hidden":"visible";g.style.gridTemplateColumns="repeat("+c+", 1fr)"};this.gM=function(){var d=this;var b=this.$(this.target+"-cX-Toolbar-Container-Bottom");if(!b){return}var c=Math.min(this.width,this.height);this.toolbarSize=c<200?16:c<400?22:this.toolbarSize;var h=c<200?"0 3px 0 3px":c<400?"0 5px 0 5px":"0 10px 0 10px";var e=this.toolbarSize-4;var g=20;function a(k){var j=d.NH(3,k);var m=Math.floor(e/3);var o=d.$cX("div",{className:"cX-Toolbar-Round",title:k},{width:e+"px",height:e+"px",margin:h,border:"1px solid "+d.background});for(var l=0;l<3;l++){var n=d.$cX("div",{className:"cX-Toolbar-Stripe",title:k},{width:m+"px",height:e+"px",backgroundColor:j[l],pointerEvents:"none"});o.appendChild(n)}return o}b.innerHTML="";this.toolbarSchemes.forEach(function(i){var j=a(i);j.setAttribute("data-callback-click","changeColorScheme");j.setAttribute("data-params",JSON.stringify([i.toLowerCase()]));b.appendChild(j)});var f=this.toolbarSchemes.length;b.style.width=(f*(this.toolbarSize+g))+"px";b.style.height=this.toolbarSize+"px";b.style.gridTemplateColumns="repeat("+f+", 1fr)";if(f===0){b.style.display="none"}else{b.style.display="grid"}};this.DK=function(){var c=this;var h=this.$(this.target+"-cX-Toolbar-Container-Right");if(!h){return}var b=Math.min(this.width,this.height);this.toolbarSize=b<200?16:b<400?22:this.toolbarSize;var g=b<200?"3px 0 3px 0":b<400?"5px 0 5px 0":"8px 0 8px 0";var d=this.toolbarSize-4;var f=20;function a(i){return c.$cX("div",{className:"cX-Toolbar-Font",title:i,innerHTML:"Aa"},{width:d+"px",height:d+"px",margin:g,fontFamily:i,fontSize:"x-large"})}h.innerHTML="";this.toolbarFonts.forEach(function(j){var i=a(j);i.setAttribute("data-callback-click","changeFontFamily");i.setAttribute("data-params",JSON.stringify([j]));h.appendChild(i)});var e=this.toolbarFonts.length;h.style.width=(this.toolbarSize+5)+"px";h.style.height=(e*(this.toolbarSize+f))+"px";h.style.gridTemplateColumns="1fr";if(e===0){h.style.display="none"}else{h.style.display="grid"}};this.SF=function(b){var a=this;["Top","Left","Bottom","Right"].forEach(function(c){var d=a.$(a.target+"-cX-Toolbar-Container-"+c);if(d){for(var g=0;g<d.childNodes.length;g++){var f=d.childNodes[g].getAttribute("data-callback-click");var e=d.childNodes[g].getAttribute("data-params");a.cI(b,d.childNodes[g],"click",f,e,false)}}})};this.k3=function(y,s,n){var g=this.$("main");if(!g){return}var d=this.$("jp-top-panel");var h=this.$("jp-main-content-panel");var b=h?h.firstChild:null;var m=this.$("jp-main-vsplit-panel");var a=this.$("jp-main-split-panel");var w=this.$("jp-main-dock-panel");var x=h?h.lastChild:null;var z=this.$("jp-bottom-panel");var p=this.$(this.target+"-cX-DOM");var o=p.getBoundingClientRect();var q=p.parentNode;var l=q.clientWidth;while(q&&!q.classList.contains("jp-Cell")){q=q.parentNode;l=q.clientWidth}var j=q.parentNode.parentNode.parentNode.parentNode;var v=j.parentNode;var c=j.getElementsByClassName("jp-Cell");var r=[h,m,a,w,v,j];var f=y?g.clientWidth:s?s:(this.isJupyter[0]||g.clientWidth);var e=y?g.clientHeight:n?n:(this.isJupyter[1]||g.clientHeight);var k=(o.left-2);var t=(o.top-2);if(y){this.isJupyter=[f,e,q,l];g.style.left=-k+"px";g.style.top=-t+"px";g.style.width=(f+k)+"px";g.style.height=(e+t)+"px";r.forEach(function(i){if(i){i.style.width=(f+k)+"px";i.style.height=(e+t)+"px";i.style.visibility="hidden"}});if(b){b.style.visibility="hidden"}if(x){x.style.visibility="hidden"}g.style.visibility="hidden"}else{g.style.left="0px";g.style.top="0px";g.style.width=f+"px";g.style.height=e+"px";if(g.firstChild){g.firstChild.style.width=f+"px"}if(d){d.style.width=f+"px"}if(h){h.style.width=f+"px";h.style.height=(e-52)+"px";h.style.top="28px"}if(z){z.style.width=f+"px";z.style.top=(e-24)+"px";if(z.firstChild){z.firstChild.style.width=f+"px"}}if(b){b.style.height=(e-52)+"px"}if(m){m.style.height=(e-52)+"px";m.style.width=(f-66)+"px";m.style.left="33px"}if(x){x.style.height=(e-52)+"px";x.style.left=(f-33)+"px"}if(a){a.style.width=(f-66)+"px";a.style.height=(e-52)+"px";if(a.nextSibling){a.nextSibling.style.width=(f-66)+"px";a.nextSibling.style.top=(e-52)+"px"}if(a.firstChild){a.firstChild.style.height=(e-52)+"px"}}if(w){w.style.width=(f-66)+"px";w.style.height=(e-52)+"px";if(w.nextSibling){w.nextSibling.style.top=(e-52)+"px";w.nextSibling.style.left=(f-66)+"px"}}if(v){v.style.width=(f-76)+"px";v.style.height=(e-88)+"px";v.style.left="5px";v.style.top="31px";if(v.firstChild){v.firstChild.style.width=(f-78)+"px";if(v.firstChild.nextSibling){v.firstChild.nextSibling.style.width=(f-78)+"px";v.firstChild.nextSibling.style.top="32px"}}}if(j){j.style.width=(f-78)+"px";j.style.height=(e-101)+"px";j.style.top="32px"}for(var u=0;u<c.length;u++){c[u].style.width=(f-98)+"px"}r.forEach(function(i){if(i){i.style.visibility="visible"}});if(b){b.style.visibility="visible"}if(x){x.style.visibility="visible"}g.style.visibility="visible"}}};CanvasXpress.prototype.initDispatcher=function(){this.je=function(b){try{CanvasXpress}catch(h){b.preventDefault();b.stopPropagation();return false}var f=this.zL(b);var g=b.type.toLowerCase();var c=f.tagName?f.tagName.toLowerCase():"";var i="data-callback-"+g;if((c==="input"||c==="textarea"||c==="select")&&g==="mousedown"){return}while(f&&f.getAttribute&&!f.getAttribute(i)){f=f.parentNode}if(!f||!f.getAttribute){return}var j=f.getAttribute(i);if(typeof this[j]!=="function"){return}var a=["dragstart","dragover","dragenter","dragleave","drop","dragend"].indexOf(g)!==-1;if(a){if(["dragover","dragenter","drop"].indexOf(g)!==-1){b.preventDefault();if(b.dataTransfer){b.dataTransfer.dropEffect="copy"}}}else{if(!f.getAttribute("data-menus")){this.WI()}}var e=f.getAttribute("data-params")||"[]";var d=JSON.parse(e);d.unshift(b);var k=this[j].apply(this,d);if(!a){var c=f.tagName?f.tagName.toLowerCase():"";if(c!=="input"&&c!=="textarea"){this.cc(b);this.Y6(b)}this.JW({func:j,par:d,video:true})}return k};this.click=function(a){return function(b){return a.je(b)}}(this);this.dblclick=function(a){return function(b){return a.je(b)}}(this);this.mousedown=function(a){return function(b){return a.je(b)}}(this);this.mouseup=function(a){return function(b){return a.je(b)}}(this);this.mouseover=function(a){return function(b){return a.je(b)}}(this);this.mousemove=function(a){return function(b){return a.je(b)}}(this);this.mouseout=function(a){return function(b){return a.je(b)}}(this);this.mousewheel=function(a){return function(b){return a.je(b)}}(this);this.contextmenu=function(a){return function(b){return a.je(b)}}(this);this.keydown=function(a){return function(b){return a.je(b)}}(this);this.keyup=function(a){return function(b){return a.je(b)}}(this);this.input=function(a){return function(b){return a.je(b)}}(this);this.search=function(a){return function(b){return a.je(b)}}(this);this.dragstart=function(a){return function(b){return a.je(b)}}(this);this.dragend=function(a){return function(b){return a.je(b)}}(this);this.dragenter=function(a){return function(b){return a.je(b)}}(this);this.dragover=function(a){return function(b){return a.je(b)}}(this);this.dragleave=function(a){return function(b){return a.je(b)}}(this);this.drop=function(a){return function(b){return a.je(b)}}(this);this.resize=function(a){return function(b){return a.je(b)}}(this);this.scroll=function(a){return function(b){return a.je(b)}}(this);this.change=function(a){return function(b){return a.je(b)}}(this);this.XB=function(a,b){this.My("fontName",b)};this.S1=function(a,b){this.H9(b,true);this.My("colorScheme",b)};this.kE=function(a){var b=this.stackInitial;this.ff(a);this.Gb(b)};this.$q=function(a){this.mM()};this.TA=function(a){this.P9(a,this.view=="explore"?"canvas":"explore")};this.JB=function(a){this.lassoSelected=true};this.Vz=function(a){this.P9(a,this.view=="customize"?"canvas":"customize")};this.Vb=function(b){if(this.view==="canvas"){var a=this.viewLast==="layout"?"layout":"table";this.P9(b,a)}else{this.P9(b,"canvas")}};this.rZ=function(a){var b={width:"auto",height:"auto",maxWidth:"500px",maxHeight:"500px",whiteSpace:"normal",overflow:"auto",textAlign:"left"};this.i2(a,this.info,false,b,20,20)};this.fA=function(a){this.L7();this.ee(a)}};CanvasXpress.prototype.initLLM=function(){this.YZ=function(){var a=this.target+"-cX-ChatInterface";var c=this.$(a);if(c){return c}this.RP();var c=this.$cX("div",{id:a,className:"cX-Chat"});var h=this.XQ(a);var i=this.uC(a);var b=this.Gq(a);var f=this.Sy(a);var d=this.jP(a);var g=this.A0(a);c.appendChild(h);c.appendChild(i);c.appendChild(b);c.appendChild(f);c.appendChild(d);c.appendChild(g);var e=this.$(this.target+"-cX-Container-Chat");if(e){e.appendChild(c)}this.Yq("addEvtListener");return c};this.XQ=function(h){var c=this.$cX("div",{id:h+"Toolbar",className:"cX-Chat-Toolbar-Container"});var g=this.$cX("div",{id:h+"LeftToolbar",className:"cX-Chat-Left-Toolbar-Container"});var a=this.NW(h+"CopilotToggle",this.llmUseCopilot,"Copilot ","");var d=this.$cXI("op_question",{id:h+"CopilotHelp",src:"op_question",title:"Copilot Help"},false,false,20);var e=this.$cX("a",{href:"https://canvasxpress.org/copilot.html",title:"Copilot Help"});e.appendChild(d);g.appendChild(a);g.appendChild(e);var f=this.$cX("div",{id:h+"RightToolbar",className:"cX-Chat-Right-Toolbar-Container"});var b=this.$cXI("wp_configuration",{id:h+"CopilotConfigurator",src:"wp_configuration",title:"Show Code Configurator"},false,false,20);f.appendChild(b);c.appendChild(g);c.appendChild(f);return c};this.uC=function(b){var k=this;var h=this.$cX("div",{id:b+"Configurator",className:"cX-Chat-Configurator-Container"},{display:"none"});var l=this.copilotObject.data.graphs;var f=this.$cX("label",{innerHTML:"Graph: "},{margin:"0px"});var g=this.$cX("select",{id:b+"ConfiguratorGraphs",className:"cX-Chat-Configurator"});var d=this.$cX("option",{value:"all",innerHTML:"All Graphs"});g.appendChild(d);l.forEach(function(n){var m=k.$cX("option",{value:n,innerHTML:n});g.appendChild(m)});f.appendChild(g);var e=this.$cX("label",{innerHTML:"Examples: "},{margin:"0px"});var j=this.$cX("input",{id:b+"ConfiguratorExamples",className:"cX-Chat-Configurator",type:"number",min:1,max:100,value:this.llmCodeExamples},{width:"40px"});e.appendChild(j);var c=this.$cX("label",{innerHTML:"Sentences : "},{margin:"0px"});var a=this.$cX("input",{id:b+"ConfiguratorSentences",className:"cX-Chat-Configurator",type:"number",min:1,max:18,value:this.llmCodeMaxSentences},{width:"40px"});c.appendChild(a);var i=this.$cXI("op_chat2",{id:b+"CopilotGenerator",src:"op_chat2",title:"Generate Examples"},{position:"absolute",right:"10px"},false,20);h.appendChild(f);h.appendChild(e);h.appendChild(c);h.appendChild(i);return h};this.Gq=function(f){var c=this.$cX("div",{id:f+"Text",className:"cX-Chat-Text-Container"});var d=this.$cX("div",{id:f+"TextArea",className:"cX-Chat-Text-Area-Container"});var a=this.$cX("p",{id:f+"Ask",className:"cX-Chat-Question",innerHTML:this.llmPrompt||"",contentEditable:true});a.setAttribute("empty","");d.appendChild(a);var b=this.$cX("div",{id:f+"Send",className:"cX-Chat-Icon-Container"});var e=this.$cXI("wp_send",{id:f+"SendImage",className:"cX-Chat-Icon",src:"wp_send",title:"Chat with AI"},false,false,26);b.appendChild(e);c.appendChild(d);c.appendChild(b);return c};this.Sy=function(c){var b=this.$cX("div",{id:c+"SuggestionsContainer",className:"cX-Chat-Suggestions-Container"});var a=this.$cX("div",{id:c+"Suggestions",className:"cX-Chat-Suggestions"});b.appendChild(a);return b};this.jP=function(g){var c=this.$cX("div",{id:g+"Thumbs",className:"cX-Chat-Thumbs-Container"});var d=this.$cXI("op_thumbup2",{id:g+"ThumbUpImage",className:"cX-Chat-Thumbs",src:"op_thumbup2",asr:"op_thumbup",title:"Thumb Up"},{margin:"5px 5px 0 10px"},false,20);var b=this.$cXI("op_thumbdown2",{id:g+"ThumbDownImage",className:"cX-Chat-Thumbs",src:"op_thumbdown2",asr:"op_thumbdown",title:"Thumb Down"},{margin:"10px 0 0 10px"},false,20);var e=this.$cXI("op_refresh",{id:g+"RedoImage",className:"cX-Chat-Thumbs",src:"op_refresh",title:"Redo"},{margin:"7px 5px 0 20px"},false,20);var a=this.$cXI("ar_lm",{id:g+"PreviousImage",className:"cX-Chat-Thumbs",src:"ar_lm",title:"Previous"},{margin:"7px 5px 0 10px"},false,20);var f=this.$cXI("ar_rm",{id:g+"NextImage",className:"cX-Chat-Thumbs",src:"ar_rm",title:"Next"},{margin:"7px 5px 0 10px"},false,20);c.appendChild(d);c.appendChild(b);c.appendChild(e);c.appendChild(a);c.appendChild(f);return c};this.A0=function(a){var j=this.$cX("div",{id:a+"Output",className:"cX-Chat-Output-Container draggable"},{top:"50px",left:"50px"});var b=this.$cXI("op_cancel",{id:a+"OutputClose",className:"cX-Chat-Output-Close",src:"op_cancel",title:"Close Output"},{position:"absolute",top:"10px",right:"10px",cursor:"pointer"},false,20);var k=this.$cX("button",{id:a+"GraphicalOutputTab",className:"cX-Chat-Output-Tab",innerHTML:"Graphical Output"});var g=this.$cX("button",{id:a+"CodeOutputTab",className:"cX-Chat-Output-Tab Active",innerHTML:"Code Output"});var i=this.$cX("div",{id:a+"GraphicalOutput",className:"cX-Chat-Graphical-Output"});var h=this.$cXI("ar_lm",{id:a+"PrevGraph",className:"cX-Chat-Graphical-Output-Nav",src:"ar_lm",title:"Previous Graph"},{position:"absolute",top:"10px",left:"10px",zIndex:1,cursor:"pointer"},false,20);var f=this.$cXI("ar_rm",{id:a+"NextGraph",className:"cX-Chat-Graphical-Output-Nav",src:"ar_rm",title:"Next Graph"},{position:"absolute",top:"10px",left:"50px",zIndex:1,cursor:"pointer"},false,20);i.appendChild(h);i.appendChild(f);var c=this.$cX("div",{id:a+"GraphContainer",className:"cX-Chat-Graphical-Output-Graph"});var d=this.$cX("canvas",{id:a+"GraphCanvas",className:"cX-Chat-Graphical-Output-Canvas",width:this.width,height:this.height});c.appendChild(d);i.appendChild(c);var e=this.$cX("textarea",{id:a+"CodeOutput",className:"cX-Chat-Code-Output",readOnly:true});j.appendChild(b);j.appendChild(g);j.appendChild(k);j.appendChild(e);j.appendChild(i);return j};this.Ax=function(b){var a=this.zL(b);var j=a.id.indexOf("NextGraph")!==-1?"next":"prev";var d=this.$(this.target+"-cX-ChatInterfaceGraphContainer");var i=this.$(this.target+"-cX-ChatInterfaceCodeOutput");if(i&&d){var g=i.value?JSON.parse(i.value):null;if(g&&g.length>0){if(j==="next"){this.llmCurrentGraph=(this.llmCurrentGraph+1)%g.length}else{this.llmCurrentGraph=(this.llmCurrentGraph-1+g.length)%g.length}var c=g[this.llmCurrentGraph].config||{};if(c){console.log(JSON.stringify(c));this.Sn(this.target+"-cX-ChatInterfaceGraphCanvas",true);var f={renderTo:this.target+"-cX-ChatInterfaceGraphCanvas",data:this.Hg(),config:g[this.llmCurrentGraph].config};try{new CanvasXpress(f)}catch(h){return false}}}}};this.Yq=function(a){this.cI(a,this.$(this.target+"-cX-ChatInterfaceCopilotToggle"),"change","changeCopilotToggle",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceCopilotConfigurator"),"click","clickCopilotConfigurator",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceCopilotGenerator"),"click","clickCopilotGenerator",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceAsk"),"input","updateUI",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceSendImage"),"click","askLLM",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceThumbUpImage"),"click","clickThumbs",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceThumbDownImage"),"click","clickThumbs",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceRedoImage"),"click","redoLLM",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfacePreviousImage"),"click","prevLLM",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceNextImage"),"click","nextLLM",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceGraphicalOutputTab"),"click","switchOutputTab",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfacePrevGraph"),"click","nextPrevGraph",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceNextGraph"),"click","nextPrevGraph",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceCodeOutputTab"),"click","switchOutputTab",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceOutputClose"),"click","closeChatOutput",[],false);this.cI(a,this.$(this.target+"-cX-ChatInterfaceOutput"),"mousedown","registerMousemove",[],false)};this.Ah=function(c){var a=this.$(this.target+"-cX-ChatInterface")||this.YZ();var b=this.$(this.target+"-cX-Container-Chat");if(a&&b){b.style.display="flex";this.lastView=this.view;this.view="chat";this.da("chat",true);this.IL()}};this.Ib=function(c){var a=this.$(this.target+"-cX-ChatInterface");var b=this.$(this.target+"-cX-Container-Chat");if(a&&b){this.view=this.lastView||"canvas";this.da(this.view,true);b.style.display="none";this.IL()}};this.n7=function(a){if(this.view!=="chat"){this.Ah(a)}else{this.Ib(a)}};this.EN=function(c){var b=this.zL(c);this.llmUseCopilot=b.checked;var d=this.$(this.target+"-cX-ChatInterfaceSuggestionsContainer");var a=this.$(this.target+"-cX-ChatInterfaceAsk");if(this.llmUseCopilot){d.style.display="block";this.fG()}else{d.style.display="none"}a.focus()};this.ez=function(b){var d=this.$(this.target+"-cX-ChatInterfaceConfigurator");var c=this.$(this.target+"-cX-ChatInterfaceText");if(d&&c){if(d.style.display==="none"){d.style.display="flex";c.style.display="none"}else{d.style.display="none";c.style.display="flex";var a=this.$(this.target+"-cX-ChatInterfaceOutput");if(a){a.style.display="none"}}}};this.rL=function(b){var h=this.$(this.target+"-cX-ChatInterfaceConfiguratorGraphs").value;var j=parseInt(this.$(this.target+"-cX-ChatInterfaceConfiguratorExamples").value,10);var c=parseInt(this.$(this.target+"-cX-ChatInterfaceConfiguratorSentences").value,10);this.llmCodeExamples=j;this.llmCodeMaxSentences=c;var d=this.Ne(h,j,c);var g=this.$(this.target+"-cX-ChatInterfaceOutput");var a=this.$(this.target+"-cX-ChatInterfaceCodeOutput");var k=this.$(this.target+"-cX-ChatInterfaceGraphContainer");if(d.length&&g&&a&&k){g.style.display="block";a.value=JSON.stringify(d,null,2);this.llmCurrentGraph=0;var f={renderTo:this.target+"-cX-ChatInterfaceGraphCanvas",data:this.Hg(),config:d[this.llmCurrentGraph].config};console.log(JSON.stringify(f.config));try{new CanvasXpress(f)}catch(i){return false}}};this.VT=function(c){var e=this.zL(c);var a=this.$(this.target+"-cX-ChatInterfaceAsk");var b=e.id;if(a&&a.innerHTML!==""){if(b.indexOf("ThumbUp")!==-1){var d=e.nextElementSibling;this.$cXIU(e,"op_thumbup");this.$cXIU(d,"op_thumbdown2");this.rd("up")}else{if(b.indexOf("ThumbDown")!==-1){var f=e.previousElementSibling;this.$cXIU(e,"op_thumbdown");this.$cXIU(f,"op_thumbup2");this.rd("down")}}}};this.ci=function(b){if(this.llmCurrent===null||this.llmCurrent===undefined){this.llmCurrent=this.llmStack.length-1}if(this.llmStack.length>0){this.llmCurrent=Math.max(0,this.llmCurrent-1);var a=this.$(this.target+"-cX-ChatInterfaceAsk");if(a){a.innerHTML=this.llmStack[this.llmCurrent].prompt}}};this.Hj=function(b){if(this.llmCurrent===null||this.llmCurrent===undefined){this.llmCurrent=this.llmStack.length-1}if(this.llmCurrent<this.llmStack.length-1){this.llmCurrent++;var a=this.$(this.target+"-cX-ChatInterfaceAsk");if(a){a.innerHTML=this.llmStack[this.llmCurrent].prompt}}};this.ye=function(a){this.FB(a,true)};this.rd=function(c){var d=this.$(this.target+"-cX-ChatInterfaceAsk");var b=d.innerHTML;b=b.replace(/&nbsp;/g," ").replace(/^\s*/,"").replace(/\s*$/,"");if(!b.match(/\.$/)){b+="."}var f=this.G0(this.DL());var a=CanvasXpress.factory.client;var g=this.llmServiceURL+"?callback=CanvasXpress.callbackRateLLM&service=thumb&target="+this.target+"&client="+a+"&thumb="+c+"&prompt="+b+"&header="+f;var e=document.createElement("script");e.id=this.target+"-cX-ChatInterfaceRateScript";e.src=encodeURI(g);document.body.appendChild(e)};this.jh=function(b){var e=this.zL(b);if(!e){return}var a=this.$(this.target+"-cX-ChatInterfaceGraphicalOutputTab");var c=this.$(this.target+"-cX-ChatInterfaceCodeOutputTab");var d=this.$(this.target+"-cX-ChatInterfaceGraphicalOutput");var f=this.$(this.target+"-cX-ChatInterfaceCodeOutput");if(e.id.indexOf("GraphicalOutputTab")!==-1){a.classList.add("Active");c.classList.remove("Active");d.style.display="block";f.style.display="none"}else{if(e.id.indexOf("CodeOutputTab")!==-1){a.classList.remove("Active");c.classList.add("Active");d.style.display="none";f.style.display="block"}}};this.eW=function(b){var c=this.$(this.target+"-cX-ChatInterfaceOutput");var a=this.$(this.target+"-cX-ChatInterfaceGraphContainer");if(c&&a){this.Sn(this.target+"-cX-ChatInterfaceGraphCanvas",true);c.style.display="none"}};this.FB=function(b){var i=this.$(this.target+"-cX-ChatInterfaceAsk");var f=CanvasXpress.doc.P.llmModel.O;if((i&&i.innerHTML!=="")||this.prompt){if(i&&i.innerHTML.match(/^<.+>$/)){i.innerHTML=i.textContent||i.innerText}var c=i?i.innerHTML:this.prompt;c=c.replace(/&nbsp;/g," ").replace(/^\s*/,"").replace(/\s*$/,"");if(!c.match(/\.$/)){c+="."}if(i){i.innerHTML=c}if(this.llmUseCopilot&&!this.prompt){var d=this.K8(c);if(d&&d.isValid){d={success:true,target:this.target,config:this.lS(c),prompt:c,client:CanvasXpress.factory.client,datetime:new Date().toGMTString()};this.DW();return CanvasXpress.callbackLLM(d)}else{alert(d?d.message:"Your prompt does not seem to be valid for Copilot. Using the LLM service instead.")}}this.isAskingLLM=true;if(!f.includes(this.llmModel)){this.llmModel=f[0]}this.llmTopp=Math.max(0,Math.min(1,this.llmTopp));this.llmTemperature=Math.max(0,Math.min(2,this.llmTemperature));this.llmPresencePenalty=Math.max(-2,Math.min(2,this.llmPresencePenalty));this.llmFrequencyPenalty=Math.max(-2,Math.min(2,this.llmFrequencyPenalty));this.llmMaxNewTokens=Math.max(1250,Math.min(2048,this.llmMaxNewTokens));this.llmPrompt=c;var j=this.G0(this.UY(c));var a=CanvasXpress.factory.client;var h=[this.llmModel,this.llmTopp,this.llmTemperature,this.llmPresencePenalty,this.llmFrequencyPenalty,this.llmMaxNewTokens].join(",");this.DW();var e;if(this.llmUseDev){e=this.llmServiceURL+"?callback=CanvasXpress.callbackLLM&dev=1&service=ask&target="+this.target+"&client="+a+"&config="+h+"&prompt="+c+"&header="+j}else{e=this.llmServiceURL+"?callback=CanvasXpress.callbackLLM&service=ask&target="+this.target+"&client="+a+"&config="+h+"&prompt="+c+"&header="+j}var g=document.createElement("script");g.id=this.target+"-cX-ChatInterfaceAskScript";g.src=encodeURI(e);document.body.appendChild(g)}};this.RP=function(){this.copilotObject={data:{columns:this.JZ(),maps:Object.values(this.L3()).map(function(a){return a[0]}),graphs:["Alluvial plot","Area graph","Area-Line graph","Bar graph","Bar-Line graph","Boxplot","Bin plot","Binplot graph","Bubble plot","Bullet graph","Bump plot","CDF plot","Chord diagram","Circular graph","Cleveland plot","Contour plot","Correlation plot","Density plot","Distribution plot","Donut chart","Dot-Line plot","Dotplot","Dumbbell plot","Fish plot","Gantt chart","Genome plot","Heatmap","Hexbin plot","Hexplot","Histogram","Kaplan-Meier plot","Line graph","Lollipop plot","Map","Meter plot","Network graph","Parallel Coordinates plot","Pareto chart","Pie chart","QQ plot","Quantile plot","Radar plot","Ribbon plot","Ridgeline plot","Sankey diagram","Scatter plot","Scatter-3D plot","Scatter-Bubble plot","Spaghetti plot","Stacked plot","Stacked-Line plot","Stacked-Percent plot","Stacked-Percent-Line plot","Streamgraph","Sunburst plot","Tag Cloud","Time Series plot","Tornado plot","Tree diagram","Treemap","Upset plot","Violin plot","Volcano plot","Venn diagram","Waterfall plot","Word Cloud"],graphsP:["Alluvial","Area","AreaLine","Bar","BarLine","Boxplot","Bin","Binplot","Bubble","Bullet","Bump","CDF","Chord","Circular","Cleveland","Contour","Correlation","Density","Distribution","Donut","DotLine","Dotplot","Dumbbell","Fish","Gantt","Genome","Heatmap","Hex","Hexplot","Histogram","KaplanMeier","Line","Lollipop","Map","Meter","Network","ParallelCoordinates","Pareto","Pie","QQ","Quantile","Radar","Ribbon","Ridgeline","Sankey","Scatter2D","Scatter3D","ScatterBubble2D","Spaghetti","Stacked","StackedLine","StackedPercent","StackedPercentLine","Streamgraph","Sunburst","TagCloud","TimeSeries","Tornado","Tree","Treemap","Upset","Violin","Volcano","Venn","Waterfall","WordCloud"],graphCategories:CanvasXpress.graphTypes},modifiers:[{phrase:"Set the title for the graph to",type:"text",category:"AllGraphs",id:"TG001",prop:"title"},{phrase:"Increase the font size of the graph title",type:"enum",options:["slightly","moderately","considerably"],category:"AllGraphs",requires:"TG001",id:"TG001_SIZE",prop:"titleScaleFontFactor",isScale:true,scaleDir:1},{phrase:"Decrease the font size of the graph title",type:"enum",options:["slightly","moderately","considerably"],category:"AllGraphs",requires:"TG001",id:"TG001_SIZE",prop:"titleScaleFontFactor",isScale:true,scaleDir:-1},{phrase:"Set the color of the graph title to",type:"text",category:"AllGraphs",requires:"TG001",id:"TG001_COLOR",prop:"titleColor"},{phrase:"Set the title for the x-axis to",type:"text",category:"AllGraphsNH",id:"XT001",prop:"xAxisTitle"},{phrase:"Increase the font size of the x-axis title",type:"enum",options:["slightly","moderately","considerably"],category:"AllGraphsNH",requires:"XT001",id:"XT001_SIZE",prop:"xAxisTitleScaleFontFactor",isScale:true,scaleDir:1},{phrase:"Decrease the font size of the x-axis title",type:"enum",options:["slightly","moderately","considerably"],category:"AllGraphsNH",requires:"XT001",id:"XT001_SIZE",prop:"xAxisTitleScaleFontFactor",isScale:true,scaleDir:-1},{phrase:"Set the color of the x-axis title to",type:"text",category:"AllGraphsNH",requires:"XT001",id:"XT001_COLOR",prop:"xAxisTitleColor"},{phrase:"Set the title for the y-axis to",type:"text",category:"ScatterGraphs",id:"YT001",prop:"yAxisTitle"},{phrase:"Increase the font size of the y-axis title",type:"enum",options:["slightly","moderately","considerably"],category:"ScatterGraphs",requires:"YT001",id:"YT001_SIZE",prop:"yAxisTitleScaleFontFactor",isScale:true,scaleDir:1},{phrase:"Decrease the font size of the y-axis title",type:"enum",options:["slightly","moderately","considerably"],category:"ScatterGraphs",requires:"YT001",id:"YT001_SIZE",prop:"yAxisTitleScaleFontFactor",isScale:true,scaleDir:-1},{phrase:"Set the color of the y-axis title to",type:"text",category:"ScatterGraphs",requires:"YT001",id:"YT001_COLOR",prop:"yAxisTitleColor"},{phrase:"Hide the legend",type:"toggle",category:"AllGraphsNL",id:"LG_VIS",prop:"showLegend",val:false},{phrase:"Show the legend",type:"toggle",category:"AllGraphsNL",id:"LG_VIS",prop:"showLegend",val:true},{phrase:"Put the legend on the",type:"enum",options:["top","bottom","left","right"],category:"AllGraphsNL",requires:"LG_VIS",prop:"legendPosition"},{phrase:"Divide the legend in two columns",type:"toggle",category:"AllGraphsNL",requires:"LG_VIS",prop:"legendColumns",val:2},{phrase:"Show original data",type:"toggle",category:"DotGraphs",id:"DT001",prop:"showBoxplotOriginalData",val:true},{phrase:"Jitter the data",type:"toggle",category:"DotGraphs",requires:"DT001",id:"DT_JITTER",prop:"jitter",val:true},{phrase:"Bin the data",type:"toggle",category:"DotGraphs",requires:"DT001",id:"DT_BIN",prop:"bin",val:true},{phrase:"Fit the data with a regression line",type:"toggle",category:"Scatter2D",id:"FT001",prop:"showRegressionFit",val:true},{phrase:"Fit the data with a loess spline",type:"toggle",category:"Scatter2D",id:"FT001",prop:"showLoessFit",val:true},{phrase:"Fit the with a quantile regression line",type:"toggle",category:"Scatter2D",id:"FT001",prop:"showQuantileRegressionFit",val:true},{phrase:"Orient the graph",type:"enum",options:["vertically","horizontally"],category:"OneDGraphs",prop:"graphOrientation"},{phrase:"Set the area graph",type:"enum",options:["overlapping","stacked","percent"],category:"Area",prop:"areaType"},{phrase:"Join the data points with a",type:"enum",options:["rect","spline"],category:"LineGraphs",prop:"lineType"},{phrase:"Use the style",type:"enum",options:Object.keys(CanvasXpress.themeDef),category:"AllGraphs",prop:"theme"},{phrase:"Use the color scheme",type:"enum",options:Object.keys(CanvasXpress.colorSchemes),category:"AllGraphs",prop:"colorScheme"},{phrase:"Set the maximum value for the x-axis to",type:"number",category:"ScatterGraphsND",prop:"setMaxX"},{phrase:"Set the minimum value for the x-axis to",type:"number",category:"ScatterGraphsND",prop:"setMinX"},{phrase:"Set the maximum value for the y-axis to",type:"number",category:"ScatterGraphsND",prop:"setMaxY"},{phrase:"Set the minimum value for the y-axis to",type:"number",category:"ScatterGraphsND",prop:"setMinY"},{phrase:"Add a red horizontal line at",type:"number",category:"DecorationGraphs"},{phrase:"Add a red vertical line at",type:"number",category:"DecorationGraphs"},{phrase:"Add a blue horizontal line at",type:"number",category:"DecorationGraphs"},{phrase:"Add a blue vertical line at",type:"number",category:"DecorationGraphs"},{phrase:"Add a black horizontal line at",type:"number",category:"DecorationGraphs"},{phrase:"Add a black vertical line at",type:"number",category:"DecorationGraphs"},{phrase:"Hide the whiskers",type:"toggle",category:"Boxplot",id:"DT002",prop:"boxplotWhiskersType",val:"none"},{phrase:"Show single whiskers",type:"toggle",category:"Boxplot",id:"DT002",prop:"boxplotWhiskersType",val:"single"},{phrase:"Show filled contour",type:"toggle",category:"Contour",prop:"contourFilled",val:true},{phrase:"Cluster the samples",type:"toggle",category:"Heatmap",prop:"samplesClustered",val:true},{phrase:"Color by",type:"data",category:"AllGraphsCol",prop:"colorBy"},{phrase:"Shape by",type:"data",category:"AllGraphsShpSiz",prop:"shapeBy"},{phrase:"Size by",type:"data",category:"AllGraphsShpSiz",prop:"sizeBy"},{phrase:"Group by",type:"data_multi",category:"OneDGraphsGrp",prop:"groupingFactors"},{phrase:"Sort data by",type:"sort",category:"SortGraphs"},{phrase:"Filter data where",type:"filter",category:"DecorationGraphs"}]}};this.WN=function(b){if(!b){return false}var c=this.copilotObject.data;var e=c.graphs.indexOf(b);var a=c.graphsP[e];var d=c.graphCategories.ThreeDGraphs;return Boolean(d&&d.indexOf(a)!==-1)};this.Rn=function(c){if(!c||this.WN(c)||this.FU(c)){return false}var d=this.copilotObject.data;var e=d.graphs.indexOf(c);var b=d.graphsP[e];var a=["Density","Distribution","Histogram","Ridgeline"];if(a.indexOf(b)!==-1){return false}var f=d.graphCategories.ScatterGraphs;return Boolean(f&&f.indexOf(b)!==-1)};this.FU=function(c){if(!c){return false}var d=this.copilotObject.data;var e=d.graphs.indexOf(c);var b=d.graphsP[e];var a=d.graphCategories.CombinationLineGraphs;return Boolean(a&&a.indexOf(b)!==-1)};this.l8=function(c,f){if(!f){return true}var d=this.copilotObject.data;var e=d.graphs.indexOf(c);if(!c||e===-1){return false}var b=d.graphsP[e];var a=d.graphCategories[f];if(!a){return true}return a.indexOf(b)!==-1};this.dP=function(e){var d=this.copilotObject.data;var g=this.copilotObject.modifiers;if(e==="."){return"finish"}if(e==="<Type your value>"||e==="<Type a number>"){return"disabled"}var c=["and","of","in the primary axis and","in the secondary axis","in the x-axis and","in the y-axis","in the y-axis and","in the z-axis"];if(c.indexOf(e)!==-1){return"connector"}if(e==="Create a"||e.indexOf("Create a ")===0||d.graphs.indexOf(e)!==-1){return"graph"}if(d.maps&&d.maps.indexOf(e)!==-1){return"map_name"}for(var f=0;f<d.columns.length;f++){if(d.columns[f].name===e){return"column"}}for(var b=0;b<g.length;b++){var a=g[b];if(a.phrase===e){return a.type}if(a.options&&a.options.indexOf(e)!==-1){return"enum"}}var h=["like","different","greater-than","less-than","equal","between"];if(h.indexOf(e)!==-1){return"filter"}if(e==="ascending"||e==="descending"){return"sort"}return"connector"};this.J8=function(aC){var K=this;var ap=this.copilotObject.data;var U=this.copilotObject.modifiers;var r=aC.split(".").map(function(i){return i.replace(/^\s+|\s+$/g,"")});var z=r[r.length-1];var X=null;var C=[];var G=[];for(var O=0;O<r.length-1;O++){var W=r[O];var aw=W.match(/^Create a (.*?) of/);if(aw&&ap.graphs.indexOf(aw[1])!==-1){X=aw[1]}else{for(var y=0;y<ap.graphs.length;y++){if(W.indexOf("Create a "+ap.graphs[y])===0){X=ap.graphs[y]}}}for(var l=0;l<U.length;l++){var w=U[l];if(W.indexOf(w.phrase)===0&&w.phrase!=="Filter data where"&&w.phrase!=="Sort data by"){G.push(w.phrase);if(w.id){C.push(w.id)}}}}var h=function(aI,i){return{options:aI.filter(function(aJ){return aJ.toLowerCase().indexOf(i.toLowerCase())===0}),replaceText:i}};if(!z&&!X){return h(["Create a"],"")}if(z.indexOf("Create a")===0){var al=z.substring(8).replace(/^\s+/,"");var k=null;for(var O=0;O<ap.graphs.length;O++){if(al.indexOf(ap.graphs[O])===0){k=ap.graphs[O];break}}if(!k){return h(ap.graphs,al)}var ae=al.substring(k.length).replace(/^\s+/,"");if(!ae){return h(["of"],"")}if(ae.indexOf("of")===0){var u=ae.substring(2).replace(/^\s+/,"");if(k==="Map"){var af=null;for(var az=0;az<ap.maps.length;az++){if(u.indexOf(ap.maps[az])===0){af=ap.maps[az];break}}if(af){if(!u.substring(af.length).replace(/^\s+/,"")){return h(["."],"")}return{options:[],replaceText:""}}return h(ap.maps,u)}var aF=ap.columns.filter(function(i){return i.type==="numeric"});var aa=this.FU(k);var ag=this.Rn(k);var ac=this.WN(k);if(aa){var an=u.match(/\s+in the primary axis and(\s+|$)/);if(an){var aA=an.index;var v=u.substring(0,aA).replace(/^\s+|\s+$/g,"");var j=u.substring(aA+an[0].length);var P=j.match(/\s+in the secondary axis(\s+|$)/);if(P){var D=j.substring(P.index+P[0].length).replace(/^\s+/,"");if(!D){return h(["."],"")}return{options:[],replaceText:""}}else{var m=j.split(/\s+and\s+|\s+and$/);var aj=m[m.length-1]||"";var aE=aj.replace(/^\s+|\s+$/g,"");var t=aj.replace(/^\s+/,"");var ak=v.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var F=m.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var av=ak.concat(F);var Y=false;for(var H=0;H<aF.length;H++){if(aF[H].name===aE){Y=true}}if(Y){return h(["and","in the secondary axis"],"")}var E=aF.filter(function(i){return av.indexOf(i.name)===-1}).map(function(i){return i.name});return h(E,t)}}else{var n=u.split(/\s+and\s+|\s+and$/);var aj=n[n.length-1]||"";var aE=aj.replace(/^\s+|\s+$/g,"");var t=aj.replace(/^\s+/,"");var s=n.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var Y=false;for(var H=0;H<aF.length;H++){if(aF[H].name===aE){Y=true}}if(Y){return h(["and","in the primary axis and"],"")}var E=aF.filter(function(i){return s.indexOf(i.name)===-1}).map(function(i){return i.name});return h(E,t)}}else{if(ac){var ax=u.match(/\s+in the x-axis and(\s+|$)/);if(ax){var ai=ax.index;var aH=u.substring(0,ai).replace(/^\s+|\s+$/g,"");var T=u.substring(ai+ax[0].length);var M=T.match(/\s+in the y-axis and(\s+|$)/);if(M){var aq=M.index;var N=T.substring(0,aq).replace(/^\s+|\s+$/g,"");var Q=T.substring(aq+M[0].length);var aB=Q.match(/\s+in the z-axis(\s+|$)/);if(aB){var p=Q.substring(aB.index+aB[0].length).replace(/^\s+/,"");if(!p){return h(["."],"")}return{options:[],replaceText:""}}else{var Z=Q.split(/\s+and\s+|\s+and$/);var aj=Z[Z.length-1]||"";var aE=aj.replace(/^\s+|\s+$/g,"");var t=aj.replace(/^\s+/,"");var g=aH.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var e=N.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var c=Z.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var ar=g.concat(e,c);var Y=false;for(var H=0;H<aF.length;H++){if(aF[H].name===aE){Y=true}}if(Y){return h(["and","in the z-axis"],"")}var ab=aF.filter(function(i){return ar.indexOf(i.name)===-1}).map(function(i){return i.name});return h(ab,t)}}else{var am=T.split(/\s+and\s+|\s+and$/);var aj=am[am.length-1]||"";var aE=aj.replace(/^\s+|\s+$/g,"");var t=aj.replace(/^\s+/,"");var g=aH.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var e=am.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var ar=g.concat(e);var Y=false;for(var H=0;H<aF.length;H++){if(aF[H].name===aE){Y=true}}if(Y){return h(["and","in the y-axis and"],"")}var ab=aF.filter(function(i){return ar.indexOf(i.name)===-1}).map(function(i){return i.name});return h(ab,t)}}else{var aD=u.split(/\s+and\s+|\s+and$/);var aj=aD[aD.length-1]||"";var aE=aj.replace(/^\s+|\s+$/g,"");var t=aj.replace(/^\s+/,"");var o=aD.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var Y=false;for(var H=0;H<aF.length;H++){if(aF[H].name===aE){Y=true}}if(Y){return h(["and","in the x-axis and"],"")}var ab=aF.filter(function(i){return o.indexOf(i.name)===-1}).map(function(i){return i.name});return h(ab,t)}}else{if(ag){var ax=u.match(/\s+in the x-axis and(\s+|$)/);if(ax){var ai=ax.index;var aH=u.substring(0,ai).replace(/^\s+|\s+$/g,"");var q=u.substring(ai+ax[0].length);var M=q.match(/\s+in the y-axis(\s+|$)/);if(M){var p=q.substring(M.index+M[0].length).replace(/^\s+/,"");if(!p){return h(["."],"")}return{options:[],replaceText:""}}else{var am=q.split(/\s+and\s+|\s+and$/);var aj=am[am.length-1]||"";var aE=aj.replace(/^\s+|\s+$/g,"");var t=aj.replace(/^\s+/,"");var g=aH.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var e=am.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var ar=g.concat(e);var Y=false;for(var H=0;H<aF.length;H++){if(aF[H].name===aE){Y=true}}if(Y){return h(["and","in the y-axis"],"")}var ab=aF.filter(function(i){return ar.indexOf(i.name)===-1}).map(function(i){return i.name});return h(ab,t)}}else{var aD=u.split(/\s+and\s+|\s+and$/);var aj=aD[aD.length-1]||"";var aE=aj.replace(/^\s+|\s+$/g,"");var t=aj.replace(/^\s+/,"");var o=aD.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var Y=false;for(var H=0;H<aF.length;H++){if(aF[H].name===aE){Y=true}}if(Y){return h(["and","in the x-axis and"],"")}var ab=aF.filter(function(i){return o.indexOf(i.name)===-1}).map(function(i){return i.name});return h(ab,t)}}else{var f=u.split(/\s+and\s+|\s+and$/);var aj=f[f.length-1]||"";var aE=aj.replace(/^\s+|\s+$/g,"");var t=aj.replace(/^\s+/,"");var s=f.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var Y=false;for(var H=0;H<aF.length;H++){if(aF[H].name===aE){Y=true}}if(Y){return h(["and","."],"")}var E=aF.filter(function(i){return s.indexOf(i.name)===-1}).map(function(i){return i.name});return h(E,t)}}}}if("of".indexOf(ae.toLowerCase())===0){return h(["of"],ae)}return{options:[],replaceText:""}}var ao=null;for(var O=0;O<U.length;O++){if(z.indexOf(U[O].phrase)===0){ao=U[O];break}}if(ao){var d=z.substring(ao.phrase.length).replace(/^\s+/,"");if(ao.type==="data"){var Y=false;for(var H=0;H<ap.columns.length;H++){if(ap.columns[H].name===d.replace(/\s+$/,"")){Y=true}}if(Y){return h(["."],"")}return h(ap.columns.map(function(i){return i.name}),d)}else{if(ao.type==="data_multi"){var J=d.split(/\s+and\s+|\s+and$/);var ay=J[J.length-1].replace(/^\s+/,"");var A=ay.replace(/\s+$/g,"");var L=J.slice(0,-1).map(function(i){return i.replace(/^\s+|\s+$/g,"")});var S=false;for(var H=0;H<ap.columns.length;H++){if(ap.columns[H].name===A){S=true}}if(S){return h(["and","."],"")}var at=ap.columns.filter(function(i){return L.indexOf(i.name)===-1}).map(function(i){return i.name});return h(at,ay)}else{if(ao.type==="sort"){var a=null;for(var ah=0;ah<ap.columns.length;ah++){if(d.indexOf(ap.columns[ah].name)===0){a=ap.columns[ah].name;break}}if(a){var V=d.substring(a.length).replace(/^\s+/,"");if(!V){return h(["ascending","descending"],"")}if(["ascending","descending"].indexOf(V.replace(/\s+$/,""))!==-1){return h(["."],"")}return h(["ascending","descending"],V)}return h(ap.columns.map(function(i){return i.name}),d)}else{if(ao.type==="filter"){var R=null;var ad=null;for(var ah=0;ah<ap.columns.length;ah++){if(d.indexOf(ap.columns[ah].name)===0){R=ap.columns[ah].name;ad=ap.columns[ah].type;break}}if(R){var B=ad==="numeric"?["greater-than","less-than","equal","between"]:["like","different"];var aG=d.substring(R.length).replace(/^\s+/,"");var x=ap.columns[ah];if(!aG){return h(B,"")}var au=null;for(var I=0;I<B.length;I++){if(aG.indexOf(B[I])===0){au=B[I];break}}if(au){if(aG.substring(au.length).replace(/^\s+/,"").length>0){return h(["."],"")}if(ad==="numeric"){return{options:["< Value between "+x.min+" and "+x.max+" >"],replaceText:""}}else{return{options:x.levels,replaceText:""}}}return h(B,aG)}return h(ap.columns.map(function(i){return i.name}),d)}else{if(ao.type==="enum"){if(ao.options.indexOf(d.replace(/\s+$/,""))!==-1){return h(["."],"")}return h(ao.options,d)}else{if(ao.type==="text"){if(d.length>0){return h(["."],"")}return{options:["<Type your value>"],replaceText:""}}else{if(ao.type==="number"){if(d.length>0&&!isNaN(Number(d.replace(/\s+$/,"")))){return h(["."],"")}return{options:["<Type a number>"],replaceText:""}}else{if(ao.type==="toggle"){return h(["."],"")}}}}}}}}}var b=U.filter(function(i){if(!K.l8(X,i.category)){return false}if(G.indexOf(i.phrase)!==-1&&i.phrase!=="Filter data where"&&i.phrase!=="Sort data by"){return false}if(i.id&&C.indexOf(i.id)!==-1){if(z.indexOf(i.phrase)!==0){return false}}if(i.requires&&C.indexOf(i.requires)===-1){return false}return true}).map(function(i){return i.phrase});return h(b,z)};this.lS=function(x){var A={};var G=this.copilotObject.data;var f=this.copilotObject.modifiers;if(!x){return A}var L=x.split(".").map(function(i){return i.replace(/^\s+|\s+$/g,"")}).filter(function(i){return i.length>0});for(var K=0;K<L.length;K++){var z=L[K];var I=z.match(/^Create a (.*?) of/);if(I){var N=I[1];var J=G.graphs.indexOf(N);if(J!==-1){var O=G.graphsP[J];A.graphType=O;var u=z.substring(I[0].length).replace(/^\s+/,"");if(O==="Map"){A.mapId=u;continue}var e=this.FU(N);var D=this.WN(N);var t=this.Rn(N);if(e){var j=u.match(/\s+in the primary axis and(\s+|$)/);var k=u.match(/\s+in the secondary axis/);if(j&&k){var g=u.substring(0,j.index).replace(/^\s+|\s+$/g,"");var r=u.substring(j.index+j[0].length,k.index).replace(/^\s+|\s+$/g,"");A.xAxis=g.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});A.yAxis=r.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")})}}else{if(D){var F=u.match(/\s+in the x-axis and(\s+|$)/);var s=u.match(/\s+in the y-axis and(\s+|$)/);var H=u.match(/\s+in the z-axis/);if(F&&s&&H){var y=u.substring(0,F.index).replace(/^\s+|\s+$/g,"");var q=u.substring(F.index+F[0].length,s.index).replace(/^\s+|\s+$/g,"");var b=u.substring(s.index+s[0].length,H.index).replace(/^\s+|\s+$/g,"");A.xAxis=y.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});A.yAxis=q.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});A.zAxis=b.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")})}}else{if(t){var F=u.match(/\s+in the x-axis and(\s+|$)/);var s=u.match(/\s+in the y-axis/);if(F&&s){var y=u.substring(0,F.index).replace(/^\s+|\s+$/g,"");var q=u.substring(F.index+F[0].length,s.index).replace(/^\s+|\s+$/g,"");A.xAxis=y.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});A.yAxis=q.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")})}}else{var l=u.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")});if(O.indexOf("Spaghetti")!==-1){A.xAxis=[l[0]];if(l.length>1){A.yAxis=l.slice(1)}}else{A.xAxis=l}}}}}continue}for(var E=0;E<f.length;E++){var n=f[E];if(z.indexOf(n.phrase)===0){var M=z.substring(n.phrase.length).replace(/^\s+/,"");if(n.type==="toggle"){if(n.prop){A[n.prop]=(n.val!==undefined)?n.val:true}}else{if(n.type==="text"||n.type==="number"){var a=n.type==="number"?Number(M):M;if(n.prop){A[n.prop]=a}if(n.phrase.indexOf("Add a ")===0){var c=n.phrase.match(/Add a (.*?) (horizontal|vertical) line at/);if(c){if(!A.decorations){A.decorations={}}if(!A.decorations.line){A.decorations.line=[]}var p={color:c[1]};if(c[2]==="horizontal"){p.y=a}else{p.x=a}A.decorations.line.push(p)}}}else{if(n.type==="enum"){if(n.isScale){var w={slightly:0.1,moderately:0.2,considerably:0.3};var m=w[M]||0.1;A[n.prop]=n.scaleDir===1?(1+m):(1-m)}else{if(n.prop==="graphOrientation"){A[n.prop]=M==="vertically"?"vertical":"horizontal"}else{if(n.prop){A[n.prop]=M}}}}else{if(n.type==="data"){if(n.prop){A[n.prop]=M}}else{if(n.type==="data_multi"){if(n.prop){A[n.prop]=M.split(/\s+and\s+/).map(function(i){return i.replace(/^\s+|\s+$/g,"")})}}else{if(n.type==="sort"){var v=M.split(/\s+/);if(!A.sortData){A.sortData=[]}A.sortData.push(["cat","smp",v[0],v[1]||"ascending"])}else{if(n.type==="filter"){var o=["like","different","greater-than","less-than","equal","between"];var h="";var B="";for(var C=0;C<o.length;C++){if(M.indexOf(o[C])!==-1){B=o[C];h=M.split(B)[0].replace(/^\s+|\s+$/g,"");break}}if(B){if(!A.filterData){A.filterData=[]}var d=M.split(B)[1].replace(/^\s+|\s+$/g,"");A.filterData.push(["guess",h,B,[d]])}}}}}}}}break}}}return A};this.Ne=function(m,a,w){var E=this;var t=[];var I=[];if(!this.copilotObject){this.RP()}var Q=this.copilotObject.data;if(!m||m==="all"){I=Q.graphs}else{if(Array.isArray(m)){I=m}else{I=[m]}}var W=function(i){return i[Math.floor(Math.random()*i.length)]};var O=function(k,i){return Math.floor(Math.random()*(i-k+1))+k};var B=function(i){return W(i)};for(var V=0;V<a;V++){var K=W(I);var F=K==="Map";var r=[];if(F){r.push("Create a Map of "+W(Q.maps))}else{var c=this.FU(K);var J=this.Rn(K);var d=this.WN(K);var n=Q.columns.filter(function(i){return i.type==="numeric"});var p=n.slice().sort(function(){return 0.5-Math.random()});if(c){var C=Math.floor(Math.random()*2)+1;var x=Math.floor(Math.random()*2)+1;if(C+x>p.length){C=1;x=1}var j=[];var A=[];var S=0;for(var T=0;T<C;T++){j.push(p[S++].name)}for(var T=0;T<x;T++){A.push(p[S++].name)}r.push("Create a "+K+" of "+j.join(" and ")+" in the primary axis and "+A.join(" and ")+" in the secondary axis")}else{if(d){var h=Math.floor(Math.random()*2)+1;var g=Math.floor(Math.random()*2)+1;var f=Math.floor(Math.random()*2)+1;if(h+g+f>p.length){h=1;g=1;f=1}var q=[],e=[],M=[],D=0;for(var T=0;T<h;T++){q.push(p[D++].name)}for(var T=0;T<g;T++){e.push(p[D++].name)}for(var T=0;T<f;T++){M.push(p[D++].name)}r.push("Create a "+K+" of "+q.join(" and ")+" in the x-axis and "+e.join(" and ")+" in the y-axis and "+M.join(" and ")+" in the z-axis")}else{if(J){var h=Math.floor(Math.random()*2)+1;var g=Math.floor(Math.random()*2)+1;if(h+g>p.length){h=1;g=1}var q=[],e=[],D=0;for(var T=0;T<h;T++){q.push(p[D++].name)}for(var T=0;T<g;T++){e.push(p[D++].name)}r.push("Create a "+K+" of "+q.join(" and ")+" in the x-axis and "+e.join(" and ")+" in the y-axis")}else{var v=Math.floor(Math.random()*3)+1;if(v>p.length){v=p.length}var y=[];for(var T=0;T<v;T++){y.push(p[T].name)}r.push("Create a "+K+" of "+y.join(" and "))}}}}var R=[];var L=[];var N=Math.max(0,Math.floor(Math.random()*((w*2)-1)));var P=0;while(r.length-1<N&&P<50){P++;var U=this.copilotObject.modifiers.filter(function(i){if(!E.l8(K,i.category)){return false}if(R.indexOf(i.phrase)!==-1){return false}if(i.id&&L.indexOf(i.id)!==-1){return false}if(i.requires&&L.indexOf(i.requires)===-1){return false}return true});if(U.length===0){break}var l=W(U);R.push(l.phrase);if(l.id){L.push(l.id)}var z=l.phrase;if(l.type==="enum"){z+=" "+W(l.options)}else{if(l.type==="number"){z+=" "+Math.floor(Math.random()*500)}else{if(l.type==="text"){var s=l.phrase.toLowerCase().indexOf("color")!==-1;var H=s?W(["red","blue","black","green"]):W(["Sample text","My Chart","Data View"]);z+=" "+H}else{if(l.type==="data"||l.type==="data_multi"){z+=" "+W(Q.columns).name}else{if(l.type==="sort"){z+=" "+W(Q.columns).name+" "+W(["ascending","descending"])}else{if(l.type==="filter"){var u=W(Q.columns);var G=u.type==="numeric"?W(["greater-than","less-than","equal"]):W(["like","different"]);var b=u.type==="numeric"?O(u.min,u.max):B(u.levels);z+=" "+u.name+" "+G+" "+b}}}}}}r.push(z)}var o=r.join(". ")+".";t.push({prompt:o,config:this.lS(o)})}return t};this.jv=function(b){b.focus();if(typeof window.getSelection!=="undefined"&&typeof document.createRange!=="undefined"){var a=document.createRange();a.selectNodeContents(b);a.collapse(false);var c=window.getSelection();c.removeAllRanges();c.addRange(a)}};this.In=function(){var c=this.$(this.target+"-cX-ChatInterfaceAsk");if(c){c.innerText=""}var b=this.$(this.target+"-cX-ChatInterfaceOutput");if(b){b.style.display="none"}var a=this.$(this.target+"-cX-ChatInterfaceThumbs");if(a){a.style.display="none"}this.fG();if(c){c.focus()}};this.fG=function(){var b=this;if(!this.llmUseCopilot){return}this.RP();var c=this.$(this.target+"-cX-ChatInterfaceAsk");var d=this.$(this.target+"-cX-ChatInterfaceSuggestions");if(!c||!d){return}var a=this.J8(c.innerText);d.innerHTML="";if(c.innerText.trim().length>0){c.removeAttribute("empty")}else{c.setAttribute("empty","")}a.options.forEach(function(f){var g=b.$cX("span");var e=b.dP(f);g.className="hint "+e;g.innerText=f==="."?"Finish Sentence (.)":f;if(e==="disabled"){g.style.cursor="default"}else{g.onclick=function(){b.kb(f,a.replaceText)}}d.appendChild(g)})};this.kb=function(l,a){var k=this.$(this.target+"-cX-ChatInterfaceAsk");if(!k){return}if(l==="."){k.innerText=k.innerText.replace(/\s+$/,"")+". "}else{var c=k.innerText.split(".");var e=c[c.length-1];var g=e.replace(/^\s+|\s+$/g,"");if(a&&g.slice(-a.length).toLowerCase()===a.toLowerCase()){g=g.slice(0,g.length-a.length)}var h=(g&&g.charAt(g.length-1)!==" ")?" ":"";c[c.length-1]=g+h+l;var b="";for(var d=0;d<c.length;d++){var f=c[d].replace(/^\s+|\s+$/g,"");if(d===c.length-1){b+=f}else{b+=f+". "}}k.innerText=b+" "}var j=this.J8(k.innerText);if(j.options.length===1&&j.options[0]==="."){k.innerText=k.innerText.replace(/\s+$/,"")+". "}this.fG();this.jv(k)};this.NL=function(){var f=this.$(this.target+"-cX-ChatInterfaceAsk");if(!f){return}var a=f.innerText;if(!a||a.trim().length===0){return}var b=this.K8(a);if(!b.isValid){alert("Syntax Error:\n\n"+b.message);f.style.borderColor="#ef4444";setTimeout(function(){f.style.borderColor="transparent"},2000);return}var g=this.lS(a);var e=this.$(this.target+"-cX-ChatInterfaceOutput");var d=this.$(this.target+"-cX-ChatInterfaceCodeOutput");if(e&&d){e.style.display="block";d.value=JSON.stringify(g,null,2)}var c=this.$(this.target+"-cX-ChatInterfaceThumbs");if(c){c.style.display="flex"}};this.IG=function(c){if(c.key==="Tab"||c.keyCode===9){if(!this.llmUseCopilot){return}var d=this.$(this.target+"-cX-ChatInterfaceAsk");if(!d){return}var a=this.J8(d.innerText);if(a.options.length>0){var e=a.options[0];var b=e!=="<Type your value>"&&e!=="<Type a number>";if(b){if(c.preventDefault){c.preventDefault()}this.kb(e,a.replaceText)}}}else{if(c.key==="Enter"||c.keyCode===13){if(c.preventDefault){c.preventDefault()}this.NL()}}};this.K8=function(n){if(!this.llmUseCopilot){return{isValid:false,message:"Copilot is not enabled."}}if(!n||n.trim()===""){return{isValid:false,message:"The prompt is empty."}}if(n.trim().slice(-1)!=="."){return{isValid:false,message:"The prompt must end with a period (.) to form proper sentences."}}var u=this.copilotObject.data;var a=this.copilotObject.modifiers;var x=n.split(".").map(function(c){return c.replace(/^\s+|\s+$/g,"")});x.pop();var p=null;for(var w=0;w<x.length;w++){var h=x[w];if(h.indexOf("Create a")===0){var q=h.match(/^Create a (.*?) of/);if(!q||(u.graphs.indexOf(q[1])===-1&&q[1]!=="Map")){return{isValid:false,message:"Invalid graph type in sentence: '"+h+"'"}}p=q[1];if(p!=="Map"){var k=h.substring(q[0].length).replace(/^\s+/,"");var j=k.replace(/\s+in the primary axis and\s+/g," and ").replace(/\s+in the secondary axis\s*/g,"").replace(/\s+in the x-axis and\s+/g," and ").replace(/\s+in the y-axis and\s+/g," and ").replace(/\s+in the y-axis\s*/g,"").replace(/\s+in the z-axis\s*/g,"");var o=j.split(/\s+and\s+/);for(var m=0;m<o.length;m++){var g=o[m].replace(/^\s+|\s+$/g,"");if(g===""){continue}var l=null;for(var z=0;z<u.columns.length;z++){if(u.columns[z].name===g){l=u.columns[z];break}}if(!l){return{isValid:false,message:"Column '"+g+"' is not a valid dataset column."}}if(l.type!=="numeric"){return{isValid:false,message:"Column '"+g+"' must be numerical in the graph axes."}}}}continue}var e=null;for(var f=0;f<a.length;f++){if(h.indexOf(a[f].phrase)===0){e=a[f];break}}if(!e){return{isValid:false,message:"Unrecognized command: '"+h+"'. Please use the suggestions."}}if(p&&!this.l8(p,e.category)){return{isValid:false,message:"The command '"+e.phrase+"' is not supported for a "+p+"."}}var s=h.substring(e.phrase.length).replace(/^\s+/,"");if(e.type==="number"){if(s===""||isNaN(Number(s))){return{isValid:false,message:"Expected a number after '"+e.phrase+"', but got '"+s+"'."}}}else{if(e.type==="enum"){if(e.options&&e.options.indexOf(s)===-1){return{isValid:false,message:"Invalid option '"+s+"'. Expected one of: "+e.options.join(", ")}}}else{if(e.type==="data"||e.type==="data_multi"){var b=s.split(/\s+and\s+/);for(var y=0;y<b.length;y++){var A=b[y].replace(/^\s+|\s+$/g,"");var v=false;for(var r=0;r<u.columns.length;r++){if(u.columns[r].name===A){v=true}}if(!v){return{isValid:false,message:"The column '"+A+"' does not exist in the dataset."}}}}}}}return{isValid:true,message:"Valid prompt."}}};CanvasXpress.prototype.initCodeInfo=function(){this.qU=function(){var codeDiv=this.$(this.target+"-cX-Code");if(codeDiv){return codeDiv}var isCustomizing=this.view=="customize";var left=isCustomizing?(this.customizerLeftWidth+1)+"px":"25px";var top=isCustomizing?"-1px":"25px";var height=isCustomizing?(window.innerHeight-2)+"px":"600px";var radius=isCustomizing?"0 5px 5px 0":"5px";codeDiv=this.$cX("div",{id:this.target+"-cX-Code",className:"cX-code draggable"},{left:left,top:top,height:height,borderRadius:radius,display:"none",maxWidth:"600px"});var toolbar=this.sd();var contentContainer=this.$cX("div",{id:this.target+"-cX-CodeContainer",className:"cX-code-container"},{height:"calc(100% - 50px)",maxWidth:"550px"});var codePre=this.$cX("pre",{id:this.target+"-cX-CodeContent",className:"cX-code-content",innerHTML:""});var codeContainer=this.$(this.target+"-cX-Container-Code");if(codeContainer){codeDiv.appendChild(toolbar);contentContainer.appendChild(codePre);codeDiv.appendChild(contentContainer);codeContainer.appendChild(codeDiv);this.DR("addEvtListener")}return codeDiv};this.sd=function(){var toolbar=this.$cX("div",{id:this.target+"-cX-CodeToolbar",className:"cX-code-toolbar"});var icons=this.w2();var errors=this.$cX("div",{id:this.target+"-cX-CodeErrors",className:"cX-code-error"});toolbar.appendChild(errors);toolbar.appendChild(icons);return toolbar};this.w2=function(){var iconsContainer=this.$cX("div",{id:this.target+"-cX-CodeIcons",className:"cX-code-icons"});var closeIcon=this.$cXI("op_cancel",{id:this.target+"-cX-CodeCloseImage",className:"cX-code",src:"op_cancel",title:"Close Code"},false,false,32);var prettyCodeIcon=this.$cXI("cd_linesindent",{id:this.target+"-cX-CodePrettyImage",className:"cX-code",src:"cd_linesindent",title:"Pretty Code"},false,false,32);var paramsCodeIcon=this.$cXI("cd_params",{id:this.target+"-cX-CodeParamsImage",className:"cX-code",src:"cd_params",title:"Params Code"},false,false,32);var selectCodeIcon=this.$cXI("cd_select",{id:this.target+"-cX-CodeSelectImage",className:"cX-code",src:"cd_select",title:"Select Code"},false,false,32);var editCodeIcon=this.$cXI("fp_pencil",{id:this.target+"-cX-CodeEditImage",className:"cX-code",src:"fp_pencil",title:"Edit Code"},false,false,32);var saveCodeIcon=this.$cXI("sv_disk",{id:this.target+"-cX-CodeSaveImage",className:"cX-code",src:"sv_disk",title:"Save Code"},{display:"none"},false,32);iconsContainer.appendChild(saveCodeIcon);iconsContainer.appendChild(editCodeIcon);iconsContainer.appendChild(selectCodeIcon);iconsContainer.appendChild(paramsCodeIcon);iconsContainer.appendChild(prettyCodeIcon);iconsContainer.appendChild(closeIcon);return iconsContainer};this.DR=function(action){var codePanel=this.$(this.target+"-cX-Code");var closeIcon=this.$(this.target+"-cX-CodeCloseImage");var prettyIcon=this.$(this.target+"-cX-CodePrettyImage");var paramsIcon=this.$(this.target+"-cX-CodeParamsImage");var selectIcon=this.$(this.target+"-cX-CodeSelectImage");var editIcon=this.$(this.target+"-cX-CodeEditImage");var saveIcon=this.$(this.target+"-cX-CodeSaveImage");var codeContent=this.$(this.target+"-cX-CodeContent");if(codePanel){this.cI(action,codePanel,"mousedown","registerMousemove",[],false)}if(closeIcon){this.cI(action,closeIcon,"click","clickCode",[],false)}if(prettyIcon){this.cI(action,prettyIcon,"click","clickChangeCode",[],false)}if(paramsIcon){this.cI(action,paramsIcon,"click","clickChangeCode",[],false)}if(selectIcon){this.cI(action,selectIcon,"click","clickSelectCode",[],false)}if(editIcon){this.cI(action,editIcon,"click","clickEditCode",[],false)}if(saveIcon){this.cI(action,saveIcon,"click","clickSaveCode",[],false)}if(codeContent){this.cI(action,codeContent,"input","inputCode",[],false)}};this.L7=function(){var codePanel=this.$(this.target+"-cX-Code");if(codePanel){this.DR("removeEvtListener");codePanel.parentNode.removeChild(codePanel)}};this.Nr=function(event){this.Ta(event)};this.jX=function(event){var saveIcon=this.$(this.target+"-cX-CodeSaveImage");if(saveIcon){saveIcon.style.display="none"}var clickedElement=this.zL(event);var elementId=clickedElement.id;if(elementId===this.target+"-cX-CodePrettyImage"){this.codeType="pretty"}else{if(elementId===this.target+"-cX-CodeParamsImage"){this.codeType="params"}}this.pt(false,true)};this.eK=function(event){var codeArea=this.$(this.target+"-cX-CodeContent");if(codeArea){if(window.getSelection){var selection=window.getSelection();var range=document.createRange();range.selectNodeContents(codeArea);selection.removeAllRanges();selection.addRange(range)}else{if(document.selection){var range=document.body.createTextRange();range.moveToElementText(codeArea);range.select()}}}};this.cK=function(event){var saveIcon=this.$(this.target+"-cX-CodeSaveImage");if(saveIcon){saveIcon.style.display="block"}var chartConfig={renderTo:this.target,data:this.ro(false,true),config:this.SC(),events:(this.events?"_EVENTS_":false)};var jsonCode=this.G0(chartConfig,false,2);if(this.events){var eventsSource=this.rT(false,true,true);jsonCode=jsonCode.replace('"_EVENTS_"',eventsSource)}var htmlContent="<code> "+jsonCode.replace(/\n/g,"</code>\n<code> ")+"</code>";var codePanel=this.$(this.target+"-cX-Code");var codeContainer=this.$(this.target+"-cX-CodeContainer");if(codePanel&&codeContainer){this.LW(htmlContent,false,"block",true,false)}var codeArea=this.$(this.target+"-cX-CodeContent");if(codeArea){codeArea.contentEditable=true;codeArea.focus()}};this.UG=function(codeString){var errorMessage=false;var parsedJson=false;if(codeString){var eventsMatch=codeString.match(/(,\n\s*"events[^]+)/g);var eventsString=eventsMatch?eventsMatch[0]:null;var eventTypes=["click","dblclick","mousemove","mouseout"];if(eventsString){codeString=codeString.replace(eventsString,"}")}try{parsedJson=JSON.parse(codeString)}catch(error){if(error instanceof SyntaxError){var matchResult=error.message.match(/at position (\d+)/);if(matchResult&&matchResult[1]){var position=Number(matchResult[1]);var lineCount=(codeString.substr(0,position).match(/\n/g)||[]).length;errorMessage=error.name+" : "+error.message+" before end of line "+(lineCount+1)}else{errorMessage=error.name+" : "+error.message}}else{errorMessage=error.name+" : "+error.message}}if(errorMessage){return{error:errorMessage}}if(eventsString){eventsString=eventsString.replace(/,\n\s*"events":\s*{/,"").replace(/}\n\s*}$/,"");for(var i=0;i<eventTypes.length;i++){var regex=new RegExp('"'+eventTypes[i]+'":[^"]+');var testResult=regex.exec(eventsString);var eventFunction;if(testResult){var functionBody=testResult[0].replace(/^\s*/,"").replace(/,\n*\s*$/,"").split(":")[1].replace(/\n/g,"");try{eventFunction=eval("("+functionBody+")")}catch(error){errorMessage="Error in: "+eventTypes[i]+" "+error.message}if(errorMessage){return{error:errorMessage}}else{if(!parsedJson.hasOwnProperty("events")){parsedJson.events={}}parsedJson.events[eventTypes[i]]=eventFunction}}}}return{error:false,data:parsedJson}}};this.Hh=function(configData){this.Ta();this.vg();configData.config.view="canvas";this.updateData(configData.data,true,false,configData.config);this.oL(configData.data,configData.config,configData.events,configData.info,configData.afterRender);this.O6()};this.Lm=function(event){var codeElement=this.$(this.target+"-cX-CodeContent");if(codeElement){var validation=this.UG(codeElement.innerText);if(validation.error){alert(validation.error)}else{this.Hh(validation.data)}}};this.Pj=function(event){var codeContentElement=this.$(this.target+"-cX-CodeContent");var errorDisplayElement=this.$(this.target+"-cX-CodeErrors");if(codeContentElement){var range=document.createRange();var selection=window.getSelection();var caretOffset=selection.baseOffset;var parentElement=selection.baseNode.parentElement;var childIndex=0;var isNewLine=false;if(parentElement.tagName.toUpperCase()=="PRE"){parentElement=selection.baseNode.previousElementSibling;isNewLine=true}while(parentElement.previousElementSibling&&parentElement.previousElementSibling.tagName.toUpperCase()=="CODE"){parentElement=parentElement.previousElementSibling;childIndex++}var rawText=codeContentElement.innerText;if(isNewLine){rawText=rawText.replace(/\n\n/,"\n");caretOffset=codeContentElement.children[childIndex].firstChild.length}var formattedHtml="<code>"+rawText.replace(/"/g,"&quot;").replace(/<(.+?)>/g,"&lt;$1&gt;").replace(/\n/g,"</code>\n<code>")+"</code>";codeContentElement.innerHTML=formattedHtml;var targetTextNode=codeContentElement.children[childIndex].firstChild;if(targetTextNode==null){codeContentElement.children[childIndex].appendChild(document.createTextNode("  "));targetTextNode=codeContentElement.children[childIndex].firstChild;caretOffset+=2}range.setStart(targetTextNode,caretOffset);range.collapse(true);selection.removeAllRanges();selection.addRange(range);var validationResult=this.UG(rawText);if(errorDisplayElement&&validationResult.error){errorDisplayElement.innerHTML=validationResult.error;errorDisplayElement.style.color="#ff0000"}else{if(errorDisplayElement){errorDisplayElement.innerHTML="Valid Script";errorDisplayElement.style.color="#00ff00"}}}};this.LW=function(contentHtml,zIndex,iconDisplay,preventClosing,titleText){var codePanel=this.$(this.target+"-cX-Code");if(!codePanel){codePanel=this.ih()}var contentElement=this.$(this.target+"-cX-CodeContent");var errorElement=this.$(this.target+"-cX-CodeErrors");if(codePanel&&contentElement&&errorElement){contentElement.innerHTML=contentHtml||"";this.PD(iconDisplay);if(titleText!==false){errorElement.style.fontSize="medium";errorElement.style.fontWeight="bold";errorElement.innerHTML=titleText||""}if(!preventClosing){codePanel.style.display="none";if(zIndex){codePanel.style.zIndex=zIndex}}}};this.ro=function(pretty,json){var validDataKeys={x:true,y:true,z:true,venn:true,nodes:true,edges:true,tracks:true};var stackData=CanvasXpress.stack[this.target].data;var clonedData={};for(var key in stackData){if(validDataKeys.hasOwnProperty(key)){clonedData[key]=this.aj(stackData[key],true)}}if(clonedData.y){this.jp(clonedData)}return json?clonedData:pretty?this.O5(clonedData,null,true):this.G0(clonedData)};this.jp=function(obj){if(obj&&obj.data){if(obj.data&&obj.data.y){var dataKeysToRemove=this.isRawData?["labs","glab","desc","mean","median","stdev","n","qtl1","qtl3","iqr","iqr1","iqr3","out","conf","trans","tstdev","cor","min","max","sum","count","grps","grpIdxs","factors"]:["labs","glab","desc","data"];for(var i=0;i<dataKeysToRemove.length;i++){delete obj.data.y[dataKeysToRemove[i]]}var componentKeysToRemove=["l","w","sankey","tree","bubble","gantt","contour"];for(var i=0;i<componentKeysToRemove.length;i++){delete obj.data[componentKeysToRemove[i]]}}return obj}else{if(obj&&this.graphType=="Map"){return obj}}};this.sC=function(pretty){return pretty?this.O5(this.SC(),null,true):this.G0(this.SC())};this.rT=function(pretty,real,str){if(real){var eventsObject={};if(this.events){for(var eventType in this.events){eventsObject[eventType]=this.sw(this.events[eventType].toString(),"    ")}return str?this.P1(eventsObject,"    "):eventsObject}else{return this.G0(false)}}else{var stackEvents=false;if(CanvasXpress.stack[this.target].events){stackEvents={};var sortedEventTypes=Object.keys(CanvasXpress.stack[this.target].events).sort();for(var i=0;i<sortedEventTypes.length;i++){stackEvents[sortedEventTypes[i]]=CanvasXpress.stack[this.target].events[sortedEventTypes[i]]}}return pretty?this.O5(stackEvents,null,true):this.G0(stackEvents)}};this.hI=function(pretty){var afterRenderQueue=this.aj(CanvasXpress.stack[this.target].afterRender);afterRenderQueue.shift();return pretty&&afterRenderQueue.length>0?this.O5(afterRenderQueue,null,true):afterRenderQueue.length>1?this.G0(afterRenderQueue):false};this.QZ=function(pretty){var dataJson=this.ro(pretty);var configJson=this.sC(pretty);var eventsJson=this.rT(pretty);if(pretty){var codeString='<span class=json-value>new</span> CanvasXpress(<span class=json-string>"canvas"</span>, '+dataJson+", "+configJson+", "+eventsJson+");";return"<code> "+codeString.replace(/\n/g,"</code>\n<code> ")+"</code>"}else{var codeString=this.O5(CanvasXpress.stack[this.target],false,false,4).replace(/}$/,"  }");return"  new CanvasXpress("+codeString+");\n"}};this.pt=function(zIndex,preventClosing){var dataJson=this.ro(this.codeType=="pretty");var displayData=this.codeType=="params"?"{\n  ...\n}":dataJson;var configJson=this.sC(this.codeType=="pretty"||this.codeType=="params");var eventsJson=this.rT(true);var codeSnippet='<span class=json-value>new</span> CanvasXpress(<span class=json-string>"canvasID"</span>, '+displayData+", "+configJson+", "+eventsJson+");";var formattedHtml="<code> "+codeSnippet.replace(/\n/g,"</code>\n<code> ")+"</code>";var codePanel=this.$(this.target+"-cX-Code");if(!codePanel){codePanel=this.ih()}var contentContainer=this.$(this.target+"-cX-CodeContainer");if(codePanel&&contentContainer){this.LW(formattedHtml,zIndex,"block",preventClosing,"CanvasXpress Code")}};this.UF=function(contentHtml){var infoPanel=this.$(this.target+"-cX-Info");if(infoPanel&&contentHtml){infoPanel.innerHTML=contentHtml}};this.vw=function(d){var isCustomizing=this.view=="customize";var left=isCustomizing?(this.customizerLeftWidth+1)+"px":"25px";var top=isCustomizing?"-1px":"25px";var height=isCustomizing?(window.innerHeight-2)+"px":"600px";var radius=isCustomizing?"0 5px 5px 0":"5px";d.style.left=left;d.style.top=top;d.style.height=height;d.style.borderRadius=radius;d.style.display="block";d.style.width=0;d.style.position=isCustomizing?"fixed":"absolute"};this.yP=function(panelType){var panelId=this.target+"-cX-"+panelType;var panelElement=this.$(panelId);if(!panelElement){panelElement=this.ih()}if(panelElement){this.isCodeShown=true;this.vw(panelElement);var startProperties={width:"0px",opacity:"0"};var endProperties={width:"600px",opacity:"1"};this.nb(panelElement,startProperties,endProperties)}};this.of=function(panelType){var panelId=this.target+"-cX-"+panelType;var panelElement=this.$(panelId);if(!panelElement){panelElement=this.ih()}if(panelElement){var onAnimationComplete=function(){panelElement.style.display="none";window.getSelection().removeAllRanges()};var startProperties={width:"600px",opacity:"1"};var endProperties={width:"0px",opacity:"0"};this.nb(panelElement,startProperties,endProperties,false,false,onAnimationComplete);this.isCodeShown=false}};this.cE=function(event){this.pt();this.WI();this.yP("Code",event)};this.Oz=function(event){this.WI();var codePanel=this.$(this.target+"-cX-Code");if(!codePanel){codePanel=this.ih()}var contentContainer=this.$(this.target+"-cX-CodeContainer");if(codePanel&&contentContainer){this.LW(this.PK(),false,"none",false,"English Code");this.yP("Code",event);if(this.graphType=="Map"){codePanel.style.zIndex=1000}}};this.Ra=function(event){this.WI();var codePanel=this.$(this.target+"-cX-Code");if(!codePanel){codePanel=this.ih()}var contentContainer=this.$(this.target+"-cX-CodeContainer");if(codePanel&&contentContainer){this.LW(this.GC(),false,"none",false,"R Code");this.yP("Code",event);if(this.graphType=="Map"){codePanel.style.zIndex=1000}}};this.id=function(event,isJupyter,isStreamlit,isShiny){this.WI();var codePanel=this.$(this.target+"-cX-Code");if(!codePanel){codePanel=this.ih()}var contentContainer=this.$(this.target+"-cX-CodeContainer");if(codePanel&&contentContainer){this.LW(this.PE(isJupyter,isStreamlit,isShiny),this.graphType=="Map"?1000:false,"none",false,"Python Code");this.yP("Code",event)}};this.bK=function(event,isJupyter){this.WI();var codePanel=this.$(this.target+"-cX-Code");if(!codePanel){codePanel=this.ih()}var contentContainer=this.$(this.target+"-cX-CodeContainer");if(codePanel&&contentContainer){this.LW(this.lc(isJupyter),this.graphType=="Map"?1000:false,"none",false,"Cxplot Code");this.yP("Code",event)}};this.HL=function(event){this.WI();var codePanel=this.$(this.target+"-cX-Code");if(!codePanel){codePanel=this.ih()}var contentContainer=this.$(this.target+"-cX-CodeContainer");var jsonContent=this.z9(CanvasXpress.stack[this.target],null,true);if(codePanel&&contentContainer){jsonContent="<code> "+jsonContent.replace(/\n/g,"</code>\n<code> ")+"</code>";this.LW(jsonContent,this.graphType=="Map"?1000:false,"none",false,"Reproducible Code");this.yP("Code",event)}};this.Ld=function(event){this.WI();var codePanel=this.$(this.target+"-cX-Code");if(!codePanel){codePanel=this.ih()}var contentContainer=this.$(this.target+"-cX-CodeContainer");if(codePanel&&contentContainer){var metaObject={version:this.createVersion||this.version,factory:this.createFactory||CanvasXpress.factory};if(window.cX){metaObject.license=window.cX}this.LW("<code> "+this.O5(metaObject,null,true).replace(/\n/g,"</code>\n<code> ")+"</code>",this.graphType=="Map"?1000:false,"none",false,"Meta Code");this.yP("Code",event)}};this.Ta=function(event){if(this.graphType=="Map"){this.$(this.target+"-cX-Code").style.zIndex="unset"}this.of("Code",event)};this.PD=function(displayStyle){this.$(this.target+"-cX-CodePrettyImage").style.display=displayStyle;this.$(this.target+"-cX-CodeParamsImage").style.display=displayStyle;this.$(this.target+"-cX-CodeEditImage").style.display=displayStyle;this.$(this.target+"-cX-CodeContent").contentEditable=false;this.$(this.target+"-cX-CodeErrors").innerHTML=""};this.K0=function(event){this.WI();this.yP("Info",event)};this.zb=function(event){this.of("Info",event)};this.ih=function(){if(!this.disableEvents&&!this.disableCode){return this.qU()}}};CanvasXpress.prototype.initBin=function(){this.wh=function(r,p){this.WI();var w=this.target+"-"+r+"-cX-Bin";var g=this.cp(this.data.y.data[r]);var h=(g[1]-g[0])/p;var a=this.CU(g[0])+1;this.binConfigurations[w]={apply:false,n:p,vi:r,min:g[0],max:g[1],dec:a,name:"Custom-"+this.data.y.vars[r]+"-Bin",bins:[]};for(var v=0;v<p;v++){this.binConfigurations[w]["bins"][v]={name:"Bin-"+(v+1),value:Number(g[0]+((v+1)*h))}}var B=this.$cX("div",{id:w,className:"cX-bin draggable"},{left:"30px",top:"30px",display:"block"});var b=this.$cXI("op_cancel",{id:w+"CloseImage",className:"cX-bin",src:"op_cancel",title:"Close Bin Configurator"});var j=this.$cX("div",{id:w+"Container",className:"cX-bin-container"});var m=this.$cX("input",{id:w+"Name",className:"cX-bin",type:"text",value:"Custom-"+this.data.y.vars[r]+"-Bin"},{width:"97%",marginBottom:"15px"});var c=this.$cX("div",{id:w+"NameSegmentContainer",className:"cX-bin-name-container"});var i=this.$cX("table",{id:w+"NameSegment",className:"cX-bin-table"},{width:"100%"});var u=this.$cX("tbody");var A=this.$cX("th",{innerHTML:"Bin",className:"cX-bin"});var e=this.$cX("th",{innerHTML:"Name",className:"cX-bin"});var k=this.$cX("th",{innerHTML:"Max",className:"cX-bin"});var z=this.$cX("tr");z.appendChild(A);z.appendChild(e);z.appendChild(k);u.appendChild(z);for(var v=0;v<p;v++){var o=this.$cX("td",{innerHTML:v+1},{width:(this.configuratorWidth*0.1)+"px",textAlign:"center",fontWeight:"bold"});var q=this.$cX("td");var f=this.$cX("td");var t=this.$cX("input",{id:w+"Name"+v,className:"cX-bin",type:"text",value:"Bin-"+(v+1)},{width:(this.configuratorWidth*0.65)+"px",textAlign:"center",fontWeight:"bold"});var l=this.$cX("input",{id:w+"Value"+v,className:"cX-bin",type:"text",value:this.gG(g[0]+((v+1)*h),a)},{width:(this.configuratorWidth*0.25)+"px"});var x=this.$cX("tr");f.appendChild(l);q.appendChild(t);x.appendChild(o);x.appendChild(q);x.appendChild(f);u.appendChild(x)}i.appendChild(u);c.appendChild(i);var y=this.$cX("div",{id:w+"Buttons"},{width:"100%",display:"flex",height:"auto",marginTop:"10px"});var s=this.$cX("input",{id:w+"Apply",className:"cX-bin-button",value:"Apply",type:"button"},{width:"45%"});var d=this.$cX("input",{id:w+"Button",className:"cX-bin-button",value:"Done",type:"button"},{width:"45%"});y.appendChild(s);y.appendChild(d);var n=this.$(this.target+"-cX-Container-Menus");if(n){j.appendChild(this.$cX("span",{className:"cX-bin",innerHTML:"Name"}));j.appendChild(m);j.appendChild(this.$cX("span",{className:"cX-bin",innerHTML:"Bin Name and Range"}));j.appendChild(c);j.appendChild(y);B.appendChild(b);B.appendChild(j);n.appendChild(B);this.uQ("addEvtListener",w)}};this.dA=function(g,d){var c=this.cp(this.data.y.data[g]);if(!this.data.x){this.data.x={}}var b=this.data.y.vars[g]+" Percentile"+(d?"":" Category");this.data.x[b]=[];for(var a=0;a<this.data.y.data[g].length;a++){var e=this.data.y.data[g][a];if(!isNaN(e)&&e!==""&&e!=null){var f=this.xw(this.cL(c[0],c[1],e)/10);if(f==10){f--}this.data.x[b][a]=d?f+1:(f*10)+"-"+((f+1)*10)+"%"}else{this.data.x[b][a]=""}}this.Iu(b,true)};this.ZH=function(g,e){var c=this.kP(this.data.y.data[g],[0.25,0.5,0.75]);if(!this.data.x){this.data.x={}}var b=this.data.y.vars[g]+" Quantile"+(e?"":" Category");this.data.x[b]=[];for(var a=0;a<this.data.y.data[g].length;a++){var f=this.data.y.data[g][a];if(!isNaN(f)&&f!==""&&f!=null){var d=this.mW(c,f);if(e){this.data.x[b][a]=d+1}else{if(d==0){this.data.x[b][a]="1st Quantile"}else{if(d==1){this.data.x[b][a]="2nd Quantile"}else{if(d==2){this.data.x[b][a]="3rd Quantile"}else{this.data.x[b][a]="4th Quantile"}}}}}else{this.data.x[b][a]=""}}this.Iu(b,true)};this.mg=function(b,a){this.wh(b,a);this.WI()};this.zO=function(d){var j=false;var b=this.$(d+"Name0").value;var i=this.$(d+"Value0").value;var c=this.binConfigurations[d]["n"];for(var g=1;g<c;g++){var f=this.$(d+"Name"+g).value;var h=this.$(d+"Value"+g).value;if(b==""||b==null){j="Name for Bin "+g+" CANNOT be null"}else{if(f==""||f==null){j="Name for Bin "+(g+1)+" CANNOT be null"}else{if(i==""||i==null){j="Max value for "+b+" ("+i+") CANNOT be null"}else{if(h==""||h==null){j="Max value for "+f+" ("+h+") CANNOT be null"}else{if(isNaN(i)){j="Max value for "+b+" ("+i+") is NOT a number"}else{if(isNaN(h)){j="Max value for "+f+" ("+h+") is NOT a number"}else{if(Number(i)>Number(h)){j="Max value for "+b+" ("+i+") CANNOT be greater than value for "+f+" ("+h+")"}}}}}}}if(j){break}b=f;i=h}if(j){alert(j);return false}for(var g=0;g<c;g++){var a=this.$(d+"Name"+g).value;var m=this.$(d+"Value"+g).value;this.binConfigurations[d]["bins"][g]={name:a,value:Number(m)}}this.binConfigurations[d]["name"]=this.$(d+"Name").value;var l=this.binConfigurations[d]["name"];var k=this.binConfigurations[d]["vi"];if(!this.data.x){this.data.x={}}this.data.x[l]=[];for(var o=0;o<this.data.y.data[k].length;o++){var n=this.data.y.data[k][o];if(!isNaN(n)&&n!==""&&n!=null){var e=false;for(var g=0;g<c;g++){if(n<=this.binConfigurations[d]["bins"][g].value){this.data.x[l][o]=this.binConfigurations[d]["bins"][g].name;e=true;break}}if(!e&&c>0){this.data.x[l][o]=this.binConfigurations[d]["bins"][c-1].name}else{if(!e){this.data.x[l][o]=""}}}else{this.data.x[l][o]=""}}this.Iu(l);this.binConfigurations[d]["apply"]=true;return true};this.Iu=function(a,b){if(this.isGroupedData){this.qO(true)}this.updateData(this.data,false,b);this.hW([a]);this.uU([a]);this.WI()};this.uQ=function(c,d){var a=d?[d]:this.Nv(this.binConfigurations);for(var e=0;e<a.length;e++){var g=a[e];var f=this.$(g);var h=this.$(g+"CloseImage");var j=this.$(g+"Apply");var b=this.$(g+"Button");if(f){this.cI(c,f,"mousedown","registerMousemove",[],false)}if(h){this.cI(c,h,"click","closeBinConfigurator",[],false)}if(j){this.cI(c,j,"click","applyBinConfigurator",[],false)}if(b){this.cI(c,b,"click","doneBinConfigurator",[],false)}if(c=="removeEvtListener"&&this.binConfigurations[g]&&!this.binConfigurations[g]["apply"]){delete (this.binConfigurations[g])}}};this.g6=function(b){var a=this.zL(b).id.replace("Apply","");this.zO(a)};this.zZ=function(c){var a=this.zL(c).id.replace("Button","");var d=this.zO(a);var b=this.$(a);if(b&&d){this.uQ("removeEvtListener",a);b.parentNode.removeChild(b)}};this.Zj=function(c){var a=this.zL(c).id.replace("CloseImage","");var b=this.$(a);if(b){this.uQ("removeEvtListener",a);b.parentNode.removeChild(b)}}};CanvasXpress.prototype.initCustomizer=function(){this.ft=function(){var f=this;var d=this.target+"-cX-Customizer";var b=this.$(d+"-Left-Panel")&&this.$(d+"-Right-Panel");if(b){return}this.KJ();var a=this.$(this.target+"-cX-Container-Customizer");if(a){var c=this.jg(d);var e=this.HM(d);a.appendChild(c);a.appendChild(e);this.Ok(a,"slideLeftReturn",function(){f.fi("addEvtListener");f.Rb(f.$(f.target+"-cX-Customizer-Right-Panel"),f.fileCustomizer)})}};this.KJ=function(){this.L7();this.zy()};this.jg=function(d){var b=this.$cX("div",{id:d+"-Left-Panel",className:"customizerPanelLeft"},{width:this.customizerLeftWidth+"px",fontSize:this.customizerFontSize+"px"});var e=this.bz(d+"-Left-Panel-Top","customizerLeftPanelTop");var a=this.bz(d+"-Left-Panel-Middle","customizerLeftPanelMiddle");var c=this.bz(d+"-Left-Panel-Bottom","customizerLeftPanelBottom");e.appendChild(this.nt("&nbsp;","v_cancel2w","closeCustomizer",true));this.jl(a);c.appendChild(this.nt("&nbsp;","z_zoomw","searchCustomizer",true));b.appendChild(e);b.appendChild(a);b.appendChild(c);return b};this.bz=function(b,a){return this.$cX("div",{id:b,className:a},{width:this.customizerLeftWidth+"px"})};this.jl=function(a){a.appendChild(this.nt("IO","cd_folder","fileCustomizer"));if(this.isDOE){a.appendChild(this.nt("DOE","ly_doe","doeCustomizer"))}else{if(this.graphType==="Network"){a.appendChild(this.nt("Legends","lg_g1","legendCustomizer"));a.appendChild(this.nt("Tools","wp_installation","toolsCustomizer"));a.appendChild(this.nt("Theme","at_sch","themeCustomizer"))}else{this.LY(a)}}};this.LY=function(a){a.appendChild(this.nt("Data","wp_data","dataCustomizer"));a.appendChild(this.nt("Options","wp_configuration","optionsCustomizer"));if(!this.yW()){var b=this.yW()?"g_scatter2d":"g_bar";a.appendChild(this.nt("Plot",b,"plotCustomizer"))}a.appendChild(this.nt("Axes","ga_axisxy","axesCustomizer"));a.appendChild(this.nt("Legends","lg_g1","legendCustomizer"));a.appendChild(this.nt("Meta","at_colshpsze","metaCustomizer"));if(!this.customizerSize.match(/small/)){a.appendChild(this.nt("Decorate","tx_shadow","decorateCustomizer"))}a.appendChild(this.nt("Wrangling","wp_datawrangling","wranglingCustomizer"));a.appendChild(this.nt("Tools","wp_installation","toolsCustomizer"));a.appendChild(this.nt("Theme","at_sch","themeCustomizer"))};this.HM=function(a){return this.$cX("div",{id:a+"-Right-Panel",className:"customizerRightPanel"},{width:this.customizerRightWidth+"px",left:this.customizerLeftWidth+"px",fontSize:this.customizerFontSize+"px"})};this.fi=function(c){var b=this.$(this.target+"-cX-Customizer-Left-Panel");if(b){for(var d=0;d<b.childNodes.length;d++){var f=b.childNodes[d];for(var a=0;a<f.childNodes.length;a++){var e=f.childNodes[a];this.cI(c,e,"click","clickCustomizerLeftItem",[],false)}}}};this.fu=function(b){var d=this.zL(b);var c=d.getAttribute("data-function");this.R9(b);this.N7("removeEvtListener");var a=this.$(this.customizerItem);if(a){a.className="customizerLeftItem"}this.customizerItem=d.id;d.className=(d.className==="customizerLeftItemNB")?"customizerLeftItemNB":"customizerLeftItemActive";this.Rb(this.$(this.target+"-cX-Customizer-Right-Panel"),this[c]);this.JW({func:"clickCustomizerLeftItem",par:[b],video:true})};this.R9=function(a){if(CanvasXpress.system.isReveal){this.cc(a);this.Y6(a)}};this.vg=function(a){var b=this.$(this.target+"-cX-Customizer-Left-Panel");var d=this.$(this.target+"-cX-Customizer-Right-Panel");if(b&&d){this.L7();this.fi("removeEvtListener");this.N7("removeEvtListener");this.customizerItem=false;var c=b.parentNode;c.removeChild(b);c.removeChild(d);if(!a){this.Vz()}else{this.ft()}if(!this.reproducing){this.JW({func:"closeCustomizer",par:[a],video:true})}}};this.N7=function(e){var g=this.$(this.target+"-cX-Customizer-Right-Panel");if(!g){return}var a=g.childNodes;for(var f=0;f<a.length;f++){var c=a[f].childNodes;for(var d=0;d<c.length;d++){var h=c[d];var b=h.className;switch(b){case"customizerRightItemHeaderS customizerRightItemHeaderLink":case"customizerRightItemHeader customizerRightItemHeaderLink":this.ZJ(e,h);break;case"customizerRightItemLauncherNBS":case"customizerRightItemLauncherS":case"customizerRightItemLauncherNB":case"customizerRightItemLauncher":this.cf(e,h);break;case"customizerRightItemInt":this.TI(e,h);break;case"customizerContainerRaw customizerRightItemImagesGroup":case"customizerContainerRaw customizerRightItemTextImagesGroup":this.gs(e,h,b);break;case"customizerRightItemSelect":this.cI(e,h.firstChild,"change","changeCustomizer",[],false);break;case"customizerRightItemColorSelect":this.cI(e,h.firstChild,"input","changeCustomizer",[],false);break;case"customizerRightItemTextArea":this.cI(e,h.lastChild,"click","clickCustomizerAction",[],false);break;case"customizerRightItemText":this.HB(e,h);break;case"customizerRightItemGrid":this.Rw(e,h);break;case"customizerContainerRaw customizerRightItemColorBorder":this.Il(e,h);break;case"customizerContainerRaw customizerRightItemToggleLinLogGroup":case"customizerContainerRaw customizerRightItemToggleLogSignGroup":this.WD(e,h);break;case"customizerContainerComboGroup":this.xd(e,h);break;case"customizerRightItemSubHeaderRowS":case"customizerRightItemSubHeaderRow":this.cI(e,h.lastChild.firstElementChild,"click","clickCustomizerAction",[],false);break;case"customizerWranglingS":case"customizerWrangling":this.rG(e,h);break;case"customizerRightItemSearch":this.vx(e);break}}}};this.ZJ=function(d,c){var b=c.lastChild.childNodes;for(var a=0;a<b.length;a++){this.cI(d,b[a],"click","clickCustomizerHeader",[],false)}};this.cf=function(b,a){if(a.params[0].match(/fileUpload/)){this.cI(b,a.lastChild.lastChild,"change","loadFileCustomizer",[],false)}else{this.cI(b,a,"click","clickCustomizerAction",[],false)}};this.TI=function(c,b){var a=b.firstChild;this.cI(c,a.firstChild,"click","clickCustomizerAction",[],false);this.cI(c,a.lastChild,"click","clickCustomizerAction",[],false)};this.gs=function(e,d,a){var f=d.getElementsByTagName("svg");if(f.length){for(var b=0;b<f.length;b++){var c=a.match(/TextImagesGroup/)?f[b].parentNode.parentNode.parentNode:f[b].parentNode;if(a.match(/TextImagesGroup/)&&c.droppable){this.cI(e,c,"dragover","dragOverCustomizer",[],false);this.cI(e,c,"dragenter","dragEnterCustomizer",[],false);this.cI(e,c,"dragleave","dragLeaveCustomizer",[],false);this.cI(e,c,"drop","dropCustomizer",[],false)}this.cI(e,c.firstElementChild,"click","clickCustomizerAction",[],false)}}};this.HB=function(f,d){var e=d.firstChild.childNodes;var b=0;if(this.md(e[0],"customizerRightItemTextArea")){this.cI(f,e[0].lastChild,"click","clickCustomizerAction",[],false);b=1}var h=e[b].firstChild.firstChild.firstChild.firstChild.firstChild;this.cI(f,h,"input","changeCustomizer",[],false);var g=[e[b].childNodes[1].firstChild,e[b].childNodes[2].firstChild];b++;for(var a=b;a<e.length;a++){g=g.concat(e[a].childNodes[0].firstChild,e[a].childNodes[1].firstChild,e[a].childNodes[2].firstChild)}for(var c=0;c<g.length;c++){this.cI(f,g[c],"click","clickCustomizerAction",[],false)}};this.Rw=function(e,c){var d=c.firstChild.childNodes;var f=d[0].firstChild.firstChild.firstChild.firstChild.firstChild;this.cI(e,f,"input","changeCustomizer",[],false);var b=[d[0].childNodes[1].firstChild,d[0].childNodes[2].firstChild,d[1].childNodes[0].firstChild,d[1].childNodes[1].firstChild,d[1].childNodes[2].firstChild,d[2].firstChild.firstChild,d[2].firstChild.lastChild];for(var a=0;a<b.length;a++){this.cI(e,b[a],"click","clickCustomizerAction",[],false)}};this.Il=function(c,a){var d=a.firstChild.firstChild.firstChild.firstChild.firstChild.firstChild.firstChild;var b=a.firstChild.firstChild.lastChild.firstChild.firstChild.firstChild.firstChild;this.cI(c,d,"input","changeCustomizer",[],false);this.cI(c,b,"input","changeCustomizer",[],false)};this.WD=function(c,b){var d=b.firstChild.firstChild.childNodes;for(var a=0;a<d.length;a++){this.cI(c,d[a].firstChild.firstChild.childNodes[1],"change","changeCustomizer",[],false)}};this.xd=function(d,b){var c=b.childNodes;for(var a=0;a<c.length;a++){var e=c[a];switch(e.type){case"launcher":this.cI(d,e,"click","clickCustomizerAction",[],false);break;case"range":this.cI(d,e.childNodes[1].firstChild.lastChild,"change","changeCustomizer",[],false);break;case"text":this.cI(d,e.childNodes[1].firstChild.lastChild,"click","clickCustomizerAction",[],false);break;case"color":this.cI(d,e.childNodes[1].firstChild.firstChild,"input","changeCustomizer",[],false);break;break;case"select":this.cI(d,e.childNodes[1].firstChild.firstChild,"change","changeCustomizer",[],false);break}}};this.rG=function(d,c){var a=c.firstChild;if(a){this.cI(d,a,"scroll","scrollCustomizer",[],false);this.cI(d,a,"dragover","dragOverCustomizer",[],false);this.cI(d,a,"dragenter","dragEnterCustomizer",[],false);this.cI(d,a,"dragleave","dragLeaveCustomizer",[],false);this.cI(d,a,"drop","dropCustomizer",[],false);for(var b=0;b<a.childNodes.length;b++){var e=a.childNodes[b].firstElementChild;e.draggable=true;this.cI(d,e,"dragstart","dragStartCustomizer",[],false);this.cI(d,e,"dragend","dragEndCustomizer",[],false);this.cI(d,e,"dblclick","dblClickCustomizer",[],false)}}};this.vx=function(d){var b=this.$(this.target+"-SearchCustomizerSelect");if(b){this.cI(d,b,"change","updateCustomizerPropertyValue",[],false)}var c=this.$(this.target+"-SearchCustomizerCategory");if(c){this.cI(d,c,"click","clickCustomizerCategory",[],false)}var a=this.$(this.target+"-SearchCustomizerButton");if(a){this.cI(d,a,"click","clickCustomizerSearch",[],false)}var e=this.$(this.target+"-SearchCustomizerInputCancel");if(e){this.cI(d,e,"click","clickCustomizerCancel",[],false)}};this.yM=function(c){var b=this.zL(c);var d=b.params;var a=this.b9(this[d[1][0]],b.valueAsNumber,true,false,true);d[1][1]=a;this[d[0]].apply(this,d[1])};this.my=function(a){var e=this;var g=this.zL(a);var c=function(k,j){e.$cXIU(k,j)};var f=function(){e.N7("removeEvtListener");e.Rb(e.$(e.target+"-cX-Customizer-Right-Panel"),e.toolsCustomizer)};if(g.droppable){g.firstChild.lastChild.lastChild.innerText=""}if(g.tagName.toLowerCase()==="svg"){var i;if(g.parentNode&&g.parentNode.firstElementChild&&g.parentNode.firstElementChild.params){i=g.parentNode.firstElementChild}else{i=g.parentNode}var b=this.TU(i.params);var h=i.value;var d=h==="null"?null:(h==="false"?false:(h==="true"?"true":h));if(b[0]==="sortDataCustomizer"){this.og(i.params,g.parentNode,a,f,c)}else{if(b[0]==="modifyOverlaysProperties"){b[1][0]=d}else{b[1].push(d)}if(g.parentNode.params){this.og(g.parentNode.params,g.parentNode,a,f,c)}else{this[b[0]].apply(this,b[1])}}}else{if(g.tagName.toLowerCase()==="div"&&g.parentNode.params){this.og(g.parentNode.params,g.parentNode,a,f,c)}else{if(g.params){this.og(g.params,g,a,f,c)}}}};this.og=function(g,l,b,a,q){var n=g[0];var e=g[1];var m=this;var d=function(){m[n].apply(m,e);if(n==="increaseDecreaseAttribute"){var i=l.parentNode.firstChild.nextSibling.firstChild;i.value=m[e[0]]}var j=(e[0]&&e[0].toString().match(/scatterType|LoessFit|RegressionFit/))||(n&&n.toString().match(/createRegression|cluster|histogram|regress|qqplot|cdfplot|modifycontour|removecontour/i));if(j){a()}else{if(n.match(/createMarker|removeMarkerObject|removeDecorationObject/)){m.N7("removeEvtListener");m.Rb(m.$(m.target+"-cX-Customizer-Right-Panel"),m.decorateCustomizer)}}};var p=function(){var s=l.src;var r=m.$(l.trg);var j=r.firstChild;var t=j.clientHeight;l.src=l.asr;l.asr=s;var i=m.em(j);j.style.height="0px";r.population.sort(function(v,u){if(s==="sr_azi"){return v[2]<u[2]?-1:(v[2]>u[2]?1:0)}else{return v[2]>u[2]?-1:(v[2]<u[2]?1:0)}});r.population=m.C5(r,j,i,r.population.reverse());setTimeout(function(){j.style.height=t+"px"},100);q(l.firstChild,l.src)};var c=function(){if(typeof m[n]==="function"){m[n]();if(n.match(/cluster|histogram|regress|qqplot|cdfplot|modifycontour|removecontour/i)){a()}else{if(n.match(/transpose|countData/)){m.N7("removeEvtListener");m.Rb(m.$(m.target+"-cX-Customizer-Right-Panel"),m.dataCustomizer)}else{if(n.match(/createMarker/)){m.N7("removeEvtListener");m.Rb(m.$(m.target+"-cX-Customizer-Right-Panel"),m.decorateCustomizer)}}}}else{m.My(n,false)}};if(g.length>1&&e&&e.length&&n!=="addToAxis"){d()}else{switch(n){case"highlight":if(this.highlightVar.length){this.im(this.highlightVar,true,"highlightVar",false,!this.highlightSmp.length)}if(this.highlightSmp.length){this.im(this.highlightSmp,true,"highlightSmp",false,true)}break;case"sortDir":this.BF("both");this.sortDir=this.sortDir==="ascending"?"descending":"ascending";q(l.firstChild.firstChild.firstChild,this.sortDir==="ascending"?"sr_azi":"sr_zad");break;case"sortCase":this.BF("both");this.sortCaseSensitive=!this.sortCaseSensitive;break;case"sortVariables":this.sortingVariableCategories=[];this.Ca();break;case"sortSamples":this.sortingSampleCategories=[];this.QW();break;case"overlays":this.varOverlays=[];this.smpOverlays=[];this.x9({func:"clickCustomizerAction",par:[b]});this.N7("removeEvtListener");this.Rb(this.$(this.target+"-cX-Customizer-Right-Panel"),this.metaCustomizer);break;case"treemapBy":if(this.treemapBy.length>0){this.treemapBy=[]}this.x9({func:"clickCustomizerAction",par:[b]});break;case"groupSamples":if(this.graphType==="Circular"){if(this.hierarchy.length){this.hierarchy=[];this.x9({func:"clickCustomizerAction",par:[b]})}}else{if(this.groupingFactors.length>0){this.qO()}}break;case"segregate":for(var k=0;k<this.segregateSamplesBy.length;k++){this.DP(this.segregateSamplesBy[k])}for(var h=0;h<this.segregateVariablesBy.length;h++){this.xb(this.segregateVariablesBy[h])}break;case"addToAxis":var f=g[1][0];this.hg(this[f][0],f,true);break;case"motion":this.My("motionBy",false);break;case"pivotX":if(this.isPivot){this.jK();var o=l.src;l.src=l.asr;l.asr=o}else{this[n]()}break;case"createDOE":this.isDOE?this.Ap():this.wY();this.vg(true);break;case"sortDataCustomizer":p();break;default:c();break}}};this.cl=function(u){var f=this;var p=function(k){if(k===null){return"null"}if(k===false){return""}if(k===true){return"true"}return k};var o=function(y,x,k){if(y!=null){return Number(y).toFixed(2)}if(x!=null){return Number(x/k).toFixed(2)}return null};var h=function(y,x,k){if(x){f.T1(y);for(var A=0;A<x.length;A++){var z=f.$cX("option",{text:x[A],value:x[A],selected:x[A]==k});try{y.add(z,null)}catch(B){y.add(z)}}}else{y.value=k}};var l=function(){var k=f.graphType.match(/Scatter/)?f.meta.data.z:f.meta.data.x;var y={num:["Histogram","Bar","Dotplot","Line","Scatter2D","Table"],numMeta:[],str:["Pie","Treemap","Table","Meter"],strMeta:[],ori:[f.graphType],varSmp:["Histogram"],doe:f.includeDOE};for(var x in k){if(k[x].type=="Numeric"){y.numMeta.push(x)}else{y.strMeta.push(x)}}y.scatter=f.TU(y.numMeta);if(f.graphType.match(/Scatter/)){y.scatter=y.scatter.concat(f.data.y.smps)}else{y.scatter=y.scatter.concat(f.data.x.vars)}return y};var e=function(k){var x=k=="Smp"?f.meta.data.x:f.meta.data.z;var A={type:k.toLowerCase(),str:["Default","Text","Treemap"],strParam:[],strOver:[],num:["Area","AreaLine","Bar","BarLine","Dotplot","DotLine","Default","Heatmap","Line","Pie","Stacked","StackedLine","StackedPercent","StackedPercentLine","Treemap"],numParam:[],numOver:[],prop:f[k.toLowerCase()+"OverlayProperties"]};for(var z=0;z<A.str.length;z++){A.strParam.push(["modifyOverlaysProperties",[A.str[z]=="Default"?"Heatmap":A.str[z],k.toLowerCase()+"OverlayProperties",false,"type"]])}for(var z=0;z<A.num.length;z++){A.numParam.push(["modifyOverlaysProperties",[A.num[z],k.toLowerCase()+"OverlayProperties",false,"type"]])}for(var y in x){if(x[y].type=="Numeric"){A.numOver.push(y)}else{A.strOver.push(y)}}return A};var a=function(M,G,E,C){var D=M.firstChild;var J=0;var z=D.childNodes.length>3;if(z){var H=f.target+"-marker-"+C;var B=f.r4(H);if(B){D.firstChild.firstChild.value=B.text;D.firstChild.firstChild.params[1][0]=H;J++;var A=D.childNodes[J].childNodes[0].firstChild.firstChild.firstChild.firstChild;A.value=f.u5(B.color,null,true);A.params[1][0]=H;D.childNodes[J].childNodes[1].firstChild.params[1][0]=H;D.childNodes[J].childNodes[2].firstChild.params[1][0]=H;J++;for(var F=0;F<3;F++){D.childNodes[J].childNodes[0].firstChild.params[1][0]=H;D.childNodes[J].childNodes[1].firstChild.params[1][0]=H;D.childNodes[J].childNodes[2].firstChild.params[1][0]=H;J++}}var y=M.nextSibling;for(var F=0;F<y.childNodes.length;F++){var L=y.childNodes[F];if(L.type==="launcher"){L.params[1][0]=H}else{if(L.type==="text"||L.type==="color"){var K=L.childNodes[1].firstChild.firstChild;K.params[1][0]=H;var I=K.params[1][1];if(L.type==="color"){K.value=f.u5(B[I],null,true)}else{K.value=(I==="x"||I==="y")?o(B[I],B["cur"+I.toUpperCase()],f[I]):p(B[I])}}else{if(L.type==="select"){var K=L.childNodes[1].firstChild.firstChild;if(K&&K.params){K.params[1][0]=H;h(K,false,B[K.params[1][1]])}}}}}y.nextSibling.params[1][0]=H}else{var x=G.paramsParams[E];if(D.childNodes.length==3){D.firstChild.firstChild.value=p(f[x]);D.firstChild.firstChild.params[1][0]=x;J=1}var A=D.childNodes[J].childNodes[0].firstChild.firstChild.firstChild.firstChild;A.value=f.u5(f[x+"Color"],null,true);A.params[1][0]=x+"Color";D.childNodes[J].childNodes[1].firstChild.params[1][0]=x+"ScaleFontFactor";D.childNodes[J].childNodes[2].firstChild.params[1][0]=x+"ScaleFontFactor";J++;D.childNodes[J].childNodes[0].firstChild.params[1][0]=x+"FontStyle";D.childNodes[J].childNodes[1].firstChild.params[1][0]=x+"FontStyle";D.childNodes[J].childNodes[2].firstChild.params[1][0]=x+"FontStyle"}};var n=function(E,H,y,L,O){var I=E.previousSibling;var D=I.paramsType?e(I.paramsType):false;for(var M=0;M<E.childNodes.length;M++){var K=E.childNodes[M];switch(K.type){case"launcher":K.params[1][0]=K.params[0].match(/removeDecorationObject/)?f.target+"-decoration-"+L:I.paramsParams[M][y];break;case"range":var F=K.childNodes[1].firstChild.firstChild;F.params[1][0]=p(I.paramsParams[0][y]);var A=f.Pl(f[F.params[1][0]]);F.value=A!=null?A:1;break;case"text":case"color":var F=K.childNodes[1].firstChild.firstChild;if(F.params[0].match(/modifyOverlaysProperties/)&&D){var J=F.params[1][3];if(D.prop[L].hasOwnProperty(J)){F.value=(J==="color")?f.u5(D.prop[L].color,null,true):p(D.prop[L][J])}else{F.value="null"}F.params[1][0]=D.prop[L][J];if(J==="thickness"&&!F.params[1][0]){F.params[1][0]=f.overlaysThickness}F.params[1][2]=L}else{if(F.params[0].match(/setDecorationAttribute/)){var P=f.target+"-decoration-"+L;var B=f.HC(P);var J=F.params[1][1];if(K.type==="color"){F.value=f.u5(B[J],null,true)}else{F.value=(J==="label")?(p(B[J])||""):(B[J]!=null?B[J].toString():"null")}F.params[1][0]=P}else{F.params[1][0]=p(I.paramsParams[M][y]);F.value=(K.type==="color")?f.u5(f[F.params[1][0]],null,true):p(f[F.params[1][0]])}}break;case"select":var F=K.childNodes[1].firstChild.firstChild;if(!F||!F.params){break}if(F.params[0].match(/updateDOE/)){var C=undefined;if(F.params[0].match(/GraphType/)){if(f.layoutConfig[y]&&f.layoutConfig[y].graphType){C=f.layoutConfig[y].graphType}F.params[1][1]=y}else{if(F.params[0].match(/GraphSize/)){if(f.layoutConfig[y]&&f.layoutConfig[y].size){C=f.layoutConfig[y].size}F.params[1][1]=y}else{if(F.params[0].match(/Axis/)){var N=F.params[1][0]+"Axis";var z=[""];if(y==0){C=""}else{var x=O.doe[y-1];if(O.scatter.indexOf(x)!==-1){C=(f.layoutConfig[y]&&f.layoutConfig[y][N])?f.layoutConfig[y][N]:x;z=f.TU(O.scatter)}else{C=""}F.params[1][1]=C}F.params[1][2]=y}}}if(M==0){var x=f.includeDOE[y-1];if(y==0){h(F,O.ori,C)}else{if(O.numMeta.indexOf(x)!==-1){h(F,O.num,C)}else{if(O.strMeta.indexOf(x)!==-1){h(F,O.str,C)}else{h(F,O.varSmp,C)}}}}else{if(M>1){h(F,z,C)}}}else{if(F.params[0].match(/modifyOverlaysProperties/)&&D){var J=F.params[1][3];if(J==="type"){var G=(D.numOver.indexOf(L)!==-1)?D.num:D.str;h(F,G,D.prop[L].type);F.params[1][0]=D.prop[L].type}else{F.value=D.prop[L][J];F.params[1][0]=D.prop[L][J]}F.params[1][2]=L}else{if(F.params[0].match(/setDecorationAttribute/)){var P=f.target+"-decoration-"+L;var B=f.HC(P);var J=F.params[1][1];F.value=(J==="align")?(p(B[J])||"right"):p(B[J]);F.params[1][0]=P}}}break}}};var m=this.zL(u);var q=m.parentNode.parentNode;var c=m.parentNode.childNodes;var s=m.fullText||m.innerText;var v=this.isDOE?l():false;var d=0;for(var t=0;t<c.length;t++){if(c[t].fullText==s||c[t].innerText==s){c[t].style.textDecoration="underline";d=t}else{c[t].style.textDecoration="none"}}var r=q.firstChild.firstChild;if(v){if(d>0){var g=v.doe[d-1];r.innerHTML=g.length>10?g.substring(0,10)+"...":g}else{r.innerHTML="Data"}}else{r.innerHTML=q.paramsTitle[d]}this.$cXIU(r.nextSibling.firstChild,q.paramsIcons[d]);var j=q.nextSibling;var b=j.className;if(b==="customizerRightItemTextArea"){j.firstChild.value=p(this[q.paramsParams[d]]);j.firstChild.params[1][0]=q.paramsParams[d]}else{if(b==="customizerRightItemText"){a(j,q,d,s)}else{if(b==="customizerContainerComboGroup"){n(j,q,d,s,v)}else{if(b==="customizerRightItemGrid"){var i=j.firstChild.childNodes;var w=q.paramsParams[d];i[0].firstChild.firstChild.firstChild.firstChild.firstChild.value=this.u5(this[w+"AxisGridMajorColor"],null,true);i[0].firstChild.firstChild.firstChild.firstChild.firstChild.params[1][0]=w+"AxisGridMajorColor";i[0].firstChild.nextSibling.firstChild.params[1][0]=w+"AxisGridMajorShow";i[0].firstChild.nextSibling.nextSibling.firstChild.params[1][0]=w+"AxisGridMinorShow";i[1].firstChild.firstChild.params[1][0]=w+"AxisGridMajorLineType";i[1].firstChild.nextSibling.firstChild.params[1][0]=w+"AxisGridMajorLineType";i[1].firstChild.nextSibling.nextSibling.firstChild.params[1][0]=w+"AxisGridMajorLineType";i[2].firstChild.firstChild.params[1][0]=w+"AxisTicks";i[2].firstChild.firstChild.nextSibling.firstChild.value=this[w+"AxisTicks"];i[2].firstChild.firstChild.nextSibling.nextSibling.params[1][0]=w+"AxisTicks"}}}}};this.BN=function(a){this.vg();this.EA(a)};this.JI=function(a){var g=this.zL(a);var f=g.type?g:g.parentNode;var j=f.type;var l=f.innerText;var e=f.parentNode.parentNode;var d=this.$(e.id.replace("CustomizerVariables","CustomizerAnnotations").replace("CustomizerSamples","CustomizerDescriptions"));var b=false;if(!this.customizerItem.match(/wranglingCustomizer$/)){return}this.DW();this.R9(a);if(j==="z"){if(this.um(this.data.z[l])){this.c4(l)}else{f.numeric?this.zd(l):this.cw(l)}this.Zf(e)}else{if(j==="x"){if(this.um(this.data.x[l])){this.A9(l)}else{f.numeric?this.zd(l,true):this.cw(l,true)}this.Zf(e)}else{if(j==="vars"){var h=[];for(var c=0;c<this.data.y.vars.length;c++){if(this.data.y.vars[c]!=l){h.push(this.data.y.vars[c])}}if(h.length>1){this.qx(h);b=true}}else{if(j==="smps"){var k=[];for(var c=0;c<this.data.y.smps.length;c++){if(this.data.y.smps[c]!=l){k.push(this.data.y.smps[c])}}if(k.length>1){this.D2(k);b=true}}}}}if(b){this.Zf(e);this.Zf(d)}this.hT()};this.Xy=function(d){var b=this.zL(d);if(b.tagName.match(/input/i)){var f=b.params?this.TU(b.params):false;if(f){if(f[0]=="modifyOverlaysProperties"&&f[1]){f[1][0]=b.value;this[f[0]].apply(this,f[1])}else{if(f[0]=="linLog"){var a=f[1][0]+"Transform";this.My(a,b.checked?(this.transformBase==2?"log2":"log10"):false)}else{if(f[0]=="logSign"){var a=f[1][0]+"Transform";if(f[1][0]+"Transform".match(/log/)){this.My(a,b.checked?(this.transformBase==2?"-log2":"-log10"):false)}else{alert("Logarithmic transformation must be enabled first.");return}}else{if(f[0].match(/setMarkerAttribute|setDecorationAttribute/)){f[1].push(b.value);this[f[0]].apply(this,f[1])}else{this[f[0]].apply(this,[f[1],b.value])}}}}}}else{if(b.tagName.match(/select/i)){var f=b.params?this.TU(b.params):false;if(f){if(!f[1]){f[1]=[]}var e=b.value=="true"?true:(b.value=="false"?false:(b.value=="null"?null:b.value));if(f[0]=="modifyOverlaysProperties"||f[0]=="modifyColorProperties"||f[0].match(/updateDOEGraph/)){if(f[1]){if(e=="Scatter2D"){f[1][0]="Scatter"}else{if(e=="Histogram"){f[1][0]="Scatter2D"}else{f[1][0]=e}}}}else{if(f[0].match(/updateDOEAxis/)){f[1][1]=e}else{if(f[0]!="toggleAttribute"){if(f[0]=="modifyDOE"&&e&&e.match(/^\[.+\]$/)){f[1].push(e)}else{f[1].push(e)}}}}if(f[2]){for(var c=0;c<f[2].length;c++){f[1].push(f[2][c])}}this[f[0]].apply(this,f[1]);if(f[0].match(/createHistogram|createRegression|regress/)||(f[1]&&f[1][0]&&f[1][0].toString().match(/showLoessFit/))){this.Rb(this.$(this.target+"-cX-Customizer-Right-Panel"),this.toolsCustomizer)}else{if(f[0]=="modifyDOE"&&f[1].length==1){this.Rb(this.$(this.target+"-cX-Customizer-Right-Panel"),this.doeCustomizer)}else{if(f[0]=="setMarkerAttribute"&&f[1][1]=="position"){this.Rb(this.$(this.target+"-cX-Customizer-Right-Panel"),this.decorateCustomizer)}}}}}}};this.EG=function(c){var k=this.zL(c);var g=k.population;var j=k.firstChild;var e=k.scrollTop;var n=j.firstChild.scrollHeight;var a=20;var m=[];var f=Math.floor(e/a);var l=null;if(g){for(var h=0;h<g.length;h++){if(g[h][1]>=e&&g[h][1]<k.clientHeight+e+a){if(l===null&&l>0){l=h}m.push(g[h])}else{if(g[h][1]==0&&e<a){m.push(g[h])}else{if(g[h][1]<h*a){m.push(g[h])}else{if(h==f){m.push(g[h])}else{if(g[h][1]>e+n){break}}}}}}if(!m[0]){return false}else{if(m[0][2]==j.firstChild.textContent){return false}else{if(l>0){l--;var b=g[l][1];while(g[l]&&g[l][1]==b&&l>=0){m.unshift(g[l]);l--}}var d=this.em(j);this.C5(k,j,d,m,true)}}}};this.Mj=function(a){var b=this.zL(a).parentNode;if(a.dataTransfer){a.dataTransfer.effectAllowed="copyMove";a.dataTransfer.setData("text/plain",b.id);if(a.dataTransfer.setDragImage){b.style.width=150+"px";a.dataTransfer.setDragImage(b,0,0)}}setTimeout(function(){b.style.opacity="0.4"},0)};this.kR=function(b){var c=this.zL(b);if(c.parentNode.tagName=="SPAN"){c.blur();c=c.parentNode;c.focus()}c.style.opacity="1";c.style.background=this.transparent;if(this.customizerEntriesAsList){c.style.width="300px"}var a=c.parentNode;if(a){if(a.tagName=="SPAN"){a=a.parentNode}if(a.type==c.type){return}}};this.PH=function(a){this.Y6(a);return false};this.Hb=function(a){return false};this.Rl=function(a){return false};this.kz=function(b){var h=this;this.Y6(b);var c=function(q,n){var o=q.parentNode.parentNode.parentNode;var r=q.firstChild.lastChild;if(!r||!o.className.match(/TextImages/)){return}var m=r.firstChild.innerText;var l=r.lastChild;var p=m.match(/^Color$|^Shape$|^Size$|^Pattern$|^Connect$|^Stack$/);var k=l.innerText&&!p?l.innerText.split(", "):[];k.push(n);l.innerText=k.join(", ")};var g=function(r,p,k){var q=r.parentNode.params&&r.parentNode.params.length?r.parentNode:r;var o=q.params[0]||"empty";var x=p.value;var t=p.type;switch(o){case"empty":break;case"highlight":h.im(x,false,(t==="smps"?"highlightSmp":"highlightVar"),true,true);break;case"overlays":if(t==="x"){h.m7(x)}else{if(t==="z"){h.sR(x)}else{alert("Ooops! Only Sample or Variable factors")}}h.N7("removeEvtListener");h.Rb(h.$(h.target+"-cX-Customizer-Right-Panel"),h.metaCustomizer);break;case"treemapBy":if(t==="x"){var y=h.treemapBy.indexOf(x);y>-1?h.treemapBy.splice(y,1):h.treemapBy.push(x)}else{alert("Ooops! Only Sample factors")}h.x9({func:"dropCustomizer",par:[k]});break;case"pivotX":if(t==="x"){h.isPivot?h.jK():h.cR(x)}else{alert("Ooops! Only Sample factors")}break;case"sortVariables":if(t==="z"){h.BF("cat","var",x)}else{if(t==="smps"){h.BF("smp","var",x)}else{alert("Ooops! Invalid sorting source for variables")}}return false;case"sortSamples":if(t==="x"){h.BF("cat","smp",x)}else{if(t==="vars"){h.BF("var","smp",x)}else{alert("Ooops! Invalid sorting source for samples")}}return false;case"groupSamples":if(t==="x"){if(h.graphType==="Circular"){var y=h.hierarchy.indexOf(x);y>-1?h.hierarchy.splice(y,1):h.hierarchy.push(x);h.x9({func:"dropCustomizer",par:[k]})}else{var y=h.groupingFactors.indexOf(x);y>-1?h.groupingFactors.splice(y,1):h.groupingFactors.push(x);h.groupingFactors.length>0?h.hW(h.groupingFactors):h.unhW()}}else{alert("Ooops! Only Sample factors")}break;case"segregate":var v=h.segregateSamplesBy.length+h.segregateVariablesBy.length>=2;var n=t==="x"?h.segregateSamplesBy:h.segregateVariablesBy;var u=t==="x"?"Samples":(t==="z"?"Variables":false);if(u){if(!v){var y=n.indexOf(x);y>-1?n.splice(y,1):n.push(x);n.length>0?h.bn(u,n):h.debn(u)}else{alert("Ooops! Only 2 segregation factors allowed")}}else{alert("Ooops! Only Sample or Variable factors")}break;case"addToAxis":var m=q.params[1][0];if(t==="smps"){h.hg(x,m,!k.shiftKey)}else{alert("Ooops! Only samples allowed")}return false;case"motion":if(t==="smps"||t==="vars"){p.element.type=r.type;h.QI(true);h[p.func](x);p.element.params[0]=t==="smps"?"switchAnnotationToSmp":"switchAnnotationToVar";var l=t==="smps"?"-cX-CustomizerDescriptions":"-cX-CustomizerAnnotations";var s=h.$(h.target+l);if(s){s.appendChild(p.element)}}h.My("motionBy",x);break;case"addIdForMarker":var w=t==="smps"?h.markerIds.smps:h.markerIds.vars;if(w){w.push(x)}break;default:h.My(o,x);break}c(r,x)};var a=function(l,r,q){var p=r.type;var m=q.type;var n=r;var o=l;while(n&&!n.population){n=n.parentNode}while(o&&!o.population){o=o.parentNode}if(m===p){h.Zf(n);return false}var k=(m==="smps"&&p==="z")||(m==="z"&&p==="smps")||(m==="vars"&&p==="x")||(m==="x"&&p==="vars");if(k){q.element.type=p;h.QI(true);h[q.func](q.value);h.Zf(o);h.Zf(n)}else{alert("Ooops! Only changes between data and orthogonal numeric metadata")}return false};var i=this.zL(b);var j=b.dataTransfer.getData("text");var d=this.$(j);if(!d){return false}var e=(i&&i.parentNode.type)?i.parentNode:i;var f={element:d,value:d.innerText,type:d.type,func:d.params[0],parent:d.parentNode.parentNode};if(!e.type){g(e,f,b)}else{a(d,e,f)}return false};this.vv=function(b){var a=this.zL(b);this.jb(a.value)};this.u0=function(c){this.R9(c);var b=this.zL(c);var a=this.$(this.target+"-SearchCustomizerSelect");if(a&&a.value){this.MZ(false,a.value,b.innerHTML)}};this.Fv=function(e){this.R9(e);var c=this.$(this.target+"-SearchCustomizerSelect");var b=this.$(this.target+"-SearchCustomizerValue");var a=this.$(this.target+"-SearchCustomizerValueSelect");if(c.childNodes.length){var d=c.value;var f=CanvasXpress.doc.P[d];var g=(f.O||f.T==="boolean")?a.value:b.value;switch(f.T){case"void":this[g]();break;case"integer":case"float":this.P7(d,g=="null"?null:Number(g));break;case"string":case"color":this.P7(d,g=="null"?null:(g=="true"?true:(g=="false"?false:g)));break;case"boolean":this.P7(d,g=="true"?true:false);break;case"array":case"object":case"filter":this.P7(d,this.parseJSON(g));break;case"url":this[d]=g;break;default:break}}};this.h6=function(a){this.R9(a);this.uq()};this.II=function(a){this.fi(a);this.N7(a)};this.initCustomizerWidgets();this.initCustomizerFile();this.initCustomizerData();this.initCustomizerOptions();this.initCustomizerPlot();this.initCustomizerAxes();this.initCustomizerLegends();this.initCustomizerMeta();this.initCustomizerDecorations();this.initCustomizerWrangling();this.initCustomizerTools();this.initCustomizerTheme();this.initCustomizerDOE();this.initCustomizerSearch()};CanvasXpress.prototype.initCustomizerWidgets=function(){this.xL=function(d,a,c,b){return this.$cXI(d&&CanvasXpress.icons.use.hasOwnProperty(d)?d:CanvasXpress.png,a||{},c||{},false,(b||this.customizerIcons)-4)};this.nt=function(i,h,e,d){var g=this.target+"-cX-Customizer-Left-Item-"+e;var a=this.$cX("div",{id:g,className:d?"customizerLeftItemNB":"customizerLeftItem"},{height:this.customizerLeftWidth+"px"});a.setAttribute("data-function",e);if(!this.customizerItem&&e!="closeCustomizer"){this.customizerItem=g;a.className="customizerLeftItemActive"}var f=this.$cX("div",{className:"customizerLeftItemTop",innerHTML:i},{marginTop:this.customizerSpace+"px"});var c=this.xL(h,{className:d?"customizerLeftIconNB":"customizerLeftIcon"},false,this.customizerLeftIcons);var b=this.$cX("div",{className:"customizerLeftItemBottom"});b.appendChild(c);a.appendChild(f);a.appendChild(b);return a};this.o6=function(b,c){var a=this.Fr(b,c);a.className="customizerContainer";a.style.width=(this.customizerRightWidth-20)+"px";return a};this.Fr=function(b,c){var a=this.$cX("div",{className:"customizerContainerRaw"});if(b){for(var e in b){a[e]=b[e]}}if(c){for(var d in c){a.style[d]=c[d]}}return a};this.pN=function(h,f,g,e,d){var a=this.$cX("div",{className:"customizerRightItem",params:g||[]});var c=this.$cX("div",{className:"customizerRightItemTop"});c.appendChild(this.xL(f,false,e,d));var b=this.$cX("div",{className:"customizerRightItemBottom"});b.appendChild(this.$cX("span",{innerHTML:h},{margin:"auto"}));b.appendChild(this.$cX("span",false,{margin:"auto",fontSize:0.7+"rem",color:this.baseWidgetsColor}));a.appendChild(c);a.appendChild(b);return a};this.sX=function(n,m,g,c,e,f,p,o,k,j,h){var b=this.$cX("div",{className:"customizerRightItemCombo",type:f});if(h){b.style.border="none"}var d=this.$cX("div",{className:"customizerRightItemComboLeft"});var a=this.$cX("div",{className:"customizerRightItemComboTopRight"});var i=this.$cX("div",{className:"customizerRightItemComboBottomRight",innerHTML:n});d.appendChild(this.xL(m,{},c,e));var l;switch(f){case"text":l=this.Nw(g,k,j,this.customizerInputHeight,true);break;case"color":l=this.Zx(g,j||g,true);break;case"select":l=this.V9(g,p,o,false,k,j,true);break;case"range":l=this.dY(g,j,true);break}a.appendChild(l);b.appendChild(d);b.appendChild(a);b.appendChild(i);if(f=="range"){b.appendChild(this.$cX("span",{innerHTML:"&nbsp;"}))}return b};this.ga=function(i,k,d,h){var g=this;var e=function(){return Array.isArray(k)?k:["changeAttribute",[k]]};var j=function(){var m=Array.isArray(k)?k[1][0]:k;if(m.match(/-marker-/)){m=g.r4(m).color}return m};var b=this.$cX("div",{className:"customizerRightItemColor"});var f=this.$cX("div",{className:h||"customizerRightItemCol1"});var a=this.$cX("div",{className:"customizerRightItem"});var c=this.$cX("div",{className:"customizerRightItemTop"});c.appendChild(this.$cX("input",{type:"color",value:this.u5(this[j()]||j(),null,true),params:e()},{width:d+"px",height:d+"px",overflow:"hidden",border:this.borderWidgets,borderRadius:"5px",padding:"0px"}));var l=this.$cX("div",{className:"customizerRightItemBottom",innerHTML:i});a.appendChild(c);a.appendChild(l);f.appendChild(a);b.appendChild(f);return b};this.dv=function(e,b){var c=this.$cX("div",{className:"customizerRightItemInt"});var d=this.$cX("div",{className:"customizerRightItemSixthCol"},{width:(this.customizerRightWidth-40)+"px",height:this.customizerItemHeight+"px",marginLeft:"10px"});var g=this.$cX("div",{className:"customizerRightItemCol2",params:["increaseDecreaseAttribute",[e,"decrease",b]],target:this.target+"-customizerRightItemInt-"+e});g.appendChild(this.xL("v_minus",false,false,this.customizerIcons));var f=this.$cX("div",{className:"customizerRightItemColMid"});f.appendChild(this.$cX("input",{id:this.target+"-customizerRightItemInt-"+e,type:"text",value:this[e],params:["changeAttribute",[e]],readOnly:true},{width:"60px",height:(this.customizerItemHeight-10)+"px",border:"none",outline:"none",textAlign:"center"}));var a=this.$cX("div",{className:"customizerRightItemCol5",params:["increaseDecreaseAttribute",[e,"increase",b]],target:this.target+"-customizerRightItemInt-"+e});a.appendChild(this.xL("v_plus",false,false,this.customizerIcons));d.appendChild(g);d.appendChild(f);d.appendChild(a);c.appendChild(d);return c};this.Kg=function(g,d,c,b){var a=this.$cX("div",{className:b?"customizerRightItemHeaderNB":"customizerRightItemHeader"},{width:(this.customizerRightWidth-20)+"px"});var e=this.$cX("div",{className:"customizerRightItemHeaderMain"});e.appendChild(this.Fr({innerHTML:g},{height:this.customizerItemHeight+"px",fontWeight:"bold",padding:"5px"}));var f=this.Fr({},{padding:"5px"});f.appendChild(this.xL(d,{},false,this.customizerIcons));e.appendChild(f);e.appendChild(this.Fr({innerHTML:c},{fontSize:"0.8rem",lineHeight:"0.85rem"}));a.appendChild(e);return a};this.Qi=function(f,c,e,b,d){var a=this.o6();a.appendChild(this.KN(f,c,e,e,b));if(d){a.appendChild(d)}return a};this.KN=function(k,a,f,g,o,e,i,n,d){var b=this.$cX("div",{className:"customizerRightItemHeader customizerRightItemHeaderLink",paramsTitle:k,paramsIcons:a,paramsParams:f,paramsNames:g,paramsType:n},{width:(this.customizerRightWidth-20)+"px"});var c=this.$cX("div",{className:"customizerRightItemHeaderTop"});var h=k[0].length>10?k[0].substring(0,5)+"...":k[0];c.appendChild(this.Fr({innerHTML:(e||"")+(d||h||"")+(i||""),beforeContent:e||"",afterContent:i||""},{fontWeight:"bold",whiteSpace:"nowrap",padding:"5px"}));var m=this.Fr({},{padding:"5px"});m.appendChild(this.xL(a[0],{},false,this.customizerIcons));c.appendChild(m);c.appendChild(this.Fr({innerHTML:o},{fontSize:"0.8rem",lineHeight:"0.85rem"}));var p=this.$cX("div",{className:"customizerRightItemHeaderBottom"});for(var l=0;l<k.length;l++){p.appendChild(this.$cX("a",{href:"#",innerHTML:k[l].length>10?k[l].substring(0,5)+"...":k[l],fullText:k[l]},{textDecoration:(l==0?"underline":"none"),padding:"2px 0px 5px 15px",fontSize:"0.8rem",fontStyle:"italic",display:n&&k[l]=="-"?"none":"block"}))}b.appendChild(c);b.appendChild(p);return b};this.xA=function(b){var a=this.$cX("div",{className:"customizerRightItemSubHeaderRaw"},{width:(this.customizerRightWidth-40)+"px",height:(this.customizerItemHeight-10)+"px",marginLeft:"10px"});a.appendChild(this.Fr({innerHTML:b},{height:(this.customizerItemHeight-10)+"px",whiteSpace:"nowrap",padding:"10px"}));return a};this.i5=function(i,h,g,f,c){var a=this.$cX("div",{className:f?"customizerRightItemLauncherNB":"customizerRightItemLauncher",params:g,type:"launcher"},{width:(this.customizerRightWidth-20)+"px",height:(this.customizerItemHeight+10)+"px"});var b=this.$cX("div",{className:"customizerRightItemLauncherLeft"},{cssFloat:"left",border:"none !important"});if(c){b.style.backgroundColor=this.transparent}var e=this.Fr({},{padding:"5px"});e.appendChild(this.xL(h,false,false,this.customizerIcons));b.appendChild(e);var d=this.$cX("div",{className:"customizerRightItemLauncherRight",innerHTML:i});if(h=="cd_upload"){d.appendChild(this.$cX("input",{type:"file"},{position:"relative",marginLeft:"20px",color:"transparent",width:"120px"}))}a.appendChild(b);a.appendChild(d);return a};this.MO=function(e,d,b,c){var a=this.o6();a.appendChild(this.i5(e,d,b,c));return a};this.Uk=function(a){switch(a){case 1:return"customizerRightItemFullCol";case 2:return"customizerRightItemHalfCol";case 3:return"customizerRightItemThirdCol";case 4:return"customizerRightItemFourthCol";case 5:return"customizerRightItemFifthCol";case 6:return"customizerRightItemSixthCol";default:return"customizerRightItemFullCol"}};this.MQ=function(n,e,c,m){var f=this.Uk(c);var b=this.Fr(false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});b.className+=" customizerRightItemImagesGroup";var i=this.$cX("div",false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});var h;for(var g=0;g<n.length;g++){var l=g%c;var a=l+1;if(l==0){h=this.$cX("div",{className:f},{width:(this.customizerRightWidth-30)+"px"})}var d=this.$cX("div",{className:"customizerRightItemCol"+a,params:e[g]});var k=m?this.customizerIcons+m:this.customizerIcons+(c>=4?30:c<3?5:10);d.appendChild(this.xL(n[g],false,{padding:"2px",border:this.borderWidgets,borderRadius:"5px",margin:"5px 5px 5px 0px"},k));h.appendChild(d);if(a==c){i.appendChild(h)}}b.appendChild(i);return b};this.EJ=function(f,b,e,h,g,c,d){var a=this.o6();a.appendChild(this.Kg(f,b,e));if(h&&h.length){a.appendChild(this.Ds(h,g,c,d))}else{a.appendChild(this.MQ(g,c,d))}return a};this.Ds=function(k,o,e,c,n){var f=this.Uk(c);var b=this.Fr(false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});b.className+=" customizerRightItemTextImagesGroup";var i=this.$cX("div",false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});var h;for(var g=0;g<o.length;g++){var m=g%c;var a=m+1;if(m==0){h=this.$cX("div",{className:f},{width:(this.customizerRightWidth-30)+"px"})}var d=this.$cX("div",{className:"customizerRightItemCol"+a,params:e[g],droppable:n&&n[g]?n[g]:false});var l=this.customizerIcons+(c>4?25:c<3?5:10);d.appendChild(this.pN(k[g],o[g],false,false,l));h.appendChild(d);if(a==c){i.appendChild(h)}}b.appendChild(i);return b};this.jC=function(f,e,d,b){var a=this.o6();a.appendChild(this.Kg(f,e,d));for(var c=0;c<b.length;c++){a.appendChild(this.i5(b[c][0],b[c][1],b[c][2],c==0,true))}return a};this.V9=function(k,m,l,j,h,f,b){var a=this.$cX("div",{className:"customizerRightItemSelect"},{width:this.hq(b),height:(this.customizerInputHeight+(b?0:5))+"px",margin:"10px 10px 5px",display:"flex"});var e=this.$cX("select",{params:f||["changeAttribute",[k]]},{width:this.hq(b),height:this.customizerInputHeight+"px",border:this.borderWidgets,borderRadius:"5px",outline:"none",position:"absolute",resize:"none"});if(h===null){e.add(this.$cX("option",{text:"Select factor",value:"",disabled:true,selected:true}))}for(var c=0;c<m.length;c++){var d=this.$cX("option",{text:m[c],value:l[c],selected:l[c]==h});if(j&&j[c]){d.innerHTML=j[c]}try{e.add(d,null)}catch(g){e.add(d)}}a.appendChild(e);return a};this.Zx=function(b,c,d){var a=this.$cX("div",{className:"customizerRightItemColorSelect"},{width:this.hq(d),margin:"10px 10px 5px"});a.appendChild(this.$cX("input",{type:"color",value:this.u5(this[b]||b,null,true),params:c},{width:this.hq(d),height:this.customizerInputHeight+"px",overflow:"hidden",border:this.borderWidgets,borderRadius:"5px",padding:"0px",overflow:"hidden"}));return a};this.dY=function(b,d,e){var c=this.Pl(this[b]);var a=this.$cX("div",{className:"customizerRightItemRangeSelect"},{width:this.hq(e),margin:"-15px 10px 5px",display:"flex"});a.appendChild(this.$cX("input",{type:"range",min:0,max:1,step:0.01,value:(c!=null?c:1),params:d,className:"customizerRightItemRangeSelect"},{width:(this.customizerRightWidth-(e?92:52))+"px"}));return a};this.Nw=function(e,c,f,a,g){var d=function(h,i){if(h===null){return"null"}if(h===false){return""}if(h===true){return"true"}return(h!=null)?h:i};var b=this.$cX("div",{className:"customizerRightItemTextArea"},{width:this.hq(g),height:a+"px",margin:"10px 10px 5px",display:"flex"});b.appendChild(this.$cX("textarea",{innerHTML:d(this[e],c),params:f||["changeAttribute",[e]]},{width:this.hq(g),height:a+"px",border:this.borderWidgets,borderRadius:"5px",padding:"8px",outline:"none",position:"absolute",resize:"none",font:"inherit"}));b.appendChild(this.xL("ch_creturn",false,{padding:0,border:this.borderWidgets,borderRadius:"5px",position:"relative",top:(a-(this.customizerIcons-4))+"px",left:(this.customizerRightWidth-(this.customizerIcons+(g?82:42)))+"px"},this.customizerIcons-10));return b};this.Dj=function(m,f,n){var c=["at_col","sr_aai","sr_aad","ch_oa","ch_lb","ch_oitalic"];var k=["Color","Bigger","Smaller","Normal","Bold","Italic"];var o=[["changeAttribute",[m+"Color"]],["setFontAttributeSize",[m+"ScaleFontFactor","increase"]],["setFontAttributeSize",[m+"ScaleFontFactor","decrease"]],["setFontAttributeStyle",[m+"FontStyle","normal"]],["setFontAttributeStyle",[m+"FontStyle","bold"]],["setFontAttributeStyle",[m+"FontStyle","italic"]]];if(n){c=c.concat("chte_alignleft","chte_aligncenter","chte_alignright","chte_baselinetop","chte_baselinemiddle","chte_baselinebottom");k=k.concat("Left","Center","Right","Top","Middle","Bottom");o=[["setMarkerAttribute",[this.target+"-marker-"+m,"color"]],["setMarkerAttribute",[this.target+"-marker-"+m,"scaleFontFactor","increase"]],["setMarkerAttribute",[this.target+"-marker-"+m,"scaleFontFactor","decrease"]],["setMarkerAttribute",[this.target+"-marker-"+m,"fontStyle","normal"]],["setMarkerAttribute",[this.target+"-marker-"+m,"fontStyle","bold"]],["setMarkerAttribute",[this.target+"-marker-"+m,"fontStyle","italic"]],["setMarkerAttribute",[this.target+"-marker-"+m,"align","right"]],["setMarkerAttribute",[this.target+"-marker-"+m,"align","center"]],["setMarkerAttribute",[this.target+"-marker-"+m,"align","left"]],["setMarkerAttribute",[this.target+"-marker-"+m,"baseline","bottom"]],["setMarkerAttribute",[this.target+"-marker-"+m,"baseline","middle"]],["setMarkerAttribute",[this.target+"-marker-"+m,"baseline","top"]]]}var e=this.Uk(3);var b=this.Fr({className:"customizerRightItemText"},{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});var i=this.$cX("div",false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});if(f){i.appendChild(this.Nw(f,false,n?["setMarkerAttribute",[this.target+"-marker-"+m,"text"]]:false,96))}var h=this.$cX("div",{className:e},{width:(this.customizerRightWidth-40)+"px",marginLeft:"10px"});h.appendChild(this.ga(k[0],o[0],this.customizerInputHeight));for(var g=1;g<c.length;g++){var l=g%3;var a=l+1;if(l==0){h=this.$cX("div",{className:e},{width:(this.customizerRightWidth-40)+"px",marginLeft:"10px"})}var d=this.$cX("div",{className:"customizerRightItemCol"+a});d.appendChild(this.pN(k[g],c[g],o[g],false,this.customizerInputHeight));h.appendChild(d);if(a==3){i.appendChild(h)}}b.appendChild(i);return b};this.Yl=function(l){var c=["at_col","gr_major","gr_minor","ln_stylesolid","ln_styledotted","ln_styledashed"];var i=["Color","Major","Minor","Solid","Dotted","Dashed"];var m=[["changeAttribute",[l+"AxisGridMajorColor"]],["toggleAttribute",[l+"AxisGridMajorShow"]],["toggleAttribute",[l+"AxisGridMinorShow"]],["changeAttribute",[l+"AxisGridMajorLineType","solid"]],["changeAttribute",[l+"AxisGridMajorLineType","dotted"]],["changeAttribute",[l+"AxisGridMajorLineType","dashed"]]];var e=this.Uk(3);var b=this.Fr({className:"customizerRightItemGrid"},{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});var h=this.$cX("div",false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});var g=this.$cX("div",{className:e},{width:(this.customizerRightWidth-40)+"px",marginLeft:"10px"});g.appendChild(this.ga(i[0],m[0],this.customizerInputHeight));for(var f=1;f<6;f++){var k=f%3;var a=k+1;if(k==0){g=this.$cX("div",{className:e},{width:(this.customizerRightWidth-40)+"px",marginLeft:"10px"})}var d=this.$cX("div",{className:"customizerRightItemCol"+a});d.appendChild(this.pN(i[f],c[f],m[f],false,this.customizerInputHeight));g.appendChild(d);if(a==3){h.appendChild(g)}}h.appendChild(this.dv(l+"AxisTicks",1));b.appendChild(h);return b};this.F0=function(d,e){var f=this.Uk(2);var a=this.Fr(false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});a.className+=" customizerRightItemColorBorder";var b=this.$cX("div",false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});var c=this.$cX("div",{className:f},{width:(this.customizerRightWidth-40)+"px",marginLeft:"10px"});c.appendChild(this.ga("Color",d,this.customizerInputHeight,"customizerRightItemCol1"));c.appendChild(this.ga("Border",e,this.customizerInputHeight,"customizerRightItemCol2"));b.appendChild(c);a.appendChild(b);return a};this.xq=function(d,g){var h=this.Uk(d.length);var a=this.Fr(false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});a.className+=" customizerRightItemToggle"+(g==="logSign"?"LogSign":"LinLog")+"Group";var c=this.$cX("div",false,{width:(this.customizerRightWidth-20)+"px",height:"fit-content"});var f=this.$cX("div",{className:h},{width:(this.customizerRightWidth-40)+"px",marginLeft:"10px"});for(var b=0;b<d.length;b++){var e=this.$cX("div",{className:"customizerRightItemCol"+(b+1)});e.appendChild(this.Er(d[b],g));f.appendChild(e)}c.appendChild(f);a.appendChild(c);return a};this.gd=function(b){var a=this.$cX("div",{className:"customizerContainerComboGroup"},{width:(this.customizerRightWidth-20)+"px",height:"fit-content",display:"grid"});b.forEach(function(c){a.appendChild(c)});return a};this.aG=function(f,b,e,d){var a=this.o6();a.appendChild(this.Kg(f,b,e));var c=this.$cX("div",{className:"customizerContainerComboGroup"},{width:(this.customizerRightWidth-20)+"px",height:"fit-content",display:"grid"});d.forEach(function(g){c.appendChild(g)});a.appendChild(c);return a};this.Di=function(h,d,g,f,c,e){var a=this.o6();a.appendChild(this.KN(h,d,g,f,c));var b=this.$cX("div",{className:"customizerContainerComboGroup"},{width:(this.customizerRightWidth-20)+"px",height:"fit-content",display:"grid"});b.appendChild(this.sX(h[0]+" Color",d[0],e,false,this.customizerIcons,"color",false,false,false,["changeAttribute",[e]],true));b.appendChild(this.sX("Alpha","op_zzz",e,false,this.customizerIcons,"range",false,false,false,["changeAttribute",[e]],true));a.appendChild(b);return a};this.hq=function(a){return(this.customizerRightWidth-(a?82:42))+"px"};this.Er=function(e,c){var a=c==="logSign";var f=a?"logSign":"linLog";var b=a?"-log":"log";var d=a?"-Log":"Log";return this.NW([f,[e+"Axis"]],this[e+"AxisTransform"].toString().match(b),"Lin",d,true)};this.zX=function(f,c,h,b,d,k,j,i,g,e){var a=this.o6();a.appendChild(this.Kg(f,c,h));if(b==="select"){a.appendChild(this.V9(d,k,j,i,g,e))}else{if(b==="textarea"){a.appendChild(this.Nw(d,g,e,this.customizerInputHeight))}else{if(b==="color"){a.appendChild(this.Zx(d,e))}else{if(b==="int"){a.appendChild(this.dv(d,g))}}}}return a};this.hK=function(e,g,f,d){var a={ids:[],icons:[],params:[],names:[],selectedIndex:null,targetId:""};if(e.length){for(var b=0;b<e.length;b++){var c=e[b].id.split("-").pop();if(a.selectedIndex===null){a.selectedIndex=b;a.targetId=this.target+"-"+d+"-"+c}a.ids.push(c.toString()+" ");a.icons.push(g(e[b]));a.params.push([f]);a.names.push(c)}}return a};this.aW=function(a){var b=this.o6();b.appendChild(this.Kg("Under construction","wp_configuration","",true));return b}};CanvasXpress.prototype.initCustomizerFile=function(){this.iz=function(){var d=[];var g={File:["sv_disk",[["Save as PNG","sv_image",["print",[]]],["Save as SVG","sv_svg",["saveSVG",[]]],["Save as JSON","sv_diskjson",["save",[]]]]],Edit:["fp_pencil",[["JS Fiddle","c_jsfiddle",["editJSFiddle",[]]],["CodePen","c_codepen",["editCodePen",[]]]]],Code:["wp_code",[["Reproducible Research code","c_rrcode",["clickRepResearch",[]]],["JSON code","cd_json",["clickShowCode",[]]],["R code","c_rcode",["clickShowRCode",[]]],["Python code","c_python",["clickShowPythonCode",[]]],["Jupyter code","c_jupyter",["clickShowPythonCode",[false,true]]],["Streamlit code","c_streamlit",["clickShowPythonCode",[false,false,true]]],["Shiny for Python code","c_shiny",["clickShowPythonCode",[false,false,false,true]]],["English code","op_chat2",["clickShowEnglishCode",[]]]]],Utilities:["wp_configuration",[["Open File","cd_upload",["fileUpload",[]]],["Reset","op_refresh",["masterReset",[]]]]]};if(this.isCxplot&&this.meta.config.user.cxplot){g.Code[1].push(["Show Cxplot code","c_cxplot",["clickShowCxplotCode",[]]])}if(!this.isEditable){delete g.Edit}for(var b in g){if(g.hasOwnProperty(b)){var f=g[b];var a=f[0];var e=f[1];var c="Click items below to "+(b=="Utilities"?"run utilities":b.toLowerCase());d.push(this.jC(b,a,c,e))}}return[d,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerData=function(){this.zs=function(){return this.MO("Transpose Data","dtt_transpose",["transpose"],true)};this.OQ=function(){var a=this.tU("__COUNT__");if(a>=0){return this.MO("Uncount Data","dtp_count",["uncountData"],true)}else{return this.MO("Count Data","dtp_count",["countData"],true)}};this.tS=function(){var b=["ch_olog2","ch_olog10","ch_onlog2","ch_onlog10","ch_oe2","ch_oe10","ch_osqrt","op_refresh"];var a=[["transform",["log2"]],["transform",["log10"]],["transform",["-log2"]],["transform",["-log10"]],["transform",["exp2"]],["transform",["exp10"]],["transform",["sqrt"]],["transform",["reset"]]];return this.EJ("Transform","ch_ofx","Click to transform data",false,b,a,4)};this.lF=function(){var b=["ch_omean","dtp_max","dtp_min","ch_ssum","dtp_count"];var a=[["changeAttribute",["summaryType","mean"]],["changeAttribute",["summaryType","max"]],["changeAttribute",["summaryType","min"]],["changeAttribute",["summaryType","sum"]],["changeAttribute",["summaryType","count"]]];return this.EJ("Summary","ch_ssum","Click to change data summary",false,b,a,5)};this.cP=function(){var e=["Direction","Case","Variables","Samples"];var c=[this.sortDir=="ascending"?"sr_zad":"sr_azi","ch_oaa","ch_lv","ch_ls"];var d=[["sortDir"],["sortCase"],["sortVariables"],["sortSamples"]];var a=[false,false,true,true];var b=this.o6();b.appendChild(this.Kg("Sort","sr_az","Click item to select sort type. Drag meta-data to Variables or Samples to sort by category"));b.appendChild(this.Ds(e,c,d,4,a));b.appendChild(this.hb("Sample Metadata",this.target+"-cX-CustomizerAnnotations"));b.appendChild(this.tC());b.appendChild(this.hb("Variable Metadata",this.target+"-cX-CustomizerDescriptions"));b.appendChild(this.nX());return b};this.T0=function(){var a=[];a.push(this.zs());a.push(this.OQ());a.push(this.tS());if(this.isGroupedData&&this.graphType=="Bar"){a.push(this.lF())}a.push(this.cP());return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerOptions=function(){this.WS=function(){var f=["Title","Subtitle","Citation"];var c=["p_g1title","p_g1subtitle","p_g1citation"];var e=["title","subtitle","citation"];var d=["title","subtitle","citation"];var b="Select text (link) and click to modify";var a=this.o6();a.appendChild(this.KN(f,c,e,d,b));a.appendChild(this.Dj(e[0],d[0]));return a};this.w3=function(){var c=["Vertical","Horizontal"];var a=["gc_govertical","gc_gohorizontal"];var b=[["changeAttribute",["graphOrientation","vertical"]],["changeAttribute",["graphOrientation","horizontal"]]];return this.EJ("Orientation","gc_gg2","Click to change plot orientation",c,a,b,2)};this.Q4=function(){var d=["Area","Area Line","Bar","Bar Line","Boxplot","Circular","Correlation","Dot Line","Dotplot","Heatmap","Line","Pie Chart"];var c=["g_area","g_arealine","g_bar","g_barline","g_boxplot","g_circular","g_correlation","g_dotline","g_dotplot","g_heatmap","g_line","g_pie"];var f=[];if(this.data.y.smps.length>1){d.push("Scatter 2D");c.push("g_scatter2d")}if(this.data.y.smps.length>2){d.push("Scatter Bubble 2D");c.push("g_scatter3d")}d.push("Stacked","Stacked Line","Stacked Percent","Stacked Percent Line","Tag Cloud","Parallel Coordinates","Treemap");c.push("g_stacked","g_stackedline","g_stackedpercent","g_stackedpercentline","g_tagcloud","g_parallelcoordinates","g_treemap");for(var b=0;b<d.length;b++){var e=d[b].replace(/\s/g,"");f.push(["changeAttribute",["graphType",e]])}var a=this.o6();a.appendChild(this.Kg("Type","ly_doe","Click to change graph type"));a.appendChild(this.MQ(c,f,4));return a};this.fI=function(){var b=["Standard Deviation","Standard Error of Mean","95% Confidence Interval"];var a=["standardDeviation","standardErrorMean","confidenceInterval95"];return this.aG("Error Bars","gc_gerrors","Click / Select to change property",[this.i5("Show / Hide Error Bars","sl_eopen",["toggleAttribute",["showErrorBars"]],true,true),this.sX("Type","ch_ofx",false,false,this.customizerIcons,"select",b,a,this.errorBarsType,["changeAttribute",["errorBarsType"]]),this.sX("Color","at_col",this.errorBarsColor,false,this.customizerIcons,"color",false,false,this.errorBarsColor,["changeAttribute",["errorBarsColor"]]),this.sX("Width","sp_thickness","errorBarsThickness",false,this.customizerIcons,"text",false,false,this.errorBarsThickness,["changeAttribute",["errorBarsThickness"]])])};this.fl=function(){var a=["Heckbert","R Pretty","Wilkinson","Wilkinson Extended"];var c=["heckbert","rPretty","wilkinson","wilkinsonExtended"];var b=this.o6();b.appendChild(this.Kg("Axis Algorithm","ga_axisxy","Select option"));b.appendChild(this.V9("axisAlgorithm",a,c,false,this.axisAlgorithm));return b};this.nZ=function(){var c=["Wider","Thiner"];var a=["sp_thicker","sp_thinner"];var b=[["setFontAttributeSize",["widthFactor","increase"]],["setFontAttributeSize",["widthFactor","decrease"]]];return this.EJ("Sample Width","sp_thickness","Click to change width",c,a,b,2)};this.b5=function(){var c=["Farther","Closer"];var a=["sp_farther","sp_closer"];var b=[["setFontAttributeSize",["variableSpace","increase"]],["setFontAttributeSize",["variableSpace","decrease"]]];return this.EJ("Variable Spacing","sp_spacing","Click to change spacing",c,a,b,2)};this.mi=function(){var a=[];a.push(this.WS());if(!this.graphType.match(/Scatter|Heatmap/)){a.push(this.w3())}a.push(this.Q4());a.push(this.fI());a.push(this.fl());a.push(this.nZ());if(this.graphType.match(/Bar|Boxplot/)&&this.data.y.vars.length>1){a.push(this.b5())}return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerPlot=function(){this.BI=function(){return this.MO("Remove SPLOM","ly_splomremove",["toggleAttribute",["scatterPlotMatrix"]],true)};this.Bu=function(){return this.MO("Adjust Layout Axes","sl_lightbulbon",["toggleAttribute",["sl_lightbulbon"]],true)};this.O0=function(){var b=["both","upper","lower","correlation","correlationDensity","correlationHistogram","all","first"];var a=["Both panels","Upper panel","Lower panel","Correlation","Correlation - Density","Correlation - Histogram","All","First"];return this.zX("Type of Layout","ly_splom","Select option","select","axisAlgorithm",b,a,false,this.scatterPlotMatrixType,["modifyLayoutType",[]])};this.KW=function(){var c=["Normal","Radar","Sunburst","Chord","Bubble"];var a=["g_circular","g_radar","g_sunburst","g_chord","g_bubble"];var b=[["changeAttribute",["circularType","normal"]],["changeAttribute",["circularType","radar"]],["changeAttribute",["circularType","sunburst"]],["changeAttribute",["circularType","chord"]],["changeAttribute",["circularType","bubble"]]];return this.EJ("Type","g_circular","Click to change circular type",c,a,b,5)};this.pw=function(){var c=["Box and Wishkers","Range"];var a=["bx_typewishkers","bx_typerange"];var b=[["changeAttribute",["boxplotType","boxWhiskers"]],["changeAttribute",["boxplotType","range"]]];return this.EJ("Type","bx_type","Click to change boxplot type",c,a,b,2)};this.AC=function(){var a=[["Show / Hide All Data Points","bx_data",["toggleAttribute",["showBoxplotOriginalData"]]],["Jitter Data Points","dp_jittered",["toggleAttribute",["jitter"]]],["Sina Data Points","dp_jittered",["toggleAttribute",["sina"]]],["Bin Data Points","dp_binned",["toggleAttribute",["binned"]]]];return this.jC("Data","wp_data","Click to modify",a)};this.Ga=function(){var c=["Left","Center","Right"];var a=["dp_binr","dp_binc","dp_binl"];var b=[["changeAttribute",["binAlignment","left"]],["changeAttribute",["binAlignment","center"]],["changeAttribute",["binAlignment","right"]]];return this.EJ("Bin Alignment","dp_bin","Click to change alignment",c,a,b,3)};this.D6=function(){var c=["None","Single","Double"];var a=["bx_wishkersn","bx_wishkerss","bx_wishkersd"];var b=[["changeAttribute",["boxplotWhiskersType","none"]],["changeAttribute",["boxplotWhiskersType","single"]],["changeAttribute",["boxplotWhiskersType","double"]]];return this.EJ("Wishkers","bx_wishkers","Click to change wishkers",c,a,b,3)};this.B1=function(){var a=[["Boxplot Var Width","sp_thickness",["toggleAttribute",["boxplotVarWidth"]]],["Boxplot Notch","bx_notched",["toggleAttribute",["boxplotNotched"]]],["Connect Boxplot","bx_connect",["toggleAttribute",["boxplotConnect"]]],["Show Boxplot Mean","bx_meanb",["toggleAttribute",["boxplotMean"]]]];return this.jC("Boxplot Attributes","ch_la","Click to change",a)};this.uS=function(){var a=this.o6();a.appendChild(this.Kg("Boxplot Mean Box","bx_mean","Click to modify"));a.appendChild(this.F0("boxplotMeanColor","boxplotMeanBorderColor"));return a};this.W1=function(){return this.zX("Boxplot Median Color","bx_medianw","Click to modify","color","boxplotMedianColor",false,false,false,false,["changeAttribute",["boxplotMedianColor"]])};this.zu=function(){return this.zX("Boxplot Median Width","sp_thickness","Type to modify","textarea","boxplotMedianWidth",false,false,false,false)};this.lO=function(){var a=[["Show / Hide Violin","bx_violinu",["toggleAttribute",["showViolinBoxplot"]]],["Toggle to Trim Violin","bx_violint",["toggleAttribute",["violinTrim"]]],["Hide Boxplot (if Violin)","bx_violinbp",["toggleAttribute",["showBoxplotIfViolin"]]]];return this.jC("Violin","bx_violin","Click to change",a)};this.fC=function(){return this.zX("Boxplot / Violin Ratio","sp_thickness","Type to modify","textarea","boxplotWidthRatioIfViolin",false,false,false,false)};this.GR=function(){var a=["area","count","width"];return this.zX("Violin Scale","wp_scale","Select option","select","violinScale",a,a,false,this.violinScale)};this.oX=function(){return this.zX("Bandwidth Adjust","ch_la","Type to modify","textarea","bandwidthAdjust",false,false,false,false)};this.Ls=function(){return this.aG("Cell Boxes","g_heatmap","Click / Select to change property",[this.i5("Show / Hide Heatmap Cell Box","sl_eopen",["toggleAttribute",["heatmapCellBox"]],true,true),this.sX("Color","at_col",this.heatmapCellBoxColor,false,this.customizerIcons,"color",false,false,false,["changeAttribute",["heatmapCellBoxColor"]]),this.sX("Width","sp_thickness","heatmapCellBoxWidth",false,this.customizerIcons,"text",false,false,false,["changeAttribute",["heatmapCellBoxWidth"]])])};this.wU=function(){return this.zX("Highlight Cell Box Color","at_col","Click to modify","color","heatmapCellBoxColorHighlight",false,false,false,false,["changeAttribute",["heatmapCellBoxColorHighlight"]])};this.Zr=function(){var a=this.o6();if(this.smpOverlays.length){var c=[];for(var d=0;d<this.smpOverlays.length;d++){var b=this.smpOverlays[d];if(this.meta.data.x[b].type=="String"){c.push(b)}}if(c.length){c.unshift("");a.appendChild(this.Kg("Separate Samples By","ch_ls","Select option"));a.appendChild(this.V9("heatmapSmpSeparateBy",c,c,false,""))}}return a};this.Qk=function(){var a=this.o6();if(this.varOverlays.length){var c=[];for(var d=0;d<this.varOverlays.length;d++){var b=this.varOverlays[d];if(this.meta.data.z[b].type=="String"){c.push(b)}}if(c.length){c.unshift("");a.appendChild(this.Kg("Separate Variables By","ch_lv","Select option"));a.appendChild(this.V9("heatmapVarSeparateBy",c,c,false,""))}}return a};this.q3=function(){var a=[];if(this.yW()){if(this.scatterPlotMatrix){a.push(this.BI());a.push(this.Bu());a.push(this.O0())}else{a.push(this.aW())}}else{if(this.graphType=="Boxplot"){a.push(this.pw());a.push(this.AC());a.push(this.Ga());a.push(this.D6());a.push(this.B1());a.push(this.uS());a.push(this.W1());a.push(this.zu());a.push(this.lO());a.push(this.fC());a.push(this.GR());a.push(this.oX())}else{if(this.graphType=="Circular"){a.push(this.KW())}else{if(this.s9()){a.push(this.Ls());a.push(this.wU());if(this.smpOverlays.length){a.push(this.Zr())}if(this.varOverlays.length){a.push(this.Qk())}}else{a.push(this.aW())}}}}return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerAxes=function(){this.dg=function(){var a=this.yW();var b=this.s9();return this.Qi(a?["X-Axis","Y-Axis"]:b?["Var-Title","Smp-Title"]:["X-Axis","Smp-Title"],a?["p_g2axistitlex","p_g2axistitley"]:b?["p_ghvariabletitle","p_ghsampletitle"]:["p_g1axistitle1","p_g1sampletitle"],a?["xAxisTitle","yAxisTitle"]:b?["varTitle","smpTitle"]:["xAxisTitle","smpTitle"],"Select text (link) and click to modify",this.Nw((a?"xAxisTitle":b?"varTitle":"xAxisTitle"),(b?this.varTitle:this.xAxisTitle),false,this.customizerInputHeight))};this.Ot=function(){var a=this.yW();var b=this.s9();var c=a?["xAxisTitle","xAxisText","yAxisTitle","yAxisText"]:b?["varTitle","smpTitle","varText","smpText"]:["xAxisTitle","smpTitle","xAxisText","smpText"];return this.Qi(a?["X-Title","X-Ticks","Y-Title","Y-Ticks"]:b?["Var-Title","Smp-Title","Var-Labels","Smp-Labels"]:["Axis-Title","Smp-Title","Axis-Ticks","Labels"],a?["p_g2axistitlex","p_g2axisx","p_g2axistitley","p_g2axisy"]:b?["p_ghvariabletitle","p_ghsampletitle","p_ghvariablelabels","p_ghsamplelabels"]:["p_g1axistitle1","p_g1sampletitle","p_g1axis","p_g1samplelabels"],c,"Select text (link) and click to modify",this.Dj(c[0]))};this.Iv=function(){var c=[[["xAxisShow","yAxisShow"],["setMinX","setMinY"],["setMaxX","setMaxY"],["xAxisTickFormat","yAxisTickFormat"]],[["yAxisShow","xAxisShow"],["setMinY","setMinX"],["setMaxY","setMaxX"],["yAxisTickFormat","xAxisTickFormat"]],[["xAxisShow","xAxis2Show"],["setMinX","setMinX2"],["setMaxX","setMaxX2"],["xAxisTickFormat","xAxis2TickFormat"]],[["xAxis2Show","xAxisShow"],["setMinX2","setMinX"],["setMaxX2","setMaxX"],["xAxis2TickFormat","xAxisTickFormat"]],[["xAxisShow","yAxisShow","zAxisShow"],["setMinX","setMinY","setMinZ"],["setMaxX","setMaxY","setMaxZ"],["xAxisTickFormat","yAxisTickFormat","zAxisTickFormat"]]];var e=this.graphType=="Scatter3D";var a=this.yW();var f=e?["X","Y","Z"]:a?["X","Y"]:["X","X2"];var b=e?["p_g3axisx","p_g3axisy","p_g3axisz"]:a?["p_g2axisx","p_g2axisy"]:["p_g1axis1","p_g1axis2"];var d=e?c[4]:a?c[0]:c[2];return this.Qi(f,b,d,"Click / Select to change",this.gd([this.i5("Show / Hide Axis","sl_eopen",["toggleAttribute",["xAxisShow"]],true,true),this.sX("Axis Min","dtp_min","setMinX",false,this.customizerIcons,"text"),this.sX("Axis Max","dtp_max","setMaxX",false,this.customizerIcons,"text"),this.sX("Axis Format","tx_format","xAxisTickFormat",false,this.customizerIcons,"text")]))};this.Va=function(){var e=this.graphType.match(/Scatter3D|Bubble/);var g=e?["X","Y","Z"]:["X","Y"];var d=e?["p_g2axisx","p_g2axisy","p_g3axisz"]:["p_g2axisx","p_g2axisy"];var f=e?[["addToAxis",["xAxis"]],["addToAxis",["yAxis"]],["addToAxis",["zAxis"]]]:[["addToAxis",["xAxis"]],["addToAxis",["yAxis"]]];var c=e?["x","y","z"]:["x","y"];var a=e?[true,true,true]:[true,true];var b=this.o6();b.appendChild(this.Kg("Axes","ga_axisxy","Drag and Drop Samples into Axes"));b.appendChild(this.xq(c,"linLog"));b.appendChild(this.Ds(g,d,f,g.length,a));b.appendChild(this.xq(c,"logSign"));b.appendChild(this.hb("Sort Samples",this.target+"-cX-CustomizerSamples"));b.appendChild(this.ZK());return b};this.d5=function(){var a=this.yW();var b=a?["x","y"]:["x"];return this.Qi(a?["X Grid","Y Grid"]:["X Grid"],a?["gr_g2x","gr_g2y"]:["gr_g1"],b,a?"Select text (link) and click to modify":"Click to modify",this.Yl(b[0]))};this.lm=function(){var c=[[["showSampleNames","showVariableNames"],["smpLabelInterval","varLabelInterval"],["smpTextRotate","varTextRotate"],["smpHighlightColor","varHighlightColor"]],[["showSampleNames"],["smpLabelInterval"],["smpTextRotate"],["smpHighlightColor"]]];var a=this.s9();var b=a?c[0]:c[1];return this.Qi(a?["Sample","Variable"]:["Sample"],a?["p_ghsamplelabels","p_ghvariablelabels"]:["p_g1samplelabels"],b,"Click / Select to change",this.gd([this.i5("Show / Hide Label Show","sl_eopen",["toggleAttribute",["showSampleNames"]],true,true),this.sX("Interval","ch_snumber","smpLabelInterval",false,this.customizerIcons,"text"),this.sX("Rotate in Degrees","rt_c","smpTextRotate",false,this.customizerIcons,"text"),this.sX("Highlight Color","at_col","smpHighlightColor",false,this.customizerIcons,"color",false,false,false,["changeAttribute",["smpHighlightColor"]])]))};this.uJ=function(){var a=this.o6();a.appendChild(this.Kg("Highlight","sl_lightbulboff",this.s9()?"Click to reset highlights. Drag and Drop Variables or Samples to highlight":"Click to reset highlights. Drag and Drop Samples to highlight"));a.appendChild(this.Ds(["Highligtht"],["sl_lightbulbon"],[["highlight"]],1,[true]));a.appendChild(this.hb("Sort Samples",this.target+"-cX-CustomizerSamples"));a.appendChild(this.ZK());if(this.s9()){a.appendChild(this.hb("Sort Variables",this.target+"-cX-CustomizerVariables"));a.appendChild(this.n3())}return a};this.Sv=function(){var a=[];a.push(this.dg());a.push(this.Ot());if(this.yW()){a.push(this.Va())}if(!this.graphType.match(/Heatmap/)){a.push(this.Iv());a.push(this.d5())}if(!this.yW()){a.push(this.lm());a.push(this.uJ())}return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerLegends=function(){this.Ge=function(){var d=this.smpOverlays.length?["Legend","Overlays"]:["Legend"];var b=this.smpOverlays.length?["lg_g1","lg_h"]:[this.yW()?"lg_g2":"lg_g1"];var c=this.smpOverlays.length?[["toggleAttribute",["showLegend"]],["toggleMultipleAttributes",[["showSmpOverlaysLegend","showVarOverlaysLegend"]]]]:[["toggleAttribute",["showLegend"]]];if(this.s9()){d.push("Indicator");b.push("lg_h");c.push(["toggleAttribute",["showHeatmapIndicator"]])}var a=this.o6();a.appendChild(this.Kg("Legends","lg_legend","Click to hide /show"));a.appendChild(this.Ds(d,b,c,d.length));return a};this.V3=function(){var e=this.smpOverlays.length?["Title","Text","Overlays"]:["Title","Text"];var c=this.smpOverlays.length?["lg_g1","lg_g1","lg_h"]:this.yW()?["lg_g2","lg_g2"]:["lg_g1","lg_g1"];var d=this.smpOverlays.length?["legendTitle","legendText","overlay"]:["legendTitle","legendText"];var b="Click to modify font text";var a=this.o6();a.appendChild(this.KN(e,c,d,d,b));a.appendChild(this.Dj(d[0]));return a};this.tj=function(){var c=["Inside / Outside Plot"];var a=["dps_inout"];var b=[["toggleAttribute",["legendInside"]]];return this.EJ("Location","ps_toloc3","Click to toggle location",c,a,b,1)};this.Rp=function(){var c=["T-Right","Right","B-Right","Bottom","B-Left","Left","T-Left","Top"];var a=["ps_topright","ps_right","ps_bottomright","ps_bottom","ps_bottomleft","ps_left","ps_topleft","ps_top"];var b=[["changeAttribute",["legendPosition","topRight"]],["changeAttribute",["legendPosition","right"]],["changeAttribute",["legendPosition","bottomRight"]],["changeAttribute",["legendPosition","bottom"]],["changeAttribute",["legendPosition","bottomLeft"]],["changeAttribute",["legendPosition","left"]],["changeAttribute",["legendPosition","topLeft"]],["changeAttribute",["legendPosition","top"]]];return this.EJ("Legend Position","ps_toloc","Click to change position",c,a,b,4)};this.sc=function(){return this.zX("Columns","ch_snumber","Click to modify columns","int","legendColumns",false,false,false,1)};this.wF=function(){var a=this.o6();a.appendChild(this.Kg("Background","lg_legend","Select color"));a.appendChild(this.F0("legendBackgroundColor","legendBackgroundBorderColor"));return a};this.RF=function(){return this.zX("Title Margin","mr_all","Change margin size","textarea","legendTitleMargin",false,false,false,this.legendTitleMargin)};this.XA=function(){return this.zX("Text Margin","mr_all","Change margin size","textarea","legendTextMargin",false,false,false,this.legendTextMargin)};this.k1=function(){var c=["T-Right","Right","T-Left","Top"];var a=["ps_topright","ps_right","ps_topleft","ps_top"];var b=[["changeAttribute",["heatmapIndicatorPosition","topRight"]],["changeAttribute",["heatmapIndicatorPosition","right"]],["changeAttribute",["heatmapIndicatorPosition","topLeft"]],["changeAttribute",["heatmapIndicatorPosition","top"]]];return this.EJ("Indicator Position","ps_toloc2","Click to change position",c,a,b,c.length)};this.qF=function(){return this.aG("Indicator","i_h","Click / Select to change property",[this.i5("Indicator Histogram","i_hist",["toggleAttribute",["heatmapIndicatorHistogram"]],true,true),this.sX("Indicator Width","sp_thickness","heatmapIndicatorWidth",false,this.customizerIcons,"text"),this.sX("Indicator Height","sp_heightness","heatmapIndicatorHeight",false,this.customizerIcons,"text")])};this.cj=function(){var a=[];a.push(this.Ge());a.push(this.V3());a.push(this.tj());a.push(this.Rp());if(this.s9()){a.push(this.k1())}a.push(this.sc());a.push(this.wF());a.push(this.RF());a.push(this.XA());if(this.s9()){a.push(this.qF())}return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerMeta=function(){this.AT=function(b){var a=(b==="Smp");var c=a?"smp":"var";return{metaData:a?this.meta.data.x:this.meta.data.z,properties:a?this.smpOverlayProperties:this.varOverlayProperties,currentOverlay:a?this.smpOverlays[0]:this.varOverlays[0],propKey:c+"OverlayProperties",axis:a?"x":"z"}};this.Qt=function(e){var a=this.AT(e);var c=[];var g=[];var b="";for(var d in a.metaData){if(d==a.currentOverlay){b=a.properties[d].type;g=["modifyOverlaysProperties",[b,a.propKey,a.currentOverlay,"type"]];if(a.metaData[d].type=="Numeric"){c=["Area","AreaLine","Bar","BarLine","Dotplot","DotLine","Default","Heatmap","Line","Pie","Stacked","StackedLine","StackedPercent","StackedPercentLine","Treemap"]}else{c=["Default","Text","Treemap"]}}}var f=this.sX("Type","ly_doe",false,false,this.customizerIcons,"select",c,c,b,g);f.style.borderTop="none";return f};this.kt=function(d){var b=this.AT(d);var c=b.properties[b.currentOverlay].scheme;var a=this.Tx();return this.sX("Overlay Scheme","at_palette",false,false,this.customizerIcons,"select",a,a,c,["modifyColorProperties",[c,b.currentOverlay,b.axis]])};this.vf=function(c){var b=this.AT(c);var a=b.properties[b.currentOverlay].color;return this.sX("Overlay Color","at_col",a,false,this.customizerIcons,"color",false,false,false,["modifyOverlaysProperties",[a,b.propKey,b.currentOverlay,"color"]])};this.pG=function(c){var a=this.AT(c);var d=a.properties[a.currentOverlay].showLegend;var b=[true,false];return this.sX("Show Legend","sl_eopen",false,false,this.customizerIcons,"select",b,b,d,["modifyOverlaysProperties",[!d,a.propKey,a.currentOverlay,"showLegend"]])};this.Ea=function(c){var a=this.AT(c);var b=a.properties[a.currentOverlay].thickness||this.overlaysThickness;return this.sX("Overlay Thickness","sp_thickness",b,false,this.customizerIcons,"text",false,false,false,["modifyOverlaysProperties",[b,a.propKey,a.currentOverlay,"thickness"]])};this.ql=function(h){var b=this.o6();var c=(h=="Smp")?this.hr("x"):this.hr("z");var k=(h=="Smp")?"Sample":"Variable";var g=[];var m=[];var e=[];var i="Click to modify "+k+" Overlay";var d=this[h.toLowerCase()+"Overlays"];if(c&&d.length){for(var f=0;f<d.length;f++){var l=d[f];g.push(l);m.push("ch_l"+l.substring(0,1).toLowerCase());e.push(l)}b.appendChild(this.KN(g,m,e,e,i,false,false,h));var a=this.$cX("div",{className:"customizerContainerComboGroup"},{width:(this.customizerRightWidth-20)+"px",height:"fit-content",display:"grid"});a.appendChild(this.Qt(h));a.appendChild(this.kt(h));a.appendChild(this.vf(h));a.appendChild(this.pG(h));a.appendChild(this.Ea(h));b.appendChild(a)}return b};this.U5=function(){var e=["Color","Shape","Size","Pattern","Connect","Stack","Overlays","Group","Segregate"];var c=["at_col","at_shp","at_sze","at_pat","bx_connect","g_stacked","o_g1","a_group","ly_segregate"];var d=[["colorBy"],["shapeBy"],["sizeBy"],["patternBy"],["connectBy"],["stackBy"],["overlays"],["groupSamples"],["segregate"]];var a=[true,true,true,true,true,true,true,true,true];var b=this.o6();b.appendChild(this.Kg("Meta","at_colshpsze","Click property to clear / reset. Drag and Drop Metadata into Property"));b.appendChild(this.Ds(e,c,d,3,a));if(!this.yW()){b.appendChild(this.hb("Sample Metadata",this.target+"-cX-CustomizerAnnotations"));b.appendChild(this.tC())}if(this.graphType.match(/Heatmap|Scatter/)){b.appendChild(this.hb("Variable Metadata",this.target+"-cX-CustomizerDescriptions"));b.appendChild(this.nX())}return b};this.t1=function(){var a=this.o6();a.appendChild(this.i5("Explore Meta-Data","ly_doe",["createDOE"],true));return a};this.ky=function(){var a=[];a.push(this.U5());if(!this.yW()){if(this.s9()){if(this.varOverlays.length){a.push(this.ql("Var"))}}if(this.smpOverlays.length){a.push(this.ql("Smp"))}}if(!this.xAxisHistogramShow&&!this.yAxisHistogramShow&&!this.xAxisDensityShow&&!this.yAxisDensityShow){a.push(this.t1())}return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerDecorations=function(){this.f7=function(){if(!this.markerIds){this.markerIds={smps:[],vars:[]}}var a=this.o6();a.appendChild(this.Kg("Add Marker","ch_splus","Drag and drop sample(s) and variable(s) to identify marker or just click on the + button"));a.appendChild(this.Ds(["Id for Decoration"],["ch_oinfo"],[["addIdForMarker",[]]],1,[true]));a.appendChild(this.hb("Sort Samples",this.target+"-cX-CustomizerSamples"));a.appendChild(this.ZK());a.appendChild(this.hb("Sort Variables",this.target+"-cX-CustomizerVariables"));a.appendChild(this.n3());a.appendChild(this.i5("Add Marker","v_plus",["createMarker"],false,true));return a};this.P4=function(){var h=function(m,l,k){if(m!=null){return Number(m).toFixed(2)}if(l!=null){return Number(l/k).toFixed(2)}return null};var c=this.eE();var d=this.hK(c,function(){return"gd_g2marker"},"setMarkerAttribute","marker");var b=["Use X,Y anchor","Top","Right","Bottom","Left","Center"];var g=["false","top","right","bottom","left","center"];var e=["None","Straight Line","Square Line","Straight Arrow Line","Curved Arrow Clockwise","Curved Arrow Anti-Clockwise"];var j=["none","line","square","arrow","curvedcw","curvedacw"];if(!this.yW()){e.push("Comparison","None","Range");j.push("comparison","annotation","range")}var a=this.o6();a.appendChild(this.KN(d.ids,d.icons,d.params,d.names,"Customize"));if(d.selectedIndex!==null){a.appendChild(this.Dj(d.selectedIndex,c[d.selectedIndex].text,true));var f=c[d.selectedIndex];var i=d.targetId;a.appendChild(this.gd([this.sX("Relative X","ch_ox",h(f.x,f.curX,this.x),false,this.customizerIcons,"text",false,false,false,["setMarkerAttribute",[i,"x"]],false,this.customizerRightWidth-20),this.sX("Relative Y","ch_oy",h(f.y,f.curY,this.y),false,this.customizerIcons,"text",false,false,false,["setMarkerAttribute",[i,"y"]],false,this.customizerRightWidth-20),this.sX("Anchor Position","ps_toloc2",false,false,this.customizerIcons,"select",b,g,f.position||"false",["setMarkerAttribute",[i,"position"]]),this.sX("Line Type to Anchor","ar_rm",false,false,this.customizerIcons,"select",e,j,f.type,["setMarkerAttribute",[i,"type"]])]));a.appendChild(this.i5("Remove Marker","v_cancel",["removeMarkerObject",[i]],false,true))}return a};this.Eq=function(){var e=["Line","Point","Range","Text"];var d=["ln_stylesolid","sh_oval","sh_square","ch_oa"];var c=[["createMarker",["line"]],["createMarker",["circle"]],["createMarker",["range"]],["createMarker",["text"]]];var a=[true,true,true,true];var b=this.o6();b.appendChild(this.Kg("Add Decoration","gd_g1line","Click to add decoration"));b.appendChild(this.Ds(e,d,c,4,a));return b};this.D1=function(){var a=this.o6();a.appendChild(this.i5("Decoration Top / Back","a_moveforward",["toggleAttribute",["decorationsOnTop"]],true));return a};this.ed=function(){var c=this.te();var f=this.hK(c,function(h){switch(h.type){case"line":return"ln_stylesolid";case"point":return"sh_oval";case"range":return"sh_square";case"text":return"ch_oa";default:return"ch_oa"}},"setDecorationAttribute","decoration");var b=this.o6();b.appendChild(this.KN(f.ids,f.icons,f.params,f.names,"Customize"));if(f.selectedIndex!==null){var g=c[f.selectedIndex];var d=f.targetId;var a=[];a.push(this.sX("Label","tx_shadow",g.label||"",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"label"]],true,this.customizerRightWidth-20),this.sX("Align","ar_h",false,false,this.customizerIcons,"select",["Right","Center","Left"],["right","center","left"],g.align,["setDecorationAttribute",[d,"align"]]),this.sX("Decoration Color","at_col",this.u5(g.color,null,true),false,this.customizerIcons,"color",false,false,false,["setDecorationAttribute",[d,"color"]]),this.sX("Width","sp_thickness",g.width||"null",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"width"]],false,this.customizerRightWidth-20));if(this.graphType.match(/Scatter/i)){a.push(this.sX("Height","sp_heightness",g.height||"null",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"height"]],false,this.customizerRightWidth-20),this.sX("X1 coordinate","ch_ox1",g.x||"null",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"x"]],false,this.customizerRightWidth-20),this.sX("Y1 coordinate","ch_oy1",g.y||"null",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"y"]],false,this.customizerRightWidth-20),this.sX("X2 coordinate","ch_ox2",g.x2||"null",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"x2"]],false,this.customizerRightWidth-20),this.sX("Y2 coordinate","ch_oy2",g.y2||"null",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"y2"]],false,this.customizerRightWidth-20))}else{var e=this.Qc()?"ch_oy":"ch_ox";a.push(this.sX("Value",e,g.value||"null",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"value"]],false,this.customizerRightWidth-20),this.sX("Value2",e,g.value||"null",false,this.customizerIcons,"text",false,false,false,["setDecorationAttribute",[d,"value2"]],false,this.customizerRightWidth-20))}b.appendChild(this.gd(a));b.appendChild(this.i5("Remove Decoration","v_cancel",["removeDecorationObject",[d]],false,true))}return b};this.Tf=function(){var a=[];a.push(this.f7());if(this.decorations&&this.decorations.marker&&this.decorations.marker.length){a.push(this.P4())}a.push(this.Eq());if(this.decorations&&((this.decorations.line&&this.decorations.line.length)||(this.decorations.point&&this.decorations.point.length)||(this.decorations.text&&this.decorations.text.length)||(this.decorations.range&&this.decorations.range.length))){a.push(this.D1());a.push(this.ed())}return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerWrangling=function(){this.kH=function(m,f,g,b,c,q,h,o){var l=this;var j=this.target+"-cX-Customizer"+f;var a=this.$(j);var p=this.customizerEntriesAsList?"customizerList":"customizer";if(!a){a=this.$cX("div",{id:j,className:"customizerWrangling",type:m},{width:(this.customizerRightWidth-40)+"px"})}if(!q){q=this.$cX("div",{id:j+"-Mask"},{width:(this.customizerRightWidth-50)+"px",minHeight:"90px",padding:"2px 0px 0px 2px",height:"100%"})}var k=function(v,w){var s=p+"Numeric draggable";var x=false;var i=true;var y="";var u="";if(w){if(w.unique){s=p+"Unique draggable";x=true;y="Double-click to convert to Id"}else{if(w.type=="String"){s=p+"String draggable";i=false}}if(w.date||w.geo){u=l.red}}var r=l.$cX("img",{id:l.target+"-cX-Customizer"+f+"Image-"+v,src:CanvasXpress.png,className:"customizerMask"});var t=l.$cX("span",{id:l.target+"-cX-Customizer"+f+"-"+v,innerHTML:v,className:s,type:m,unique:x,numeric:i,params:c,draggable:true,spellcheck:false},{width:(l.customizerRightWidth-50)+"px",color:u});if(y){t.title=y}t.appendChild(r);q.appendChild(t)};if(g){if(o){var d=Math.min(g.length,this.maxDataCustomizerEntries);for(var e=0;e<d;e++){k(g[e],null)}}else{for(var n in g){k(n,b?b[n]:null)}}}a.appendChild(q);if(!h){return this.Ja(a)}else{return a}};this.hb=function(f,c){var e=this.Fr({innerHTML:f},{height:(this.customizerItemHeight-10)+"px",whiteSpace:"nowrap",padding:"2px"});var b=this.Fr({src:"sr_azi",asr:"sr_zad",trg:c,params:["sortDataCustomizer"]},{width:(this.customizerIcons+20)+"px",height:(this.customizerItemHeight-10)+"px",padding:"2px"});var d=this.$cXI("sr_azi",false,false,false,this.customizerIcons);var a=this.$cX("div",{className:"customizerRightItemSubHeaderRow"},{width:(this.customizerRightWidth-40)+"px",height:(this.customizerItemHeight-10)+"px",marginLeft:"10px"});b.appendChild(d);a.appendChild(e);a.appendChild(b);return a};this.Ja=function(c){var e=window.document;var b=[];c.style.visibility="hidden";e.body.appendChild(c);var a=c.firstChild;var f=0;var h=20;for(var d=0;d<a.childNodes.length;d++){var g=a.childNodes[d];b.push([g.offsetLeft-c.offsetLeft,h*d,g.textContent]);if(h*d<c.clientHeight+h){f=d}}while(a.childNodes[f+1]){a.removeChild(a.childNodes[f+1])}c.population=b;e.body.removeChild(c);c.style.visibility="visible";return c};this.em=function(b){var f,h,a;var g=[];for(var d=0;d<b.childNodes.length;d++){var c=b.childNodes[d].firstElementChild;var e=c.parentNode;if(d==0){f=e.type;h=e.params}g.push(e.style.top);this.cI("removeEvtListener",c,"dragstart",this.dragstart,[],false);this.cI("removeEvtListener",c,"dragend",this.dragend,[],false);if(e.type=="vars"||e.type=="smps"||e.type=="x"||e.type=="z"){if(d==0){a=this.meta.data[e.type]}c.setAttribute("data-callback-dblclick","dblClickCustomizer");this.cI("removeEvtListener",c,"dblclick",this.dblclick,[],false)}}while(b.childNodes.length){b.removeChild(b.childNodes[0])}return{type:f,params:h,meta:a,top:g}};this.C5=function(b,q,a,g,d){var f=0;var k=[];var p=this.customizerEntriesAsList?"customizerList":"customizer";var m=a.type=="x"?"Annotations":a.type=="smps"?"Samples":a.type=="z"?"Descriptions":"Variables";for(var j=0;j<g.length;j++){var o=g[j][2];var h=this.$cX("img",{id:this.target+"-cX-Customizer"+m+"Image-"+o,src:CanvasXpress.png,className:"customizerMask"});var n=this.$cX("span",{id:this.target+"-cX-Customizer"+m+"-"+o,innerHTML:o,className:p+"Numeric draggable",type:a.type,numeric:true,params:a.params,draggable:true,spellcheck:false});if(a.meta){n.className=a.meta[o].unique?p+"Unique draggable":a.meta[o].type=="String"?p+"String draggable":p+"Numeric draggable";n.unique=a.meta[o].unique;n.numeric=a.meta[o].type=="String"?false:true;if(a.meta[o].unique){n.title="Double-click to convert to Id"}if(a.meta[o].date||a.meta[o].geo){n.style.color=this.red}}n.appendChild(h);q.appendChild(n);if(!d){var e=20;k.push([n.offsetLeft-b.offsetLeft,e*j,n.textContent]);if(e*j<b.clientHeight+e){f=j}}else{n.style.top=g[0][1]+"px"}}if(!d){while(q.childNodes[f+1]){q.removeChild(q.childNodes[f+1])}}for(var j=0;j<q.childNodes.length;j++){var c=q.childNodes[j].firstElementChild;var l=c.parentNode;c.draggable=true;this.cI("addEvtListener",c,"dragstart","dragStartCustomizer",[],false);this.cI("addEvtListener",c,"dragend","dragEndCustomizer",[],false);if(l.type=="vars"||l.type=="smps"||l.type=="x"||l.type=="z"){this.cI("addEvtListener",c,"dblclick","dblClickCustomizer",[],false)}}return k};this.Zf=function(b){var h=this;var f=b.id;var a=b.firstChild;var e=[];var i=function(j,m){h.cI(j,m,"dragover","dragOverCustomizer",[],false);h.cI(j,m,"dragenter","dragEnterCustomizer",[],false);h.cI(j,m,"dragleave","dragLeaveCustomizer",[],false);h.cI(j,m,"drop","dropCustomizer",[],false);for(var l=0;l<m.childNodes.length;l++){var k=m.childNodes[l].firstElementChild;h.cI(j,k,"dragstart","dragStartCustomizer",[],false);h.cI(j,k,"dragend","dragEndCustomizer",[],false);h.cI(j,k,"dblclick","dblClickCustomizer",[],false)}};if(a){i("removeEvtListener",a);b.removeChild(a)}var g=this.$cX("div",{id:f+"-Mask"},{width:(this.customizerRightWidth-26)+"px",minHeight:"90px",padding:"2px 0px 0px 2px",height:"100%"});switch(f){case this.target+"-cX-CustomizerVariables":this.n3(g,true);break;case this.target+"-cX-CustomizerSamples":this.ZK(g,true);break;case this.target+"-cX-CustomizerAnnotations":this.tC(g,true);break;case this.target+"-cX-CustomizerDescriptions":this.nX(g,true);break}i("addEvtListener",g);b.appendChild(g);for(var d=0;d<g.childNodes.length;d++){var c=g.childNodes[d];e.push([c.offsetLeft-b.offsetLeft,c.offsetTop-b.offsetTop,c.textContent])}b.population=e};this.ZK=function(b,a){return this.kH("smps","Samples",this.data.y?this.data.y.smps:[],null,["switchSmpToAnnotation"],b,a,true)};this.tC=function(b,a){return this.kH("x","Annotations",this.data.x,this.meta.data.x,["switchAnnotationToVar"],b,a,false)};this.n3=function(b,a){return this.kH("vars","Variables",this.data.y?this.data.y.vars:[],null,["switchVarToAnnotation"],b,a,true)};this.nX=function(b,a){return this.kH("z","Descriptions",this.data.z,this.meta.data.z,["switchAnnotationToSmp"],b,a,false)};this.h8=function(){var a=this.o6();a.appendChild(this.Kg("Rows","tb_row","Drag and Drop to convert to data or meta-data. Double-click to toggle item type Numeric and String"));a.appendChild(this.hb("Sort Samples",this.target+"-cX-CustomizerSamples"));a.appendChild(this.ZK());a.appendChild(this.hb("Sort Variable Metadata",this.target+"-cX-CustomizerDescriptions"));a.appendChild(this.nX());return a};this.Vl=function(){var a=this.o6();a.appendChild(this.Kg("Cols","tb_col","Drag and Drop to convert to data or meta-data. Double-click on item to move all other items to meta-data"));a.appendChild(this.hb("Sort Variables",this.target+"-cX-CustomizerVariables"));a.appendChild(this.n3());a.appendChild(this.hb("Sort Sample Metadata",this.target+"-cX-CustomizerAnnotations"));a.appendChild(this.tC());return a};this.Vo=function(){var a=[this.h8(),this.Vl()];return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerTools=function(){this.kd=function(){var c=this.yW()?this.hr("z","String"):this.hr("x","String");var a=this.o6();if(c.length){var b=this.TU(c);c.unshift(" ","No factor (All data)");b.unshift(false,"");a.appendChild(this.Kg("Create Histogram","dt_hist","Select factor to create histogram"));a.appendChild(this.V9(false,c,b,false," ",["createHistogram"]));return a}else{return this.MO("Create Histogram","dt_hist",["createHistogram"],true)}};this.tt=function(){return this.MO("Remove Histogram","dt_histremove",["removeHistogram"],true)};this.RS=function(){return this.zX("Histogram Stat","ch_ofx","","select","histogramStat",["count","density"],["count","density"],false,this.histogramStat,["changeAttribute",["histogramStat"],[false,"modifyHistogram"]])};this.bw=function(){var a=[5,10,15,20,25,30,35,40,45,50];return this.zX("Histogram Bins","ch_snumber","","select","histogramBins",a,a,false,this.histogramBins,["changeAttribute",["histogramBins"],[false,"modifyHistogram"]])};this.Cg=function(){return this.zX("Histogram Bin Width","sp_thickness","","textarea","histogramBinWidth",false,false,false,this.histogramBinWidth,["changeAttribute",["histogramBinWidth"],[false,"modifyHistogram"]])};this.Im=function(){var a=["dodge","staggered","stacked"];return this.aG("Histogram Bars","dt_hist","Click / Select to change property",[this.i5("Show / Hide Path","dt_den",["toggleAttribute",["showHistogramPath"]],false,true),this.i5("Show / Hide Filled Path","dt_denfilled",["toggleAttribute",["showFilledHistogramPath"]],false,true),this.i5("Show / Hide Histogram Bars","sl_eopen",["toggleAttribute",["showHistogramBars"]],false,true),this.sX("Histogram Type","dt_histstag",false,false,this.customizerIcons,"select",a,a,this.histogramType,["changeAttribute",["histogramType"],[false,"modifyHistogram"]])])};this.bM=function(){var b=["gaussian","rectangular","triangular","epanechnikov","quartic","biweight","cosine","optcosine"];var a=["normal","stacked","filled"];return this.aG("Histogram Density","g_density","Click / Select to change property",[this.i5("Show / Hide Density","dt_den",["toggleAttribute",["showHistogramDensity"]],true,true),this.i5("Show / Hide Filled Density","dt_denfilled",["toggleAttribute",["showFilledHistogramDensity"]],false,true),this.sX("Histogram Density Position","g_density2",false,false,this.customizerIcons,"select",a,a,this.densityPosition,["changeAttribute",["densityPosition"],[false,"modifyHistogram"]]),this.sX("Kernel Density","ch_ofx",false,false,this.customizerIcons,"select",b,b,this.densityKernel,["changeAttribute",["densityKernel"],[false,"modifyHistogram"]])])};this.LS=function(){return this.MO("Show / Hide Data Points","dt_denfitfilled",["toggleAttribute",["showHistogramDataPoints"]],true)};this.aV=function(){return this.MO("Show / Hide Histogram Median","dt_denfilledline",["toggleAttribute",["showHistogramMedian"]],true)};this.F1=function(){var a=["solid","dotted","dashed"];return this.zX("Histogram Median Line Style","ln_style","","select","histogramMedianLineType",a,a,false,this.histogramMedianLineType,["changeAttribute",["histogramMedianLineType"],[false,"modifyHistogram"]])};this.iv=function(){var a=this.yW();var d=a?this.hr("z","String"):this.hr("x","String");var b=this.o6();if(d.length){var c=this.TU(d);d.unshift(" ","No factor (All data)");c.unshift(false,"");b.appendChild(this.Kg("Show Regression Fit","dt_cor","Select factor to create regression"));b.appendChild(this.V9(false,d,c,false," ",["createRegression",[a]]));return b}else{return this.MO("Show Regression Fit","dt_cor",["createRegression",[a]],true)}};this.WC=function(){return this.MO("Remove Regression","dt_corremove",["removeRegression",[]],true)};this.KD=function(){return this.MO("Show / Hide Regression Confidence","dt_corconf",["toggleAttribute",["showConfidenceIntervals"]],true)};this.LV=function(){return this.MO("Show / Hide Regression Legend","ch_lr",["toggleAttribute",["showDecorationsLegend"]],true)};this.BP=function(){return this.MO("Quantile Regression","dt_quantreg",["toggleAttribute",["showQuantileRegressionFit"]],true)};this.ZU=function(){return this.MO("Remove Quantile Regression","dt_quantregremove",["toggleAttribute",["showQuantileRegressionFit"]],true)};this.EK=function(){var c=this.hr("z","String");var a=this.o6();if(c.length){var b=this.TU(c);c.unshift(" ","No factor (All data)");b.unshift(false,true);a.appendChild(this.Kg("Loess Fit","dt_loess","Select factor for Loess Fit"));a.appendChild(this.V9(false,c,b,false," ",["changeAttribute",["showLoessFit"]]));return a}else{return this.MO("Loess Fit","dt_loess",["toggleAttribute",["showLoessFit"]],true)}};this.XF=function(){return this.MO("Remove Loess Fit","dt_loessremove",["toggleAttribute",["showLoessFit"]],true)};this.zt=function(){return this.MO("Show / Hide Loess Confidence","dt_loessconf",["toggleAttribute",["showConfidenceIntervals"]],true)};this.Gu=function(){var a=["gaussian","symmetric"];return this.zX("Loess Family","cr_normal","","select","loessFamily",a,a,false,this.loessFamily,["changeAttribute",["loessFamily"]])};this.ho=function(){var a=["approximate","exact"];return this.zX("Loess Statistics","ch_ofx","","select","loessStatistics",a,a,false,this.loessStatistics,["changeAttribute",["loessStatistics"]])};this.xc=function(){var a=[0,1,2,3,4];return this.zX("Loess Iterations","ch_oiter","","select","loessIteration",a,a,false,this.loessIteration,["changeAttribute",["loessIteration"]])};this.Zo=function(){var a=[false,true];return this.zX("Loess Normalize","ch_ln","","select","loessNormalize",a,a,false,this.loessNormalize,["changeAttribute",["loessNormalize"]])};this.hR=function(){return this.zX("Loess Span","ar_v","","textarea","loessSpan",false,false,false,this.loessSpan,["changeAttribute",["loessSpan"]])};this.oZ=function(){return this.zX("Loess Degree","ch_ld","","textarea","loessDegree",false,false,false,this.loessDegree,["changeAttribute",["loessDegree"]])};this.fx=function(){return this.zX("Loess Cell","ch_lc","","textarea","loessCell",false,false,false,this.loessCell,["changeAttribute",["loessCell"]])};this.Gc=function(){var a=["interpolate","direct"];return this.zX("Loess Surface","ch_ls","","select","loessSurface",a,a,false,this.loessSurface,["changeAttribute",["loessSurface"]])};this.o8=function(){return this.MO("QQ Plot","dt_qq",["addQQPlot"],true)};this.dd=function(){return this.MO("Remove QQ Plot","dt_qqremove",["removeQQPlot"],true)};this.Lh=function(){return this.MO("CDF Plot","dt_cdf",["addCDFPlot"],true)};this.Ak=function(){return this.MO("Remove CDF Plot","dt_cdfremove",["removeCDFPlot"],true)};this.EV=function(){return this.MO("Create 2D Bin Plot","dt_bin",["changeAttribute",["scatterType","bin2d"]],true)};this.Pm=function(){return this.MO("Remove 2D Bin Plot","dt_binremove",["changeAttribute",["scatterType",false]],true)};this.ME=function(){return this.zX("Bin Number","ch_snumber","","textarea","binplotBins",false,false,false,this.binplotBins,["changeAttribute",["binplotBins"]],this.customizerInputHeight)};this.AJ=function(){return this.zX("Bin Width","sp_thickness","","textarea","binplotBinWidth",false,false,false,this.binplotBinWidth,["changeAttribute",["binplotBinWidth"]],this.customizerInputHeight)};this.kV=function(){var a=["rectangle","hexagon","oval"];return this.zX("Bin Shape","at_shp","","select","binplotShape",a,a,["&#x2610; Rectangle","&#x2B21; Hexagon","&#x25CB; Oval"],this.binplotShape,["changeAttribute",["binplotShape"]])};this.Up=function(){var a=this.Tx();return this.zX("Color Scheme","at_palette","","select","binplotColorScheme",a,a,false,this.binplotColorScheme,["changeAttribute",["binplotColorScheme"]])};this.BU=function(){return this.MO("Create Contour","g_contour",["modifyContour"],true)};this.S8=function(){return this.MO("Remove Contour","dt_contourremove",["removeContour"],true)};this.xH=function(){return this.MO("Contour Filled","dt_contourfilled",["toggleAttribute",["contourFilled"]],true)};this.ND=function(){return this.aG("Levels","ch_ll","Click / Type to change property",[this.i5("Show / Hide Contour Level","sl_eopen",["toggleAttribute",["showContourLevel"]],true,true),this.sX("Number of Levels","ch_snumber","contourLevelNumber",false,this.customizerIcons,"text"),this.sX("Contour Level Width","sp_thickness","contourLevelWidth",false,this.customizerIcons,"text")])};this.CA=function(){return this.aG("Bands","dt_contourlines","Click / Select to change property",[this.i5("Show / Hide Contour Bands","sl_eopen",["toggleAttribute",["showContourBands"]],true,true),this.sX("Contour Bands Color","at_col","contourBandsColor",false,this.customizerIcons,"color",false,false,false,["changeAttribute",["contourBandsColor"]])])};this.OC=function(){return this.aG("Data","dt_contourdata","Click / Select to change property",[this.i5("Show / Hide Contour Data Points","sl_eopen",["toggleAttribute",["showContourDataPoints"]],true,true),this.sX("Contour Data Points Color","at_col","scatterDataPointsColor",false,this.customizerIcons,"color",false,false,false,["changeAttribute",["scatterDataPointsColor"]])])};this.Jt=function(){var a=["normal","raster","point"];return this.zX("Contour Type","ch_lt","","select","contourType",a,a,false,this.contourType,["changeAttribute",["contourType"]])};this.zz=function(){var a=["count","ndensity","density"];return this.zX("Contour Statistics","ch_ofx","","select","contourStat",a,a,false,this.contourStat,["changeAttribute",["contourStat"]])};this.AP=function(){var a=this.Tx();return this.zX("Contour Color Scheme","at_palette","","select","contourColorScheme",a,a,false,this.contourColorScheme,["changeAttribute",["contourColorScheme"]])};this.LN=function(){return this.MO("Scatter Plot Matrix","ly_splom",["toggleAttribute",["scatterPlotMatrix"]],true)};this.JL=function(){var c=this.hr("x");var a=this.o6();if(c.length){var b=this.TU(c);c.unshift("");a.appendChild(this.Kg("Motion By","at_motion","Select factor to use for motion"));a.appendChild(this.V9("motionBy",c,b,false,false,["changeAttribute",["motionBy"]]))}return a};this.QS=function(){var c=this.hr("x","String");var a=this.o6();if(c.length){var b=this.TU(c);c.unshift("");a.appendChild(this.Kg("Marker By","wp_marker","Select factor to use for marker"));a.appendChild(this.V9("markerBy",c,b,false,false,["changeAttribute",["markerBy"]]))}return a};this.Ai=function(){var a=["drop","circle","square","triangle","star","rhombus","octagon","mdavid","pentagon","rectangle"];return this.zX("Marker Shape","at_shp","","select","mapMarkerShape",a,a,false,this.mapMarkerShape,["changeAttribute",["mapMarkerShape"]])};this.pJ=function(){return this.zX("Marker Shape Scale Factor","at_colshpsze","","textarea","mapMarkerShapeScaleFactor",false,false,false,this.mapMarkerShapeScaleFactor,["changeAttribute",["mapMarkerShapeScaleFactor"]],this.customizerInputHeight)};this.ZZ=function(){return this.MO("Cluster Samples","cl_horizontal",["clusterSamples",[]],true)};this.es=function(){var a=[];if(this.yW()){if(this.scatterType&&this.scatterType.match(/manhattan|visium/)){a.push(this.aW())}else{if(this.showHistogram){a.push(this.tt());a.push(this.RS());a.push(this.bw());a.push(this.Cg());a.push(this.Im());a.push(this.bM());a.push(this.LS());a.push(this.aV());a.push(this.F1())}else{if(this.showRegressionFit){a.push(this.WC());a.push(this.KD());a.push(this.LV())}else{if(this.showQuantileRegressionFit){a.push(this.ZU())}else{if(this.showLoessFit){a.push(this.XF());a.push(this.fx());a.push(this.zt());a.push(this.oZ());a.push(this.Gu());a.push(this.xc());a.push(this.Zo());a.push(this.hR());a.push(this.ho());a.push(this.Gc())}else{if(this.dR()){a.push(this.dd())}else{if(this.np()){a.push(this.Ak())}else{if(this.scatterType=="bin2d"){a.push(this.Pm());a.push(this.ME());a.push(this.AJ());a.push(this.kV());a.push(this.Up())}else{if(this.isContour){a.push(this.S8());a.push(this.xH());a.push(this.ND());a.push(this.CA());a.push(this.OC());a.push(this.Jt());a.push(this.zz());a.push(this.AP())}else{a.push(this.EV());a.push(this.Lh());a.push(this.BU());a.push(this.iv());a.push(this.kd());a.push(this.EK());a.push(this.o8());a.push(this.BP());if(!this.scatterPlotMatrix&&this.data.y.smps.length>2){a.push(this.LN())}}}}}}}}}}}else{if(this.graphType=="Map"){if(this.data.x&&((this.data.x.hasOwnProperty("latitude")||this.data.x.hasOwnProperty("Latitude"))&&(this.data.x.hasOwnProperty("longitude")||this.data.x.hasOwnProperty("Longitude")))){a.push(this.JL());a.push(this.QS());a.push(this.Ai());a.push(this.pJ())}}else{if(this.graphType=="Network"){a.push(this.aW())}else{if(this.graphType!="Circular"||(this.graphType=="Circular"&&!this.showIdeogram&&!this.rAxis.length)){a.push(this.ZZ())}}}}return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerTheme=function(){this.uy=function(){var b=["c_ggplot","c_paultol","c_solarized","c_excel","c_stata","c_tableau","c_economist","c_wallstreetjournal","c_canvasxpress"];var c=[["changeTheme",["ggplot"]],["changeTheme",["paulTol"]],["changeTheme",["solarized"]],["changeTheme",["excel"]],["changeTheme",["stata"]],["changeTheme",["tableau"]],["changeTheme",["economist"]],["changeTheme",["wallStreetJournal"]],["changeTheme",["cx"]]];var a=this.o6();a.appendChild(this.Kg("Theme","at_sch","Click to change theme"));a.appendChild(this.MQ(b,c,3,60));return a};this.DA=function(){var b=["None","Protanopia","Deuteranopia","Tritanopia","Monochromatic"];var c=[false,"protanopia","deuteranopia","tritanopia","monochromatic"];var a=this.Tx();return this.aG("Colors","at_col","Click to modify property",[this.sX("Blindness Type","sl_eopen","blindnessType",false,this.customizerIcons,"select",b,c,this.blindnessType,["changeAttribute",["blindnessType"]],true),this.sX("Color Scheme","at_palette","colorScheme",false,this.customizerIcons,"select",a,a,this.colorScheme,["changeAttribute",["colorScheme"]])])};this.R8=function(){var a=this.Tx();return this.aG("Spectrum","at_sch","Click to modify property",[this.sX("Color Scheme","at_palette","colorSpectrum",false,this.customizerIcons,"select",a,a,this.colorSpectrum,["changeAttribute",["colorSpectrum",[],false,"modifyColorSpectrumByScheme"]],true),this.sX("Zero-Center","ch_lz",this.colorSpectrumZeroValue?"colorSpectrumZeroValue":null,false,this.customizerIcons,"text",false,false,false,["updateTextColorAttribute",[["colorSpectrumZeroValue"]]])])};this.U4=function(){var d=["Solid","Gradient","Panel","Pan - Grad","Grad - Solid"];var b=["b_bbody","b_bgradient","b_bwindowsolid","b_bwindowsolid","b_bwindowgradient"];var c=[["changeAttribute",["backgroundType","solid","solid"]],["changeAttribute",["backgroundType","gradient","gradient"]],["changeAttribute",["backgroundType","panel","panel"]],["changeAttribute",["backgroundType","panelGradient","panelGradient"]],["changeAttribute",["backgroundType","panelSolidGradient","panelSolidGradient"]]];var a=this.o6();a.appendChild(this.Kg("Background Type","b_btype","Click to change type"));a.appendChild(this.Ds(d,b,c,2));return a};this.YK=function(){return this.Di(["Plot","Panel"],["b_bbody","b_bwindowsolid"],[["plotBackgroundColor","panelBackgroundColor"]],["plotBackgroundColor","panelBackgroundColor"],"Click to change color background","plotBackgroundColor")};this.k7=function(){return this.Di(["Plot","Panel"],["dps_square","dps_square"],[["plotBackgroundBorderColor","panelBackgroundBorderColor"]],["plotBackgroundBorderColor","panelBackgroundBorderColor"],"Click to change color border","plotBackgroundBorderColor")};this.SL=function(){var e=["Global","Right","Top","Left","Bottom"];var c=["mr_all","mr_right","mr_top","mr_left","mr_bottom"];var d=["margin","marginRight","marginTop","marginLeft","marginBottom"];var b="Click to change margin size";var a=this.o6();a.appendChild(this.KN(e,c,d,d,b));a.appendChild(this.Nw("margin",this.margin,false,this.customizerInputHeight));return a};this.ap=function(){var f=[];var c=[];var e=[];for(var d in CanvasXpress.fonts){var a=d.length>9?d.substring(0,9):d;f.push(a);c.push("ch_l"+d.substring(0,1).toLowerCase());e.push(["changeAttribute",["fontName",d]])}var b=this.o6();b.appendChild(this.Kg("Font","ch_oaa","Click to change font"));b.appendChild(this.Ds(f,c,e,3));return b};this.BR=function(){var a=[];a.push(this.uy());a.push(this.DA());a.push(this.R8());a.push(this.U4());a.push(this.YK());a.push(this.k7());a.push(this.SL());a.push(this.ap());return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerDOE=function(){this.VG=function(){var a=this.o6();a.appendChild(this.i5("Remove Meta-Data Plots","ly_doeremove",["createDOE"],true));return a};this.IJ=function(){var a=["1X2","1X3","1X4","1X5","2X1","2X2","2X3","2X4","2X5","3X1","3X2","3X3","3X4","3X5","4X1","4X2","4X3","4X4","4X5","5X1","5X2","5X3","5X4","5X5"];return this.zX("DOE Topology","ly_segregate","Select option","select","layoutTopology",a,a,false,this.layoutTopology,["modifyDOE",["layout"]])};this.SE=function(){var f=[];var d=[];var a=[];var b=this.yW()?this.hr("z"):this.hr("x");var c=this.yW()?this.data.y.smps:this.data.y.vars;for(var e=0;e<b.length;e++){f.push(b[e]);d.push(b[e]);a.push(b[e])}if(this.extendedDOE){for(var e=0;e<c.length;e++){if(f.length<50){f.push(c[e]);d.push(c[e]);a.push(c[e])}}}f.push("All");d.push('["'+a.join('","')+'"]');return this.zX("DOE Plots","ly_doe","Select option","select",null,f,d,false,this.layoutPlots,["modifyDOE",[]])};this.Dc=function(){var h=[];var e=[];var g=[];var f=[];var d="Click to select subplot in layout. Subplots are numbered by row.";for(var b=0;b<=this.includeDOE.length;b++){h.push((b+1).toString());e.push("ly_layout");g.push(["setActiveLayout"]);f.push((b).toString())}var a=this.o6();a.appendChild(this.KN(h,e,g,f,d,false,false,false,"Data"));var c=this.$cX("div",{className:"customizerContainerComboGroup"},{width:(this.customizerRightWidth-20)+"px",height:"fit-content",display:"grid"});c.appendChild(this.Su());c.appendChild(this.aq());c.appendChild(this.Z6("x"));c.appendChild(this.Z6("y"));a.appendChild(c);return a};this.Su=function(){var a=[this.graphType];return this.sX("Graph Type","ly_doe",false,false,this.customizerIcons,"select",a,a,this.graphType,["updateDOEGraphType",[false,false]],true)};this.aq=function(){var a=["1X1","1X2","1X3","2X1","2X2","2X3","3X1","3X2","3X3"];return this.sX("Graph Size","ar_minmax",false,false,this.customizerIcons,"select",a,a,"1X1",["updateDOEGraphSize",[false,false]])};this.Z6=function(c){var a=[""];var d=c=="x"?"X-Axis":"Y-Axis";var b=c=="x"?"p_g2axisx":"p_g2axisy";return this.sX(d,b,false,false,this.customizerIcons,"select",a,a,"",["updateDOEAxis",[c,"",0]])};this.Ku=function(){var a=[];a.push(this.VG());a.push(this.SE());a.push(this.IJ());a.push(this.Dc());return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initCustomizerSearch=function(){this.oR=function(){var a=this.o6();a.appendChild(this.Kg("Search","z_zoom","Type to search"));var d=this.$cX("div",{className:"customizerRightItemSearch"},{height:"fit-content",display:"grid"});var c=this.$cX("div",false,{width:(this.customizerRightWidth-40)+"px",height:"38px",margin:"10px",display:"flex"});var b=this.$cX("textarea",{id:this.target+"-SearchCustomizerInput"},{width:(this.customizerRightWidth-40)+"px",height:"38px",border:this.borderWidgets,borderRadius:"5px",padding:"10px 5px 5px 5px",outline:"none",position:"absolute",resize:"none"});var e=this.xL("op_cancel",{id:this.target+"-SearchCustomizerInputCancel"},{padding:"2px",border:this.borderWidgets,borderRadius:"5px",position:"relative",top:(this.customizerInputHeight-(this.customizerIcons+3))+"px",left:(this.customizerRightWidth-(this.customizerIcons+(45)))+"px"},this.customizerIcons);c.appendChild(b);c.appendChild(e);d.appendChild(c);d.appendChild(this.$cX("span",{id:this.target+"-SearchCustomizerSelectTitle",className:"customizerSearchSelect"}));d.appendChild(this.$cX("select",{id:this.target+"-SearchCustomizerSelect",className:"customizerSearch",size:10},{width:(this.customizerRightWidth-40)+"px"}));d.appendChild(this.$cX("span",{id:this.target+"-SearchCustomizerCategory",className:"customizerSearchCategory"},{width:(this.customizerRightWidth-40)+"px"}));d.appendChild(this.$cX("span",{id:this.target+"-SearchCustomizerDescriptionTitle",className:"customizerSearchDescription"},{width:(this.customizerRightWidth-40)+"px"}));d.appendChild(this.$cX("span",{id:this.target+"-SearchCustomizerDescription",className:"customizerSearch"},{height:"200px",width:(this.customizerRightWidth-40)+"px",overflowY:"scroll"}));d.appendChild(this.$cX("span",{id:this.target+"-SearchCustomizerCurrentValue",className:"customizerSearchCurrent"}));d.appendChild(this.$cX("input",{id:this.target+"-SearchCustomizerValue",className:"customizerSearch",type:"text"},{width:(this.customizerRightWidth-40)+"px"}));d.appendChild(this.$cX("select",{id:this.target+"-SearchCustomizerValueSelect",className:"customizerSearch",size:5},{width:(this.customizerRightWidth-40)+"px",display:"none"}));d.appendChild(this.$cX("input",{id:this.target+"-SearchCustomizerButton",className:"customizerSearch",type:"button",value:"Draw / Apply"},{width:"120px",borderRadius:"4px",backgroundColor:"#ddd",height:"40px"}));a.appendChild(d);return a};this.P7=function(b,c){this[b]=c;if(b=="customizerSize"||b=="customizerGraphMaximize"){this.vg();var a=this;setTimeout(function(){a.Vz()},100)}else{if(b=="theme"){this.H9(c)}else{if(b=="disableCSSTransitions"){if(CanvasXpress.cssTransitions){CanvasXpress.enableCSSTransitions()}else{CanvasXpress.disableCSSTransitions()}}else{this.x9({func:"drawCustomizer",par:[b,c]})}}}};this.MZ=function(q,o,p){var a=this.$(this.target+"-SearchCustomizerInput");var e=this.$(this.target+"-SearchCustomizerSelectTitle");var c=this.$(this.target+"-SearchCustomizerSelect");var l=this.$(this.target+"-SearchCustomizerCategory");var j=this.$(this.target+"-SearchCustomizerDescriptionTitle");var n=this.$(this.target+"-SearchCustomizerDescription");var m=this.$(this.target+"-SearchCustomizerCurrentValue");var g=this.$(this.target+"-SearchCustomizerValue");var b=this.$(this.target+"-SearchCustomizerValueSelect");var d=window.document.activeElement;var f=this.nc(p);var h=[];if(q&&this.tG(q)==13){}else{if(o&&p){for(var r=0;r<f.length;r++){h.push(f[r])}if(h.length>0&&e&&c&&j&&n&&m&&g&&b){this.T1(c);h.sort();for(var r=0;r<h.length;r++){var k=this.$cX("option",{text:h[r],value:h[r],selected:h[r]==o});try{c.add(k,null)}catch(s){c.add(k)}}this.jb(o,l,j,n,m,g,b);e.innerHTML=h.length}}else{if(a&&d.id==a.id){for(var r=0;r<f.length;r++){if(f[r].toLowerCase().indexOf(a.value.toLowerCase())>=0){h.push(f[r])}}if(h.length>0&&e&&c&&j&&n&&m&&g&&b){this.T1(c);h.sort();for(var r=0;r<h.length;r++){var k=this.$cX("option",{text:h[r],value:h[r]});try{c.add(k,null)}catch(s){c.add(k)}}c.options[0].selected=true;this.jb(c.options[0].value,l,j,n,m,g,b);e.innerHTML=h.length}else{a.value=a.value.slice(0,a.value.length-1)}}}}return false};this.T1=function(a){if(a){while(a.childNodes.length>=1){a.removeChild(a.firstChild)}}};this.jb=function(k,c,g,j,m,d,f){if(k){if(!c){c=this.$(this.target+"-SearchCustomizerCategory")}if(!g){g=this.$(this.target+"-SearchCustomizerDescriptionTitle")}if(!j){j=this.$(this.target+"-SearchCustomizerDescription")}if(!m){m=this.$(this.target+"-SearchCustomizerCurrentValue")}if(!d){d=this.$(this.target+"-SearchCustomizerValue")}if(!f){f=this.$(this.target+"-SearchCustomizerValueSelect")}if(k&&g&&j&&m&&d&&f){this.T1(f);var e=CanvasXpress.doc.P[k];var n=e.F&&e.O&&e.O.length>0?this[e.F]():[];c.innerHTML=e.M;g.innerHTML=k;j.innerHTML=e.C;m.innerHTML=e.T;d.style.display="none";f.style.display="none";switch(e.T){case"void":d.style.display="block";d.type="text";d.value=k;break;case"integer":case"float":d.style.display="block";d.type="text";d.value=this[k];break;case"boolean":var a=[true,false];for(var h=0;h<a.length;h++){var b=this.$cX("option",{text:a[h],value:a[h]});try{f.add(b,null)}catch(l){f.add(b)}b.selected=a[h]==this[k]}f.style.display="block";break;case"string":if(e.O){for(var h=0;h<e.O.length;h++){var b=this.$cX("option",{text:e.O[h],value:e.O[h]});try{f.add(b,null)}catch(l){f.add(b)}b.selected=e.O[h]==this[k]}for(var h=0;h<n.length;h++){var b=this.$cX("option",{text:n[h],value:n[h]});try{f.add(b,null)}catch(l){f.add(b)}b.selected=n[h]==this[k]}f.style.display="block"}else{d.style.display="block";d.type="text";d.value=this[k]}break;case"color":d.style.display="block";d.type="color";d.value=this[k];break;case"array":case"object":case"filter":d.style.display="block";d.type="text";d.value=this.G0(this[k]);break;default:d.style.display="block";d.type="text";d.value=this[k];break}}}};this.uq=function(){this.$(this.target+"-SearchCustomizerInput").value="";this.$(this.target+"-SearchCustomizerSelectTitle").innerHTML="";this.$(this.target+"-SearchCustomizerCategory").innerHTML="";this.$(this.target+"-SearchCustomizerDescriptionTitle").innerHTML="";this.$(this.target+"-SearchCustomizerDescription").innerHTML="";this.T1(this.$(this.target+"-SearchCustomizerSelect"));this.$(this.target+"-SearchCustomizerCurrentValue").innerHTML="";var a=this.$(this.target+"-SearchCustomizerValue");a.type="text";a.value="";this.T1(this.$(this.target+"-SearchCustomizerValueSelect"))};this.nc=function(e){var b=this;var d=[];var a=function(m,k){var h=[];if(m.U){for(var j=0;j<m.U.length;j++){var l=m.U[j];h=h.concat(CanvasXpress.graphTypes[l])}}else{if(CanvasXpress.doc.M[m.M].U&&CanvasXpress.doc.M[m.M].U.U){for(var j=0;j<CanvasXpress.doc.M[m.M].U.U.length;j++){var l=CanvasXpress.doc.M[m.M].U.U[j];h=h.concat(CanvasXpress.graphTypes[l])}}else{h=CanvasXpress.graphTypes.AllGraphs}}return k?b.l4(h):b.Ek(h).sort()};for(var c in CanvasXpress.doc.P){if(!CanvasXpress.doc.Z){var f=a(CanvasXpress.doc.P[c],true);if(f.hasOwnProperty(this.graphType)){if(e){if(CanvasXpress.doc.P[c].M==e){d.push(c)}}else{d.push(c)}}}}return d};this.Ju=function(){var a=[];a.push(this.oR());return[a,this.addRemoveCustomizerListenersRightPanel]}};CanvasXpress.prototype.initDataFilter=function(){this.eL=function(){return this.graphType=="Genome"?106:(this.dataTableRowHeight*4)+4};this.fq=function(){if(this.$(this.target+"-cX-DataFilter")){return this.$(this.target+"-cX-DataFilter")}this.zy();var e=this.meta.canvas.canvasPixelRatio;var d=this.eL();this.dataFilterHeight=(this.meta.canvas.ctx.canvas.height/e)-d;this.activeAccordion=null;var a=this.$cX("div",{id:this.target+"-cX-DataFilter",className:"cX-DataFilter"},{width:(this.dataFilterWidth-2)+"px",marginLeft:"1px",marginRight:"1px"});var b=this.yd();var c=this.yt();a.appendChild(b);a.appendChild(c);var c=this.$(this.target+"-cX-Container-DataFilters");if(c){c.appendChild(a);this.A1("addEvtListener")}return a};this.yd=function(){var d=this.$cX("div",{id:this.target+"-cX-DataFilterToolbar",className:"cX-DataFilter-Toolbar"},{height:(this.dataTableRowHeight*2)+"px"});var e=this.$cX("div",{id:this.target+"-cX-DataFilterToolbarTopContainer",className:"cX-DataFilter-Toolbar-Top-Container"},{height:this.dataTableRowHeight+"px"});var g=this.$cX("span",{id:this.target+"-cX-DataFilterToolbarTopContainerText",innerHTML:"Filters",className:"cX-DataFilter-Toolbar-Text"},{color:this.dataUIStyle=="modern"?this.white:this.black,top:(this.dataTableRowHeight-28)/2+"px"});var f=this.$cXI(this.go(),{id:this.target+"-cX-DataFilterKeyClose",className:"cX-DataFilter-Toolbar-ImageNB",src:this.go(),title:"View Graph"},{position:"relative",left:(this.dataFilterWidth-78)+"px"},false,24);var c=this.$cX("div",{id:this.target+"-cX-DataFilterToolbarBottomContainer",className:"cX-DataFilter-Toolbar-Bottom-Container"},{height:this.dataTableRowHeight+"px"});var a=this.$cXI(this.filterFlashingOn?"sl_lightbulbon":"sl_lightbulboff",{id:this.target+"-cX-DataFilterKeyFlash",className:"cX-DataFilter-Toolbar-Image",src:this.filterFlashingOn?"sl_lightbulbon":"sl_lightbulboff",title:this.filterFlashingOn?"Turn off Flashing":"Turn on Flashing"},{position:"relative",display:this.graphType=="Network"?"block":"none",left:(this.dataFilterWidth-96)+"px",top:"-3px"},false,24);var b=this.$cXI("fp_funnelremove",{id:this.target+"-cX-DataFilterKeyReset",className:"cX-DataFilter-Toolbar-Image",src:"fp_funnelremove",title:"Reset filters"},{position:"relative",left:(this.dataFilterWidth-32)+"px",top:"-3px"},false,24);e.appendChild(g);e.appendChild(f);c.appendChild(b);c.appendChild(a);d.appendChild(e);d.appendChild(c);return d};this.go=function(){switch(this.dataUIStyle){case"bms":case"cx":case"stripped":case"old":case"rdc":case"ngs360":return"g_graph2";case"modern":return"g_graph";default:return"g_graph"}};this.JU=function(){var a=this.go();var b=this.$(this.target+"-cX-DataFilterToolbarTopContainerText");if(b){b.style.color=this.dataUIStyle=="modern"?this.white:this.black}var c=this.$(this.target+"-cX-DataFilterKeyClose");if(c){this.$cXIU(c,a)}};this.yt=function(){var d=this.$cX("div",{id:this.target+"-cX-DataFilterContainer",className:"cX-DataFilter-Container"},{top:(this.dataTableRowHeight*2)+"px"});var e=[{type:"Variable",label:"Variables",visible:!this.graphType.match(/Genome|Network/)},{type:"Sample",label:"Samples",visible:!this.graphType.match(/Genome|Network/)},{type:"Node",label:"Nodes",visible:this.graphType=="Network"},{type:"Edge",label:"Edges",visible:this.graphType=="Network"},{type:"Genome",label:"Features",visible:this.graphType=="Genome"}];for(var b=0;b<e.length;b++){var c=e[b];var a=this.ri(c.type,c.label,c.visible);d.appendChild(a.header);d.appendChild(a.content)}return d};this.ri=function(c,b,a){var f=this.$cX("div",{id:this.target+"-cX-DataFilter"+c+"Header",className:"cX-DataFilter-Head"},{height:this.dataTableRowHeight+"px",display:a?"block":"none"});var d=this.$cX("div",{id:this.target+"-cX-DataFilter"+c+"Content",className:"cX-DataFilter-Content"});var e=this.$cX("span",{innerHTML:"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+b,className:"cX-DataFilter-Text"},{pointerEvents:"none"});f.appendChild(e);return{header:f,content:d}};this.A1=function(b){var c=this;var e=this.$(this.target+"-cX-DataFilterKeyFlash");var a=this.$(this.target+"-cX-DataFilterKeyReset");var d=this.$(this.target+"-cX-DataFilterKeyClose");if(e&&a&&d){this.cI(b,e,"click","flashDataFilter",[],false);this.cI(b,a,"click","resetDataFilter",[],false);this.cI(b,d,"click","hideDataFilter",[],false);["Variable","Sample","Node","Edge","Genome"].forEach(function(f){var g=c.$(c.target+"-cX-DataFilter"+f+"Header");if(g){c.cI(b,g,"click","activateAccordion",[],false)}})}};this.RH=function(b){var a=this.zL(b);if(this.filterFlashingOn){this.filterFlashingOn=false;this.$cXIU(a,"sl_lightbulboff",{title:"Turn on Flashing"})}else{this.filterFlashingOn=true;this.$cXIU(a,"sl_lightbulbon",{title:"Turn off Flashing"})}};this.Iw=function(g,b,h,a){var f=this;if(!b){b=this.zL(g)}if(b){if(b.tagName.toLowerCase()=="span"){b=b.parentNode}var c="cX-DataFilter-Head";b.className=c+"-Active";b.firstChild.className="cX-DataFilter-Text-Active";var e=b.nextSibling;if(e){if(a){if(this.activeAccordion&&e.id==this.activeAccordion.id){e=false}this.LA(new Date().getTime(),250,e,this.activeAccordion,h,a);if(this.activeAccordion){var d=this.activeAccordion.previousSibling;d.className=c;d.firstChild.className="cX-DataFilter-Text"}this.activeAccordion=e}else{setTimeout(function(){if(f.activeAccordion&&e.id==f.activeAccordion.id){e=false}f.LA(new Date().getTime(),250,e,f.activeAccordion,h,a);if(f.activeAccordion){var i=f.activeAccordion.previousSibling;i.className=c;i.firstChild.className="cX-DataFilter-Text"}f.activeAccordion=e},a?0:33)}}}};this.oF=function(a){var b=this.meta.canvas.canvasPixelRatio;this.dataFilterHeight=(a||(this.meta.canvas.ctx.canvas.height/b))-this.eL();if(this.activeAccordion){this.activeAccordion.style.height=this.dataFilterHeight+"px"}};this.Gz=function(e,b,c){if(this.KV()){return}var m=this;var h=this.isDOE;var f=this.layoutComb;var p,k;var d=function(u,q,i,t,s){var r={min:">=",max:"<=",like:"like","not like":"not like",exact:"exact",different:"different"};if(r[i]){m[u].comp.push(s!=null&&s!=false?t+":::"+s:t);m[u].op.push(r[i]);m[u].cases.push(false);m[u].type.push("Filter");m[u].value.push(m.toDoFilter[q][t][i])}};if(this.filteringStringOn||this.filteringNumericOn||this.filteringDateOn||e){this.fj();if(h){this.Ap(true)}for(var a in this.toDoFilter){for(var o in this.toDoFilter[a]){for(var g in this.toDoFilter[a][o]){var j=this.toDoFilter[a][o].ref;if(g!="ref"){if(a=="sample"){this.showSmpDendrogram=false;d("filterSmpBy",a,g,o,j)}else{if(a=="variable"){this.showVarDendrogram=false;d("filterVarBy",a,g,o,j)}else{if(a=="nodes"){d("filterNodeBy",a,g,o,j)}else{if(a=="edges"){d("filterEdgeBy",a,g,o,j)}else{if(a=="feature"){d("filterFeatureBy",a,g,o,j)}}}}}}}}}this.L6(true,b,c);this.V7(true);this.mS();this.iU(false,true);if(f||h){p=this.varIndices;k=this.smpIndices}if(this.motionBy&&this.motionObject){this.motionObject.varIndices=this.TU(this.varIndices);this.motionObject.smpIndices=this.TU(this.smpIndices)}if(h){this.wY(false,false,false,true)}if(this.decorations&&this.decorations.reg){this.updateCorrelation()}if(this.IX()){if(this.graphType=="Network"&&this.filterFlashingOn){var n=[];for(var l=0;l<this.data.nodes.length;l++){if(!this.data.nodes[l].hide){n.push(this.data.nodes[l].id)}}this.om(n,false,5)}else{if(this.isGroupedData&&this.smpIndices.length>0){this.hW(this.groupingFactors,false,false,true,true)}this.x9({func:"updateDataFilter",par:[true,b,c],prop:{toDoFilter:this.toDoFilter}});if(f){this.varIndices=p;this.smpIndices=k}}}else{if(!this.scatterPlotMatrix){this.L6(true,false,c)}this.x9({func:"updateDataFilter",par:[true,b,c],prop:{toDoFilter:this.toDoFilter}});if(this.layoutComb){this.varIndices=p;this.smpIndices=k}}}};this.OD=function(){if(this.filteringNumericOn){if(this.md(this.filteringNumericOn.parentNode.parentNode.parentNode.parentNode,"CanvasXpressListItem")){var c=this.filteringNumericOn.parentNode.parentNode.parentNode.getAttribute("data-type");var b=this.filteringNumericOn.parentNode.parentNode.parentNode.getAttribute("data-name");if(this.graphType=="Network"){if(c=="nodes"){return this.$(this.target+"-cX-DataFilterNodeContentSearchItems")}else{return this.$(this.target+"-cX-DataFilterEdgeContentSearchItems")}}else{var a;if(c=="sample"){a=this.yV(b);return a>=0?this.$(this.target+"-cX-DataFilterVariableContentSearchItems"):this.$(this.target+"-cX-DataFilterSampleContentSearchItems")}else{a=this.tU(b);return a>=0?this.$(this.target+"-cX-DataFilterSampleContentSearchItems"):this.$(this.target+"-cX-DataFilterVariableContentSearchItems")}}}else{return this.filteringNumericOn.parentNode.parentNode.parentNode.parentNode}}};this.tT=function(f){var n=this.$(this.target+"-cX-DataFilterContainer");var t=this.meta.data;var m=function(j,i){if(j=="sample"){return t.x[i].filter}else{if(j=="variable"){return t.z[i].filter}else{if(j=="nodes"){return{min:t.nodes[i].min,max:t.nodes[i].max}}else{if(j=="edges"){return{min:t.edges[i].min,max:t.edges[i].max}}else{if(j=="features"){return t.features[i].filter}}}}}};if(n){for(var u=0;u<n.childNodes.length;u++){if(n.childNodes[u].id.match("Content")){var w=n.childNodes[u];for(var s=0;s<w.childNodes.length;s++){if(w.childNodes[s].id.match("Items")){var g=w.childNodes[s];for(var r=0;r<g.childNodes.length;r++){if(g.childNodes[r].id.match("Container")){var v=g.childNodes[r];var q=v.getAttribute("data-category");var a=v.getAttribute("data-name");var d=v.getAttribute("data-type");if(q=="String"){var c=this.$(v.id.replace("DataFilterContainer","DataFilterScroll"));var p=this.$(v.id.replace("DataFilterContainer","DataFilterOptions"));if(c&&p){c.filterValues=c.values;while(p.childNodes.length>0){p.removeChild(p.childNodes[0])}this.PJ(c,p,false,!f)}}else{if(q=="Date"){var e=v.getAttribute("data-min");var h=v.getAttribute("data-max");if(f){var b=m(d,a);this.t7(v,b.min,b.max,Number(e),Number(h))}else{this.t7(v,Number(e),Number(h),Number(e),Number(h))}}else{if(q=="Numeric"){var l=this.$(v.getAttribute("data-slider-min"));var o=this.$(v.getAttribute("data-slider-max"));if(f){var b=m(d,a);this.Zm(false,l,b.min,true);this.PX(false,o,b.max,true)}else{this.Zm(false,l,Number(l.min),true);this.PX(false,o,Number(o.max),true)}}}}}}}}}}}};this.tA=function(l,f,r,d){var j=this;if(f&&r&&d){return this.tA(d,f,r)}var a=l?l.getAttribute("data-grid")=="true":false;var h=function(i,x){var w;if(l&&i&&x){switch(i){case"variable":case"sample":w=j.Az(i,x);break;case"nodes":w=j.Az(i,x);break;case"edges":w=j.Az(i,x);break}}return w};if(l){for(var u=0;u<l.childNodes.length;u++){var v=l.childNodes[u];var e=this.$(v.id.replace("DataFilterContainer","DataFilterScroll"));var s=this.$(v.id.replace("DataFilterContainer","DataFilterOptions"));var t=v?v.getAttribute("data-category"):null;if(t&&v){switch(t){case"String":var b=e?e.getAttribute("data-name"):false;if(s&&b){var c=r!=b;while(s.childNodes.length>0){s.removeChild(s.childNodes[0])}this.PJ(e,s,c)}break;case"Date":var b=v.getAttribute("data-name");var f=v.getAttribute("data-type");var p=h(f,b);var k=Number(v.getAttribute("data-min"));var o=Number(v.getAttribute("data-max"));var g=p.filter.min;var m=p.filter.max;if(g==null||m==null){g=k;m=k+86400000}else{g=new Date(g).getTime()+86400000;m=new Date(m).getTime()+86400000}if(p&&g!=null&&m!=null){this.t7(v,g,m,k,o)}break;case"Numeric":var b=v.getAttribute("data-name");var f=v.getAttribute("data-type");var n=this.$(v.getAttribute("data-slider-min"));var q=this.$(v.getAttribute("data-slider-max"));var p=h(f,b);if(b&&f&&n&&q&&p){if(b!=r){this.Zm(false,n,Number(p.filter.min),true);this.PX(false,q,Number(p.filter.max),true)}}break}}else{if(a){t=l?l.getAttribute("data-category"):null;if(t){switch(t){case"Date":var b=l.getAttribute("data-name");var f=l.getAttribute("data-type");var p=h(f,b);var k=Number(l.getAttribute("data-min"));var o=Number(l.getAttribute("data-max"));var g=p.filter.min;var m=p.filter.max;if(g==null||m==null){g=k;m=k+86400000}else{g=new Date(g).getTime()+86400000;m=new Date(m).getTime()+86400000}if(p&&g!=null&&m!=null){this.t7(l,g,m,k,o)}break;case"Numeric":var b=l.getAttribute("data-name");var f=l.getAttribute("data-type");var n=l.firstElementChild.lastElementChild.firstElementChild.firstElementChild;var q=l.firstElementChild.lastElementChild.firstElementChild.lastElementChild;var p=h(f,b);if(b&&f&&n&&q&&p){this.Zm(false,n,Number(p.filter.min),true);this.PX(false,q,Number(p.filter.max),true)}break}}}}}}};this.IX=function(){var d=this;var b=function(k){var j=k.source==="smps"?d.data.y.smps:d.data.y.vars;var h=[];var g=[];for(var f=0;f<k.startIndices.length;f++){var e=k.startIndices[f];if(k.lookup.hasOwnProperty(e)){h.push(j[e]);g.push(e)}}if(g.length<1){d[k.axisName]=k.startValues;d[k.indicesName]=k.startIndices;if(d.debug){alert("Cannot filter since there are no "+k.source+" left in "+k.axisName)}return false}d[k.axisName]=h;d[k.indicesName]=g;return true};if(!this.startingXAxisIndices){this.startingXAxis=this.xAxis;this.startingXAxisIndices=this.graphType.match(/Scatter/i)?this.xAxisIndices:this.xAxisVarIndices}if(!this.startingXAxis2Indices&&this.xAxis2){this.startingXAxis2=this.xAxis2;this.startingXAxis2Indices=this.xAxis2VarIndices}if(!this.startingYAxisIndices){this.startingYAxis=this.yAxis;this.startingYAxisIndices=this.yAxisIndices}if(!this.startingZAxisIndices&&this.zAxis){this.startingZAxis=this.zAxis;this.startingZAxisIndices=this.zAxisIndices}if(this.graphType.match(/Scatter/i)){var c=this.l4(this.smpIndices);if(!b({axisName:"xAxis",indicesName:"xAxisIndices",startValues:this.startingXAxis,startIndices:this.startingXAxisIndices,lookup:c,source:"smps"})){return false}if(!b({axisName:"yAxis",indicesName:"yAxisIndices",startValues:this.startingYAxis,startIndices:this.startingYAxisIndices,lookup:c,source:"smps"})){return false}if((this.graphType==="Scatter3D"||this.graphType==="ScatterBubble2D")&&this.startingZAxisIndices){if(!b({axisName:"zAxis",indicesName:"zAxisIndices",startValues:this.startingZAxis,startIndices:this.startingZAxisIndices,lookup:c,source:"smps"})){return false}}}else{if(this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)){var a=this.l4(this.varIndices);if(this.startingXAxisIndices){if(!b({axisName:"xAxis",indicesName:"xAxisIndices",startValues:this.startingXAxis,startIndices:this.startingXAxisIndices,lookup:a,source:"vars"})){return false}}if(this.startingXAxis2Indices){if(!b({axisName:"xAxis2",indicesName:"xAxis2Indices",startValues:this.startingXAxis2,startIndices:this.startingXAxis2Indices,lookup:a,source:"vars"})){return false}}}}return true};this.WH=function(a){var c=this.$(this.target+"-cX-DataFilter");if(!c){if(!this.disableEvents&&!this.disableDataFilters){this.fq();c=this.$(this.target+"-cX-DataFilter");toolbar=this.$(this.target+"-cX-DataFilterToolbar")}}if(c){if(this.activeTarget){this.activeTarget.style.zIndex=10000}this.activeTarget=c;c.style.display="block";this.x2();this.oF(a);if(!this.activeAccordion){var b;if(this.graphType=="Genome"){b=this.target+"-cX-DataFilterGenomeHeader"}else{if(this.graphType=="Network"){b=this.target+"-cX-DataFilterNodeHeader"}else{b=this.target+"-cX-DataFilterVariableHeader"}}this.Iw(false,this.$(b),false,true)}c.style.zIndex=10001}return c};this.iY=function(a){if(this.view==="explore"){a-=2}this.oF(a);this.WH(a)};this.LQ=function(t){var m=[];var f=[];switch(this.graphType){case"Bar":case"Line":case"BarLine":case"Area":case"AreaLine":case"Dotplot":case"DotLine":case"Heatmap":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Boxplot":case"Correlation":case"Pie":case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Circular":case"Map":case"Gantt":var k=this.$(this.target+"-cX-DataFilterSampleContent");var d=this.$(this.target+"-cX-DataFilterVariableContent");if(k&&d){m.push(k,d);f.push(this.GP("smps",true));f.push(this.GP("vars",true))}break;case"Venn":return;case"Network":var e=this.$(this.target+"-cX-DataFilterNodeContent");var o=this.$(this.target+"-cX-DataFilterEdgeContent");if(e&&o){m.push(e,o);f.push(this.YR(true));f.push(this.th(true))}break;case"Genome":var s=this.$(this.target+"-cX-DataFilterGenomeContent");if(s){m.push(s);f.push(this.Ys(true))}break}for(var r=0;r<f.length;r++){var h=f[r];var l=this.Nv(h);l.sort();for(var q=0;q<l.length;q++){var b=h[l[q]].type;var u=h[l[q]].isDate;var p=l[q].replace(/\W/g,"_");if(b=="string"){var c=this.$(this.target+":"+p+":cX-DataFilterInput");var n=this.$(this.target+":"+p+":cX-DataFilterScroll");var a=this.$(this.target+":"+p+":cX-DataFilterMask");if(n&&c){if(t){c.value="";this.yf(n)}else{this.lN("removeEvtListener",a,c)}}}else{var g=this.$(this.target+":"+p);if(g){if(t){this.Zm(false,g.minInput,Number(g.minInput.min),true);this.PX(false,g.maxInput,Number(g.minInput.max),true)}else{if(u){this.uR("removeEvtListener",g)}else{this.GT("removeEvtListener",g)}}}}}}};this.x2=function(){if(!this.toDoFilter){this.toDoFilter={}}switch(this.graphType){case"Bar":case"Line":case"BarLine":case"Area":case"AreaLine":case"Dotplot":case"DotLine":case"Heatmap":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Boxplot":case"Correlation":case"Pie":case"Sankey":case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Circular":case"Map":case"Gantt":return this.bd();case"Venn":return;case"Network":return this.rr();case"Genome":return this.UX()}};this.Os=function(a,b,k){var e=this.graphType=="Genome"?95:116;var p=this.Nv(k);p.sort();if(!b.loaded){b.loaded={}}var d=b.id+"Search";if(!this.$(d)){var h=this.$cX("div",{id:d,className:"cX-DataFilter-Search"},{marginBottom:"5px",marginTop:"5px"});var q=this.$cX("input",{id:d+"Input",className:"cX-DataFilter-Search",type:"search",placeholder:" Search filters..."});var l=this.$cX("div",{id:d+"Items"});h.appendChild(q);b.appendChild(h);b.appendChild(l)}var m=this.$(d+"Items");var c=this.meta.canvas.canvasPixelRatio;if(m){m.style.height=(this.meta.canvas.ctx.canvas.height/c)-e}for(var j=0;j<p.length;j++){var n=k[p[j]].type;var o=k[p[j]].isDate;var f=k[p[j]].ref||false;var g=this.target+":"+p[j].replace(/\W/g,"_")+":cX-DataFilterContainer";if(!this.$(g)){if(!b.loaded[p[j]]){if(o){l.appendChild(this.ys(a,p[j],f));b.loaded[p[j]]=true}else{if(n=="string"||n=="object"){l.appendChild(this.Ck(a,p[j],f));b.loaded[p[j]]=true}else{l.appendChild(this.t8(a,p[j],f));b.loaded[p[j]]=true}}}}}this.cI("addEvtListener",q,"search","updateSearchFilters",[],false)};this.bd=function(){var b=this.$(this.target+"-cX-DataFilterSampleContent");var a=this.$(this.target+"-cX-DataFilterVariableContent");var e=this.graphType=="Scatter2D"&&this.scatterType=="manhattan";var d=this.graphType=="Scatter2D"&&this.scatterType=="manhattanCNV";var c=e?[this.manhattanMarkerChromosomeNumber,this.manhattanMarkerLogPValue]:d?[this.manhattanMarkerChromosomeNumber,this.manhattanCNV]:false;if(b&&a){this.Os("sample",b,this.GP("smps",true,c,false,e||d));this.Os("variable",a,this.GP("vars",true))}};this.rr=function(){var a=this.$(this.target+"-cX-DataFilterNodeContent");var b=this.$(this.target+"-cX-DataFilterEdgeContent");if(a&&b){this.Os("nodes",a,this.YR(true));this.Os("edges",b,this.th(true))}};this.UX=function(){var a=this.$(this.target+"-cX-DataFilterGenomeContent");if(a){this.Os("features",a,this.Ys(true))}};this.ys=function(d,g,h,b){var a=this.Az(d,g);if(!a){return false}var o=g.replace(/\W/g,"_");var p=b?this.target+":"+o+"_":this.target+":"+o;var t=Number(a.range.min);var v=Number(a.range.max);var s=b?b:this.dataFilterWidth-46;var w=86400000;var n=this.$cX("div",{id:p+":cX-DataFilterContainer",className:"cX-DataFilter-Container-Hoverable"},{height:"95px"});n.setAttribute("data-category","Date");n.setAttribute("data-type",d);n.setAttribute("data-name",g);n.setAttribute("data-ref",h);n.setAttribute("data-grid",b?"true":"false");n.setAttribute("data-min",t);n.setAttribute("data-max",v);var e=this.$cX("div",{className:"CanvasXpressRangeSliderContainerTop"},{width:s+"px",height:"22px",margin:"auto"});var k=this.$cX("div",{className:"CanvasXpressRangeSliderContainerBottom"},{width:s+"px",height:"65px",margin:"auto"});var j=this.$cX("div",{className:"CanvasXpressRangeSliderInput"},{height:"32px"});var y=this.$cX("div",{id:p+":cX-DataFilterLabel",innerHTML:g},{margin:"10px"});var l=this.$cX("input",{id:(g+"Min")||this.oy("-cX-DateMin-"),className:"cX-DataFilter-Container-Input-Left",type:"date",min:this.dateFormat(t,this.timeFormat),max:this.dateFormat(v,this.timeFormat),value:this.dateFormat(t,this.timeFormat)});var f=this.$cX("input",{id:(g+"Max")||this.oy("-cX-DateMax-"),className:"cX-DataFilter-Container-Input-Right",type:"date",min:this.dateFormat(t,this.timeFormat),max:this.dateFormat(v,this.timeFormat),value:this.dateFormat(v,this.timeFormat)});var m=this.$cX("input",{id:(g+"Min")||this.oy("-cX-RangeSliderMin-"),className:"CanvasXpressRangeSlider",type:"range",min:t,max:v,value:t,step:w});var u=this.$cX("input",{id:(g+"Max")||this.oy("-cX-RangeSliderMax-"),className:"CanvasXpressRangeSlider",type:"range",min:t,max:v,value:v,step:w});var i=this.$cX("div",{className:"CanvasXpressRangeSlider"});var x=this.$cX("div",{className:"CanvasXpressRangeSliderTrack"});var c=this.$cX("div",{className:"CanvasXpressRangeSliderRange"});var r=this.$cX("div",{className:"CanvasXpressRangeSliderThumbLeft"});var q=this.$cX("div",{className:"CanvasXpressRangeSliderThumbRight"});i.appendChild(q);i.appendChild(r);i.appendChild(c);i.appendChild(x);e.appendChild(y);j.appendChild(l);j.appendChild(f);k.appendChild(j);k.appendChild(m);k.appendChild(u);k.appendChild(i);n.appendChild(e);n.appendChild(k);this.uR("addEvtListener",n);if(b){this.tA(n,d,g,h)}return n};this.uR=function(f,a){if(a){var c=a.lastChild.firstChild.firstChild;var e=a.lastChild.firstChild.lastChild;var b=a.lastChild.firstChild.nextSibling;var d=b.nextSibling;var g=a.lastChild.lastChild.firstChild;var h=g.nextSibling;[c,e,b,d,g,h].forEach(function(i){if(i){i.setAttribute("data-menus",true)}});this.cI(f,c,"change","inputDateFilterMinRange",[],false);this.cI(f,e,"change","inputDateFilterMaxRange",[],false);this.cI(f,b,"input","inputDateFilterMinRange",[],false);this.cI(f,d,"input","inputDateFilterMaxRange",[],false);this.cI(f,g,"mousedown","inputDateFilterMaxRange",[],false);this.cI(f,h,"mousedown","inputDateFilterMinRange",[],false)}};this.EP=function(a){var d=this.zL(a);if(d&&d.tagName.toUpperCase()==="INPUT"){if(d.type==="date"){this.filteringDateOn=d.parentNode.parentNode.parentNode;this.Ud(a)}else{if(d.type==="range"){var g=Number(d.min);var i=Number(d.max);var e=d.parentNode.firstChild.firstChild;var b=d.nextSibling;var c=d.parentNode.lastChild.firstChild.nextSibling;var j=c.nextSibling;var f=Math.min(Number(d.value),Number(b.value));var h=Math.floor((f-g)*100/(i-g));c.style.left=h+"%";j.style.left=h+"%";d.value=f;e.value=this.dateFormat(f,this.timeFormat);this.filteringDateOn=d.parentNode.parentNode}}}};this.tp=function(a){var d=this.zL(a);if(d&&d.tagName.toUpperCase()==="INPUT"){if(d.type==="date"){this.filteringDateOn=d.parentNode.parentNode.parentNode;this.Ud(a)}else{if(d.type==="range"){var h=Number(d.min);var j=Number(d.max);var f=d.parentNode.firstChild.firstChild.nextSibling;var b=d.previousSibling;var c=d.parentNode.lastChild.firstChild;var e=c.nextSibling.nextSibling;var g=Math.max(Number(d.value),Number(b.value));var i=100-Math.floor((g-h)*100/(j-h));c.style.right=i+"%";e.style.right=i+"%";f.value=this.dateFormat(g,this.timeFormat);d.value=new Date(f.value).getTime();this.filteringDateOn=d.parentNode.parentNode}}}};this.t7=function(d,c,j,g,a){var i=d.lastChild.firstChild.firstChild;var f=d.lastChild.firstChild.lastChild;var e=d.lastChild.firstChild.nextSibling;var b=e.nextSibling;var k=d.lastChild.lastChild.firstChild;var n=k.nextSibling;var m=n.nextSibling;var h=parseInt((c-g)*100/(a-g));var l=parseInt((a-j)*100/(a-g));i.value=this.dateFormat(c,this.timeFormat);f.value=this.dateFormat(j,this.timeFormat);e.value=c;b.value=j;n.style.left=h+"%";m.style.left=h+"%";k.style.right=l+"%";m.style.right=l+"%"};this.Ud=function(f){if(this.filteringDateOn){var d=this.filteringDateOn;var c=d.lastChild.firstChild.firstChild.value;var a=d.lastChild.firstChild.lastChild.value;var e=d.getAttribute("data-type");var b=d.getAttribute("data-name");if(!this.toDoFilter){this.toDoFilter={}}if(!this.toDoFilter[e]){this.toDoFilter[e]={}}if(!this.toDoFilter[e][b]){this.toDoFilter[e][b]={}}this.toDoFilter[e][b].min=new Date(c).getTime();this.toDoFilter[e][b].max=new Date(a).getTime();this.Gz(false,false,f);this.tA(d.parentNode,e,b);this.filteringDateOn=false}};this.t8=function(g,k,e,d){var j=this.Az(g,k);if(!j){return false}var i=k.replace(/\W/g,"_");var c=d?this.target+":"+i+"_":this.target+":"+i;var f=Number(j.range.min);var h=Number(j.range.max);var b=this.VO(k,c,f,h,d?d:this.dataFilterWidth-46,d);var a=this.$cX("div",{id:c+":cX-DataFilterContainer",className:"cX-DataFilter-Container-Hoverable"});a.setAttribute("data-category","Numeric");a.setAttribute("data-type",g);a.setAttribute("data-name",k);a.setAttribute("data-ref",e);a.setAttribute("data-grid",d?"true":"false");a.setAttribute("data-slider-min",b.lastChild.firstChild.firstChild.id);a.setAttribute("data-slider-max",b.lastChild.firstChild.lastChild.id);a.appendChild(b);this.GT("addEvtListener",a);if(d){this.tA(a,g,k,e)}return a};this.GT=function(c,a){if(a){var h=a.firstChild.firstChild.lastChild.firstChild.firstChild.nextSibling;var i=a.firstChild.lastChild.firstChild.firstChild;var f=a.firstChild.lastChild.firstChild.lastChild;var d=a.firstChild.lastChild.firstChild.nextSibling;var b=a.firstChild.lastChild.firstChild.nextSibling.nextSibling;var g=b.nextSibling.lastChild;var e=g.previousSibling;if(c&&h&&i&&f&&d&&b){[h,i,f,d,b,g,e].forEach(function(j){if(j){j.setAttribute("data-menus",true)}});this.cI(c,h,"click","clickNumericFilterLinLog",[],false);this.cI(c,d,"input","inputNumericFilterMinRange",[],false);this.cI(c,i,"change","inputNumericFilterMinRange",[],false);this.cI(c,e,"mousedown","inputNumericFilterMinRange",[],false);this.cI(c,b,"input","inputNumericFilterMaxRange",[],false);this.cI(c,f,"change","inputNumericFilterMaxRange",[],false);this.cI(c,g,"mousedown","inputNumericFilterMaxRange",[],false);if(c=="addEvtListener"){this.Zm(d);this.PX(b)}}}};this.ad=function(d){var b=this.zL(d);if(b){var c=b.tickLinear;var a=b.tickLog;if(b.checked){c.style.display="flex";a.style.display="none"}else{c.style.display="none";a.style.display="flex"}this.Zm(false,b.minRange,true);this.PX(false,b.maxRange,true);this.filteringNumericOn=false}};this.Zm=function(b,i,g,a){var f=function(q,p,n,l){var m=n==0?0:Math.log(n);var k=Math.log(l);var o=(k-m)/100;return q?Math.exp(m+o*q):p?(Math.log(p)-m)/o:n};if(!i){i=this.zL(b)}if(i){if(!g&&g!=0){g=null}if(i.tagName.toUpperCase()=="INPUT"){if(i.type=="number"){g=g!=null?g:i.value;i=i.minRange;i.value=g}else{this.filteringNumericOn=i}}else{if(i.tagName.toUpperCase()=="DIV"){i=i.parentNode.parentNode.firstChild.nextSibling}}var e=Number(i.min);var j=Number(i.max);var d=!i.linLog.checked;var c=Math.min(Number(i.value),Number(i.maxRange.value)-0.1);var h=d&&g!=null?f(false,c,e,j):(Number(c-e)/(j-e))*100;i.minThumb.style.left=parseInt(h)+"%";i.range.style.left=parseInt(h)+"%";i.minInput.value=this.gG(d?f(h,false,e,j):c,i.decs);if(g!=null){i.value=(h*(j-e)/100)+e;if(!a){this.wZ(b);this.nH(b)}}}};this.PX=function(b,i,g,a){var f=function(q,p,n,l){var m=n==0?0:Math.log(n);var k=Math.log(l);var o=(k-m)/100;return q?Math.exp(m+o*q):p?(Math.log(p)-m)/o:n};if(!i){i=this.zL(b)}if(i){if(!g&&g!=0){g=null}if(i.tagName.toUpperCase()=="INPUT"){if(i.type=="number"){g=g!=null?g:i.value;i=i.maxRange;i.value=g}else{this.filteringNumericOn=i}}else{if(i.tagName.toUpperCase()=="DIV"){i=i.parentNode.parentNode.firstChild.nextSibling.nextSibling}}var e=Number(i.min);var j=Number(i.max);var d=!i.linLog.checked;var c=Math.max(Number(i.value),Number(i.minRange.value)+0.1);var h=d&&g!=null?f(false,c,e,j):(Number(c-e)/(j-e))*100;i.maxThumb.style.right=parseInt(100-h)+"%";i.range.style.right=parseInt(100-h)+"%";i.maxInput.value=this.gG(d?f(h,false,e,j):c,i.decs);if(g!=null){i.value=(h*(j-e)/100)+e;if(!a){this.wZ(b);this.nH(b)}}}};this.wZ=function(){if(this.filteringNumericOn){var c=this.filteringNumericOn.parentNode.parentNode.parentNode;var e=c.getAttribute("data-type");var b=c.getAttribute("data-name");var d=this.$(c.getAttribute("data-slider-min"));var a=this.$(c.getAttribute("data-slider-max"));if(!this.toDoFilter){this.toDoFilter={}}if(!this.toDoFilter[e]){this.toDoFilter[e]={}}if(!this.toDoFilter[e][b]){this.toDoFilter[e][b]={}}if(this.toDoFilter[e][b].min!=Number(d.value)){this.toDoFilter[e][b].min=Number(d.value)}if(this.toDoFilter[e][b].max!=Number(a.value)){this.toDoFilter[e][b].max=Number(a.value)}}};this.nH=function(d){if(this.filteringNumericOn){var b=this.filteringNumericOn.parentNode.parentNode.parentNode;var c=b.getAttribute("data-type");var a=b.getAttribute("data-name");this.Gz(false,false,d);this.tA(this.OD(),c,a);this.filteringNumericOn=false}};this.JK=function(){if(this.graphType=="Network"){var b=this.data.nodes;var d=Object.keys(b).filter(function(e){return b[e].hide===true});return d.length>0}else{var a=this.varIndices;var c=this.smpIndices;return a.length!==this.data.y.vars.length||c.length!==this.data.y.smps.length}};this.mS=function(){var h=this;var n=this.meta.data;var d=this.data.y;var e=this.data.x;var b=this.data.z;var j=this.varIndices;var o=this.smpIndices;var k=this.data.nodes;var l=this.data.edges;var a=this.graphType;if(this.JK()){var c=function(q,w,v){if(w&&q){for(var t in q){if(q[t].type=="String"){q[t].filter={};for(var r=0;r<v.length;r++){var u=w[t][v[r]];q[t].filter[u]=true}}else{if(q[t].type=="Numeric"){var s=null;var p=null;if(q[t].date){for(var r=0;r<v.length;r++){if(w[t][v[r]]==null){continue}var u=new Date(w[t][v[r]]).getTime();if(isNaN(u)){continue}if(s==null||u<s){s=u}if(p==null||u>p){p=u}}q[t].filter={min:s,max:p}}else{for(var r=0;r<v.length;r++){var u=w[t][v[r]];if(s==null||u<s){s=u}if(p==null||u>p){p=u}}q[t].filter={min:s,max:p}}}}}}};var m=function(q,r,s){var x=s?d.smps:d.vars;for(var u=0;u<q.length;u++){var w=q[u];var y=[];for(var t=0;t<r.length;t++){var z=r[t];var p=s?d.data[z][w]:d.data[w][z];if(p!=null){y.push(p)}}if(y.length>0){var v=h.cp(y);h.meta.data.y.filter[x[w]]={min:v[0],max:v[1],type:s?"smps":"vars"}}}};if(a=="Network"){}else{c(n.x,e,o);c(n.z,b,j);this.meta.data.y.filter={};m(o,j,true);m(j,o,false)}}else{var f=function(p){if(p){for(var r in p){if(p[r].hasOwnProperty("filter")){delete p[r].filter;if(p[r].hasOwnProperty("clicked")){for(var q in p[r].clicked){p[r].clicked[q]=true}}}}}};if(a=="Network"){}else{f(n.x);f(n.z);if(this.meta.data.y&&this.meta.data.y.hasOwnProperty("filter")){delete this.meta.data.y.filter;for(var g in this.meta.data.y.clicked){this.meta.data.y.clicked[g]=true}}}}};this.cm=function(a){if(a=="sample"){return"x"}else{if(a=="variable"){return"z"}else{if(a=="nodes"){return"nodes"}else{if(a=="edges"){return"edges"}else{if(a=="feature"){return"features"}else{return null}}}}}};this.Az=function(a,h,k){var n=this.cm(a);var e=h=="smps"?"smps":h=="vars"?"vars":false;var l=a==="sample"?this.yV(h):a==="variable"?this.tU(h):-1;var j=h=="Nodes"||h=="Edges"?true:false;var b=this.meta.data;var g=this.data.y;var o={};if(e||l>=0){if(l<0){if(k){o={filter:null,clicked:b.y.clicked,values:[]};for(var f=0;f<this.data.y[e].length;f++){o.values.push(this.data.y[e][f])}o.values.sort()}else{o={filter:b.y.filter?b.y.filter:null,clicked:b.y.clicked,values:[]};if(o.filter){for(var f=0;f<this.data.y[e].length;f++){if(b.y.filter[this.data.y[e][f]]||b.y.clicked[this.data.y[e][f]]===false){o.values.push(this.data.y[e][f])}}}else{for(var f=0;f<this.data.y[e].length;f++){o.values.push(this.data.y[e][f])}}o.values.sort()}}else{o={range:b.y.range[h],filter:k?null:(b.y.filter?b.y.filter[h]:b.y.range[h]),clicked:b.y.clicked}}}else{if(n&&b[n]){var m=b[n][h];if(m){if(m.type=="Numeric"){o={filter:k?null:b[n][h].filter,clicked:b[n][h].clicked};var p=b[n][h];o.range={min:m.date?p.rmin:p.min,max:m.date?p.rmax:p.max};if(!o.filter&&!k){o.filter=this.TU(o.range)}}else{if(m.type=="String"||m.type=="Object"){var c=b[n][h].clicked;var d=b[n][h].filter||false;o={filter:d,clicked:c,values:b[n][h].levels.sort()};if(d&&!k){o.values=Object.keys(c).filter(function(i){return c[i]===false}).concat(Object.keys(d).filter(function(i){return d[i]===true})).sort()}}}}}}return o};this.Ck=function(b,g,e,i){var n=this.Az(b,g).values;var c=g.replace(/\W/g,"_");var h=i?this.target+":"+c+"_":this.target+":"+c;var m="cX-DataFilter-Container-Mask";var d=this.$cX("div",{id:h+":cX-DataFilterContainer",className:"cX-DataFilter-Container-Hoverable"});d.setAttribute("data-category","String");d.setAttribute("data-type",b);d.setAttribute("data-name",g);d.setAttribute("data-ref",e);d.setAttribute("data-grid",i?"true":"false");if(i){d.style.width="192px"}var j=this.$cX("div",{id:h+":cX-DataFilterLabel",innerHTML:g},{margin:"5px",paddingLeft:"20px"});var p=this.$cX("input",{id:h+":cX-DataFilterInput",className:"cX-DataFilter-Search",type:"search",placeholder:" Search values..."});var f=n.length>this.dataFilterMaxItems;var o=f?(this.dataFilterMaxItems*20+8)+"px":((n.length+1)*20+8)+"px";var a=this.$cX("div",{id:h+":cX-DataFilterMask",className:f?m:"cX-DataFilter-Container-Mask-NoOverflow"},{height:o});var k=this.$cX("div",{id:h+":cX-DataFilterScroll"},{backgroundColor:this.backgroundWidgetsColor,height:(n.length*20+8)+"px"});k.setAttribute("data-type",b);k.setAttribute("data-name",g);k.setAttribute("data-safe",c);k.setAttribute("data-ref",e);k.setAttribute("data-grid",i?"true":"false");var l=this.$cX("div",{id:h+":cX-DataFilterOptions"},{width:"100%",position:"relative",paddingTop:"5px",paddingLeft:"5px"});this.PJ(k,l);k.appendChild(l);a.appendChild(k);d.appendChild(j);d.appendChild(p);d.appendChild(a);this.lN("addEvtListener",a,p);return d};this.PJ=function(r,q,t,v){if(!r||!q){return}var g=r.getAttribute("data-type");var c=r.getAttribute("data-name");var w=r.getAttribute("data-safe");var a=r.getAttribute("data-grid")==="true"?true:false;var o=this.Az(g,c,v);var k=o.clicked?Object.keys(o.clicked).filter(function(i){return o.clicked[i]===false}).length:0;var u=o.values.length;var d=this.TU(o.values);if(d.length&&!d[0].match(/^\(Select All\)$/)){d.unshift("(Select All)");u++}var f=0;var l=k>0?false:u==d.length?true:false;r.setAttribute("data-values",d.join("__,__"));for(var s=0;s<d.length;s++){var m=d[s];var e=a?this.target+":"+w+"_:cX-DataFilterDivItem-"+s:this.target+":"+w+":cX-DataFilterDivItem-"+s;var n=this.$cX("div",{id:e,title:m,value:m,index:s},{height:"20px",width:"100%",cssFloat:"left",clear:"both"});var h=a?this.target+":"+w+"_:cX-DataFilterInputItem-"+s:this.target+":"+w+":cX-DataFilterInputItem-"+s;var j=s==0?l:o.clicked[m];var p=this.$cX("input",{id:h,className:"cX-Checkbox",type:"checkbox",checked:j,value:m,index:s,name:""});var b=this.$cX("label",{"for":this.target+":"+w+":cX-DataFilterDivItem-"+s,className:"cX-Checkbox-Label",innerHTML:m});n.appendChild(p);n.appendChild(b);q.appendChild(n);if(f>this.dataFilterMaxItems){break}f++}r.style.height=(d.length*20+8)+"px";if(t){setTimeout(function(){r.parentNode.scrollTo({top:0,behavior:"smooth"})},100)}};this.lN=function(c,b,a){if(c&&b){b.setAttribute("data-menus",true);this.cI(c,b,"scroll","scrollStringFilter",[],false);this.cI(c,b,"click","endStringFilter",[],false);this.cI(c,a,"search","searchStringFilter",[],false)}};this.FJ=function(z,e,s){if(s){return false}if(!e){e=this.zL(z)}if(!e){return false}var w=e.firstChild;if(!w){return false}var v=w.firstChild;var x=20;var t=this.dataFilterMaxItems;var g=Number(w.style.height.replace("px",""));var f=Number(e.style.height.replace("px",""));var m=w.getAttribute("data-values").split("__,__");if(m.length>0){var k=w.getAttribute("data-type");var d=w.getAttribute("data-name");var C=w.getAttribute("data-safe");var b=w.getAttribute("data-grid")==="true"?true:false;var a=this.Az(k,d);var p=a.clicked?Object.keys(a.clicked).filter(function(i){return a.clicked[i]===false}).length:0;var B=m.length;if(m.length&&!m[0].match(/^\(Select All\)$/)){m.unshift("(Select All)");B++}var j=Math.floor(e.scrollTop/x);var y=g-f;if(e.scrollTop>=y){j=m.length-t;e.scrollTop=y}j=Math.max(0,Math.min(j,m.length-t));while(v.childNodes.length>0){v.removeChild(v.childNodes[0])}var o=p>0?false:B==m.length?true:false;for(var A=0;A<Math.min(t,m.length-j)+1;A++){var D=j+A;var q=m[D];if(q){var h=b?this.target+":"+C+"_:cX-DataFilterDivItem-"+D:this.target+":"+C+":cX-DataFilterDivItem-"+D;var r=this.$(h);if(!r){r=this.$cX("div",{id:h,title:q,value:q,index:D},{height:"20px",width:"100%",cssFloat:"left",clear:"both"});var l=b?this.target+":"+C+"_:cX-DataFilterInputItem-"+D:this.target+":"+C+":cX-DataFilterInputItem-"+D;var n=D==0?o:a.clicked[q];var u=this.$cX("input",{id:l,className:"cX-Checkbox",type:"checkbox",checked:n,value:q,index:D,name:""});var c=this.$cX("label",{"for":l,className:"cX-Checkbox-Label",innerHTML:q});r.appendChild(u);r.appendChild(c);v.appendChild(r)}}}v.style.top=e.scrollTop+"px"}return false};this.Kk=function(o,m,n){var f=this;var h=this.zL(o);if(!h.id){h=h.parentNode}if(h.id.match(/cX-DataFilterInputItem/)){this.filteringStringOn=h.parentNode}else{if(h.id.match(/cX-DataFilterDivItem/)){this.filteringStringOn=h}}var p=function(s,v,u){if(f.md(s,"CanvasXpressListItem")){var z=f.graphType==="Network";var y=v==="samp";var x=v==="nodes";if(z){return x?f.$(f.target+"-cX-DataFilterNodeContentSearchItems"):f.$(f.target+"-cX-DataFilterEdgeContentSearchItems")}else{var w=f.tU(u)>=0;var t=f.yV(u)>=0;if((y&&w)||(!y&&t)){return y?f.$(f.target+"-cX-DataFilterVariableContentSearchItems"):f.$(f.target+"-cX-DataFilterSampleContentSearchItems")}else{return y?f.$(f.target+"-cX-DataFilterSampleContentSearchItems"):f.$(f.target+"-cX-DataFilterVariableContentSearchItems")}}}return s};var k=function(t,z,A,s,u,w){var C=Object.keys(u.clicked);if(s){var x=Object.values(u.clicked).filter(function(D){return D===true}).length||0;if(x==C.length){for(var y=0;y<C.length;y++){var B=C[y];u.clicked[B]=false}f.toDoFilter=f.toDoFilter||{};f.toDoFilter[t]=f.toDoFilter[t]||{};f.toDoFilter[t][z]=f.toDoFilter[t][z]||{};f.toDoFilter[t][z][w]=Object.keys(u.clicked).filter(function(v){return u.clicked[v]===true})}else{for(var y=0;y<C.length;y++){var B=C[y];u.clicked[B]=true}if(f.toDoFilter&&f.toDoFilter[t]&&f.toDoFilter[t][z]){delete f.toDoFilter[t][z]}}}else{if(u.clicked[A]){u.clicked[A]=false}else{u.clicked[A]=true}f.toDoFilter=f.toDoFilter||{};f.toDoFilter[t]=f.toDoFilter[t]||{};f.toDoFilter[t][z]=f.toDoFilter[t][z]||{};f.toDoFilter[t][z][w]=Object.keys(u.clicked).filter(function(v){return u.clicked[v]===true});if(f.toDoFilter[t][z][w].length==C.length){delete f.toDoFilter[t][z]}}};if(!m&&this.filteringStringOn){m=this.filteringStringOn.parentNode&&this.filteringStringOn.parentNode.parentNode}var q=this.filteringStringOn;var c=m?m.getAttribute("data-values").split("__,__"):[];if(!o||!m||!c.length||!q||q.index==null){return false}var b=m.getAttribute("data-type");var a=m.getAttribute("data-name");var e=m.getAttribute("data-ref")==="true"?true:false;var j=this.Az(b,a);if(!j){return false}var l=q.value;if(l==null){return false}var r=m.parentNode.parentNode.parentNode;var g=p(r,b,a);var i=this.md(r,"CanvasXpressListItem")?r:false;var d=this.graphType=="Network"?"different":n?"like":"exact";k(b,a,l,l==="(Select All)",j,d);if(e!=null&&this.toDoFilter&&this.toDoFilter[b]&&this.toDoFilter[b][a]){this.toDoFilter[b][a].ref=e}this.filteringStringOn=true;this.Gz(false,false,o);this.tA(g,b,a,i);this.FJ(false,m.parentNode,false);this.filteringStringOn=false;return false};this.DZ=function(b){var a=this.zL(b);if(a&&a.value==""){this.UO(a.id)}return false};this.oq=function(a){return this.P9(a,this.lastView)};this.nh=function(e,d,f,c,b){if(this.KV()){return false}this.fj();this.tT();this.toDoFilter={};this.L6(false,false,e);this.mS();this.iU(false,true,this.reproducing||this.afterRendering);var a=e&&(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey);if(f){var g=this.$(this.target+"-cX-DataFilter");if(g){this.LQ();g.parentNode.removeChild(g);this.fq()}}else{this.LQ(true)}if(this.sorting&&!a){this.sortIndices.apply(this,this.sorting)}if(c){this.varIndices=c}if(b){this.smpIndices=b}if(this.motionBy&&this.motionObject){this.motionObject.varIndices=this.TU(this.varIndices);this.motionObject.smpIndices=this.TU(this.smpIndices)}if(this.isDOE){this.ff()}if(!d){if(this.isGroupedData||this.groupingFactors.length){this.hW(this.groupingFactors,false,false,false,true)}this.x9({func:"resetDataFilter",par:[e,d,f,c,b]})}else{this.Qs()}this.filteringNumericOn=false;this.filteringStringOn=false;return false};this.UO=function(q){if(q){var a=this.$(q);var s=this.$(q.replace("cX-DataFilterInput","cX-DataFilterScroll"));var r=this.$(q.replace("cX-DataFilterInput","cX-DataFilterOptions"));var g=s.getAttribute("data-type");var d=s.getAttribute("data-name");var w=s.getAttribute("data-safe");var b=s.getAttribute("data-grid")==="true"?true:false;var j=s.getAttribute("data-values").split("__,__");var n=this.Az(g,d);if(a.value){var t;try{t=new RegExp(a.value.toLowerCase())}catch(v){return}while(r.childNodes.length>0){r.removeChild(r.childNodes[0])}var o=0;this.isSelectStringFilter={};for(var u=0;u<j.length;u++){if(j[u].toLowerCase().match(t)){var l=j[u];this.isSelectStringFilter[l]=true;var f=b?this.target+":"+w+"_:cX-DataFilterDivItem-"+u:this.target+":"+w+":cX-DataFilterDivItem-"+u;var m=this.$cX("div",{id:f,title:l,value:l,index:u},{height:"20px",width:"100%",cssFloat:"left",clear:"both"});var h=b?this.target+":"+w+"_:cX-DataFilterInputItem-"+u:this.target+":"+w+":cX-DataFilterInputItem-"+u;var k=n.clicked[l];var p=this.$cX("input",{id:h,className:"cX-Checkbox",type:"checkbox",checked:k,value:l,index:u,name:""});var c=this.$cX("label",{"for":this.target+":"+w+":cX-DataFilterDivItem-"+u,className:"cX-Checkbox-Label",innerHTML:l});m.appendChild(p);m.appendChild(c);r.appendChild(m);o++;if(o>this.dataFilterMaxItems){break}}}}else{while(r.childNodes.length>0){r.removeChild(r.childNodes[0])}this.isSelectStringFilter=false;this.PJ(s,r)}}};this.yf=function(b){if(b){b.selected={0:true};var a=b.parentNode;a.scrollTop=0;this.FJ(false,a)}};this.PY=function(h){var c=this.zL(h);if(!c.id){c=c.parentNode}var a=c.id.replace("cX-DataFilterInput","cX-DataFilterScroll");var g=this.$(a).parentNode.parentNode;if(g){var j=g.childNodes;var f=new RegExp(j[0].firstChild.value,"i");for(var d=0;d<j[1].childNodes.length;d++){var b=j[1].childNodes[d].id.split(":");if(b[1].match(f)){j[1].childNodes[d].style.display="block"}else{j[1].childNodes[d].style.display="none"}}}};this.oq=function(a){return this.P9(a,this.lastView)};this.nh=function(e,d,f,c,b){if(this.KV()){return false}this.fj();this.tT();this.toDoFilter={};this.L6(false,false,e);this.mS();this.iU(false,true,this.reproducing||this.afterRendering);var a=e&&(e.shiftKey||e.ctrlKey||e.altKey||e.metaKey);if(f){var g=this.$(this.target+"-cX-DataFilter");if(g){this.LQ();g.parentNode.removeChild(g);this.fq()}}else{this.LQ(true)}if(this.sorting&&!a){this.sortIndices.apply(this,this.sorting)}if(c){this.varIndices=c}if(b){this.smpIndices=b}if(this.motionBy&&this.motionObject){this.motionObject.varIndices=this.TU(this.varIndices);this.motionObject.smpIndices=this.TU(this.smpIndices)}if(this.isDOE){this.ff()}if(!d){if(this.isGroupedData||this.groupingFactors.length){this.hW(this.groupingFactors,false,false,false,true)}this.x9({func:"resetDataFilter",par:[e,d,f,c,b]})}else{this.Qs()}this.filteringNumericOn=false;this.filteringStringOn=false};this.ue=function(){this.nh(false,true,true)};this.lh=function(){}};CanvasXpress.prototype.initDataTable=function(){this.GX=function(e,s){var n=this.$(this.target+"-cX-DataTable");if(n){return n}this.zy();if(!s){this.rR()}var p=20;var v=4;var i=this.dataTableLastWidth||this.dataTableColsWidth+p;var l=this.dataTableLastHeight||this.dataTableRowsHeight+p;var q=(this.dataTableBannerShow?this.dataTableRowHeight:0);var k=(this.dataTableToolbarShow?this.dataTableRowHeight:0);var o=q+k;var d=(this.dataTableStatusShow?this.dataTableRowHeight:0);var g=(this.dataTablePaginationShow?this.dataTableRowHeight:0);var a=d+g;var r=(v+(l-(o+a))-6)*-1;var f=this.$cX("div",{id:this.target+"-cX-DataTable",className:"cX-DataTable"},{width:i+"px",height:l+"px"});var u=this.nV();var m=this.zE();var j=this.Bk(p,v,i,l,o,a);var b=this.ef(r);var c=this.xr(r);f.appendChild(u);f.appendChild(m);f.appendChild(j);f.appendChild(b);f.appendChild(c);var h=this.$(this.target+"-cX-Container-DataTable");if(h){h.appendChild(f);this.dm();this.WM("addEvtListener");return f}return null};this.h1=function(b,a){if(b){a.style.borderRight="1px solid "+this.dataTableCellBorderColor}if(this.dataTableCellBorders!=="none"){if(this.dataTableCellBorders.match(/rows|all/)){a.style.borderBottom="1px solid "+this.dataTableCellBorderColor}if(this.dataTableCellBorders.match(/cols|all/)){a.style.borderRight="1px solid "+this.dataTableCellBorderColor}}};this.AB=function(d,i,k){var f=i===0;var c=this.dataTableRowNumbersShow&&k===0;var a=f||c;var b=a?"th":"td";var h=a?"cX-DataTable-Cell-Head":"cX-DataTable-Cell";var j=this.$cX(b,{id:this.target+"-cX-DataTable-Cell."+i+"."+k,className:h},{zIndex:i===0?100000:99999});j.style.background=!this.dataTableStriped?this.dataTableCellBackgroundColor:i%2?this.dataTableOddCellBackgroundColor:this.dataTableCellBackgroundColor;this.h1(c,j);var g=this.dataTableColPin.length+(this.dataTableRowNumbersShow?1:0);if(k<g&&i!==0){j.style.position="sticky";j.style.left="0px";j.style.zIndex=100000}var e=i===0&&k<g;if(e){j.style.zIndex=100001}d.appendChild(j)};this.td=function(){switch(this.dataUIStyle){case"cx":case"stripped":case"old":case"rdc":case"ngs360":return"wp_threebars2";case"modern":return"wp_threebars3";case"bms":return"wp_threebars4"}};this.z0=function(){var b=this.td();var c=this.$(this.target+"-cX-DataTable-Toolbar-Show-Hide-Image");if(c){this.$cXIU(c,b)}var a=this.$(this.target+"-cX-DataTable-Pagination-Show-Hide-Image");if(a){this.$cXIU(a,b)}};this.nV=function(){var b=this.$cX("div",{id:this.target+"-cX-DataTable-Banner",className:"cX-DataTable-Banner"},{height:this.dataTableBannerShow?this.dataTableRowHeight+"px":"0px",display:this.dataTableBannerShow?"flex":"none"});var d=this.$cX("div",{id:this.target+"-cX-DataTable-Logo",className:"cX-DataTable-Logo"});var e=this.dataTableBannerImage?this.$cX("img",{className:"cX-DataTable-Toolbar-Image-Logo",src:this.dataTableBannerImage,height:this.dataTableRowHeight,display:(this.dataTableBannerShow?"block":"none")},{height:(this.dataTableRowHeight-12)+"px",marginLeft:"10px"}):this.$cXI("c_canvasxpress",{className:"cX-DataTable-Toolbar-Image-Logo",src:"c_canvasxpress",title:"CanvasXpress",display:(this.dataTableBannerShow?"block":"none")},false,false,this.dataTableRowHeight);var g=this.$cX("div",{id:this.target+"-cX-DataTable-Search",className:"cX-DataTable-Search"});var c=this.$cX("input",{id:this.target+"-cX-DataTableSearch",className:"cX-DataTable-Search",type:"search",placeholder:"Search..."},{height:Math.min(Math.max(0,this.dataTableRowHeight-8),24)+"px"});var a=this.td();var f=this.$cXI(a,{id:this.target+"-cX-DataTable-Toolbar-Show-Hide-Image",className:"cX-DataTable-Toolbar-Show-Hide-Image",src:a,title:"Show/Hide Toolbar"},{cursor:"pointer",marginRight:"10px"},false,Math.max(0,Math.min(this.dataTableRowHeight-14,24)));d.appendChild(e);b.appendChild(d);g.appendChild(c);b.appendChild(g);b.appendChild(f);return b};this.zE=function(){var b="cX-DataTable-Toolbar-Image";var s=Math.max(0,Math.min(this.dataTableRowHeight-12,24));var f=this.view=="layout"||this.view=="explore";var k=this.$cX("div",{id:this.target+"-cX-DataTable-Toolbar",className:this.dataTableToolbarShow?"cX-DataTable-Toolbar":"cX-DataTable-Toolbar-Zero"},{height:this.dataTableRowHeight+"px",display:this.dataTableToolbarShow?"flex":"none"});var i=this.$cXI("g_graph2",{id:this.target+"-cX-DataTable-Close-Image",className:b,src:"g_graph2",title:"View Graph"},false,false,s);var j=this.$cXI("ar_minmax",{id:this.target+"-cX-DataTable-Maximize-Minimize-Image",className:b,src:"ar_minmax",title:"Minimize / Maximize"},{display:"block"},false,s);var d=this.$cXI("ly_doe",{id:this.target+"-cX-DataTable-DOE-Image",className:b,src:"ly_doe",title:"Explore Meta Data"},{display:f?"none":"block"},false,s);var l=this.$cXI("sv_disk",{id:this.target+"-cX-DataTable-Save-Image",className:b,src:"sv_disk",title:"Save data"},false,false,s);var q=this.dataTableNetwork=="nodes"?"n_edges":"n_nodes";var o=this.dataTableNetwork=="nodes"?"Show edge data":"Show node data";var c=this.$cXI(q,{id:this.target+"-cX-DataTable-Network-Image",className:b,src:q,title:o},{display:this.graphType=="Network"?"block":"none"},false,s);var r=this.$cX("div",{className:"cX-DataTable-Toolbar-Spacer"},{height:s+"px"});var p=this.$cXI("fp_funnelremove",{id:this.target+"-cX-DataTable-Filter-Reset-Image",className:b,src:"fp_funnelremove",title:"Reset filters"},false,false,s);var u=this.$cXI("fp_funnel",{id:this.target+"-cX-DataTable-Layout-Image",className:b,src:"fp_funnel",title:"Filter data"},{display:"block"},false,s);var a=this.$cX("div",{className:"cX-DataTable-Toolbar-Spacer"},{height:s+"px"});var v=this.$cXI("dtt_transpose",{id:this.target+"-cX-DataTable-Transpose-Image",className:b,src:"dtt_transpose",title:"Transpose data"},{display:this.graphType=="Venn"?"none":"block"},false,s);var h=this.$cXI("a_group",{id:this.target+"-cX-DataTable-Group-Image",className:b,src:"a_group",title:"Group data"},{display:this.groupingFactors.length?"block":"none"},false,s);var m=this.$cXI("at_col",{id:this.target+"-cX-DataTable-Color-Image",className:b,src:"at_col",title:"Color Data Table"},{display:this.graphType.match(/Correlation|Venn/)?"none":"block"},false,s);var e=this.$cXI("tb_stripped",{id:this.target+"-cX-DataTable-Stripe-Image",className:b,src:"tb_stripped",title:"Stripe Data Table"},false,false,s);var n=this.$cX("div",{className:"cX-DataTable-Toolbar-Spacer"},{height:s+"px",display:this.disableChat?"none":"block"});var g=this.$cXI("op_chat",{id:this.target+"-cX-DataTable-Chat-Image",className:b,src:"op_chat",title:"Chat with AI "},{display:(f||this.disableChat)?"none":"block"},false,s);k.appendChild(g);k.appendChild(n);k.appendChild(e);k.appendChild(m);k.appendChild(h);k.appendChild(v);k.appendChild(a);k.appendChild(u);k.appendChild(p);k.appendChild(r);k.appendChild(c);k.appendChild(l);k.appendChild(d);k.appendChild(j);k.appendChild(i);return k};this.Bk=function(j,a,i,m,c,d){var g=this.$cX("div",{id:this.target+"-cX-DataTable-Root",className:"cX-DataTable-Root"},{width:i+"px",height:(m-(c+d))+"px"});var f=this.$cX("div",{id:this.target+"-cX-DataTable-Header-Viewport",className:"cX-DataTable-Header-Viewport"},{width:a+(i-j)+"px",height:a+(m-(c+d+j))+"px"});var b=this.CF();var e=this.$cX("div",{id:this.target+"-cX-DataTable-Vertical-Scrollbar",className:"cX-DataTable-Vertical-Scrollbar"},{height:(m-(c+d+j))+"px"});var h=this.$cX("img",{id:this.target+"-cX-DataTable-Vertical-Scrollbar-Image",className:"cX-DataTable-Vertical-Scrollbar-Image",src:CanvasXpress.png,width:1,height:this.dataTablePaginationShow?(this.dataTablePaginationSize+1)*(this.dataTableRowHeight+1):this.dataTableTotalScrollHeight,title:"",alt:""});var l=this.$cX("div",{id:this.target+"-cX-DataTable-Horizontal-Scrollbar",className:"cX-DataTable-Horizontal-Scrollbar"},{width:(i-j)+"px"});var k=this.$cX("img",{id:this.target+"-cX-DataTable-Horizontal-Scrollbar-Image",className:"cX-DataTable-Horizontal-Scrollbar-Image",src:CanvasXpress.png,width:this.dataTableTotalScrollWidth,height:1,title:"",alt:""});f.appendChild(b);e.appendChild(h);l.appendChild(k);g.appendChild(f);g.appendChild(e);g.appendChild(l);return g};this.CF=function(){var e=this.$cX("table",{id:this.target+"-cX-DataTableTable",className:"cX-DataTable"});e.style.setProperty("border-collapse","collapse","important");var d=this.$cX("tbody",false,{});for(var c=0;c<this.dataTableMaxRows;c++){var b=this.$cX("tr",{className:"cX-DataTable-Row"});for(var a=0;a<this.dataTableMaxCols;a++){this.AB(b,c,a)}d.appendChild(b)}e.appendChild(d);return e};this.ef=function(g){var c=this.$cX("div",{id:this.target+"-cX-DataTable-Status",className:"cX-DataTable-Status"},{height:this.dataTableStatusShow?this.dataTableRowHeight+"px":"0px",display:this.dataTableStatusShow?"flex":"none",bottom:g+"px"});var f=this.$cX("div",{id:this.target+"-cX-DataTable-Status-Left",className:"cX-DataTable-Status-Left"});var b=this.td();var a=this.$cXI(b,{id:this.target+"-cX-DataTable-Pagination-Show-Hide-Image",className:"cX-DataTable-Pagination-Show-Hide-Image",src:b},{cursor:"pointer",marginLeft:"10px"},false,Math.max(0,Math.min(this.dataTableRowHeight-14,24)));var e=this.$cX("span",{id:this.target+"-cX-DataTable-Dimensions",className:"cX-DataTable-Dimensions",innerHTML:"Rows: 0 &nbsp;&nbsp; Cols: 0"});var d=this.$cX("div",{id:this.target+"-cX-DataTable-Status-Right",className:"cX-DataTable-Status-Right"});f.appendChild(a);f.appendChild(e);c.appendChild(f);c.appendChild(d);return c};this.xr=function(e){var y=this.$cX("div",{id:this.target+"-cX-DataTable-Pagination",className:"cX-DataTable-Pagination"},{height:this.dataTablePaginationShow?this.dataTableRowHeight+"px":"0px",display:this.dataTablePaginationShow?"flex":"none",bottom:e+"px"});var c=this.$cX("span",{id:this.target+"-cX-DataTable-Pagination-Size",className:"cX-DataTable-Pagination-Size"});var o=this.$cX("div",{className:"cX-DataTable-Pagination-Label",innerHTML:"Page Size:"});var z=this.$cX("select",{id:this.target+"-cX-DataTable-Pagination-Size-Select",className:"cX-DataTable-Pagination-Size-Select"});var a=[10,25,50,100];for(var x=0;x<a.length;x++){var v=this.$cX("option",{value:a[x],innerHTML:a[x],selected:(a[x]==this.dataTablePaginationSize?"selected":false)});z.appendChild(v)}c.appendChild(o);c.appendChild(z);var r=this.$cX("span",{id:this.target+"-cX-DataTable-Pagination-Rows",className:"cX-DataTable-Pagination-Rows"});var k=this.$cX("span",{id:this.target+"-cX-DataTable-Pagination-Rows-First",className:"cX-DataTable-Pagination-Label-Bold",innerHTML:"1"});var h=this.$cX("span",{className:"cX-DataTable-Pagination-Label",innerHTML:" to "});var g=this.$cX("span",{id:this.target+"-cX-DataTable-Pagination-Rows-Last",className:"cX-DataTable-Pagination-Label-Bold",innerHTML:this.dataTablePaginationSize});var f=this.$cX("span",{className:"cX-DataTable-Pagination-Label",innerHTML:" of "});var l=this.$cX("span",{id:this.target+"-cX-DataTable-Pagination-Rows-Total",className:"cX-DataTable-Pagination-Label-Bold",innerHTML:this.dataTableTotalRows-1});r.appendChild(k);r.appendChild(h);r.appendChild(g);r.appendChild(f);r.appendChild(l);var p=this.$cX("span",{id:this.target+"-cX-DataTable-Pagination-Controls",className:"cX-DataTable-Pagination-Controls"});var d=this.$cX("div",{id:this.target+"-cX-DataTable-Pagination-Control-First",className:"cX-DataTable-Pagination-Control-Disabled",innerHTML:"&laquo;"},{fontSize:"28px"});var b=this.$cX("div",{id:this.target+"-cX-DataTable-Pagination-Control-Prev",className:"cX-DataTable-Pagination-Control-Disabled",innerHTML:"&lsaquo;"},{fontSize:"28px"});var n=this.$cX("span",{className:"cX-DataTable-Pagination-Label"},{paddingTop:"5px"});var m=this.$cX("span",{className:"cX-DataTable-Pagination-Label",innerHTML:" Page "});var u=this.$cX("span",{id:this.target+"-cX-DataTable-Pagination-Current-Page",className:"cX-DataTable-Pagination-Label-Bold",innerHTML:"1"});var j=this.$cX("span",{className:"cX-DataTable-Pagination-Label",innerHTML:" of "});var s=this.$cX("span",{id:this.target+"-cX-DataTable-Pagination-Total-Pages",className:"cX-DataTable-Pagination-Label-Bold",innerHTML:Math.ceil((this.dataTableTotalRows-1)/this.dataTablePaginationSize)});var q=this.$cX("div",{id:this.target+"-cX-DataTable-Pagination-Control-Next",className:"cX-DataTable-Pagination-Control",innerHTML:"&rsaquo;"},{fontSize:"28px"});var w=this.$cX("div",{id:this.target+"-cX-DataTable-Pagination-Control-Last",className:"cX-DataTable-Pagination-Control",innerHTML:"&raquo;"},{fontSize:"28px"});n.appendChild(m);n.appendChild(u);n.appendChild(j);n.appendChild(s);p.appendChild(d);p.appendChild(b);p.appendChild(n);p.appendChild(q);p.appendChild(w);y.appendChild(c);y.appendChild(r);y.appendChild(p);return y};this.dm=function(){var d=this.$(this.target+"-cX-DataTable-Chat-Image");var f=this.$(this.target+"-cX-DataTable-DOE-Image");var h=this.$(this.target+"-cX-DataTable-Layout-Image");var a=this.$(this.target+"-cX-DataTable-Maximize-Minimize-Image");var b=this.$(this.target+"-cX-DataTable-Close-Image");var e=this.$(this.target+"-cX-DataTable-Toolbar-Show-Hide-Image");var g=this.$(this.target+"-cX-DataTable-Pagination-Show-Hide-Image");var i=this.graphType=="Network";var c=this.view=="layout"||this.view=="explore";var j=c||this.viewLast=="layout";if(d&&f&&h&&a&&b&&e&&g){d.style.display=j||this.dataTableMaximized||i||this.disableChat?"none":"block";f.style.display=j||i?"none":"block";h.style.display=j||this.dataTableMaximized||this.disableDataFilters?"none":"block";a.style.display=j?"none":"block";b.style.display=j?"none":"block";e.style.display=j||this.dataTableMaximized||this.disableToolbar?"none":"block";g.style.display=j||this.dataTableMaximized?"none":"block"}};this.WM=function(k){var i=this.$(this.target+"-cX-DataTable");var s=this.$(this.target+"-cX-DataTable-Horizontal-Scrollbar");var w=this.$(this.target+"-cX-DataTable-Vertical-Scrollbar");var x=this.$(this.target+"-cX-DataTable-Toolbar-Show-Hide-Image");var p=this.$(this.target+"-cX-DataTable-Save-Image");var g=this.$(this.target+"-cX-DataTable-Chat-Image");var e=this.$(this.target+"-cX-DataTable-DOE-Image");var v=this.$(this.target+"-cX-DataTable-Layout-Image");var m=this.$(this.target+"-cX-DataTable-Maximize-Minimize-Image");var r=this.$(this.target+"-cX-DataTable-Color-Image");var j=this.$(this.target+"-cX-DataTable-Group-Image");var f=this.$(this.target+"-cX-DataTable-Stripe-Image");var b=this.$(this.target+"-cX-DataTable-Search");var u=this.$(this.target+"-cX-DataTable-Filter-Reset-Image");var d=this.$(this.target+"-cX-DataTable-Network-Image");var y=this.$(this.target+"-cX-DataTable-Transpose-Image");var l=this.$(this.target+"-cX-DataTable-Close-Image");var h=this.$(this.target+"-cX-DataTable-Pagination-Show-Hide-Image");var o=this.$(this.target+"-cX-DataTable-Pagination-Size-Select");var c=this.$(this.target+"-cX-DataTable-Pagination-Control-First");var a=this.$(this.target+"-cX-DataTable-Pagination-Control-Prev");var n=this.$(this.target+"-cX-DataTable-Pagination-Control-Next");var q=this.$(this.target+"-cX-DataTable-Pagination-Control-Last");this.cI(k,i,"drop","dropDataTable",[],false);this.cI(k,i,"dragenter","dragEnterDataTable",[],false);this.cI(k,i,"dragover","dragOverDataTable",[],false);this.cI(k,i,"dragleave","dragLeaveDataTable",[],false);this.cI(k,i,"mousewheel","scrollDataTable",[],{passive:false});this.cI(k,s,"scroll","scrollTable",[],false);this.cI(k,w,"scroll","scrollTable",[],false);this.cI(k,x,"click","toggleDataTableToolbar",[],false);this.cI(k,p,"click","saveTable",[],false);this.cI(k,g,"click","toggleChatInterface",[],false);this.cI(k,e,"click","clickDOEDataTable",[],false);this.cI(k,v,"click","clickLayoutDataTable",[],false);this.cI(k,m,"click","toggleMaximizeView",[],false);this.cI(k,f,"click","stripeTable",[],false);this.cI(k,j,"click","groupTable",[],false);this.cI(k,r,"click","colorTable",[],false);this.cI(k,b,"search","clickResetSearchDataTable",[],false);this.cI(k,u,"click","filterResetTable",[],false);this.cI(k,d,"click","networkUpdateTable",[],false);this.cI(k,y,"click","transposeDataTable",[],false);this.cI(k,l,"click","hideDataTable",[],false);this.qm(k);this.cI(k,h,"click","toggleDataTablePagination",[],false);this.cI(k,o,"change","changeDataTablePageSize",[],false);this.cI(k,c,"click","firstDataTablePage",[],false);this.cI(k,a,"click","prevDataTablePage",[],false);this.cI(k,n,"click","nextDataTablePage",[],false);this.cI(k,q,"click","lastDataTablePage",[],false)};this.qm=function(c){var g=this;var m=this.dataTableMaxRows;var h=this.dataTableMaxCols;var a=this.target+"-cX-DataTable-Cell.";for(var n=0;n<h;n++){var j=a+"0."+n;var f=this.$(j);if(f&&f.firstElementChild){var d=f.firstElementChild;var e=d.firstElementChild;var i=e.nextSibling.nextSibling.nextSibling.firstElementChild;var l=i?i.nextSibling:null;if(d&&e&&i&&l){[d,e,i,l].forEach(function(p){p.setAttribute("data-menus","true");g.cI(c,p,"click",p.getAttribute("data-callback-click"),[],false)})}[f,d].forEach(function(p){p.setAttribute("data-menus","true");g.cI(c,p,"mousemove","mousemoveDataTableHeader",[],false);g.cI(c,p,"mousedown","mousedownDataTableHeader",[],false)})}}for(var k=1;k<m;k++){for(var n=0;n<h;n++){var b=a+k+"."+n;var o=this.$(b);if(o&&o.firstElementChild){var d=o.firstElementChild;g.cI(c,d,"click",d.getAttribute("data-callback-click"),[],false)}}}};this.rh=function(){this.WM("removeEvtListener");var a=this.$(this.target+"-cX-DataTable");if(a&&a.parentNode){a.parentNode.removeChild(a)}delete this.dataTableCache;a=null};this.BL=function(a){var f=this;this.Y6(a);var h=a.dataTransfer;var e=a.dataTransfer.getData("text/html");var b=a.dataTransfer.getData("text/uri-list");if(this.motioningOn||this.mousePositioning){this.cc(a);return false}else{if(h&&h.files.length>0){this.EA(h,false,false,false,true)}else{if(h&&b){var c=this.oy("-cX-data-url-");CanvasXpress.loadRemoteData(c,b,false,false,this.updateRemoteData)}else{if(e.match(/img.+src=.+png/)){var d=this.$cX("div");d.innerHTML=e;var g=d.firstElementChild.src;var i=function(){return function(j){var k=new FileReader();k.onloadend=function(){var l=f.PNGtoCX(this.result);f.F2(l)};k.readAsArrayBuffer(j)}}(this);t.br(g,false,i,"blob")}}}}this.className="cX-DataTable"};this.rM=function(c){var b=this.zL(c);if(b&&!this.motioningOn&&!this.mousePositioning){if(b.className&&b.className.match(/cX-DataTable/)){var a=this.$(this.target+"-cX-DataTable");if(a){a.className="cX-DataTable-Upload"}}this.Y6(c)}return false};this.Lp=function(c){var b=this.zL(c);if(b&&!this.motioningOn&&!this.mousePositioning){if(b.className&&b.className.match(/cX-DataTable/)){var a=this.$(this.target+"-cX-DataTable");if(a){a.className="cX-DataTable-Upload"}}this.Y6(c)}return false};this.uI=function(b){var a=this.$(this.target+"-cX-DataTable");if(a){a.className="cX-DataTable"}return false};this.g7=function(a){this.WI();this.Y6(a);var i=this.$(this.target+"-cX-DataTable-Horizontal-Scrollbar");var h=this.$(this.target+"-cX-DataTable-Vertical-Scrollbar");var c=this.dataTableScrollDirection.match(/auto|normal/)?true:false;var k=this.dataTableScrollDirection.match(/inverted/)?true:false;var d=100;var f=CanvasXpress.system.os;if(h&&i){if(a.wheelDeltaX!==0){var g=f.match(/Mac/);var e=f.match(/Windows/);var b=a.wheelDeltaX>0;if((g&&c)||(e&&k)){i.scrollLeft+=b?-d:d}else{i.scrollLeft+=b?d:-d}}if(a.wheelDeltaY!==0){var g=f.match(/Mac/);var e=f.match(/Windows/);var j=a.wheelDeltaY<0;if((g&&c)||(e&&k)){h.scrollTop+=j?d:-d}else{h.scrollTop+=j?-d:d}}}return false};this.GA=function(c){var i=this;var e=function(w,u,s){var n=0;var q=i.dataTableColPin.length+(i.dataTableRowNumbersShow?1:0);for(var p=0;p<u.length-q;p++){var v=p+q;var r=s.meta.cols[u[v]].width+4;var o=n+r;if(w.scrollLeft<o){return{pageIndex:p,pageScroll:n}}n=o}return{pageIndex:u.length-q,pageScroll:n}};var b=this.$(this.target+"-cX-DataTable");var k=this.$(this.target+"-cX-DataTable-Vertical-Scrollbar");var m=this.$(this.target+"-cX-DataTable-Horizontal-Scrollbar");if(b&&k&&m){var h=this.vJ();var j=h.data[0];var l=e(m,j,h);var d=l.pageIndex;var a=this.dataTablePaginationShow?this.dataTablePaginationSize:this.dataTableTotalRows;var g=Math.floor(k.scrollTop/(k.scrollHeight/a));var f=this.dataTablePaginationShow?this.dataTableCurrentPage*this.dataTablePaginationSize:0;if(this.dataTableStartCol!==d){this.dataTableStartCol=d;this.dataTableLastScrollLeft=l.pageScroll}this.dataTableCurrentScrollLeft=m.scrollLeft-(this.dataTableLastScrollLeft||0);if(this.dataTableStartRow!==g+f){this.dataTableStartRow=g+f;this.dataTableLastScrollTop=g*(this.dataTableRowHeight+1)}this.dataTableCurrentScrollTop=Math.max(0,k.scrollTop-(this.dataTableLastScrollTop||0));this.iU();return false}return false};this.Ec=function(b){this.WI();this.dataTableToolbarShow=!this.dataTableToolbarShow;var a=this.$(this.target+"-cX-DataTable-Toolbar");if(a){if(this.dataTableToolbarShow){a.className="cX-DataTable-Toolbar"}else{a.className="cX-DataTable-Toolbar-Zero"}a.style.display=this.dataTableToolbarShow?"flex":"none"}this.d2(this.width,this.height)};this.Q7=function(a){this.dataTableStartRow=0;this.dataTableStartCol=0;this.dataTableCurrentPage=0;this.by(a)};this.by=function(b){var c=this.$(this.target+"-cX-DataTable-Vertical-Scrollbar");if(c){c.scrollTop=0}this.dataTableCurrentScrollTop=0;this.dataTableLastScrollTop=0;var a=this.$(this.target+"-cX-DataTable-Horizontal-Scrollbar");if(a){a.scrollLeft=0}this.dataTableCurrentScrollLeft=0;this.dataTableLastScrollLeft=0};this.aE=function(a){this.WI();this.dataTableStriped=!this.dataTableStriped;this.iU()};this.CE=function(a){this.WI();if(this.PG()){this.dataTableGrouped=!this.dataTableGrouped;this.iU(false,true)}};this.LJ=function(a){this.WI();this.dataTableColored=!this.dataTableColored;this.iU()};this.G5=function(a){this.P9(a,"canvas");this.wY(a)};this.ki=function(a){return this.P9(a,"layout")};this.Gn=function(a){this.WI();this.nh(a);this.K2(a);this.iU(false,true);delete this.varIndicesFilter;delete this.smpIndicesFilter};this.Wb=function(b){var a=this.vJ();this.WI();this.JQ(a.data)};this.Fm=function(a){this.dataTableTransposed=!this.dataTableTransposed;this.tP()};this.CM=function(a){this.dataTableNetwork=this.dataTableNetwork=="nodes"?"edges":"nodes";this.tP()};this.DC=function(a){this.WI();this.dataTablePaginationShow=!this.dataTablePaginationShow;var b=this.$(this.target+"-cX-DataTable-Pagination");if(b){if(this.dataTablePaginationShow){b.className="cX-DataTable-Pagination"}else{b.className="cX-DataTable-Pagination-Zero"}b.style.display=this.dataTablePaginationShow?"flex":"none";b.style.height=this.dataTablePaginationShow?this.dataTableRowHeight+"px":"0px"}this.d2(this.width,this.height);this.iU(false,true)};this.fW=function(d){this.WI();var a=this.zL(d);var b=parseInt(a.value);this.dataTablePaginationSize=b;this.dataTableStartRow=0;this.dataTableStartCol=0;this.dataTableCurrentPage=0;var e=this.$(this.target+"-cX-DataTable-Vertical-Scrollbar");if(e){e.scrollTop=0}this.dataTableCurrentScrollTop=0;this.dataTableLastScrollTop=0;var c=this.$(this.target+"-cX-DataTable-Horizontal-Scrollbar");if(c){c.scrollLeft=0}this.dataTableCurrentScrollLeft=0;this.dataTableLastScrollLeft=0;this.wW();this.iU(false,true);return false};this.wJ=function(a){this.WI();this.dataTableCurrentPage=0;this.dataTableStartRow=0;this.wW();this.iU()};this.Eo=function(a){this.WI();this.dataTableCurrentPage=Math.max(0,Math.ceil(this.dataTableStartRow/this.dataTablePaginationSize)-1);this.dataTableStartRow=this.dataTableCurrentPage*this.dataTablePaginationSize;if(this.dataTableStartRow<0){this.dataTableStartRow=0}this.wW();this.iU()};this.MI=function(c){this.WI();this.dataTableCurrentPage=Math.max(0,this.dataTableCurrentPage+1);this.dataTableStartRow=this.dataTableCurrentPage*this.dataTablePaginationSize;var b=this.dataTableTotalRows-1;var a=Math.max(0,Math.floor((b-1)/this.dataTablePaginationSize)*this.dataTablePaginationSize);if(this.dataTableStartRow>a){this.dataTableStartRow=a;this.dataTableCurrentPage=Math.ceil(b/this.dataTablePaginationSize)-1}this.wW();this.iU()};this.wO=function(b){this.WI();var a=this.dataTableTotalRows-1;this.dataTableCurrentPage=Math.max(0,Math.ceil(a/this.dataTablePaginationSize)-1);this.dataTableStartRow=this.dataTableCurrentPage*this.dataTablePaginationSize;this.wW();this.iU()};this.wW=function(){var f=this.$(this.target+"-cX-DataTable-Pagination-Rows-First");var h=this.$(this.target+"-cX-DataTable-Pagination-Rows-Last");var e=this.$(this.target+"-cX-DataTable-Pagination-Rows-Total");var n=this.$(this.target+"-cX-DataTable-Pagination-Current-Page");var i=this.$(this.target+"-cX-DataTable-Pagination-Total-Pages");var m=this.$(this.target+"-cX-DataTable-Vertical-Scrollbar");if(f&&h&&e&&n&&i){if(m){m.scrollTop=0}this.dataTableCurrentScrollTop=0;this.dataTableLastScrollTop=0;var j=this.dataTableStartRow+1;var b=this.dataTableStartRow+this.dataTablePaginationSize;if(b>this.dataTableTotalRows-1){b=this.dataTableTotalRows-1}var d=this.dataTableTotalRows-1;var l=Math.ceil(d/this.dataTablePaginationSize);f.innerHTML=j;h.innerHTML=b;e.innerHTML=d;n.innerHTML=this.dataTableCurrentPage+1;i.innerHTML=l}var k=this.$(this.target+"-cX-DataTable-Pagination-Control-First");var g=this.$(this.target+"-cX-DataTable-Pagination-Control-Prev");var a=this.$(this.target+"-cX-DataTable-Pagination-Control-Next");var c=this.$(this.target+"-cX-DataTable-Pagination-Control-Last");if(k&&g&&a&&c){var l=Math.ceil((this.dataTableTotalRows-1)/this.dataTablePaginationSize);if(this.dataTableCurrentPage===0){k.className="cX-DataTable-Pagination-Control-Disabled";g.className="cX-DataTable-Pagination-Control-Disabled"}else{k.className="cX-DataTable-Pagination-Control";g.className="cX-DataTable-Pagination-Control"}if(this.dataTableCurrentPage>=l-1){a.className="cX-DataTable-Pagination-Control-Disabled";c.className="cX-DataTable-Pagination-Control-Disabled"}else{a.className="cX-DataTable-Pagination-Control";c.className="cX-DataTable-Pagination-Control"}}};this.xT=function(a){return this.P9(a,this.lastView==="layout"||this.lastView==="table"?"canvas":this.lastView)};this.cS=function(b,a){if(!a){this.GX(false,b)}else{this.dataTableMaxRows=10;this.dataTableMaxCols=25;this.dataTableStartRow=0;this.dataTableStartCol=0;this.dataTableTotalRows=null;this.dataTableTotalCols=null;this.sortDataTableHead=false;this.V0();delete this.dataTableLastWidth;delete this.dataTableLastHeight}};this.V0=function(){if(!this.dataTableColHideLastLength){this.dataTableColHideLastLength=0}var d=this.dataTableColHideLastLength!==this.dataTableColHide.length?true:false;var a=this.vJ(d);for(var b=0;b<this.dataTableColHide.length;b++){var c=this.dataTableColHide[b];if(a.meta.cols[c]){a.meta.cols[c].hidden=true}}this.dataTableColHideLastLength=this.dataTableColHide.length};this.tP=function(a){this.WI();this.dataTableStartRow=0;this.dataTableStartCol=0;this.dataTableTotalRows=null;this.dataTableTotalCols=null;this.sortDataTableHead=false;this.V0();if(a){this.sortDir="ascending";this.ww()}this.iU(false,true);this.IU()};this.Ya=function(q){var m=this.resizingDataTableColumnOn?this.dataTableColumnTarget:this.draggingDataTableColumnTarget?this.draggingDataTableColumnTarget:this.zL(q);var c=this.Ej(q,m);if(c){if(this.draggingDataTableColumn||this.isDraggingDataTableColumnOn){if(this.draggingDataTableColumn&&(Math.abs(c.x-this.xMouseDown)>5||Math.abs(c.y-this.yMouseDown)>5)){this.draggingDataTableColumn=false;this.isDraggingDataTableColumnOn=true;window.document.body.style.cursor="move";var f=m.firstElementChild.firstElementChild.nextSibling.innerText;this.dragGhost=this.$cX("div",{className:"cX-DataTable-Column-Drag-Ghost",innerHTML:"&#x21c6;&nbsp;&nbsp;&nbsp;"+f},{position:"absolute",zIndex:1000000,padding:"5px 10px",background:this.widgetsBackgroundColor,border:"1px solid "+this.fontWidgetsColor,borderRadius:"8px"});document.body.appendChild(this.dragGhost);var p=m.id.split(".");this.draggingDataTableColumnOriginalIndex=parseInt(p[2]);m.style.opacity=0.5}if(this.isDraggingDataTableColumnOn){if(this.dragGhost){this.dragGhost.style.left=q.pageX+5+"px";this.dragGhost.style.top=q.pageY-10+"px";this.dragGhost.style.pointerEvents="none"}var b=document.elementFromPoint(q.clientX,q.clientY);var h=b;while(h&&h.nodeName.toLowerCase()!=="th"){h=h.parentNode}if(h&&h.id&&h.id.includes("-cX-DataTable-Cell.0.")){this.draggingDataTableColumnTargetIndex=parseInt(h.id.split(".")[2])}else{this.draggingDataTableColumnTargetIndex=null}this.Y6(q);return false}}else{if(this.resizingDataTableColumnOn){var i=this.Kf();var r=m.firstElementChild;var d=r.firstElementChild.nextSibling.innerText;var p=this.dataTableColumnTarget.id.split(".");var s=parseInt(p[2]);var a=c.x-this.xMouseDown;var j=Math.max(50,i[d])+a;var o=CanvasXpress.stack[this.target].config;var g=this.$(this.target+"-cX-DataTable-Horizontal-Scrollbar-Image");if(g){r.style.width=j+"px";g.width+=a;for(var l=this.dataTableStartRow;l<this.dataTableStartRow+this.dataTableTotalRows;l++){var n=this.$(this.target+"-cX-DataTable-Cell."+l+"."+s);if(n&&n.firstElementChild){n.firstElementChild.style.width=j+"px"}}this.dataTableColProperties[d]=j;i[d]=j;if(!o.dataTableColProperties){o.dataTableColProperties={}}o.dataTableColProperties[d]=j;this.dr(i);this.xMouseDown=c.x;this.yMouseDown=c.y;window.document.body.style.cursor="col-resize"}}else{var k=(m.offsetLeft+m.clientWidth)-c.x;var e=k<5&&m.nodeName.toLowerCase()=="th";if(e){m.style.cursor="col-resize"}else{m.style.cursor=this.Xk(m,c)?"col-resize":"pointer"}}}}return false};this.La=function(c){if(this.isDraggingDataTableColumnOn){this.isDraggingDataTableColumnOn=false;window.document.body.style.cursor="default";if(this.dragGhost&&this.dragGhost.parentNode){this.dragGhost.parentNode.removeChild(this.dragGhost);this.dragGhost=null}if(this.draggingDataTableColumnTarget){this.draggingDataTableColumnTarget.style.opacity=1}var d=this.draggingDataTableColumnOriginalIndex+this.dataTableStartCol;var g=this.draggingDataTableColumnTargetIndex+this.dataTableStartCol;if(d!=null&&g!=null&&d!==g){var a=this.vJ();var h=a.data[0];var b=this.dataTableColPin.length+(this.dataTableRowNumbersShow?1:0);if(d>=b&&g>=b){var f=h.slice();var e=f.splice(d,1)[0];f.splice(g,0,e);if(this.dataTableRowNumbersShow){f.shift()}this.dataTableColOrder=f;this.iU(false,true)}}this.draggingDataTableColumn=false;this.draggingDataTableColumnTarget=null;this.draggingDataTableColumnOriginalIndex=null;this.draggingDataTableColumnTargetIndex=null;this.Y6(c);return false}else{if(this.draggingDataTableColumn){this.draggingDataTableColumn=false}}return true};this.Fx=function(f){var a=this.zL(f);if(!a){return false}var e=this.Ej(f,a);var g=a.nodeName.toLowerCase();var d=g=="th"?"resize":"drag";var c=this.Xk(a,e);var b=a.parentNode.id.match(/-cX-DataTable-Cell.0./);if(e){if(d==="resize"&&c){this.dataTableColumnTarget=a;this.xMouseDown=e.x;this.yMouseDown=e.y;this.resizingDataTableColumnOn=true;window.document.body.style.cursor="col-resize"}else{if(g=="div"&&b){this.draggingDataTableColumn=true;this.xMouseDown=e.x;this.yMouseDown=e.y;this.draggingDataTableColumnTarget=a.parentNode;this.Y6(f)}}}return false};this.Xk=function(b,a){var c=CanvasXpress.system.isIE?10:5;var d=(b.offsetLeft+b.offsetWidth)-a.x;return d<c&&(b.nodeName.toLowerCase()=="th"||(CanvasXpress.system.isIE&&b.parentNode&&b.parentNode.nodeName.toLowerCase()=="th"))};this.Vc=function(){var e=this.vJ();var a=this.dataTableTransposed?"T":"F";if(!this.dataTableOriginalOrder){this.dataTableOriginalOrder={T:[],F:[]}}var d;var f=0;if(this.dataTableColOrder.length){d=this.dataTableColOrder}else{d=this.dataTableOriginalOrder[a].length?this.dataTableOriginalOrder[a]:e.data[0];f=1}var c=[];for(var b=f;b<d.length;b++){c.push([d[b],!e.meta.cols[d[b]]||e.meta.cols[d[b]].hidden?"sl_checkboxoff":"sl_checkboxon","hideUnhideDataTableColumn",[d[b]]])}if(!this.dataTableOriginalOrder[a].length){if(!this.dataTableOriginalOrder[a].length){for(var b=0;b<d.length;b++){this.dataTableOriginalOrder[a].push(d[b])}}}return c};this.l3=function(b,d){var a,c,f,e,g;if(this.graphType=="Network"){a=this.dataTableNetwork;g=this.meta.data[this.dataTableNetwork];if(d=="Nodes"||d=="Edges"){c="String"}else{c=g[d]?g[d].type:"String"}}else{g=this.meta.data;switch(b){case"cxv":e=this.tU(d);a="variable";c=e<0?"String":"Numeric";break;case"cxx":a="sample";g=g.x;c=g[d]?g[d].type:"String";f=g[d]?g[d].date:false;break;case"cxs":e=this.yV(d);a="sample";c=e<0?"String":"Numeric";break;case"cxz":a="variable";g=g.z;c=g[d]?g[d].type:"String";f=g[d]?g[d].date:false;break;case"cxb":a=this.dataTableTransposed?"sample":"variable";c="String";d=this.dataTableTransposed?"smps":"vars";break;default:return false}}var h;if(c=="String"){h=this.Ck(a,d,false,true)}else{if(f){h=this.ys(a,d,false,250)}else{h=this.t8(a,d,false,250)}}return[["-filter-",h]]};this.vr=function(c){var k=this.zL(c);if(!k||this.noSorting){return false}var n=k.parentNode.parentNode.parentNode;var e=n.firstElementChild.type;var d=n.firstElementChild.href?true:false;var h=n.firstElementChild.firstElementChild.nextSibling.innerText;if(d){var a=this.vJ();for(var g in a.meta.cols){if(g.match(n.firstElementChild.href)){h=g;break}}}if(this.skipHeaderMouseout&&this.skipHeaderMouseout.id==n.id){delete this.skipHeaderMouseout;this.WI();return false}else{if(this.graphType.match(/Correlation|Venn|Genome/)){delete this.skipHeaderMouseout;this.WI();return false}}var b=this.l3(e,h);var f=k.getBoundingClientRect();var j=this.$(this.target+"-cX-DataTable").getBoundingClientRect();var m=(f.x-j.x)+f.width;var l=(f.y-j.y)+f.height/2;this.WI();this.De(c,false,false,b,m,l,n);this.skipHeaderMouseout=n};this.hx=function(a){var g=this.zL(a);if(!g||this.noSorting){return false}var j=g.parentNode.parentNode;var e=g.parentNode.firstElementChild.nextSibling.innerText;var c=g.parentNode.className.match(/Number/i);if(this.skipHeaderMouseout&&this.skipHeaderMouseout.id==j.id){this.WI();delete this.skipHeaderMouseout;return false}var b=[];b.push(["Sort Ascending","sr_azi","clickDataTableHeaderSortMenu",[a,g,"asc"]]);b.push(["Sort Descending","sr_zad","clickDataTableHeaderSortMenu",[a,g,"desc"]]);b.push(["Reset Sort","v_zzz","clickDataTableHeaderSortMenu",[a,g,"none"]]);b.push(["-"]);if(this.dataTableColPin.indexOf(e)!=-1){b.push(["Unpin Column","fp_pinremove","clickDataTableHeaderPinUnpin",[e]])}else{b.push(["Pin Column","fp_pin","clickDataTableHeaderPinUnpin",[e]])}b.push(["-"]);if(!c){b.push(["Align Left","chte_alignleft","clickDataTableHeaderAlignMenu",[a,g,"left"]]);b.push(["Align Center","chte_aligncenter","clickDataTableHeaderAlignMenu",[a,g,"center"]]);b.push(["Align Right","chte_alignright","clickDataTableHeaderAlignMenu",[a,g,"right"]])}else{b.push(["Format - sprintf","tx_format",false,false,false,"changeTextColorAttributeMenu",["-text-",g]])}b.push(["-"]);b.push(["Choose Columns","tb_table",false,false,false,"getColumnsDataTableHeaderMenu",[]]);b.push(["Reset Columns","v_zzz","getAllColumnsDataTableHeaderMenu",[]]);var d=g.getBoundingClientRect();var f=this.$(this.target+"-cX-DataTable").getBoundingClientRect();var i=(d.x-f.x)+d.width;var h=(d.y-f.y)+d.height/2;this.De(a,false,false,b,i,h,j);this.skipHeaderMouseout=j};this.MW=function(d,c){var b=d[0].nextSibling.innerText;var e=this.$(c);if(!b||!e){return}var a=e.value;this.WI();this.dataTableColFormat[b]=a;this.iU()};this.Mm=function(){var a=this.dataTableColHide.length;if(a){this.dataTableMaxCols+=a;this.dataTableColHide=[]}this.iU(false,a)};this.ZA=function(g,d,c){var b=d.tagName&&d.tagName.match(/th/i)?d:false;while(!b){d=d.parentNode;if(d==null){d=this.$(this.sortDataTableHead)}b=d.tagName.match(/th/i)?d:false}var e=b.firstElementChild;var a=e.type;this.sortDataTableHead=e.id;if(a=="cyn"){return false}else{var f=e.firstElementChild.nextSibling.innerText;this.dataTableColAlignment[f]=c;this.iU()}};this.vt=function(a,f,i){var h=f.tagName&&f.tagName.match(/th/i)?f:false;while(!h){f=f.parentNode;if(f==null){f=this.$(this.sortDataTableHead)}h=f.tagName.match(/th/i)?f:false}var g=h.firstElementChild;var b=g.type;var d=g.firstElementChild.nextSibling.innerText;if(b=="cyn"){return false}else{if(i){this.sortDir=i=="desc"?"descending":"ascending"}else{if(this.sortDataTableHead){var e=this.$(this.sortDataTableHead);var c=this.sortDir=="ascending"?"desc":"asc";if(e&&c){if(e.id==g.id){if(c=="desc"){i="none"}else{i=c}}else{i="desc"}}else{i="desc"}}else{i="desc"}}}this.sortDataTableHead=g.id;delete this.dataTableCache;if(i=="none"){delete this.sortDataTableHead;this.sortDir="ascending";this.V5();this.WI()}else{this.yN(a,d,b,i)}return{text:d,type:"table-column"}};this.vR=function(b){var a=this.dataTableColPin.indexOf(b);if(a!=-1){this.dataTableColPin.splice(a,1)}else{this.dataTableColPin.push(b)}this.WI();this.iU(false,true)};this.PM=function(c){var b=this.zL(c);if(!b||this.noSorting){return false}var a=this.vt(c,b);if(this.userEvents.click){this.userEvents.click(a,c,this)}};this.qf=function(b){var h=this.zL(b).parentNode;var a=h.firstElementChild;var j=h.id.split(".");var g=h.parentNode.firstElementChild.firstElementChild.firstElementChild.innerText;var c=this.$([j[0],0,j[2]].join("."));var d=h.tagName.toLowerCase();var f="y";var k=a.lastChild.innerText;var i=a.getElementsByTagName("svg")[0];if(d=="th"){var e=h.getAttribute("data-id").split("-");this.dataTableRowActive=e[0];this.Ox("all");h.parentNode.className+="-Active";j[1]=0;c=this.$(j.join("."));if(c&&c.firstElementChild&&c.firstElementChild.title){c=c.firstElementChild.title}}else{var e=h.getAttribute("data-id");this.dataTableCellActive=e;this.Ox("cell");a.className+="-Active";if(a.type&&a.type=="cxx"||a.type=="cxz"){if(this.dataTableTransposed){if(a.type=="cxx"){f="x";j[1]=0}else{f="z";j[2]=0}}else{if(a.type=="cxx"){f="x";j[2]=0}else{f="z";j[1]=0}}if(c&&c.firstElementChild&&c.firstElementChild.title){c=c.firstElementChild.title;this.U2(f,c,k);if(this.dataTableGrouped&&i){if(this.dataTableRowGroups.indexOf(k)===-1){this.dataTableRowGroups.push(k)}else{this.dataTableRowGroups.splice(this.dataTableRowGroups.indexOf(k),1)}this.iU(false,true)}if(a.href){window.open(a.href,"_blank")}}}}if(this.userEvents.click){if(d=="th"){this.userEvents.click({text:k,type:"table-row",row:g,column:c},b,this)}else{this.userEvents.click({text:k,type:"table-cell",row:g,column:c},b,this)}}};this.Ox=function(b){if(b=="row"||b=="all"){var c=document.getElementsByClassName("cX-DataTable-Row-Active");if(c.length>0){c[0].className=c[0].className.replace("cX-DataTable-Row-Active","cX-DataTable-Row")}this.dataTableRowActive=null}if(b=="cell"||b=="all"){var a=document.getElementsByClassName("cX-DataTable-Cell-Active");if(a.length>0){a[0].className=a[0].className.replace("cX-DataTable-Cell-Active","cX-DataTable-Cell")}else{a=document.getElementsByClassName("cX-DataTable-Cell-Number-Active");if(a.length>0){a[0].className=a[0].className.replace("cX-DataTable-Cell-Number-Active","cX-DataTable-Cell-Number")}else{a=document.getElementsByClassName("cX-DataTable-Cell-Link-Active");if(a.length>0){a[0].className=a[0].className.replace("cX-DataTable-Cell-Link-Active","cX-DataTable-Cell-Link")}}}this.dataTableCellActive=null}};this.XC=function(a){if(this.dataTableColHide.indexOf(a)!=-1){this.dataTableColHide.splice(this.dataTableColHide.indexOf(a),1);this.dataTableMaxCols++}else{this.dataTableColHide.push(a);this.dataTableMaxCols--}this.iU(false,true)};this.rR=function(b){var a=this.vJ(b);var g=a.data[0];this.dataTableTotalRows=a.meta.totalRows;this.dataTableTotalCols=a.meta.totalCols;this.dataTableTotalHeight=a.meta.totalHeight;this.dataTableTotalWidth=a.meta.totalWidth;this.dataTableTotalScrollWidth=a.meta.totalScrollWidth+1;this.dataTableTotalScrollHeight=a.meta.totalScrollHeight+1;this.sh();this.dataTableRowsHeight=0;for(var e=this.dataTableStartRow;e<this.dataTableStartRow+this.dataTableMaxRows;e++){this.dataTableRowsHeight+=this.dataTableRowHeight}this.dataTableColsWidth=0;var f=Math.min(this.dataTableMaxCols+this.dataTableStartCol,a.meta.totalCols);var d=this.dataTableRowNumbersShow?1:0;var k=this.dataTableStartCol;for(var c=0;c<f;c++){var h=c>d?k:c;if(h>=f){break}if(a.meta.cols[g[h]]){this.dataTableColsWidth+=a.meta.cols[g[h]].width;k++}}if(b){this.$(this.target+"-cX-DataTable-Horizontal-Scrollbar-Image").style.width=this.dataTableTotalScrollWidth+"px";if(this.dataTablePaginationShow){this.$(this.target+"-cX-DataTable-Vertical-Scrollbar-Image").style.height=Math.min(this.dataTableTotalScrollHeight,(this.dataTablePaginationSize+1)*(this.dataTableRowHeight+1))+"px"}else{this.$(this.target+"-cX-DataTable-Vertical-Scrollbar-Image").style.height=this.dataTableTotalScrollHeight+"px"}this.cS(true)}};this.q0=function(b){if(this.graphType=="Network"){var h=b||this.data;var c=[];var g=[];var f=this.sZ(this.dataTableNetwork,true);var e=this.Nv(f).length;switch(this.dataTableNetwork){case"nodes":for(var d in f){if(d=="id"){for(var a=0;a<h[this.dataTableNetwork].length;a++){c.push(h[this.dataTableNetwork][a].id)}g.push(d)}else{g.push(d)}}break;case"edges":for(var d in f){if(d=="id1"){for(var a=0;a<h[this.dataTableNetwork].length;a++){c.push(h[this.dataTableNetwork][a].id1+"::"+h[this.dataTableNetwork][a].id2)}g.push(d)}else{g.push(d)}}break}return[f,e,c,g]}else{return false}};this.ML=function(c){var a=0;c=c||this.data;if(!c.venn.indices){c.venn.indices=[];for(var b in c.venn.data){c.venn.indices[b]=a++}}var d=Object.keys(c.venn.data);d=d.sort(function(f,e){return c.venn.indices[f]-c.venn.indices[e]});return d};this.sh=function(){var c=this.$(this.target+"-cX-DataTable-Root");if(c){var a=this.vJ();var l=a.data[0];var d=0;var b=0;var g=this.dataTableColPin.length+(this.dataTableRowNumbersShow?1:0);for(var h=0;h<g;h++){if(h<this.dataTableTotalCols){d+=a.meta.cols[l[h]].width;b++}}for(var h=g;h<this.dataTableTotalCols;h++){d+=a.meta.cols[l[h]].width;b++;if(d>parseInt(c.style.width)){break}}b+=5;this.dataTableMaxCols=Math.max(2,Math.min(b,this.dataTableTotalCols,60));var e=1;var f=0;for(var k=0;k<this.dataTableTotalRows;k++){e+=this.dataTableRowHeight;f++;if(parseInt(c.style.height)<e){break}}f+=5;this.dataTableMaxRows=Math.max(2,Math.min(f,this.dataTableTotalRows,40))}};this.IU=function(a){this.sh();this.iU(false,!a)};this.dE=function(c){var f=this;if(c=="No"){var e=Object.keys(this.data.venn.data);e=e.sort(function(h,g){if(f.sortDir=="ascending"){return f.data.venn.data[h]-f.data.venn.data[g]}else{return f.data.venn.data[g]-f.data.venn.data[h]}});for(var d=0;d<e.length;d++){this.data.venn.indices[e[d]]=d}}else{var b=0;var a=Object.keys(this.data.venn.data).length;for(var d in this.data.venn.data){if(this.sortDir=="descending"){this.data.venn.indices[d]=b++}else{this.data.venn.indices[d]=--a}}}};this.yN=function(e,c,a,d){this.lastSortedColumn=c;if(this.graphType=="Network"){if(this.dataTableTransposed){if(a=="cxb"){this.sortDataTableHead=false;return}else{this.Kp(c)}}else{this.sortDataTableHead=false;return}}else{if(this.graphType=="Genome"){this.sortDataTableHead=false;return}else{if(this.graphType=="Venn"){this.sortDataTableHead=false;this.dE(c)}else{if(this.graphType=="Correlation"){if(this.correlationAxis=="samples"){if(a=="cxb"){this.QW()}else{this.QW(false,false,c,"cor");this.sortDataTableHead=false}}else{if(a=="cxb"){this.Ca()}else{this.Ca(false,false,c,"cor");this.sortDataTableHead=false}}}else{if(this.data.y.vars&&this.data.y.smps){var b=this.view=="table";if(!e.ctrlKey){this.sortingSampleCategories=[];this.sortingVariables=[]}if(this.dataTableTransposed){if(a=="cxx"){this.BF("cat","smp",c,b)}else{if(a=="cxv"){this.BF("var","smp",c,b)}else{if(a=="cxb"){this.BF("samples","smp","samples",b)}}}}else{if(!e.ctrlKey){this.sortingVariableCategories=[];this.sortingSamples=[]}if(a=="cxz"){this.BF("cat","var",c,b)}else{if(a=="cxs"){this.BF("smp","var",c,b)}else{if(a=="cxb"){this.BF("variables","var","variables",b)}}}}}}}}}this.iU();this.sortDir=d=="desc"?"descending":"ascending"};this.V5=function(){if(this.graphType=="Network"){}else{if(this.graphType=="Venn"){var a=0;for(var b in this.data.venn.data){this.data.venn.indices[b]=a++}}else{if(this.graphType=="Correlation"){if(this.correlationAxis=="samples"){this.smpIndices=this.smpIndices.sort(function(d,c){return d-c})}else{this.varIndices=this.varIndices.sort(function(d,c){return d-c})}}else{if(this.data.y.vars&&this.data.y.smps){if(this.dataTableTransposed){this.smpIndices=this.smpIndices.sort(function(d,c){return d-c})}else{this.varIndices=this.varIndices.sort(function(d,c){return d-c})}}}}}this.iU();this.sortDataTableHead=false;this.x9({func:"unsortDataTable",par:[]})};this.oN=function(a){if(this.graphType=="Network"){return this.cb(a)}else{if(this.graphType=="Venn"){return this.sD(a)}else{if(this.graphType=="Correlation"){return this.Mo(a)}else{if(this.data.y&&this.data.y.vars&&this.data.y.smps){return this.WG(a)}else{return{data:[["Id","Col"],["Row",NaN]],meta:{rows:{Row:{}},cols:{Col:{}},colr:[["String","Numeric"],[false,false]],type:[["c_canvasxpress","cxs"],["cxv","cxy"]]}}}}}}};this.vJ=function(a){if(this.dataTableCache&&!a){return this.dataTableCache}var v;if(this.graphType=="Network"){v=this.cb()}else{if(this.graphType=="Venn"){v=this.sD()}else{if(this.graphType=="Correlation"){v=this.Mo()}else{if(this.data.y&&this.data.y.vars&&this.data.y.smps){if(this.dataTableGrouped){v=this.sz()}else{v=this.WG()}}else{v={data:[["Id","Col"],["Row",NaN]],meta:{rows:{Row:{}},cols:{Col:{}},colr:[["String","Numeric"],[false,false]],type:[["c_canvasxpress","cxs"],["cxv","cxy"]],date:[]}}}}}}if(!this.dataTableTransposed){v.data=this.nG(v.data);v.meta.type=this.nG(v.meta.type);v.meta.colr=this.nG(v.meta.colr)}var f=[];for(var u=0;u<this.dataTableColPin.length;u++){var w=this.dataTableColPin[u];var m=v.data[0].indexOf(w);if(m!=-1){f.push(w)}}if(f.length>0){var l=[];for(var u=0;u<f.length;u++){l.push(f[u])}if(this.dataTableColOrder.length>0){for(var q=0;q<this.dataTableColOrder.length;q++){var o=this.dataTableColOrder[q];if(f.indexOf(o)==-1){l.push(o)}}}this.dataTableColOrder=l}if(this.dataTableColOrder.length>0){var e=[];var p=[];var y=[];var s=v.data[0];var z={};for(var u=0;u<s.length;u++){z[s[u]]=u}for(var q=0;q<this.dataTableColOrder.length;q++){var o=this.dataTableColOrder[q];if(z.hasOwnProperty(o)){var k=z[o];for(var n=0;n<v.data.length;n++){if(!e[n]){e[n]=[];p[n]=[];y[n]=[]}e[n].push(v.data[n][k]);p[n].push(v.meta.type[n][k]);y[n].push(v.meta.colr[n][k])}}}for(var u=0;u<s.length;u++){var o=s[u];if(this.dataTableColOrder.indexOf(o)===-1){var k=z[o];for(var n=0;n<v.data.length;n++){if(!e[n]){e[n]=[];p[n]=[];y[n]=[]}e[n].push(v.data[n][k]);p[n].push(v.meta.type[n][k]);y[n].push(v.meta.colr[n][k])}}}v.data=e;v.meta.type=p;v.meta.colr=y}if(this.dataTableRowNumbersShow){for(var u=0;u<v.data.length;u++){v.data[u].unshift(u);v.meta.type[u].unshift("cyn");v.meta.colr[u].unshift(false)}v.data[0][0]="Row";v.meta.colr[0][0]="Numeric"}if(this.dataTableColHide.length>0){for(var u=0;u<this.dataTableColHide.length;u++){var w=this.dataTableColHide[u];var m=v.data[0].indexOf(w);if(m!=-1){for(var n=0;n<v.data.length;n++){v.data[n].splice(m,1);v.meta.type[n].splice(m,1);v.meta.colr[n].splice(m,1)}}}}var g=this.Kf(v.data,a);var b=0;var x=1;var d=0;for(var w in g){if(!v.meta.cols[w]){v.meta.cols[w]={}}v.meta.cols[w].width=g[w];b+=g[w];v.meta.cols[w].scroll=b+(x*4);if(this.dataTableRowNumbersShow&&x<=this.dataTableColPin.length+1){d+=g[w]+4}else{if(x<=this.dataTableColPin.length){d+=g[w]+4}}x++}v.meta.pinnedColsWidth=d;v.meta.totalRows=v.data.length;v.meta.totalCols=v.data[0].length;v.meta.totalWidth=b;v.meta.totalHeight=(v.data.length*this.dataTableRowHeight);v.meta.totalScrollWidth=(b+(v.data[0].length*4));v.meta.totalScrollHeight=(v.data.length*(this.dataTableRowHeight+1));var h=this.meta.data;for(var u in v.meta.cols){if(!this.dataTableTransposed&&h.x&&h.x.hasOwnProperty(u)){v.meta.cols[u].meta=h.x[u]}else{if(h.z&&h.z.hasOwnProperty(u)){v.meta.cols[u].meta=h.z[u]}}}this.dataTableCache=v;return v};this.dr=function(b){if(!this.dataTableCache){return}var a=0;for(var d in b){if(this.dataTableCache.meta.cols[d]){this.dataTableCache.meta.cols[d].width=b[d]}a+=b[d]}this.dataTableCache.meta.totalWidth=a};this.cb=function(c){var u=c||this.data;var j=this.meta.data[this.dataTableNetwork];var s=[];var b=[];var d=[];var g=[];var o=[];var r=[];var k=this.Nv(j);g.push(this.Y5(this.dataTableNetwork));o.push("cxb");r.push("String");for(var p=0;p<k.length;p++){if(k[p]=="id"){continue}g.push(k[p]);o.push("cxx");r.push(j[k[p]].type)}s.push(g);b.push(o);d.push(r);var h=this.dataTableNetwork=="nodes"?u.nodes:u.edges;var f=this.dataTableNetwork=="nodes"?Object.values(u.nodeIndices):Array.apply(null,h).map(function(n,w){return w});for(var l=0;l<f.length;l++){var a=h[f[l]];if(a.hide){continue}g=[];o=[];r=[];g.push(a.id);o.push("cxz");r.push(false);for(var p=0;p<k.length;p++){if(k[p]=="id"){continue}var e=j[k[p]].type;var m=a[k[p]];var q=e.match(/String|Object/)?j[k[p]].colors[j[k[p]].order[m]]:this.PW(j[k[p]].colorBrew,m);g.push(m||"");o.push("cxy");r.push(q)}s.push(g);b.push(o);d.push(r)}return{data:s,meta:{rows:{},cols:{},colr:d,type:b,date:[]}}};this.sD=function(d){var g=this;var h=d||this.data;var c=[];var f=[];var a=[];c.push(["Compartment","Number"]);f.push(["cxb","cxz"]);a.push(["String","Numeric"]);var e=Object.keys(this.data.venn.data);e=e.sort(function(j,i){return g.data.venn.indices[j]-g.data.venn.indices[i]});for(var b=0;b<e.length;b++){c.push([e[b],h.venn.data[e[b]]]);f.push(["cxx","cxy"]);a.push([false,false])}return{data:c,meta:{rows:{},cols:{},colr:a,type:f,date:[]}}};this.Mo=function(e){var k=e||this.data;var m=[];var c=[];var a=[];var l=[];var q=[];var b=[];var d=this.correlationAxis=="samples"?k.y.smps:k.y.vars;var p=this.correlationAxis=="samples"?this.smpIndices:this.varIndices;var h=this.correlationAxis=="samples"?"cxs":"cxv";l.push(this.Y5(this.correlationAxis));q.push("cxb");b.push("String");for(var g=0;g<p.length;g++){l.push(d[p[g]]);q.push(h);b.push(false)}m.push(l);c.push(q);a.push(b);for(var g=0;g<p.length;g++){l=[];q=[];b=[];l.push(d[p[g]]);q.push(h);b.push(false);for(var f=0;f<p.length;f++){var o=k.y.cor?k.y.cor[p[g]][p[f]]:p[g]==p[f]?1:k.y.data[p[g]][p[f]];var n=this.PW(this.meta.def.colorBrew,o);l.push(o);q.push("cxy");b.push(n)}m.push(l);c.push(q);a.push(b)}return{data:m,meta:{rows:{},cols:{},colr:a,type:c,date:[]}}};this.WG=function(c){var x=c||this.data;var n=this.meta.data;var l=x.x?Object.keys(x.x):false;var h=x.z?Object.keys(x.z):false;var f=!c?this.varIndices:Array.apply(null,{length:x.y.vars.length}).map(function(j,y){return y});var g=!c?this.smpIndices:Array.apply(null,{length:x.y.smps.length}).map(function(j,y){return y});var k=f.length==1&&this.data.y.vars.includes("counts")&&this.QL("counts");var w=[];var b=[];var d=[];var m=[];var q=[];var v=[];m.push(this.dataTableZeroHeader||"Id");q.push("cxb");v.push("String");if(x.x){for(var s=0;s<l.length;s++){m.push(l[s]);q.push("cxx");v.push(n.x[l[s]].type)}}if(!k){for(var s=0;s<f.length;s++){m.push(x.y.vars[f[s]]);q.push("cxv");v.push(false)}}w.push(m);b.push(q);d.push(v);if(x.z){for(var s=0;s<h.length;s++){var o=h[s];var a=n.z[o];var m=[o];var q=["cxz"];var v=[a.type];if(this.dataTableTransposed){if(x.x){for(var r=0;r<l.length;r++){m.push("");q.push("cxb");v.push(false)}}}for(var r=0;r<f.length;r++){var p=this.Mk(f[r],"z",o,true);var u=a.type.match(/String|Object/)?a.colors[a.order[p]]:this.PW(a.colorBrew,p);m.push((p!=null?p:"").toString());q.push("cxz");v.push(u)}w.push(m);b.push(q);d.push(v)}}for(var s=0;s<g.length;s++){m=[x.y.smps[g[s]]];q=["cxs"];v=[false];if(x.x){for(var r=0;r<l.length;r++){var e=n.x[l[r]].type;var p=this.Mk(g[s],"x",l[r],true);var u=e.match(/String|Object/)?n.x[l[r]].colors[n.x[l[r]].order[p]]:this.PW(n.x[l[r]].colorBrew,p);m.push(p!=null?p.toString():p||"");q.push("cxx");v.push(u)}}if(!k){for(var r=0;r<f.length;r++){var p=x.y.data[f[r]][g[s]];m.push(isNaN(p)?"":(p||""));q.push("cxy");v.push(this.PW(false,p))}}w.push(m);b.push(q);d.push(v)}return{data:w,meta:{rows:{},cols:{},colr:d,type:b}}};this.sz=function(b){var D=b||this.data;var o=this.meta.data;var h=D.x?Object.keys(D.x):false;var n=D.w;var e=!b?this.varIndices:Array.apply(null,{length:D.y.vars.length}).map(function(j,k){return k});var u=!b?this.grpIndices:Array.apply(null,{length:n.grps.length}).map(function(j,k){return k});var g=e.length==1&&this.data.y.vars.includes("counts")&&this.QL("counts");var C=[];var a=[];var c=[];var m=[];var r=[];var z=[];var A=[];for(var x=0;x<this.groupingFactors.length;x++){m.push(this.groupingFactors[x]);r.push("cxx");z.push(o.x[this.groupingFactors[x]].type)}m.push(this.dataTableZeroHeader||"Id");r.push("cxb");z.push("String");if(D.x){for(var x=0;x<h.length;x++){if(this.groupingFactors.indexOf(h[x])==-1){m.push(h[x]);r.push("cxx");z.push(o.x[h[x]].type)}}}for(var x=0;x<e.length;x++){m.push(D.y.vars[e[x]]);r.push("cxv");z.push(false)}C.push(m);a.push(r);c.push(z);for(var x=0;x<u.length;x++){var l=u[x];m=[];r=[];z=[];for(var w=0;w<this.groupingFactors.length;w++){var B=this.groupingFactors[w];m.push(n.factors[B][l]);r.push("cxx");z.push(o.x[B].type)}m.push("Group-"+(l+1));r.push("cxs");z.push("String");if(D.x){for(var v=0;v<h.length;v++){if(this.groupingFactors.indexOf(h[v])==-1){var d=o.x[h[v]].type;var q=n.factors[h[v]][l];var y=d.match(/String/)?this.white:this.PW(o.x[h[v]].colorBrew,q);m.push(q!=null?q.toString():q||"");r.push("cxx");z.push(y)}}}for(var v=0;v<e.length;v++){var q=this.Cb(e[v],l,g?"n":this.graphType=="Boxplot"?"median":"mean");m.push(isNaN(q)?"":(q||""));r.push("cxy");z.push(this.PW(false,q))}C.push(m);a.push(r);c.push(z);A.push(true);if(this.dataTableRowGroups.length>0&&this.dataTableRowGroups.indexOf(n.smps[l].replace("\x00",""))!==-1){for(var p=0;p<n.grps[l].length;p++){var f=n.grps[l][p];m=[];r=[];z=[];for(var w=0;w<this.groupingFactors.length;w++){m.push("");r.push("cxb");z.push(false)}m.push(D.y.smps[f]);r.push("cxs");z.push(false);if(D.x){for(var v=0;v<h.length;v++){if(this.groupingFactors.indexOf(h[v])==-1){var d=o.x[h[v]].type;var q=this.Mk(f,"x",h[v],true);var y=d.match(/String/)?o.x[h[v]].colors[o.x[h[v]].order[q]]:this.PW(o.x[h[v]].colorBrew,q);m.push(q!=null?q.toString():q||"");r.push("cxx");z.push(y)}}}for(var v=0;v<e.length;v++){var q=D.y.data[e[v]][f];m.push(isNaN(q)?"":(q||""));r.push("cxy");z.push(this.PW(false,q))}C.push(m);a.push(r);c.push(z);A.push(false)}}}return{data:C,meta:{rows:{isGroupData:A},cols:{},colr:c,type:a}}};this.iU=function(d,e,a,c){var k=this.$(this.target+"-cX-DataTable");var b=false;var i="none";var j=this.graphType=="Network";if(d){if(j){var h=d.nodes.map(function(m){return m.id});this.toDoFilter={nodes:{id:{exact:h}}}}else{var g=this.tU(d.y.vars);var l=this.yV(d.y.smps);if(g.length>0){this.varIndices=g}if(l.length>0){this.smpIndices=l}this.toDoFilter={sample:{exact:d.y.vars},variable:{exact:d.y.smps}}}this.Gz(true,true,this.lastEvent);this.tT(true);return}if(k&&e){b=k.childNodes[2].childNodes[2].scrollLeft;i=k.style.display;this.rh();k=null}var f=this.view=="table"||this.view=="layout"||this.view=="explore";if(!k){k=this.ut()}if(k&&f){this.V0();if(a&&!j){this.varIndicesFilter=this.TU(this.varIndices);this.smpIndicesFilter=this.TU(this.smpIndices)}if(e){this.rR(e)}this.mN(c);if(e){k.childNodes[2].childNodes[2].scrollLeft=b;k.style.display=i}}};this.VI=function(b,a){if(b==0&&this.dataTableRowNumbersShow){return"none"}else{if((b>0&&a[0][b]==""&&!a[1][b])||(b>0&&!a[0][b])){return"none"}else{return"block"}}};this.jt=function(b){var c=Math.max(0,this.dataTableRowHeight-14);var e=this.$cX("div",{id:this.target+"-cX-DataTable-Cell-Header-Sort."+b,className:"cX-DataTable-Cell-Header-Sort"});var d=this.$cXI("ar_tm",{id:this.target+"-cX-DataTable-Cell-Header-Sort-Asc."+b,className:"cX-DataTable-Cell-Header-Sort-Image",src:"ar_tm",title:"Ascending Sort"},{display:"none",pointerEvents:"none"},false,c);var a=this.$cXI("ar_bm",{id:this.target+"-cX-DataTable-Cell-Header-Sort-Desc."+b,className:"cX-DataTable-Cell-Header-Sort-Image",src:"ar_bm",title:"Descending Sort"},{display:"none",pointerEvents:"none"},false,c);e.appendChild(d);e.appendChild(a);return e};this.n1=function(j,m,l){var b={};if(this.toDoFilter){for(var e in this.toDoFilter){for(var h in this.toDoFilter[e]){b[h]=true;if(h=="vars"||h=="sams"){b.Id=true}}}}var d=this.view=="layout"||this.view=="explore";var o=Math.max(0,Math.min(this.dataTableRowHeight-20,24));var c=j==0&&m<this.dataTableColPin.length+(this.dataTableRowNumbersShow?1:0);var i=(l&&b[l])||(l=="Id"&&(b.vars||b.smps));var a=this.$cX("div",{id:this.target+"-cX-DataTable-Cell-Header-Filter."+m,className:"cX-DataTable-Cell-Header-Filter"},{display:(d||(j==0&&m==0)||c)?"none":"block"});var n=this.$cXI("fp_funnel",{id:this.target+"-cX-DataTable-Cell-Header-Filter-Unfilter"+m,className:"cX-DataTable-Cell-Header-Filter-Image",src:"fp_funnel"},{display:i?"none":"block"},false,o);n.setAttribute("data-callback-click","clickDataTableHeaderFilter");n.setAttribute("data-menus",true);var g=this.$cXI("fp_funnelremove",{id:this.target+"-cX-DataTable-Cell-Header-Filter-Filter"+m,className:"cX-DataTable-Cell-Header-Filter-Image",src:"fp_funnelremove"},{display:i?"block":"none"},false,o);g.setAttribute("data-callback-click","clickDataTableHeaderFilter");g.setAttribute("data-menus",true);a.appendChild(n);a.appendChild(g);return a};this.RE=function(e,c,d){var b=this.view=="layout"||this.view=="explore";var a=this.$cX("a",{id:this.target+"-cX-DataTable-Cell-Header-Menu."+e+"."+c,className:"cX-DataTable-Cell-Header-Menu",href:"#",innerHTML:"&#8942;"},{lineHeight:this.dataTableRowHeight+"px",display:b?"none":d?this.VI(c,d):"none"});a.setAttribute("data-callback-click","clickDataTableHeaderMenu");return a};this.Cd=function(d,a,c){var b=this.$cX("span",{id:this.target+"-cX-DataTable-Cell-Header-Resize."+d+"."+a,className:"cX-DataTable-Cell-Header-Resize"},{display:c?this.VI(a,c):"none"});return b};this.zB=function(){var f=this.$(this.target+"-cX-DataTable");var d=this.$(this.target+"-cX-DataTableTable").firstElementChild.childNodes;var e=Math.max(d[0].childNodes.length,d[d.length-1].childNodes.length);if(f){this.qm("removeEvtListener");for(var c=0;c<d.length;c++){for(var b=0;b<e;b++){var a=this.$(this.target+"-cX-DataTable-Cell."+c+"."+b);if(a){if(a.hasChildNodes()){while(a.childNodes.length>=1){a.removeChild(a.firstElementChild)}}var h=this.UE(c,b);if(c==0){h.appendChild(this.RE(c,b));h.appendChild(this.n1(c,b));h.appendChild(this.jt(b));h.appendChild(this.Cd(c,b))}a.style.background=!this.dataTableStriped?this.dataTableCellBackgroundColor:c%2?this.dataTableOddCellBackgroundColor:this.dataTableCellBackgroundColor;var g=this.dataTableRowNumbersShow&&b===0;this.h1(g,a);a.style.left="0px";a.appendChild(h)}}}}};this.Ob=function(a,b){if(a=="cxy"||a=="cyn"||a=="cxs"||a=="cxv"){return true}else{if(a=="cxx"&&b=="Numeric"){return true}else{if(a=="cxz"&&b=="Numeric"){return true}}}return false};this.Kf=function(d,c){var k=this.meta.data;if(this.dataTableColumnWidthObject&&!c){return this.dataTableColumnWidthObject}this.dataTableColumnWidthObject={};var g=function(l,i){if(i){return Math.max((d.length+h).toString().length,3)==3?"Row":(d.length+h).toString()}else{if(k.x&&k.x[l]){return l.length>k.x[l].maxLevChr?l:k.x[l].maxLevStr}else{if(k.z&&k.z[l]){return l.length>k.z[l].maxLevChr?l:k.z[l].maxLevStr}else{if(k.y){return l.length>k.y.maxSmpChr?l:k.y.maxSmpStr}else{return l}}}}};if(!d){return[]}var f=d[0];var h=this.dataTableStartRow;for(var e=0;e<f.length;e++){if(e>0&&f[e]==""&&!d[1][e]){}else{if(this.dataTableAutoColumnWidth||(this.dataTableRowNumbersShow&&e==0)){if(this.dataTableColProperties&&this.dataTableColProperties.hasOwnProperty(f[e])){this.dataTableColumnWidthObject[f[e]]=this.dataTableColProperties[f[e]]}else{var b=g(f[e],this.dataTableRowNumbersShow&&e==0).toString();var a=this.$cX("div",{className:"cX-DataTable-Cell-Header",innerHTML:b},{position:"absolute",visibility:"hidden",top:-9999+"px",left:-9999+"px",width:"auto"});document.body.appendChild(a);var j=a.offsetWidth;document.body.removeChild(a);this.dataTableColumnWidthObject[f[e]]=j+((this.dataTableRowNumbersShow&&e==0)?35:80)}}else{if(this.dataTableColProperties&&this.dataTableColProperties.hasOwnProperty(f[e])){this.dataTableColumnWidthObject[f[e]]=this.dataTableColProperties[f[e]]}else{this.dataTableColumnWidthObject[f[e]]=this.dataTableColWidth}}}}return this.dataTableColumnWidthObject};this.Tk=function(){if(this.sortDataTableHead){var c=this.$(this.sortDataTableHead);var b=this.sortDir||"ascending";if(c){var a=c.firstElementChild.nextSibling.nextSibling;if(b=="ascending"){a.firstElementChild.style.display="block";a.lastChild.style.display="none"}else{a.firstElementChild.style.display="none";a.lastChild.style.display="block"}}}};this.h2=function(){var a=this.$(this.target+"-cX-DataTable-Dimensions");if(a){a.dataRows=this.dataTableTotalRows;a.dataCols=this.dataTableTotalCols;if(this.dataTableHeaderTemplate){a.innerHTML=this.dataTableHeaderTemplate.replace(/\{rows\}/g,this.dataTableTotalRows-1).replace(/\{cols\}/g,this.dataTableTotalCols-1)}else{a.innerHTML="Rows: "+(this.dataTableTotalRows-1)+"&nbsp;&nbsp; Cols: "+(this.dataTableTotalCols-1)}}};this.fD=function(b,c,a){if(b!=null){if(c&&c.date){return true}else{if(this.graphType!="Network"){if(this.xAxis&&this.xAxis.includes(a)&&this.xAxisTime){return true}else{if(this.yAxis&&this.yAxis.includes(a)&&this.yAxisTime){return true}else{return false}}}}}else{return false}};this.QR=function(h,d,l,a,p,j,m,i,b){var f=typeof h=="object"?true:false;var c=h!=null?h.toString().replace("\x00",""):"";var e=this.y6(c);var n=this.Ev(c,true);var r=this.xK(c);var k=this.eI(c);var o=this.fD(h,i,b);var g=f?this.O5(h):e?h:n?n[0]:r?c:c;var q={isObject:f,value:c,title:g,type:d!=null?d:"",background:l,isUrl:e,isAnchor:n,isOnclick:r,isImage:k,isHTML:e||n||r?true:false,href:e||n||r?g:false,width:j,numeric:m,isDate:o,columnName:b};this.Um(a,p,q);return q};this.Um=function(d,b,a){var c=a.value;if(d==0&&b==0){if(this.dataTableRowNumbersShow){c="Row"}else{if(this.dataTableZeroHeader){c=this.dataTableZeroHeader}}}else{if(!isNaN(c)&&c!=null&&this.graphType!="Network"&&a.isDate){c=this.dateFormat(Number(c),this.timeFormat)}else{if(c==="NaN"){c=""}else{if(a.isUrl){c=a.value}else{if(a.isAnchor){c=a.isAnchor[1]}else{if(a.isOnclick){c=a.value.replace(/&quot;/g,'"').replace(/&comma;/g,",")}else{if(!isNaN(c)&&this.dataTableColFormat.hasOwnProperty(a.columnName)){c=c===""?"":this.vy(this.dataTableColFormat[a.columnName],Number(c))}}}}}}}a.value=c;return c};this.dx=function(c){var b=Math.max(0,Math.min(this.dataTableRowHeight-18,16));var a=(this.dataTableRowHeight-b)/2;if(c=="collapsed"){return this.$cXI("dps_expand3",{className:"cX-DataTable-Cell-Hierarchy-Icon",src:"dps_expand3",title:"Expand Row"},{marginTop:a+"px",pointerEvents:"none"},false,b)}else{return this.$cXI("dps_expand2",{className:"cX-DataTable-Cell-Hierarchy-Icon",src:"dps_expand2",title:"Collapse Row"},{marginTop:a+"px",pointerEvents:"none"},false,b)}};this.UE=function(e,b,a){var c=this.vJ();if(a){a.isNumeric=this.Ob(a.type,a.numeric);var d=this.$cX("div",{id:this.target+"-cX-DataTable-Cell-Content."+e+"."+b,className:a.isHTML?"cX-DataTable-Cell-Link":a.isNumeric?"cX-DataTable-Cell-Number":"cX-DataTable-Cell",title:a.title,type:a.type,href:a.href},{fontStyle:a.value==this.lastSortedColumn?"italic":"normal",color:a.value==this.lastSortedColumn?this.contrastWidgetsColor:this.fontWidgetsColor,width:a.width+"px",height:this.dataTableRowHeight+"px"})}else{var d=this.$cX("div",{id:this.target+"-cX-DataTable-Cell-Content."+e+"."+b,className:"cX-DataTable-Cell",title:""});d.appendChild(document.createTextNode(""));d.style.height=this.dataTableRowHeight+"px";d.style.width=b==0&&this.dataTableRowNumbersShow?c.meta.cols.Row.width+"px":this.dataTableColWidth+"px"}if(this.dataTableGrouped&&e>0&&b===(this.dataTableRowNumbersShow?1:0)&&c.meta.rows.isGroupData[e-1]){if(a&&this.dataTableRowGroups.indexOf(a.value)!==-1){d.appendChild(this.dx("expanded"))}else{d.appendChild(this.dx("collapsed"))}}if(e==0){d.setAttribute("data-callback-click","clickDataTableHeader")}else{d.setAttribute("data-callback-click","clickDataTableCell")}return d};this.di=function(c,b){if(b.match(/svg$/)){var a=c.id;CanvasXpress.svg(b,a,function(e,d){var f=document.getElementById(d);e=e.replace(/<\?xml.*\?>\n*/,"");f.innerHTML=e;f.firstElementChild.style.height=f.clientHeight+"px"})}else{c.appendChild(this.$cX("img",{src:b},{height:this.dataTableRowHeight+"px"}))}};this.dI=function(g,a,b,d){if(b.isImage){return this.di(g,b.isImage)}else{var e=b.value.toString();if(a){var f=e.match(a);if(f){e=e.replace(a,'<span style="background-color:yellow;">'+f[0]+"</span>")}}var c=this.$cX("span",{innerHTML:e,className:d},{pointerEvents:b.href?"auto":"none"});if(b.href){c.onclick=function(h){h.stopPropagation();window.open(b.href,"_blank")}}g.appendChild(c);g.style.lineHeight=Math.floor(this.dataTableRowHeight/this.dataTableRowLines)+"px";if(this.dataTableRowLines==1){g.style.textOverflow="ellipsis";g.style.whiteSpace="nowrap"}else{g.style.textOverflow="clip";g.style.whiteSpace="wrap"}}};this.vu=function(b,c,e,a){if(this.dataTableColAlignment&&this.dataTableColAlignment.hasOwnProperty(a)){b.style.textAlign=this.dataTableColAlignment[a];var d=b.firstElementChild.nextSibling;if(d){if(this.dataTableColAlignment[a]=="right"){d.style.paddingRight="40px"}else{d.style.paddingRight="0px"}}}else{if(!c.isNumeric){b.style.textAlign=e}}};this.mN=function(y){this.zB();var q=this.vJ();var b=this.$(this.target+"-cX-DataTable");var o=this.$(this.target+"-cX-DataTableTable").firstElementChild;var u=y||this.$(this.target+"-cX-DataTableSearch").value?new RegExp(y||this.$(this.target+"-cX-DataTableSearch").value,"i"):false;if(b){var g=this.dataTableColPin.length+(this.dataTableRowNumbersShow?1:0);var l=this.dataTableStartRow;for(var w=0;w<this.dataTableMaxRows;w++){var a=w>0?l:w;if(a>=q.meta.totalRows){var x=o.rows[w];if(x){x.style.display="none"}continue}var B=o.rows[w];if(!B){B=this.$cX("tr",{className:this.dataTableRowActive?"cX-DataTable-Row-Active":"cX-DataTable-Row"},{position:"relative"});for(var A=0;A<this.dataTableMaxCols;A++){this.AB(B,w,A)}o.appendChild(B)}else{B.style.display=""}var m=this.dataTableStartCol;for(var v=0;v<this.dataTableMaxCols;v++){var n=v>=g?(v+m):v;var z=this.dataTableRowNumbersShow&&n===0;var f=q.data[0][n];if(n>=q.meta.totalCols){var r=this.$(this.target+"-cX-DataTable-Cell."+w+"."+v);if(r){r.style.display="none"}continue}var k=this.$(this.target+"-cX-DataTable-Cell."+w+"."+v);if(!k){this.AB(B,w,v);k=this.$(this.target+"-cX-DataTable-Cell."+w+"."+v)}if(k){k.style.display="";var p=this.dataTableColumnWidthObject[q.data[0][n]]||this.dataTableColWidth;if(k.hasChildNodes()){while(k.childNodes.length>=1){k.removeChild(k.firstElementChild)}}var h=this.QR(q.data[a][n],q.meta.type[a][n],q.meta.colr[a][n],a,n,p,q.meta.colr[0][n],q.meta.cols[f]?q.meta.cols[f].meta:null,f);var d=this.UE(a,n,h);var e=this.view=="layout"||this.view=="explore";if(w==0){d.appendChild(this.RE(w,v,q.data,e))}this.dI(d,u,h,w==0?"cX-DataTable-Cell-Head-Text":"cX-DataTable-Cell-Text");this.vu(d,h,w==0?this.dataTableHeaderTextAlign:this.dataTableCellTextAlign,f);if(w==0){d.appendChild(this.jt(v));d.appendChild(this.n1(w,v,h.value,e));d.appendChild(this.Cd(w,v,q.data))}if(w>0){k.style.background=!this.dataTableStriped?this.dataTableCellBackgroundColor:w%2?this.dataTableOddCellBackgroundColor:this.dataTableCellBackgroundColor}else{k.style.background=this.dataTableHeaderBackgroundColor}this.h1(z,k);if(this.dataTableColored){if(q.meta.colr[a][n]&&w>0&&v>0){k.style.background=this.b9(q.meta.colr[a][n],this.dataTableColorTransparency,true)}}if(v>=g&&this.dataTableCurrentScrollLeft!=null){k.style.left=-this.dataTableCurrentScrollLeft+"px"}var s=a+"-"+n;k.setAttribute("data-id",s);if(this.dataTableCellActive==s){d.className+="-Active"}k.appendChild(d)}}if(B&&this.dataTableCurrentScrollTop!=null){if(w>0){B.style.top=-this.dataTableCurrentScrollTop+"px"}else{B.style.top="0px"}}l++}this.Tk();this.h2();this.activeTarget=b;this.qm("addEvtListener");b.style.display=this.reproducing||this.afterRendering?"none":"block"}};this.d2=function(k,j){var b=this.$(this.target+"-cX-DataTable");var r=this.view;var i=false;if(!b){b=this.ut();i=true}var e=0;if(r==="explore"){j-=2;b.style.marginTop="1px";b.style.marginBottom="1px";e=1;k-=2}else{b.style.marginTop="0px";b.style.marginBottom="0px"}var g=20;var h=4;var n=(this.dataTableBannerShow?this.dataTableRowHeight:0)+(this.dataTableToolbarShow?this.dataTableRowHeight:0);var a=(this.dataTableStatusShow?this.dataTableRowHeight:0)+(this.dataTablePaginationShow?this.dataTableRowHeight:0);var d=g-h;var f=(j-(n+a+2))*-1;if(b&&b.style&&k!=null&&j!=null){var l=this.$(this.target+"-cX-DataTable-Root");var p=this.$(this.target+"-cX-DataTable-Header-Viewport");var c=this.$(this.target+"-cX-DataTable-Vertical-Scrollbar");var q=this.$(this.target+"-cX-DataTable-Horizontal-Scrollbar");var m=this.$(this.target+"-cX-DataTable-Status");var o=this.$(this.target+"-cX-DataTable-Pagination");if(b&&l&&p&&m&&o){this.w6(b,k,j,e,0,null,null,null,true);this.w6(l,k,j-(n+a),null,null,null,null,null,true);this.w6(p,k-d,j-(n+a+d),null,null,null,null,null,true);this.w6(c,null,j-(n+a+d+h),null,null,null,null,null,true);this.w6(q,k-(d+h),null,null,null,null,null,null,true);this.w6(m,null,null,null,null,null,f,null,true);this.w6(o,null,null,null,null,null,f,null,true);this.dataTableLastWidth=k;this.dataTableLastHeight=j}this.IU(i);this.dm()}};this.iL=function(){this.IU();this.xMouseDown=null;this.yMouseDown=null;this.dataTableWidth=null;this.dataTableHeight=null};this.GF=function(b){var a=this;this.xMouseDown=null;this.yMouseDown=null;this.resizingDataTableColumnOn=false;this.dataTableColumnTarget=false;this.noSorting=true;window.document.body.style.cursor="default";setTimeout(function(){a.noSorting=false},200)};this.sT=function(m,e,f){var y=e||this.$(m).value;var n=new RegExp(y,"i");var h=this.q0();var o=this.vJ();var s=function(c){if(!o.meta.cols[c]){o.meta.cols[c]={}}};this.V0();if(h){var q=this.data[this.dataTableNetwork];for(var u=0;u<h[2].length;u++){s(h[2][u]);o.meta.cols[h[2][u]].hidden=true}var k=false;for(var u=0;u<h[2].length;u++){if(h[2]!=null&&h[2][u].toString().match(n)){s(h[2][u]);o.meta.cols[h[2][u]].hidden=false;continue}else{k=false;for(var r=0;r<h[3].length;r++){if(q[u][h[3][r]]!=null&&q[u][h[3][r]].toString().match(n)){k=true;break}}}if(k){o.meta.cols[h[2][u]].hidden=false}}}if(this.graphType!="Network"){if(this.dataTableTransposed){var g=[];var a={};var p=f?Array.apply(null,{length:this.data.y.smps.length}).map(function(i,c){return c}):false;var x=f?p:(this.smpIndicesFilter?this.smpIndicesFilter:this.smpIndices);for(var u=0;u<this.data.y.smps.length;u++){s(this.data.y.smps[u]);o.meta.cols[this.data.y.smps[u]].hidden=true}for(var l=0;l<x.length;l++){var u=x[l];if(this.data.y.smps[u]!=undefined&&this.data.y.smps[u].toString().match(n)){s(this.data.y.smps[u]);o.meta.cols[this.data.y.smps[u]].hidden=false;if(!a.hasOwnProperty(u.toString())){g.push(u);a[u.toString()]=true}}}if(this.data.x){for(var w in this.data.x){s(w);o.meta.cols[w].hidden=false}for(var l=0;l<x.length;l++){var u=x[l];for(var w in this.data.x){if(this.data.x[w][u]!=undefined&&this.data.x[w][u].toString().match(n)){s(this.data.y.smps[u]);o.meta.cols[this.data.y.smps[u]].hidden=false;if(!a.hasOwnProperty(u.toString())){g.push(u);a[u.toString()]=true}}}}}this.smpIndices=g}else{var v=[];var a={};var p=f?Array.apply(null,{length:this.data.y.vars.length}).map(function(i,c){return c}):false;var b=f?p:(this.varIndicesFilter?this.varIndicesFilter:this.varIndices);for(var u=0;u<this.data.y.vars.length;u++){s(this.data.y.vars[u]);o.meta.cols[this.data.y.vars[u]].hidden=true}for(var l=0;l<b.length;l++){var u=b[l];if(this.data.y.vars[u]!=undefined&&this.data.y.vars[u].toString().match(n)){s(this.data.y.vars[u]);o.meta.cols[this.data.y.vars[u]].hidden=false;if(!a.hasOwnProperty(u.toString())){v.push(u);a[u.toString()]=true}}}if(this.data.z){for(var w in this.data.z){s(w);o.meta.cols[w].hidden=false}for(var l=0;l<b.length;l++){var u=b[l];for(var w in this.data.z){if(this.data.z[w][u]!=undefined&&this.data.z[w][u].toString().match(n)){s(this.data.y.vars[u]);o.meta.cols[this.data.y.vars[u]].hidden=false;if(!a.hasOwnProperty(u.toString())){v.push(u);a[u.toString()]=true}}}}}this.varIndices=v}}this.iU(false,true,false,y);this.by();this.$(this.target+"-cX-DataTableSearch").value=y;this.$(this.target+"-cX-DataTableSearch").focus();var d=this.view=="layout"||this.view=="explore";if(d||e){this.x9({func:"updateSearchDataTable",par:[m,y]});if(d&&y!=""){this.s1(this.width*0.5,this.height*0.5,"Filters do not reflect<br>the status of the data",3000,{fontSize:"24px",color:this.red})}}};this.K2=function(){this.$(this.target+"-cX-DataTableSearch").value="";this.V0()};this.uK=function(a){this.Y6(a);this.K2();if(!this.varIndicesFilter&&!this.smpIndicesFilter){this.Gn()}else{if(this.varIndicesFilter){this.varIndices=this.TU(this.varIndicesFilter);delete this.varIndicesFilter}if(this.smpIndicesFilter){this.smpIndices=this.TU(this.smpIndicesFilter);delete this.smpIndicesFilter}this.iU(false,true);this.$(this.target+"-cX-DataTableSearch").value="";this.$(this.target+"-cX-DataTableSearch").focus()}};this.ut=function(){if(!this.disableEvents&&!this.disableDataTable&&this.graphType!="Genome"){this.dataTableColored=this.dataUIStyle=="cx"||this.dataUIStyle=="stripped"||this.dataUIStyle=="modern"||this.dataUIStyle=="bms"||this.dataUIStyle=="rdc"||this.dataUIStyle=="ngs360"||this.dataUIStyle=="custom"?false:true;return this.GX()}};this.zN=function(){var q=this.marginLeft+this.offsetX+this.left;var r=this.marginTop+this.offsetY+this.top;var s=this.layoutWidth-(this.left+this.right);var c=this.layoutHeight-(this.top+this.bottom+9);var j=this.data.l.data[this.layoutCurrent];var e=j.y.smps[0];var u=j.y;var i=q+(s/6);var f=q+(s/2);var n=q+s-(s/6);var m=r+31;var b=this.uf(this.background,-20);var k=0;while(m<r+c&&k<u.vars.length){if(!(k%2)){this.To({p:["drawShape","rectangle",q+(s/2),m,s-14,18,b,b],t:"Labels"})}m+=18;k++}var p=r+16;this.To({p:["drawText","Row",i,p,"Bold"+this.font,this.foreground,"center","middle"],t:"Labels"});this.To({p:["drawText",e,f,p,"Bold"+this.font,this.foreground,"center","middle"],t:"Labels"});this.To({p:["drawText","#",n,p,"Bold"+this.font,this.foreground,"center","middle"],t:"Labels"});m=r+32;k=0;while(m<r+c&&k<u.vars.length){this.To({p:["drawText",k+1,i,m,"Bold"+this.font,this.foreground,"right","middle"],t:"Labels"});var o=u.vars[k];var h=o.match(/<[^>]+>/g);var v=o.replace(/(<([^>]+)>)/ig,"");var g=h?"rgb(0,0,238)":this.foreground;var l=this.rk(this.font)/2;var d=this.pb(v,this.font);if(d>s/3){v=v.substring(0,16)}this.To({p:["drawText",v,f,m,this.font,g,"center","middle"],t:"Labels"});if(h){this.To({p:["drawLine","line",f-(d/2),m+l,f+(d/2),m+l,g,1,"solid"],t:"Labels"})}var a=u.data[k][0];if(this.pb(a,this.font)>s/3){a=a.substring(0,16)}this.To({p:["drawText",a,n+(s/15),m,this.font,this.foreground,"right","middle"],t:"Labels"});m+=18;k++}};this.en=function(){var n=this.marginLeft+this.offsetX+this.left;var j=this.marginTop+this.offsetY+this.top;var e=this.layoutWidth-(this.left+this.right);var w=this.layoutHeight-(this.top+this.bottom);var s=this.data.l.data[this.layoutCurrent].y.smps[0];var d=Math.floor(e/3)+"px";var h=this.$(this.target+"-cX-Container-DOE");var b=this.uf(this.plotBackgroundColor,-20);var c=this.plotBackgroundColor;var q=this.layoutDOETables[s].idxs;var o=this.data.l.data[this.layoutCurrent].y;this.zN();var m=this.$cX("div",{id:this.target+"-cX-DataTable-"+s,className:"cX-DataTable-DOE"},{position:"absolute",height:(w-14)+"px",width:(e-14)+"px",left:(n+7)+"px",top:(j+7)+"px",overflow:"scroll",backgroundColor:this.plotBackgroundColor,zIndex:9999});var u=this.$cX("table",{className:"cX-DataTable-DOE",width:(e-14)+"px"});var f=this.$cX("head",{className:"cX-DataTable-DOE"},{display:"block",position:"sticky",top:0});var k=this.$cX("tr",{className:"cX-DataTable-DOE"});k.appendChild(this.$cX("th",{className:"cX-DataTable-DOE",innerHTML:"Row"},{width:d,maxWidth:d,position:"sticky",top:0,backgroundColor:this.plotBackgroundColor,color:this.foreground}));k.appendChild(this.$cX("th",{className:"cX-DataTable-DOE",innerHTML:s},{width:d,maxWidth:d,position:"sticky",top:0,backgroundColor:this.plotBackgroundColor,color:this.foreground}));k.appendChild(this.$cX("th",{className:"cX-DataTable-DOE",innerHTML:"#"},{width:d,maxWidth:d,position:"sticky",top:0,backgroundColor:this.plotBackgroundColor,color:this.foreground}));f.appendChild(k);var l=this.$cX("body",{className:"cX-DataTable-DOE"});var a=Math.min(q.length,1300);for(var g=0;g<a;g++){var v=q[g]||g;var r=this.$cX("tr",{className:"cX-DataTable-DOE"});r.appendChild(this.$cX("th",{className:"cX-DataTable-DOE",innerHTML:g+1},{width:d,maxWidth:d,backgroundColor:(g%2?c:b),color:this.foreground}));r.appendChild(this.$cX("td",{className:"cX-DataTable-DOE",innerHTML:o.vars[v]},{width:d,maxWidth:d,backgroundColor:(g%2?c:b),color:this.foreground}));r.appendChild(this.$cX("td",{className:"cX-DataTable-DOE",innerHTML:o.data[v][0]},{width:d,maxWidth:d,backgroundColor:(g%2?c:b),color:this.foreground,textAlign:"right"}));q[g]=v;l.appendChild(r)}if(o.vars.length>=1300){for(var p=1300;p<o.vars.length;p++){q[p]=q[p]||p}}u.appendChild(f);u.appendChild(l);m.appendChild(u);if(h){h.appendChild(m)}this.DE("addEvtListener",m)};this.DE=function(c,k){if(k){var g=k.firstElementChild.firstElementChild.firstElementChild;var b=k.firstElementChild.lastChild;if(g&&b){for(var f=0;f<b.childNodes.length;f++){var a=b.childNodes[f];for(var d=0;d<a.childNodes.length;d++){var h=a.childNodes[d];this.cI(c,h,"click","clickDataTableDOEBody",[],false)}}for(var f=1;f<g.childNodes.length;f++){var e=g.childNodes[f];this.cI(c,e,"click","clickDataTableDOE",[],false)}}}};this.vI=function(a){this.WI();var g=this.zL(a);if(g){if(g.tagName.toUpperCase()!="TR"){g=g.parentNode}if(g.tagName.toUpperCase()=="TR"){g=g.childNodes[1].innerText}var j=this.graphType;var f=this.y3(a);var h=this.data.l;var c=h.smps[f.idx][0];var e=this.qy(c,true);var b={doe:[]};this.graphType=j;for(var d=0;d<e.y.vars.length;d++){if(e.y.vars[d]==g){b.doe=e.y.pie[d];break}}this.Kw(b,true);this.x9({func:"clickDataTableDOEBody",par:[a],prop:{layoutValidN:this.layoutValidN}})}};this.Bm=function(a){this.WI();var g=this.zL(a);var j=this.y3(a);var k=this.data.l;var d=k.smps[j.idx][0];var h=this.qy(d,true);var c=this.XX(0,h.y.data.length-1,1);var b=g.parentNode.parentNode.nextSibling;var e=this.layoutDOETables[d];if(b){if(g.innerHTML==k.smps[j.idx][0]){if(!e.sort||e.sort=="desc"){e.sort="asc";c=c.sort(function(l,i){return(h.y.vars[l].toString().toLowerCase()).localeCompare(h.y.vars[i].toString().toLowerCase())})}else{e.sort="desc";c=c.sort(function(l,i){return(h.y.vars[i].toString().toLowerCase()).localeCompare(h.y.vars[l].toString().toLowerCase())})}}else{if(!e.sort||e.sort=="desc"){e.sort="asc";c=c.sort(function(l,i){return h.y.data[l][0]-h.y.data[i][0]})}else{e.sort="desc";c=c.sort(function(l,i){return h.y.data[i][0]-h.y.data[l][0]})}}for(var f=0;f<b.childNodes.length;f++){b.childNodes[f].childNodes[1].innerHTML=h.y.vars[c[f]];b.childNodes[f].childNodes[2].innerHTML=h.y.data[c[f]][0]}e.idxs=c}};this.VC=function(){var c=this;var e=this.$(this.target+"-cX-Container-DOE");if(e){var b=e.getElementsByTagName("div");var d=Array.prototype.filter.call(b,function(f){return c.md(f,"cX-DataTable-DOE")?true:false});for(var a=0;a<d.length;a++){this.DE("removeEvtListener",d[a]);e.removeChild(d[a])}}}};CanvasXpress.prototype.initCanvasResizerEvents=function(){this.NI=function(b){var g=this;var j=this.target;var c=this.reproducing;var h=this.$(j+"-cX-Wrapper");var a=this.$(j+"-cX-Resize-Indicator");if(!h){return}var k=h.querySelectorAll(".cX-Resizer");for(var e=0;e<k.length;e++){var f=k[e];this[b](f,"mousedown",this.mousedownCanvasResizer,false)}if(b==="removeEvtListener"){if(this.resizeObserver){this.resizeObserver.disconnect();this.resizeObserver=null}}else{if(window.ResizeObserver){var d=new ResizeObserver(function(i){if(c){return}var l=i[0].contentRect;if(h.classList.contains("resizing")){g.BX(l.width,l.height)}if(!g.isSwitchingLayout){g.da(g.view,true)}if(!h.classList.contains("resizing")){}});d.observe(h);this.resizeObserver=d}}};this.OT=function(o){var i=this;var c=this.target;var r=o.srcElement.parentNode.id.replace("-cX-Resizer-Container","");if(r!==c){return}var m=["t","b","l","r","lt","rt","lb","rb"];var q=function(){if(i.disableWindow||i.resizable===false||(!i.resizableX&&!i.resizableY)){return m.map(function(){return false})}var v=i.resizableX!==false;var u=i.resizableY!==false;return m.map(function(w){var x=w.includes("l")||w.includes("r");var y=w.includes("t")||w.includes("b");if(x&&y){return v&&u}if(x){return v}if(y){return u}return false})};var k=q();var h=this.$(c+"-cX-Wrapper");var p=this.reproducing;var d=this.$(c);var b=this.$(c+"-events");var j=this.$(c+"-cX-Resize-Indicator");var g=o.target||o.srcElement;var a=m.indexOf(g.className.replace("cX-Resizer ",""));if(!k[a]){return}var f=h.offsetWidth;var n=h.offsetHeight;var t=o.clientX;var s=o.clientY;h.className+=" resizing";j.className+=" resizing";this.resizingCanvas=true;var l=function(w){if(p){return false}var v=w.clientX-t;var u=w.clientY-s;var x=g.classList;h.style.width=f+"px";if(x.contains("r")||x.contains("rb")||x.contains("rt")){h.style.width=(f+v)+"px"}else{if(x.contains("l")||x.contains("lb")||x.contains("lt")){h.style.width=(f-v)+"px"}}h.style.height=n+"px";if(x.contains("b")||x.contains("rb")||x.contains("lb")){h.style.height=(n+u)+"px"}else{if(x.contains("t")||x.contains("rt")||x.contains("lt")){h.style.height=(n-u)+"px"}}d.style.width=h.style.width;d.style.height=h.style.height;b.style.width=h.style.width;b.style.height=h.style.height;j.innerText=h.offsetWidth+" x "+h.offsetHeight;this.resizingCanvas=true;document.body.style.cursor=getComputedStyle(g).cursor};var e=function(u){h.className=h.className.replace(" resizing","");j.className=j.className.replace(" resizing","");if(!p){i.BX(h.offsetWidth,h.offsetHeight);i.x9({width:h.offsetWidth,height:h.offsetHeight,func:"setDimensions",par:[h.offsetWidth,h.offsetHeight]})}delete (i.resizingCanvas);document.body.style.cursor="";window.removeEventListener("mousemove",l);window.removeEventListener("mouseup",e)};window.addEventListener("mousemove",l);window.addEventListener("mouseup",e)};this.uL=function(){if(!this.disableEvents){this.NI("addEventListener")}};this.uL()};CanvasXpress.prototype.initMotionEvents=function(){this.py=function(f){if(!this.rt(f)){return}var d=this.gr();this.motionControlWidth=d.slider.width;this.Jc();var a=this.motionObject;var c=this.reproducing;var h=this.pC(d.container);if(c){this.u1(h)}var g=this.kL(d);var b=c?this.fU(d):{};this.jF(g.scale,g.ticks,a);if(c){this.qv(b.list,a)}this.Xl(h,g,b);this.Ql(h,f)};this.rt=function(c){try{CanvasXpress}catch(a){if(c){c.preventDefault();c.stopPropagation()}return false}var b=this.target+"-cX-Motion";var d=this.$(b);if(this.reproducing){return !d}if(d||!this.motionBy){if(!this.motionBy){this.Io(false,c)}else{if(this.motionObject&&this.motionObject.name!==this.motionBy){this.LH(c)}else{if(this.motionObject&&this.motionObject.setIndices){this.pI([this.motionObject.current])}}}return false}return true};this.gr=function(){var p=this.reproducing;var n=this.margin;var w=n*2;var r=p?20:0;var y=p?18:0;var d=p?this.motionWidth-18:this.width-(n*6);var e=p?-(this.motionWidth+n):n*3;var x=45+n+r;var s=p?0:this.height-(x);var a=20;var u=n;var f=a;var t=11;var b=d-(a+(n*8));var c=n*4;var o=14;var i=0;var l=b;var v=c;var h=10;var q=0;var k=d+17-(a+(n*8)+2);var g=15+c;var m=14;var j=0;return{container:{left:e,top:s,width:d+y,height:x,maxHeight:this.height},playButton:{left:u*2,top:t,width:a,height:f},slider:{left:c,top:i,width:b,height:o},ticks:{left:v,top:q,width:l,height:h},trackContainer:{left:g,top:j,width:k,height:m},reproducerList:{left:u,top:0,width:this.motionWidth+y-(w+u),maxHeight:this.motionWidth-w}}};this.pC=function(a){return this.$cX("div",{id:this.target+"-cX-Motion",className:this.reproducing?"cX-Motion draggable":"cX-Motion"},{left:a.left+"px",top:a.top+"px",width:a.width+"px"})};this.u1=function(a){a.style.backgroundColor="rgba(245, 245, 245, 0.95)";a.style.border="1px solid rgb(83,105,255)";a.style.borderRadius="5px";a.style.boxSizing="content-box";a.style.opacity=0};this.kL=function(d){var f=this.target+"-cX-Motion";var a=d.playButton;var c=d.slider;var b=d.ticks;var e=d.trackContainer;return{playButton:this.$cXI("v_play",{id:f+"Play",className:"unselectable cX-Motion",src:"v_play"},{left:a.left+"px",top:a.top+"px",width:a.width+"px",height:a.height+"px",position:"relative",cssFloat:"left"}),widget:this.$cX("div",{id:f+"Widget",className:"cX-Motion"},{top:"0px",position:"relative",minWidth:this.motionWidth+"px",overflowX:"hidden",height:"40px"}),scale:this.$cX("div",{id:f+"Scale",className:"cX-Motion"},{left:c.left+"px",top:c.top+"px",width:c.width+"px",height:c.height+"px",position:"relative",cssFloat:"left"}),ticks:this.$cX("div",{id:f+"Ticks",className:"cX-Motion"},{left:b.left+"px",top:b.top+"px",width:b.width+"px",height:b.height+"px",position:"relative",cssFloat:"left"}),trackContainer:this.$cX("div",{id:f+"Container",className:"cX-Motion-Container"},{left:e.left+"px",top:e.top+"px",width:e.width+"px",height:e.height+"px",position:"relative",cssFloat:"left",clear:"none"}),thumb:this.$cX("div",{id:f+"Current",className:"cX-Motion-Current"},{left:"0px",cursor:"pointer"}),track:this.$cX("div",{id:f+"Range",className:"cX-Motion-Range"},{width:0,maxWidth:e.width+"px"})}};this.fU=function(a){var e=this.target+"-cX-Motion";var d=a.reproducerList;var c=this.$cX("div",{id:e+"Selection",className:"unselectable",draggable:false},{left:d.left+"px",top:d.top+"px",width:d.width+"px",position:"relative",cssFloat:"left",clear:"both",maxHeight:d.maxHeight+"px"});var b=this.$cX("ul",{className:"CanvasXpressList unselectable",draggable:false});c.appendChild(b);return{closeButton:this.$cXI("op_cancel",{id:e+"CloseImage",className:"cX-Motion unselectable",src:"op_cancel",title:"Close Reproducer"},{cssFloat:"right",padding:"3px"}),title:this.$cX("span",{id:e+"Span",className:"cX-Motion unselectable",innerHTML:"Customization Timeline"},{left:"8px",top:"5px",position:"absolute",cssFloat:"left",fontWeight:"bold"}),listContainer:c,list:b}};this.jF=function(g,e,a){var d,h,b,c;if(a.type==="String"){var f=this.l4(this[this.axisAlgorithm](0,a.levels.length,5));if(a.levels.length<1000){for(d=0;d<a.levels.length;d++){if(a.levels.length<20||f.hasOwnProperty(d)){h=this.pb(d.toString()," 2pt Arial");b=this.$cX("div",{className:"unselectable",innerHTML:d.toString(),title:a.levels[d]},{left:(parseInt((d*a.unit)-(h/2)))+"px",cssFloat:"left",position:"absolute",fontSize:"xx-small",cursor:"pointer"});g.appendChild(b)}if(a.levels.length<40||f.hasOwnProperty(d)){c=this.$cX("div",{className:"unselectable",innerHTML:"|"},{left:(parseInt(d*a.unit)+1)+"px",cssFloat:"left",position:"absolute",fontSize:"xx-small"});e.appendChild(c)}}}}else{for(d=0;d<a.values.length;d++){h=this.pb(a.values[d].toString()," 2pt Arial");b=this.$cX("div",{className:"unselectable",innerHTML:a.values[d],title:a.values[d]},{left:(parseInt(((a.values[d]-a.min)*a.unit)-(h/2)))+"px",cssFloat:"left",position:"absolute",fontSize:"xx-small",cursor:"pointer"});g.appendChild(b);c=this.$cX("div",{className:"unselectable",innerHTML:"|"},{left:(parseInt((a.values[d]-a.min)*a.unit)+1)+"px",cssFloat:"left",position:"absolute",fontSize:"xx-small"});e.appendChild(c)}}};this.qv=function(g,h){for(var c=0;c<h.levels.length;c++){var b=(c===h.levels.length-1);var d=b?"sl_radioon":"sl_radiooff";var a=this.$cX("li",{className:"CanvasXpressListItem"},{height:"initial"});var e=this.$cX("a",{className:"CanvasXpressListItemA",unselectable:"on",draggable:false});var f=this.$cXI(d,{className:"CanvasXpressListIcon unselectable",idx:c,src:d});var j=this.$cX("span",{innerHTML:c+". "+h.levels[c],className:"CanvasXpressListItemText unselectable",idx:c,draggable:false});e.appendChild(f);e.appendChild(j);a.appendChild(e);g.appendChild(a)}};this.Xl=function(f,e,b){var d=this.reproducing;if(d){f.appendChild(b.closeButton);f.appendChild(b.title)}e.trackContainer.appendChild(e.track);e.trackContainer.appendChild(e.thumb);e.widget.appendChild(e.playButton);e.widget.appendChild(e.scale);e.widget.appendChild(e.ticks);e.widget.appendChild(e.trackContainer);f.appendChild(e.widget);if(d){var c=this.motionObject.levels.length*32;var a=parseFloat(f.style.height)+c+(this.margin*2);f.style.height=a+"px";f.appendChild(b.listContainer)}};this.Ql=function(b){this.pI();var a=this.$(this.target+"-cX-Container-Menus");if(a){a.appendChild(b);this.IW("addEvtListener")}if(this.motionCache){this.LP()}if(this.reproducing){this.Z9(b)}};this.Z9=function(e){if(e){var c=e.style.width;var d={width:"0px",left:0+"px",opacity:0};var b={width:c,left:e.style.left,opacity:1};var a="all 0.5s ease-in-out";this.nb(e,d,b,a)}};this.Jc=function(){try{CanvasXpress}catch(e){return false}if(this.motionObject&&this.motionObject.name==this.motionBy){return}else{if(this.reproducing){var h=CanvasXpress.stack[this.target].afterRender;var c=h.length;var k={type:"String",levels:[],unit:this.motionControlWidth/(c-1),current:h[0][0],currentIdx:0,name:"Reproduce",fraction:0,initialized:false,n:c};for(var d=0;d<c;d++){k.levels.push(h[d][0])}this.motionObject=k}else{var k={};var g=[];var a={};var j=this.data.x&&this.data.x[this.motionBy]?this.meta.data.x[this.motionBy]:this.meta.data.z[this.motionBy];if(j.type=="Numeric"){if(this.data.x&&this.data.x[this.motionBy]){for(var d=0;d<this.data.x[this.motionBy].length;d++){var b=this.data.x[this.motionBy][d];if(!a.hasOwnProperty(b)){g.push(b);a[b]=true}}k.meta="x"}else{for(var d=0;d<this.data.z[this.motionBy].length;d++){var b=this.data.z[this.motionBy][d];if(!a.hasOwnProperty(b)){g.push(b);a[b]=true}}k.meta="z"}if(g.length>100){k.type="Numeric";k.values=[];k.min=j.rmin;k.max=j.rmax;k.unit=this.motionControlWidth/(j.vals[j.vals.length-1]-j.rmin);k.current=Number(j.rmin);for(var d=0;d<j.vals.length;d++){k.values.push(j.vals[d])}k.range=j.rmax-j.rmin;k.step=Math.pow(10,Math.floor(Math.log(k.range/k.values.length)/Math.LN10));k.decs=this.CU(k.step);k.levels=g.sort(function(i,f){return i-f})}else{k.type="String";k.levels=g.sort(function(i,f){return i-f});k.unit=this.motionControlWidth/(g.length-1);k.current=g[0]}}else{k.type="String";k.levels=j.levels;k.unit=this.motionControlWidth/(j.levels.length-1);k.current=j.levels[0];k.meta=this.data.x&&this.data.x[this.motionBy]?"x":"z"}k.varIndices=this.TU(this.varIndices);k.smpIndices=this.TU(this.smpIndices);k.grpIndices=this.TU(this.grpIndices);k.varIndicesMotion=[];k.smpIndicesMotion=[];k.grpIndicesMotion=[];k.name=this.motionBy;k.fraction=0;this.motionObject=k}}};this.pI=function(h,a){if(this.motionBy&&this.motionObject){var c=[];var j=this.motionObject.meta=="x"?this.motionObject.smpIndices:this.motionObject.varIndices;var l=this.motionObject.meta=="x"?this.data.x[this.motionBy]:this.data.z[this.motionBy];if(this.motionObject.type=="String"){var b=h&&h[0]!=null?h[0]:this.motionObject.levels[0];for(var e=0;e<j.length;e++){var k=j[e];if(l[k]==b){c.push(k)}}}else{var f=this.motionObject.values.length-1;var d=h&&h[0]!=null?h[0]:this.motionObject.values[0];var g=h&&h[1]!=null?h[1]:this.motionObject.values[f];if(d>g){f=g;g=d;d=f}for(var e=0;e<j.length;e++){var k=j[e];if(l[k]>d&&l[k]<=g){c.push(k)}}}if(this.motionObject.meta=="x"){this.smpIndices=c}else{this.varIndices=c}if(h&&h.length>0&&!a){this.motionObject.varIndicesMotion.push(this.TU(this.varIndices));this.motionObject.smpIndicesMotion.push(this.TU(this.smpIndices));this.motionObject.grpIndicesMotion.push(this.TU(this.grpIndices))}if(this.motionObject.varIndicesMotion.length>3){this.motionObject.varIndicesMotion.shift()}if(this.motionObject.smpIndicesMotion.length>3){this.motionObject.smpIndicesMotion.shift()}if(this.motionObject.grpIndicesMotion.length>3){this.motionObject.grpIndicesMotion.shift()}}};this.IW=function(l){var d=this.$(this.target+"-cX-Motion");var a=this.$(this.target+"-cX-MotionPlay");var g=this.$(this.target+"-cX-MotionCurrent");if(l&&d&&a&&g){if(this.reproducing){var h=this.$(this.target+"-cX-MotionCloseImage");if(h){this[l](h,"click","closeMotion",[],false)}this[l](d,"mousedown","registerMousemove",[],false);var n=this.$(this.target+"-cX-MotionSelection");if(n){for(var f=0;f<n.childNodes[0].childNodes.length;f++){var k=n.childNodes[0].childNodes[f].childNodes[0];for(var e=0;e<k.childNodes.length;e++){var b=k.childNodes[e];this[l](b,"click","clickMotionSelection",[],false)}}}}this[l](a,"click","clickMotion",[],false);this[l](g,"mousedown","mousedownMotion",[],false)}};this.PB=function(b){var h=this;var a=this.$(this.target+"-cX-Motion");if(a){var c=parseInt(a.style.left)||0;var e=parseInt(a.style.width)||0;var j=(c+e)+"px";var d={width:a.style.width,left:a.style.left,opacity:a.style.opacity||"1"};var f={width:"0px",left:j,opacity:"0"};var g="all 0.5s ease-in-out";var i=function(){h.reproducing=false;if(h.motionObject&&h.motionObject.levels){h.Lx(h.motionObject.levels.length-1)}h.Io(false,b);h.O6()};this.nb(a,d,f,g,null,i)}};this.Kq=function(c){var a=this.zL(c);if(a){var b=this.$(this.target+"-cX-MotionRange");if(b){this.motionOn=b.style.width;this.xMouseDown=c.clientX;this.yMouseDown=c.clientY}}return false};this.aS=function(b,g){if(this.KV()){return}var f=this.$(this.target+"-cX-MotionRange");if(f){var a=this.motionObject.levels;var e=null;for(var c=0;c<a.length;c++){if(a[c]==b){e=c+0.99;if(c==a.length-1){e+=0.05}break}}if(e!=null){var d=this.motionControlWidth/a.length*e;this.disableMotion=true;this.Zp(false,d,false,g);delete this.disableMotion}}};this.Zp=function(j,l,h,b){if(this.KV()){return}var a=this.$(this.target+"-cX-MotionRange");if(j&&a){var c;var k=this.motionControlWidth;var m=l!=null?Math.min(Math.max(0,l),k):j?Math.min(Math.max(0,j.clientX+parseInt(this.motionOn)-this.xMouseDown),k):0;var g=m/this.motionObject.unit;a.style.width=m+"px";this.motionFraction=m/k;this.motionObject.last=m;if(this.motionObject.type=="String"){c=parseInt(g);if(this.reproducing){this.Lx(c)}else{if(this.motionObject.levels[c]!=this.motionObject.current||h){this.pI([this.motionObject.levels[c]],h);this.motionObject.current=this.motionObject.levels[c];if(this.userEvents.motion){this.userEvents.motion.call(this,this.motionObject,j,this)}if(!b){this.x9({func:"updateMotion",par:[j,l,h,b]})}}}}else{c=g+this.motionObject.min;for(var d=1;d<this.motionObject.values.length;d++){if(this.motionObject.values[d]>c){this.pI([this.motionObject.current,c],h);if(this.motionObject.decs){this.motionObject.current=Number(this.gG(c,this.motionObject.decs))}else{this.motionObject.current=parseInt(c)}if(this.userEvents.motion){this.userEvents.motion.call(this,this.motionObject,j,this)}if(!b){this.x9({func:"updateMotion",par:[j,l,h,b]})}break}}}}};this.Lx=function(a){if(!this.motionObject.initialized){this.IC();this.motionObject.initialized=true}if(a!=this.motionObject.currentIdx){if(a==(this.motionObject.currentIdx+1)){this.Gb(a,this.motionObject.currentIdx,true)}else{this.motionObject.currentIdx=null;this.Gb(a,null)}this.motionObject.currentIdx=a}else{if(!this.reproduceMotionDragOn){this.t9(a+1)}}};this.IC=function(){var f=this.data.y&&this.data.y.hasOwnProperty("contour")?true:false;var e=this.graphType=="Map"?this.TU(this.data):this.parseJSON(this.G0(CanvasXpress.stack[this.target].data));var b=this.parseJSON(this.G0(CanvasXpress.stack[this.target].config));var h=CanvasXpress.stack[this.target].afterRender;var a=this.showTransition;if(f){this.isContour=false}if(this.isUpSetSumarized){this.isUpSetSumarized=false}this.lg();this.wA();this.zy(this.dataUIStyle);for(var g in b){this[g]=b[g]}this.view="canvas";this.reproducing=true;this.showTransition=false;this.skipRender=false;this.layoutValid=false;if(this.isDOE){var d=this.ridgeBy;this.graphType=this.initialGraphType||this.graphType;this.isDOE=false;this.isPie=false;this.showHistogram=false;this.layoutValid=false;this.WI();this.ridgeBy=d;delete (this.data.l);this.layoutComb=false;this.layoutModified=false;this.ua();this.O6();this.VC()}this.YN(e,true);this.CX(true);this.Q0();this.fH();this.qM(true);this[h[0][0]].apply(this,h[0][1]);this.hT();this.showTransition=a};this.QT=function(E,y,A){var w,k,m,i,x,n,r,j,B,s,z,q;var F=y[0];var G=null;var D=this.graphType;switch(E){case"handleDragEventGenome":case"handleDragEventHeatmap":case"handleDragEventOneDimension":case"handleDragEventScatter":case"handlePanning":case"showHideSelectedData":G=y[1];break;case"updateDragNetwork":G=y[5];break}var H=G!=null?this.al(G):false;if(H!=false){var C=F.xMouseDown;var v=F.yMouseDown;var u=F.ac.x;var a=F.ac.y;if(C>=H[0]&&C<=H[1]&&v>=H[2]&&v<=H[3]){if((!D.match(/Scatter|Heatmap|Network|Genome|Circular/)&&this.Qc()&&!F.shiftKey)||(!D.match(/Scatter|Heatmap|Network|Genome|Circular/)&&this.graphOrientation!="vertical"&&F.shiftKey)){w=x=H[0];m=r=H[1]-H[0]}else{w=x=Math.min(C,u);m=0;r=u>C?u-C:C-u}B=x;z=x+r;if((!D.match(/Scatter|Heatmap|Network|Genome|Circular/)&&this.graphOrientation!="vertical"&&!F.shiftKey)||(!D.match(/Scatter|Heatmap|Network|Genome|Circular/)&&this.Qc()&&F.shiftKey)||D=="Genome"){k=n=H[2];i=j=H[3]-H[2]}else{k=n=Math.min(v,a);i=0;j=a>v?a-v:v-a}s=n;q=n+j}else{if(A&&C>=H[4]&&C<=H[5]&&v>=H[6]&&v<=H[7]){var h=function(){w=x=H[4];k=v;n=a;m=r=H[5]-H[4];i=j=3;B=C;s=v;z=C;q=n};var d=function(){w=C;x=u;k=n=H[6];m=r=3;i=j=H[7]-H[6];B=C;s=v;z=x;q=v};if(A.moveDendrogram){if(A.moveDendrogram=="varDendrogram"||(A.moveDendrogram=="smpDendrogram"&&this.Qc())){h()}else{d()}}else{if(A.moveSmpOverlay){if(D.match(/Heatmap/)||this.Ir()){d()}else{h()}}else{if(A.moveSmp){if(D.match(/Heatmap/)||this.Ir()){h()}else{d()}}else{if(A.moveVarOverlay){h()}else{if(A.moveVar){d()}}}}}}}}return[w,k,m,i,x,n,r,j,B,s,z,q]};this.xV=function(a,b){if(a=="updateClickConfigurator"){return this.$cXI("m_left2",false,false,true)}else{if(b.type.match(/wheel/)){return this.$cXI("m_wheel",false,false,true)}else{if(b.type.match(/key/)){return this.$cXI("ch_cesc",false,false,true)}else{if(b.type.match(/mouse/)){return this.$cXI("m_left",false,false,true)}else{return this.$cXI("m_right",false,false,true)}}}}};this.z4=function(c,d){var b=this.xV(c,d);var a=b?[b]:[];if(d.shiftKey){a.push(this.$cXI("ch_cshift",false,false,true))}if(d.ctrlKey){a.push(this.$cXI("ch_cctrl",false,false,true))}if(d.altKey){a.push(this.$cXI("ch_calt",false,false,true))}return a.length>0?a.join(""):""};this.gv=function(i,j){var b=CanvasXpress.stack[this.target].afterRender[i];if(!b){this.s1(this.width/2,this.height/2,"<b>That's All Folks</b>",2000);return}if(this.reproduceVideoMode){return false}var f=b[0];var a=b[1]||[];var h=b[2]||{};var e=j?"<b>Call "+i+":</b> "+f+"<br><br>":"<b>Call "+i+":</b> "+f+"<br><br>";var d=a[0]&&a[0].type?this.z4(f,a[0]):f=="updateDragScatter"||f=="setDimensions"?this.$cXI("m_left",false,false,true):"";var g=this.O5(a);if(g.length>200){g=g.substring(0,250)+"..."}e+="<b>Parameters:</b> "+d+'<br><br><pre class="cX-code">'+g+"</pre><br>";var c=this.O5(h);if(c.length>200){c=g.substring(0,250)+"..."}e+='<b>Config:</b> <br><br><pre class="cX-code">'+c+"</pre><br>";if(this.reproduceMotionCurrentDiv){this.X6(false,this.reproduceMotionCurrentDiv.id)}if(j){this.reproduceMotionCurrentDiv=this.i2(false,e,false,false,this.width+1,-2)}else{this.reproduceMotionCurrentDiv=this.s1(this.width+1,-2,e)}};this.t9=function(l){var h=this;var d=function(){if(f){f.style.display="none"}h.rN()};if(this.motioningOn){this.gv(l);var w=window.document;var i=w.scrollingElement;var b=this.$(this.target);var q=b.parentNode.getClientRects();var x=this.$(this.target+"-cX-Viewer-Drag");var r=this.$(this.target+"-cX-Icon-Reproduce");var f=this.$(this.target+"-cX-Cursor");var p=this.reproducing;var t=this.reproduceVideoMode;var c=this.reproduceVideoFactorTime;var m={showInfoSpan:true,showToolbar:true};if(!r){r=this.$cXI("tm_history",{id:this.target+"-cX-Icon-Reproduce",className:"CanvasXpressDrag-Icon",src:"tm_history"},{display:"none",position:"absolute",zIndex:239010});w.body.appendChild(r)}var a=CanvasXpress.stack[this.target].afterRender[l];var v=a?a[0]:null;var s=a?a[1]:[];var e=s?s[0]:null;if(!v||(!m.hasOwnProperty(v)&&(!e||!e.type))){return d()}var u=a[2]||{};var g=s[0]&&s[0].type&&s[0].type.match(/wheel/)?true:false;var o=this.reproduceTime*0.95*(p&&t?c:1);var j=(i.scrollLeft||0)+q[0].left-16;var k=(i.scrollTop||0)+q[0].top-16;if(v=="showInfoSpan"&&f&&s[0].ac){f.style.display="block";this.Bp(f,j+s[0].ac.x+16,k+s[0].ac.y+16,16,16,o)}else{if(v=="showToolbar"&&f){f.style.display="block";this.Bp(f,j+u.lastEvent.ac.x+16,k+u.lastEvent.ac.y,16,16,o)}else{if(g){this.rN();this.reproduceMotionDragOn=true;this.$cXIU(r,"m_wheel",false,{left:j+s[0].ac.x+"px",top:k+s[0].ac.y+"px",width:"24px",height:"24px",display:"block",position:"absolute"})}else{if(v!=="updateDragScatter"&&v!=="setDimensions"){this.reproduceMotionDragOn=true;var n=this.QT(v,s,u);this.$cXIU(r,"m_left",false,{left:j+n[8]+"px",top:k+n[9]+"px",width:"24px",height:"24px",display:"block",position:"absolute"});x.style.left=n[0]+"px";x.style.top=n[1]+"px";x.style.width=n[2]+"px";x.style.height=n[3]+"px";x.style.display="block";this.Bp(x,n[4]+16,n[5],n[6],n[7],o);this.Bp(r,j+n[10]+16,k+n[11],32,32,o)}}}}}};this.Gb=function(d,n,l){var j=CanvasXpress.stack[this.target].afterRender.length-1;var g=n!=null?n:1;if(g!=d||d!=j){this.DW();if(!l){this.IC();if(!this.motionObject){this.Jc()}}for(var e=g;e<=d;e++){if(e==this.motionObject.currentIdx){continue}var m=this.showTransition;var b=CanvasXpress.stack[this.target].afterRender[e];var h=b[0];var a=b[1]||[];var k=b[2]||{};for(var f in k){this[f]=k[f]}if(h=="createHistogram"){this.isDOE=false}this.reproducing=true;this.showTransition=false;this.OJ(e);this.skipStack=true;this[h].apply(this,a);this.skipStack=false;this.t9(e+1);this.showTransition=m}this.hT()}};this.EW=function(b,e,m){var k=this;var n=this.reproduceTime*(this.reproducing&&this.reproduceVideoMode?this.reproduceVideoFactorTime:1);if(m){for(var h=0;h<this.motionObject.levels.length;h++){this.Lx(h);var a=(this.saveFilename?this.saveFilename:"cX-"+this.target)+"-"+h+".png";this.print(false,a)}}else{if(b||e){var c=this.$(this.target+"-cX-MotionPlay");if(this.motioningOn){this.$cXIU(c,"v_play");this.motioningOnStop=true;return}this.$cXIU(c,"v_stop");this.motionOn=this.reproducing?0:"0px";this.motioningOn=true;this.motioningOnStop=false;var f=this.motionControlWidth;var l=f/this.motionObject.levels.length;var d=this.motionObject.last||0;if(this.reproducing){this.OJ(this.motionObject.lastSelection||0)}if(d==0){this.iu(b,true);this.meta.ids={}}var g=function(){if(k.motionObject&&(d>=f||k.motioningOnStop)){var i=function(){var p=k.reproducing||!k.motionObject?0:k.motionObject.varIndicesMotion.length;if(p<1){k.motionOn=false;k.motioningOn=false;k.motioningOnStop=false;if(k.motionObject){k.motionObject.last=d>=f?0:d}k.rN();clearInterval(o);k.$cXIU(c,"v_play");k.skipStack=false;k.skipTransition=false;return}if(!k.reproducing){k.motionObject.varIndicesMotion.shift();k.motionObject.smpIndicesMotion.shift();k.motionObject.grpIndicesMotion.shift()}if(!k.motioningOnStop){k.Zp(b,f,false,true)}};clearInterval(j);var o=k.mG(i,n)}d+=l;k.Zp(b,d,false,true)};if(this.reproducing&&!this.motionObject.initialized){this.IC();this.motionObject.initialized=true}this.Zp(b,d,false,true);this.skipStack=true;this.skipTransition=true;var j=this.mG(g,n)}}};this.xX=function(d){var c=this.zL(d);if(c){var b=c.getAttribute("idx");if(b==0){this.iu(d,true);this.meta.ids={}}this.OJ(b);this.rY(b);this.Lx(b);this.gv(b,true);var a=CanvasXpress.stack[this.target];while(a.afterRender.length>this.motionObject.n){a.afterRender.pop()}}};this.OJ=function(b){var g=this.$(this.target+"-cX-MotionSelection");if(g){var a=0;var f=parseInt(g.style.maxHeight);if(g.childNodes[0].childNodes.length>1){a=g.childNodes[0].childNodes[1].offsetTop-g.childNodes[0].childNodes[0].offsetTop}for(var d=0;d<g.childNodes[0].childNodes.length;d++){var c=g.childNodes[0].childNodes[d].childNodes[0].childNodes[0];if(c.getAttribute("idx")==b){this.$cXIU(c,"sl_radioon");var j=g.childNodes[0];var h=g.childNodes[0].childNodes[d];if(h.offsetTop>f-j.scrollTop){j.scrollTop=h.offsetTop}else{if(h.offsetTop<j.scrollTop){j.scrollTop=h.offsetTop}}}else{this.$cXIU(c,"sl_radiooff")}}this.motionObject.lastSelection=b}};this.rY=function(a){var c=this.$(this.target+"-cX-MotionRange");if(c&&this.motionObject.type=="String"){var b=this.motionControlWidth/(this.motionObject.levels.length-1)*a;c.style.width=b+"px";this.motionObject.last=b}};this.LP=function(){this.pI([this.motionCache.current],true);this.motionObject.current=this.motionCache.current;var a=this.$(this.target+"-cX-MotionRange");if(a){a.style.width=parseInt(Number(this.motionControlWidth)*Number(this.motionCache.fraction))+"px"}this.motionObject.setIndices=false;delete (this.motionCache)};this.Io=function(a,b){var d=this.$(this.target+"-cX-Motion");if(d){if(this.reproduceMotionCurrentDiv){this.X6(b,this.reproduceMotionCurrentDiv.id)}this.IW("removeEvtListener");while(CanvasXpress.stack[this.target].afterRender.length>this.motionObject.n){CanvasXpress.stack[this.target].afterRender.pop()}var c=this.reproducing?CanvasXpress.stack[this.target].afterRender.length-1:0;if(a){this.motionCache={name:this.motionObject.name,current:this.motionObject.type=="String"?[this.motionObject.current]:[this.motionObject.current],fraction:this.motionFraction}}this.L6(false,false,b,true);this.xu();if(c){this.Gb(c,this.motionObject.currentIdx)}this.skipStack=false;this.reproducing=false;delete (this.motionObject);d.parentNode.removeChild(d);this.hT()}};this.Ye=function(){this.motionOn=false;return false};this.rN=function(){var a=this.$(this.target+"-cX-Icon-Reproduce");if(a){a.style.display="none"}if(this.reproduceMotionCurrentDiv){this.X6(false,this.reproduceMotionCurrentDiv.id)}this.vW();this.reproduceMotionDragOn=false};this.LH=function(a){if(this.motionBy&&!this.disableEvents){this.skipStack=true;this.Io(false,a);this.py()}}};CanvasXpress.prototype.initDraggingEvents=function(){this.y3=function(g){if(g){var m={};if(g&&g.type=="keydown"){m.x=(this.layoutComb?this.layoutParams[0].width:this.width)/2;m.y=(this.layoutComb?this.layoutParams[0].height:this.height)/2}else{m=this.Ej(g)}if(this.layoutValid){var b=m.x;var n=m.y;var h=0;for(var f=0;f<this.layoutRows;f++){for(var d=0;d<this.layoutCols;d++){if(h<this.data.l.weight.length){var k=this.al(h);if(this.isDOE){var a=this.isDOE&&this.layoutParams?this.layoutParams[h].bounds:this.al(h);if(a){a.push(k[4]);a.push(k[5]);a.push(k[6]);a.push(k[7]);if(a&&b>=a[0]&&n>=a[1]&&b<=a[2]&&n<=a[3]){this.layoutValidR=f;this.layoutValidC=d;this.layoutValidN=h;this.layoutValidBounds=a;h={idx:h,row:f,col:d,ac:m,bounds:k};return h}}}else{if(b>=k[4]&&b<=k[5]&&n>=k[6]&&n<=k[7]){this.layoutValidR=f;this.layoutValidC=d;this.layoutValidN=h;this.layoutValidBounds=k;h={idx:h,row:f,col:d,ac:m,bounds:k};return h}}h++}else{return false}}}}else{return{idx:0,row:0,col:0,ac:m}}}return false};this.uG=function(a){var b=this.y3(a);if(b&&b.row!=null&&b.col!=null&&b.idx!=null){this.layoutValidR=b.row;this.layoutValidC=b.col;this.layoutValidN=b.idx;this.layoutValidBounds=b.bounds}};this.QA=function(f){var g=this.y3(f);if(g){var q=this.layoutComb?this.layoutParams[g.idx]:this;var a=this.TU(q.varIndices);var h=this.isGroupedData?this.TU(q.grpIndices):this.TU(q.smpIndices);if(a&&h){this.PR(g.idx,a,h);var n=g.ac.x-(q.offsetX+this.marginLeft+q.left);var k=g.ac.y-(q.offsetY+this.marginTop+q.top);var m=Math.min(Math.max(n,0),q.x)/q.x;var l=Math.ceil(a.length/10)*2;var d=Math.round(m*l);var p=l-d;var j=Math.min(Math.max(k,0),q.y)/q.y;var i=Math.ceil(h.length/10)*2;var b=Math.round(j*i);var o=i-b;return{ac:g.ac,row:g.row,col:g.col,idx:g.idx,lcx:m,stx:d,edx:p,lcy:j,sty:b,edy:o,vin:a,sin:h}}else{var n=g.ac.x-(q.offsetX+this.marginLeft+q.left);var k=g.ac.y-(q.offsetY+this.marginTop+q.top);var m=Math.min(Math.max(n,0),q.x)/q.x;var j=Math.min(Math.max(k,0),q.y)/q.y;return{ac:g.ac,row:g.row,col:g.col,idx:g.idx,lcx:m,lcy:j}}}return false};this.bO=function(b,a){return Math.abs(b.x-a.x)+Math.abs(b.y-a.y)>2};this.KG=function(k,l){var h,a,p,j,n,f,o;var c=false;var b=this.QA(k);if(b){var q=this.layoutComb?this.layoutParams[b.idx]:this;if(this.graphType=="Correlation"&&!this.zoomDisable){h=this.correlationAxis=="variables"?true:false;a=this.correlationAxis=="samples"?true:false;p=b.stx;j=b.edx;n=b.stx;f=b.edx;o=false}else{if(this.s9()){h=!this.zoomVariablesDisable&&!this.zoomDisable?true:false;a=!this.zoomSamplesDisable&&!this.zoomDisable?true:false;p=b.stx;j=b.edx;n=b.sty;f=b.edy;o=false}else{if(this.graphType.match(/Bar|Line|Dotplot|Boxplot|Area|Stacked/)&&!this.zoomDisable){h=false;a=true;p=false;j=false;n=this.Qc()?b.stx:b.sty;f=this.Qc()?b.edx:b.edy;o=true}}}if(l>0){if(h&&b.vin.length>3){if(q.varIndicesStart<0){q.varIndicesStart++}for(var g=0;g<p;g++){b.vin.shift();q.varIndicesStart++}for(var g=0;g<j;g++){b.vin.pop()}c=true}if(a&&b.sin.length>3){if(this.isGroupedData){if(q.grpIndicesStart<0){q.grpIndicesStart++}for(var g=0;g<n;g++){b.sin.shift();q.grpIndicesStart++}}else{if(q.smpIndicesStart<0){q.smpIndicesStart++}for(var g=0;g<n;g++){b.sin.shift();q.smpIndicesStart++}}for(var g=0;g<f;g++){b.sin.pop()}c=true}}else{if(h){for(var g=0;g<p;g++){if(q.varIndicesStart>=0&&q.varIndicesStart+b.vin.length<q.startingVarIndices.length){b.vin.push(q.startingVarIndices[q.varIndicesStart+b.vin.length]);c=true}else{if(q.varIndicesStart>0){q.varIndicesStart--;b.vin.unshift(q.startingVarIndices[q.varIndicesStart]);c=true}}}for(var g=0;g<j;g++){if(q.varIndicesStart>0){q.varIndicesStart--;b.vin.unshift(q.startingVarIndices[q.varIndicesStart]);c=true}else{if(q.varIndicesStart>=0&&q.varIndicesStart+b.vin.length<q.startingVarIndices.length){b.vin.push(q.startingVarIndices[q.varIndicesStart+b.vin.length]);c=true}}}}if(a){if(this.isGroupedData){for(var g=0;g<n;g++){if(q.grpIndicesStart>=0&&q.grpIndicesStart+b.sin.length<q.startingGrpIndices.length){b.sin.push(q.startingGrpIndices[q.grpIndicesStart+b.sin.length]);c=true}else{if(q.grpIndicesStart>0){q.grpIndicesStart--;b.sin.unshift(q.startingGrpIndices[q.grpIndicesStart]);c=true}}}for(var g=0;g<f;g++){if(q.grpIndicesStart>0){q.grpIndicesStart--;b.sin.unshift(q.startingGrpIndices[q.grpIndicesStart]);c=true}else{if(q.grpIndicesStart>=0&&q.grpIndicesStart+b.sin.length<q.startingGrpIndices.length){b.sin.push(q.startingGrpIndices[q.grpIndicesStart+b.sin.length]);c=true}}}}else{for(var g=0;g<n;g++){if(q.smpIndicesStart>=0&&q.smpIndicesStart+b.sin.length<q.startingSmpIndices.length){b.sin.push(q.startingSmpIndices[q.smpIndicesStart+b.sin.length]);c=true}else{if(q.smpIndicesStart>0){q.smpIndicesStart--;b.sin.unshift(q.startingSmpIndices[q.smpIndicesStart]);c=true}}}for(var g=0;g<f;g++){if(q.smpIndicesStart>0){q.smpIndicesStart--;b.sin.unshift(q.startingSmpIndices[q.smpIndicesStart]);c=true}else{if(q.smpIndicesStart>=0&&q.smpIndicesStart+b.sin.length<q.startingSmpIndices.length){b.sin.push(q.startingSmpIndices[q.smpIndicesStart+b.sin.length]);c=true}}}}}}if(c){this.Gi(k,h,b.vin,a,b.sin,o,b.idx)}}};this.Gi=function(i,h,f,c,g,b,a){if(this.KV()){return}var d=this.layoutComb?this.layoutParams[a]:this;if(h){d.varIndices=f}if(c){if(b){this.tM(g,true)}if(d.isGroupedData){d.grpIndices=g}else{d.smpIndices=g}}this.x9({func:"drawIndicesAfterWheelEvent",par:[i,h,f,c,g,b,a],prop:{varIndicesStart:this.varIndicesStart,smpIndicesStart:this.smpIndicesStart,grpIndicesStart:this.grpIndicesStart}})};this.Bd=function(j,l){var c=this.QA(j);if(c&&!this.zoomDisable){var r,k,p,i;var s=this.layoutComb?this.layoutParams[c.idx]:this;var n=c.ac.x>(this.marginLeft+s.offsetX+s.left)&&c.ac.x<(this.marginLeft+s.offsetX+s.left+s.x);var f=c.ac.y>(this.marginTop+s.offsetY+s.top)&&c.ac.y<(this.marginTop+s.offsetY+s.top+s.y);var b=(s.xAxisMax-s.xAxisMin)*this.zoomStep*c.lcx;var a=(s.yAxisMax-s.yAxisMin)*this.zoomStep*c.lcy;var q=(s.xAxisMax-s.xAxisMin)*this.zoomStep*(1-c.lcx);var h=(s.yAxisMax-s.yAxisMin)*this.zoomStep*(1-c.lcy);if(l>0){if(n&&!this.zoomXDisable){r=this.setMinX=s.setMinX!=null?s.setMinX+b:s.xAxisMin+b;k=this.setMaxX=s.setMaxX!=null?s.setMaxX-q:s.xAxisMax-q}if(f&&!this.zoomYDisable&&this.graphType!="Genome"){p=this.setMinY=s.setMinY!=null?s.setMinY+h:s.yAxisMin+h;i=this.setMaxY=s.setMaxY!=null?s.setMaxY-a:s.yAxisMax-a}if(this.graphType=="Genome"&&this.showIdeogram){var g=CanvasXpress.chromosomes[this.ideogram].data[this.ideogramChromosomeNumber];var o=g.length-1;this.setMinX=!isNaN(r)?Math.max(0,r):null;this.setMaxX=!isNaN(r)?Math.min(g[o][1],k):null}}else{if(n&&!this.zoomXDisable){r=this.setMinX=s.setMinX!=null?s.setMinX-b:s.xAxisMin-b;k=this.setMaxX=s.setMaxX!=null?s.setMaxX+q:s.xAxisMax+q}if(f&&!this.zoomYDisable&&this.graphType!="Genome"){p=this.setMinY=s.setMinY!=null?s.setMinY-h:s.yAxisMin-h;i=this.setMaxY=s.setMaxY!=null?s.setMaxY+a:s.yAxisMax+a}if(this.yW()&&r<s.xAxisMin){r=s.xAxisMin;k=s.xAxisMax}if(this.yW()&&p<s.yAxisMin){p=s.yAxisMin;i=s.yAxisMax}if(this.graphType=="Genome"&&this.showIdeogram){var g=CanvasXpress.chromosomes[this.ideogram].data[this.ideogramChromosomeNumber];var o=g.length-1;this.setMinX=Math.max(0,r);this.setMaxX=Math.min(g[o][1],k)}}if((r<=s.xAxisAbsMin||k>=s.xAxisAbsMax||p<=s.yAxisAbsMin||i>=s.yAxisAbsMax)&&l<0&&this.graphType!="Genome"){this.setMinX=null;this.setMaxX=null;this.setMinY=null;this.setMaxY=null}if(s.setMinX=="Infinity"||s.setMaxX=="Infinity"){this.setMinX=r;this.setMaxX=k}if(s.setMinY=="Infinity"||s.setMaxY=="Infinity"){this.setMinY=p;this.setMaxY=i}this.Vf(this.setMinX,this.setMaxX,this.setMinY,this.setMaxY,c.idx)}};this.Vf=function(g,e,f,d,h){if(this.KV()){return}if(this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/correlation|all/)){var a=0;for(var c=0;c<this.layoutRows;c++){for(var b=0;b<this.layoutCols;b++){var k=this.layoutParams[a];if(c==this.layoutValidR){k.setMinY=f;k.setMaxY=d}if(b==this.layoutValidC){k.setMinX=g;k.setMaxX=e}a++}}}else{var k=this.layoutComb&&this.layoutParams&&this.layoutParams[h]?this.layoutParams[h]:this;k.setMinX=g;k.setMaxX=e;k.setMinY=f;k.setMaxY=d}if(this.graphType.match(/Scatter2D/)){this.skipFilterFit=true}this.x9({func:"drawRangesAfterWheelEvent",par:[g,e,f,d,h]})};this.mP=function(j,b){var a,r;var h=0;var p=this.layoutComb?this.layoutParams[this.layoutValidN||0]:this;var c=this.TU(p.varIndices);var n=p.isGroupedData?this.TU(p.grpIndices):this.TU(p.smpIndices);var o=this.draggingOn?Math.max(1,Math.floor(c.length/10)):1;var q=this.draggingOn?Math.max(1,Math.floor(n.length/10)):1;this.PR(this.layoutComb?this.layoutValidN:0,c,n);if(this.graphType=="Correlation"){h=1;switch(b){case 37:r=p.varIndicesStart>0?3:p.smpIndicesStart>0?4:1;break;case 39:r=p.varIndicesStart>-1?5:p.smpIndicesStart>-1?6:1;break}}else{if(this.s9()){h=2}else{if(this.graphType.match(/Bar|Line|Dotplot|Boxplot|Area|Stacked/)){h=3}}}switch(b){case 33:a=h==1?1:h==2?4:h==3?4:1;break;case 34:a=h==1?1:h==2?6:h==3?6:1;break;case 35:a=h==1?1:h==2?1:h==3?1:1;break;case 36:a=h==1?1:h==2?2:h==3?1:1;break;case 37:a=h==1?r:h==2?3:h==3?4:1;break;case 38:a=h==1?1:h==2?4:h==3?4:1;break;case 39:a=h==1?r:h==2?5:h==3?6:1;break;case 40:a=h==1?1:h==2?6:h==3?6:1;break}var l=false;if(a==1){return false}else{if(a==2){p.varIndicesStart=-1;p.smpIndicesStart=-1;p.grpIndicesStart=-1;p.varIndices=p.startingVarIndices;if(p.isGroupedData){p.grpIndices=p.startingGrpIndices}else{p.smpIndices=p.startingSmpIndices}l=true}else{if(a==3){for(var f=0;f<o;f++){if(p.varIndicesStart>0){c.unshift(p.startingVarIndices[p.varIndicesStart-1]);c.pop();p.varIndicesStart--;l=true}}}else{if(a==4){if(this.isGroupedData){for(var f=0;f<q;f++){if(p.grpIndicesStart>0){n.unshift(p.startingGrpIndices[p.grpIndicesStart-1]);n.pop();p.grpIndicesStart--;l=true}}}else{for(var f=0;f<q;f++){if(p.smpIndicesStart>0){n.unshift(p.startingSmpIndices[p.smpIndicesStart-1]);n.pop();p.smpIndicesStart--;l=true}}}}else{if(a==5){for(var f=0;f<o;f++){if(p.varIndicesStart>-1&&p.varIndicesStart+c.length<p.startingVarIndices.length){c.push(p.startingVarIndices[p.varIndicesStart+c.length]);c.shift();p.varIndicesStart++;l=true}}}else{if(a==6){if(this.isGroupedData){for(var f=0;f<q;f++){if(p.grpIndicesStart>-1&&p.grpIndicesStart+n.length<p.startingGrpIndices.length){n.push(p.startingGrpIndices[p.grpIndicesStart+n.length]);n.shift();p.grpIndicesStart++;l=true}}}else{for(var f=0;f<q;f++){if(p.smpIndicesStart>-1&&p.smpIndicesStart+n.length<p.startingSmpIndices.length){n.push(p.startingSmpIndices[p.smpIndicesStart+n.length]);n.shift();p.smpIndicesStart++;l=true}}}}}}}}}if(l){this.HO(j,c,n,this.layoutValidN||0)}};this.OY=function(h,b){var a=this.QA(h);if(a){var d=this.layoutComb?this.layoutParams[a.idx]:this;var g=d.xAxisRange*this.zoomStep;var f=d.yAxisRange*this.zoomStep;switch(b){case 37:this.setMinX-=g;this.setMaxX-=g;if(this.setPanningMinX!=null){if(this.setMinX<this.setPanningMinX){this.setMinX=this.setPanningMinX;this.setMaxX+=g}}if(this.setPanningMaxX!=null){if(this.setMaxX>this.setPanningMaxX){this.setMaxX=this.setPanningMaxX;this.setMinX+=g}}break;case 38:this.setMinY+=f;this.setMaxY+=f;if(this.setPanningMinY!=null){if(this.setMinY<this.setPanningMinY){this.setMinY=this.setPanningMinY;this.setMaxY-=f}}if(this.setPanningMaxY!=null){if(this.setMaxY>this.setPanningMaxY){this.setMaxY=this.setPanningMaxY;this.setMinY-=f}}break;case 39:this.setMinX+=g;this.setMaxX+=g;if(this.setPanningMinX!=null){if(this.setMinX<this.setPanningMinX){this.setMinX=this.setPanningMinX;this.setMaxX-=g}}if(this.setPanningMaxX!=null){if(this.setMaxX>this.setPanningMaxX){this.setMaxX=this.setPanningMaxX;this.setMinX-=g}}break;case 40:this.setMinY-=f;this.setMaxY-=f;if(this.setPanningMinY!=null){if(this.setMinY<this.setPanningMinY){this.setMinY=this.setPanningMinY;this.setMaxY+=f}}if(this.setPanningMaxY!=null){if(this.setMaxY>this.setPanningMaxY){this.setMaxY=this.setPanningMaxY;this.setMinY+=f}}break}var c=this.showTransition;this.showTransition=false;this.Vf(this.setMinX,this.setMaxX,this.setMinY,this.setMaxY,a.idx);this.showTransition=c}};this.HO=function(f,b,c,a){if(this.KV()){return}var d=this.layoutComb?this.layoutParams[a]:this;d.varIndices=b;if(d.isGroupedData){d.grpIndices=c}else{d.smpIndices=c}this.x9({func:"drawIndicesAfterPannEvent",par:[f,b,c,a],prop:{varIndicesStart:this.varIndicesStart,smpIndicesStart:this.smpIndicesStart,grpIndicesStart:this.grpIndicesStart}})};this.BH=function(l){if(!this.is3DNetwork){var d,i,h,k,m;var p=this.hl(l);var j=this.po(p);var b=this.zL(l);var g=l.shiftKey;var o=this.fR(this.xMouseDown);var n=this.bU(this.yMouseDown);if(j){var a=this.tO(j)?j[0].toString():j.toString();if(a&&a.match(/-lab$/)){if(g){i=true}d=a.split("-")[0]}else{if(a&&a.match(/-dec$/)){if(g){d=a.split("-")[0];h=true}else{this.vW(l);this.sp(l)}}else{if(a&&a.match(/-group$/)){k=Number(a.split("-")[0])}else{if(a&&a.match(/-community$/)){m=Number(a.split("-")[0])}else{if(a&&a.match(/-elbow$/)){j=a.replace("-elbow","").split(",");b.style.cursor="move";this.moveEdge=true;this.moveEdgeIndex=j[0]-this.data.nodes.length;this.moveEdgeElbow=j[1]}else{if(a&&a.match(/-resize/)){d=a.split("-")[0];this.resizeNode=a.split("-resize")[1]}else{d=j}}}}}}if(this.moveEdge){var c=this.data.edges[this.moveEdgeIndex].elbows[this.moveEdgeElbow];this.moveEdgeX=c[0]-o;this.moveEdgeY=c[1]-n}else{if(!isNaN(d)&&d<this.data.nodes.length){b.style.cursor="move";this.moveNode=true;this.moveNodeIndex=d;if(i){this.moveNodeLab=true}else{if(h){this.moveNodeDec=true}}var f=this.data.nodes[this.moveNodeIndex];this.moveNodeW=f.width?f.width:f.size?(this.nodeSize*f.size):this.nodeSize;this.moveNodeH=f.height?f.height:f.size?(this.nodeSize*f.size):this.nodeSize;if(this.moveNodeLab){this.moveNodeX=f.labelX!=null?f.labelX-o:f.labelXi-o;this.moveNodeY=f.labelY!=null?f.labelY-n:f.labelYi-n}else{if(this.moveNodeDec){this.moveNodeX=f.decorationsX!=null?f.decorationsX-o:f.decorationsXi-o;this.moveNodeY=f.decorationsY!=null?f.decorationsY-n:f.decorationsYi-n}else{this.moveNodeX=f.x-o;this.moveNodeY=f.y-n}}}else{if(!isNaN(k)){this.moveGroup=true;this.moveGroupIndex=k;this.moveGroupX=o;this.moveGroupY=n}else{if(!isNaN(m)){this.moveCommunity=true;this.moveCommunityIndex=m;this.moveCommunityX=o;this.moveCommunityY=n}}}}}}};this.NT=function(c){var b=this.hl(c,true);var a=this.po(b);if(a&&isNaN(a[0][0])){this.moveGenome=a[0][0]}else{this.moveGenome=false}};this.Yo=function(d){var c=this.hl(d,true);var a=this.po(c);var b=this.Ej(d);if(a){this.moveCircular={id:a,x:this.cx,y:this.cy,ac:b,ring:a[0].toString().match("Ring")?Number(a[0].toString().split(":")[1]).toString():null};if(a[0]){if(this.tO(a[0])){if(a[0][0].match(/Label$/)){this.moveCircular.label={x:b.x,y:b.y}}}else{if(a[0].match(/Label$/)){this.moveCircular.label={x:b.x,y:b.y}}}}}else{this.moveCircular=false}};this.Je=function(d){var c=this.hl(d,true);var b=this.po(c);var f=this.xMouseDown;var a=this.yMouseDown;if(b&&this.tO(b)){b=b[0].toString()}if(b&&b.match(/-legend-/)){if(b.match(/-legend-sample/)){ml="sample";mx=this.legend.sample.curX-f;my=this.legend.sample.curY-a}else{if(b.match(/-legend-variable/)){ml="variable";mx=this.legend.variable.curX-f;my=this.legend.variable.curY-a}else{if(b.match(/-legend-color/)){ml="color";mx=this.legend.color.curX-f;my=this.legend.color.curY-a}else{if(b.match(/-legend-size/)){ml="size";mx=this.legend.size.curX-f;my=this.legend.size.curY-a}else{if(b.match(/-legend-shape/)){ml="shape";mx=this.legend.shape.curX-f;my=this.legend.shape.curY-a}else{if(b.match(/-legend-pattern/)){ml="pattern";mx=this.legend.pattern.curX-f;my=this.legend.pattern.curY-a}else{if(b.match(/-legend-decoration/)){ml="decoration";mx=this.legend.decoration.curX-f;my=this.legend.decoration.curY-a}else{ml=this.moveLegend;mx=this.moveLegendX;my=this.moveLegendY}}}}}}}this.moveLegend=ml;this.moveLegendX=mx;this.moveLegendY=my}};this.Zv=function(b){var a=this.hl(b);var c=this.po(a);if(c&&!this.tO(c)&&c.match(/legend/)){this.Je(b)}};this.Xz=function(i,b,d){var g=this.hl(i);var j=this.po(g);var h=(this.afterRendering||this.reproducing)&&this.moveMarker;if((j&&this.tO(j)&&j[0].toString().match(/^Marker/))||h){var c=h?[null,this.moveMarker]:j[0].split(":");this.skipClick=false;this.draggingOn=true;this.xMouseDown=b;this.yMouseDown=d;var a=this.Tr(c[1]);if(a){this.moveMarker=c[1];this.moveMarkerX=h?b:a.curX-b;this.moveMarkerY=h?d:a.curY-d;if(h){a.curX=b;a.curY=d}a.position=false;this.x9({func:"isMarkerDrag",par:[i,b,d],prop:{moveMarker:this.moveMarker}})}}};this.H7=function(k,f,m){var a=this.hl(k,true);var c=this.po(a);if(c&&c[0]&&c[0].toString().match(/^Sankey/)){if(c[0].toString().match(/^SankeyAxis/)){this.skipClick=false;this.draggingOn=true;this.xMouseDown=f;this.yMouseDown=m;this.moveSankeyAxis=this.sankeyAxes[Number(c[0].toString().replace("SankeyAxis",""))]}else{var b=c[0].toString().split(":");var h=this.data.sankey.nodes[b[2]];this.skipClick=false;this.draggingOn=true;this.xMouseDown=f;this.yMouseDown=m;this.moveSankey=h;this.moveSankeyId=b[2];this.moveSankeyMin=h.y;this.moveSankeyX=h.x;this.moveSankeyY=m;var d=[];for(var j=0;j<this.data.sankey.nodes.length;j++){var g=this.data.sankey.nodes[j];if(g.breadth==this.moveSankey.breadth){d.push({idx:j,id:g.id,y:g.y,dy:g.dy})}}this.moveSankeyOrder=d.sort(function(i,e){return i.y-e.y})}}};this.yx=function(c,a,b){this.skipClick=false;this.draggingOn=true;this.xMouseDown=a;this.yMouseDown=b;this.moveMap=true};this.Of=function(u){if(this.disableDrag){return false}else{if(this.isDOE){var f=this.zL(u);var k=u.shiftKey;var y=this.Ej(u);if(y){this.xMouseDown=y.x;this.yMouseDown=y.y;this.skipClick=true}return false}else{if(!u){return false}var f=this.zL(u);var k=u.shiftKey;var y=this.Ej(u);if(y){CanvasXpress.current=this;var m=y.x;var z=y.y;var x=0;for(var p=0;p<this.layoutRows;p++){for(var n=0;n<this.layoutCols;n++){var b=this.layoutComb?x<this.data.l.weight.length:true;if(b){var s=this.layoutComb?this.layoutParams[x].graphType:this.graphType;var w=this.al(x);this.Xz(u,m,z);if(this.moveMarker){return false}if(s.match(/Pie|Venn|Stacked|Area|Treemap|TagCloud|ParallelCoordinates|Tree|Gantt|Meter|Fish/)){this.Zv(u);return false}else{if(s=="Genome"){this.NT(u)}else{if(s=="Circular"){this.Yo(u)}else{if(s=="Sankey"){this.H7(u,m,z);return false}else{if(s=="Map"){this.yx(u,m,z);return false}}}}}if(m>=w[0]&&m<=w[1]&&z>=w[2]&&z<=w[3]||this.moveGenome){this.skipClick=false;this.draggingOn=true;this.xMouseDown=m;this.yMouseDown=z;if(s=="Correlation"){return false}if(s.match(/Network/)){if(this.lassoSelected){this.lassoPoints=[[m],[z]];return}}if(s.match(/Scatter/)){if(this.lassoSelected){this.lassoPoints=[[m],[z]];return}this.Je(u);if(this.moveLegend){return false}}if(!s.match(/Network|Genome|Venn|Correlation|Scatter/)){this.Zv(u);if(this.moveLegend){return false}}var v=this.$(this.target+"-cX-Viewer-Drag");if(s=="Network"){this.BH(u)}if((!s.match(/Scatter|Heatmap|Network|Genome|Circular/)&&this.Qc()&&!k)||(!s.match(/Scatter|Heatmap|Network|Genome|Circular/)&&this.graphOrientation!="vertical"&&k)){v.style.left=w[0]+"px"}else{v.style.left=this.xMouseDown+"px"}if((!s.match(/Scatter|Heatmap|Network|Genome|Circular/)&&this.graphOrientation!="vertical"&&!k)||(!s.match(/Scatter|Heatmap|Network|Genome|Circular/)&&this.Qc()&&k)||s=="Genome"){v.style.top=w[2]+"px"}else{v.style.top=this.yMouseDown+"px"}if(this.layoutValid){this.layoutValidR=p;this.layoutValidC=n;this.layoutValidN=x;this.layoutValidBounds=w}return false}else{if(m>=w[4]&&m<=w[5]&&z>=w[6]&&z<=w[7]){var a=this.hl(u);var h=this.po(a);if(h){this.skipClick=false;this.draggingOn=true;this.xMouseDown=m;this.yMouseDown=z;if(s=="Correlation"){return false}if(s.match(/Scatter/)){if(this.lassoSelected){this.lassoPoints=[[m],[z]];return}this.Je(u);if(this.moveLegend){return false}}if(!s.match(/Network|Genome|Venn|Correlation|Scatter/)){this.Zv(u);if(this.moveLegend){return false}}var v=this.$(this.target+"-cX-Viewer-Drag");if(h[0].toString().match(/^varDendrogram|^smpDendrogram/)){this.moveDendrogram=h[0].split(":")[0];f.style.cursor="move";if(h[0].match(/^varDendrogram/)||(h[0].match(/^smpDendrogram/)&&this.Qc())){v.style.left=w[4]+"px";v.style.width=(w[5]-w[4])+"px";v.style.height="3px"}else{v.style.width="3px";v.style.top=w[6]+"px";v.style.height=(w[7]-w[6])+"px"}}else{if(h[0].toString().match("SmpOverlay")){this.moveSmpOverlay=h[0];f.style.cursor="move";if(s.match(/Heatmap/)||this.Ir()){v.style.width="3px";v.style.top=w[6]+"px";v.style.height=(w[7]-w[6])+"px"}else{v.style.left=w[4]+"px";v.style.width=(w[5]-w[4])+"px";v.style.height="3px"}}else{if(h[0].toString().match("Smp")){this.moveSmp=h[0];f.style.cursor="move";if(s.match(/Heatmap/)||this.Ir()){v.style.left=w[4]+"px";v.style.width=(w[5]-w[4])+"px";v.style.height="3px"}else{v.style.width="3px";v.style.top=w[6]+"px";v.style.height=(w[7]-w[6])+"px"}}else{if(h[0].toString().match("VarOverlay")){this.moveVarOverlay=h[0];f.style.cursor="move";v.style.left=w[4]+"px";v.style.width=(w[5]-w[4])+"px";v.style.height="3px"}else{if(h[0].toString().match("Var")){this.moveVar=h[0];f.style.cursor="move";v.style.width="3px";v.style.top=w[6]+"px";v.style.height=(w[7]-w[6])+"px"}}}}}return false}}}}x++}}return false}}}};this.Rz=function(w,s,m,z,f,B){if(this.KV()){return}var g;if(this.moveCircular){var z=this.moveCircular;g=this.tO(this.moveCircular.id[0])?this.moveCircular.id[0][0]:this.moveCircular.id[0];if(this.circularType=="bubble"&&g.match(/Label/)&&this.hierarchy.length>1){var r=this.data.bubble.root.children;var d=false;for(var v=0;v<r.length;v++){var o=r[v].descendants();for(var u=0;u<o.length;u++){var A=o[u];var n="Bubble"+(A.data.idx||-u)+":"+(A.data.name||A.parent.data.name)+":"+A.value+":Label";if(n==g){var k=s-z.label.x;var h=m-z.label.y;A.label.x+=k;A.label.y+=h;z.label.x+=k;z.label.y+=h;d=true;break}}if(d){break}}}else{var p=(Math.atan2(f-this.cx,B-this.cy)*180/Math.PI)+this.circularRotate;var a=(Math.atan2(s-this.cx,m-this.cy)*180/Math.PI);var x=p-a;this.circularRotate=x}}else{this.panningX-=this.xMouseDown-s;this.panningY-=this.yMouseDown-m}this.xMouseDown=s;this.yMouseDown=m;this.skipTransition=true;z=this.TU(z);if(this.circularType=="bubble"&&g&&g.match(/Label/)){z.label.x=z.ac.x;z.label.y=z.ac.y}this.x9({func:"updateDragCircular",par:[w,s,m,z,f,B],prop:{circularRotate:this.circularRotate,moveCircular:z,panningX:this.panningX,panningY:this.panningY,xMouseDown:this.xMouseDown,yMouseDown:this.yMouseDown}});this.skipClick=true};this.mo=function(e,n,g,j,a){if(this.KV()){return}var d=j;var i=a;var b=e;var h=n;var k=this.layoutComb?this.layoutParams[g].x:this.x;var f=this.layoutComb?this.layoutParams[g].y:this.y;var o=((b-d)*this.rotationSensitivity)/k;var m=((h-i)*this.rotationSensitivity)/f;this.xRotate-=o;this.yRotate+=m;this.xMouseDown=e;this.yMouseDown=n;this.skipTransition=true;this.x9({func:"updateDragScatter3D",par:[e,n,g,j,a]})};this.e2=function(b,d){if(this.KV()){return}if(this.lassoSelected){this.lassoPoints[0].push(b);this.lassoPoints[1].push(d)}else{if(this.resizeLegend){var c=b-this.xMouseDown;var a=d-this.yMouseDown;this.heatmapIndicatorWidth+=parseInt(c/10);this.heatmapIndicatorHeight+=parseInt(a/10);this.heatmapIndicatorWidth=Math.max(10,this.heatmapIndicatorWidth);this.heatmapIndicatorHeight=Math.max(10,this.heatmapIndicatorHeight)}else{var e=this.moveLegend;var c=this.legend[e].curX-b-this.moveLegendX;var a=this.legend[e].curY-d-this.moveLegendY;this.legend[e].curX-=c;this.legend[e].curY-=a;this.legend[e].x=this.legend[e].curX;this.legend[e].y=this.legend[e].curY}}this.skipTransition=true;if(!this.lassoSelected){this.x9({func:"updateDragScatter",par:[b,d],prop:{moveLegend:this.moveLegend,moveLegendX:this.moveLegendX,moveLegendY:this.moveLegendY}})}this.skipClick=true};this.Do=function(Z,T,P,F,B){if(this.KV()){return}if(this.is3DNetwork){var v=F;var b=B;var u=T;var ad=P;var Q=this.x;var E=this.y;var f=((u-v)*this.rotationSensitivity)/Q;var d=((ad-b)*this.rotationSensitivity)/E;this.xRotate-=f;this.yRotate+=d;this.xMouseDown=T;this.yMouseDown=P;this.skipTransition=true;this.x9({func:"updateDragScatter3D",par:[Z,T,P,F,B],prop:{isLayoutDone:true,isAnimation:true,networkFreeze:true}})}else{if(this.lassoSelected){this.lassoPoints[0].push(T);this.lassoPoints[1].push(P)}else{var I,f,d,aa,V,O,X,o,c,z,A,H,G,S,a,n,D,ac,ab;var q={};var g=this.data;var m=this.moveNodeX;var j=this.moveNodeY;var p=this.moveNodeW;var C=this.moveNodeH;var K=Z.shiftKey;var U=Z.ctrlKey;this.movingOn=true;var N=this.fR(T);var M=this.bU(P);var r=this.zL(Z);var J=this.PQ(T);var Y=this.op(P);if(r){r.style.cursor=K?"se-resize":"move"}if(this.moveNode||this.moveEdge||this.moveLegend||this.moveGroup||this.moveCommunity){if(this.moveLegend){o=g.legend;if(this.moveLegend.match("Text")){aa=parseInt(this.moveLegend.replace("Text",""));f=o.text[aa].x-N-this.moveLegendX;d=o.text[aa].y-M-this.moveLegendY;o.text[aa].x-=f;o.text[aa].y-=d}else{aa=this.moveLegend.toLowerCase();f=o.pos[aa].x-N-this.moveLegendX;d=o.pos[aa].y-M-this.moveLegendY;o.pos[aa].x-=f;o.pos[aa].y-=d}}else{if(this.moveCommunity){var R=this.networkConvexHulls[this.moveCommunityIndex];f=this.moveCommunityX-N;d=this.moveCommunityY-M;this.moveCommunityX-=f;this.moveCommunityY-=d;for(var W=0;W<R.nodes.length;W++){I=g.nodes[R.nodes[W]];this.hV(I.id,f,d)}}else{if(this.moveGroup){var L=g.groups[this.moveGroupIndex];f=this.moveGroupX-N;d=this.moveGroupY-M;this.moveGroupX-=f;this.moveGroupY-=d;for(var W=0;W<L.leaves.length;W++){I=g.nodes[L.leaves[W].index];this.hV(I.id,f,d)}}else{if(g.edges[this.moveEdgeIndex]){c=g.edges[this.moveEdgeIndex].elbows[this.moveEdgeElbow];f=c[0]-N-this.moveEdgeX;d=c[1]-M-this.moveEdgeY;this.oO(this.moveEdgeIndex,this.moveEdgeElbow,f,d)}else{if(g.nodes[this.moveNodeIndex]){I=g.nodes[this.moveNodeIndex];if(this.moveNodeLab){f=I.labelX!=null?I.labelX-N-m:I.labelXi-N-m;d=I.labelY!=null?I.labelY-M-j:I.labelYi-M-j;this.Av(I.id,f,d)}else{if(this.moveNodeDec){f=I.decorationsX!=null?I.decorationsX-N-m:I.decorationsXi-N-m;d=I.decorationsY!=null?I.decorationsY-M-j:I.decorationsYi-M-j;this.El(I.id,f,d)}else{f=I.x-N-m;d=I.y-M-j;if(K&&!Z.ctrlKey){O=(p-f)+J;X=(C-d)+Y;this.cG(I.id,Math.abs(O),Math.abs(X));for(var aa in CanvasXpress.selector.nodes){if(aa!=I.id){this.cG(aa,O,X)}}}else{if(this.resizeNode){A=I.rotate!=null?I.rotate:0;switch(this.resizeNode){case"ROT":A=180-(Math.atan2(N-I.x,M-I.y)*180/Math.PI);O=p;X=C;f=0;d=0;break;case"TL":O=K?(p-f)+J:p-J;X=K?(C-d)+Y:C-Y;f+=J/2;d+=Y/2;break;case"TR":O=K?(p-f)+J:p+J;X=K?(C-d)+Y:C-Y;f+=J/2;d+=Y/2;break;case"BL":O=K?(p-f)+J:p-J;X=K?(C-d)+Y:C+Y;f+=J/2;d+=Y/2;break;case"BR":O=K?(p-f)+J:p+J;X=K?(C-d)+Y:C+Y;f+=J/2;d+=Y/2;break;case"TM":O=K?(p-f)+J:p;X=K?(C-d)+Y:C-Y;f=0;d+=Y/2;break;case"BM":O=K?(p-f)+J:p;X=K?(C-d)+Y:C+Y;f=0;d+=Y/2;break;case"ML":O=K?(p-f)+J:p-J;X=K?(C-d)+Y:C;f+=J/2;d=0;break;case"MR":O=K?(p-f)+J:p+J;X=K?(C-d)+Y:C;f+=J/2;d=0;break}S=this.iq(I);a=this.Yn(I);n=Math.abs(O)/S;D=Math.abs(X)/a;ac=(Math.abs(O)-S)/2;ab=(Math.abs(X)-a)/2}z=this.Oh(I.id);if(this.networkLayoutType!="radial"&&((this.moveParentsWithChildren&&!K&&!U)||(!this.moveParentsWithChildren&&K&&U))&&z){I=g.nodes[g.nodeIndices[z[0]]]}this.hV(I.id,f,d);if(I.community!=null&&this.networkConvexHulls[I.community]&&this.networkConvexHulls[I.community]["nodes"]&&U){for(var V=0;V<this.networkConvexHulls[I.community]["nodes"].length;V++){if(this.networkConvexHulls[I.community]["nodes"][V]!=this.moveNodeIndex){var s=g.nodes[this.networkConvexHulls[I.community]["nodes"][V]];this.hV(s.id,f,d)}}}if(A!=null){I.rotate=A}if(CanvasXpress.selector.nodes.hasOwnProperty(I.id)||U){if(U&&!CanvasXpress.selector.nodes.hasOwnProperty(I.id)){this.rE({nodes:[I]},false,Z)}q[I.id]=true;z=this.sa(I.id);if(z){for(var V=0;V<z.length;V++){q[g.nodes[z[V]].id]=true}}for(var aa in CanvasXpress.selector.nodes){if(!q.hasOwnProperty(aa)){var s=g.nodes[g.nodeIndices[aa]];z=this.Oh(s.id);if(this.networkLayoutType!="radial"&&((this.moveParentsWithChildren&&!K&&!U)||(!this.moveParentsWithChildren&&K&&U))&&z){s=g.nodes[g.nodeIndices[z[0]]]}if(this.resizeNode){S=this.iq(s);a=this.Yn(s);switch(this.resizeNode){case"ROT":ac=0;ab=0;break;case"TL":break;case"TR":break;case"BL":break;case"BR":break;case"TM":break;case"BM":break;case"ML":break;case"MR":break}this.hV(s.id,-ac,-ab)}else{this.hV(s.id,f,d)}q[s.id]=true;z=this.sa(s.id);if(A!=null){s.rotate=A}if(z){for(var V=0;V<z.length;V++){q[g.nodes[z[V]].id]=true}}}}}else{this.iu(Z)}if(this.resizeNode){this.cG(I.id,Math.abs(O),Math.abs(X));for(var aa in CanvasXpress.selector.nodes){if(aa!=I.id){var s=g.nodes[g.nodeIndices[aa]];this.cG(aa,this.iq(s)*n,this.Yn(s)*D)}}}}}}}}}}}}else{this.panningGlobalX=!J&&!Y&&!this.panningGlobalX?this.panningX:!this.panningGlobalX?this.panningX:this.panningGlobalX;this.panningGlobalY=!Y&&!J&&!this.panningGlobalY?this.panningY:!this.panningGlobalY?this.panningY:this.panningGlobalY;this.panningX=J;this.panningY=Y}this.skipClick=f!=null||d!=null?true:false;this.skipTransition=true;this.x9({network:true,func:"updateDragNetwork",par:[Z,T,P],prop:{moveLegend:this.moveLegend,moveLegendX:this.moveLegendX,moveLegendY:this.moveLegendY,moveEdge:this.moveEdge,moveEdgeIndex:this.moveEdgeIndex,moveEdgeElbow:this.moveEdgeElbow,moveNode:this.moveNode,moveNodeIndex:this.moveNodeIndex,moveNodeLab:this.moveNodeLab,moveNodeDec:this.moveNodeDec,moveNodeW:this.moveNodeW,moveNodeH:this.moveNodeH,moveNodeX:this.moveNodeX,moveNodeY:this.moveNodeY,xMouseDown:this.xMouseDown,yMouseDown:this.yMouseDown}});if(this.is3DNetwork&&I){this.moveNodeIndex=g.nodeIndices[I.id]}}}};this.un=function(a,c){if(this.KV()){return}if(this.moveGenome){this.movingOn=true;var f=this.$(this.target+"-cX-Viewer-Drag");f.style.left="0px";f.style.width=this.width+"px";f.style.top=c+"px";f.style.height="3px"}else{var f=(a-this.xMouseDown)/this.xAxisUnit;if(this.setMinX==null){this.setMinX=this.xAxisMin}if(this.setMaxX==null){this.setMaxX=this.xAxisMax}this.setMinX-=f;this.setMaxX-=f;if(this.showIdeogram){var e=CanvasXpress.chromosomes[this.ideogram].data[this.ideogramChromosomeNumber];var b=e.length-1;this.setMinX=Math.max(0,this.setMinX);this.setMaxX=Math.min(e[b][1],this.setMaxX)}this.skipTransition=true;this.x9({func:"updateDragGenome",par:[a,c],prop:{moveGenome:this.moveGenome,setMinX:this.setMinX,setMaxX:this.setMaxX,xMouseDown:this.xMouseDown}});this.xMouseDown=a}};this.nJ=function(a,b){if(this.KV()){return}if(this.moveMap){this.panningX-=this.xMouseDown-a;this.panningY-=this.yMouseDown-b;this.xMouseDown=a;this.yMouseDown=b;this.skipTransition=true;this.x9({func:"updateDragMap",par:[a,b],prop:{moveMap:this.moveMap,panningX:this.panningX,panningY:this.panningY,xMouseDown:this.xMouseDown,yMouseDown:this.yMouseDown}});this.skipClick=true;if(this.leafletMap){this.Ie()}}};this.JY=function(c,g){if(this.KV()){return}var b=this.Tr(this.moveMarker);var i=b.curX-c;var h=b.curY-g;b.curX-=i;b.curY-=h;this.moveMarkerX=b.curX;this.moveMarkerY=b.curY;var a=this.layoutValid?this.layoutValidBounds[0]:this.left;var f=this.layoutValid?this.layoutValidBounds[2]:this.top;var e=this.layoutValid?this.layoutValidBounds[1]-this.layoutValidBounds[0]:this.x;var d=this.layoutValid?this.layoutValidBounds[3]-this.layoutValidBounds[2]:this.y;b.x=Math.max(0.01,Math.min((b.curX-a)/e,0.99));b.y=Math.max(0.01,Math.min((b.curY-f)/d,0.99));delete b.offsetX;delete b.offsetY;this.skipTransition=true;this.oz(true);this.skipClick=true};this.fH=function(a){delete this.moveSankey;delete this.moveSankeyId;delete this.moveSankeyY;delete this.moveSankeyMin;delete this.moveSankeyOrder;delete this.moveSankeyAxis};this.WK=function(b,c){if(this.moveSankeyAxis){var e=this.$(this.target+"-cX-Viewer-Drag");e.style.left=b+"px";e.style.top="0px";e.style.width="3px";e.style.height=this.height+"px"}else{this.moveSankey=this.data.sankey.nodes[this.moveSankeyId];var a=Math.max(-this.moveSankey.y,Math.min(this.y-(this.moveSankey.y+this.moveSankey.dy),c-this.moveSankeyY));this.moveSankey.y+=a;this.moveSankeyY=c;this.YI()}};this.YI=function(e){if(this.KV()){return}var d=[];var c=this.moveSankeyMin;var b=0;this.moveSankey=this.data.sankey.nodes[this.moveSankeyId];for(var a=0;a<this.data.sankey.nodes.length;a++){var f=this.data.sankey.nodes[a];if(f.breadth==this.moveSankey.breadth){d.push({idx:a,id:f.id,y:f.y,dy:f.dy});c=Math.min(c,f.y);b+=f.dy+this.margin}}if(c+b-this.margin>this.y){c=this.y-(b-this.margin)}d.sort(function(h,g){return h.y-g.y});if(this.afterRendering||this.reproducing){d=this.moveSankeyOrder}if(!this.gS(d,this.moveSankeyOrder)||e){for(var a=0;a<d.length;a++){var f=this.data.sankey.nodes[d[a].idx];if(f.id!=this.moveSankey.id||e){f.y=c}c+=f.dy+this.margin}}this.data.sankey.object.relayout();this.skipStack=this.reproducing?true:!e;this.x9({func:"resortSankey",par:[e],prop:{moveSankeyId:this.moveSankeyId,moveSankeyY:this.moveSankeyY,moveSankeyMin:c,moveSankeyOrder:d}});this.skipStack=false};this.hO=function(){this.x9({func:"resortSankeyAxis",par:[],prop:{sankeyAxes:this.sankeyAxes}})};this.lL=function(A){if(this.draggingOn){var h=this;var u=function(e){var d=e.meta.config.user;var i=e.setMinX!=null&&e.setMinY!=null&&e.setMaxX!=null&&e.setMaxY!=null;var j=d.setMinX!=null&&d.setMinY!=null&&d.setMaxX!=null&&d.setMaxY!=null;var g=e.graphType.match(/Scatter/)&&e.scatterType=="visium"&&!e.visiumPanning;return g?false:j?false:i?true:false};if(this.resetOn){this.resetOn=false;this.cc(A);return}var x=A.shiftKey;var f=A.ctrlKey;var r=A.altKey;var D=this.Ej(A);if(D){var v=D.x;var n=D.y;var y=this.layoutValidR;var w=this.layoutValidC;var C=this.layoutValidN||0;var p=this.layoutValidBounds;var h=this.layoutComb?this.layoutParams[C]:this;var z=h.graphType;if(z!="Scatter3D"&&!this.lassoSelected&&this.showMousePositionOnDrag){this.CS(A)}if(this.moveMarker){this.JY(v,n);return false}else{if(z.match(/Pie|Venn|Stacked|Area|Treemap|TagCloud|ParallelCoordinates|Tree|Gantt|Meter|Fish/)){if(!z.match(/Network|Genome|Venn|Correlation|Gantt|Scatter/)&&this.moveLegend){this.e2(v,n);this.movingOn=true;this.resetOn=false}else{return false}}}if(z=="Sankey"){this.WK(v,n)}else{if(z.match(/Scatter/)&&(this.moveLegend||this.lassoSelected)){this.e2(v,n)}else{if(!z.match(/Network|Genome|Venn|Correlation|Scatter/)&&this.moveLegend){this.e2(v,n)}else{if((z=="Scatter3D"&&!x)||this.is3DPlot){this.mo(v,n,C,this.xMouseDown,this.yMouseDown)}else{if(z=="Circular"){if(this.moveLegend){this.e2(v,n);this.movingOn=true;this.resetOn=false}else{this.Rz(A,v,n,C,this.xMouseDown,this.yMouseDown)}}else{if(z=="Network"&&((this.moveNode||this.moveLegend)||(!f&&!x&&!r))){this.Do(A,v,n,this.xMouseDown,this.yMouseDown)}else{if(z=="Genome"&&(this.moveGenome||(!x))){this.un(v,n)}else{if(z=="Map"){this.nJ(v,n)}else{if(this.moveDendrogram){var o=this.al(C);var B=this.$(this.target+"-cX-Viewer-Drag");this.skipClick=true;if(v>=o[4]&&v<=o[5]&&n>=o[6]&&n<=o[7]){if(this.moveDendrogram=="varDendrogram"||(this.moveDendrogram=="smpDendrogram"&&this.Qc())){B.style.top=n+"px"}else{B.style.left=v+"px"}}}else{if(this.moveVarOverlay||this.moveSmpOverlay){var o=this.al(C);var B=this.$(this.target+"-cX-Viewer-Drag");this.skipClick=true;if(v>=o[4]&&v<=o[5]&&n>=o[6]&&n<=o[7]){if(this.moveSmpOverlay){if(z.match(/Heatmap/)||this.Ir()){B.style.left=v+"px"}else{B.style.top=n+"px"}}else{B.style.top=n+"px"}}}else{if(this.moveVar||this.moveSmp){var o=this.al(C);var B=this.$(this.target+"-cX-Viewer-Drag");this.skipClick=true;if(v>=o[4]&&v<=o[5]&&n>=o[6]&&n<=o[7]){if(this.moveSmp){if(z.match(/Heatmap/)||this.Ir()){B.style.top=n+"px"}else{B.style.left=v+"px"}}else{B.style.left=v+"px"}}}else{var s;if(h.varIndicesStart>0||h.smpIndicesStart>0||h.grpIndicesStart>0){s=true}else{if(h.varIndicesStart==0&&h.startingVarIndices&&h.startingVarIndices){if(h.varIndicesStart+h.varIndices.length<h.startingVarIndices.length){s=true}else{s=false}}else{if(this.isGroupedData&&h.grpIndicesStart==0&&h.startingGrpIndices&&h.startingGrpIndices){if(h.grpIndicesStart+h.grpIndices.length<h.startingGrpIndices.length){s=true}else{s=false}}else{if(h.smpIndicesStart==0&&h.startingSmpIndices&&h.startingSmpIndices){if(h.smpIndicesStart+h.smpIndices.length<h.startingSmpIndices.length){s=true}else{s=false}}else{if(u(this)){s=true}else{s=false}}}}}if(z.match(/Heatmap|Bar|Line|Dotplot|Boxplot|Correlation|Scatter/)&&s){this.panningOn=true;var m=Math.abs(this.xMouseDown-v);var k=Math.abs(this.yMouseDown-n);var B=false;if(m>k){if(m>this.x/20){B=this.xMouseDown>v?39:37;this.xMouseDown=v;this.yMouseDown=n}}else{if(k>this.y/20){B=this.yMouseDown>n?40:38;this.xMouseDown=v;this.yMouseDown=n}}if(B){this.u8(A,B)}this.movingOn=true;this.resetOn=false;return false}if(z.match(/Correlation/)){return false}var o=this.al(C);var a=z.match(/Scatter|Heatmap|Network|Genome|Circular/);var b=this.Qc();var B=this.$(this.target+"-cX-Viewer-Drag");this.skipClick=true;if((!a&&b&&!x)||(!a&&!b&&x)){B.style.width=(o[1]-o[0])+"px"}else{if(v>this.xMouseDown){if(v>o[1]){B.style.width=(o[1]-this.xMouseDown)+"px"}else{B.style.width=(v-this.xMouseDown)+"px"}}else{if(v<o[0]){B.style.left=o[0]+"px";B.style.width=(this.xMouseDown-o[0])+"px"}else{B.style.left=v+"px";B.style.width=(this.xMouseDown-v)+"px"}}}if((!a&&!b&&!x)||(!a&&b&&x)||z=="Genome"){B.style.height=(o[3]-o[2])+"px"}else{if(n>this.yMouseDown){if(n>o[3]){B.style.height=(o[3]-this.yMouseDown)+"px"}else{B.style.height=(n-this.yMouseDown)+"px"}}else{if(n<o[2]){B.style.top=o[2]+"px";B.style.height=(this.yMouseDown-o[2])+"px"}else{B.style.top=n+"px";B.style.height=(this.yMouseDown-n)+"px"}}}}}}}}}}}}}}}this.movingOn=true;this.resetOn=false}};this.v9=function(B){if(this.draggingOn){if(this.KV()){return}var b=this.layoutComb?this.layoutParams[this.layoutValidN||0].graphType:this.graphType;if(b.match(/Venn|Stacked|Area|Treemap|TagCloud|ParallelCoordinates|Tree|Gantt|Meter|Fish/)&&!this.userEvents.drag){return false}var k=this.$(this.target);if(k){k.style.cursor="default";var y=this.zL(B);if(y&&y.style){y.style.cursor="default"}}var D=this.Ej(B);var q={x:D?D.x:null,y:D?D.y:null,xMouseDown:this.xMouseDown,yMouseDown:this.yMouseDown};this.panningGlobalX+=this.panningX;this.panningGlobalY+=this.panningY;this.SN();if(b!="Circular"&&b!="Map"){this.panningX=0;this.panningY=0}if(this.moveMarker){var u=this.Tr(this.moveMarker);if(u){u.curX=Math.ceil(q.x)+1;u.curY=Math.ceil(q.y)+1;u.position=false}if(this.afterRendering||this.reproducing){this.draggingOn=false}this.vW();this.moveMarker=false;this.x9({func:"endDrag",par:[B]})}else{if(this.moveSankeyAxis!=null){if(this.sankeyAxes.length){this.sankeyInfo[this.moveSankeyAxis]=D.x;var j=this;this.sankeyAxes=this.sankeyAxes.sort(function(e,d){return j.sankeyInfo[e]-j.sankeyInfo[d]})}this.vW();this.fH();this.hO()}else{if(this.moveSankeyId){this.YI(true);this.vW();this.fH()}else{if((b=="Scatter3D"&&!B.shiftKey)||this.is3DPlot){this.vW(B)}else{if(b=="Network"&&(this.moveNode||this.moveEdge||this.moveLegend)){if(k){this.ED(B)}}else{if(b=="Genome"&&(this.moveGenome||!B.shiftKey)){if(this.movingOn&&this.moveGenome){var E=this.subtracksInfo;if(D){var n=D.y;if(n!=this.yMouseDown){var C=this.moveGenome.replace("track-","").split(":");var a=parseInt(C[0]);var w=C.length>1?parseInt(C[1]):null;for(var x=0;x<E.length;x++){if(E[x]){var r=E[x].start;var h=E[x].track;var g=E[x].index;if(r>n){if(a!=h&&a!=h-1){if(h>a){h--}var p=this.data.tracks.splice(a,1)[0];this.data.tracks.splice(h,0,p);p=this.meta.data.tracks.splice(a,1)[0];this.meta.data.tracks.splice(h,0,p);this.x9({func:"endDrag",par:[B]})}else{if(w!=null){if(a==h-1){g=E[x-1].index;g++}w=E[w].index;if(w!=g){if(g>w){g--}var p=this.data.tracks[a].data.splice(w,1)[0];this.data.tracks[a].data.splice(g,0,p);this.x9({func:"endDrag",par:[B]})}}}break}}}}}}this.vW(B)}else{if(b.match(/Scatter/)&&this.moveLegend){this.vW(B)}else{if(b=="Circular"){this.LU(B);this.vW(B)}else{if(b=="Map"){this.skipTransition=false;this.skipClick=false}else{if(this.moveLegend){this.vW(B)}else{if(this.movingOn&&!this.panningOn){if(D){var v=D.x;var n=D.y;if(v!=this.xMouseDown||n!=this.yMouseDown){var C=this.$(this.target+"-cX-Viewer-Drag");var v=this.lassoSelected||this.graphType=="Scatter3D";var A=parseFloat(C.style.left);var f=parseFloat(C.style.top);var z=A+parseInt(C.style.width);var c=f+parseInt(C.style.height);this.LU(B,A,f,z,c);this.vW(B,v)}}}else{this.vW(B)}}}}}}}}}}}}else{this.vW(B)}if(this.userEvents.drag){this.userEvents.drag.call(this,q,B,this)}};this.ED=function(d){if(CanvasXpress.selector.selections&&this.movingOn){this.iu(d);this.x9({func:"endDragNetwork",par:[d]})}if(this.userEvents.enddragnode&&this.movingOn){var c;if(this.moveLegend){c={legend:this.moveLegend}}else{var a=this.moveNodeIndex;var b=this.sa(this.data.nodes[a].id);if(b){b.push(a)}else{b=[a]}c=this.Dq(b)}this.vW(d);this.userEvents.enddragnode.call(this,c,d,this)}else{this.vW(d)}};this.L0=function(c,a,d,b){if(!isNaN(c)&&!isNaN(a)){if(c>a||d>c||b<a){return false}return true}else{return false}};this.I7=function(a){if(this.KV()){return}if(this.moveCircular){if(this.bO(this.Ej(a),this.moveCircular.ac)){this.x9({func:"handleDragEventCircular",par:[a]});this.skipClick=false}}};this.Eu=function(m,c,v,a,r){if(this.KV()){return}var f={};var k=[];var y=[];var x=[];var q=[];var u={};var l=[];for(var j=0;j<this.meta.render.objects.length;j++){var b=this.meta.render.objects[j];var p=false;if(this.lassoSelected){p=b.idx!=null&&this.iG(b.area,this.lassoPoints)}else{p=b.idx!=null&&this.U7(b.area,c,v,a,r)}if(p){if(b.idx[0]<this.data.nodes.length){f[b.idx[0]]=1}}}for(var j=0;j<this.data.nodes.length;j++){if(!f[j]){k.push(this.data.nodes[j].id)}else{y.push(this.data.nodes[j].id);l.push(this.data.nodes[j]);x.push(j)}}if(k.length<this.data.nodes.length){if(m.shiftKey){if(!m.ctrlKey){this.iu(m,true)}this.rE(false,{nodes:l},m);this.Yt({func:"handleDragEventNetwork",par:[m,c,v,a,r]});this.draggingOn=false;this.pB(m,"While mouse-over nodes:<br>1. Press Shift and drag mouse to resize nodes<br>2. Drag mouse to move nodes")}else{this.NV();this.h4(k,true);this.ak(-this.offsetX,-this.offsetY);this.a2(1/this.scaleFactorX,1/this.scaleFactorY);this.x9({network:true,func:"handleDragEventNetwork",par:[m,c,v,a,r]})}if(this.dataTableOnSelectShow){if(this.dataTableNetwork=="edges"){for(var j=0;j<y.length;j++){u[y[j]]=1}for(var j=0;j<this.data.edges.length;j++){if(u[this.data.edges[j].id1]||u[this.data.edges[j].id2]){q.push(this.data.nodes.length+j)}}this.iU(this.Dq(q))}else{this.iU(this.Dq(x))}}}if(this.lassoSelected){this.lassoPoints=[];this.lassoSelected=false}};this.iA=function(k,m,f,p,b,n){if(this.KV()){return}var q=[];var u=[];var r=this.layoutComb?this.layoutParams[m]:this;var h=this.TU(r.varIndices);var l=this.isGroupedData?this.TU(r.grpIndices):this.TU(r.smpIndices);this.PR(m,h,l);r.varIndicesStart=r.varIndicesStart<0?0:r.varIndicesStart;r.smpIndicesStart=r.smpIndicesStart<0?0:r.smpIndicesStart;r.grpIndicesStart=r.grpIndicesStart<0?0:r.grpIndicesStart;r.varIndices=[];r.grpIndices=[];r.smpIndices=[];for(var j=0;j<this.meta.render.objects.length;j++){var a=this.meta.render.objects[j];var g=a.area;if(this.isContour&&a.idx&&a.idx[0]&&a.idx[0].toString().match(/Contour/)){continue}if(a.idx&&((f<g[1]||f<g[3])&&b>g[1]&&(p<g[2]||p<g[4])&&n>g[2])){if(!q[a.idx[0]]){r.varIndices.push(a.idx[0]);q[a.idx[0]]=1}if(!u[a.idx[1]]){if(r.isGroupedData){r.grpIndices.push(a.idx[1])}else{r.smpIndices.push(a.idx[1])}u[a.idx[1]]=1}}}if(r.varIndices.length>0&&r.smpIndices.length>0){for(var j=0;j<h.length;j++){if(h[j]==r.varIndices[0]){r.varIndicesStart+=j}}for(var j=0;j<l.length;j++){if(r.isGroupedData){if(l[j]==r.grpIndices[0]){r.grpIndicesStart+=j}}else{if(l[j]==r.smpIndices[0]){r.smpIndicesStart+=j}}}var d=this.Dq(this.smpIndices,this.varIndices);this.x9({func:"handleDragEventHeatmap",par:[k,m,f,p,b,n]});if(this.dataTableOnSelectShow){this.iU(d)}this.skipClick=false}else{r.varIndices=h;if(r.isGroupedData){r.grpIndices=l}else{r.smpIndices=l}}};this.ld=function(f,b,d,a,c){return this.iA(f,0,b,d,a,c)};this.X8=function(c,b,a){if(this[c+"Transform"]){if((this[c+"Transform"]=="log2"&&!a)||(this[c+"Transform"]=="-log2"&&!a)||(this[c+"Transform"]=="exp2"&&a)){this["setMin"+b]=Math.pow(2,this["setMin"+b])*(this[c+"Transform"]=="-log2"?-1:1);this["setMax"+b]=Math.pow(2,this["setMax"+b])*(this[c+"Transform"]=="-log2"?-1:1)}else{if((this[c+"Transform"]=="log10"&&!a)||(this[c+"Transform"]=="-log10"&&!a)||(this[c+"Transform"]=="exp10"&&a)){this["setMin"+b]=Math.pow(10,this["setMin"+b])*(this[c+"Transform"]=="-log10"?-1:1);this["setMax"+b]=Math.pow(10,this["setMax"+b])*(this[c+"Transform"]=="-log10"?-1:1)}else{if((this[c+"Transform"]=="exp2"&&!a)||(this[c+"Transform"]=="log2"&&a)||(this[c+"Transform"]=="-log2"&&a)){this["setMin"+b]=Math.log(this["setMin"+b])/Math.LN2*(this[c+"Transform"]=="-log2"?-1:1);this["setMax"+b]=Math.log(this["setMax"+b])/Math.LN2*(this[c+"Transform"]=="-log2"?-1:1)}else{if((this[c+"Transform"]=="exp10"&&!a)||(this[c+"Transform"]=="log10"&&a)||(this[c+"Transform"]=="-log10"&&a)){this["setMin"+b]=Math.log(this["setMin"+b])/Math.LN10*(this[c+"Transform"]=="-log10"?-1:1);this["setMax"+b]=Math.log(this["setMax"+b])/Math.LN10*(this[c+"Transform"]=="-log10"?-1:1)}else{if(this[c+"Transform"]=="sqrt"){this["setMin"+b]=Math.pow(this["setMin"+b],2);this["setMax"+b]=Math.pow(this["setMax"+b],2)}}}}}}};this.o7=function(b,a){if(this[b+"Transform"]){if(this[b+"Transform"]=="log2"||this[b+"Transform"]=="-log2"){}else{if(this[b+"Transform"]=="log10"||this[b+"Transform"]=="-log10"){return Math.log(a)/Math.LN10*(this[b+"Transform"]=="-log10"?-1:1)}else{if(this[b+"Transform"]=="exp2"){}else{if(this[b+"Transform"]=="exp10"){}}}}}else{return a}};this.p8=function(A,B,z,k,x,h){if(this.KV()){return}var a={v:{},s:{},c:{}};var p=0;var r=false;var m=this.data.y.vars;var q=this.data.y.smps;if(A.shiftKey||this.lassoSelected){for(var w=0;w<this.meta.render.objects.length;w++){var u=this.meta.render.objects[w];var y=false;if(this.lassoSelected){y=u.idx&&this.iG(u.area,this.lassoPoints)}else{y=u.idx&&this.U7(u.area,z,k,x,h)}if(y&&u.type=="Data"){a.v[u.idx[0]]=true;a.s[u.idx[1]]=true;a.s[u.idx[2]]=true;a.c[m[u.idx[0]]+"::"+q[u.idx[1]]+"::"+q[u.idx[2]]]=true;p++;exc=this.EZ(u.idx);if(exc){for(var v=0;v<exc.length;v++){a.v[exc[v]]=true;a.c[m[exc[v]]+"::"+q[u.idx[1]]+"::"+q[u.idx[2]]]=true;p++}}}}if(p>0){var r=this.Dq(this.Nv(a.s),this.Nv(a.v));r.y.comp=a.c;if(!A.ctrlKey){this.iu(A,true)}this.rE(false,r,A);this.Yt({func:"handleDragEventScatter",par:[A,B,z,k,x,h],prop:{lassoPoints:this.lassoPoints,lassoSelected:this.lassoSelected}});if(this.dataTableOnSelectShow){this.iU(r)}}if(this.lassoSelected){this.lassoPoints=[];this.lassoSelected=false}}else{var l=[];var r=this.layoutComb?this.layoutParams[B]:this;var g=r.xAxisMin+((z-(this.marginLeft+r.offsetX+r.left))/r.xAxisUnit);var f=r.xAxisMin+((x-(this.marginLeft+r.offsetX+r.left))/r.xAxisUnit);var b=r.yAxisMax-((k-(this.marginTop+r.offsetY+r.top))/r.yAxisUnit);var d=r.yAxisMax-((h-(this.marginTop+r.offsetY+r.top))/r.yAxisUnit);if(this.L0(g,f,r.xAxisMin,r.xAxisMax)&&this.L0(d,b,r.yAxisMin,r.yAxisMax)){if(this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/correlation|all/)){var t=0;for(var w=0;w<this.layoutRows;w++){for(var v=0;v<this.layoutCols;v++){r=this.layoutParams[t];if(w==this.layoutValidR){r.setMinY=d;r.setMaxY=b}if(v==this.layoutValidC){r.setMinX=g;r.setMaxX=f}if(w==this.layoutValidR||v==this.layoutValidC){}t++}}}else{r=this.layoutComb&&this.layoutAdjust?this.layoutParams[B]:this;r.setMinX=g;r.setMaxX=f;r.setMaxY=b;r.setMinY=d}this.skipFilterFit=true;this.x9({func:"handleDragEventScatter",par:[A,B,z,k,x,h]})}}};this.UB=function(g,i,d,l,a,k){if(this.KV()){return}var h,m;var b=this.layoutComb?this.layoutParams[i]:this;var h=b.xAxisMin+((d-(this.marginLeft+b.offsetX+b.left))/b.xAxisUnit);var m=b.xAxisMin+((a-(this.marginLeft+b.offsetX+b.left))/b.xAxisUnit);if(this.L0(h,m,this.xAxisMin,this.xAxisMax)){if(this.showIdeogram){var f=CanvasXpress.chromosomes[this.ideogram].data[this.ideogramChromosomeNumber];var j=f.length-1;this.setMinX=Math.max(0,h);this.setMaxX=Math.min(f[j][1],m)}else{this.setMinX=h;this.setMaxX=m}this.x9({func:"handleDragEventGenome",par:[g,i,d,l,a,k]})}};this.fa=function(K,M,j,a,h,O,l){if(this.KV()){return}var y=this.graphType;var E=0.95;var m={moveDendrogram:this.moveDendrogram,moveVarOverlay:this.moveVarOverlay,varOverlayInfo:this.varOverlayInfo,moveVar:this.moveVar,varInfo:this.varInfo,moveSmpOverlay:this.moveSmpOverlay,smpOverlayInfo:this.smpOverlayInfo,moveSmp:this.moveSmp,smpInfo:this.smpInfo};if(this.moveDendrogram){var b=this.layoutComb?this.layoutParams[M]:this;var v;if(this.moveDendrogram=="varDendrogram"){v=a>this.marginTop+b.offsetY+b.top+(b.y*E)?"bottom":"top";if(this.varDendrogramPosition!=v){this.varDendrogramPosition=v;this.x9({func:"handleDragEventOneDimension",par:[K,M,j,a,h,O,l],prop:m})}}else{if(y=="Heatmap"||this.Ir()){v=j>this.marginLeft+b.offsetX+b.left+(b.x*E)?"right":"left"}else{v=a>this.marginTop+b.offsetY+b.top+(b.y*E)?"bottom":"top"}if(this.smpDendrogramPosition!=v){this.smpDendrogramPosition=v;this.x9({func:"handleDragEventOneDimension",par:[K,M,j,a,h,O,l],prop:m})}}this.skipClick=false}else{if(this.moveVarOverlay){var b=this.layoutComb?this.layoutParams[M]:this;var x=this.moveVarOverlay.split("-")[1];var u=this.varOverlays[x];var v=a<this.marginTop+b.offsetY+b.top?"top":"bottom";this.varOverlays.splice(x,1);var L=this.varOverlays.length;for(var F=0;F<this.varOverlays.length;F++){var D=this.varOverlays[F];if(this.varOverlayInfo[D]>a){L=F;break}}this.varOverlays.splice(L,0,u);if(!this.varOverlayProperties.hasOwnProperty(u)){this.varOverlayProperties[u]={}}this.varOverlayProperties[u]["position"]=v;this.x9({func:"handleDragEventOneDimension",par:[K,M,j,a,h,O,l],prop:m});this.skipClick=false}else{if(this.moveVar){var x=this.moveVar.split("-")[1];if(this.showVarDendrogram&&this.varDendrogram){alert("Ooops. Cannot change order when showing the dendrogram");return false}var J=this.layoutComb?this.layoutParams[M].varIndices:this.varIndices;var I=this.layoutComb?this.TU(this.layoutParams[M].varInfo):this.TU(this.varInfo);var L;var d=[];if(this.moveVar.match(/VarOvr/)){var r=this.moveVar.split("-")[2];var g=this.data.z[this.varOverlays[r]];for(var F=0;F<J.length;F++){if(J[F]==x){L=F;break}}if(L>0){while(L>0&&g[J[L-1]]==g[J[L]]){L--}}d=[L];while(g[J[L+1]]==g[J[L]]){L++;d.push(L)}}else{for(var F=0;F<J.length;F++){if(J[F]==x){L=F;break}}d=[L]}d=J.splice(d[0],d.length);I.splice(d[0],d.length);for(var F=0;F<J.length;F++){if(I[F]>j){L=F;break}}for(var F=0;F<d.length;F++){J.splice(L+F,0,d[F])}this.x9({func:"handleDragEventOneDimension",par:[K,M,j,a,h,O,l],prop:m});this.skipClick=false}else{if(this.moveSmpOverlay){var q,v;var b=this.layoutComb?this.layoutParams[M]:this;var x=this.moveSmpOverlay.split("-")[1];var u=this.smpOverlays[x];if(y.match(/Heatmap/)||this.Ir()){q=j;v=q>this.marginLeft+b.offsetX+b.left+(b.x*E)?"right":"left"}else{q=a;v=q<this.marginTop+b.offsetY+b.top?"top":"bottom"}this.smpOverlays.splice(x,1);var L=this.smpOverlays.length;for(var F=0;F<this.smpOverlays.length;F++){var D=this.smpOverlays[F];if(this.smpOverlayInfo[D]>q){L=F;break}}this.smpOverlays.splice(L,0,u);if(!this.smpOverlayProperties.hasOwnProperty(u)){this.smpOverlayProperties[u]={}}this.smpOverlayProperties[u]["position"]=v;this.x9({func:"handleDragEventOneDimension",par:[K,M,j,a,h,O,l],prop:m});this.skipClick=false}else{if(this.moveSmp){var x=this.moveSmp.split("-")[1];var H;var f=this.layoutComb?this.TU(this.layoutParams[M].smpInfo):this.TU(this.smpInfo);if(this.layoutComb){this.layoutParams[M].dragged=true}if(this.isGroupedData){H=this.layoutComb?this.layoutParams[M].grpIndices:this.grpIndices}else{H=this.layoutComb?this.layoutParams[M].smpIndices:this.smpIndices;if(this.showSmpDendrogram&&this.smpDendrogram){alert("Ooops. Cannot change order when showing the dendrogram");return false}}var L;var d=[];if(this.moveSmp.match(/SmpOvr/)){var r=this.moveSmp.split("-")[2];var g=this.isGroupedData?this.data.w.factors[this.smpOverlays[r]]:this.data.x[this.smpOverlays[r]];for(var F=0;F<H.length;F++){if(H[F]==x){L=F;break}}if(L>0){while(L>0&&g[H[L-1]]==g[H[L]]){L--}}d=[L];while(g[H[L+1]]==g[H[L]]){L++;d.push(L)}}else{for(var F=0;F<H.length;F++){if(H[F]==x){L=F;break}}d=[L]}d=H.splice(d[0],d.length);f.splice(d[0],d.length);var q=y.match(/Heatmap/)||this.Ir()?a:j;for(var F=0;F<H.length;F++){if(f[F]>q){L=F;break}}for(var F=0;F<d.length;F++){H.splice(L+F,0,d[F])}this.x9({func:"handleDragEventOneDimension",par:[K,M,j,a,h,O,l],prop:m});this.skipClick=false}else{if(K.shiftKey||l){var C={};var k=[];var H;var J=this.layoutComb?this.layoutParams[M].varIndices:this.varIndices;var G=this.isGroupedData?this.grpIndices:this.smpIndices;var w=false;if(this.isGroupedData){H=this.layoutComb?this.layoutParams[M].grpIndices:this.grpIndices}else{H=this.layoutComb?this.layoutParams[M].smpIndices:this.smpIndices}this.PR(M,J,H);for(var F=0;F<this.meta.render.objects.length;F++){var z=this.meta.render.objects[F];if(z.idx&&this.U7(z.area,j,a,h,O)){C[z.idx[1]]=true}}for(var F=0;F<G.length;F++){if(C.hasOwnProperty(G[F])){k.push(G[F]);if(!w){if(this.isGroupedData){this.grpIndicesStart=F;w=true}else{this.smpIndicesStart=F;w=true}}}}this.tM(k,true);var D=this.Dq(k,this.varIndices);this.x9({func:"handleDragEventOneDimension",par:[K,M,j,a,h,O,l],prop:m});if(this.dataTableOnSelectShow){this.iU(D)}}else{var D=this.layoutComb?this.layoutParams[M]:this;var N=D.xAxisMin;var t=D.xAxisMax;var B=this.marginLeft+D.offsetX+D.left;var p=B+D.x;var A=this.marginTop+D.offsetY+D.top;var n=A+D.y;if(this.Qc()){N=N+(Math.max(n-O,0)/D.xAxisUnit);t=t-(Math.max(a-A,0)/D.xAxisUnit)}else{N=N+(Math.max(j-B,0)/D.xAxisUnit);t=t-(Math.max(p-h,0)/D.xAxisUnit)}if(this.L0(N,t,this.xAxisMin,this.xAxisMax)){D=this.layoutComb&&this.layoutAdjust?this.layoutParams[M]:this;D.setMinX=N;D.setMaxX=t;this.x9({func:"handleDragEventOneDimension",par:[K,M,j,a,h,O,l],prop:m})}}}}}}}};this.LU=function(h,b,f,a,d){var i=this.layoutComb?this.layoutValidN:0;var g=this.layoutComb?this.layoutParams[i].graphType:this.graphType;if(g=="Correlation"){this.ld(h,b,f,a,d)}else{if(g=="Circular"){this.I7(h)}else{if(g=="Network"){this.Eu(h,b,f,a,d)}else{if(g=="Heatmap"&&!this.moveDendrogram&&!this.moveVar&&!this.moveSmp&&!this.moveVarOverlay&&!this.moveSmpOverlay){this.iA(h,i,b,f,a,d)}else{if(g.match(/Scatter/)){this.p8(h,i,b,f,a,d)}else{if(g=="Genome"){this.UB(h,i,b,f,a,d)}else{this.fa(h,i,b,f,a,d)}}}}}}};this.Qr=function(j){var i=this;var c=function(){var l=0;for(var e=0;e<i.layoutRows;e++){for(var b=0;b<i.layoutCols;b++){var h=i.al(l);if(o>=h[4]&&o<=h[5]&&m>=h[6]&&m<=h[7]){return{bounds:h,target:l}}l++}}return false};var n=this.layoutValidDrag||this.layoutValidBounds;var k=this.$(this.target+"-cX-Viewer-Drag");var u=this.Ej(j);if(n&&k&&u){var o=u.x;var m=u.y;var a=c();if(a&&this.isDOE&&this.resizeCanvasDOE){var p=this.$(this.target+"-cX-Viewer-Drag-Layout");var d=this.width/this.layoutCols;var q=this.height/this.layoutRows;if(p){var f=this.resizeCanvasDOE.bounds[4];var s=this.resizeCanvasDOE.bounds[6];var k=o-f;var g=m-s;this.resizeCanvasDOE.row=Math.ceil(k/d);this.resizeCanvasDOE.col=Math.ceil(g/q);p.style.left=f+"px";p.style.top=s+"px";p.style.width=k+"px";p.style.height=g+"px";p.style.border="1px solid grey"}}else{if(!this.resizeCanvasDOE){if(!this.layoutValidDrag){this.layoutValidDrag=this.TU(n);this.layoutValidDrag.push(this.xMouseDown);this.layoutValidDrag.push(this.yMouseDown);this.layoutValidDrag.push(this.layoutValidN)}var f=(n[4]+(o-this.layoutValidDrag[8]));var s=(n[6]+(m-this.layoutValidDrag[9]));var p=n[5]-n[4];var g=n[7]-n[6];k.style.left=f+"px";k.style.top=s+"px";k.style.width=p+"px";k.style.height=g+"px";k.style.border="1px solid grey";if(a){var p=this.$(this.target+"-cX-Viewer-Drag-Layout");if(p){p.style.left=a.bounds[4]+"px";p.style.top=a.bounds[6]+"px";p.style.width=(a.bounds[5]-a.bounds[4])+"px";p.style.height=(a.bounds[7]-a.bounds[6])+"px";p.style.border="1px solid grey";this.layoutValidDrag[11]=a.target}}}}}};this.YT=function(d){if(this.layoutValidDrag&&this.layoutValidDrag[10]&&this.layoutValidDrag[11]){if(this.layoutValidDrag[10]!=this.layoutValidDrag[11]&&this.includeDOE.length){var b=this.includeDOE.splice(this.layoutValidDrag[10]-1,1);var f=this.layoutConfig.splice(this.layoutValidDrag[10],1);this.includeDOE.splice(this.layoutValidDrag[11]-1,0,b[0]);this.layoutConfig.splice(this.layoutValidDrag[11],0,f[0]);this.wY(false,false,false,true);this.x9({func:"endDragLayout",par:[d],prop:{layoutValidDrag:this.layoutValidDrag}})}}else{if(this.resizeCanvasDOE){var a=this.resizeCanvasDOE.col+"X"+this.resizeCanvasDOE.row;this.V2(a,this.resizeCanvasDOE.target)}}this.vW(d)};this.vW=function(c,b){var f=this.$(this.target+"-cX-Viewer-Drag");if(f){f.style.left="0px";f.style.top="0px";f.style.width="0px";f.style.height="0px";f.style.borderRadius="";f.style.backgroundColor="rgba(204,204,204,0.7)";f.style.border="none"}var a=this.$(this.target+"-cX-Viewer-Drag-Layout");if(a){a.style.left="0px";a.style.top="0px";a.style.width="0px";a.style.height="0px";a.style.border="none"}if(this.isDOE){this.layoutValidDrag=false;this.resizeCanvasDOE=false;this.Y6(c);this.cc(c)}if(!b){this.skipClick=false}}};CanvasXpress.prototype.initKeyEvents=function(){this.tG=function(a){if(a){if((a.charCode)&&(a.keyCode==0)){return a.charCode}else{return a.keyCode}}};this.SX=function(i){var b=this.zL(i);var f=i.shiftKey;var g=i.ctrlKey;var a=i.altKey;var d=i.metaKey;var h=window.document;var j=this.tG(i);if(document.activeElement&&document.activeElement.className=="cX-Chat-Question"){return this.IG(i)}else{if(!this.disableKeys||(g&&a&&j==107)){if(this.motioningOn){this.cc(i);return false}else{if(j==13){if((b.tagName.toLowerCase()=="textarea"||b.tagName.toLowerCase()=="input")&&b.className.match(/CanvasXpressList/)){this.s6(i)}else{return}}else{if(j==27){this.WI();if(f){return this.Nm(i,a)}else{if(this.animationOn){this.animationOn=false;return false}if(g){this.fj()}if(this.view=="table"){this.hz(i)}else{this.ff(i)}}return}else{if(j==16){if(this.disableShowShortcuts){return}this.Lv()}else{if(j==17){if(this.disableShowShortcuts){return}this.Lv()}else{if((j==18||j==224)){if(this.disableShowShortcuts){return}this.Lv()}else{if((j==91||j==93)){}else{if(g&&f){if(j>=33&&j<=40){this.Qm(j,true)}else{if(j==80){if(!this.motionBy){this.QX(i,false,true)}}else{if(j==82){if(!this.motionBy&&CanvasXpress.system.os!="Windows"){this.QX(i)}}else{if(j==83){this.save(i)}else{if(j==69){this.Oz(i)}}}}}h.defaultAction=true}else{if(g&&a){if(j==80&&!this.keyOn){this.keyOn=true;this.print(i)}else{if(j==82){if(!this.motionBy){this.QX(i)}}else{if(j==68){this.s1(100,100,"Debug info dropped to JavaScript console!",3000);this.fo({system:CanvasXpress.system,factory:CanvasXpress.factory})}else{if(j==83){if(!this.motionBy){this.save(i)}}}}}h.defaultAction=true}else{if(f&&a){if(j>=50&&j<90&&!this.keyOn){this.keyOn=true}h.defaultAction=true}else{if(g){if(j>=33&&j<=40){if(j==36&&CanvasXpress.selector.selections&&this.graphType=="Network"){this.xR(i,j)}else{this.Qm(j)}}else{if((j==45||j==46||j==8)&&!this.keyOn){this.keyOn=true;this.xR(i,j)}else{if((j>=48&&j<58)&&!this.keyOn){this.keyOn=true}else{if(j>=65&&j<=90){if(this.graphType=="Network"&&!this.keyOn&&!/input|textarea|select/i.test(b.tagName)){if(j==66||j==72||j==76||j==82||j==84||j==86){this.keyOn=true;this.jZ(i,j)}}else{if(j==80&&!this.keyOn){this.keyOn=true;this.print(i)}else{if(j==82){if(!this.motionBy&&CanvasXpress.system.os!="Windows"){this.QX(i)}}else{if(j==83){if(!this.motionBy){this.save(i)}}else{if(j==89){this.keyOn=true;this.f8()}else{if(j==90){this.keyOn=true;this.gQ()}}}}}}}}}}h.defaultAction=true}else{if(j==107||j==109||j==61||j==187||j==189){if(!this.disablePlusMinusKeys&&!/input|textarea|select/i.test(b.tagName)){if(j==109||j==189){this.AK(i,-1)}else{this.AK(i,1)}}}else{if(f&&j>=33&&j<=40){if(!this.disableArrowKeys&&!/input|textarea|select/i.test(b.tagName)){this.u8(i,j)}else{h.defaultAction=true}}else{if(j>=36&&j<=40){if(document.activeElement.className.match(/CanvasXpressRowColumn/)||document.activeElement.parentNode.className.match(/CanvasXpressRowColumn/)||document.activeElement.contentEditable||document.activeElement.parentNode.contentEditable){return}else{if(!this.disableArrowKeys&&!/input|textarea|select/i.test(b.tagName)){this.u8(i,j)}}}else{if(f){h.defaultAction=true}else{if(a){h.defaultAction=true}}}}}}}}}}}}}}}}}}};this.Lv=function(){var a="<br>";a+="<b>Ctrl P</b> : Print PNG <br>";a+="<b>Ctrl S</b> : Save as JSON <br>";a+="<b>Ctrl R</b> : Open Reproduce Widget <br>";a+="<br>";a+="<b>Ctrl + Shift + P</b> : Print PNGs over time <br>";a+="<b>Ctrl + Shift + S</b> : Save as JSON overwrite <br>";if(CanvasXpress.system.os!="Windows"){a+="<b>Ctrl + Shift + R</b> : Play reproduce auto <br>"}a+="<b>Ctrl + Shift + D</b> : Print debug info to console <br>";a+="<br>";a+="<b>Ctrl + Alt/Option P</b> : Print PNG overwrite <br>";a+="<b>Ctrl + Alt/Option S</b> : Save as JSON overwrite <br>";a+="<b>Ctrl + Alt/Option R</b> : Open Reproduce Widget <br>";a+="<br>";this.s1(this.width-100,10,a,5000)};this.gQ=function(){if(!this.disableUndoRedoKeys&&CanvasXpress.stack[this.target].stateIndexCX>=1){CanvasXpress.stack[this.target].stateIndexCX--;this.kK(CanvasXpress.stack[this.target].stateIndexCX,true)}};this.f8=function(){var a=CanvasXpress.stack[this.target].stateCX.length-1;if(!this.disableUndoRedoKeys&&CanvasXpress.stack[this.target].stateIndexCX<a){CanvasXpress.stack[this.target].stateIndexCX++;this.kK(CanvasXpress.stack[this.target].stateIndexCX,true)}};this.u8=function(f,h){if(this.KV()){return}if(this.graphType=="Correlation"||this.s9()||this.graphType.match(/Bar|Line|Dotplot|Boxplot|Area|Stacked/)){this.Y6(f);if(this.layoutComb&&!this.layoutAdjust&&this.graphType!="Correlation"&&!this.s9()){return false}this.mP(f,h)}else{if(this.yW()){this.OY(f,h)}else{if(this.graphType=="Network"){this.Y6(f);var a=Math.abs(this.x*this.panningStep);var g=Math.abs(this.y*this.panningStep);if(h==33){this.panningY-=g*5}else{if(h==34){this.panningY+=g*5}else{if(h==35){this.panningX=a*20;this.panningY=g*20}else{if(h==36){this.panningX=0;this.panningY=0}else{if(h==37){this.panningX-=a}else{if(h==38){this.panningY-=g}else{if(h==39){this.panningX+=a}else{if(h==40){this.panningY+=g}}}}}}}}this.x9({network:true,func:"handlePanning",par:[f,h]})}else{if(this.graphType=="Genome"){var b=this.genomeResolution=="high"?1:this.xAxisRange*this.panningStep;if(this.setMinX==null){this.setMinX=this.xAxisMin}if(this.setMaxX==null){this.setMaxX=this.xAxisMax}this.Y6(f);if(h==37||h==38){this.setMinX-=b;this.setMaxX-=b}else{if(h==39||h==40){this.setMinX+=b;this.setMaxX+=b}else{if(h==33){this.setMinX+=this.xAxisRange*0.95;this.setMaxX+=this.xAxisRange*0.95}else{if(h==34){this.setMinX-=this.xAxisRange*0.95;this.setMaxX-=this.xAxisRange*0.95}else{if(h==35){this.setMaxX=null}else{if(h==36){this.setMinX=null}}}}}}this.x9({func:"handlePanning",par:[f,h]})}else{if(this.graphType=="Map"){var d=this.rotationStep;if(h==33||h==38){this.panningY-=(d*8)}else{if(h==39){this.panningX+=(d*8)}else{if(h==37){this.panningX-=(d*8)}else{if(h==34||h==40){this.panningY+=(d*8)}}}}this.x9({func:"handlePanning",par:[f,h]})}}}}}return false};this.Qm=function(k,b){if(this.KV()){return}var f=this.graphType;if(this.is3DPlot){f="Scatter3D"}var e=this.rotationStep;switch(f){case"Network":if(this.is3DNetwork){if(k==33){this.xRotate+=(e*3);this.yRotate-=(e*3)}else{if(k==34){this.xRotate-=(e*3);this.yRotate+=(e*3)}else{if(k==37){this.xRotate+=e}else{if(k==38){this.yRotate-=e}else{if(k==39){this.xRotate-=e}else{if(k==40){this.yRotate+=e}}}}}}}else{if(k==33){this.network2DRotate-=(e*3)}else{if(k==34){this.network2DRotate+=(e*3)}else{if(k==37||k==38){this.network2DRotate-=e}else{if(k==39||k==40){this.network2DRotate+=e}}}}}break;case"Scatter2D":case"ScatterBubble2D":var h;var j;if(this.axesType=="XYZ"){h=["xAxisCurrent","yAxisCurrent","zAxisCurrent"];j=["xAxis","yAxis","zAxis"]}else{if(this.axesType=="XY"){h=["zAxisCurrent"];j=["zAxis"]}else{if(this.axesType=="X"){h=["yAxisCurrent","zAxisCurrent"];j=["yAxis","zAxis"]}else{h=["xAxisCurrent","zAxisCurrent"];j=["xAxis","zAxis"]}}}if(k==33){for(var d=0;d<h.length;d++){this[h[d]]+=2}}else{if(k==34){for(var d=0;d<h.length;d++){this[h[d]]-=2}}else{if(k==35){for(var d=0;d<h.length;d++){this[h[d]]=this[j[d]].length-1}}else{if(k==36){for(var d=0;d<h.length;d++){this[h[d]]=0}}else{if(k==37||k==40){for(var d=0;d<h.length;d++){this[h[d]]--}}else{if(k==38||k==39){for(var d=0;d<h.length;d++){this[h[d]]++}}}}}}}this.xAxisCurrent=this.xAxisCurrent<0?this.xAxis.length-1:this.xAxisCurrent>this.xAxis.length-1?0:this.xAxisCurrent;this.yAxisCurrent=this.yAxisCurrent<0?this.xAxis.length-1:this.yAxisCurrent>this.yAxis.length-1?0:this.yAxisCurrent;this.zAxisCurrent=this.zAxisCurrent<0?this.xAxis.length-1:this.zAxisCurrent>this.zAxis.length-1?0:this.zAxisCurrent;break;case"Scatter3D":if(k==33){this.xRotate+=(e*3);this.yRotate-=(e*3)}else{if(k==34){this.xRotate-=(e*3);this.yRotate+=(e*3)}else{if(k==35){this.xRotate=0;this.yRotate=0;this.zRotate=45}else{if(k==36){this.xRotate=45;this.yRotate=0;this.zRotate=0}else{if(k==37){this.xRotate+=e}else{if(k==38){this.yRotate-=e}else{if(k==39){this.xRotate-=e}else{if(k==40){this.yRotate+=e}}}}}}}}break}if(b&&!this.animationOn){this.animationOn=true;this.h9(k)}else{this.x9({network:true,func:"arrowMove",par:[k,b]})}};this.h9=function(d){var a=this;var b=function(){var e=function(){if(!a.animationOn){clearInterval(c)}a.Qm(d);var h=a.graphType;if(a.is3DPlot){h="Scatter3D"}var f=this.rotationStep;switch(h){case"Network":if(this.is3DNetwork){if(d==33){this.xRotate+=(f*3);this.yRotate-=(f*3)}else{if(d==34){this.xRotate-=(f*3);this.yRotate+=(f*3)}else{if(d==37){this.xRotate-=f}else{if(d==38){this.yRotate-=f}else{if(d==39){this.xRotate+=f}else{if(d==40){this.yRotate+=f}}}}}}}else{if(d==33){this.network2DRotate+=(f*3)}else{if(d==34){this.network2DRotate-=(f*3)}else{if(d==37||d==38){this.network2DRotate-=f}else{if(d==39||d==40){this.network2DRotate+=f}}}}}break;case"Scatter2D":case"ScatterBubble2D":if(d!=37){if(a.graphType=="ScatterBubble2D"&&a.xAxisIndices.length>1&&a.xAxisIndices.length==a.yAxisIndices.length&&a.xAxisIndices.length==a.zAxisIndices.length){if(a.xAxisCurrent>=a.xAxis.length-1){a.xAxisCurrent=a.xAxis.length-1;a.yAxisCurrent=a.yAxis.length-1;a.zAxisCurrent=a.zAxis.length-1;d=37}}else{if(a.xAxisIndices.length>1&&a.xAxisIndices.length==a.yAxisIndices.length){if(a.zAxisCurrent>=a.zAxis.length-1){a.zAxisCurrent=a.zAxis.length-1;d=37}}else{if(a.xAxisIndices.length>a.yAxisIndices.length){if(a.yAxisCurrent>=a.yAxis.length-1){a.yAxisCurrent=a.yAxis.length-1}if(a.zAxisCurrent>=a.zAxis.length-1){a.zAxisCurrent=a.zAxis.length-1}if(a.yAxisCurrent>=a.yAxis.length-1&&a.zAxisCurrent>=a.zAxis.length-1){d=37}}else{if(a.xAxisCurrent>=a.xAxis.length-1){a.xAxisCurrent=a.xAxis.length-1}if(a.zAxisCurrent>=a.zAxis.length-1){a.zAxisCurrent=a.zAxis.length-1}if(a.xAxisCurrent>=a.xAxis.length-1&&a.zAxisCurrent>=a.zAxis.length-1){d=37}}}}}else{if(d!=39){if(a.graphType=="ScatterBubble2D"&&a.xAxisIndices.length>1&&a.xAxisIndices.length==a.yAxisIndices.length&&a.xAxisIndices.length==a.zAxisIndices.length){if(a.xAxisCurrent<=0){a.xAxisCurrent=0;a.yAxisCurrent=0;a.zAxisCurrent=0;d=39}}else{if(a.xAxisIndices.length>1&&a.xAxisIndices.length==a.yAxisIndices.length){if(a.zAxisCurrent<=0){a.zAxisCurrent=0;d=39}}else{if(a.xAxisIndices.length>a.yAxisIndices.length){if(a.yAxisCurrent<=0){a.yAxisCurrent=0}if(a.zAxisCurrent<=0){a.zAxisCurrent=0}if(a.yAxisCurrent<=0&&a.zAxisCurrent<=0){d=39}}else{if(a.xAxisCurrent<=0){a.xAxisCurrent=0}if(a.zAxisCurrent<=0){a.zAxisCurrent=0}if(a.xAxisCurrent<=0&&a.zAxisCurrent<=0){d=39}}}}}}break;case"Scatter3D":if(a.xRotate<=0&&(d==39||d<37)){a.xRotate=0;a.yRotate=0;d=40}else{if(a.xRotate>=90&&(d==37||d<37)){a.xRotate=90;a.yRotate=90;d=38}else{if(a.yRotate<=0&&(d==38||d<37)){a.yRotate=0;a.xRotate=90;d=39}else{if(a.yRotate>=90&&(d==40||d<37)){a.yRotate=90;a.xRotate=0;d=37}}}}break}};var c=a.mG(e,30)};this.WI();b.call()};this.L6=function(a,d,i,h){this.varIndicesStart=-1;this.smpIndicesStart=-1;this.grpIndicesStart=-1;var b=d?this.TU(this.varIndices):false;var c=d?this.TU(this.smpIndices):false;var f=d?this.TU(this.grpIndices):false;if(!h){this.iu(i)}switch(this.graphType){case"Area":case"AreaLine":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Heatmap":case"Correlation":case"Venn":case"Pie":case"Bar":case"Line":case"BarLine":case"Boxplot":case"Dotplot":case"DotLine":case"Circular":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Sankey":case"Tree":case"Gantt":case"Meter":this.lG(b,a);this.OU(c,a);if(this.isGroupedData&&this.data.w&&d){this.data.w.grpIdxs=f}break;case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Fish":this.lG(b,a);this.OU(c,a);if(this.motionBy&&this.motionObject){this.motionObject.setIndices=true}break;case"Network":this.AM(a);this.ak(-this.offsetX,-this.offsetY);this.a2(1/this.scaleFactorX,1/this.scaleFactorY);break;case"Genome":this.Ff(a);break;case"Map":this.lG(b,a);this.OU(c,a);this.RY();break}if(this.startingVarIndices&&this.startingVarIndices.length==this.varIndices.length){this.varIndices=this.startingVarIndices}if(this.startingSmpIndices&&this.startingSmpIndices.length==this.smpIndices.length){this.smpIndices=this.startingSmpIndices}if(this.startingGrpIndices&&this.startingGrpIndices.length==this.grpIndices.length){this.grpIndices=this.startingGrpIndices}if(this.isUpSetSumarized){this.smpIndices=this.isUpSetSumarized.vars;this.varIndices=this.isUpSetSumarized.smps}};this.bb=function(b){if(this.KV()){return}this.nr();this.varIndicesStart=-1;this.smpIndicesStart=-1;this.grpIndicesStart=-1;this.iu(b);switch(this.graphType){case"Area":case"AreaLine":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Correlation":case"Circular":case"Venn":case"Pie":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Sankey":case"Tree":this.lG();this.OU();this.circularRotate=0;break;case"Bar":case"Line":case"BarLine":case"Boxplot":case"Dotplot":case"DotLine":case"Genome":case"Gantt":case"Meter":this.lG();this.OU();this.Mn();this.xRotate=45;this.yRotate=0;break;case"Scatter2D":case"ScatterBubble2D":case"Fish":this.lG();this.OU();this.Mn();if(this.motionBy&&this.motionObject){this.motionObject.setIndices=true}break;case"Scatter3D":this.lG();this.OU();this.xRotate=45;this.yRotate=0;break;case"Heatmap":this.lG();this.OU();this.kY();break;case"Network":this.AM();this.network2DRotate=0;this.networkFreeze=false;this.uX(true);this.Hm();this.ak(-this.offsetX,-this.offsetY);this.a2(1/this.scaleFactorX,1/this.scaleFactorY);break;case"Map":this.lG();this.OU();this.RY();var a=this.meta.map.geojson;this.panningX=0;this.panningY=0;this.zoom=1;delete (a.isZoomed);a.geometry.zoom=this.TU(a.geometry.initial.zoom);a.geometry.center=this.TU(a.geometry.initial.center);this.a7(true);break}if(this.isUpSetSumarized){this.smpIndices=this.isUpSetSumarized.vars;this.varIndices=this.isUpSetSumarized.smps}this.sM()};this.NV=function(){this.zoom=1;this.panningX=0;this.panningY=0;this.panningGlobalX=0;this.panningGlobalY=0;this.padX=this.x/2;this.padY=this.y/2;this.padZ=this.y/2};this.Mn=function(){if(this.layoutComb&&this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/correlation|all/)){var d=0;for(var b=0;b<this.layoutRows;b++){for(var a=0;a<this.layoutCols;a++){c=this.layoutParams[d++];if(c){c.setMinX=null;c.setMaxX=null;c.setMinX2=null;c.setMaxX2=null;c.setMinY=null;c.setMaxY=null;c.setMinZ=null;c.setMaxZ=null}}}}else{var c=this.layoutComb&&this.layoutAdjust&&this.layoutValidN!=null?this.layoutParams[this.layoutValidN]:this;if(c){c.setMinX=null;c.setMaxX=null;c.setMinX2=null;c.setMaxX2=null;c.setMinY=null;c.setMaxY=null;c.setMinZ=null;c.setMaxZ=null}}};this.hz=function(a){this.Ox("all");this.iU()};this.ff=function(l,k){if(this.isDOE){this.BM()}else{var p=l&&(l.shiftKey||l.ctrlKey||l.altKey||l.metaKey);var n=[];if(this.broadcast&&p){n=CanvasXpress.instances}else{var h=this.broadcast?CanvasXpress.instances:[this];for(var g=0;g<h.length;g++){if(this.broadcastGroup==h[g].broadcastGroup){n.push(h[g])}}}if(n.length<1){n=[this]}for(var g=0;g<n.length;g++){var o={};var d=n[g];var a=d.graphType;var b=a=="Network"?d.calculateLayout:false;if(d.view=="table"){d.P9(l,"table")}d.qw();d.vW(l);d.iu(l);d.dZ();d.nh(l,true);if(d.scatterType!="visium"){if(k&&Array.isArray(k)){for(var f=0;f<k.length;f++){var m=k[f];o[m]=this.TU(d[m])}}d.lg();d.graphType=a;if(a=="Network"){d.calculateLayout=b}for(var f in o){d[f]=o[f]}}d.wA();d.zy(d.dataUIStyle);d.sp(l);d.NV();d.Fi(l,true);d.x9({func:"masterReset",par:[l]})}}}};CanvasXpress.prototype.initSelectEvents=function(){this.xR=function(k,m,g){if(this.KV()){return}if(k){this.cc(k)}var o=this.layoutComb?this.layoutValidN:0;var p=this.layoutComb?this.layoutParams[o].graphType:this.graphType;if(m==45||m==46||m==8){if(p=="Network"){var a=[];var l=m==45?false:true;for(var d in CanvasXpress.selector.nodes){a.push(d)}if(a.length){this.h4(a,l)}}else{if(p.match(/Scatter/)){for(v in CanvasXpress.selector.vars){this.CK(v)}}}if(!g){this.x9({func:"showHideSelectedData",par:[k,m,g]})}}else{if((m==36||m==1000)&&p=="Network"){var b={};var j=[];var a=this.data.nodes;var f=this.data.edges;for(var h=0;h<f.length;h++){if(m==1000){if(CanvasXpress.selector.nodes.hasOwnProperty(f[h].id1)&&CanvasXpress.selector.nodes.hasOwnProperty(f[h].id2)){b[f[h].id1]=true;b[f[h].id2]=true}}else{if(CanvasXpress.selector.nodes.hasOwnProperty(f[h].id1)||CanvasXpress.selector.nodes.hasOwnProperty(f[h].id2)){b[f[h].id1]=true;b[f[h].id2]=true}}}for(var h=0;h<a.length;h++){if(!b.hasOwnProperty(a[h].id)||a[h].hide){j.push(a[h].id)}}this.iu(k);if(j.length>0){this.h4(j,true);if(!g){this.x9({func:"showHideSelectedData",par:[k,m,g]})}}}}};this.dT=function(b){try{var l=parent.document.getElementsByTagName("iframe");for(var g in l){var d=l[g]||false;if(d&&window.document.URL!=d.src){var c=d.contentWindow?d.contentWindow.CanvasXpress:false;if(c&&this.broadcast){c.selector=CanvasXpress.selector;var m=[];var h=c.instances;for(var f=0;f<h.length;f++){if(this.broadcastGroup==h[f].broadcastGroup){m.push(h[f])}}for(var g=0;g<m.length;g++){var a=m[g];if(a.graphType=="Map"&&a.mapProjection=="orthographic"&&a.eventMapCenter){a.VB(a,b)}else{a.Ky();a.x9(b)}}}}}}catch(k){}};this.Yt=function(e){if(this.KV()){return}var a=[];var d=this.broadcast?CanvasXpress.instances:[this];for(var b=0;b<d.length;b++){if(this.broadcastGroup==d[b].broadcastGroup){a.push(d[b])}}for(var b=0;b<a.length;b++){var c=a[b];if(c.graphType=="Map"&&c.mapProjection=="orthographic"&&c.eventMapCenter){c.VB(c,e)}else{c.Ky();c.x9(e)}}if(CanvasXpress.system.isInIframe){if(window.location.href.match(/cdpn.io|codepen.io|jsfiddle.net|fiddle.jshell.net/)){return}this.dT(e)}};this.yO=function(b){var l=b.par[0];if(this.KV()){return}var q=[];var k=this.broadcast?CanvasXpress.instances:[this];for(var f=0;f<k.length;f++){if(this.broadcastGroup==k[f].broadcastGroup){q.push(k[f])}}if(this.data&&this.data.y){if(l.op){for(f in l.hidden.hiddenVars){CanvasXpress.hidden.hiddenVars[f]=true}for(f in l.hidden.hiddenSmps){CanvasXpress.hidden.hiddenSmps[f]=true}}else{for(f in l.unhidden.hiddenVars){CanvasXpress.hidden.hiddenVars[f]=false}for(f in l.unhidden.hiddenSmps){CanvasXpress.hidden.hiddenSmps[f]=false}}}if(this.data&&this.data.w){if(l.op){for(f in l.hidden.hiddenGrps){CanvasXpress.hidden.hiddenGrps[f]=true}}else{for(f in l.unhidden.hiddenGrps){CanvasXpress.hidden.hiddenGrps[f]=false}}}for(var f=0;f<q.length;f++){var a=q[f];var m=a.graphType;var p=false;if(a.data&&a.data.y){for(var e=0;e<a.data.y.vars.length;e++){var c=a.data.y.vars[e];if(CanvasXpress.hidden.hiddenVars.hasOwnProperty(c)||CanvasXpress.hidden.hiddenSmps.hasOwnProperty(c)){if(!a.hiddenVarsLocal||!a.hiddenVarsLocal[c]){if(a.hiddenVars[e]!=CanvasXpress.hidden.hiddenVars[c]){p=true}a.hiddenVars[e]=CanvasXpress.hidden.hiddenVars[c]}}}for(var e=0;e<a.data.y.smps.length;e++){var c=a.data.y.smps[e];if(CanvasXpress.hidden.hiddenVars.hasOwnProperty(c)||CanvasXpress.hidden.hiddenSmps.hasOwnProperty(c)){if(!a.hiddenSmpsLocal||!a.hiddenSmpsLocal[c]){if(a.hiddenSmps[e]!=CanvasXpress.hidden.hiddenSmps[c]){p=true}a.hiddenSmps[e]=CanvasXpress.hidden.hiddenSmps[c]}}}}if(a.data&&a.data.w){for(var e=0;e<a.data.w.smps.length;e++){var c=a.data.w.smps[e];if(CanvasXpress.hidden.hiddenVars.hasOwnProperty(c)||CanvasXpress.hidden.hiddenSmps.hasOwnProperty(c)){if(!a.hiddenGrpsLocal||!a.hiddenGrpsLocal[c]){if(a.hiddenGrps[e]!=CanvasXpress.hidden.hiddenGrps[c]){p=true}a.hiddenGrps[e]=CanvasXpress.hidden.hiddenGrps[c]}}}}if(p&&q.length>1){a.x9(b)}}};this.dZ=function(){CanvasXpress.hidden={hiddenVars:{},hiddenSmps:{},hiddenGrps:{},hiddenMapFeatures:{},hiddenNodes:{},hiddenEdges:{}}};this.Ky=function(){if(CanvasXpress.graphTypes.OneTwoThreeeDGraphs.includes(this.graphType)&&this.selectionMode=="filter"){var e=[];for(var b in CanvasXpress.selector.smps){e.push(b)}var d=[];for(var b in CanvasXpress.selector.vars){d.push(b)}var a=CanvasXpress.selector.graphType;if(this.yW()){if(a&&this.showHistogram){var c=this.showHistogram;this.ts(true);this.xAxisTitle="";this.yAxisTitle="";this.selectionMode="filter";this.W9(false,"exact",a.match(/Scatter/)?d:e,false,true);this.bI(c)}else{if(a&&a.match(/Scatter/)){this.W9(false,"exact",d,false,true)}else{if(a){this.W9(false,"exact",e,false,true)}else{if(this.showHistogram){var c=this.showHistogram;this.ts(true);this.xAxisTitle="";this.yAxisTitle="";this.selectionMode="filter";this.lG(false,true);this.bI(c,true)}this.fj();this.toDoFilter={};this.L6()}}}}else{if(a&&this.graphType.match(/Pie|Treemap/)){if(this.data.y.pie||this.data.y.treemap){var c=this.graphType=="Pie"?this.data.y.pie.y.smps[0]:this.data.y.treemap.y.vars[0];if(this.graphType=="Pie"){this.FQ(true)}else{this.OR(true)}this.qO(true);this.selectionMode="filter";this.f9(false,"exact",a.match(/Scatter/)?d:e,false,true);if(this.graphType=="Pie"){this.qy(c)}else{this.C7(c)}}else{this.W9(false,"exact",d,false,true)}}else{if(a&&a.match(/Scatter/)){this.f9(false,"exact",d,false,true)}else{if(a){this.f9(false,"exact",e,false,true)}else{var c=false;if(this.data.y.pie||this.data.y.treemap){c=this.graphType=="Pie"?this.data.y.pie.y.smps[0]:this.data.y.treemap.y.vars[0];if(this.graphType=="Pie"){this.FQ(true)}else{this.OR(true)}this.qO(true)}this.fj();this.toDoFilter={};this.L6();if(c){if(this.graphType=="Pie"){this.qy(c)}else{this.C7(c)}}}}}}}};this.K5=function(p){if(CanvasXpress.selector.selections){if(this.broadcastGroup&&!CanvasXpress.selector.groups.hasOwnProperty(this.broadcastGroup)){return false}var r=CanvasXpress.selector.graphType||"";if(this.graphType.match(/Genome/)){}else{if(this.graphType=="Network"){var w=this.data.nodes[this.data.nodeIndices[p]];if(w){var a=w.name||"AbsurdName";var z=w.label||"AbsurdName";return CanvasXpress.selector.nodes.hasOwnProperty(p)||CanvasXpress.selector.mixed.hasOwnProperty(a)||CanvasXpress.selector.mixed.hasOwnProperty(z)}else{return CanvasXpress.selector.nodes.hasOwnProperty(p)}}else{if(this.graphType=="Map"){if(!this.tO(p)){return false}if(this.motionBy){if(this.motionObject.type=="Numeric"){return false}var A=this.motionObject.levels;for(var B=0;B<A.length;B++){if(CanvasXpress.selector.vars.hasOwnProperty(A[B])){this.aS(A[B],true);break}else{if(CanvasXpress.selector.smps.hasOwnProperty(A[B])){this.aS(A[B],true);break}}}}return CanvasXpress.selector.vars.hasOwnProperty(p[0].split(":")[1])||CanvasXpress.selector.mixed.hasOwnProperty(p[0].split(":")[1])}else{if(this.yW()){var f=this.data.y.vars[p[0]];var d=this.data.y.smps[p[1]];var c=this.data.y.smps[p[2]];if(r.match(/Scatter/)){if(this.showHistogram){var G=this.ba(p[2]);if(G){if(G.data[p[0]]&&G.data[p[0]][p[1]]){var o=G.smps[p[2]].split(":")[1];var h=this.data.y.smps[p[1]];var m=G.vars[p[0]]+"::"+o+"::"+h;if(CanvasXpress.selector.comp.hasOwnProperty(m)){}if(CanvasXpress.selector.isHistogram){}for(var k=0;k<G.data[p[0]][p[1]].length;k++){var m=this.data.y.vars[G.data[p[0]][p[1]][k]];if(CanvasXpress.selector.vars.hasOwnProperty(m)){return true}}}}return false}else{if(this.xAxisIndices.length>1||this.yAxisIndices.length>1){return CanvasXpress.selector.comp.hasOwnProperty(f+"::"+d+"::"+c)}else{return CanvasXpress.selector.vars.hasOwnProperty(f)}}}else{if(r.match(/Heatmap|Line|Parallel/)){return CanvasXpress.selector.vars.hasOwnProperty(f)}else{if(!this.isDOE){if(this.showHistogram){var G=this.ba();if(G){if(G.data[p[0]]&&G.data[p[0]][p[1]]){for(var k=0;k<G.data[p[0]][p[1]].length;k++){var m=this.data.y.vars[G.data[p[0]][p[1]][k]];if(CanvasXpress.selector.smps.hasOwnProperty(m)){return true}}}}return false}else{return CanvasXpress.selector.smps.hasOwnProperty(f)}}else{return CanvasXpress.selector.nodes.hasOwnProperty(f)||CanvasXpress.selector.smps.hasOwnProperty(f)}}}}else{var f=this.data.y.vars[p[0]];var o=p.length==5?p[3]:p.length==3?this.data.y.smps[p[2]]:this.data.y.smps[p[1]];var D=this.isGroupedData?this.data.w.smps[p[1]]:false;var E=this.isGroupedData?this.xx(this.data.w.smps[p[1]])?this.data.w.smps[p[1]]:(this.tO(this.data.w.smps[p[1]])&&this.data.w.smps[p[1]][0]?this.data.w.smps[p[1]][0].toString().replace("\x00",""):this.data.w.smps[p[1]].toString().replace("\x00","")):false;if(r.match(/Scatter/)){if(this.isGroupedData){if(this.graphType=="Dotplot"||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)){return(CanvasXpress.selector.vars.hasOwnProperty(f)&&CanvasXpress.selector.smps.hasOwnProperty(o))||(CanvasXpress.selector.vars.hasOwnProperty(o))}else{if(this.graphType=="Bar"){for(var k=0;k<this.data.w.grps[p[1]].length;k++){var q=this.data.w.grps[p[1]][k];var F=this.data.y.smps[q];if(CanvasXpress.selector.vars.hasOwnProperty(F)){return true}}return false}else{return CanvasXpress.selector.comp.hasOwnProperty(f+"::"+D)||CanvasXpress.selector.comp.hasOwnProperty(f+"::"+E)}}}else{if(this.graphType=="Treemap"||this.graphType=="Pie"){var b=this.graphType.toLowerCase();if(this.data.y[b]){var C=this.data.y[b].y[b];var f=this.graphType=="Treemap"?p[1]:p[0];for(var k=0;k<C[f].length;k++){var m=this.data.y.smps[C[f][k]];if(CanvasXpress.selector.vars.hasOwnProperty(m)){return true}}}return false}else{if(this.graphType.match(/Line|Parallel/)){return CanvasXpress.selector.vars.hasOwnProperty(f)}else{return CanvasXpress.selector.vars.hasOwnProperty(o)}}}}else{if(r.match(/Line|Parallel/)){if(this.graphType.match(/Line|Parallel/)){return CanvasXpress.selector.vars.hasOwnProperty(f)}else{return CanvasXpress.selector.vars.hasOwnProperty(o)}}else{if(r.match(/Pie|Treemap/)){if(this.isGroupedData){if(this.graphType=="Dotplot"||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)){return CanvasXpress.selector.vars.hasOwnProperty(f)&&CanvasXpress.selector.smps.hasOwnProperty(o)}else{return CanvasXpress.selector.comp.hasOwnProperty(f+"::"+D)||CanvasXpress.selector.comp.hasOwnProperty(f+"::"+E)}}else{if(this.data.y.hasOwnProperty("pie")||this.data.y.hasOwnProperty("treemap")){if(CanvasXpress.selector.meta.hasOwnProperty(f)&&CanvasXpress.selector.meta[f].hasOwnProperty(o)){return true}var b=this.graphType.toLowerCase();var C=this.data.y[b].y[b];var f=this.graphType=="Treemap"?p[1]:p[0];for(var k=0;k<C[f].length;k++){var m=this.data.y.smps[C[f][k]];if(CanvasXpress.selector.smps.hasOwnProperty(m)){return true}}return false}else{return this.graphType=="Pie"?CanvasXpress.selector.vars.hasOwnProperty(f):CanvasXpress.selector.smps.hasOwnProperty(o)}}}else{if(this.isGroupedData){if(this.graphType=="Dotplot"||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData)){return CanvasXpress.selector.smps.hasOwnProperty(o)}else{if(this.graphType=="Bar"&&(this.stackBy||this.dodgeBy)){return CanvasXpress.selector.comp.hasOwnProperty(f+"::"+D+"::"+(this.stackBy||this.dodgeBy)+"::"+p[4])}else{return CanvasXpress.selector.comp.hasOwnProperty(f+"::"+D)||CanvasXpress.selector.comp.hasOwnProperty(f+"::"+E)}}}else{if(this.graphType=="Treemap"||this.graphType=="Pie"){var b=this.graphType.toLowerCase();if(this.data.y[b]){var C=this.data.y[b].y[b];var f=this.graphType=="Treemap"?p[1]:p[0];for(var k=0;k<C[f].length;k++){var m=this.data.y.smps[C[f][k]];if(CanvasXpress.selector.smps.hasOwnProperty(m)){return true}}}return false}else{switch(this.graphType){case"Heatmap":return CanvasXpress.selector.comp.hasOwnProperty(f+"::"+o);case"Boxplot":if(this.showBoxplotOriginalData){return CanvasXpress.selector.comp.hasOwnProperty(f+"::"+o)}else{return CanvasXpress.selector.vars.hasOwnProperty(f)&&CanvasXpress.selector.smps.hasOwnProperty(o)}case"Line":case"ParallelCoordinates":return CanvasXpress.selector.smps.hasOwnProperty(f);default:if(this.data.y.vars.length==1||r=="Map"||this.layoutValid){return CanvasXpress.selector.smps.hasOwnProperty(o)}else{return(CanvasXpress.selector.vars.hasOwnProperty(f)&&CanvasXpress.selector.smps.hasOwnProperty(o))||(CanvasXpress.selector.vars.hasOwnProperty(o)&&CanvasXpress.selector.smps.hasOwnProperty(f))}}}}}}}}}}}}return false};this.U2=function(g,b,d){if(this.data.hasOwnProperty(g)&&this.data[g].hasOwnProperty(b)){this.iu();CanvasXpress.selector.selections=0;CanvasXpress.selector.graphType=this.graphType;CanvasXpress.selector.isHistogram=this.showHistogram;var f=[];for(var e=0;e<this.data[g][b].length;e++){if(this.data[g].hasOwnProperty(b)&&this.data[g][b][e]==d){if(g=="x"){f.push(this.data.y.smps[e])}else{if(g=="z"){f.push(this.data.y.vars[e])}}}}if(f.length>0){if(g=="x"){for(var e=0;e<f.length;e++){var d=f[e];CanvasXpress.selector.smps[d]=true;CanvasXpress.selector.selections++}for(var e=0;e<this.data.y.vars.length;e++){var d=this.data.y.vars[e];CanvasXpress.selector.vars[d]=true;CanvasXpress.selector.selections++}}else{for(var e=0;e<f.length;e++){var d=f[e];CanvasXpress.selector.vars[d]=true;CanvasXpress.selector.selections++}if(this.yW()){CanvasXpress.selector.smps[this.xAxis[0]]=true;CanvasXpress.selector.selections++;CanvasXpress.selector.smps[this.yAxis[0]]=true;CanvasXpress.selector.selections++}else{for(var e=0;e<this.data.y.smps.length;e++){var d=this.data.y.smps[e];CanvasXpress.selector.smps[d]=true;CanvasXpress.selector.selections++}}}this.x9({func:"selectVarsSmpsWithAnnotationValue",args:[g,b,d]})}}};this.Yd=function(j,p){var h=false;if(this.graphType=="Network"){if(this.isLayoutDone){var a=[];for(var g=0;g<j.length;g++){a.push({id:j[g]})}this.rE(false,{nodes:a});this.x9({func:"toggleSelectedData",args:[j,p]})}else{var m=this;setTimeout(function(){m.Yd(j,p)},100)}}else{var l=[];var n=[];if(j){var e=this.tU(j);if(!this.tO(e)){e=[e]}if(e.length>0){for(var g=0;g<e.length;g++){var k=e[g];if(k>=0){l.push(k)}}}}if(p){var f=this.yV(p);if(!this.tO(f)){f=[f]}if(f.length>0){for(var g=0;g<f.length;g++){var k=f[g];if(k>=0){n.push(k)}}}}if(this.yW()){if(l.length>0){var c=n[0]||0;var b=n[1]||1;for(var g=0;g<l.length;g++){this.rE([l[g],c,b])}this.x9({func:"toggleSelectedData",args:[j,p]})}}else{if(n.length>0){var a=this.Dq(n,l);this.rE(false,a);this.x9({func:"toggleSelectedData",args:[j,p]})}}}};this.rE=function(n,z,E){var w=function(d,h,e){if(!CanvasXpress.selector[h].hasOwnProperty(d)){CanvasXpress.selector[h][d]=true;CanvasXpress.selector.selections++}else{if(CanvasXpress.selector[h][d]){if(!e){delete CanvasXpress.selector[h][d];CanvasXpress.selector.selections--}}else{CanvasXpress.selector[h][d]=true;CanvasXpress.selector.selections++}}};if(z&&(z.y||z.w)){if(this.yW()){if(this.xAxisIndices.length>1||this.yAxisIndices.length>1){if(z.y.comp){for(var B in z.y.comp){w(B,"comp")}}else{for(var B=0;B<z.y.vars.length;B++){w(z.y.vars[B]+"::"+z.y.smps[0]+"::"+z.y.smps[1],"comp")}}}if(z.y){if(z.y.vars){for(var B=0;B<z.y.vars.length;B++){w(z.y.vars[B],"vars")}}if(z.y.smps){for(var B=0;B<z.y.smps.length;B++){w(z.y.smps[B],"smps",this.Nv(CanvasXpress.selector.vars).length)}}}}else{var a=this.graphType.toLowerCase();if(this.data.y[a]){if(!CanvasXpress.selector.meta.hasOwnProperty(z.y.vars[0])){CanvasXpress.selector.meta[z.y.vars[0]]={}}if(z.y&&!CanvasXpress.selector.meta[z.y.vars[0]].hasOwnProperty(z.y.smps[0])){CanvasXpress.selector.meta[z.y.vars[0]][z.y.smps[0]]=true}else{if(z.y){CanvasXpress.selector.meta[z.y.vars[0]][z.y.smps[0]]=CanvasXpress.selector.meta[z.y.vars[0]][z.y.smps[0]]?false:true}}var B=this.data.y[a].y[a];var g=this.graphType=="Treemap"?n[1]:n[0];for(var k=0;k<B[g].length;k++){var l=this.data.y.smps[B[g][k]];w(l,"smps")}}else{if(this.isGroupedData&&z.objectType&&z.objectType.match(/Stack|Dodge/)&&z.y&&z.w){w(z.y.vars[0],"vars");for(var B=0;B<z.y.smps.length;B++){w(z.y.smps[B],"smps")}w(z.y.vars[0]+"::"+z.w.smps[0]+"::"+(this.stackBy||this.dodgeBy)+"::"+z.stack,"comp")}if(z.w){if((this.graphType.match(/Dotplot/)||(this.graphType=="Boxplot"&&this.showBoxplotOriginalData))&&z.y){w(z.y.vars,"vars");w(z.y.smps,"smps")}else{for(var B=0;B<z.w.vars.length;B++){w(z.w.vars[B],"vars")}for(var B=0;B<z.w.grps.length;B++){for(var A=0;A<z.w.grps[B].length;A++){w(this.data.y.smps[z.w.grps[B][A]],"smps")}}}w(this.groupingFactors.join("::")+"::"+z.w.smps.join("::"),"meta");w(z.w.vars.join("::")+"::"+z.w.smps.join("::"),"comp")}else{if(this.graphType.match(/Heatmap/)){if(this.isUpSetSumarized&&this.isUpSetSumarized.inter&&z.z&&z.z.Label){for(var B=1;B<this.isUpSetSumarized.inter[z.z.Label[0]].length;B++){var k=this.isUpSetSumarized.inter[z.z.Label[0]][B];z.y.vars.push(this.data.y.vars[k])}}for(var B=0;B<z.y.vars.length;B++){for(var A=0;A<z.y.smps.length;A++){w(z.y.vars[B]+"::"+z.y.smps[A],"comp")}}}if(z.y.vars){for(var B=0;B<z.y.vars.length;B++){w(z.y.vars[B],"vars")}}if(z.y.smps){for(var B=0;B<z.y.smps.length;B++){w(z.y.smps[B],"smps")}}if(this.graphType=="Map"&&n&&n[0]&&n[0].toString().match(":")){w(n[0].split(":")[1],"mixed")}}}}}else{if(z&&z.objectType=="Histogram"&&this.showHistogram){var D=this.ba(Number(z.d));if(D){if(z.b&&z.c&&z.d){var C=D.data[Number(z.b)][Number(z.c)];var m=D.smps[Number(z.c)].split(":")[1];var g=this.data.y.smps[Number(z.d)];for(var B=0;B<C.length;B++){var l=this.data.y.vars[C[B]];w(l,"vars")}w(D.vars[Number(z.b)]+"::"+m+"::"+g,"comp")}}}else{if(z&&z.objectType=="Histogram"&&this.xAxisIndices.length==this.yAxisIndices.length&&this.xAxisIndices.length>1){var G=this[z.a].cntx[z.d];var f=G[0];var b=G[1];var g=this[z.a].histogram[z.b][z.c-1];for(var B=0;B<g.length;B++){w(this.data.y.vars[g[B]]+"::"+this.data.y.smps[f]+"::"+this.data.y.smps[b],"comp")}for(var B=0;B<g.length;B++){w(this.data.y.vars[g[B]],"vars")}w(this.data.y.smps[f],"smps");w(this.data.y.smps[b],"smps")}else{if(z&&z.nodes){for(var B=0;B<z.nodes.length;B++){w(z.nodes[B].id,"nodes");if(z.nodes[B].name){w(z.nodes[B].name,"mixed")}if(z.nodes[B].label){w(z.nodes[B].label,"mixed")}}}else{if(n){this.rE(false,this.Dq(n),E)}else{if(z&&z.idx&&this.graphType=="Map"){w(z.idx,"vars");w(z.idx,"mixed")}}}}}}if(this.broadcastGroup){CanvasXpress.selector.groups[this.broadcastGroup]=true}if(CanvasXpress.selector.selections){CanvasXpress.selector.graphType=this.graphType;CanvasXpress.selector.isHistogram=this.showHistogram}if(z){if(this.userEvents.select){if(z.y){var u=this.graphType.toLowerCase();var r=this.data.y[u]?true:false;var g=this.tU(this.Nv(CanvasXpress.selector.vars));var m=this.yV(this.Nv(CanvasXpress.selector.smps));var F=this.Dq(r?n:m,g);this.userEvents.select.call(this,F,E,this)}else{if(z.nodes){this.userEvents.select.call(this,z,E,this)}else{this.userEvents.select.call(this,z,E,this)}}}}};this.Cu=function(e){if(this.optimizeTextPosition){var a=[];var o=Math.min(e.length,100);for(var d=0;d<o;d++){var c=e[d][0];var n=e[d][1];var m=e[d][2];var q=e[d][6];var k=parseInt((q||this.dataTextFontSize)*this.dataTextScaleFontFactor);var h=this.dataTextFontStyle+" "+k+"px "+this.fontName;var p=this.selectionMetadata&&this.data.z&&this.data.z[this.selectionMetadata]?this.data.z[this.selectionMetadata][c[0]]:this.data.y.vars[c[0]];var b=this.pb(p,h);if(!isNaN(n)&&!isNaN(m)){a.push({hidden:false,x:n,y:m,width:b+(this.dataTextMargin*2),height:k+(this.dataTextMargin*2)})}}this.returnCachedLayout=false;var g=this.ZD(a);for(var d=0;d<g.length;d++){if(!g[d].hidden){this.oj(e[d][0],g[d].x,g[d].y,e[d][3],e[d][4],e[d][5],e[d][6],g[d].x,g[d].y)}}this.returnCachedLayout=true}else{for(var d=0;d<e.length;d++){this.oj(e[d][0],e[d][1],e[d][2],e[d][3],e[d][4],e[d][5],e[d][6])}}};this.oj=function(m,i,g,j,p,t,k,b,a){var d=this;var r=function(){if(d.selectionMetadata&&d.data.z&&d.data.z[d.selectionMetadata]){return d.data.z[d.selectionMetadata][m[0]]}else{if(d.isCxplot&&d.aes&&d.aes.label&&d.aes.label[m[0]]&&!String(d.aes.label).match(/rownames/)){return d.aes.label[m[0]]}else{return d.data.y.vars[m[0]]}}};var q=this.graphType.match(/Scatter|Map/)&&this.showDataLabels;var l=0;var u=0;if(this.K5(m)||q){if(this.selectionMode=="name"||q){var e=this.dataTextFontStyle+" "+parseInt((k||this.dataTextFontSize)*this.dataTextScaleFontFactor)+"px "+this.fontName;var z=this.dataTextMargin*2;var n=r();var o=this.pb(n,e);if(b&&a&&(b!=i||a!=g)){this.To({p:["drawLine","line",b,a,i,g,this.dataTextColor,1],t:"Labels"})}if(this.dataTextAlign!="center"){if(this.dataTextAlign=="right"){i-=(j*0/2)+this.dataTextMargin;l-=o*0.5}else{i+=(j*0/2)+this.dataTextMargin;l+=o*0.5}}if(this.dataTextBaseline!="middle"){if(this.dataTextBaseline=="top"){g+=(p*0/2)+this.dataTextMargin;u=p+this.dataTextMargin}else{g-=(p*0/2)+this.dataTextMargin;u=-p+this.dataTextMargin}}if(this.isDataLabels){if(this.isDataLabelsBackgroundColor){this.To({p:["drawShape","roundrect",i+l,g+u,o+z,(k||this.dataTextFontSize)+z,t||this.dataLabelBackgroundColor,this.dataTextColor,"closed",this.dataTextRotate*-Math.PI/180],t:"Labels"})}else{this.To({p:["drawShape","roundrect",i+l,g+u,o+z,(k||this.dataTextFontSize)+z,this.dataLabelBackgroundColor,this.dataLabelBackgroundBorderColor,"closed",this.dataTextRotate*-Math.PI/180],t:"Labels"})}}if(this.isDataLabelsBackgroundColor){this.To({p:["drawText",n,i,g,e,this.dataTextColor,this.dataTextAlign,this.dataTextBaseline,this.dataTextRotate*-Math.PI/180],t:"Labels"})}else{this.To({p:["drawText",n,i,g,e,t||this.dataTextColor,this.dataTextAlign,this.dataTextBaseline,this.dataTextRotate*-Math.PI/180],t:"Labels"})}}}};this.iu=function(c,a){if(this.KV()){return}try{CanvasXpress}catch(b){c.preventDefault();c.stopPropagation();return false}if(CanvasXpress.selector.selections){var h={y:{vars:[],smps:[],data:[]}};var g={nodes:[],edges:[]};var d=this.Nv(CanvasXpress.selector.vars).length?h:g;CanvasXpress.selector={meta:{},vars:{},smps:{},comp:{},nodes:{},edges:{},mixed:{},selections:0,groups:{},graphType:false,isHistogram:false};if(this.userEvents.select){this.userEvents.select.call(this,d,c,this)}if(!a){this.Yt({func:"resetSelected",par:[c,a]})}}};this.EZ=function(d){if(!this.yW()){return false}var c=this.graphType.match(/Scatter2D/)?d[1]+":"+d[2]:d[1]+":"+d[2]+":"+d[3];var e=this.graphType.match(/Scatter2D/)&&this.meta.data.d.a.hasOwnProperty(c)?this.meta.data.d.a[c]:{skip:{},density:{}};var a=[];if(e.density.hasOwnProperty(d[0])){for(var b in e.skip){if(e.skip[b]==d[0]){a.push(Number(b))}}}return a}};CanvasXpress.prototype.initDendrograms=function(){this.TB=function(b,m){var a=this.fr();var h=this.PN();var g=this.x;var i=this.y;var e=this.bottom;var j=this.right;var f=this.dendrogramHeight;if(b=="varDendrogram"){if(this.varDendrogramPosition=="bottom"){var d=m?this.width:h+i+e;return[a,h+i,a+g+1,d]}else{return[a,0,a+g+1,h]}}else{if(this.Qc()){if(this.smpDendrogramPosition=="bottom"){return[a,h+i,a+g+1,h+i+e]}else{if(this.smpDendrogramPosition=="top"){return[a,this.margin,a+g+1,h]}else{return[a,this.marginTop+this.offsetY,a+g+1,h]}}}else{if(this.smpDendrogramPosition=="right"){var k=0;if(this.s9()&&this.layoutValid){k=this.smpTitleLabelPosition=="right"?this.i7()+this.WT():0}var l=a+g+k;var c=l+j+f;if(!(this.s9()&&this.layoutValid)){c=a+g+j}return[l,h,c,h+i+1]}else{if(this.smpDendrogramPosition=="left"){return[this.margin,h,a,h+i+1]}else{return[this.marginLeft+this.offsetX,h,a,h+i+1]}}}}};this.w1=function(e){var f=this.s9();if(!f){var c=this.gF(3);var g=this.rbs;var a=this.blockSeparation;return(c*g)+a}else{var b=this.cbs;var d=this.rbs;return e=="varDendrogram"?b:d}};this.ya=function(f,g){var e=this.PN(g);var b=f=="varDendrogram"?"showVarDendrogram":"showSmpDendrogram";var d=0;var c=this.w1(f);var a=this.vB(f);if(this[b]&&this[f]){if(f=="varDendrogram"){if(this.varDendrogramPosition=="bottom"){d=e+this.y+this.bottom-(this.dendrogramHeight+this.margin);if(this.varTitleLabelPosition=="bottom"){d-=this.aZ()}if(this.isOncoprint){d-=this.legend.oncoprint.height}if(!this.legendInside&&this.legendPosition=="bottom"){d-=this.legend.height}d=a<0?d+this.dendrogramHeight:d}else{if(this.varTitleLabelPosition!="bottom"){d=e-((this.varOverlaysThicknessTop||0)+this.IP()+this.qX())}else{d=e-(this.margin+(this.varOverlaysThicknessTop||0)+this.qX())}if(!this.legendInside&&this.legendPosition=="top"){d+=this.legend.height}}}else{if(this.Qc()){if(this.smpDendrogramPosition=="bottom"){d=e+this.y+this.bottom-(this.i7()+this.Tc("bottom")+this.yo())}else{d=e-(this.yo()+(this.smpOverlaysThicknessTop||0))}d=a<0?d+this.dendrogramHeight:d}else{d=this.graphType.match(/Area/)?e:e+(c/2);if(this.isGroupedData){if(this.grpIndicesStart>-1){d-=c*this.grpIndicesStart}}else{if(this.smpIndicesStart>-1){d-=c*this.smpIndicesStart}}}}}return d};this.Vv=function(e,g){var h=this.fr(g);var b=e=="varDendrogram"?"showVarDendrogram":"showSmpDendrogram";var f=0;var d=this.w1(e);var a=this.vB(e);var c=this.heatmapMarkers?this.heatmapMarkers.width+(this.margin*6):0;if(this[b]&&this[e]){if(e=="varDendrogram"){f=h+(d/2);if(this.varIndicesStart>-1){f-=d*this.varIndicesStart}}else{if(this.Qc()){f=this.graphType.match(/Area/)?h:h+(d/2);if(this.isGroupedData){if(this.grpIndicesStart>-1){f-=d*this.grpIndicesStart}}else{if(this.smpIndicesStart>-1){f-=d*this.smpIndicesStart}}}else{if(this.smpDendrogramPosition=="right"){f=h+this.x+(this.smpOverlaysThicknessRight||0)+c+(this.smpTitleLabelPosition=="right"?this.WT():0)+this.margin;f=a<0?f+this.dendrogramHeight:f}else{f=this.marginLeft+this.offsetX+this.margin+this.i7()}}}}return f};this.vB=function(d){var b=1;if(d=="varDendrogram"){var c=this.varDendrogramPosition;b=(c=="top")?1:-1}else{var e=this.Qc();var a=this.smpDendrogramPosition;if(e){if(!a||!a.match(/top|bottom/)){this.smpDendrogramPosition="top";a="top"}b=(a=="top")?1:-1}else{if(!a||!a.match(/left|right/)){this.smpDendrogramPosition="left";a="left"}b=(a=="left")?1:-1}}return b};this.Wo=function(q,d,y,I){var g=this;var K=this.graphType;var a=this[q];var n=this.dendrogramHeight;var f=this.margin;var w=this.s9();var r=this.heatmapType;var B=this.Qc();var L=this.segregateVariablesBy;var N=this.segregateSamplesBy;var j=this.layoutValid;var C=this.layoutCurrent;var G=this.meta.tree;var p=this.plotInfo;var b=this.graphOrientation;var m=this.splitSeparation;var H=g[q+"Hang"];if(K!="TagCloud"&&K!="Sankey"&&K!="Tree"&&K!="Meter"&&a){var J=w&&r=="correlation"?this["varDendrogram"]:a;var k=this.w1(q);var h=this.vB(q);var c=this.TB(q,I);var t=this.ya(q,d)+(I||0);var M=this.Vv(q,d)-(y||0);var E=J.useHeight?n/J.height:n/J.max;var u=q=="varDendrogram"||B?false:true;var A=q=="varDendrogram"?L.length>0:q=="smpDendrogram"?N.length>0:false;var i=w&&j&&A?C:"";var e=0;var P=null;if(A){P=new Map();if(q=="varDendrogram"){var F=g.varIndices;var O=p.variables;for(var x=0;x<F.length;x++){if(O[x]){P.set(F[x],O[x].split*m)}}}else{var D=p.indices;var o=p.samples;for(var l=0;l<D.length;l++){if(o[l]){P.set(D[l],o[l].split*m)}}}}var v=function(Q){if(P){if(Q.idx!=null){return P.get(Q.idx)||0}else{if(Q.children){for(var S=0;S<Q.children.length;S++){var R=v(Q.children[S]);if(R!=null&&R!==0){Q.cachedSplitOffset=R;return R}}Q.cachedSplitOffset=0;return 0}else{return 0}}}return 0};var z=function(U){if(U.children){var T=null;for(var V=0;V<U.children.length;V++){var S=U.children[V];z(S);if(S.children){S.color=S.children[0].color;if(T===null){T=S.color}}}if(T!==null){U.color=T}}else{U.color=g.qL(q==="varDendrogram"?U.name:false,q==="smpDendrogram"?U.name:false)}if(U.mid!=null){var Q;if(J.useHeight){if(!G){Q=U.cumHeight?n-(E*U.cumHeight):n-(E*U.height)}else{Q=U.height?E*(J.height-U.height)*h:n*h}}else{Q=E*U.depth*h}var R=U.cachedSplitOffset!==undefined?U.cachedSplitOffset:v(U);if(u){U.x=M+Q;U.y=t+(k*U.mid)+R}else{U.x=M+(k*U.mid)+R;U.y=t+Q}}};var s=function(V){if(V.children){var ad=V.x;var ac=V.y;var S=V.color;for(var W=0;W<V.children.length;W++){var R=V.children[W];if(R.x==null||R.y==null){continue}var Z=R.x;var X=R.y;var T=R.color;var U;if(b=="vertical"||q=="varDendrogram"){var Y=(!H&&!R.children)?t+(n*h):X;U=g.To({p:["drawLine","line",ad,ac,Z,ac,S,false,"butt",false,false,true,c],i:[q+":"+e+++":"+V.nodeId+":"+i],b:[ad,t,Z,t],t:q});g.To({p:["drawLine","line",Z,ac,Z,Y,T,false,"butt",false,false,true,c],i:[q+":"+e+++":"+V.nodeId+":"+i],g:U,b:[Z,t,Z,t],t:q})}else{var ab=(!H&&!R.children)?M+(n*h):Z;U=g.To({p:["drawLine","line",ad,ac,ad,X,S,false,"butt",false,false,true,c],i:[q+":"+e+++":"+V.nodeId+":"+i],b:[M,ac,M,X],t:q});g.To({p:["drawLine","line",ad,X,ab,X,T,false,"butt",false,false,true,c],i:[q+":"+e+++":"+V.nodeId+":"+i],g:U,b:[M,X,M,X],t:q})}s(R)}if(V.nodeId!=null&&V.children.length>1){var Q=V.name?V.name:"";var aa=J.useHeight?V.height:V.depth;g.To({p:["drawShape","circle",ad,ac,f*2,f*2,"rgba(0,0,0,0)","rgba(0,0,0,0)"],i:[V.nodeId+"-"+aa+"-"+q+"-"+Q+"-"+i],t:q})}}};this.To({p:["disableGradientTransparencyShadow"],t:q});z(J);s(J);this.To({p:["enableGradientTransparencyShadow"],t:q})}};this.N8=function(){var n=this;var w=this.smpDendrogram;var u=this.showSmpDendrogram;var f=this.dendrogramHeight;var p=this.rAxisUnit;var g=this.circularArcSectorDims;var l=this.circularArcSectorSampleIndices;var i=this.currentRadius;var s=this.smpDendrogramPosition;var e=this.cx;var d=this.cy;var m=this.margin;if(w&&u){var v=f/w.max;var o=p/2;var b=g[0][0];var a=l[0].length-1;var t=(g[0][1]-p)-b;if(t<0){t+=(Math.PI*2)}var q=a>0?t/a:0;var j=i-f;var h=s!="inside";var r=0;var k=function(y){if(y.children){var z=null;for(var A=0;A<y.children.length;A++){var x=y.children[A];k(x);if(x.children){x.color=x.children[0].color;if(z===null){z=x.color}}}if(z!==null){y.color=z}}else{y.color=n.qL(false,y.name)}if(y.mid!=null){y.nodeRadius=h?i-(v*y.depth):j+(v*y.depth);y.nodeAngle=(y.mid*q)+b+o;y.nodeX=e+(y.nodeRadius*Math.cos(y.nodeAngle));y.nodeY=d+(y.nodeRadius*Math.sin(y.nodeAngle))}};var c=function(D,P){if(D.children){var z=D.nodeX;var x=D.nodeY;var S=D.color;var H=D.children[0].nodeAngle;var M=D.children[0].nodeRadius;var K=e+(M*Math.cos(D.nodeAngle));var J=d+(M*Math.sin(D.nodeAngle));var V=n.To({p:["drawLine","lineR",z,x,K,J,S,false,"butt"],i:["smpDendrogram:"+r+++":"+D.nodeId],t:"smpDendrogram"});for(var U=0;U<D.children.length;U++){var C=D.children[U];var Q=C.nodeX;var N=C.nodeY;var E=C.nodeAngle;var F=C.nodeRadius;var B=C.color;n.To({p:["drawLine","arc",e,d,F,F,B,false,false,H,E],i:["smpDendrogram:"+r+++":"+D.nodeId],g:V,t:"smpDendrogram"});H=E;c(C,V)}if(D.nodeId!=null&&D.children.length>1){var L=D.name?D.name:"";var I=D.depth;n.To({p:["drawShape","circle",Q,N,m*2,m*2,"rgba(0,0,0,0)","rgba(0,0,0,0)"],i:[D.nodeId+"-"+I+"-smpDendrogram-"+L],t:"smpDendrogram"})}}else{var A=D.nodeX;var y=D.nodeY;var G=D.color;var O=h?i-f:j+f;var T=e+(O*Math.cos(D.nodeAngle));var R=d+(O*Math.sin(D.nodeAngle));n.To({p:["drawLine","lineR",A,y,T,R,G,false,"butt"],i:["smpDendrogram:"+r+++":"+D.nodeId],g:P,t:"smpDendrogram"})}};this.To({p:["disableGradientTransparencyShadow"],t:"smpDendrogram"});k(w);c(w);this.To({p:["enableGradientTransparencyShadow"],t:"smpDendrogram"})}};this.jG=function(j){if(this.KV()){return}if(!j||!j.objectType||!j.objectType.match(/Dendrogram/)||j.nodeId==null){console.error("Invalid options provided to zoomDendrogram:",j);return false}var f=function(k){if(k.children){for(var l=0;l<k.children.length;l++){f(k.children[l])}}else{if(k.idx!=null){e.push(k.idx)}}return e};var g=function(k){if(!h){if(k.nodeId!=null&&k.nodeId==j.nodeId){h=true;d=k}if(k.children&&!h){for(var l=0;l<k.children.length;l++){g(k.children[l])}}}};var e=[];var d={};var h=false;var i=this[j.objectType];if(!i){console.error("Dendrogram object "+j.objectType+" not found on CanvasXpress instance.");return false}g(i);if(!h){console.warn("Node with ID "+j.nodeId+" not found in "+j.objectType+".");return false}this.PR();var a=this.layoutComb?this.layoutParams[j.c||0]:this;e=[];const c=f(d);if(j.objectType=="varDendrogram"){a.varIndices=c;a.varIndicesStart=-1;for(var b=0;b<a.startingVarIndices.length;b++){if(a.startingVarIndices[b]==a.varIndices[0]){a.varIndicesStart=b;break}}if(a.varIndicesStart===-1){console.warn("Could not determine varIndicesStart for zoom.")}}else{if(this.isGroupedData){a.grpIndices=c;a.grpIndicesStart=-1;for(var b=0;b<a.startingGrpIndices.length;b++){if(a.startingGrpIndices[b]==a.grpIndices[0]){a.grpIndicesStart=b;break}}if(a.grpIndicesStart===-1){console.warn("Could not determine grpIndicesStart for zoom.")}}else{a.smpIndices=c;a.smpIndicesStart=-1;for(var b=0;b<a.startingSmpIndices.length;b++){if(a.startingSmpIndices[b]==a.smpIndices[0]){a.smpIndicesStart=b;break}}if(a.smpIndicesStart===-1){console.warn("Could not determine smpIndicesStart for zoom.")}}}this.x9({func:"zoomDendrogram",par:[j]})};this.tz=function(o,n){var m=this;if(this.KV()){return}if(!o||!o.objectType||!o.objectType.match(/Dendrogram/)||(!n&&o.nodeId==null)){console.error("Invalid options provided to modifyDendrogram:",o,"Flip:",n);return false}var g=function(){if(o.hasOwnProperty("layout")&&o.layout!=null){if(f.l&&f.l.cluster&&f.l.cluster[o.layout]&&f.l.cluster[o.layout][o.objectType]){return f.l.cluster[o.layout][o.objectType]}else{console.warn("Tree for layout "+o.layout+" and type "+o.objectType+" not found.");return false}}return m[o.objectType]};var j=function(p){if(p.children){for(var q=0;q<p.children.length;q++){j(p.children[q])}}else{if(p.idx!=null){i.push(p.idx)}}return i};var e=function(p){if(!c){if(p.nodeId!=null&&p.nodeId==o.nodeId){if(p.children){p.children.reverse();c=true}else{c=true}}if(p.children&&!c){for(var q=0;q<p.children.length;q++){e(p.children[q])}}}};var h=function(p){if(p.children){p.children.reverse();for(var q=0;q<p.children.length;q++){h(p.children[q])}}};var k=function(q,p){if(o.hasOwnProperty("layout")&&o.layout!=null){if(f.l&&f.l.cluster&&f.l.cluster[o.layout]){if(f.l.cluster[o.layout].hasOwnProperty(p)){f.l.cluster[o.layout][p]=q}else{console.warn("Property "+p+" not found on layout "+o.layout+". Setting on main instance.");m[p]=q}}else{console.warn("Cluster data for layout "+o.layout+" not found. Setting "+p+" on main instance.");m[p]=q}}else{m[p]=q}};var i=[];var c=false;var f=this.data;var l=g();if(!l){console.error("Could not retrieve dendrogram tree for modification. Type: "+o.objectType+", Layout: "+o.layout);return false}var b=o.objectType+"Newick";this.PR();if(n){h(l)}else{e(l);if(!c){console.warn("Node ID "+o.nodeId+" not found for reversing children in "+o.objectType+".")}}k(this.Om(l),b);var a=this.layoutComb?this.layoutParams[o.c||0]:this;i=[];const d=j(l);if(o.objectType=="varDendrogram"){a.startingVarIndices=d}else{if(this.isGroupedData){a.startingGrpIndices=d}else{a.startingSmpIndices=d}}this.x9({func:"modifyDendrogram",par:[o,n]})}};CanvasXpress.prototype.initCanvasEvents=function(){this.BJ=function(a){if(a){if(this.motioningOn){this.cc(a)}else{if(a.ctrlKey){this.Y6(a);this.H4(a)}else{this.Y6(a);this.Ee(a,this.$w(39),this.hl(a))}}}};this.NJ=function(a){if(a){if(this.motioningOn){this.cc(a)}else{if(a.which?a.which!=3:a.button?a.button!=2:false){this.Of(a)}}}};this.H4=function(b){if(b){if(this.isIE){b=this.cQ(b)}this.At();this.oU();var a=this;this.clickBuffer=setTimeout(function(){if(a.motioningOn){a.cc(b)}else{if(!a.doubleClick){if(!a.skipClick){a.Ee(b,"click",a.hl(b))}a.lastCanvasEvent="click"}}},250);setTimeout(function(){a.doubleClick=false},500);if(!this.reproducing){this.JW({func:"clickCanvas",par:[b],video:true})}}};this.Vr=function(b){if(b){this.doubleClick=true;if(this.motioningOn){this.cc(b);return false}else{if(this.clickBuffer){clearTimeout(this.clickBuffer);this.clickBuffer=null}}if(!this.skipClick){var a=this.hl(b);if(a){this.Ee(b,"dblclick",a)}else{if(this.view!="customize"){this.Y6(b);this.Vz(b)}}this.lastCanvasEvent="dblclick"}if(!this.reproducing){this.JW({func:"dblclickCanvas",par:[b],video:true})}}};this.uO=function(c,d,b){if(c){if(this.motioningOn){this.cc(c);return false}else{if(this.lastWheel&&(new Date().getTime()-this.lastWheel<20)){this.Y6(c);return false}}this.lastWheel=new Date().getTime();var a=0;if(c.wheelDelta){a=c.wheelDelta/120;if(window.opera){a=-a}}else{if(c.detail){a=-c.detail/3}else{if(d){a=d}}}if(a){this.AK(c,a,b)}}};this.bm=function(f){if(f){this.Y6(f);var i=f.dataTransfer;var d=i.getData("text/html");var b=i.getData("text/uri-list");var g=this.zL(f);if(this.motioningOn||this.mousePositioning){this.cc(f);return false}else{if(i&&i.files.length>0){this.EA(i)}else{if(i&&b){var a=this.oy("-cX-data-url-");CanvasXpress.loadRemoteData(a,b,false,false,this.updateRemoteData)}else{if(d&&d.match(/img.+src=.+png/)){var c=this.$cX("div");c.innerHTML=d;var h=c.firstChild.src;var k=this;var j=function(l){var e=new FileReader();e.onloadend=function(){var m=k.PNGtoCX(this.result);k.F2(m)};e.readAsArrayBuffer(l)};this.br(h,false,j,"blob")}}}}if(g){g.className="CanvasXpress"}}};this.no=function(b){if(b){if(!this.motioningOn&&!this.mousePositioning){this.Y6(b);var a=this.zL(b);if(a){a.className="CanvasXpressUpload"}return false}}};this.Bx=function(b){if(b){if(!this.motioningOn&&!this.mousePositioning){this.Y6(b);var a=this.zL(b);if(a){a.className="CanvasXpressUpload"}return false}}};this.Cw=function(b){if(b){var a=this.zL(b);if(a){a.className="CanvasXpress"}return false}};this.tQ=function(b){var a=this.meta.canvas.ctx2.canvas;this.cI(b,a,"contextmenu","contextmenuCanvas",[],false);this.cI(b,a,"mousedown","mousedownCanvas",[],false);this.cI(b,a,"click","clickCanvas",[],false);this.cI(b,a,"dblclick","dblclickCanvas",[],false);this.cI(b,a,"mousewheel","wheelCanvas",[],{passive:false});this.cI(b,a,"drop","dropCanvas",[],false);this.cI(b,a,"dragenter","dragEnterCanvas",[],false);this.cI(b,a,"dragover","dragOverCanvas",[],false);this.cI(b,a,"dragleave","dragLeaveCanvas",[],false)};this.tb=function(b){var a=this.Ej(b);return a&&a.x>0&&a.x<=13&&a.y>0&&a.y<=13?true:false};this.AK=function(D,F,J){if(this.KV()||this.disableWheel){return}this.skipTransition=true;var C=this.zL(D);if(C&&/CanvasXpress/.test(C.className)){CanvasXpress.current=this}if(!J){J=this.Ej(D)}var z={x:J?J.x:null,y:J?J.y:null,direction:F};var f={panningX:this.panningX,panningY:this.panningY};if(this.graphType=="Correlation"||this.s9()||(this.graphType.match(/Bar|Line|Dotplot|Boxplot|Area|Stacked/)&&!this.is3DPlot)){this.Y6(D);if(this.layoutComb&&!this.layoutAdjust&&this.graphType!="Correlation"&&!this.s9()){return false}this.KG(D,F)}else{if(this.graphType=="Scatter2D"||this.graphType=="ScatterBubble2D"||this.graphType=="Genome"){this.Y6(D);if(this.graphType=="Genome"&&this.xAxisUnit>100&&F>0){return}this.Bd(D,F)}else{if(this.graphType=="Scatter3D"||this.is3DPlot){this.Y6(D);if(!J){J=this.Ej(D);D.ac={x:J.x,y:J.y}}if(J){J.x-=(this.marginLeft+this.left);J.y-=(this.marginTop+this.top);var w=(Math.min(Math.max(J.x,0),this.x)/this.x)-0.5;var v=(Math.min(Math.max(J.y,0),this.y)/this.y)-0.5}if(F>0){if(this.zoom>=4){return}this.zoom*=1.1;this.padX-=w*this.padX/4;this.padY-=v*this.padY/4}else{if(this.zoom<=0.5){return}this.zoom*=0.9;this.padX+=w*this.padX/4;this.padY+=v*this.padY/4}this.x9({func:"handleWheelEvent",par:[D,F,J],prop:f})}else{if(this.graphType=="Network"){this.Y6(D);if(!J){J=this.Ej(D);D.ac={x:J.x,y:J.y}}if(J){if(D.type=="keydown"){J.x=this.width/2;J.y=this.height/2}var c=(J.x/this.scaleFactorX)-this.offsetX;var b=(J.y/this.scaleFactorY)-this.offsetY;var g=Math.abs(F>0?this.zoom+this.zoomStep:this.zoom-this.zoomStep);var u=this.networkFreeze?Math.min(this.scaleFactorX,this.scaleFactorY)*g:Math.min(this.x/(this.maxX-this.minX),this.y/(this.maxY-this.minY))*g;var r=u;var L=this.x/u;var K=this.y/r;var i=((L/2)-((this.minX+this.maxX)/2))+(this.left/u);var h=((K/2)-((this.minY+this.maxY)/2))+(this.top/r);var G=(J.x/u)-i;var E=(J.y/r)-h;var q=(G-c);var p=(E-b);if(!this.panningGlobalX&&!this.panningGlobalY){this.panningX=q;this.panningY=p}else{this.panningX=q-this.panningGlobalX;this.panningY=p-this.panningGlobalY}this.zoom=g;this.x9({network:true,func:"handleWheelEvent",par:[D,F,J],prop:f})}}else{if(this.graphType=="Circular"){this.Y6(D);if(!J){J=this.Ej(D);D.ac={x:J.x,y:J.y}}if(J){var A=(this.width/2);var t=(this.height/2);var n=A-J.x;var m=t-J.y;var I=F>0?-1:1;var s=0.1;var a=1*I*s;this.panningX+=n*a*2;this.panningY+=m*a*2;this.zoom+=a;this.x9({func:"handleWheelEvent",par:[D,F,J],prop:f})}}else{if(this.graphType=="Map"&&!this.layoutComb){this.Y6(D);if(!J){J=this.Ej(D);D.ac={x:J.x,y:J.y}}if(J){if(this.mapProjection=="orthographic"){this.zoom+=F>0?this.zoom*0.1:this.zoom*-0.1}else{this.panningX=0;this.panningY=0;var B=this.meta.map.geojson;var a=B.zoom+(F>0?0.1:-0.1);var M=Math.pow(2,a)/Math.pow(2,B.zoom);var l=((this.width/2)+((J.x-(this.width/2))*(1-1/M)));var k=((this.height/2)+((J.y-(this.height/2))*(1-1/M)));var H=this.Af([l+B.center[0],k+B.center[1]]);B.geometry.zoom=a;B.geometry.center=H;B.isZoomed=true}this.x9({func:"handleWheelEvent",par:[D,F,J],prop:f});if(this.leafletMap){this.Ie()}}}}}}}}if(this.userEvents.wheel){this.userEvents.wheel.call(this,z,D,this)}return false};this.PU=function(e){if(e!=null){e=e.toString().replace("Tree-Node:","");var b=this.data.tree.plot.descendants();var a=b.length;for(var c=0;c<a;c++){var d=b[c];if(d.id==e){return d}}}return false};this.Uc=function(b){if(b&&!this.treeClickDisable){var a=false;var c=this.PU(b.id);if(c){a=true;this.data.tree.click=c;if(c.children){c._children=c.children;c.children=null}else{c.children=c._children;c._children=null}}if(a){this.x9({func:"handleTreeClick",par:[b]})}}};this.Kw=function(f,e){if(this.isDOE&&f&&this.layoutValidN){if(f&&f.doe&&f.doe.length){if(!this.gS(this.data.l.doe,f.doe)){var a=this.TU(f.doe);var d=this.data.l.showHistogram;var b=this.showLoessFit;var c=this.isDOE;this.data.l.doe=f.doe;this.Jl();this.Ap(true);this.ts(true);this.M4(true);if(c==2){this.varIndices=a}else{this.smpIndices=a}if(d){this.bI(d,true)}if(b){this.Uq(b,true)}this.graphType=this.meta.config.user.graphType||this.graphType;this.wY(false,false,a,true);if(!e){this.x9({func:"handleDOEClick",par:[f],prop:{layoutValidN:this.layoutValidN}})}}}}};this.E4=function(a){if(a){this.g8(this.Nv(this.circularChord.segments[a.id].ribbons))}};this.Nt=function(a){if(a){this.g8(this.sankeyHighlights[a.display])}};this.oW=function(c){var b=this.hl(c);var a=this.po(b);return this.Dq(a,false,b)};this.Ee=function(d,b,c){var a=this.po(c);if(this.KV()){return false}this.lastEvent=d;if(this.layoutComb){this.uG(d);if(!this.layoutValidN==null){return false}}var f=a?this.Dq(a,false,c,d):false;if(this.userEvents[b]){if(typeof(this.userEvents[b])=="object"&&this.userEvents[b].handler&&this.userEvents[b].scope){this.userEvents[b].handler.apply(this.userEvents[b].scope,[f,d,this,c,a])}else{if(typeof(this.userEvents[b])=="object"&&this.userEvents[b].handler){this.userEvents[b].handler(f,d,this,c,a)}else{this.userEvents[b](f,d,this,c,a)}}}return f&&(f.objectType=="Chord"||f.objectType=="Sankey")};this.xM=function(m,g){var b=[];var f=g.length;if(this.graphType!="Network"){for(var d=0;d<f;d++){if(d%2){b.push(this.vy("%.0f",(g[d]+this.translateY)*this.scaleY))}else{if(this.layoutValid&&m=="circle"&&d==2){b.push(this.vy("%.0f",g[d]*((this.scaleX+this.scaleY)/2)))}else{b.push(this.vy("%.0f",(g[d]+this.translateX)*this.scaleX))}}}}else{for(var d=0;d<f;d++){b.push(this.vy("%.0f",parseInt(g[d])))}}if(m=="rect"){var a=Math.min(b[0],b[2]);var k=Math.min(b[1],b[3]);var j=Math.max(b[0],b[2]);var e=Math.max(b[1],b[3]);b=[a,k,j,e]}return b.join(",")};this.SG=function(k){var m=this.meta.canvas.ctx2;m.strokeStyle="red";m.fillStyle="green";m.lineWidth=2;var f=[];var e=this.meta.render.objects;var h=e.length;if(k){f.push(k)}else{for(var d=0;d<h;d++){if(e[d].idx){f.push(d)}}}var l=f.length;for(var d=0;d<l;d++){var b=this.TU(e[f[d]]);if(b.idx){var g=b.area;switch(g[0]){case"rect":m.beginPath();m.moveTo(g[1],g[2]);m.lineTo(g[3],g[2]);m.lineTo(g[3],g[4]);m.lineTo(g[1],g[4]);m.closePath();m.stroke();break;case"circle":m.beginPath();m.arc(g[1],g[2],Math.abs(g[3]),0,Math.PI*2,true);m.closePath();m.stroke();break;case"poly":m.beginPath();m.moveTo(g[1],g[2]);m.arc(g[1],g[2],5,0,Math.PI*2,true);m.closePath();m.fill();m.beginPath();m.moveTo(g[1],g[2]);for(var c=3;c<g.length;c+=2){m.lineTo(g[c],g[c+1])}m.closePath();m.stroke();break}}}};this.yk=function(c){if(c){if(c[0]=="circle"){c[1]=this.RA(c[1]);c[2]=this.t0(c[2]);c[3]=c[3]*Math.min(this.scaleFactorX,this.scaleFactorY)*0.75}else{var a=c.length;for(var b=1;b<a;b++){if(b%2){c[b]=this.RA(c[b])}else{c[b]=this.t0(c[b])}}}}else{return false}return c};this.FN=function(b){var c=this.rk(b);var a=Math.floor(c*Math.min(this.scaleFactorX,this.scaleFactorY))+1;return b.replace(c,a)};this.RA=function(a){return(this.offsetX+a)*this.scaleFactorX};this.t0=function(a){return(this.offsetY+a)*this.scaleFactorY};this.fR=function(a){return(a/this.scaleFactorX)-this.offsetX};this.bU=function(a){return(a/this.scaleFactorY)-this.offsetY};this.PQ=function(a){return(a-this.xMouseDown)/this.scaleFactorX};this.op=function(a){return(a-this.yMouseDown)/this.scaleFactorY};this.TD=function(){this.meta.canvas.ctx2.canvas.width=this.width*this.meta.canvas.canvasPixelRatio;this.meta.canvas.ctx2.canvas.height=this.height*this.meta.canvas.canvasPixelRatio;this.meta.canvas.ctx2.setTransform(this.meta.canvas.canvasPixelRatio,0,0,this.meta.canvas.canvasPixelRatio,0,0)};this.g8=function(e){this.TD();this.isHighlightCanvas=true;var n=this.meta.render.objects;var r=this.meta.canvas.canvasPixelRatio;var m=function(f){for(var c=f;c>=0;c--){if(n[c].func=="setClipArea"){return n[c].params[0]}}return false};var b=function(){for(var c=0;c<y.length;c++){if(n[y[c]].type=="Data"){return true}}return false};if(this.lassoSelected&&this.lassoPoints&&this.lassoPoints.length){this.Fe("polygon",this.lassoPoints[0],this.lassoPoints[1],false,false,"rgba(245,245,245,0.75)","rgb(0,0,0)")}else{if(e){var x={polygon:true,path:true,spline:true,confidence:true,violin:true};var v={Legends:true,Titles:true};var y=[];var d=e.length;for(var F=0;F<d;F++){y=y.concat(this.meta.render.groups[n[e[F]].group])}y=y.sort();var h={};var I=false;var q=this.outlineWidth;if(this.highlightGreyOut&&b()){var C="rgba(255,255,255,"+this.highlightGreyOutTransparency+")";this.Fe("rectangle",this.width/2,this.height/2,this.width,this.height,C,C)}var z=this.useLeaflet?0:0.7;var u=y.length;var l=Math.PI*2;for(var F=0;F<u;F++){if(!h[y[F]]){h[y[F]]=true;var B=this.meta.render.objects[y[F]];var H=B.func;var A=this.TU(B.params);var G=this.graphType;if(B&&B.type.match(/Axes/)){continue}if(H&&A){switch(H){case"drawLine":if(A[1]==A[3]){A[1]=(((A[1]+0.5)<<1)>>1)+0.5;A[3]=A[1]}else{if(A[2]==A[4]){A[2]=(((A[2]+0.5)<<1)>>1)+0.5;A[4]=A[2]}}A[5]=this.s8(A[5],10);if(G=="Network"&&!this.preScaleNetwork){A[1]=this.RA(A[1]);A[2]=this.t0(A[2]);A[3]=this.RA(A[3]);A[4]=this.t0(A[4]);if(this.tO(A[12])){var a=[];for(var E=0;E<A[12].length;E++){a[E]=[];for(var D=0;D<A[12][E].length;D++){if(D%2){a[E][D]=this.t0(A[12][E][D])}else{a[E][D]=this.RA(A[12][E][D])}}}A[12]=a}if(A[15]&&A[15].size){A[15].size=A[15].size*Math.max(this.scaleFactorX,this.scaleFactorY)}if(A[8]){if(this.tO(A[8])){A[8][0]*=this.scaleFactorX;A[8][1]*=this.scaleFactorX}else{A[8]*=this.scaleFactorX}}if(A[9]){if(this.tO(A[9])){A[9][0]*=this.scaleFactorY;A[9][1]*=this.scaleFactorY}else{A[9]*=this.scaleFactorY}}}if(A[0]=="error"){this.outlineWidth=3}else{A[6]=A[6]?parseFloat(A[6])+2:3}if(G!="Network"&&!I){this.Ad(A[11]?A[11]:m(y[F]));I++}break;case"drawShape":if(typeof B.params[5]=="object"){A[5]=B.params[5]}if(G=="Network"&&!this.preScaleNetwork&&B.type!="Legends"){if(this.tO(A[1])){for(var E=0;E<A[1].length;E++){A[1][E]=this.RA(A[1][E])}}else{A[1]=this.RA(A[1])}if(this.tO(A[2])){for(var E=0;E<A[2].length;E++){A[2][E]=this.t0(A[2][E])}}else{A[2]=this.t0(A[2])}A[3]=(A[3]+1)*this.scaleFactorX;A[4]=(A[4]+1)*this.scaleFactorY}if(A[0]=="sphere"&&this.Xo(A[5])){A[5]=this.pP(A[5],true)}else{if(A[0]=="bezier"&&A[8]&&this.tO(A[8])){A[5]=this.dX(0,0,A[3],0,[A[8][0],A[8][1]])}else{if(A[0]=="pie"&&(A[12]%l)==(A[13]%l)){A[0]="sphere";A[5]=this.pP(A[5],true);A[5]=this.b9(A[5],0.7,true);A[12]=false;A[13]=false}else{if(A[5]=="rgba(0,0,0,0)"){A[6]=this.pP(A[5],true)}else{if(this.Pl(A[5])){A[5]=this.pP(A[5],true);A[5]=this.s8(A[5],18);A[5]=this.b9(A[5],z,true)}else{A[5]=this.b9(A[5],z,true)}}}}}if(G!="Network"&&!I&&B.type=="Data"){this.Ad(A[11]?A[11]:m(y[F]));I++}break;case"drawArcText":case"drawText":if(G=="Network"&&!this.preScaleNetwork&&B.type!="Legends"){A[1]=this.RA(A[1]);A[2]=this.t0(A[2]);A[3]=this.FN(A[3])}else{A[1]-=0;A[2]-=0}break;default:this.isHighlightCanvas=false;this.outlineWidth=q;return}this[H].apply(this,A);this.outlineWidth=q}}}if(I){this.Kj()}}}this.meta.canvas.ctx2.render(r);this.meta.canvas.ctx2.resetRender();this.isHighlightCanvas=false};this.F5=function(b,p,m,f,k,a){var j=this.$cX("div",{id:this.target+"canvasXpressFlash"+new Date().getTime()},{left:(b-(m/2))+"px",top:(p-(f/2))+"px",width:m+"px",height:f+"px",borderRadius:"999px",WebkitBorderRadius:"999px",MozBorderRadius:"999px",opacity:0.6,filter:"alpha(opacity = 60)",position:"absolute",zIndex:100000,display:"block",backgroundColor:k?k:"rgba(204,204,204,0.7)"});this.meta.canvas.ctx.canvas.parentNode.appendChild(j);if(!a){a=3}var g=this;var e=1;var o=function(){var d=function(){if(e%2){j.style.display="none"}else{j.style.display="block"}if(e>=(a*2)){g.meta.canvas.ctx.canvas.parentNode.removeChild(j);clearInterval(c)}e++};var c=g.mG(d,300)};o.call()};this.FT=function(){if(!this.disableEvents&&!this.disableCanvas){this.tQ("addEvtListener")}};this.FT()};CanvasXpress.prototype.initCleanupEvents=function(){this.Sn=function(a,b){if(a){if(typeof(a)=="object"&&a.target){a=a.target}CanvasXpress.current=a.taget!=CanvasXpress.current.target?a:false;if(CanvasXpress.instances.length==1&&CanvasXpress.instances[0].target==a){return this.Sn(false,b)}else{this.x7(a,b)}}else{this.x7(this.target,b);CanvasXpress.cacheImages={};CanvasXpress.cacheText={};CanvasXpress.stack={};CanvasXpress.current=false;CanvasXpress.selector={vars:{},smps:{},meta:{},comp:{},nodes:{},edges:{},mixed:{},selections:0,graphType:false};CanvasXpress.hidden={hiddenVars:{},hiddenSmps:{},hiddenGrps:{},hiddenMapFeatures:{},hiddenNodes:{},hiddenEdges:{}}}};this.pD=function(c){var b=0;var a=c.length;while(c.length>0&&b<=a){this.Sn(c[0].id);b++}};this.bx=function(){var a=this;setTimeout(function(){var f=[];try{for(var b=0;b<CanvasXpress.instances.length;b++){var g=a.$(CanvasXpress.instances[b].target);if(!g){f.push(CanvasXpress.instances[b].target)}}for(var b=0;b<f.length;b++){a.Sn(f[b])}}catch(d){return false}},1000)};this.dh=function(){var e=this.$(this.target+"-cX-DOM");if(!e||!e.parentNode){return}var b=e.parentNode;var d=b.previousElementSibling;if(d){var a=d.className;if(a&&a.includes("CanvasXpress-ParentNode")){var c=a.replace("CanvasXpress-ParentNode","").trim();b.className=c+" "+b.className}d.parentNode.removeChild(d)}};this.x7=function(e,g){var d=CanvasXpress.instances;CanvasXpress.instances=[];for(var c=0;c<d.length;c++){if(d[c].target!=e){CanvasXpress.instances.push(d[c])}else{var h=d[c];if(h.isR||g){var b=h.$(h.target+"-cX-DOM");if(b){var f=b.parentNode;var a=h.$cX("canvas",h.meta.dom);for(id in CanvasXpress.chain){if(CanvasXpress.chain[id]==a.id){a.id=id;break}}h.qw();h.wE();h.TT(h.target+"-cX-DOM");h.TT(h.target+"-cX-Info");delete CanvasXpress.stack[h.target];f.appendChild(a);if(h.graphType=="Network"&&h.isR){a.width=0;a.height=0}}}else{h.qw();h.wE();h.TT(h.target+"-cX-DOM");h.TT(h.target+"-cX-Info");delete CanvasXpress.stack[h.target]}}}};this.wE=function(){this.B0("removeEvtListener");this.SF("removeEvtListener");this.NI("removeEvtListener");this.DR("removeEvtListener");this.uQ("removeEvtListener");this.II("removeEvtListener");this.xW("removeEvtListener");this.WM("removeEvtListener");this.LQ();this.A1("removeEvtListener");this.tQ("removeEvtListener");this.IW("removeEvtListener");this.g4(document,"mousemove",this.mousemoveDoc,false);this.g4(document,"mouseup",this.mouseupDoc,false);this.g4(document,"mousedown",this.mousedownDoc,false);this.g4(document,"contextmenu",this.contextmenuCanvas,false);this.g4(document,"keydown",this.keydownDoc,false);this.g4(document,"keyup",this.keyupDoc,false);this.g4(window,"resize",this.resizeWindow,false);this.g4(window,"scroll",this.scrollWindow,false)}};CanvasXpress.prototype.initEvents=function(){this.RR=function(e){var p=["ac","altKey","cancelBubble","charCode","code","clientX","clientY","ctrlKey","deltaX","deltaY","deltaZ","keyCode","layerX","layerY","metaKey","offsetX","offsetY","pageX","pageY","screenX","screenY","shiftKey","type","wheelDelta","wheelDeltaX","wheelDeltaY","which","x","y"];var evt={srcElement:e.srcElement?e.srcElement.id:e.target.id,target:e.target.id};for(var i=0;i<p.length;i++){evt[p[i]]=e[p[i]]}if(!evt.ac){evt.ac=this.Ej(evt)}evt.xMouseDown=this.xMouseDown;evt.yMouseDown=this.yMouseDown;return evt};this.Nd=function(a){for(var i=0;i<a.length;i++){if(a[i] instanceof Event){a[i]=this.RR(a[i])}}return a};this.iM=function(e){var x=0;var y=0;while(e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop)){x+=e.offsetLeft-e.scrollLeft;y+=e.offsetTop-e.scrollTop;e=e.offsetParent}return{top:y,left:x}};this.hh=function(e,t){if(e&&e.ac){return{x:e.ac.x,y:e.ac.y}}if(e.pageX!=null){return{x:e.pageX,y:e.pageY}}if(t&&t.clientX!=null){var doc=e.target.ownerDocument||document;var d=doc.documentElement;var b=doc.body;var scrollLeft=(d&&d.scrollLeft)||(b&&b.scrollLeft)||0;var scrollTop=(d&&d.scrollTop)||(b&&b.scrollTop)||0;var clientLeft=(d&&d.clientLeft)||(b&&b.clientLeft)||0;var clientTop=(d&&d.clientTop)||(b&&b.clientTop)||0;return{x:t.clientX+scrollLeft-clientLeft,y:t.clientY+scrollTop-clientTop}}return{x:e.pageX,y:e.pageY}};this.Fk=function(renderObject,position,isRelative,offsetMultiplier,relativeX,relativeY,offsetX,offsetY,curX,curY){var that=this;var getErrorBounds=function(group){var bounds={minX:Number.POSITIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY};for(var i=0;i<group.length;i++){var objectId=group[i];var renderItem=that.meta.render.objects[objectId];if(renderItem&&renderItem.params[0]==="error"){bounds.minX=Math.min(bounds.minX,renderItem.params[1],renderItem.params[3]);bounds.minY=Math.min(bounds.minY,renderItem.params[2],renderItem.params[4]);bounds.maxX=Math.max(bounds.maxX,renderItem.params[1],renderItem.params[3]);bounds.maxY=Math.max(bounds.maxY,renderItem.params[2],renderItem.params[4])}}return{left:bounds.maxX>Number.NEGATIVE_INFINITY?bounds.minX:0,right:bounds.maxX>Number.NEGATIVE_INFINITY?bounds.maxX:0,top:bounds.maxY>Number.NEGATIVE_INFINITY?bounds.minY:0,bottom:bounds.maxY>Number.NEGATIVE_INFINITY?bounds.maxY:0}};var transformCoordinates=function(coordinates,layoutConfig){var x=((coordinates[0]-layoutConfig.offsetX)/layoutConfig.scaleX).toFixed(layoutConfig.decimals);var y=((coordinates[1]-layoutConfig.offsetY)/layoutConfig.scaleY).toFixed(layoutConfig.decimals);return[Number(x),Number(y)]};var offset=this.margin*(offsetMultiplier||0);var layoutParams=renderObject.layout?this.layoutParams[renderObject.layout]:this;var layoutConfig={offsetX:isRelative?this.marginLeft+layoutParams.offsetX+layoutParams.left:0,offsetY:isRelative?this.marginTop+layoutParams.offsetY+layoutParams.top:0,scaleX:isRelative?layoutParams.x:1,scaleY:isRelative?layoutParams.y:1,decimals:isRelative?2:0};var centroid=this.Fq(renderObject.area);var calculatedXY=[centroid[0],centroid[1]];var shapeType=renderObject.area[0];var circleOffset=(renderObject.area[3]/2)+offset;var group=this.meta.render.groups[renderObject.group];var errorBounds=getErrorBounds(group);var locations={};var tempXY;tempXY=[shapeType==="rect"?renderObject.area[3]+offset:renderObject.area[1]+circleOffset,centroid[1]];locations.right=transformCoordinates(tempXY,layoutConfig);tempXY=[shapeType==="rect"?renderObject.area[1]-offset:renderObject.area[1]-circleOffset,centroid[1]];locations.left=transformCoordinates(tempXY,layoutConfig);tempXY=[centroid[0],shapeType==="rect"?renderObject.area[2]-offset:renderObject.area[2]-circleOffset];locations.top=transformCoordinates(tempXY,layoutConfig);tempXY=[centroid[0],shapeType==="rect"?renderObject.area[4]+offset:renderObject.area[2]+circleOffset];locations.bottom=transformCoordinates(tempXY,layoutConfig);locations.center=[locations.top[0],locations.right[1]];switch(position){case"right":calculatedXY[0]=shapeType==="rect"?renderObject.area[3]+offset:renderObject.area[1]+circleOffset;if(errorBounds.right>0){calculatedXY[0]=Math.max(calculatedXY[0],errorBounds.right+offset)}break;case"left":calculatedXY[0]=shapeType==="rect"?renderObject.area[1]-offset:renderObject.area[1]-circleOffset;if(errorBounds.left>0){calculatedXY[0]=Math.min(calculatedXY[0],errorBounds.left-offset)}break;case"top":calculatedXY[1]=shapeType==="rect"?renderObject.area[2]-offset:renderObject.area[2]-circleOffset;if(errorBounds.top>0){calculatedXY[1]=Math.min(calculatedXY[1],errorBounds.top-offset)}break;case"bottom":calculatedXY[1]=shapeType==="rect"?renderObject.area[4]+offset:renderObject.area[2]+circleOffset;if(errorBounds.bottom>0){calculatedXY[1]=Math.max(calculatedXY[1],errorBounds.bottom+offset)}break}var finalCoordinates=transformCoordinates(calculatedXY,layoutConfig);var referencePoint=calculatedXY;if(relativeX!==undefined&&relativeY!==undefined){var curXVal=(layoutParams.x*(relativeX||0.5))+layoutConfig.offsetX+layoutParams.left+(offsetX||0);var curYVal=(layoutParams.y*(relativeY||0.5))+layoutConfig.offsetY+layoutParams.top+(offsetY||0);if(curX!==undefined&&curY!==undefined){referencePoint=[Math.abs(curXVal-curX)<=1?curX:curXVal,Math.abs(curYVal-curY)<=1?curY:curYVal]}else{referencePoint=[curXVal,curYVal]}}return[finalCoordinates[0],finalCoordinates[1],locations,referencePoint,errorBounds]};this.Wt=function(e){var c={x:0,y:0};if(e&&e.ac){c.x=e.ac.x;c.y=e.ac.y}else{while(e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop)){c.x+=e.offsetLeft;c.y+=e.offsetTop;e=e.offsetParent}}return c};this.Y9=function(e){var c={x:0,y:0};if(e&&e.ac){c.x=e.ac.x;c.y=e.ac.y}else{while(e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop)){c.x+=e.offsetLeft-e.scrollLeft;c.y+=e.offsetTop-e.scrollTop;e=e.offsetParent}}return c};this.getBoundingClientRect=function(el){var win=window;var doc=win.document;var body=doc.body;var offsetX=win.pageXOffset!==undefined?win.pageXOffset:(doc.documentElement||body.parentNode||body).scrollLeft;var offsetY=win.pageYOffset!==undefined?win.pageYOffset:(doc.documentElement||body.parentNode||body).scrollTop;var rect=el.getBoundingClientRect();if(el!==body){var parent=el.parentNode;while(parent!==body&&parent.scrollLeft&&parent.scrollTop){offsetX+=parent.scrollLeft;offsetY+=parent.scrollTop;parent=parent.parentNode}}return{bottom:rect.bottom+offsetY,height:rect.height,left:rect.left+offsetX,right:rect.right+offsetX,top:rect.top+offsetY,width:rect.width,viewportWidth:body.clientWidth,viewportHeight:body.clientHeight}};this.Ej=function(e,o){if(!o){o=this.$(this.target)}try{CanvasXpress}catch(f){e.preventDefault();e.stopPropagation();return false}if(o&&e){var tr=e.target||e.srcElement;var c={};if(CanvasXpress.system.isReveal&&tr&&tr.tagName&&tr.tagName.toLowerCase()=="canvas"){var b=tr.getClientRects();c.x=e.x-b[0].left;c.y=e.y-b[0].top}else{try{if(tr&&this.md(tr,"CanvasXpressDataTableDOE")){o=this.$(this.target)}var p=o.parentNode.getClientRects();if(e&&e.ac){c.x=e.ac.x;c.y=e.ac.y}else{if(p&&p[0]){var d=window.document;var l=p[0].left;var t=p[0].top;var x=e&&e.clientX?e.clientX:e&&e[0]?e[0]:l;var y=e&&e.clientY?e.clientY:e&&e[1]?e[1]:t;c.x=d.body.scrollLeft>Math.abs(l)+x&&x>d.body.scrollLeft-l?Math.abs(l)+x:x-l;c.y=d.body.scrollTop>Math.abs(t)+y&&y>d.body.scrollTop-t?Math.abs(t)+y:(y-t)}else{c.x=0;c.y=0}}}catch(e){return false}}return c}else{return false}};this.qq=function(x,y,pol){var inside=false;for(var i=0,j=pol[0].length-1;i<pol[0].length;j=i++){var xi=pol[0][i];var yi=pol[1][i];var xj=pol[0][j];var yj=pol[1][j];var intersect=((yi>y)!=(yj>y))&&(x<(xj-xi)*(y-yi)/(yj-yi)+xi);if(intersect){inside=!inside}}return inside};this.iG=function(area,pol){var x,y;switch(area[0]){case"rect":x=(area[1]+area[3])/2;y=(area[2]+area[4])/2;break;case"circle":x=area[1];y=area[2];break;case"poly":var ct=this.Fq(area);x=ct[0];y=ct[1];break}return this.qq(x,y,pol)};this.U7=function(area,x0,y0,x1,y1){var x,y;switch(area[0]){case"rect":x=(area[1]+area[3])/2;y=(area[2]+area[4])/2;break;case"circle":x=area[1];y=area[2];break;case"poly":var ct=this.Fq(area);x=ct[0];y=ct[1];break}return this.a5(x,y,["rect",x0,y0,x1,y1])};this.a5=function(x,y,c){if(!c){return false}switch(c[0]){case"rect":var x1=Math.min(c[1],c[3]);var x2=Math.max(c[1],c[3]);var y1=Math.min(c[2],c[4]);var y2=Math.max(c[2],c[4]);return x>=x1&&x<=x2&&y>=y1&&y<=y2;case"circle":var centerX=c[1];var centerY=c[2];var radius=c[3]/2;var dx=x-centerX;var dy=y-centerY;return(dx*dx+dy*dy)<=(radius*radius);case"poly":var isInside=false;var numPoints=(c.length-1)/2;for(var i=0,j=numPoints-1;i<numPoints;j=i++){var xi=c[2*i+1];var yi=c[2*i+2];var xj=c[2*j+1];var yj=c[2*j+2];var intersect=((yi>y)!==(yj>y))&&(x<(xj-xi)*(y-yi)/(yj-yi)+xi);if(intersect){isInside=!isInside}}return isInside;default:return false}};this.X1=function(event,findMultiple){var target=this.zL(event);if(!target||!target.id||!target.id.match(this.target)){return false}var adjustedCoords=this.Ej(event);if(!adjustedCoords){return false}this.xMouseMove=adjustedCoords.x;this.yMouseMove=adjustedCoords.y;var renderObjects=this.meta.render.objects;var matchingIndices=[];for(var i=renderObjects.length-1;i>=0;i--){var obj=renderObjects[i];if(obj.idx&&this.a5(adjustedCoords.x,adjustedCoords.y,obj.area)){if(findMultiple){matchingIndices.push(i)}else{return[i]}}}if(findMultiple&&matchingIndices.length>0){return matchingIndices}return false};this.hl=function(e,m,x){var arr=[];var idx=x?x:this.X1(e,m);if(idx){var l=idx.length;for(var i=0;i<l;i++){var o=this.meta.render.objects[idx[i]];arr.push(o)}return arr}return false};this.po=function(ao,idx){var arr=[];if(ao){if(ao.length==1){return ao[0].modifier?[ao[0].idx+ao[0].modifier]:ao[0].idx}else{var l=ao.length;for(var i=0;i<l;i++){arr.push(ao[i].idx)}return arr}}else{if(idx){return this.meta.render.objects[idx]?this.meta.render.objects[idx].idx:false}}return false};this.CD=function(idx){return idx&&this.meta.render.objects[idx]?this.meta.render.objects[idx]:false};this.al=function(c){var o=this.layoutComb&&this.layoutParams&&this.layoutParams.length?this.layoutParams[c]:this;var q=this.isDOE&&this.data.l&&this.data.l.params&&this.data.l.params[c]?this.data.l.params[c].isTable:false;if(o){var l=this.graphType=="Network"?0:this.marginLeft+o.offsetX;var t=this.graphType=="Network"?0:this.marginTop+o.offsetY;if(this.graphType=="Map"){return[l+o.left,l+o.left+o.width,t+o.top,t+o.top+o.height,l,l+o.left+o.width+o.right,t,t+o.top+o.height+o.bottom]}else{if(o.graphType=="Meter"||q){return[l,l+o.width,t,t+o.height,l,l+o.width,t,t+o.height]}else{return[l+o.left,l+o.left+o.x,t+o.top,t+o.top+o.y,l,l+o.left+o.x+o.right,t,t+o.top+o.y+o.bottom]}}}else{return false}};this.ZB=function(o,r){var isDotOrBoxplot=this.graphType.match(/Dotplot|Boxplot/);var wasDOE;var ungroupedO;if(this.isDOE&&isDotOrBoxplot&&o&&o.w){wasDOE=this.isDOE;this.isDOE=false;ungroupedO=this.Dq(o.w.grps[0],this.tU(o.w.vars),r);this.isDOE=wasDOE;return ungroupedO}return o};this.xo=function(){var layoutIndex=this.layoutValidN||0;var targetData=(this.scatterPlotMatrix||this.isDOE)&&this.data.l&&this.data.l.data[layoutIndex]?this.data.l.data[layoutIndex]:this.data;var sd=this.isDOE&&this.data.l&&this.data.l.smps[layoutIndex]&&!Array.isArray(this.data.l.smps[layoutIndex][0])?this.data.l.smps[layoutIndex][0]:false;var mt=sd&&this.meta.data&&this.meta.data.s&&this.meta.data.s.density&&this.meta.data.s.density.DOE&&this.meta.data.s.density.DOE.hasOwnProperty(sd)?this.meta.data.s.density.DOE[sd]:false;return{layoutIndex:layoutIndex,isDOE:this.isDOE,doeMeta:mt,targetData:targetData,graphType:this.layoutComb&&this.layoutParams&&this.layoutParams.length?this.layoutParams[layoutIndex].graphType:this.graphType}};this.yA=function(str,sep,n){var out=[];var tmp=str.split(sep);for(var i=0;i<n-1;i++){out.push(tmp.shift())}out.push(tmp.join(sep));return out};this.Fz=function(context){if(this.isPie&&context.targetData.y.pie){return context.targetData.y.pie.y}if(this.isTreemap&&context.targetData.y.treemap){return context.targetData.y.treemap.y}return context.targetData.y};this.YV=function(varIndices,context){var o=[];var td=context.targetData;var lv=context.layoutIndex;var yDataRoot=this.Fz(context);if(this.isDOE){for(var i=0;i<varIndices.length;i++){o.push(td.y.vars[varIndices[i]])}}else{if(this.layoutValid&&this.layoutAdjust&&!this.scatterPlotMatrix&&td.y.density){for(var i=0;i<varIndices.length;i++){o.push(td.y.density[lv].histogram.labels[varIndices[i]])}}else{for(var i=0;i<varIndices.length;i++){o.push(yDataRoot.vars[varIndices[i]])}}}return o};this.jJ=function(smpIndices,groupedSmps,context){var o=[];var l=groupedSmps?groupedSmps:context.targetData.y.smps;var yDataRoot=this.Fz(context);if(this.isDOE&&context.targetData.y.pie){o.push(context.targetData.y.smps[0])}else{if(smpIndices&&smpIndices.length){if(this.isPie&&context.targetData.y.pie){o.push(yDataRoot.smps[0])}else{if(this.isTreemap&&context.targetData.y.treemap&&context.targetData.y.treemap.y){o.push(yDataRoot.smps[smpIndices[0]])}else{for(var i=0;i<smpIndices.length;i++){o.push(l[smpIndices[i]])}}}}}return o};this.sI=function(smpIndices,context){var o={};var originalIsGrouped=this.isGroupedData;this.isGroupedData=false;for(var p in context.targetData.x){o[p]=[];if(smpIndices&&smpIndices.length){for(var i=0;i<smpIndices.length;i++){o[p].push(this.Mk(smpIndices[i],"x",p,context.graphType=="Gantt"))}}}this.isGroupedData=originalIsGrouped;return o};this.M1=function(varIndices,context){var o={};for(var p in context.targetData.z){o[p]=[];for(var i=0;i<varIndices.length;i++){o[p].push(this.Mk(varIndices[i],"z",p,context.graphType=="Gantt"))}}return o};this.Is=function(indices,sourceArray){if(!indices||!sourceArray){return[]}var result=[];for(var i=0;i<indices.length;i++){if(sourceArray[indices[i]]!==undefined){result.push(sourceArray[indices[i]])}}return result};this.D8=function(varIndices,smpIndices,source,context){var layoutIndex=context.layoutIndex;var isDOE=context.isDOE;var targetData=context.targetData;var graphType=context.graphType;if(isDOE&&layoutIndex>0){var doeOutput=[];for(var i=0;i<varIndices.length;i++){var varIndex=varIndices[i];var rowData=targetData.y.data[varIndex]||targetData.y.data[i];if(!rowData){doeOutput.push([])}else{var value=targetData.y.pie?rowData[0]:rowData[smpIndices[0]];doeOutput.push([value])}}return doeOutput}if(this.layoutValid&&this.layoutAdjust&&!this.scatterPlotMatrix&&targetData.y.density){var densityOutput=[];for(var d=0;d<varIndices.length;d++){var densityVarIndex=varIndices[d];var count=targetData.y.density[layoutIndex].histogram.count[densityVarIndex];densityOutput.push([[count]])}return densityOutput}source=source||"data";var isTransformed=this.isTransformedData&&targetData.y.trans;var dataRoot=isTransformed?targetData.y.trans:this.Fz(context);var dataSource=isTransformed?dataRoot:dataRoot[source];if(!dataSource){console.error("Data source '"+source+"' not found.");return[]}var finalOutput=[];for(var k=0;k<varIndices.length;k++){var mainVarIndex=varIndices[k];if(!smpIndices){var value1D=dataSource[mainVarIndex];finalOutput.push(isTransformed?this.gG(value1D):value1D);continue}var sourceRow=dataSource[mainVarIndex];if(!sourceRow){finalOutput.push([]);continue}var rowOutput=[];for(var j=0;j<smpIndices.length;j++){var smpIndex=smpIndices[j];var value2D=sourceRow[smpIndex];if(value2D!=null){var processedValue;var isXTime=(j===0&&(this.xAxisTime||this.isGraphTime==="x"));var isYTime=(j===1&&(this.yAxisTime||this.isGraphTime==="y"));if(graphType==="Scatter2D"&&(isXTime||isYTime)){processedValue=this.dateFormat(new Date(value2D+86400000),this.timeFormat)}else{processedValue=isTransformed?this.gG(value2D):value2D}rowOutput.push(processedValue)}}finalOutput.push(rowOutput)}return finalOutput};this.SH=function(idxs,rob,evt,context){var identifier=idxs[0].toString();if(this.isDOE){if(identifier.match(/ResizeDOE/)){var canvas=this.$(this.target+"-events");var parts=identifier.split("-");canvas.style.cursor="se-resize";this.resizeCanvasDOE={bounds:this.al(parts[1]),target:parts[1]}}}if(identifier.match(/Property/)){var parts=identifier.split(":");parts.shift();var factor=parts.shift();var comp=parts.pop();var level=parts.join(":");return{display:factor+" : "+level,selector:{type:"meta",object:comp,factor:factor,level:level,id:"Property:"+factor+":"+level+":"+comp},objectType:"Property",render:rob}}if(identifier.match(/Marker/)){if(evt&&evt.type=="dblclick"){var o=this.CD(rob[0].group);return o?this.Dq(o.idx,false,[o]):false}var parts=identifier.split(":");return{id:parts[1],display:parts[2],objectType:"Marker",render:rob}}if(identifier.match(/^Tree-/)){var nd=this.PU(identifier);return nd?{id:nd.id,display:nd.data.tooltip,objectType:"Tree",render:rob}:{}}if(identifier.match(/Dendrogram/)){var p=identifier.split("-");var ln=p.pop();if(p.length>1){return{nodeId:parseInt(p.shift()),height:Number(p.shift()),objectType:p.shift(),name:(p[0]?p.join("-"):false),layout:(ln!=""?Number(ln):null),render:rob}}else{return{display:(this.graphType=="Circular"?"":"<i>Drag to move</i>"),render:rob}}}if(identifier.match(/Histogram/)){var p=identifier.split("-");if(this.isDOE&&context.doeMeta){var mt=context.doeMeta;var o=[];for(var i=0;i<mt.histogram.idxs[Number(p[1])].length;i++){o.push(mt.histogram.idxs[Number(p[1])][i])}return{display:"<b>"+mt.name.split(":")[1]+"<br>"+mt.histogram.labels[Number(p[1])]+"<br></b>n: "+mt.histogram.count[Number(p[1])],doe:o,objectType:"Histogram",render:rob}}else{return{a:p[0],b:p[1],c:p[2],d:p[3],objectType:"Histogram",render:rob}}}if(identifier.match(/MapKey/)){var parts=identifier.split(":");var key=parts[1];var varIndices=this.mapVarIds[key];var smpIndices=idxs[1];var coords=this.eF(this.xMouseMove,this.yMouseMove);var coordString=coords?"[ "+coords[1].toFixed(1)+", "+coords[0].toFixed(1)+" ]":"";var o;if(varIndices&&varIndices.length>0){o={y:{vars:this.YV(varIndices,context),smps:this.jJ(smpIndices,null,context),data:this.D8(varIndices,smpIndices,"data",context)},z:this.M1(varIndices,context),c:[coords[1].toFixed(1),coords[0].toFixed(1)]}}else{var featureName="";if(CanvasXpress.countries[key]){featureName=CanvasXpress.countries[key][0];o={display:featureName+"<br>"+coordString,objectType:"MapCountry"}}else{if(this.meta.map.geojson&&this.meta.map.geojson.features&&this.meta.map.geojson.features[key]){var properties=this.meta.map.geojson.features[key].properties;for(var prop in properties){if(prop.match(/name/i)){featureName=properties[prop];break}}o={idx:key,display:featureName+"<br>"+coordString,objectType:"MapProperty"}}else{return false}}}o.render=rob;return o}if(identifier.match(/Series/)){var parts=identifier.split(":");parts.shift();return{display:this.showHistogram?parts[2]:this.data.y.smps[parts[0]]+" : "+this.data.y.smps[parts[1]],selector:{type:"series",name:[this.data.y.smps[parts[0]],this.data.y.smps[parts[1]]],id:"Series:"+parts[0]+":"+parts[1]},objectType:"Series",render:rob}}var simplePattern=/^(Connect|Line|Area|Sankey|Sunburst|Outlier|Cat|Density|Path)/;if(identifier.match(simplePattern)){var parts=identifier.split(/[:\-]/);return{display:parts[1],objectType:identifier.match(simplePattern)[1],render:rob}}if(identifier.match(/Onc/)){var parts=identifier.split("-");return{display:parts[1],objectType:"Onc",selector:{type:"data",object:this["oncoprint"+parts[2]],name:parts[1],id:"Onc-"+parts[1]+"-"+parts[2]},render:rob}}if(identifier.match(/RiskTable/)){var parts=identifier.split(":");return{display:parts[1],objectType:"RiskTable",render:rob}}if(identifier.match(/KM-MST/)){return{display:"Median Survival Time: "+idxs[1],objectType:"MedianSurvivalTime",render:rob}}if(identifier.match(/QuantileRegression|Bin2d|Loess/)){return{display:idxs[1],objectType:identifier.match(/(QuantileRegression|Bin2d|Loess)/)[0],render:rob}}if(identifier.match(/Contour/)){return{display:idxs[1]?idxs[1].join(" - "):identifier.split("-")[1],objectType:"Contour",render:rob}}if(identifier.match(/Var/)){var parts=this.yA(identifier,"-",3);var index=parseInt(parts[1]);var o=!identifier.match(/VarOvr|VarOverlay/)?this.Dq([index].concat(this.smpIndices),false,rob):{};o.render=rob;if(identifier.match(/VarOvr/)){o.display=this.varOverlays[index]+" : "+parts[2];o.objectType="VarOverlay";o.selector={type:"meta",object:"z",factor:this.varOverlays[index],level:parts[2],id:"Property:"+this.varOverlays[index]+":"+parts[2]+":z"}}else{if(identifier.match(/VarOverlay/)){o.display=this.varOverlays[index].toString();o.objectType="VarOverlay"}else{if(identifier.match(/PieVar/)){o.display=context.targetData.y.vars[index];o.objectType="Var";o.selector={type:"var",index:index,name:context.targetData.y.vars[index],id:"Var-"+index}}else{o.display=context.targetData.y.vars[index].toString();o.objectType="Var";o.selector={type:"var",index:index,name:context.targetData.y.vars[index],id:"Var-"+index}}}}return o}if(identifier.match(/Smp/)){var data=this.data;var parts=this.yA(identifier,"-",3);var index=parseInt(parts[1]);var o=this.isDOE?this.Dq([index],this.layoutParams[context.layoutIndex].varIndices,rob):this.Dq([index],this.varIndices,rob);o.render=rob;if(identifier.match(/SmpOvrSgr/)){parts.shift();var ov=this.segregateSamplesBy[parts.shift()];var l=parts.join("-");o.display=ov+" : "+l;o.objectType="SmpOverlaySgr";o.selector={type:"meta",object:"x",factor:ov,level:l,id:"Property:"+ov+":"+l+":x"}}else{if(identifier.match(/SmpOvr/)){if(this.graphType=="Circular"){var ov=this.smpOverlays[parts[2]];var l=data.x[ov]?data.x[ov][parts[1]]:"";o.display=ov+" : "+l;o.objectType="SmpOverlay";o.selector={type:"meta",object:"x",factor:ov,level:l,id:"Property:"+ov+":"+l+":x"}}else{o.display=this.smpOverlays[parts[1]]+" : "+parts[2];o.objectType="SmpOverlay";o.selector={type:"meta",object:"x",factor:this.smpOverlays[parts[1]],level:parts[2],id:"Property:"+this.smpOverlays[parts[1]]+":"+parts[2]+":x"}}}else{if(identifier.match(/SmpOverlay/)){o.display=this.smpOverlays[parts[1]];o.objectType="SmpOverlay"}else{o.display=this.isGraphTime?idxs[1]:(context.targetData.y.smps[index]||"").toString();o.objectType="Smp";o.selector={type:(this.isGroupedData?"grp":"smp"),index:index,name:o.display,id:"Smp-"+index}}}}return o}var genericObjectTypes={ScatterBoxplot:"ScatterBoxplot",Decoration:"Decoration","QQ-Line":"QQ-Line",Confidence:"Confidence",Chr:"Chr",Track:"Track",Wiggle:"Wiggle",Layout:"Layout",Bubble:"Bubble",Chord:"Chord"};for(var key in genericObjectTypes){if(identifier.indexOf(key)===0){var parts=identifier.split(/[:\-]|:::/);var o={objectType:genericObjectTypes[key],render:rob};if(key==="Bubble"||key==="Chord"){o.name=parts[1];o.value=parts[2];o.id=parts[1];o.display=(key==="Chord")?parts[2]:undefined}else{o.display=idxs[1]||parts[1]||parts[0]}return o}}return};this.Nu=function(idxs,inv,graphType){var vi=[];var si=[];if((graphType=="Pie"||graphType=="Gantt")&&idxs.length>2&&!this.isDOE){si=[idxs[0]];for(var i=1;i<idxs.length;i++){vi.push(idxs[i])}}else{if(graphType.match(/Pie|Treemap|Scatter2D/)&&this.isDOE&&(this.layoutValidN||0)>0){vi=[idxs[0]];si=[idxs[1]];if(graphType.match(/Scatter2D/)){si.push(idxs[2])}}else{if(inv){vi=inv;si=idxs}else{if(this.isGroupedData&&(this.stackBy||this.dodgeBy)){vi=[idxs[0]];si=idxs[3]?idxs[3]:[idxs[1]]}else{if(this.s9()&&this.heatmapType=="correlation"){vi=[idxs[0],idxs[1]];si=[]}else{vi=[idxs[0]];si=[];for(var i=1;i<idxs.length;i++){if(graphType.match(/Sankey/)&&this.sankeyAxes.length){si.push(this.data.sankey.links[idxs[i]].parent)}else{if(idxs[i]!==false&&!idxs[i].toString().match(/[A-Za-z]/)){si.push(idxs[i])}}}}}}}}if(graphType.match(/Scatter/)){var scatterProps=["colorBy","shapeBy","sizeBy","ribbonBy"];for(var i=0;i<scatterProps.length;i++){var prop=scatterProps[i];if(this[prop]){var ism=this.yV(this[prop]);var indicesToAdd=Array.isArray(ism)?ism:[ism];for(var j=0;j<indicesToAdd.length;j++){var index=indicesToAdd[j];if(index>-1&&si.indexOf(index)===-1){si.push(index)}}}}}return{varIndices:vi,smpIndices:si}};this.Dz=function(varIndices,smpIndices,rob,context){var source="data";if(this.ek()&&smpIndices.length>1){source=this.heatmapSplits[smpIndices.pop()]}var o={y:{vars:this.YV(varIndices,context),smps:this.jJ(smpIndices,null,context)},render:rob};var targetData=context.targetData;var graphType=context.graphType;var layoutIndex=context.layoutIndex;if(!this.isDOE&&!targetData.y.pie){o.z=this.M1(varIndices,context);o.x=this.sI(smpIndices,context)}else{if(targetData.y.pie){o.doe=targetData.y.pie[varIndices[0]]}else{if(targetData.y.treemap){o.doe=targetData.y.treemap[smpIndices[0]]}else{if(this.isDOE&&graphType=="Scatter2D"&&layoutIndex){o.doe=[varIndices[0]]}else{if(this.isDOE&&graphType.match(/Bar|Dotplot|Line/)&&layoutIndex){o.doe=[smpIndices[0]]}}}}}o.y.data=this.D8(varIndices,smpIndices,source,context);if(this.isMultidimensionalData){var atts=["outline","shape","size"];for(var i=0;i<atts.length;i++){var att=atts[i]+"ByData";if(targetData.y[this[att]]){o.y[this[att]]=this.D8(varIndices,smpIndices,this[att],context)}}}else{if(graphType=="Sankey"){o.links=this.data.sankey.links[smpIndices]}else{if(this.isDOE&&graphType=="Scatter2D"&&layoutIndex){o.y.data[0][1]=targetData.y.data[varIndices[0]][smpIndices[1]]}else{var ds=["data2","data3","data4","data5","data6"];for(var i=0;i<ds.length;i++){if(targetData.y[ds[i]]){o.y[ds[i]]=this.D8(varIndices,smpIndices,ds[i],context)}}}}}return o};this.Ig=function(idxs,varIndices,smpIndices,rob,context,groupedDataSource){var o={x:{},w:{},z:this.M1(varIndices,context),render:rob};if(context.graphType.match(/Boxplot|Dotplot|DotLine|Gantt/)&&smpIndices[1]!=null){o.y={data:this.D8(varIndices,[smpIndices[1]],null,context),vars:this.YV(varIndices,context),smps:this.jJ([smpIndices[1]],null,context),idxs:smpIndices};var ox=this.sI([smpIndices[1]],context);for(var p in ox){o.y[p]=ox[p][0]}smpIndices.pop()}else{if((context.graphType=="Bar"&&(this.stackBy||this.dodgeBy))||(context.graphType=="StackedPercent"&&this.stackBy)){var grp=this.isGroupedData;this.isGroupedData=false;o.x=this.sI(smpIndices,context);o.y={data:this.D8(varIndices,smpIndices,null,context),vars:this.YV(varIndices,context),smps:this.jJ(smpIndices,null,context),idxs:smpIndices};o.display=idxs[2];o.objectType=this.stackBy?"Stack":"Dodge";o.stack=idxs[4];smpIndices=[idxs[1]];this.isGroupedData=grp}}if(smpIndices&&varIndices){for(var p in groupedDataSource){if(p=="smps"){o.w[p]=this.jJ(smpIndices,groupedDataSource.smps,context)}else{if(p=="labs"){o.w[p]=this.Is(smpIndices,groupedDataSource.labs)}else{if(p=="glab"){o.w[p]=this.Is(smpIndices,groupedDataSource.glabs)}else{if(p=="grps"){o.w[p]=this.Is(smpIndices,groupedDataSource.grps)}else{if(p=="vars"){o.w[p]=this.YV(varIndices,context)}else{if(groupedDataSource[p].length>varIndices[0]&&groupedDataSource[p][varIndices[0]]&&groupedDataSource[p][varIndices[0]].length>smpIndices[0]){o.w[p]=[];o.w[p].push(groupedDataSource[p][varIndices[0]][smpIndices[0]])}}}}}}}}if(!this.stackBy&&!this.dodgeBy&&o.w.grps&&o.w.grps[0]){var grp=this.isGroupedData;this.isGroupedData=false;var newX={};for(var p in context.targetData.x){var xs=[];for(var i=0;i<o.w.grps[0].length;i++){xs.push(this.Mk(o.w.grps[0][i],"x",p))}newX[p]=xs}o.x=newX;this.isGroupedData=grp}return o};this.Dq=function(idxs,inv,rob,evt){if(!idxs||idxs.length===0||idxs[0]==null){return}var context=this.xo();var graphType=context.graphType;var targetData=context.targetData;var o;switch(graphType){case"Area":case"AreaLine":case"Bar":case"Line":case"BarLine":case"Boxplot":case"Dotplot":case"DotLine":case"Heatmap":case"Pie":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":case"Scatter2D":case"ScatterBubble2D":case"Scatter3D":case"Gantt":case"Meter":case"Circular":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Sankey":case"Tree":case"Map":if(isNaN(idxs[0])){o=this.SH(idxs,rob,evt,context)}else{o=this.aY(idxs,inv,rob,context)}break;case"Fish":o=this.uB(idxs,rob);break;case"Correlation":o=this.Bf(idxs,rob,context);break;case"Venn":o=this.M2(idxs,rob,targetData);break;case"Network":o=this.hF(idxs,rob,targetData);break;case"Genome":o=this.jr(idxs,rob,targetData);break}if(o){o.flat=this.DB(o)}return o};this.uB=function(idxs,rob){var o={};if(idxs[0]&&idxs[0].match(/fish/)){var fishIndex=idxs[0].split("-").pop();o={display:this.fishCloneLabels.length&&this.fishCloneLabels[fishIndex]?this.fishCloneLabels[fishIndex]:this.data.y.vars[fishIndex]}}else{if(idxs[0]&&idxs[0].match(/Var/)){var varParts=idxs[0].split("-");var i=parseInt(varParts[1]);o.display=this.data.y.vars[i];o.objectType="Var";o.selector={type:"var",index:i,name:this.data.y.vars[i],id:"Var-"+i}}}o.render=rob;return o};this.VP=function(indices,type,context){var metaObj={},i,p;var targetData=context.targetData;for(p in targetData[type]){if(targetData[type].hasOwnProperty(p)){metaObj[p]=[];for(i=0;i<indices.length;i++){metaObj[p].push(this.Mk(indices[i],type,p))}}}return metaObj};this.Bf=function(idxs,rob,context){var targetData=context.targetData;var corData=this.isGroupedData&&targetData.w?targetData.w.cor:targetData.y.cor;if(this.correlationAxis=="samples"){o={x:{},y:{}};o.x=this.VP(idxs,"x",context);o.y.smps=[targetData.y.smps[idxs[0]],targetData.y.smps[idxs[1]]]}else{o={y:{},z:{}};o.z=this.VP(idxs,"z",context);o.y.vars=[targetData.y.vars[idxs[0]],targetData.y.vars[idxs[1]]]}o.y.data=corData[idxs[0]][idxs[1]];o.render=rob;return o};this.M2=function(idxs,rob,targetData){var o={venn:{data:{}}};o.venn.data[this.vennCompartments[idxs[0]]]=targetData.venn.data[this.vennCompartments[idxs[0]]];o.render=rob;return o};this.hF=function(idxs,rob,targetData){var o={};if(!Array.isArray(idxs)){idxs=[idxs]}var identifier=idxs[0].toString();if(isNaN(idxs[0])){if(identifier.match(/legend/)){if(identifier.match(/Nodes/)){o={nodeLegend:targetData.legend.nodes}}else{if(identifier.match(/Edges/)){o={edgeLegend:targetData.legend.edges}}else{if(identifier.match(/Decorations/)){o={decorationLegend:targetData.legend.decorations}}else{if(identifier.match(/-legend-indicator-color/)){o={indicatorLegend:"ColorIndicator"}}else{o={}}}}}}else{if(identifier.match(/-dec/)){var decParts=identifier.split("-");var node=targetData.nodes[decParts[0]];var decoration=this.decorations[decParts[1]];var nodeLabel=node.tooltip||node.name||node.label||node.id;var value=node[decoration]?node[decoration]:(node.decorations&&node.decorations[decoration]?node.decorations[decoration]:false);var key=decParts[3]?decParts[2]:false;if(key){o.display=nodeLabel+"<br><b>"+decoration+"</b> : "+key+" : "+(value&&value[key]!=null?value[key]:"NA")}else{o.display=nodeLabel+"<br><b>"+decoration+"</b> : "+(value||"NA")}}else{if(identifier.match(/-group/)){o={groups:[targetData.groups[parseInt(identifier.split("-")[0])]]}}else{if(identifier.match(/-community/)){o={community:[this.networkConvexHulls[parseInt(identifier.split("-")[0])]]}}else{if(identifier.match(/-edge|-elbow/)){o={edges:[targetData.edges[parseInt(identifier.split("-")[0])-targetData.nodes.length]]}}else{if(identifier.match(/-lab/)){o={nodes:[targetData.nodes[parseInt(identifier.split("-")[0])]]}}else{if(identifier.match(/PropertyKey/)){var propParts=identifier.split(":");o.selector={type:"network",object:propParts[3],factor:propParts[1],level:propParts[2],id:"Property:"+propParts[1]+":"+propParts[2]+":"+propParts[3]};o.objectType="PropertyKey"}}}}}}}}else{o.nodes=[];o.edges=[];for(var i=0;i<idxs.length;i++){if(idxs[i]>=targetData.nodes.length){o.edges.push(targetData.edges[idxs[i]-targetData.nodes.length])}else{o.nodes.push(targetData.nodes[idxs[i]])}}}o.render=rob;return o};this.jr=function(idxs,rob,targetData){var o=[{data:[]}];var totalDataPoints=0;var pointIndexStr=isNaN(idxs[0])&&idxs[0].match(":")?idxs[0].match(/:(\d+)/)[1]:false;for(var i=0;i<targetData.tracks.length;i++){var currentTrack=targetData.tracks[i];var numPointsInTrack=currentTrack.data.length;totalDataPoints+=numPointsInTrack;if(isNaN(idxs[0])){var identifier=idxs[0];if(identifier==="track-"+i){return{name:currentTrack.name,render:rob}}if(identifier==="track-"+i+":"+pointIndexStr){var relativeIndex=parseInt(pointIndexStr)-(totalDataPoints-numPointsInTrack);for(var p in currentTrack){if(currentTrack.hasOwnProperty(p)){if(p==="data"){o[0][p].push(currentTrack[p][relativeIndex])}else{o[0][p]=currentTrack[p]}}}o.render=rob;return o}if(identifier==="dataframe-"+i+":"+pointIndexStr){var dfConfig=currentTrack.data[0].data[pointIndexStr];var xVar=dfConfig.xAxis;var yVar=dfConfig.yAxis;var dataframe=currentTrack.dataframe;var dataPointIndex=idxs[1];var values={};for(var j in dataframe){if(dataframe.hasOwnProperty(j)&&dataframe[j].length===dataframe[xVar].length){values[j]=dataframe[j][dataPointIndex]}}var displayData={};displayData[xVar]=dataframe[xVar][dataPointIndex];displayData[yVar]=dataframe[yVar][dataPointIndex];var displayString="<b>"+xVar+"</b> :"+displayData[xVar]+"<br><b>"+yVar+"</b> :"+displayData[yVar]+"<br>";if(dfConfig.colorBy){displayData[dfConfig.colorBy]=dataframe[dfConfig.colorBy][dataPointIndex];displayString+="<b>"+dfConfig.colorBy+"</b> :"+displayData[dfConfig.colorBy]+"<br>"}if(dfConfig.shapeBy){displayData[dfConfig.shapeBy]=dataframe[dfConfig.shapeBy][dataPointIndex];displayString+="<b>"+dfConfig.shapeBy+"</b> :"+displayData[dfConfig.shapeBy]+"<br>"}return{values:values,data:displayData,display:displayString,render:rob}}continue}if(idxs[idxs.length-1]<totalDataPoints){for(var j=0;j<idxs.length;j++){var numericRelativeIndex=idxs[j]-(totalDataPoints-numPointsInTrack);for(var p in currentTrack){if(currentTrack.hasOwnProperty(p)){if(p==="data"){o[0][p].push(currentTrack[p][numericRelativeIndex])}else{if(!o[0][p]){o[0][p]=currentTrack[p]}}}}}o.render=rob;return o}}};this.aY=function(idxs,inv,rob,context){var layoutParams=this.layoutParams;var layoutIndex=context.layoutIndex;var targetData=context.targetData;var graphType=context.graphType;var indices=this.Nu(idxs,inv,graphType);if((targetData.w&&graphType!="Treemap"&&graphType!="Gantt"&&!this.treemapBy.length>0&&!this.isDOE)||(this.isDOE&&layoutIndex==0&&targetData.w)||(this.layoutValid&&targetData.l&&targetData.l.group&&!this.PG()&&!this.scatterPlotMatrix&&!this.isDOE)){var groupedDataSource=this.layoutValid&&targetData.l.group&&layoutParams&&layoutParams[layoutIndex].w?layoutParams[layoutIndex].w:targetData.w;return this.Ig(idxs,indices.varIndices,indices.smpIndices,rob,context,groupedDataSource)}else{if(this.s9()&&this.heatmapType=="correlation"){return{display:targetData.y.vars[indices.varIndices[0]]+" : "+targetData.y.vars[indices.varIndices[1]]+"<br>"+targetData.y.cor[indices.varIndices[0]][indices.varIndices[1]].toFixed(2),type:"HeatmapCorrelation"}}else{return this.Dz(indices.varIndices,indices.smpIndices,rob,context)}}};this.DB=function(dataObject){if(!dataObject){return false}var flattenedObject={};var dataValues=[];if(dataObject.y&&dataObject.y.data&&dataObject.y.data[0]){flattenedObject.vars=dataObject.y.vars.join(", ");for(var i=0;i<dataObject.y.data[0].length;i++){var sampleName=dataObject.y.smps[i];var sampleValue=dataObject.y.data[0][i];flattenedObject[sampleName]=sampleValue;dataValues.push(sampleValue)}flattenedObject.smps=dataObject.y.smps.join(", ");flattenedObject.data=dataValues.join(", ")}var additionalDataKeys=["data2","data3","data4","data5"];for(var i=0;i<additionalDataKeys.length;i++){var key=additionalDataKeys[i];if(dataObject.y&&dataObject.y[key]){flattenedObject[key]=dataObject.y[key][0][0]}}if(dataObject.x){for(var property in dataObject.x){flattenedObject[property]=dataObject.x[property][0]}}if(dataObject.z){for(var property in dataObject.z){flattenedObject[property]=dataObject.z[property][0]}}if(dataObject.w){for(var property in dataObject.w){flattenedObject[property+"-Group"]=dataObject.w[property][0]}}if(dataObject.selector){for(var property in dataObject.selector){flattenedObject[property]=dataObject.selector[property]}}if(dataObject.display){flattenedObject.display=dataObject.display}return flattenedObject};this.mj=function(dataObject,event){if(!dataObject){return""}var that=this;var getHoverTemplate=function(){if(that.graphType=="Heatmap"&&that.heatmapType=="split"){if(dataObject.render&&dataObject.render[0]&&dataObject.render[0].params&&dataObject.render[0].params[0]=="triangleBottomRight"){return that.hoverTemplate2}}return that.hoverTemplate};var summaryHelpers={getSummaryFromTemplate:function(){var hoverTemplate=getHoverTemplate();if(!hoverTemplate){return""}var flattenedData=that.DB(dataObject);var pattern=/{\s*(.+?)\s*}/g;return hoverTemplate.replace(pattern,function(match,token){if(match.includes(",")){var parts=match.replace(/[{}]/g,"").split(",");var propertyName=parts[0];var formatSpecifier=parts[1];return that.vy(formatSpecifier,flattenedData[propertyName])}return flattenedData[token]!=null?flattenedData[token]:""})},getGroupedSummary:function(){var groupedData=dataObject.w;var summaryString="<b>"+groupedData.vars[0]+"</b><br>";var summaryType=that.summaryType;if(summaryType==="median"||summaryType==="iqr"||that.graphType==="Boxplot"){var label=(groupedData.labs&&groupedData.labs[0])?groupedData.labs[0]:groupedData.smps[0];summaryString+="<b>"+label+"</b>: "+that.gG(groupedData.median[0])}else{if(["mean","sum","min","max","count"].includes(summaryType)){summaryString+="<b>"+groupedData.smps[0]+"</b>: "+that.gG(groupedData[summaryType][0])}}if(groupedData.stdev&&groupedData.stdev[0]!=null){summaryString+=" <i>&plusmn;"+that.gG(groupedData.stdev[0])+"</i>"}if(groupedData.n&&groupedData.n[0]!=null){summaryString+=" ("+groupedData.n+")"}return summaryString+"<br>"},getBoxplotIQRSummary:function(){var groupedData=dataObject.w;var stats={"1st IQR":groupedData.iqr1[0],"1st Qtl":groupedData.qtl1[0],Median:groupedData.median[0],"3rd Qtl":groupedData.qtl3[0],"3rd IQR":groupedData.iqr3[0],Outliers:groupedData.out[0].length,"N-Data":groupedData.n[0]};var table='<div style="max-width:300px;display:grid;grid-template-columns:1fr 1fr;grid-column-gap:5px;"><div style="text-align:right;"><b>'+groupedData.vars[0]+'</b> - </div><div style="text-align:left;"><b>'+groupedData.labs[0]+"</b></div>";for(var key in stats){table+='<div style="text-align:right;"><b>'+key+':</b></div><div style="text-align:left;">'+that.gG(stats[key])+"</div>"}return table+"</div>"},getStandardSummary:function(){var yData=dataObject.y;var summaryString="<b>"+yData.vars[0]+"</b><br>";for(var j=0;j<yData.smps.length;j++){var sampleName=(that.isGraphTime&&that.graphType!=="Scatter2D")?that.dateFormat(yData.smps[j],that.timeFormat):yData.smps[j];var dataValue;if(that.isMultidimensionalData){var values=[yData.data[0][j]];["outline","shape","size"].forEach(function(attr){var dataKey=that[attr+"ByData"];if(yData[dataKey]&&yData[dataKey][0][j]){values.push(yData[dataKey][0][j])}});dataValue=values.join(", ")}else{if(that.graphType==="Map"&&that.motionBy&&that.motionObject){var motionIndex=that.motionObject.levels.indexOf(that.motionObject.current);var motionData=yData.data[motionIndex]||yData.data[yData.data.length-1];dataValue=motionData[j]}else{dataValue=yData.data[0][j]}}summaryString+="<b>"+sampleName+"</b>: "+dataValue+"<br>"}return summaryString}};var summaryHandlers={getDefaultSummary:function(){if(dataObject.display){return dataObject.objectType&&dataObject.objectType.match(/ScatterBoxplot|Dendrogram/)?dataObject.display:"<b>"+dataObject.display+"</b><br>"}var templatedSummary=summaryHelpers.getSummaryFromTemplate();if(templatedSummary){return templatedSummary}if(dataObject.w&&dataObject.w.vars&&dataObject.w.vars[0]){if(that.graphType==="Boxplot"&&dataObject.w.iqr1){return summaryHelpers.getBoxplotIQRSummary()}var groupedSummary=summaryHelpers.getGroupedSummary();if(that.graphType.match(/Boxplot|Dotplot|DotLine/)&&dataObject.y&&dataObject.y.smps){groupedSummary+="<b>"+dataObject.y.smps+"</b>: "+that.gG(dataObject.y.data)+"<br>"}return groupedSummary}if(dataObject.y){return summaryHelpers.getStandardSummary()}if(dataObject.objectType==="Bubble"){return"<b>"+dataObject.name+"</b><br><b>"+that.data.y.vars[that.xAxisIndices[0]]+"</b>:"+dataObject.value+"<br>"}if(dataObject.objectType==="Histogram"){var histogramData,sampleParts,varName,count;if(dataObject.a==="Histogram"){histogramData=that.ba(Number(dataObject.d));sampleParts=histogramData.smps[Number(dataObject.c)].split(":");varName=histogramData.vars[dataObject.b];count=histogramData.data[dataObject.b][Number(dataObject.c)].length;return"<b>"+(sampleParts[2]?sampleParts[1]+" "+sampleParts[2]:sampleParts[1])+"</b><br><b>"+varName+"</b><br>n: "+count+"<br>"}varName=that[dataObject.a].vars[dataObject.b];count=that[dataObject.a].data[dataObject.b][dataObject.c];return"<b>"+varName+"</b><br>n: "+count+"<br>"}if(dataObject.objectType&&dataObject.objectType.match(/Dendrogram/)){if(dataObject.name){return"<b>"+dataObject.name+"</b><br><i>Click to flip<br>Dbl-click to focus</i>"}if(that.graphType==="Circular"){return dataObject.nodeId?"<i>Click to flip</i>":""}return"<i>Click to flip<br>Dbl-click to focus</i>"}return(that.graphType==="Map"&&dataObject.c)?dataObject.c:""},getGanttSummary:function(){if(!dataObject.y){return""}var yData=dataObject.y;var startDate=that.dateFormat(that.KY(yData.data[0][0]),that.timeFormat).replace(/-/g,"/");var endDate=that.dateFormat(that.KY(yData.data[1][0]),that.timeFormat).replace(/-/g,"/");var summaryString="<b>"+startDate+" - "+endDate+"</b><br>";if(yData.data.length>2&&yData.data[2][0]){summaryString+="<b>Milestone</b>: "+that.dateFormat(that.KY(yData.data[2][0]),that.timeFormat).replace(/-/g,"/")+"<br>"}return summaryString},getSankeySummary:function(){if(dataObject.links){return"<b>"+dataObject.links.source.name+" &#8702; "+dataObject.links.target.name+"</b><br><b>"+dataObject.y.vars[0]+"</b>: "+(dataObject.y.data[0][0]||dataObject.links.value)+"<br>"}return dataObject.display?"<b>"+dataObject.display+"</b><br>":""},getPieSummary:function(){if(dataObject.display){return"<b>"+dataObject.display+"</b><br>"}var yData=dataObject.y;var summaryString="<b>"+yData.smps[0]+"</b><br>";for(var j=0;j<yData.vars.length;j++){var percentage=that.vy("%."+that.pieSegmentPrecision+"f",(yData.data[j]/that.varPie.tot)*100);summaryString+="<b>"+yData.vars[j]+"</b>: "+yData.data[j]+" ("+percentage+"%)<br>"}return summaryString},getCorrelationSummary:function(){var yData=dataObject.y;var item1=(that.correlationAxis==="samples")?yData.smps[0]:yData.vars[0];var item2=(that.correlationAxis==="samples")?yData.smps[1]:yData.vars[1];return"<b>"+item1+"</b> vs <b>"+item2+"</b><br>Cor: "+Math.round(yData.data*100)/100},getVennSummary:function(){for(var compartment in dataObject.venn.data){return compartment+" = "+dataObject.venn.data[compartment]}return""},getNetworkSummary:function(){if(dataObject.display){return"<b>"+dataObject.display+"</b><br>"}if(dataObject.nodes&&dataObject.nodes[0]){var node=dataObject.nodes[0];var summaryString=node.hideTooltip?"":(node.tooltip||node.name||node.label||node.id);if(that.colorNodeBy){summaryString+="<br><b>"+that.colorNodeBy+"</b>: "+(node[that.colorNodeBy]||"")}return summaryString}if(dataObject.edges&&dataObject.edges[0]){var edge=dataObject.edges[0];var node1=that.nodes[edge.id1];var node2=that.nodes[edge.id2];var defaultText=(node1.label||node1.id)+" - "+(node2.label||node2.id);return edge.hideTooltip?"":(edge.tooltip||edge.name||edge.label||defaultText)}if(dataObject.groups&&dataObject.groups[0]){return"<b>Group: "+dataObject.groups[0].id+"</b><br>"+dataObject.groups[0].leaves.length+" nodes"}if(dataObject.community&&dataObject.community[0]){return"<b>Community</b><br>"+dataObject.community[0].nodes.length+" nodes"}return""},getGenomeSummary:function(){return dataObject.display||dataObject.name||(dataObject[0]&&dataObject[0].data[0]?dataObject[0].data[0].id:"")}};var handler;switch(this.graphType){case"Gantt":handler=summaryHandlers.getGanttSummary;break;case"Sankey":handler=summaryHandlers.getSankeySummary;break;case"Tree":handler=function(){return dataObject.display?"<b>"+dataObject.display+"</b><br>":""};break;case"Pie":handler=summaryHandlers.getPieSummary;break;case"Correlation":handler=summaryHandlers.getCorrelationSummary;break;case"Venn":handler=summaryHandlers.getVennSummary;break;case"Network":handler=summaryHandlers.getNetworkSummary;break;case"Genome":handler=summaryHandlers.getGenomeSummary;break;default:handler=summaryHandlers.getDefaultSummary;break}var finalSummary=handler();return finalSummary?finalSummary.replace(/\u0000/g,""):""};this.ls=function(){var us={};var ev=this.events;var that=this;if(this.disableEvents){this.userEvents={};return}us.enddragnode=function(o,e,t){if(ev&&ev.enddragnode){ev.enddragnode.call(t,o,t)}};us.clicklegend=function(o,e,t){if(ev&&ev.clicklegend){ev.clicklegend.call(t,o,e,t)}t.yO({func:"userEventClickLegend",par:[o,e]})};us.select=function(o,e,t){if(ev&&ev.select){ev.select.call(t,o,e,t)}};us.enddraw=function(o,e,t){if(ev&&ev.enddraw){ev.enddraw.call(t,o,e,t)}};us.remoteupdate=function(o,e,t){if(ev&&ev.remoteupdate){ev.remoteupdate.call(t,o,e,t)}};us.motion=function(c,e,t){if(!t){t=that}if(!t.disableMotion){t.iu(e,true);t.rE(false,{y:{vars:[c],smps:[c]}},e);if(ev&&ev.motion){ev.motion.call(t,c,e,t)}t.Yt({func:"userEventsMotion",par:[c,e,false]})}};us.drag=function(o,e,t){if(ev&&ev.drag){ev.drag.call(t,o,e,t)}};us.wheel=function(o,e,t){if(ev&&ev.wheel){ev.wheel.call(t,o,e,t)}};us.mouseout=function(o,e,t,r,i){t.nv(e);if(ev&&ev.mouseout){ev.mouseout.call(t,o,e,t,r,i)}};us.mouseup=function(o,e,t,r,i){if(ev&&ev.mouseup){ev.mouseup.call(t,o,e,t,r,i)}};us[that.$w(39)]=function(o,e,t,r,i){if(t.graphType=="Network"){if(e.ctrlKey){return false}if(o&&o.nodes&&o.nodes.length==1){if(!CanvasXpress.selector.nodes.hasOwnProperty([o.nodes[0].id])){t.iu(e)}}}if(t.graphType=="Network"&&i&&i.length==1){t.rE(i,o,e)}t.De(e);if(ev&&ev[that.$w(39)]){ev[that.$w(39)].call(t,o,e,t,r,i)}};us.click=function(o,e,t,r,i){try{CanvasXpress}catch(f){e.preventDefault();e.stopPropagation();return false}if(!t){t=that}if(t.isAskingLLM){return false}var select=function(){var eck=e.ctrlKey;var eak=e.altKey;if(eck&&eak){t.s1(10,10,"Object printed to console",3000);t.fo(t.O5(o))}else{if(!eck){t.iu(e,true)}t.rE(i,o,e);if(t.graphType=="Sankey"){delete o.links}t.Yt({func:"userEventsClick",par:[o,e,false,i]});t.s1(10,10,"Click ESC to reset graph",3000)}};if(t.isDOE&&o){t.uG(e);t.Kw(o)}else{if(o){if(o&&o.objectType){if(o.objectType.match(/Histogram|Stack/)){select()}else{if(o.objectType.match(/Dendrogram/)){if(t.graphType=="Heatmap"&&t.heatmapType=="correlation"){o.objectType="varDendrogram"}t.tz(o,e.shiftKey)}else{if(o.objectType=="Tree"){t.skipTransition=false;t.Uc(o)}else{if(o.objectType=="Track"){}else{if(o.objectType=="Line"&&!t.graphType.match(/Scatter/)){o={y:{vars:[o.display]}};select()}else{if(o&&o.objectType&&o.selector){t.L1(o.selector);t.s1(10,10,"Click ESC to reset graph",3000)}else{t.fo("Click on "+o.display);if(t.verbose){t.s1(100,100,"Click on "+o.display,3000)}}}}}}}}else{if(o&&(o.nodes||o.edges)){select();if(o&&o.nodes&&o.nodes.length==1&&o.nodes[0].links){t.hp(e,o.nodes[0].links,o.nodes[0].label!=null?o.nodes[0].label:o.nodes[0].name?o.nodes[0].name:o.nodes[0].id)}else{if(o&&o.edges&&o.edges.length==1&&o.edges[0].links){t.hp(e,o.edges[0].links,o.edges[0].label!=null?o.edges[0].label:o.edges[0].name?o.edges[0].name:o.edges[0].id1+"-"+o.edges[0].id2)}}}else{if(o.y||o.w||t.graphType=="Map"){if(t.graphType&&t.mapProjection=="orthographic"){var ac=t.Ej(e);var cnt=t.lK([ac.x,ac.y]);t.eventMapCenter=[-cnt[0],-cnt[1]]}select()}}}}else{t.iu(e,!CanvasXpress.selector.selections)}}if(ev&&ev.click){ev.click.call(t,o,e,t,r,i)}return false};us.dblclick=function(o,e,t,r,i){if(t.isAskingLLM){return false}if(o&&o.objectType&&o.objectType.match(/Dendrogram/)&&t.graphType!="Circular"){t.jG(o)}else{if(o&&o.objectType&&o.objectType=="Track"){}else{if(o&&t.graphType=="Fish"){}else{if(o&&o.objectType&&o.objectType!="Stack"){t.fo("Double Click on "+o.display);if(this.verbose){t.s1(100,100,"Double Click on "+o.display,3000)}}else{if(o&&!t.graphType.match(/Tree|Circular/)){if(t.graphType=="Sankey"){delete o.links}if(o.display&&o.display.match(/Drag/)){}else{t.i2(e,t.H5(t.oN(t.ZB(o,r,i))),false,false,null,null,o)}}}}}}if(ev&&ev.dblclick){ev.dblclick.call(t,o,e,t,r,i)}return false};us.mouseover=function(o,e,t,r,ii){if(t.isAskingLLM){return false}if(ev&&ev.mouseover){ev.mouseover.call(t,o,e,t,r,ii)}var str=t.mj(o,e);var sty={background:"rgba(255,255,255,0.95)",border:"1px solid rgb(83,105,255)"};if(r&&r[0].func.match(/drawLine|drawShape/)){var c=t.b9(r[0].params[5],0.5);sty={background:c,border:"1px solid "+t.foreground}}if(str&&str!=""){t.pB(e,str,sty);if(o.objectType=="Chord"){t.E4(o)}else{if(o.objectType=="Sankey"){t.Nt(o)}}if(ii&&ii[0].toString().match("elbow")){var trg=t.zL(e);trg.style.cursor="move"}}};us.mousemove=function(o,e,t,r,ii){if(t.isAskingLLM){return false}if(ev&&ev.mousemove){if(typeof ev.mousemove=="string"){if(ev.mousemove.startsWith&&ev.mousemove.startsWith("/Function(")&&ev.mousemove.endsWith&&ev.mousemove.endsWith(")/")){var v=ev.mousemove.substring(10,ev.mousemove.length-2).replace(/&quot;/g,'"');ev.mousemove=eval("("+v+")")}}var res=ev.mousemove.call(t,o,e,t,r,ii);if(res===false){return false}}var str=t.mj(o,e);var sty={background:"rgba(255,255,255,0.95)",border:"1px solid rgb(83,105,255)"};if(r&&r[0].func.match(/drawLine|drawShape/)){var c=r[0].params[7]&&r[0].params[7].match&&r[0].params[7].match(/open|butt/)?sty.background:t.b9(r[0].params[5],0.5);sty={background:c,border:"1px solid "+t.foreground}}if(str&&str!=""){t.nv();t.pB(e,str,sty);if(o.objectType=="Chord"){t.E4(o)}else{if(o.objectType=="Sankey"){t.Nt(o)}}if(ii&&ii[0].toString().match("elbow")){var trg=t.zL(e);trg.style.cursor="move"}}};this.userEvents=us};this.YD=function(o,e,t,r,i){this.userEvents.click(o,e,t,r,i)};this.ca=function(o,e,t,r,i){this.userEvents.dblclick(o,e,t,r,i)};this.s4=function(o,e,t){if(!this.reproducing){this.userEvents.motion(o,e,t)}};this.fw=function(o,e,t,r,i){this.userEvents.mouseover(o,e,t,r,i)};this.lr=function(o,e,t,r,i){this.userEvents.mousemove(o,e,t,r,i)};this.ce=function(o,e,t){this.userEvents.drag(o,e,t)};this.ha=function(o,e,t){this.userEvents.wheel(o,e,t)};this.addEventListener=function(eventName,eventHandler){if(!this.events){this.events={}}this.events[eventName]=eventHandler};this.removeEventListener=function(eventName,eventHandler){if(this.events&&this.events[eventName]===eventHandler){delete this.events[eventName]}};this.sp=function(e){this.resetOn=true;this.animationOn=false;this.skipTransition=false;this.draggingOn=false;this.movingOn=false;this.panningOn=false;this.changingColorOn=false;this.changingColorItemOn=false;this.keyOn=false;this.lassoOn=false;this.xMouseDown=false;this.yMouseDown=false;this.moveNode=false;this.moveNodeIndex=false;this.moveNodeLab=false;this.moveNodeDec=false;this.moveNodeX=false;this.moveNodeY=false;this.moveNodeW=false;this.moveNodeH=false;this.moveEdge=false;this.moveEdgeIndex=false;this.moveEdgeElbow=false;this.moveEdgeX=false;this.moveEdgeY=false;this.moveGroup=false;this.moveGroupIndex=false;this.moveGroupX=false;this.moveGroupY=false;this.moveCommunity=false;this.moveCommunityIndex=false;this.moveCommunityX=false;this.moveCommunityY=false;this.resizeNode=false;this.resizeLegend=false;this.moveLegend=false;this.moveLegendX=false;this.moveLegendY=false;this.moveMarker=false;this.moveMarkerX=false;this.moveMarkerY=false;this.moveSankey=false;this.moveSankeyId=false;this.moveSankeyX=false;this.moveSankeyY=false;this.moveGenome=false;this.moveMap=false;this.moveCircular=false;this.moveDendrogram=false;this.moveVar=false;this.moveSmp=false;this.moveVarOverlay=false;this.moveSmpOverlay=false;if(e){this.cc(e)}window.document.defaultAction=true;window.document.body.style.cursor="default"};this.Df=function(e){var trg=e.target||e.srcElement;var that=CanvasXpress.getSetCurrentObject(e);if(!that){return}if(that.resizingCanvas){return}if(that.isAskingLLM||that.isTransitionOn){return false}var highlight=function(){if(trg&&trg.className&&trg.className.toString().match(/canvasxpress/i)){var ev=that.X1(e);if(that.isDOE){that.uG(e)}if(ev||that.lassoSelected){if(that.md(trg,"CanvasXpress")){if(that.lassoPoints&&that.lassoPoints.length){that.nv(e,true)}if(that.varIndicesStart>0||that.smpIndicesStart>0||that.grpIndicesStart>0){trg.style.cursor="move"}var r=that.Ee(e,"mousemove",that.hl(e,false,ev));if(!r&&that.view!="table"){that.g8(ev)}}}else{that.TD();if(that.graphType=="Map"&&that.canvasPointToCoordinate&&that.md(trg,"CanvasXpress")){var c,s;c=that.eF(that.xMouseMove,that.yMouseMove);if(c){if(that.isDOE){if(that.activeLayoutN==0){s=" [ "+c[1].toFixed(1)+", "+c[0].toFixed(1)+" ]";that.pB(e,s)}else{that.nv(e,true)}}else{s=" [ "+c[1].toFixed(1)+", "+c[0].toFixed(1)+" ]";that.pB(e,s)}}}else{that.nv(e,true)}}}};if(that.motioningOn){return highlight()}if(that.lastMousemove&&that.graphType=="Scatter3D"){if(new Date().getTime()-that.lastMousemove<100){return}}that.lastMousemove=new Date().getTime();that.lastEvent=e;if(that.isDOE){that.zL(e).style.cursor="default"}if(that.filteringNumericOn){that.lC();that.wZ(e)}else{if(that.draggingTargetOn){that.lC();that.Al(e)}else{if(that.motionOn){that.lC();that.Zp(e)}else{if(that.resizingDataTableColumnOn){that.lC();that.Ya(e)}else{if(that.draggingDataTableColumn||that.isDraggingDataTableColumnOn){that.lC();that.Ya(e)}else{if(that.changingColorOn){that.lC();that.updateColorValue(e)}else{if(that.changingColorItemOn){that.lC();that.updateColorItemValue(false,e)}else{if(that.isDOE&&that.skipClick){that.lC();that.Qr(e);highlight()}else{if(that.draggingOn){that.lC();that.Y6(e);that.lL(e);that.lastCanvasEvent="drag";if(that.moveMarker){return}}highlight()}}}}}}}}};this.f3=function(el){if(el&&el.focus){el.focus();this.cc()}};this.rz=function(trg,isOn){if(isOn){trg.style.cursor="grab";trg.style.cursor="-webkit-grab";trg.style.cursor="-moz-grab";trg.style.cursor="-o-grab";trg.style.cursor="grab"}else{trg.style.cursor="default"}};this.Ch=function(e){var trg=e.target||e.srcElement;if(this.motioningOn){this.cc(e)}else{if(this.md(trg.parentNode.parentNode,"CanvasXpressMenu")){if(this.draggableTarget){return}this.draggableTargetEl=trg;this.draggableTarget=trg.parentNode.parentNode;var sib=this.draggableTarget;while(this.md(sib.previousSibling,"CanvasXpressMenu")){sib=sib.previousSibling}this.draggableTarget=sib;this.rz(this.draggableTargetEl,true);this.activeTarget=this.draggableTarget;if(this.view!="table"){this.activeTarget.style.zIndex=10001}this.xMouseDown=e.clientX;this.yMouseDown=e.clientY;this.draggableXoffset=parseInt(this.draggableTarget.style.left)||0;this.draggableYoffset=parseInt(this.draggableTarget.style.top)||0;this.draggingTargetOn=true}else{if((e.button==1&&window.event!=null||e.button==0)&&this.md(trg,"draggable")&&trg.className.match("Customizer")&&trg.tagName.toUpperCase()=="SPAN"){return}else{if((e.button==1&&window.event!=null||e.button==0)&&this.md(trg,"draggable")){if(this.activeTarget){this.activeTarget.style.zIndex=10000}this.draggableTarget=trg.parentNode&&this.md(trg.parentNode,"draggable-container")?trg.parentNode:trg;this.activeTarget=this.draggableTarget;this.activeTarget.style.zIndex=10001;this.xMouseDown=e.clientX;this.yMouseDown=e.clientY;this.draggableXoffset=parseInt(this.draggableTarget.style.left)||0;this.draggableYoffset=parseInt(this.draggableTarget.style.top)||0;this.draggingTargetOn=true;this.rz(this.draggableTarget,true);this.WI()}}}}};this.Al=function(e){if(this.draggableTarget&&this.draggableTarget.style){var px=parseInt(this.draggableTarget.style.left);var py=parseInt(this.draggableTarget.style.top);var x=this.draggableXoffset+e.clientX-this.xMouseDown;var y=this.draggableYoffset+e.clientY-this.yMouseDown;this.draggableTarget.style.left=x+"px";this.draggableTarget.style.top=y+"px";this.draggableLastX=x;this.draggableLastY=y;if(this.md(this.draggableTarget,"CanvasXpressMenu")){var dx=x-px;var dy=y-py;var sib=this.draggableTarget.nextSibling;while(sib&&this.md(sib,"CanvasXpressMenu")){sib.style.left=(parseInt(sib.style.left)+dx)+"px";sib.style.top=(parseInt(sib.style.top)+dy)+"px";sib=sib.nextSibling}}}};this.j8=function(e){if(this.draggableTarget!=null){this.rz(this.draggableTargetEl||this.draggableTarget);window.document.onselectstart=null;this.yMouseDown=null;this.draggableXoffset=null;this.draggableYoffset=null;this.draggableTarget.ondragstart=null;this.draggableTarget=false;this.draggingTargetOn=false}};this.Dy=function(e){var trg=e.target||e.srcElement;var that=CanvasXpress.getSetCurrentObject(e);if(!that){return}that.mousedownElement=trg;if(that.mousedownElement&&that.mousedownElement.classList.contains("cX-Resizer")){return that.OT(e)}else{return false}};this.ON=function(e){var trg=e.target||e.srcElement;var that=CanvasXpress.getSetCurrentObject(e);if(!that){return}that.mousedownElement=trg;if(that.resizingCanvas){return}else{that.SN();if(that.motioningOn){that.cc(e);return false}else{if(that.draggingTargetOn){that.j8(e)}else{if(that.motionOn){that.Ye(e)}else{if(that.resizingDataTableColumnOn){that.GF(e)}else{if(that.draggingDataTableColumn||that.isDraggingDataTableColumnOn){that.La(e)}else{if(that.changingColorOn){that.endColorChange(e)}else{if(that.changingColorItemOn){that.endColorItemChange(e)}else{if(that.isDOE&&that.skipClick){that.YT(e)}else{if(that.isR&&(!that.mousedownElement||(that.mousedownElement.className&&that.mousedownElement.className.toString().match(/shiny/i)))){return}that.cc(e);that.v9(e);that.nH(e);that.Kk(e);that.Ud(e);that.sp(e);that.hT()}}}}}}}}if(that.userEvents[e.type]){that.Ee(e,e.type)}}};this.dG=function(e){var trg=e.target||e.srcElement;var that=CanvasXpress.getSetCurrentObject(e);if(!that){return}if(trg.className.toString().match(/CanvasXpressDataTableDOE/)&&!that.isJupyter){that.De(e);that.Y6(e)}};this.Dh=function(e){var trg=e.target||e.srcElement;var that=CanvasXpress.getSetCurrentObject(e);if(!that){return}if(trg.className.match(/CanvasXpressMap/)){CanvasXpress.$(trg._cX).registerKey(e)}else{that.SX(e)}};this.nK=function(e){var trg=e.target||e.srcElement;var that=CanvasXpress.getSetCurrentObject(e);if(!that){return}if(document.activeElement&&document.activeElement.className=="cX-Chat-Container-Question"){if(document.activeElement.cXtarget==that.target){that.copilot(e)}else{return}}else{if(trg.parentNode&&trg.parentNode.id.match(/cX-DataTableToolbar/)){if(trg.id.match(that.target)){that.keyOn=false;if(trg.id.match(/cX-DataTableSearch/)){that.sT(trg.id)}}that.cc()}else{that.keyOn=false;var isDelete=e.key==="Backspace"||e.key==="Delete";if(trg.id.match(/cX-DataTableSearch/)){that.sT(trg.id,false,isDelete)}else{if(trg.id.match(/cX-DataFilter.+ContentSearch/)){that.PY(e,trg.id)}else{if(trg.id.match(/cX-DataFilterInput/)){that.UO(trg.id)}else{if(trg.id.match(/-SearchCustomizerInput/)){that.MZ(e)}else{if(that.md(trg,"CanvasXpressListItemScrollSearch")){that.TF(trg.id)}}}}}}}};this.Jj=function(e){var that=CanvasXpress.getSetCurrentObject(e);if(!that){return}var tab=that.view=="table";if(tab){that.P9(e,"canvas")}var func=function(){if(that.targetParentNodeResponsive){if(that.view=="customize"){that.vg()}else{var wh=that.KA(that.$(that.target),that.targetParentNodeAspectRatio);that.setDimensions(wh[0],wh[1])}}};func.apply(that,arguments);that.qB(e);if(that.isJupyter){that.k3(false,window.innerWidth,window.innerHeight)}if(tab){setTimeout(function(){that.P9(e,"table")},0)}};this.qB=function(e){var that=CanvasXpress.getSetCurrentObject(e);if(!that){return}for(var i=0;i<CanvasXpress.instances.length;i++){var c=CanvasXpress.instances[i];if(!c.loaded&&c.lazyLoad){if(that.Rs(c.meta.canvas.ctx.canvas)){c.c9()}}}};this.Yh=function(){if(!this.disableEvents){var doc=window.document;if(!this.disableDocument){this.qD(doc,"mousedown","mousedownDoc",[],false);this.qD(doc,"mousemove","mousemoveDoc",[],false);this.qD(doc,"mouseup","mouseupDoc",[],false);this.qD(doc,"contextmenu","contextDoc",[],false)}if(!this.disableKeys){this.qD(doc,"keydown","keydownDoc",[],false);this.qD(doc,"keyup","keyupDoc",[],false)}if(!this.disableWindow){this.qD(window,"resize","resizeWindow",[],false);this.qD(window,"scroll","scrollWindow",[],false)}}};this.N3=function(){var cursor=this.$(this.target+"-cX-Cursor");if(!cursor){cursor=this.$cXI("wp_events3",{id:this.target+"-cX-Cursor",className:"CanvasXpress-Cursor",src:"wp_events3"},{left:"0px",top:"0px",display:"none",position:"absolute",zIndex:239011});document.body.appendChild(cursor)}};this.Ur=function(){this.ls();this.initDraggingEvents();this.initCanvasResizerEvents();this.initMotionEvents();this.initKeyEvents();this.initSelectEvents();this.initCanvasEvents();this.Yh();this.initCleanupEvents();this.N3()}};CanvasXpress.prototype.initAnimation=function(){this.nb=function(d,h,f,b,g,a){if(!d){return}d.style.transition="none";for(var c in h){d.style[c]=h[c]}requestAnimationFrame(function(){if(typeof g==="function"){g()}d.style.transition=b||"all 0.5s ease-out";for(var i in f){d.style[i]=f[i]}});d.addEventListener("transitionend",function e(){d.style.transition="none";if(typeof a==="function"){a()}d.removeEventListener("transitionend",e)},{once:true})};this.w6=function(e,m,g,l,j,a,k,c,i){if(!e){return}var n=i?"no-transition":"view-transition-effect";var f=i?0:0.55;e.classList.add(n);var d=function(b){return(typeof b==="number")?Math.round(b)+"px":b};if(m!==undefined&&m!==null){e.style.width=d(m)}if(g!==undefined&&g!==null){e.style.height=d(g)}if((a!==undefined&&a!==null)||(k!==undefined&&k!==null)){if(a!==undefined&&a!==null){e.style.right=d(a)}if(k!==undefined&&k!==null){e.style.bottom=d(k)}}else{if((l!==undefined&&l!==null)||(j!==undefined&&j!==null)){if(l!==undefined||l!==null){e.style.left=d(l)}if(j!==undefined||j!==null){e.style.top=d(j)}}}if(c!==undefined&&c!==null){e.style.opacity=Math.max(0,Math.min(1,c))}setTimeout(function(){if(e){e.classList.remove(n)}},f)};this.Bp=function(g,j,n,k,h,d,m,e){if(!g){return}d=d||500;if(e){g.style.left=Math.round(j)+"px";g.style.top=Math.round(n)+"px";g.style.width=Math.round(k)+"px";g.style.height=Math.round(h)+"px";if(m){m()}return}var c=parseFloat(g.style.left)||0;var i=parseFloat(g.style.top)||0;var f=parseFloat(g.style.width)||g.clientWidth||0;var l=parseFloat(g.style.height)||g.clientHeight||0;var b=null;function a(t){if(!b){b=t}var o=t-b;var r=Math.min(o/d,1);var s=c+(j-c)*r;var p=i+(n-i)*r;var q=f+(k-f)*r;var u=l+(h-l)*r;g.style.left=Math.round(s)+"px";g.style.top=Math.round(p)+"px";g.style.width=Math.round(q)+"px";g.style.height=Math.round(u)+"px";if(r<1){requestAnimationFrame(a)}else{if(m){m()}}}requestAnimationFrame(a)};this.LA=function(d,m,a,h,i,j){var f=this;var k=new Date().getTime();var g=k-d;if(m<=g||j){if(a){a.style.height=this.dataFilterHeight+"px";a.style.display="block"}if(h){h.style.height="0px";h.style.display="none"}if(i){i()}return}m-=g;var b=Math.round((m/250)*this.dataFilterHeight);if(a){a.style.height=(this.dataFilterHeight-b)+"px";a.style.display="block"}if(h){h.style.height=b+"px"}setTimeout(function(){f.LA(k,m,a,h,i)},33)};this.Ok=function(a,b,f){var c=this;var e=b||"holeOut";var d=parseFloat(this.transitionSpeed)*1000;if(this.disableCSSTransitions){d=0}a.style.opacity=1;this.bf(a,"magictime");this.bf(a,e);setTimeout(function(){c.Nn(a,"magictime");c.Nn(a,e);if(typeof f==="function"){f()}},d)};this.Rb=function(e,j){if(!e){return}var i=this;var g=e.childNodes.length>=8?50:100;var a=[];var l=0;var k;function c(){if(e.childNodes.length>0){if(i.isCodeShown){i.of("Code")}var p="slideUp";var o=i.disableCSSTransitions?0:g;var m=e.childNodes[e.childNodes.length-1];i.bf(m,"magictime");i.bf(m,p);for(var n=e.childNodes.length-1;n>=0;n--){e.childNodes[n].style.zIndex=String(e.childNodes.length-n)}setTimeout(function(){if(m.parentNode){m.parentNode.removeChild(m)}c()},o)}else{h()}}function h(){if(j){e.style.height=e.parentNode.style.height;var m=j.apply(i);if(m&&m[0]){a=m[0];k=m[1];l=i.disableCSSTransitions?0:(a.length>=8?25:50);d(0)}}}function b(m){var o="slideLeft";var n=i.disableCSSTransitions?0:1000;i.bf(m,"magictime");i.bf(m,o);e.appendChild(m);setTimeout(function(){i.Nn(m,"magictime");i.Nn(m,o)},n)}function d(m){if(m<a.length){setTimeout(function(){b(a[m]);d(m+1)},l)}else{f()}}function f(){var n=0;for(var m=0;m<e.childNodes.length;m++){n+=e.childNodes[m].clientHeight+4}e.style.height=Math.max(e.clientHeight,e.scrollHeight,n)+"px";if(typeof k==="function"){k.apply(i,["addEvtListener"])}}c()};this.UU=function(a,b){if(a.classList.contains("dissapear")){a.classList.remove("dissapear");setTimeout(function(){a.classList.remove("dissapearHidden");a.classList.add("appear");if(b){b.apply(this)}},20)}else{a.classList.add("dissapearHidden");setTimeout(function(){a.classList.add("dissapear");a.classList.remove("appear");if(b){b.apply(this)}},2000)}};this.KM=function(){if(!CanvasXpress.transitions){CanvasXpress.transitions={}}CanvasXpress.transitions[this.target]=[]};this.KV=function(){if(this.isTransitionOn){var a=arguments.callee.caller;if(a){CanvasXpress.transitions[this.target].push([a,this.Nd(Array.from(a.arguments))])}return true}else{return false}};this.Ha=function(){var c=[];var a=1/(this.transitionStep-1);for(var b=0;b<this.transitionStep;b++){c.push(this.CY(a*b))}return c};this.nO=function(g,a,f){var d=this.Ha();var b=Math.ceil(g/this.d8(f));var e=[];for(var c=0;c<g;c++){e.push(Math.max(0,d[Math.min(d.length-1,Math.max(0,a-Math.floor(c/b)))]))}return e};this.d8=function(a){if(this.graphType=="Tree"||this.yW()||this.graphType=="Sankey"||this.graphType=="Circular"||this.graphType=="Correlation"||this.graphType=="Venn"||(this.decorations&&this.decorations.kaplanMeier)||this.connectBy||(this.graphType.match(/Bar/)&&this.barType=="lollipop"&&!this.isGroupedData)){return 1}else{if(a){if(a=="Data"){return this.transitionStaggering}else{return 1}}else{return this.transitionStaggering}}};this.DO=function(){var e=this;var a=this.transitionStep+this.d8();var f=this.sA();var b=this.E1();var d=e.meta.render.order;if(this.meta.render.transition){for(var c in this.meta.render.transition.types){if(!this.meta.render.types.hasOwnProperty(c)){d.push(c)}}}this.transitionIter=0;this.isTransitionOn=true;var g=function(){if(e.transitionIter>=a){if(CanvasXpress.transitions[e.target]&&CanvasXpress.transitions[e.target].length>0){var j=CanvasXpress.transitions[e.target].shift();if(j[2]){for(var k in j[2]){e[k]=j[2][k]}}e.isTransitionOn=false;return j[0].apply(e,j[1]||false)}else{e.isTransitionOn=false;return e.dU("transition")}}for(var h=0;h<d.length;h++){if(f[d[h]]){e.ra();if(d[h]=="Data"&&e.graphType=="Venn"){e.ZR(0,0,e.width,e.height);e.Hl("lighter")}if((d[h]=="Legends"||d[h]=="Labels")&&e.graphType!="Circular"){e.Da(e.transitionIter,d[h])}else{if(d[h]=="Size"||d[h]=="Titles"){e.w0(d[h])}else{e.ij(e.transitionIter,f[d[h]],d[h])}}if(d[h]=="Data"&&e.graphType=="Venn"){e.Hl("source-over")}e.cq()}}e.transitionIter++;b.render(e.meta.canvas.canvasPixelRatio);e.Pn(g)};g()};this.ij=function(M,W,m){var J=this.meta.render.transition.objects;var g=this.meta.render.objects;var a=this.nO(W.length,M,m);var Q=W.length;for(var N=0;N<Q;N++){var D=a[N];var k=W[N][0];var F=W[N][1];var n=this.wo(k)?k:J[k];var K=this.wo(F)?F:g[F];if(!n||!K){continue}var u=n.func;var L=K.func;if(u!=L){continue}var E=n.params;var T=K.params;switch(u){case"drawShape":if(E[0]=="arch"){var H=this.Na(E,T,D);var A=H[0];var v=H[1];var B=H[2];var O=H[3];var V=this.n0(E[5],T[5],D);this.Fe(T[0],A,v,B,O,V,T[6],T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14],T[15])}else{if(E[0]!=T[0]&&E[0]!="arc2"&&T[0]!="arc2"&&!E[0].match("roundrect")&&!T[0].match("roundrect")){var A=this.ES(E[1],T[1],D);var v=this.ES(E[2],T[2],D);var B=this.ES(E[3],T[3],D);var O=this.ES(E[4],T[4],D);var V=this.n0(E[5],T[5],D);var o=E[0].match(/circle|sphere/)&&T[0].match(/rect|square/)&&M>5?T[0]:"oval";var I=E[0]=="pie"||E[0].match(/arc/)?this.ES(E[12],T[12],D):false;var H=E[0]=="pie"||E[0].match(/arc/)?this.ES(E[13],T[13],D):false;var G=E[0]=="ellipse2"?this.ES(E[8],T[8],D):false;this.Fe(o,A,v,B,O,V,T[6],T[7],G,T[9],T[10],T[11],I,H,T[14],T[15])}else{if(E[0]=="arc2"&&T[0]!="arc2"){var j=E[4]-(E[3]/2);var S=(j*Math.cos(E[12]))+E[1];var d=(j*Math.sin(E[12]))+E[2];var P=(j*Math.cos(E[13]))+E[1];var b=(j*Math.sin(E[13]))+E[2];var C=(S+P)/2;var U=(d+b)/2;var l=this.Cz([S,d],[P,b]);var A=this.ES(C,T[1],D);var v=this.ES(U,T[2],D);var O=this.ES(l,T[3],D);var B=this.ES(E[3],T[4],D);var V=this.n0(E[5],T[5],D);var I=this.ES(E[12],T[12],D);var H=this.ES(E[13],T[13],D);var G=this.ES(E[12],Math.PI,D);this.Fe(T[0],A,v,Math.max(B,O),Math.min(B,O),V,T[6],T[7],G,T[9],T[10],T[11],I,H,T[14],T[15])}else{if(E[0]!="arc2"&&T[0]=="arc2"){var j=T[4]-(T[3]/2);var S=(j*Math.cos(T[12]))+T[1];var d=(j*Math.sin(T[12]))+T[2];var P=(j*Math.cos(T[13]))+T[1];var b=(j*Math.sin(T[13]))+T[2];var C=(S+P)/2;var U=(d+b)/2;var l=this.Cz([S,d],[P,b]);var A=this.ES(E[1],C,D);var v=this.ES(E[2],U,D);var O=this.ES(E[3],l,D);var B=this.ES(E[4],T[3],D);var V=this.n0(E[5],T[5],D);var I=E[0]=="pie"||E[0].match(/arc/)?this.ES(E[12],T[12],D):false;var H=E[0]=="pie"||E[0].match(/arc/)?this.ES(E[13],T[13],D):false;var G=this.ES(Math.PI,T[12],D);this.Fe(E[0],A,v,Math.max(B,O),Math.min(B,O),V,T[6],T[7],G,T[9],T[10],T[11],I,H,T[14],T[15])}else{if(E[0]=="arrow"&&T[0]=="arrow"){var A=this.ES(E[8]==T[8]?E[1]:E[2],T[1],D);var v=this.ES(E[8]==T[8]?E[2]:E[1],T[2],D);var B=this.ES(E[8]==T[8]?E[3]:E[4],T[3],D);var O=this.ES(E[8]==T[8]?E[4]:E[3],T[4],D);var V=this.n0(E[5],T[5],D);var G=E[8]==T[8]?E[8]:!E[8]&&T[8]?true:false;this.Fe(T[0],A,v,B,O,V,T[6],T[7],G,T[9],T[10])}else{var A=this.ES(E[1],T[1],D);var v=this.ES(E[2],T[2],D);var B=this.ES(E[3],T[3],D);var O=this.ES(E[4],T[4],D);var V=this.n0(E[5],T[5],D);var I=E[0]=="pie"||E[0].match(/arc/)?this.ES(E[12],T[12],D):false;var H=E[0]=="pie"||E[0].match(/arc/)?this.ES(E[13],T[13],D):false;var G=E[0]=="ellipse2"?this.ES(E[8],T[8],D):false;this.Fe(T[0],A,v,B,O,V,T[6],T[7],G,T[9],T[10],T[11],I,H,T[14],T[15])}}}}}break;case"drawLine":var S=this.ES(E[1],T[1],D);var d=this.ES(E[2],T[2],D);var P=this.ES(E[3],T[3],D);var b=this.ES(E[4],T[4],D);var B=E[0]=="error"?this.ES(E[6],T[6],D):T[6];var V=this.n0(E[5],T[5],D);this.b6(T[0],S,d,P,b,V,B,T[7],T[8],T[9],T[10],T[11],T[12],T[13],T[14]);break;case"drawText":var A=this.ES(E[1],T[1],D);var v=this.ES(E[2],T[2],D);var R=this.AN(E[3],T[3],D);var V=this.n0(E[4],T[4],D);var G=this.ES(E[7]||0,T[7]||0,D);this.i0(T[0],A,v,R,V,T[5],T[6],G,T[8],T[9],T[10],T[11]);break;case"drawArcText":var A=this.ES(E[1],T[1],D);var v=this.ES(E[2],T[2],D);var G=this.ES(E[3],T[3],D);var I=this.ES(E[4],T[4],D);var H=this.ES(E[5],T[5],D);var R=this.AN(E[6],T[6],D);var V=this.n0(E[7],T[7],D);this.bp(T[0],A,v,G,I,H,R,V,T[8],T[9],T[10],T[11]);break;default:if(!this.layoutValid&&this.graphType!="Correlation"&&m!="Axes"){this[u].apply(this,T)}break}}};this.w0=function(g){var b=this.meta.render.types.hasOwnProperty(g)?this.meta.render.types[g].all:[];for(var c=0;c<b.length;c++){var a=this.meta.render.objects[b[c]];var d=a.func;var f=a.params;switch(d){case"drawShape":this.Fe(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14],f[15]);break;case"drawLine":this.b6(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11],f[12],f[13],f[14]);break;case"drawText":this.i0(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11]);break;case"drawArcText":this.bp(f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],f[8],f[9],f[10],f[11]);break}}};this.Da=function(j,b){var d=this.meta.render.types.hasOwnProperty(b)?this.meta.render.types[b].all:[];var h=this.nO(d.length,j);for(var f=0;f<d.length;f++){var a=this.meta.render.objects[d[f]];var c=a.func;var g=a.params;var k=h[f];switch(c){case"drawShape":this.Fe(g[0],g[1],g[2],g[3],g[4],this.b9(g[5],k,true),this.b9(g[6],k,true),g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]);break;case"drawLine":this.b6(g[0],g[1],g[2],g[3],g[4],this.b9(g[5],k,true),g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14]);break;case"drawText":this.i0(g[0],g[1],g[2],g[3],this.b9(g[4],k,true),g[5],g[6],g[7],g[8],g[9],g[10],g[11]);break;case"drawArcText":this.bp(g[0],g[1],g[2],g[3],g[4],g[5],g[6],this.b9(g[7],k,true),g[8],g[9],g[10],g[11]);break}}};this.VB=function(b,g){var f=b;var e=f.Ha();var a=f.transitionStep;var d=f.geoProjection.rotate();var c=f.eventMapCenter;f.transitionIter=0;f.isTransitionOn=true;var h=function(){if(f.transitionIter>=a){delete f.eventMapZoom;delete f.eventMapCenter;f.isTransitionOn=false;return f.x9({func:"broadcastDraw",par:[g]})}var j=e[f.transitionIter++];var k=f.ES(d[0],c[0],j);var i=f.ES(d[1],c[1],j);f.geoProjection.rotate([k,i]);f.eventMapCenter=[k,i];f.x9({func:"broadcastDraw",par:[g]});f.Pn(h)};h()};this.CY=function(a){switch(this.transitionFunction){case"linear":return a;case"easeInQuad":return a*a;case"easeOutQuad":return a*(2-a);case"easeInOutQuad":return a<0.5?2*a*a:-1+(4-2*a)*a;case"easeInCubic":return a*a*a;case"easeOutCubic":return(--a)*a*a+1;case"easeInOutCubic":return a<0.5?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1;case"easeInQuart":return a*a*a*a;case"easeOutQuart":return 1-(--a)*a*a*a;case"easeInOutQuart":return a<0.5?8*a*a*a*a:1-8*(--a)*a*a*a;case"easeInQuint":return a*a*a*a*a;case"easeOutQuint":return 1+(--a)*a*a*a*a;case"easeInOutQuint":return a<0.5?16*a*a*a*a*a:1+16*(--a)*a*a*a*a;default:return a}};this.ES=function(q,p,v){var o=[];var u=this.tO(q);var r=this.tO(p);if(u&&r){var m=q.length;for(var l=0;l<m;l++){var n=[];var k=this.tO(q[l]);var e=this.tO(p[l]);if(k&&e){var s=q[l].length;for(var h=0;h<s;h++){n.push(q[l][h]+v*(p[l][h]-q[l][h]))}o.push(n)}else{if(k){var s=q[l].length;for(var h=0;h<s;h++){n.push(q[l][h]+v*(p[l]-q[l][h]))}o.push(n)}else{if(e){var f=p[l].length;for(var h=0;h<f;h++){n.push(q[l]+v*(p[l][h]-q[l]))}o.push(n)}else{o.push(q[l]+v*(p[l]-q[l]))}}}}return o}else{if(u){var m=q.length;for(var l=0;l<m;l++){o.push(q[l]+v*(p-q[l]))}return o}else{if(r){var g=p.length;for(var l=0;l<g;l++){o.push(q+v*(p[l]-q))}return o}else{return q+v*(p-q)}}}};this.Na=function(q,i,o){var n=this.ES(q[3],i[3],o);var g=this.ES(q[4],i[4],o);var f=this.ES(q[1][1],i[1][1],o);var d=this.ES(q[2][1],i[2][1],o);var c=f+(g[0]*Math.cos(n[0]));var m=d+(g[0]*Math.sin(n[0]));var b=f+(g[1]*Math.cos(n[3]));var l=d+(g[1]*Math.sin(n[3]));var a=f+(g[1]*Math.cos(n[2]));var k=d+(g[1]*Math.sin(n[2]));var p=f+(g[0]*Math.cos(n[1]));var j=d+(g[0]*Math.sin(n[1]));return[[c,f,b,a,f,p],[m,d,l,k,d,j],n,g]};this.n0=function(e,d,f){if(e instanceof CanvasGradient){return e}if(d instanceof CanvasGradient){return d}if(!e||!d){return"rgba(255,255,255,0)"}e=this.b3(e);d=this.b3(d);var g=[];g[0]=parseInt(this.ES(e[0],d[0],f));g[1]=parseInt(this.ES(e[1],d[1],f));g[2]=parseInt(this.ES(e[2],d[2],f));if(e.length==4&&d.length==4){g[3]=parseInt(this.ES(e[3],d[3],f)*10)/10}else{g[3]=parseInt(this.ES(e[3]!=null?e[3]:1,d[3]!=null?d[3]:1,f)*10)/10}return(g.length==4?"rgba(":"rgb(")+g.join(",")+")"};this.AN=function(d,c,f){var g=this.rk(d);var e=this.rk(c);var h=Math.floor(this.ES(g,e,f));return d.replace(g,h)};this.Kb=function(c,j,k){var h=c.func;var d=this.meta.render;var l=this.meta.render.transition;var e=function(){return j?d.objects[c.group]:l.objects[c.group];var a=j?d.objects[c.group].id:l.objects[c.group].id;return j?l.objects[l.map[a]]:d.objects[d.map[a]]};switch(h){case"drawShape":var n=c.params[0];switch(n){case"box":case"rect":case"rectangle":case"roundrect":case"roundrectt":case"roundrectr":case"roundrectb":case"roundrectl":if(c.baseline!=null){if(this.tO(c.baseline)&&c.baseline.length==4){c.params[1]=c.baseline[0];c.params[2]=c.baseline[1];c.params[3]=c.baseline[2];c.params[4]=c.baseline[3]}else{if(this.tO(c.baseline)){c.params[1]=c.baseline[0];c.params[2]=c.baseline[1];c.params[3]=0;c.params[4]=0}else{if(this.Qc()){c.params[2]=c.baseline;c.params[4]=0}else{c.params[1]=c.baseline;c.params[3]=0}}}}else{if(this.Qc()){c.params[2]+=c.params[4]/2;c.params[4]=0}else{c.params[1]-=c.params[3]/2;c.params[3]=0}}break;case"spline":if(c.baseline!=null){if(this.tO(c.baseline)){c.params[1]=this.dy(c.params[1],c.baseline[0]);c.params[2]=this.dy(c.params[2],c.baseline[1])}else{if(this.Qc()){c.params[2]=this.dy(c.params[2],c.baseline)}else{c.params[1]=this.dy(c.params[1],c.baseline)}}}break;case"violin":if(c.baseline!=null){if(this.tO(c.baseline)){c.params[1][0]=c.baseline[0];c.params[1][1]=c.baseline[0];c.params[2][0]=c.baseline[1];c.params[2][1]=c.baseline[1]}}break;case"confidence":if(c.baseline!=null){if(this.tO(c.baseline)){for(var g=0;g<c.params[1].length;g++){c.params[1][g][0]=c.params[1][g][1]=c.baseline[g][0];c.params[2][g][0]=c.params[2][g][1]=c.baseline[g][1]}}else{if(this.Qc()){for(var g=0;g<c.params[2].length;g++){c.params[2][g][0]=c.params[2][g][1]=c.baseline}}else{for(var g=0;g<c.params[1].length;g++){c.params[1][g][0]=c.params[1][g][1]=c.baseline}}}}break;case"polygon":for(var g=1;g<c.params[1].length;g++){c.params[1][g]=c.params[1][0];c.params[2][g]=c.params[2][0]}break;case"arc2":c.params[3]=0;c.params[4]=0;c.params[12]=0;c.params[13]=0;break;case"pie":c.params[12]=0;c.params[13]=0;break;case"arch":c.params[1][0]=c.params[1][2]=c.params[1][3]=c.params[1][5]=c.params[1][1];c.params[2][0]=c.params[2][2]=c.params[2][3]=c.params[2][5]=c.params[2][1];c.params[3][0]=c.params[3][1]=c.params[3][2]=c.params[3][3]=0;c.params[4]=[1,1];break;default:if(c.baseline!=null){if(this.tO(c.baseline)){c.params[1]=c.baseline[0];c.params[2]=c.baseline[1];c.params[3]=c.baseline[2]||0;c.params[4]=c.baseline[3]||0}else{if(this.Qc()){c.params[2]=c.baseline;c.params[3]=0;c.params[4]=0}else{c.params[1]=c.baseline;c.params[3]=0;c.params[4]=0}}}else{c.params[3]=0;c.params[4]=0}if(n=="ellipse2"){c.params[8]=c.params[8]>0?Math.PI/2:-Math.PI/2}break}if(!j){c.params[5]=this.b9(c.params[5],0,true);c.params[6]=this.b9(c.params[6],0,true)}break;case"drawLine":var n=c.params[0];switch(n){case"error":var b=e();if(b){if(c.params[6]>0){c.params[1]=c.params[3]=b.baseline||b.params[1]}else{c.params[2]=c.params[4]=b.baseline||b.params[2]}c.params[6]=0}break;case"median":var b=e();if(b){if(this.Qc()){c.params[1]=c.params[3]=(c.params[1]+c.params[3])/2;c.params[2]=c.params[4]=b.baseline||b.params[2]}else{c.params[2]=c.params[4]=(c.params[2]+c.params[4])/2;c.params[1]=c.params[3]=b.baseline||b.params[1]}}break;case"spline":if(c.baseline!=null){if(this.tO(c.baseline)){for(var g=0;g<c.params[1].length;g++){c.params[1][g]=c.baseline[0];c.params[2][g]=c.baseline[1]}}else{if(this.Qc()){for(var g=0;g<c.params[2].length;g++){c.params[2][g]=c.baseline}}else{for(var g=0;g<c.params[1].length;g++){c.params[1][g]=c.baseline}}}}else{if(this.Qc()){for(var g=1;g<c.params[1].length;g++){c.params[1][g]=c.params[1][0]}}else{for(var g=1;g<c.params[2].length;g++){c.params[2][g]=c.params[2][0]}}}break;case"arc":c.params[3]=0;c.params[4]=0;c.params[8]=0;c.params[9]=0;break;default:if(k){c.params[5]=this.b9(c.params[5],0,true);c.params[6]=0.1}else{if(c.baseline!=null){if(this.tO(c.baseline)){if(c.baseline.length==4){c.params[1]=c.baseline[0];c.params[2]=c.baseline[1];c.params[3]=c.baseline[2];c.params[4]=c.baseline[3]}else{c.params[1]=c.baseline[0];c.params[2]=c.baseline[1];c.params[3]=c.baseline[0];c.params[4]=c.baseline[1]}}else{if(this.Qc()){c.params[2]=c.baseline;c.params[4]=c.baseline}else{c.params[1]=c.baseline;c.params[3]=c.baseline}}}else{if(this.Qc()){c.params[3]=c.params[1];c.params[4]=c.params[2]}else{c.params[3]=c.params[1];c.params[4]=c.params[2]}}}break}if(!j){c.params[5]=this.b9(c.params[5],0,true)}break;case"drawText":if(c.baseline!=null){if(this.tO(c.baseline)){c.params[1]=c.baseline[0];c.params[2]=c.baseline[1];if(c.baseline[2]){c.params[3]=c.baseline[2]}if(c.baseline[3]){c.params[4]=c.baseline[3]}if(c.baseline[4]){c.params[7]=c.baseline[4]}}else{if(this.Qc()){c.params[2]=c.baseline}else{c.params[1]=c.baseline}}}else{c.params[3]="1px "+this.fontName;c.params[4]="rgba(0,0,0,0)"}if(!j){c.params[3]="1px "+this.fontName;c.params[4]="rgba(0,0,0,0)"}break;case"drawArcText":c.params[1]=this.cx||this.width/2;c.params[2]=this.cy||this.height/2;c.params[3]=0;c.params[4]=0;c.params[5]=0;c.params[6]="1px "+this.fontName;c.params[7]="rgba(0,0,0,0)";if(!j){c.params[4]="rgba(0,0,0,0)"}break;default:}return c};this.iV=function(){var a=this.meta.render;if(a.transition){this.se(true)}else{this.se(true);for(var b=0;b<a.transition.objects.length;b++){this.Kb(a.transition.objects[b])}}};this.sA=function(){var f=this;var a=this.meta.render;var b={};var g={};var d=false;var e=function(){var n={};var k;var o=f.data.tree.click;var s=o._children?a.transition.objects:a.objects;var l="Tree-Node:"+o.id;var m=o._children?a.objects[a.map["Tree-Node:"+o.id]]:a.transition.objects[a.transition.map["Tree-Node:"+o.id]];if(o._children){o.children=o._children;k=o.descendants();o._children=o.children;o.children=null}else{k=o.descendants()}for(var p=0;p<k.length;p++){n[k[p].id.toString()]=true}for(var p=0;p<s.length;p++){for(var q in n){var j=new RegExp(":"+q+"$");if(s[p].id.match(j)){switch(s[p].func){case"drawLine":s[p].baseline=[m.params[1],m.params[2],m.params[1],m.params[2]];break;default:s[p].baseline=[m.params[1],m.params[2]];break}}}}f.data.tree.click=false};var h=function(u){var A=a.transition.types.hasOwnProperty(u)?a.transition.types[u].all:[];var p=a.types.hasOwnProperty(u)?a.types[u].all:[];var s=a.transition.objects;var y=a.objects;var J=a.origin;var E={};var m=[];var z=A.length>0&&u=="Data"?s[A[0]].params[0]:false;var G=f.showHistogram&&f.meta.data.s&&f.meta.data.s.density&&f.meta.data.s.density.Global&&f.meta.data.s.density.Global.summary?f.meta.data.s.density.Global.summary.histogram:false;if(u=="Data"&&z!="rectangle"&&G){var F=f.meta.vals.histogram||G;for(var D=0;D<F.length;D++){for(var C=0;C<F[D].length;C++){for(var B=0;B<F[D][C].length;B++){var x=F[D][C][B]+":0:"+C+":false";var w=F[D][C][B]+":0:"+(C+1)+":false";if(f.meta.vals.histogram){var n=a.map[x];var l=a.map[w];var x=D+":"+(C+1);var I=a.transition.map[x];if(I!=null&&n!=null){m.push([I,n])}else{if(I!=null&&l!=null){m.push([I,l])}}}else{var I=a.transition.map[x];var H=a.transition.map[w];var o=D+":"+(C+1)+":0";var n=a.map[o];if(I!=null&&n!=null){m.push([I,n])}else{if(H!=null&&n!=null){m.push([H,n])}}}}}}}else{if(u=="Data"&&z=="rectangle"&&f.meta.vals.histogram){var F=f.meta.vals.histogram;for(var D=0;D<F.length;D++){for(var C=0;C<F[D].length;C++){for(var B=0;B<F[D][C].length;B++){var x=F[D][C][B]+":0:"+C+":false";var w=F[D][C][B]+":0:"+(C+1)+":false";var n=a.map[x];var l=a.map[w];var x=D+":"+(C+1)+":0";var I=a.transition.map[x];if(I!=null&&n!=null){m.push([I,n])}else{if(I!=null&&l!=null){m.push([I,l])}}}}}}else{for(var D=0;D<p.length;D++){var v=y[p[D]];if(!v.skip){for(var C=0;C<J[p[D]].length;C++){var r=J[p[D]][C];if(r){var q=s[r];m.push([r,p[D]])}else{m.push([f.Kb(f.TU(v),true),p[D]])}E[r]=true}}}if(!d){for(var D=0;D<A.length;D++){var r=s[A[D]];if(!r.skip){if(!E[A[D]]){m.push([A[D],f.Kb(f.TU(r),false,u.match(/Axes/))])}}}}}}return m};if(!a.transition){this.iV();d=true}if(this.graphType=="Tree"&&this.data.tree.click){e()}for(var c in a.types){g[c]=h(c);b[c]=true}for(var c in a.transition.types){if(!b.hasOwnProperty(c)){g[c]=h(c)}}return g}};CanvasXpress.prototype.initData=function(){this.initDate();this.initDataUtils();this.initDataset();this.initFunctionData();this.initCxplot()};CanvasXpress.prototype.initDataUtils=function(){this.vi=function(){if(this.KV()){return}var g=this.data;var b=this.meta.data;var f=function(){var d=0;var a="Var-Name-"+d;while(g.z.hasOwnProperty(a)&&b.z[a]){d++;a="Var-Name-"+d}return a};var c=f();g.z[c]=[];for(var e=0;e<g.y.vars.length;e++){g.z[c].push("var"+(e+1))}this.wD("z",c);this.c4(c)};this.c4=function(e,j){if(this.KV()){return}var i=this.data;var c=this.meta.data;if(i.z.hasOwnProperty(e)&&this.um(i.z[e])){var b=this.groupingFactors;var g=this.TU(i.y.vars);var h=this.TU(i.z[e]);var f=e.match(/^--/)?e.replace(/^--/,""):"--"+e;i.z[f]=g;i.y.vars=h;delete (i.z[e]);this.af();if(b&&b.length>0){this.qO(true);this.hW(b)}else{if(!j){this.x9({func:"switchVarAnnotationToId",par:[e]})}}this.WI()}else{alert("Annotation "+e+" is not unique!")}};this.Ij=function(h,e){if(this.KV()){return}var g=this.data;var b=this.meta.data;if(g.hasOwnProperty("x")&&g.x.hasOwnProperty(h)){if(!b.modified){b.modified={}}if(!b.modified.z){b.modified.z={}}if(!b.modified.z[h]){b.modified.z[h]={}}var j=this.groupingFactors;this.isGroupedData=false;g.y.vars.push(h);if(this.eb(g.x[h])){g.y.data.push(g.x[h])}else{var l=[];if(b.x[h].date){for(var f=0;f<g.y.smps.length;f++){l.push(new Date(b.x[h].levels[f]).getTime())}}else{for(var f=0;f<g.y.smps.length;f++){l.push(b.x[h].order[g.x[h][f]])}}g.y.data.push(l);if(!b.modified.x){b.modified.x={}}if(!b.modified.x[h]){b.modified.x[h]=this.TU(b.x[h].levels)}}delete (g.x[h]);var k=this.Nv(g.x);if(k.length<1){delete (g.x)}if(g.z){var k=this.Nv(g.z);for(var f=0;f<k.length;f++){g.z[k[f]].push(b.modified.z[h][k[f]]||"")}}var c=this.TU(b.modified);this.wD("x",h,true);this.updateData(g,false,true);this.rx(h,true);this.meta.data.modified=c;if(!e){if(j&&j.length>0){this.qO(true);this.hW(j)}else{this.x9({func:"switchAnnotationToVar",par:[h]})}}this.WI()}};this.qx=function(b,c){this.JW({func:"switchVarToAnnotationBulk",par:[b]});this.skipStack=true;for(var a=0;a<b.length;a++){this.QI(true);if(c){this.vl(b[a],true)}else{this.vl(b[a],a!=b.length-1)}}this.skipStack=false};this.vl=function(k,e){if(this.KV()){return}var g=this.tU(k);if(g>=0){var h=this.data;var b=this.meta.data;if(!b.modified){b.modified={}}if(!b.modified.z){b.modified.z={}}if(!b.modified.z[k]){b.modified.z[k]={}}var l=this.groupingFactors;this.isGroupedData=false;if(!h.x){h.x={}}if(b.modified&&b.modified.x&&b.modified.x[k]){var o=[];for(var f=0;f<h.y.smps.length;f++){o.push(b.modified.x[k][h.y.data[g][f]])}h.x[k]=o}else{h.x[k]=h.y.data[g]}h.y.vars.splice(g,1);h.y.data.splice(g,1);if(h.z){var n=this.Nv(h.z);for(var f=0;f<n.length;f++){var a=h.z[n[f]].splice(g,1);b.modified.z[k][n[f]]=a[0]}}var c=this.TU(b.modified);this.wD("x");this.updateData(h,false,true);this.rx(k);this.meta.data.modified=c;if(!e){if(l&&l.length>0){this.qO(true);this.hW(l)}else{this.x9({func:"switchVarToAnnotation",par:[k]})}}this.WI()}};this.tq=function(){if(this.KV()){return}var g=this.data;var b=this.meta.data;var f=function(){var d=0;var a="Smp-Name-"+d;while(g.x.hasOwnProperty(a)&&b.x[a]){d++;a="Smp-Name-"+d}return a};var c=f();g.x[c]=[];for(var e=0;e<g.y.smps.length;e++){g.x[c].push("smp"+(e+1))}this.wD("x",c);this.A9(c)};this.A9=function(e,j){if(this.KV()){return}var i=this.data;var c=this.meta.data;if(i.hasOwnProperty("x")&&i.x.hasOwnProperty(e)&&this.um(i.x[e])){var b=this.groupingFactors;var g=this.TU(i.y.smps);var h=this.TU(i.x[e]);var f=e.match(/^--/)?e.replace(/^--/,""):"--"+e;i.x[f]=g;i.y.smps=h;delete (i.x[e]);this.af();if(b&&b.length>0){this.qO(true);this.hW(b)}else{if(!j){this.x9({func:"switchSmpAnnotationToId",par:[e]})}}this.WI()}else{alert("Annotation "+e+" is not unique!")}};this.HY=function(k,e){if(this.KV()){return}var h=this.data;var b=this.meta.data;if(h.hasOwnProperty("z")&&h.z.hasOwnProperty(k)){if(!b.modified){b.modified={}}if(!b.modified.x){b.modified.x={}}if(!b.modified.x[k]){b.modified.x[k]={}}var l=this.groupingFactors;this.isGroupedData=false;h.y.smps.push(k);if(this.eb(h.z[k])){for(var g=0;g<h.y.vars.length;g++){h.y.data[g].push(h.z[k][g])}}else{if(b.z[k].date){for(var g=0;g<h.y.vars.length;g++){h.y.data[g].push(new Date(h.z[k][g]).getTime())}}else{for(var g=0;g<h.y.vars.length;g++){h.y.data[g].push(b.z[k].order[h.z[k][g]])}}if(!b.modified.z){b.modified.z={}}if(!b.modified.z[k]){b.modified.z[k]=this.TU(b.z[k].levels)}}delete (h.z[k]);var n=this.Nv(h.z);if(n.length<1){delete (h.z)}if(h.x){var n=this.Nv(h.x);for(var f=0;f<n.length;f++){h.x[n[f]].push(b.modified.x[k][n[f]]||"")}}var c=this.TU(b.modified);this.wD("z",k,true);this.updateData(h,false,true);this.QI();this.meta.data.modified=c;if(!e){if(l&&l.length>0){this.qO(true);this.hW(l)}else{this.x9({func:"switchAnnotationToSmp",par:[k]})}}this.WI()}};this.D2=function(c,b){this.JW({func:"switchSmpToAnnotationBulk",par:[c]});this.skipStack=true;for(var a=0;a<c.length;a++){this.QI(true);if(b){this.Xg(c[a],true)}else{this.Xg(c[a],a!=c.length-1)}}this.skipStack=false};this.Xg=function(o,e){if(this.KV()){return}var g=this.yV(o,true);if(g>=0){var h=this.data;var b=this.meta.data;if(!b.modified){b.modified={}}if(!b.modified.x){b.modified.x={}}if(!b.modified.x[o]){b.modified.x[o]={}}var l=this.groupingFactors;this.isGroupedData=false;if(!h.z){h.z={}}h.y.smps.splice(g,1);h.z[o]=[];if(b.modified&&b.modified.z&&b.modified.z[o]){for(var f=0;f<h.y.vars.length;f++){var k=h.y.data[f].splice(g,1);h.z[o].push(b.modified.z[o][k])}}else{for(var f=0;f<h.y.vars.length;f++){h.z[o].push(h.y.data[f].splice(g,1))}}if(h.x){var n=this.Nv(h.x);for(var f=0;f<n.length;f++){var a=h.x[n[f]].splice(g,1);b.modified.x[o][n[f]]=a[0]}}var c=this.TU(b.modified);this.wD("z");this.updateData(h,false,true);this.QI();this.meta.data.modified=c;if(!e){if(l&&l.length>0){this.qO(true);this.hW(l)}else{this.x9({func:"switchSmpToAnnotation",par:[o]})}}this.WI()}};this.zd=function(f,d,e){if(this.KV()){return}var c=this.graphType=="Network"&&!d?"nodes":this.graphType=="Network"&&d?"edges":d?"x":"z";var b=d?"smps":"vars";if(this.graphType=="Network"){if(f&&this.data[c]&&this.meta.data[c][f].type=="Numeric"){for(var a=0;a<this.data[c].length;a++){if(this.data[c][a][f]!=null){this.data[c][a][f]=this.data[c][a][f]+"\x00"}}}this.FV(c,f)}else{if(f&&this.data[c]&&this.data[c][f]&&this.meta.data[c][f].type=="Numeric"){for(var a=0;a<this.data.y[b].length;a++){this.data[c][f][a]=this.data[c][f][a]+"\x00"}if(d){this.wD("x",f)}else{this.wD("z",f)}}}this.WI();if(!e){this.x9({func:"switchNumericToString",par:[f,d]})}};this.cw=function(f,d,e){if(this.KV()){return}var c=this.graphType=="Network"&&!d?"nodes":this.graphType=="Network"&&d?"edges":d?"x":"z";var b=d?"smps":"vars";if(this.graphType=="Network"){if(f&&this.data[c]&&this.meta.data[c][f].type=="String"){for(var a=0;a<this.data[c].length;a++){if(this.data[c][a][f]!=null){this.data[c][a][f]=this.data[c][a][f].replace("\x00","")}}}this.FV(c,f)}else{if(f&&this.data[c]&&this.data[c][f]&&this.meta.data[c][f].type=="String"){for(var a=0;a<this.data.y[b].length;a++){this.data[c][f][a]=this.data[c][f][a].replace("\x00","")}if(d){this.wD("x",f)}else{this.wD("z",f)}}}this.WI();if(!e){this.x9({func:"switchStringToNumeric",par:[f,d]})}};this.ix=function(j){var b={lay:{},idx:[],ids:{},nme:[],n:0};if(this.Xm()){b.axes=[]}var p=j=="x"?"smps":"vars";var k=j=="x"?this.segregateSamplesBy[0]:this.segregateVariablesBy[0];var d=this.meta.data&&this.meta.data[j]&&this.meta.data[j][k]?this.meta.data[j][k]:false;var g=this.Xm();if(k=="variable"&&!d){j="y";k="vars"}else{if(k=="sample"&&!d){j="y";k="smps"}}var f=this.data.hasOwnProperty(j)&&this.data[j].hasOwnProperty(k)?this.data:false;if(f){var l=[];for(var e=0;e<f[j][k].length;e++){var n=f[j][k][e];if(!b.lay.hasOwnProperty(n)){b.lay[n]=[];b.ids[n]=[];b.n++}b.lay[n].push(f.y[p][e]);b.ids[n].push(e);if(!l.includes(n)){l.push(n)}}if(this.eb(l)){l.sort(function(h,c){return h-c})}else{if(d&&d.order){l.sort(function(h,c){return d.order[h]-d.order[c]})}}for(var e=0;e<l.length;e++){var n=l[e];b.nme.push(n);b.idx.push(b.lay[n])}if(g){for(var e=0;e<b.nme.length;e++){b.axes.push({xAxis:["Bin"],yAxis:[b.nme[e]]})}}return b}else{return false}};this.bn=function(U,T,d,A){if(!this.SY()){return}var K=function(i){var c=function(j,k){j[k]=true;return j};return Object.keys(i.reduce(c,{}))};var C="segregate"+U+"By";var h="desegregate"+U;var w=U=="Samples"?"segregateVariablesBy":"segregateSamplesBy";var b=U=="Samples"?"x":"z";var I=this[C];var z=this.TU(this.varIndices);var g=this.TU(this.smpIndices);var E=this.data.w?this.TU(this.data.w):false;var u=[];var F=0;if(A){this.im(T,false,C,true,false);if(this[C].length==0){this[h](d);return}}else{if(this[C].length==0){if(!this.tO(T)){T=[T]}this[C]=T;if(!this.BY()){this[C]=I;return}}}if(!this.tO(this[C])){this[C]=[this[C]]}if(this.treemapBy.length&&this.segregateSamplesBy.length&&this.segregateVariablesBy.length){this.WI();alert("Ooops. Operation not allowed!");this[C]=[];return}else{if((T=="sample"||this.segregateSamplesBy.includes("sample"))&&this.segregateSamplesBy.length+this.segregateVariablesBy.length>1){this.WI();alert("Ooops. Operation not allowed!");if(T=="sample"||this.segregateSamplesBy.length>1){this.segregateSamplesBy.pop()}else{this.segregateVariablesBy.pop()}return}}this.An();if(this[C].length==1){var o=this.ix(b);if(this[w].length>0){this.mp(w=="segregateVariablesBy")}else{this.data.l={ids:[],weight:[],type:[],name:[],cluster:[]};if(U=="Samples"){this.data.l.smps=[]}else{this.data.l.vars=[]}if(this.groupingFactors.length){this.data.l.group=this.groupingFactors;this.data.l.groupLayout=[];this.data.l.w=[]}var x=0;var Q=o.nme;for(var P=0;P<Q.length;P++){var G=Q[P];u[P]=o.lay[G].length;F+=u[P];if(U=="Samples"){this.data.l.smps.push(o.lay[G])}else{this.data.l.vars.push(o.lay[G])}this.data.l.ids.push(o.ids[G]);this.data.l.type.push(this.graphType);this.data.l.name.push(G);x++}if(this.groupingFactors&&E){var O=this.p4(E.grps);for(var P=0;P<this.data.l.ids.length;P++){this.data.l.groupLayout[P]=[];for(var N=0;N<this.data.l.ids[P].length;N++){for(var M=0;M<E.grps.length;M++){if(O[M][this.data.l.ids[P][N]]){this.data.l.groupLayout[P].push(M);break}}}this.data.l.groupLayout[P]=K(this.data.l.groupLayout[P])}}this.layoutComb=this.graphType=="Circular"?false:true;this.showAnimationTemp=this.showAnimation;this.showAnimation=false;var J=this.showHistogram?o.axes.length:U=="Samples"?this.data.l.smps.length:this.data.l.vars.length;var G=Math.ceil(Math.sqrt(J));var H=this.layoutType=="rows"?J:this.layoutType=="cols"?1:G*(G-1)>=J?G-1:G;var R=this.layoutType=="cols"?J:this.layoutType=="rows"?1:H*(G-1)>=J?G-1:G;if(this.s9()){if(this.segregateSamplesBy.length>0){H=J;R=1}else{H=1;R=J}}else{if(J==3){if(this.Ir()){H=1;R=3}else{H=3;R=1}}}this.layout=H+"X"+R;if(this.layoutTopologyCurrent){if(Number(this.layoutTopologyCurrent[0])*Number(this.layoutTopologyCurrent[1])==J){this.layoutTopology=this.layoutTopologyCurrent[0]+"X"+this.layoutTopologyCurrent[1]}}if(this.s9()){for(var P=0;P<u.length;P++){if(this.segregateSamplesBy.length>0){this.data.l.weight.push([1,u[P]/F])}else{this.data.l.weight.push([u[P]/F,1])}}}else{for(var G in o.lay){this.data.l.weight.push([this.layoutTopology?1/this.layoutTopology.split(/X/i)[1]:1/R,this.layoutTopology?1/this.layoutTopology.split(/X/i)[0]:1/H])}}if(this.graphType.match(/Scatter2D/)){this.data.l.axes=o.axes}this.ua()}}else{var L={};var D={};var B=U=="Samples"?this.FP(this.segregateSamplesBy[0]).sort():this.fO(this.segregateVariablesBy[0]).sort();var q=U=="Samples"?this.FP(this.segregateSamplesBy[1]).sort():this.fO(this.segregateVariablesBy[1]).sort();var a=B;if(this.layoutType=="cols"){B=q;q=a}var e=1/B.length;var S=1/q.length;if(B.length&&q.length){for(var P=0;P<B.length;P++){L[B[P]]={};D[B[P]]={};for(var N=0;N<q.length;N++){L[B[P]][q[N]]=[];D[B[P]][q[N]]=[];if(U=="Samples"){for(var M=0;M<this.data.y.smps.length;M++){if(this.data[b][this[C][this.layoutType=="cols"?1:0]][M]==B[P]&&this.data[b][this[C][this.layoutType=="cols"?0:1]][M]==q[N]){L[B[P]][q[N]].push(this.data.y.smps[M]);D[B[P]][q[N]].push(M)}}}else{for(var M=0;M<this.data.y.vars.length;M++){if(this.data[b][this[C][this.layoutType=="cols"?1:0]][M]==B[P]&&this.data[b][this[C][this.layoutType=="cols"?0:1]][M]==q[N]){L[B[P]][q[N]].push(this.data.y.vars[M]);D[B[P]][q[N]].push(M)}}}}}this.data.l={ids:[],weight:[],type:[],name:[],cluster:[]};if(U=="Samples"){this.data.l.smps=[]}else{this.data.l.vars=[]}if(this.groupingFactors.length){this.data.l.group=this.groupingFactors;this.data.l.groupLayout=[];this.data.l.w=[]}for(var P=0;P<B.length;P++){for(var N=0;N<q.length;N++){if(this.layoutRemoveEmpty&&this.layoutType=="wrap"){if(L[B[P]][q[N]].length<1){continue}}this.data.l.type.push(this.graphType);this.data.l.name.push([B[P],q[N]]);if(U=="Samples"){this.data.l.smps.push(L[B[P]][q[N]]);this.data.l.ids.push(D[B[P]][q[N]])}else{this.data.l.vars.push(L[B[P]][q[N]]);this.data.l.ids.push(D[B[P]][q[N]])}}}if(this.groupingFactors.length&&E){var O=this.p4(E.grps);for(var P=0;P<this.data.l.ids.length;P++){this.data.l.groupLayout[P]=[];for(var N=0;N<this.data.l.ids[P].length;N++){for(var M=0;M<E.grps.length;M++){if(O[M][this.data.l.ids[P][N]]){this.data.l.groupLayout[P].push(M);break}}}this.data.l.groupLayout[P]=K(this.data.l.groupLayout[P])}}var p=0;for(var N=0;N<q.length;N++){var y=0;for(var P=0;P<B.length;P++){if(L[B[P]][q[N]].length>0&&this.layoutType=="wrap"){y++}}p=Math.max(p,y)}var f=0;for(var P=0;P<B.length;P++){var m=0;for(var N=0;N<q.length;N++){if(L[B[P]][q[N]].length>0&&this.layoutType=="wrap"){m++}}f=Math.max(f,m)}var J=this.data.l.name.length;if(this.layoutRemoveEmpty&&this.layoutType=="wrap"){p=f*(p-1)>J?p-1:p;f=p*(f-1)>J?f-1:f}if(B.length*q.length>J){if(B.length==J){p=J;f=1}else{if(q.length==J){p=1;f=J}else{f=Math.ceil(Math.sqrt(J));p=f*(f-1)>=J?f-1:f}}}else{p=B.length;f=q.length}e=1/p;S=1/f;if(this.layoutTopologyCurrent){if(Number(this.layoutTopologyCurrent[0])*Number(this.layoutTopologyCurrent[1])==J){this.layoutTopology=this.layoutTopologyCurrent[0]+"X"+this.layoutTopologyCurrent[1]}}for(var P=0;P<J;P++){this.data.l.weight.push([this.layoutTopology?1/this.layoutTopology.split(/X/i)[1]:S,this.layoutTopology?1/this.layoutTopology.split(/X/i)[0]:e])}this.layoutComb=this.graphType=="Circular"?false:true;this.showAnimationTemp=this.showAnimation;this.showAnimation=false;this.layout=this.layoutRemoveEmpty&&this.layoutType=="wrap"?p+"X"+f:B.length+"X"+q.length}else{alert("Incompatible Segregation");if(U=="Samples"){this.segregateSamplesBy.pop()}else{this.segregateVariablesBy.pop()}this.WI()}this.ua()}this.NM();this.Jl();if(this.groupingFactors.length&&this.data.l.comp&&this.data.l.comp.length){for(var P=0;P<this.data.l.comp.length;P++){this.smpIndices=this.data.l.comp[P];if(this.varIndices.length&&this.smpIndices.length){this.hW(this.groupingFactors,false,false,true,true,true);this.data.l.w[P]=this.TU(this.data.w)}}this.varIndices=z;this.smpIndices=g;this.grpIndices=E.grpIdxs;this.data.w=E}if(!d){this.x9({func:"segregate",par:[U,T,d,A],prop:{layoutTopology:this.layoutTopology,layout:this.layout}})}};this.ly=function(b,c,a){this.bn("Variables",b,c,a)};this.RQ=function(c,b,a){this.bn("Samples",c,b,a)};this.mp=function(s){if(!this.SY()){return}var c=this.TU(this.varIndices);var o=this.TU(this.smpIndices);var e=this.data.w?this.TU(this.data.w):false;var m=this.ix("x");var n=this.ix("z");var b=m.idx;var f=n.idx;var r=m.nme;var d=n.nme;var p=[];var q=[];var g=0;var h=0;this.An();this.data.l={smps:b,vars:f,weight:[],type:[],name:[],cluster:[]};if(this.groupingFactors.length){this.data.l.group=this.groupingFactors;this.data.l.w=[]}if(this.s9()){for(var l=0;l<b.length;l++){q[l]=b[l].length;h+=q[l]}for(var l=0;l<f.length;l++){p[l]=f[l].length;g+=p[l]}}if(this.layoutTopologyCurrent){if(Number(this.layoutTopologyCurrent[0])*Number(this.layoutTopologyCurrent[1])==f.length*b.length){this.layoutTopology=this.layoutTopologyCurrent[0]+"X"+this.layoutTopologyCurrent[1]}}var a=this.layoutTopology?1/this.layoutTopology.split(/X/i)[0]:1/b.length;var u=this.layoutTopology?1/this.layoutTopology.split(/X/i)[1]:1/f.length;if((this.layoutType=="cols"&&s)||(this.layoutType=="rows"&&!s)||(this.s9())){for(var l=0;l<b.length;l++){for(var k=0;k<f.length;k++){if(this.s9()){this.data.l.weight.push([p[k]/g,q[l]/h])}else{this.data.l.weight.push([u,a])}this.data.l.type.push(this.graphType);this.data.l.name.push([r[l],d[k]])}}this.layout=b.length+"X"+f.length}else{for(var l=0;l<f.length;l++){for(var k=0;k<b.length;k++){this.data.l.weight.push([a,u]);this.data.l.type.push(this.graphType);this.data.l.name.push([d[l],r[k]])}}this.layout=f.length+"X"+b.length}this.layoutComb=true;this.layoutTypeVariablesFirst=s;this.ua();if(this.groupingFactors.length&&this.data.l.comp&&this.data.l.comp.length){for(var l=0;l<this.data.l.comp.length;l++){this.varIndices=this.data.l.comp[l][0];this.smpIndices=this.data.l.comp[l][1];if(this.varIndices.length&&this.smpIndices.length){this.hW(this.groupingFactors,false,false,true,true,true);this.data.l.w[l]=this.TU(this.data.w)}}this.varIndices=c;this.smpIndices=o;this.grpIndices=e.grpIdxs;this.data.w=e}};this.HF=function(a,c,b){if(c&&c.length){this.bn("Samples",c,b)}if(a&&a.length){this.bn("Variables",a,b)}};this.bX=function(c,d){if(!this.SY()){return}this.showAnimation=this.showAnimationTemp;this.An();var b=c=="Samples"?"segregateSamplesBy":"segregateVariablesBy";var a=c=="Samples"?"segregateSamples":"segregateVariables";if(this[b].length>0){this[a](this[b],d)}else{this.ua()}if(this.groupingFactorsStdBy){this.hW(this.groupingFactorsStdBy,false,false,true,true);this.groupingFactorsStdBy=false}if(this.yW()){this.meta.data.d.a={};this.meta.data.d.s={};this.QI()}if(!d){delete (this.layoutConfig);this.x9({func:"desegregate",par:[c,d],prop:{segregateSamplesBy:this.segregateSamplesBy,segregateVariablesBy:this.segregateVariablesBy}})}};this.Fw=function(a){if(!this.SY()){return}this.bX("Variables",a)};this.QG=function(a){if(!this.SY()){return}this.bX("Samples",a)};this.g5=function(a){if(!this.SY()){return}if(this.segregateVariablesBy.length){this.segregateVariablesBy=[];this.bX("Variables",a)}if(this.segregateSamplesBy.length){this.segregateSamplesBy=[];this.bX("Samples",a)}};this.tI=function(){if(this.yW()){var m=this;var x=function(){var a=m.data.z&&m.data.z.hasOwnProperty(m.scatterPlotMatrix)?m.scatterPlotMatrix:false;if(m.scatterPlotMatrixType.match(/correlation|all/)&&!a){if(m.colorBy&&m.data.z&&m.data.z.hasOwnProperty(m.colorBy)){m.An();a=m.colorBy;m.scatterPlotMatrix=a}else{alert("Visualization requires metadata");m.scatterPlotMatrixType="both"}}return a};var l=function(F){var B={y:{vars:[],smps:[],data:[]},b:{},r:[]};var E=x();var a=E?m.meta.data.z[m.scatterPlotMatrix].order:false;var c=E?m.meta.data.z[m.scatterPlotMatrix].levels:["Global"];var C=m.wT(F);var D=Number.NEGATIVE_INFINITY;var r=Number.POSITIVE_INFINITY;for(var s=0;s<C.length;s++){B.y.data.push([E?a[m.data.z[E][s]]:0,C[s]]);B.y.vars.push("Smp"+(s+1))}B.y.smps=[E||"Global",m.data.y.smps[F]];if(E){B.z={};B.z[E]=m.data.z[E];for(var s=0;s<c.length;s++){var d=[];for(var n=0;n<C.length;n++){if(B.z[E][n]==c[s]){d.push(C[n])}}B.b[c[s]]=m.UL(d);D=Math.max(D,B.b[c[s]][9][1]);r=Math.min(r,B.b[c[s]][9][0])}}else{B.b.Global=m.UL(C)}B.r=[-0.5,c.length-0.5,r,D];return{data:B,params:{xAxis:[E||"Global"],yAxis:[m.data.y.smps[F]],setMinX:-0.5,setMaxX:c.length-0.5,scatterType:"boxplot",graphOrientation:"vertical",scatterPlotMatrix:E||true}}};var w=function(s,d,c){var n=false;if(s){for(var a=0;a<s.length;a++){if(s[a]&&s[a][0].xAxis==c&&s[a][0].yAxis==d){return s[a]}}}return n};var h,f,q,A,p;var e=this.scatterPlotMatrixType.match(/first/)?this.data.y.smps.length-1:this.data.y.smps.length;var z=Math.ceil(Math.sqrt(e));var b=this.data.l&&this.data.l.hasOwnProperty("reg")?this.TU(this.data.l.cor):false;var u=x();this.data.l={};this.data.l.smps=[];this.data.l.weight=[];this.data.l.type=[];this.data.l.stype=[];this.data.l.data=[];this.data.l.group=u;this.data.l.params=[];if(b){this.data.l.reg=[]}this.xAxisTemp=this.xAxisTemp||this.xAxis;this.xAxis=[];this.yAxisTemp=this.yAxisTemp||this.yAxis;this.yAxis=[];this.zAxisTemp=this.zAxisTemp||this.zAxis;this.zAxis=[];if(!this.scatterPlotMatrixType.match(/first/)){if(this.scatterPlotMatrixType.match(/all/)){e++}A=e;q=e;h=1/q;f=1/A;var y=0;for(var k=0;k<e;k++){for(var g=0;g<e;g++){this.data.l.weight.push([h,f]);this.data.l.type.push(this.graphType);this.data.l.data.push(false);this.data.l.params.push(false);if(k==g){if(this.scatterPlotMatrixType.match(/all/)&&k==e-1){this.data.l.smps.push({});this.data.l.stype.push(false)}else{if(this.scatterPlotMatrixType.match(/correlationHistogram/)){this.data.l.smps.push({xAxis:[this.data.y.smps[g]],yAxis:[this.data.y.smps[k]]});this.data.l.stype.push("Histogram")}else{if(this.scatterPlotMatrixType.match(/correlationDensity|all/)){this.data.l.smps.push({xAxis:[this.data.y.smps[g]],yAxis:[this.data.y.smps[k]]});this.data.l.stype.push("Density")}else{this.data.l.smps.push({});this.data.l.stype.push(false)}}}if(b){this.data.l.reg.push(false)}}else{if(this.scatterPlotMatrixType.match(/all/)&&k==e-1){this.data.l.smps.push({xAxis:[this.data.y.smps[g]],yAxis:[this.data.y.smps[k]]});this.data.l.stype.push("Histogram")}else{if(this.scatterPlotMatrixType.match(/all/)&&g==e-1){this.data.l.smps.push(this.data.y.smps[k]);this.data.l.stype.push("Boxplot");var o=l(k);this.data.l.data[this.data.l.data.length-1]=o.data;this.data.l.params[this.data.l.params.length-1]=o.params}else{if(this.scatterPlotMatrixType.match(/upper/)){if(g>k){this.data.l.stype.push("Scatter2D");this.data.l.smps.push({xAxis:[this.data.y.smps[g]],yAxis:[this.data.y.smps[k]]})}else{this.data.l.stype.push(false);this.data.l.smps.push({})}}else{if(this.scatterPlotMatrixType.match(/lower/)){if(k>g){this.data.l.stype.push("Scatter2D");this.data.l.smps.push({xAxis:[this.data.y.smps[g]],yAxis:[this.data.y.smps[k]]})}else{this.data.l.stype.push(false);this.data.l.smps.push({})}}else{if(this.scatterPlotMatrixType.match(/both/)){if(k!=g){this.data.l.stype.push("Scatter2D");this.data.l.smps.push({xAxis:[this.data.y.smps[g]],yAxis:[this.data.y.smps[k]]})}else{this.data.l.smps.push({})}}else{if(g>k){this.data.l.stype.push(false);this.data.l.smps.push({})}else{this.data.l.stype.push("Scatter2D");this.data.l.smps.push({xAxis:[this.data.y.smps[g]],yAxis:[this.data.y.smps[k]]})}}}}}}if(this.data.l.stype[y]=="Scatter2D"&&b){this.data.l.reg.push(w(b,k,g))}}y++}}}else{A=z*(z-1)>=e?z-1:z;q=z;h=1/q;f=1/A;p=1;for(var k=0;k<A;k++){for(var g=0;g<q;g++){this.data.l.weight.push([h,f]);this.data.l.type.push(this.graphType);if(this.data.y.smps[p]){this.data.l.smps.push({xAxis:[this.data.y.smps[0]],yAxis:[this.data.y.smps[p]]})}else{this.data.l.smps.push({});break}p++}}}this.layout=A+"X"+q;this.layoutComb=true;this.showAnimationTemp=this.showAnimation;this.showAnimation=false;this.ua()}};this.r5=function(){if(this.yW()){if(this.xAxisTemp&&this.xAxisTemp.length>0){this.xAxis=this.xAxisTemp;this.xAxisTmp=[]}if(this.yAxisTemp&&this.yAxisTemp.length>0){this.yAxis=this.yAxisTemp;this.yAxisTmp=[]}if(this.zAxisTemp&&this.zAxisTemp.length>0){this.zAxis=this.zAxisTemp;this.zAxisTmp=[]}if(!this.xAxis||!this.yAxis){this.xAxis=[];this.yAxis=[];this.xAxisIndices=[];this.yAxisIndices=[];this.xAxis=[this.data.y.smps[0]];for(var a=1;a<this.data.y.smps.length;a++){this.yAxis.push(this.data.y.smps[a])}this.xAxisIndices=this.yV(this.xAxis);this.yAxisIndices=this.yV(this.yAxis);this.xu()}this.scatterPlotMatrix=false;if(this.showAnimationTemp){this.showAnimation=this.showAnimationTemp}this.An();this.ua()}};this.GH=function(){if(this.graphType.match(/Pie/)){var f,h;var g=this.xAxis.length;if(this.layout){var b=this.layout.split(/X/i);f=parseInt(b[0]);h=parseInt(b[1]);if(f*h<g){f=Math.ceil(Math.sqrt(g));h=Math.floor(Math.sqrt(g));this.layout=f+"X"+h}}else{f=Math.ceil(Math.sqrt(g));h=Math.floor(Math.sqrt(g));this.layout=f+"X"+h}var a=1/f;var e=1/h;delete (this.layoutParams);delete (this.data.l);this.data.l={};this.data.l.smps=[];this.data.l.weight=[];this.data.l.type=[];for(var d=0;d<g;d++){this.data.l.smps.push([this.xAxis[d]]);this.data.l.weight.push([e,a]);this.data.l.type.push(this.graphType)}this.layoutComb=true;this.showAnimationTemp=this.showAnimation;this.showAnimation=false;this.ua()}};this.qy=function(b,d,a){if(this.KV()){return}var l=this.groupingFactors&&this.groupingFactors.length>0?this.groupingFactors:false;var g={data:{},smps:{}};var f={y:{data:[],vars:[],smps:[],pie:[]}};if(!CanvasXpress.cacheImagesReady){setTimeout(function(){that.qy(b)},200)}else{if(l){this.qO(true)}var j,k;if(this.isDOE){j=this.data.l.doe;k=this.isDOE>1?this.data.z[b]:this.data.x[b]}else{j=this.smpIndices;k=this.data.x[b]}for(var e=0;e<j.length;e++){var h=k[j[e]];if(!g.data[h]){g.data[h]=0;g.smps[h]=[]}g.data[h]++;g.smps[h].push(j[e])}f.y.smps.push(b);for(var e in g.data){f.y.vars.push(e);f.y.data.push([g.data[e]]);f.y.pie.push(g.smps[e])}if(this.isDOE||d){return f}else{this.xAxis=false;this.yAxis=false;this.graphType="Pie";this.isPie=b||true;this.data.y.pie=f;this.WI();if(!a){this.x9({func:"createPie",par:[b,d,a]})}}}};this.FQ=function(b){if(this.KV()){return}var a=this.isPie!=true?[this.isPie]:false;this.isPie=false;this.WI();if(a){this.hW(a,false,false,false,b)}else{if(!b){this.x9({func:"removePie"})}}};this.TJ=function(b,a){if(this.KV()){return}var c=this.groupingFactors&&this.groupingFactors.length>0?this.groupingFactors:false;var f={y:{data:[],vars:[],smps:[],meter:{}},x:{}};if(!CanvasXpress.cacheImagesReady){setTimeout(function(){that.TJ(annt)},200)}else{if(!b){return}else{if(c){this.qO(true)}f.y.smps=this.isDOE&&this.isDOE>1?this.TU(this.data.y.vars):this.TU(this.data.y.smps);f.x[b]=this.isDOE&&this.isDOE>1?this.TU(this.data.z[b]):this.TU(this.data.x[b]);var e=[];if(a!=null){if(this.isDOE&&this.isDOE>1){f.y.vars=[this.data.y.smps[a]];for(var d=0;d<this.data.y.vars.length;d++){e.push(this.data.y.data[d][a])}}else{f.y.vars=[this.data.y.vars[a]];e=this.data.y.data[a]}}else{f.y.vars=["counts"];if(this.isDOE&&this.isDOE>1){for(var d=0;d<this.data.y.vars.length;d++){e.push(1)}}else{for(var d=0;d<this.data.y.smps.length;d++){e.push(1)}}}f.y.data=[e];f.y.meter={group:b,summary:a!=null?"sum":"count",topology:"auto",type:"gauge"};return f}}};this.gw=function(b){if(this.KV()){return}var a=this.isMeter!=true?[this.isMeter]:false;this.isMeter=false;this.WI();if(a){this.hW(a,false,false,false,b)}else{if(!b){this.x9({func:"removeMeter"})}}};this.jB=function(a){if(this.scatterType!="bin2d"){this.scatterType="bin2d";this.WI();if(!a){this.x9({func:"createBin2d"})}}};this.hG=function(a){if(this.scatterType=="bin2d"){this.scatterType=false;this.WI();this.meta.data.b={l:[],g:false,c:false};if(!a){this.x9({func:"removeBin2d"})}}};this.FD=function(b,a){this.WI();this.isContour=b||true;if(!a){this.x9({func:"modifyContour",par:[b,a]})}};this.S7=function(){if(this.layoutValid&&this.scatterPlotMatrix){var a=this.data.l&&this.data.l.stype.length?this.data.l.stype:false;if(this.layoutCurrent==null){return true}else{if(a&&!a[this.layoutCurrent].toString().match(/Scatter2D/)){return true}}}return false};this.rV=function(){var b=this.meta.data.q;if(this.isContour){if(b.g.length){if((b.g[0].stat!=this.contourStat)||b.b!=this.contourColorScheme){this.meta.data.q={l:{},g:[],b:false};this.Pg(this.isContour,true,true);b=this.meta.data.q}}if((this.isContour!==true||this.segregateVariablesBy.length)&&this.yW()){var a=this.xAxisIndices[0];var d=this.yAxisIndices[0];var c=[a,d,this.layoutCurrent].join(":");if(this.layoutValid){if(!b.l.hasOwnProperty(c)){this.Pg(this.segregateVariablesBy[0]||this.isContour,true)}return b.l[c]}else{if(!b.l[this.isContour]){this.Pg(this.isContour,true)}return b.l[this.isContour]}}else{if(this.yW()){var a=this.xAxisIndices[0];var d=this.yAxisIndices[0];var c=[a,d].join(":");if(this.layoutValid){if(!b.l.hasOwnProperty(c)){this.Pg(false,true)}return b.l[c]}else{if(!b.g.length){this.Pg(false,true)}return b.g}}else{if(this.s9()){if(this.layoutValid){var c=this.layoutCurrent.toString();if(!b.l.hasOwnProperty(c)){this.Pg(false,true)}return b.l[c]}else{if(!b.g.length){this.Pg(false,true)}return b.g}}}}}return false};this.Pg=function(h,m,a){var o=this;this.WI();this.isContour=h||true;var C=this.meta.data.q;var B=(this.layoutValid&&this.layoutCurrent===false)||a;var O=0;var D=function(c,d){if(o.contourStat!="ndensity"&&o.layoutValid&&o.layoutCurrent!==false&&o.isContour!==true&&o.graphType.match(/Scatter/)&&C.g.length){return C.g[0].data.colorBrew}else{switch(o.contourStat){case"density":return o.dl(o.NH(c.length,o.contourColorScheme,true),d[0],d[1],null,false,true);case"ndensity":return o.dl(o.NH(c.length,o.contourColorScheme,true),0,1,null,false,true);case"count":return o.dl(o.NH(c.length,o.contourColorScheme,true),0,d[1]*e(),null,false,true)}}};var S=function(i,f){var j=o.Ep([o[i+"AxisIndices"][0]],false,f);var c=i.toUpperCase();if(o.setMinX||o.setMaxX||o.setMinY||o.setMaxY){j.unshift(o["setMin"+c]!=null&&o["setMin"+c]<o[i+"AxisMin"]?o["setMin"+c]:o[i+"AxisMin"]);j.push(o["setMax"+c]!=null&&o["setMax"+c]>o[i+"AxisMax"]?o["setMax"+c]:o[i+"AxisMax"])}else{if(o.layoutValid){j.unshift(o[i+"AxisMin"]);j.push(o[i+"AxisMax"])}}return j};var e=function(){if(o.contourStat!="ndensity"&&o.layoutValid&&o.layoutCurrent!==false&&o.isContour!==true&&o.graphType.match(/Scatter/)&&C.g.length){return C.g[0].data.max}else{return O}};var b=function(j){if(o.contourStat!="ndensity"&&o.layoutValid&&o.layoutCurrent!==false&&o.isContour!==true&&o.graphType.match(/Scatter/)&&C.g.length){return C.g[0].data.levels}var i=[];if(o.contourLevels.length){return o.contourLevels}var f=Number(o.contourLevelWidth);var d=o[o.axisAlgorithm](j[0],j[1],o.contourLevelNumber);var c=d[d.length-1];var k=d[0];if(!f){d.push(c+(d[1]-d[0]));return d}while(k<=c){i.push(k);k+=f}i.push(k+f);return i};var I=function(c){var U=[];var r=S("x",c);var q=S("y",c);var n=S("z",c);var f={};for(var k=0;k<r.length;k++){f[r[k].toString()+":"+q[k].toString()]=n[k]}r=o.Ry(r).sort();q=o.Ry(q).sort();for(var k=0;k<r.length;k++){var w=r[k].toString();for(var d=0;d<q.length;d++){var l=q[d].toString();if(f.hasOwnProperty(w+":"+l)){U.push(f[w+":"+l])}else{U.push(null)}}}return U};var G=function(w,r,q,d){var U=[];var c=w.length;var f=r.length;if(f*c!=q.length){q=I(d)}for(var l=0;l<w.length;l++){for(var k=0;k<r.length;k++){U.push(q[l+k*c])}}return U};var R=function(c,f){for(var d=0;d<c.length;d++){if(c[d]==null||f[d]==null||isNaN(c[d])||isNaN(f[d])){c.splice(d,1);f.splice(d,1);d--}}};if(this.isContour!==true&&this.yW()){var J=this.sF(this.isContour,this.varIndices,"z");for(var F=0;F<J.length;F++){var g=this.sN(this.isContour,J[F],this.varIndices,"z");O=Math.max(O,g.length)}}else{O=this.s9()?this.varIndices.length*this.smpIndices.length:this.varIndices.length}if(this.isContour!==true&&this.yW()&&!B){if(this.meta.data.z[this.isContour].type=="Numeric"){this.isContour=false;alert("Contour by Numeric factor not allowed");return}var A=this.layoutValid?[this.xAxisIndices[0],this.yAxisIndices[0],this.layoutCurrent].join(":"):false;var J=this.sF(this.isContour,this.varIndices,"z");for(var F=0;F<J.length;F++){var g=this.sN(this.isContour,J[F],this.varIndices,"z");var H=g.length;if(H<2){continue}if(this.graphType=="ScatterBubble2D"&&this.xAxisIndices&&this.yAxisIndices){var u=this.Ry(S("x",g)).sort();var s=this.Ry(S("y",g)).sort();R(u,s);var p=G(u,s,S("z",g),g);var E=this.cp(p);var K=b(E);var P=this.Em(u,s,p,K);var T=this.Yb(u,s,p,K);if(P||T){if(A){if(!C.l.hasOwnProperty(A)){C.l[A]=[]}C.l[A].push({name:J[F],data:{filled:P,lines:T,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}else{if(!C.l.hasOwnProperty(this.isContour)){C.l[this.isContour]=[]}C.l[this.isContour].push({name:J[F],data:{filled:P,lines:T,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}}}else{if(this.graphType=="Scatter2D"&&this.xAxisIndices&&this.yAxisIndices&&!this.S7()){var u=S("x",g);var s=S("y",g);R(u,s);var L=this.LL(u,s);var E=this.cp(L.z);var K=b(E);var P=this.Em(L.x,L.y,L.z,K);var T=this.Yb(L.x,L.y,L.z,K);if(P||T){if(A){if(!C.l.hasOwnProperty(A)){C.l[A]=[]}C.l[A].push({name:J[F],data:{filled:P,lines:T,kde2d:L,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}else{if(!C.l.hasOwnProperty(this.isContour)){C.l[this.isContour]=[]}C.l[this.isContour].push({name:J[F],data:{filled:P,lines:T,kde2d:L,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}}}}}}else{if(this.graphType=="ScatterBubble2D"&&this.xAxisIndices&&this.yAxisIndices){var A=this.layoutValid?[this.xAxisIndices[0],this.yAxisIndices[0]].join(":"):false;var u=this.Ry(S("x"));var s=this.Ry(S("y"));R(u,s);var p=G(u,s,S("z"));var E=this.cp(p);var K=b(E);var P=this.Em(u,s,p,K);var T=this.Yb(u,s,p,K);var H=this.varIndices.length;if(P||T){if(A&&!B){if(!C.l.hasOwnProperty(A)){C.l[A]=[]}C.l[A].push({name:this.data.y.smps[this.xAxisIndices[0]]+":"+this.data.y.smps[this.yAxisIndices[0]]+":"+this.data.y.smps[this.zAxisIndices[0]],data:{filled:P,lines:T,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}else{C.g.push({name:"Global",stat:this.contourStat,data:{filled:P,lines:T,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}}}else{if(this.s9()){var A=this.layoutValid?this.layoutCurrent.toString():false;var u=this.varIndices;var s=this.isGroupedData?this.grpIndices:this.smpIndices;var H=this.varIndices.length*this.smpIndices.length;this.l1();var p=[];for(var N=0;N<s.length;N++){for(var M=0;M<u.length;M++){p.push(this.Cb(u[M],s[N])-this.minData)}}var E=this.cp(p);var K=b(E);var P=this.Em(u,s,p,K);var T=this.Yb(u,s,p,K);if(P||T){if(A){if(!C.l.hasOwnProperty(A)){C.l[A]=[]}C.l[A].push({name:A,data:{filled:P,lines:T,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}else{C.g.push({name:"Global",stat:this.contourStat,data:{filled:P,lines:T,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}}}else{if(this.graphType=="Scatter2D"&&this.xAxisIndices&&this.yAxisIndices&&!this.S7()){var A=this.layoutValid?[this.xAxisIndices[0],this.yAxisIndices[0]].join(":"):false;var u=S("x");var s=S("y");R(u,s);var L=this.LL(u,s);var E=this.cp(L.z);var K=b(E);var P=this.Em(L.x,L.y,L.z,K);var T=this.Yb(L.x,L.y,L.z,K);var H=this.varIndices.length;if(P||T){if(A&&!B){if(!C.l.hasOwnProperty(A)){C.l[A]=[]}C.l[A].push({name:this.data.y.smps[this.xAxisIndices[0]]+":"+this.data.y.smps[this.yAxisIndices[0]],data:{filled:P,lines:T,kde2d:L,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}else{C.g.push({name:"Global",stat:this.contourStat,data:{filled:P,lines:T,kde2d:L,levels:K,colorBrew:D(K,E),range:E,n:H,max:e()}})}}}}}}if(C.l){var Q=[];for(var A in C.l){var F=C.l[A];for(var N=0;N<F.length;N++){var T=F[N];if(T&&T.data&&T.data.levels&&T.data.levels.length){Q=Q.concat(T.data.levels)}}}if(Q.length){var E=o.cp(Q);C.b=this.contourColorScheme}}if(C.g.length){C.b=this.contourColorScheme}if(!m){this.x9({func:"createContour",par:[h,m]})}};this.ax=function(a){if(this.isContour){this.WI();this.isContour=false;this.meta.data.q={l:{},g:[],b:false};if(!a){this.x9({func:"removeContour"})}}};this.Zs=function(d,h){var e=this;var k=this.meta.data.x;var g=this.colorBy&&k&&k.hasOwnProperty(this.colorBy);var c=d&&k&&k.hasOwnProperty(d[0]);var f=g?this.NH(k[this.colorBy].colors.length):c?this.NH(k[d[0]].colors.length):this.colors;var a=g?k[this.colorBy].order:c?k[d[0]].order:false;if(g){k[this.colorBy].colors=f}if(!h){this.xAxisIndices[0]=this.tU(this.xAxis[0]);h=this.xAxisIndices[0]}var j=function(m,n){if(a){return a.hasOwnProperty(m)?f[a[m]]:n?n:e.missingDataColor}else{return n||e.missingDataColor}};var i=function(s,x,p){if(s.length>0){if(d&&x+1<d.length){x++;var w=e.FP(d[x],s);var r=[];var z=0;for(var q=0;q<w.length;q++){var u=j(w[q],p);var y=e.MJ(d[x],w[q],s);var m=i(y,x,u);z+=m[1];r.push({name:w[q],idx:y,children:m[0],value:m[1],depth:x,color:u,tooltip:"<b>"+w[q]+"</b><br>"+e.gG(m[1])+" ("+e.gG(m[1]*100/l)+"%)"})}}else{var r=[];var z=0;for(var q=0;q<s.length;q++){var n=e.Cb(h,s[q]);z+=n;r.push({name:e.data.y.smps[s[q]],idx:[s[q]],value:n,depth:x+1,color:f[s[q]%f.length],tooltip:"<b>"+e.data.y.smps[s[q]]+"</b><br>"+e.gG(n)+" ("+e.gG(n*100/l)+"%)"})}}return[r,z]}};var l=this.RD(this.data.y.data[h],true);var b=i(this.smpIndices,-1);return[{name:"root",children:b[0],value:b[1],depth:-1,color:this.missingDataColor}]};this.wY=function(o,d,k,A){if(this.KV()){return}if(this.graphType&&this.graphType.match(/Map/)&&this.mapId&&!window[this.mapId]){this.JW({func:"createDOE",par:[o,d,k,A]});return}var D=function(c,J){var L=[];for(var q=0;q<a.length;q++){for(var g=0;g<a[q].length;g++){if(a[q][g]==null){var l=false;for(var r=q;r<q+J[0];r++){for(var K=g;K<g+J[1];K++){if(a[r]&&a[r][K]!=null||K>=I){l=true;break}}}if(!l){L=[q,g];for(var r=q;r<q+J[0];r++){for(var K=g;K<g+J[1];K++){a[r][K]=c}}return L}}}}return[0,0]};var b=this.groupingFactors&&this.groupingFactors.length>0?this.groupingFactors:false;if(b){this.qO(true,false,true)}this.fj();this.g5(true);this.isDOE=this.showHistogram?(this.meta.data.s.graphType.match(/Scatter/i)?2:1):(this.graphType.match(/Scatter|^Map/i)?2:1);if(k){if(this.isDOE==2){this.varIndices=k}else{this.smpIndices=k}}var m=this.isDOE==2?this.varIndices:this.smpIndices;var H=this.isDOE==2?this.data.z:this.data.x;var f=this.isDOE==2?this.meta.data.z:this.meta.data.x;var h=this.isDOE==2?this.data.y.smps:this.data.y.vars;if(this.layoutTopology){this.layout=this.layoutTopology}var w=Number(this.layout.split("X")[0]);var I=Number(this.layout.split("X")[1]);var y=w*I;var u=this.Nv(H);var z=[];if(this.includeDOE.length<1){for(var E=0;E<u.length;E++){if(E>=this.maxDOENumber){break}if(this.graphType=="Map"){if(u[E]=="name"&&H[u[E]].length==0){continue}}this.includeDOE.push(u[E]);z.push(-1)}if(this.extendedDOE&&!this.showHistogram){for(var E=0;E<h.length;E++){if(this.includeDOE.length<this.maxDOENumber){this.includeDOE.push(h[E]);z.push(E)}}}}else{for(var E=0;E<this.includeDOE.length;E++){if(u.includes(this.includeDOE[E])){z.push(-1)}else{if(this.isDOE==1){z.push(this.tU(this.includeDOE[E]))}else{if(this.isDOE==2){z.push(this.yV(this.includeDOE[E]))}}}}}if(y==1||d){w=Math.ceil(Math.sqrt(this.includeDOE.length+1));I=w*(w-1)>=(this.includeDOE.length+1)?w-1:w;this.layout=w+"X"+I}var a=[];for(var E=0;E<w*I;E++){a[E]=[];for(var C=0;C<I;C++){a[E][C]=null}}this.layoutTopology=this.layout;var F=this.TU(this.xAixs);var e=this.TU(this.yAixs);delete (this.layoutParams);this.data.l={};var p=o&&o[0]&&o[0].size?o[0].size.split("X"):this.layoutConfig&&this.layoutConfig[0]&&this.layoutConfig[0].size?this.layoutConfig[0].size.split("X"):[1,1];p=[Number(p[0]),Number(p[1])];var G=o&&o[0]&&o[0].graphType?o[0].graphType:this.layoutConfig&&this.layoutConfig[0]&&this.layoutConfig[0].graphType?this.layoutConfig[0].graphType:this.graphType;this.data.l.smps=[[m]];this.data.l.weight=[[p[1]/I,p[0]/w]];this.data.l.type=[G];this.data.l.doe=m;this.data.l.coords=[D(0,p)];this.data.l.extended=[-1];this.data.l.data=[false];this.data.l.graphType=this.showHistogram?this.meta.data.s.graphType:this.graphType;this.data.l.showHistogram=this.showHistogram;this.data.l.params=[{showLegend:false,xAxis:F,yAxis:e}];this.data.l.group=b;for(var E=0;E<this.includeDOE.length;E++){var n=E+1;p=o&&o[n]&&o[n].size?o[n].size.split("X"):this.layoutConfig&&this.layoutConfig[n]&&this.layoutConfig[n].size?this.layoutConfig[n].size.split("X"):[1,1];p=[Number(p[0]),Number(p[1])];G=o&&o[n]&&o[n].graphType?o[n].graphType:this.layoutConfig&&this.layoutConfig[n]&&this.layoutConfig[n].graphType?this.layoutConfig[n].graphType:false;this.data.l.coords[n]=D(n,p);this.data.l.smps.push([this.includeDOE[E]]);this.data.l.weight.push([p[1]/I,p[0]/w]);this.data.l.extended.push(z[E]);if(G){this.data.l.type.push(G)}else{if(z[E]>=0){this.data.l.type.push("Scatter2D");this.data.l.params[n]={showLegend:false,histogramStat:"count",xAxisTitle:"",yAxisTitle:"",showHistogram:true}}else{if(f[this.includeDOE[E]]&&f[this.includeDOE[E]].type=="Numeric"){this.data.l.type.push("Scatter2D");this.data.l.params[n]={showLegend:false,histogramStat:"count",xAxisTitle:"",yAxisTitle:"",showHistogram:true}}else{var B=this.Ry(H[this.includeDOE[E]]);var x=B.length<this.maxPieSectors?"Pie":B.length<200?"Treemap":"Table";this.data.l.type.push(x);switch(x){case"Pie":case"Table":this.data.l.data[n]=this.qy(this.includeDOE[E],true);this.data.l.params[n]={showLegend:false,graphType:x};break;case"Treemap":this.data.l.data[n]=this.C7(this.includeDOE[E],true);this.data.l.params[n]={showLegend:false,plotByVariable:false,graphType:x};break;case"Meter":this.data.l.data[n]=this.TJ(this.includeDOE[E]);this.data.l.params[n]={showLegend:false,plotByVariable:false,graphType:x};break}}}}}this.layoutComb=true;this.ua();this.O6();if(!A){this.WI();this.x9({func:"createDOE",par:[o,d,k,A]})}};this.Ap=function(b,c){if(this.KV()){return}var d=this.view=="canvas"||this.view=="explore"||this.view=="customize";var a=this.data.l.group&&this.data.l.group.length?this.data.l.group:false;this.graphType=this.initialGraphType||this.graphType;this.isDOE=false;this.isPie=false;this.layoutValid=false;if(d){this.WI()}delete (this.data.l);this.layoutComb=false;this.layoutModified=false;this.ua();if(a){if(!b){this.JW({func:"removeDOE",par:[b]})}this.skipStack=true;this.hW(a,false,false,false,b);this.skipStack=false}else{if(!b){this.x9({func:"removeDOE",par:[b]})}}};this.rx=function(d,b){if(this.isDOE){if(b){var a;for(var c=1;c<this.data.l.smps.length;c++){if(this.data.l.smps[c][0]==d){a=c;break}}this.data.l.smps.splice(a,1);this.data.l.comp.splice(a,1);this.data.l.type.splice(a,1);this.data.l.weight.splice(a,1);this.data.l.extended.splice(a,1);this.layoutConfig.splice(a,1)}else{this.data.l.smps.push([d]);this.data.l.comp.push([]);this.data.l.type.push("Scatter2D");this.data.l.weight.push(this.data.l.weight[0]);this.data.l.extended.push(d);this.layoutConfig.push({})}}};this.BM=function(){if(this.KV()){return}this.toDoFilter={};var b=this.isDOE>1?this.data.y.vars.length:this.data.y.smps.length;var a=[];for(var d=0;d<b;d++){a.push(d)}this.data.l.doe=a;var f=this.data.l.showHistogram;var c=this.showLoessFit;var e=this.isDOE;this.Jl(true);this.Ap(true);this.ts(true);this.M4(true);if(e==2){this.varIndices=a}else{this.smpIndices=a}if(f){this.bI(f,true)}if(c){this.Uq(c,true)}this.wY(false,false,a,true);if(this.graphType=="Map"){this.RY();this.cN(this.hiddenMapFeatures,true);this.cN(this.visibleMapFeatures,false,this.visibleMapFeatures.length)}this.x9({func:"resetDOE"})};this.C7=function(a,b){if(this.KV()){return}var k=this.groupingFactors&&this.groupingFactors.length>0?this.groupingFactors:false;var h={data:{},vars:{}};var d={y:{data:[[]],vars:[],smps:[],treemap:[]}};if(k){this.qO(true)}var g,j;if(this.isDOE){g=this.data.l.doe;j=this.isDOE>1?this.data.z[a]:this.data.x[a]}else{if(this.yW()){g=this.varIndices;j=this.data.z[a]}else{g=this.smpIndices;j=this.data.x[a]}}for(var e=0;e<g.length;e++){var f=this.isDOE&&this.data.l.treemap?this.data.l.treemap:j[g[e]];if(!h.data[f]){h.data[f]=0;h.vars[f]=[]}h.data[f]++;h.vars[f].push(g[e])}d.y.vars.push(a);for(var e in h.data){d.y.smps.push(e);d.y.data[0].push(h.data[e]);d.y.treemap.push(h.vars[e])}if(this.isDOE||b){return d}else{this.xAxis=false;this.yAxis=false;this.graphType="Treemap";this.isTreemap=a||true;this.data.y.treemap=d;this.WI();this.x9({func:"createTreemap",par:[a]})}};this.OR=function(b){if(this.KV()){return}var a=this.isTreemap!==true?[this.isTreemap]:false;this.isTreemap=false;this.WI();if(a){this.hW(a,false,false,false,b)}else{if(!b){this.x9({func:"removeTreemap"})}}};this.ok=function(){var m=this;var D=function(i,d){if(d>i.length){alert("Cannot have a parent that does not exist in list. (p: "+i+", x: "+d+")")}if(d<0){alert("Cannot have a value in parents of less than zero")}if(i[d-1]==0){return 0}else{return D(i,i[d-1])+1}};var b=function(y){var j=[];for(var d=1;d<=y.length;d++){j.push(D(y,d))}return j};var e=function(N,M){for(var L=0;L<N[0].length;L++){for(var K=0;K<N.length;K++){for(var y=K+1;y<N.length;y++){if(M[y]==K+1){N[K][L]-=N[y][L]}}}}return N};var u=function(N,M){var K=[];for(var L=0;L<N[0].length;L++){K[L]=100}for(var L=0;L<M.length;L++){if(M[L]==0){for(var y=0;y<N[0].length;y++){K[y]-=N[L][y]}}}return K};var r=function(K,N){for(var y=0;y<K.length;y++){var M=0;var L=0;for(var p=0;p<K[y].length;p++){if(K[y][p]>0){if(M==0){M=p}else{L=p}}}if(M>0&L>0){for(var p=M;p<=L;p++){if(K[y][p]==0){K[y][p]=Math.pow(0.01,N[y])}}}}};var c=function(K,p){if(K==0){return 0}var d=[];for(var j=0;j<B.length;j++){if(B[j]==K){d.push(j)}}var y=0;for(var j=0;j<d.length;j++){if(I[d[j]][p]>0){y++}}return y};var x=this.fishTimepoints;var B=this.fishParents;var I=this.data.y.data;if(!x.length){for(var G=0;G<this.data.y.smps.length;G++){x.push(G)}}else{if(!this.eb(x)){alert("fishTimepoints must be array of numbers")}}var w=b(B);var J=e(this.TU(I),B);var h=u(this.TU(I),B);var z=[];var n=[];var f=[];r(I,w);for(var G=0;G<x.length;G++){var g=x[G];var E=[];var a=[];var s=[];for(var F=0;F<B.length;F++){E[F]=null;a[F]=null;s[F]=g}var A=[0];while(A.length>0){var q=A[0];var l=[];for(var F=0;F<B.length;F++){if(B[F]==q){l.push(F+1)}}A.shift();for(var F=0;F<l.length;F++){A.push(l[F])}var k=0;var o=h[G]/2;if(this.fishSeparateIndependentClones){o=0;var C=0;if(q==0){for(var F=0;F<B.length;F++){if(B[F]==0){C++}}if(C>1&&h[G]>0){k=h[G]/(C+1)}}}if(q!=0){o=a[q-1];k=J[q-1][G]/(c(q,G)+1)}for(var F=0;F<l.length;F++){var H=l[F]-1;if(I[H][G]==0){s[H]=null;if(G>0){if(I[H][G-1]>0){a[H]=o+k/2;E[H]=o+k/2;s[H]=g-0.25}}}else{a[H]=o+k;o=o+I[H][G];E[H]=o+k;o=o+k}}}n.push(a);z.push(E);f.push(s)}n=this.nG(n);z=this.nG(z);f=this.nG(f);for(var G=0;G<n.length;G++){n[G]=n[G].filter(function(d){return d!==null});z[G]=z[G].filter(function(d){return d!==null});f[G]=f[G].filter(function(d){return d!==null})}return{nestLevel:w,innerSpace:J,outerSpace:h,ytop:z,ybtm:n,xpos:f}};this.Uq=function(a,b){if(this.KV()){return}this.b8();this.showLoessFit=a||true;this.graphType="Scatter2D";if(!this.isDOE){this.WI();if(!b){this.x9({func:"createLoessFit",par:[a,b]})}}};this.M4=function(a){if(this.KV()){return}if(this.showLoessFit){this.showLoessFit=false;this.graphType=this.meta.data.s.graphType||this.graphType;this.meta.data.s=false;if(!a){this.x9({func:"removeLoessFit",par:[a]})}}};this.bI=function(a,b){if(this.KV()){return}if(this.showHistogram&&this.showHistogram!=true){if(this.meta.data.z[this.showHistogram]&&this.meta.data.z[this.showHistogram].type=="Numeric"){this.zd(this.showHistogram,false,true)}}this.yc();this.showHistogram=a||true;this.setMinY=null;this.setMaxY=null;this.graphType="Scatter2D";if(!this.isDOE){this.WI();if(!b){this.x9({func:"createHistogram",par:[a,b]})}}};this.ts=function(a){if(this.KV()){return}if(this.ridgeBy){alert("Not allowed while ridgeBy is emabled");return}this.showHistogram=false;this.graphType=this.meta.data.s.graphType||this.graphType;this.meta.data.s=false;if(!a){this.x9({func:"removeHistogram",par:[a]})}};this.SA=function(){if(this.KV()){return}this.correlationAxis="variables";this.heatmapType="correlation";this.Zl("cor");this.WI();this.x9({func:"createHeatmapCorrelation",par:[]})};this.VD=function(){if(this.KV()){return}this.correlationAxis="samples";this.heatmapTypeType="normal";this.WI();this.x9({func:"removeHeatmapCorrelation"})};this.Xq=function(e,c,d){if(this.KV()){return}if(this.graphType.match(/Scatter/i)){this.showRegressionFit=c||true}else{this.regressionGraph=this.graphType;this.showRegressionFit=c||true;this.regressionTranspose=e;this.regressionGroup=this.TU(this.groupingFactors);this.regressionXTitle=this.xAxisTitle;var b=this.groupingFactors;if(c){if(e){this.Ij(c)}else{this.HY(c)}}var a=e?this.data.y.vars:this.data.y.smps;if(b){this.qO(true)}if(e){this.rq(false,true)}this.graphType="Scatter2D";this.axesType="XY";this.xAxis=[a[0]];this.xAxisTitle=a[0];this.xAxisIndices=[0];if(c){this.yAxis=[c];this.yAxisTitle=c}else{this.yAxis=[a[1]||a[0]];this.yAxisTitle=a[1]||a[0];this.yAxisIndices=a[1]?[1]:[0]}this.showAnimation=false}if(!d){this.x9({noImages:true,func:"createRegression",par:[e,c,d]})}this.WI()};this.iD=function(g){this.WI();if(this.KV()){return}if(this.showRegressionFit){var b=this.TU(this.segregateVariablesBy);var f=this.TU(this.segregateSamplesBy);var e=this.showRegressionFit;var d=this.regressionTranspose;var c=this.regressionGroup;var a=this.regressionGraph;if(d){this.rq(false,false,true);this.graphType=this.regressionGraph}if(e!==true&&a!=="Scatter2D"){if(d){this.vl(e)}else{this.Xg(e)}}if(b.length||f.length){if(d){if(b.length){this.segregateVariablesBy=f;this.bn("Samples",b[0],true)}else{this.segregateSamplesBy=b;this.bn("Variables",f[0],true)}}else{if(b.length){this.segregateVariablesBy=b;this.bn("Variables",b[0],true)}else{this.segregateSamplesBy=f;this.bn("Samples",f[0],true)}}}this.graphType=this.regressionGraph||this.graphType;this.xAxisTitle=this.regressionXTitle||"";delete this.regressionTranspose;delete this.regressionGroup;delete this.regressionGraph;delete this.regressionXTitle;this.showRegressionFit=false;if(!g){if(c&&c.length){this.hW(c)}else{this.x9({func:"removeRegression",par:[g]})}}}};this.nY=function(c,b){if(this.KV()){return}var k=this;var p,g,n,h,j,l,m,f,d,f,a,o;if(!CanvasXpress.cacheImagesReady){setTimeout(function(){k.nY(c)},100)}else{if(this.yW()){if(this.axesType=="XYZ"){n=c=="y"?this.yAxisIndices[this.yAxisCurrent]:this.xAxisIndices[this.xAxisCurrent];h=c=="y"?this.xAxisIndices[this.xAxisCurrent]:this.yAxisIndices[this.yAxisCurrent];j=this.wT(n);l=this.wT(h);m=this.K1(l);f=this.data.y.smps[n];d=this.Wg(j);this.Wc(d,m,f,this.foreground,c)}else{p=c=="y"?this.yAxisIndices:this.xAxisIndices;g=c=="y"?this.xAxisIndices:this.yAxisIndices;o=c=="y"?this.xAxisCurrent:this.yAxisCurrent;for(var e=0;e<p.length;e++){a=e%this.colors.length;n=p[e];h=g[e]?g[e]:g[o];j=this.wT(n);l=this.wT(h);m=this.K1(l);f=this.data.y.smps[n];d=this.Wg(j);this.Wc(d,m,f,this.colors[a],c)}}if(!b){this.x9({func:"addNormalDistributionLine",par:[c,b]})}}}};this.Wc=function(e,a,c,b,d){this.showDecorations=true;if(!this.decorations){this.decorations={}}if(!this.decorations.nor){this.decorations.nor=[]}if(d&&d=="y"){this.decorations.nor.push({mu:e[0],sigma:e[1],yAxis:true,max:a,label:c,color:b})}else{this.decorations.nor.push({mu:e[0],sigma:e[1],max:a,label:c,color:b})}};this.fh=function(c){if(this.KV()){return}this.isQQ=true;this.scatterType="qq";var g,n,p,r,b,f;var a={g:[],l:[],i:[]};if(this.colorBy&&this.meta.data.z[this.colorBy]&&this.meta.data.z[this.colorBy].colors){var e=this.fO(this.colorBy);var d=this.meta.data.z[this.colorBy];if(!this.layoutValid){g=this.yAxisIndices[0];for(var k=0;k<e.length;k++){n=this.iW(this.colorBy,e[k]);p=d.colors[d.order[e[k]]];r=this.CO(this.wT(g,n),n);b=this.data.y.smps[g]+":"+e[k];f="Property:"+this.colorBy+":"+e[k]+":z";a.g.push({color:p,data:r,label:b,id:f});a.i.push(b)}}else{var o=this.data.y.smps;for(var k=0;k<o.length;k++){g=k;for(var h=0;h<e.length;h++){n=this.iW(this.colorBy,e[h]);p=d.colors[d.order[e[h]]];r=this.CO(this.wT(g,n),n);b=o[g]+":"+e[h];f="Property:"+this.colorBy+":"+e[h]+":z";if(!a.l[k]){a.l[k]=[]}a.l[k].push({color:p,data:r,label:b,id:f});a.i.push(b)}}}}else{if(!this.layoutValid){g=this.yAxisIndices[0];p=this.colors[0];r=this.CO(this.wT(g),this.varIndices);b=this.data.y.smps[g];f=this.data.y.smps[g];a.g.push({color:p,data:r,label:b,id:f});a.i.push(b)}else{var o=this.data.y.smps;for(var k=0;k<o.length;k++){g=k;p=this.colors[0];r=this.CO(this.wT(g),this.varIndices);b=this.data.y.smps[g];f=this.data.y.smps[g];if(!a.l[k]){a.l[k]=[]}a.l[k].push({color:p,data:r,label:b,id:f});a.i.push(b)}}}this.meta.data.p=a;if(!c){this.WI();this.x9({func:"addQQPlot",par:[c]})}};this.Fn=function(){if(this.isQQ){var e=[];if(this.colorBy){var a=this.fO(this.colorBy);if(!this.layoutValid){var d=this.yAxisIndices[0];for(var c=0;c<a.length;c++){e.push(this.data.y.smps[d]+":"+a[c])}}else{var f=this.data.y.smps;for(var c=0;c<f.length;c++){var d=c;for(var b=0;b<a.length;b++){e.push(f[d]+":"+a[b])}}}}else{if(!this.layoutValid){e.push(this.data.y.smps[0])}else{var f=this.data.y.smps;for(var c=0;c<f.length;c++){e.push(this.data.y.smps[c])}}}if(!this.gS(e,this.meta.data.p.i)){this.fh(true)}}};this.XL=function(a){this.isQQ=false;this.scatterType=false;if(!a){this.WI();this.x9({func:"removeQQPlot",par:[a]})}};this.K4=function(c){if(this.KV()){return}this.isCDF=true;this.setMinY=null;this.setMaxY=null;this.scatterType="cdf";var n,k,p,r,b,f;var a={g:[],l:[],i:[]};if(this.colorBy&&this.meta.data.z[this.colorBy]&&this.meta.data.z[this.colorBy].colors){var e=this.fO(this.colorBy);var d=this.meta.data.z[this.colorBy];if(!this.layoutValid){n=this.xAxisIndices[0];for(var h=0;h<e.length;h++){k=this.iW(this.colorBy,e[h]);p=d.colors[d.order[e[h]]];r=this.MG(this.wT(n,k),k);b=this.data.y.smps[n]+":"+e[h];f="Property:"+this.colorBy+":"+e[h]+":z";a.g.push({color:p,data:r,label:b,id:f});a.i.push(b)}}else{var o=this.data.y.smps;for(var h=0;h<o.length;h++){n=h;for(var g=0;g<e.length;g++){k=this.iW(this.colorBy,e[g]);p=d.colors[d.order[e[g]]];r=this.MG(this.wT(n,k),k);b=o[n]+":"+e[g];f="Property:"+this.colorBy+":"+e[g]+":z";if(!a.l[h]){a.l[h]=[]}a.l[h].push({color:p,data:r,label:b,id:f});a.i.push(b)}}}}else{if(!this.layoutValid){n=this.xAxisIndices[0];p=this.colors[0];r=this.MG(this.wT(n),this.varIndices);b=this.data.y.smps[n];f=this.data.y.smps[n];a.g.push({color:p,data:r,label:b,id:f});a.i.push(b)}else{var o=this.data.y.smps;for(var h=0;h<o.length;h++){n=h;p=this.colors[0];r=this.MG(this.wT(n),this.varIndices);b=this.data.y.smps[n];f=this.data.y.smps[n];if(!a.l[h]){a.l[h]=[]}a.l[h].push({color:p,data:r,label:b,id:f});a.i.push(b)}}}this.meta.data.p=a;if(!c){this.WI();this.x9({func:"addCDFPlot",par:[c]})}};this.bH=function(){if(this.isCDF){var e=[];if(this.colorBy){var a=this.fO(this.colorBy);if(!this.layoutValid){var b=this.xAxisIndices[0];for(var d=0;d<a.length;d++){e.push(this.data.y.smps[b]+":"+a[d])}}else{var f=this.data.y.smps;for(var d=0;d<f.length;d++){var b=d;for(var c=0;c<a.length;c++){e.push(f[b]+":"+a[c])}}}}else{if(!this.layoutValid){e.push(this.data.y.smps[0])}else{var f=this.data.y.smps;for(var d=0;d<f.length;d++){e.push(this.data.y.smps[d])}}}if(!this.gS(e,this.meta.data.p.i)){this.K4(true)}}};this.ht=function(a){this.isCDF=false;this.scatterType=false;if(!a){this.WI();this.x9({func:"removeCDFPlot",par:[a]})}};this.yC=function(w){if(this.KV()){return}this.isKM=true;this.scatterType="km";var r,E,f,g,n,B,h,b,e,D,c;var u=":"+this.kmConfidenceLevel+":"+this.kmConfidenceIntervalType+":"+this.kmInvertCensored+":"+this.showKMConfidenceIntervals;var k=this.data.y.smps;var o={g:[],l:[],i:[]};var a=[];for(var A=0;A<this.yAxisIndices.length;A++){if(this.xAxisIndices.length==this.yAxisIndices.length){a.push([this.xAxisIndices[A],this.yAxisIndices[A]])}else{a.push([this.xAxisIndices[0],this.yAxisIndices[A]])}}var C=this.isDOE?this.data.l.doe:false;if(this.colorBy){var y=this.fO(this.colorBy);var x=this.meta.data.z[this.colorBy];if(!this.layoutValid||this.isDOE){for(A=0;A<a.length;A++){r=a[A][0];E=a[A][1];for(var z=0;z<y.length;z++){f=this.iW(this.colorBy,y[z],C);if(f.length){e=this.wT(r,f);c=this.wT(E,f);D=false;b=this.kmTime?this.yV(this.kmTime):false;if(b&&b>=0){D=this.wT(b,f)}g=this.kmColors[z]||x.colors[x.order[y[z]]];n=this.au(e,c,D);B=k[r]+":"+k[E]+":"+y[z]+u;h="Property:"+this.colorBy+":"+y[z]+":z";o.g.push({color:g,data:n,label:B,id:h})}o.i.push(B)}}}else{for(var A=0;A<a.length;A++){r=a[A][0];E=a[A][1];for(var z=0;z<y.length;z++){f=this.iW(this.colorBy,y[z]);if(f.length){e=this.wT(r,f);c=this.wT(E,f);D=false;b=this.kmTime?this.yV(this.kmTime):false;if(b&&b>=0){D=this.wT(b,f)}g=this.kmColors[z]||x.colors[x.order[y[z]]];n=this.au(e,c,D);B=k[r]+":"+k[E]+":"+y[z]+u;h="Property:"+this.colorBy+":"+y[z]+":z";if(!o.l[A]){o.l[A]=[]}o.l[A].push({color:g,data:n,label:B,id:h})}o.i.push(B)}}}}else{if(!this.layoutValid||this.isDOE){for(A=0;A<a.length;A++){r=a[A][0];E=a[A][1];e=this.wT(r,C);c=this.wT(E,C);D=false;b=this.kmTime?this.yV(this.kmTime):false;if(b&&b>=0){D=this.wT(b,f)}g=this.kmColors[A]||this.colors[A];n=this.au(e,c,D);B=k[r]+":"+k[E]+":"+u;h="Series:"+a[A][0]+":"+a[A][1];o.g.push({color:g,data:n,label:B,id:h});o.i.push(B)}}else{for(A=0;A<a.length;A++){r=a[A][0];E=a[A][1];e=this.wT(r);c=this.wT(E);D=false;b=this.kmTime?this.yV(this.kmTime):false;if(b&&b>=0){D=this.wT(b,f)}g=this.kmColors[A]||this.colors[A];n=this.au(e,c,D);B=k[r]+":"+k[E]+":"+u;h="Series:"+a[A][0]+":"+a[A][1];if(!o.l[A]){o.l[A]=[]}o.l[A].push({color:g,data:n,label:B,id:h});o.i.push(B)}}}if(o.g.length==2&&this.kmPvalue){var u=this.Nq(o.g[0].data,o.g[1].data);o.g[0].pValue=u;o.g[1].pValue=u}this.meta.data.p=o;if(!w){this.WI();this.x9({func:"addKMPlot",par:[w]})}};this.Jl=function(c){if(this.isKM){var a=[];var n,e;var b=":"+this.kmConfidenceLevel+":"+this.kmConfidenceIntervalType+":"+this.kmInvertCensored+":"+this.showKMConfidenceIntervals;var o=this.data.y.smps;var k=c||(this.isDOE&&this.data.l.doe.length!=this.varIndices.length)||(!this.isDOE&&this.varIndices.length!=this.data.y.vars.length)?true:false;var m=[];for(var h=0;h<this.yAxisIndices.length;h++){if(this.xAxisIndices.length==this.yAxisIndices.length){m.push([this.xAxisIndices[h],this.yAxisIndices[h]])}else{m.push([this.xAxisIndices[0],this.yAxisIndices[h]])}}if(this.colorBy){var d=this.fO(this.colorBy);if(!this.layoutValid||this.isDOE){for(h=0;h<m.length;h++){n=m[h][0];e=m[h][1];for(var g=0;g<d.length;g++){a.push(o[n]+":"+o[e]+":"+d[g]+b)}}}else{for(var h=0;h<m.length;h++){n=m[h][0];e=m[h][1];for(var g=0;g<d.length;g++){a.push(o[n]+":"+o[e]+":"+d[g]+b)}}}}else{if(!this.layoutValid||this.isDOE){for(var h=0;h<m.length;h++){n=m[h][0];e=m[h][1];a.push(o[n]+":"+o[e]+":"+b)}}else{for(var h=0;h<m.length;h++){n=m[h][0];e=m[h][1];a.push(o[n]+":"+o[e]+":"+b)}}}if(!this.gS(a,this.meta.data.p.i)||k){this.yC(true);return true}}};this.B4=function(a){this.isKM=false;this.scatterType=false;if(!a){this.WI();this.x9({func:"removeKMPlot",par:[a]})}};this.Zn=function(){if(this.isKM){this.B4()}else{this.yC()}};this.pl=function(){if(this.isKM){if(this.Jl()){this.WI();this.x9({func:"updateKaplanMeier",prop:{isKM:this.isKM}})}}};this.Oj=function(q,h,k,l){var d=0;var b=0;for(var f=0;f<this.varIndices.length;f++){var p=this.varIndices[f];for(var e=0;e<this.smpIndices.length;e++){var g=this.smpIndices[e];var o=this.data.y.data[p][g];if(!isNaN(o)){d+=o;b++}}}this.g9(false,false,false,false,q,h,d/b,"Mean",k,l);this.x9({func:"addMeanLine",par:[q,h,k]})};this.g9=function(i,f,b,g,m,e,k,d,h,j){if(!this.graphType.match(/Scatter|Network|Genome|Correlation|Venn|Circular/)){if(!this.decorations){this.decorations={}}if(!this.decorations.lines){this.decorations.line=[]}if(m&&m=="solid"){m="line"}this.decorations.line.push({type:m||"line",color:e||this.foreground,value:k||0,label:d||false,align:h||"left",width:j||1})}else{if(this.yW()){this.decorations.line.push({x:i,y:f,x2:b,y2:g,type:m||"line",color:e||this.foreground,label:d||false,align:h||"left",width:j||1})}}};this.updateData=function(G,x,z,E){var e=this;var h=false;var c=function(M,J,I){if(!h){h={World:e.cV(),USA:e.jT()}}var L=I?h.World:h.USA;var j=e.data.y[J];for(var K=0;K<j.length;K++){if(L[j[K]]===M){return K}}return -1};function o(j){if(!j){return false}const i=j.charAt(j.length-1);return !isNaN(parseInt(i,10))}delete (this.data.initialVarIndices);delete (this.data.initialSmpIndices);var f=this.$(this.targetParentNode);if(E){for(var b in E){this.meta.config.user[b]=E[b];this[b]=E[b]}}if(this.wo(G)){var l=typeof G.data=="string"&&this.isValidURL(G.data)?G.data:(G.config&&G.config.graphType=="Map"?G.data:-1);if(l===-1){if(G&&this.wo(G.data)&&this.wo(G.config)&&G.config.isNode){this.YN(G.data,!this.scatterPlotMatrix)}else{this.YN(G,!this.scatterPlotMatrix)}}else{var m=this.$(this.target+"-cX-DOM");var k=1;while(!m){m=this.$(this.target+"-cX-DOM-"+k);k++}var A=m.id.replace(/-cX-DOM$/,"");var n;if(o(A)){var B=parseInt(A.split("-").pop().replace(/\D/gi,""))+1;n=A.replace(/\d*$/,B)}else{n=this.oy(A)}if(this.target!==n){CanvasXpress.chain[this.target]=n}var q=m.parentNode;if(q.parentNode){q=q.parentNode}var p=this.$cX("canvas",{id:n,width:this.originalWidth,height:this.originalHeight});this.RO(p);q.appendChild(p);var r;if(G&&G.data){r=new CanvasXpress({renderTo:n,data:G.data,config:E||G.config})}else{G.renderTo=n;r=new CanvasXpress(G)}if(r.graphType&&r.graphType.match(/Map/)){var s=this.meta.data.y.smps.match(/USA|World/);var a=this.meta.data.y.vars.match(/USA|World/);if((s||a)&&r.data.z&&r.data.z.cXId){for(var w=0;w<r.data.z.cXId.length;w++){var C=r.data.z.cXId[w];var y=s?!!this.meta.data.y.smps.match(/World/):!!this.meta.data.y.vars.match(/World/);var F=c(C,s?"smps":"vars",y);var D=s?this.data.y.vars:this.data.y.smps;var g=s?this.data.x:this.data.z;if(F>-1){for(var u=0;u<D.length;u++){var d=D[u];if(!r.data.z.hasOwnProperty(d)){r.data.z[d]=[]}r.data.z[d][w]=s?this.data.y.data[u][F]:this.data.y.data[F][u]}if(g){for(var H in g){if(!r.data.z.hasOwnProperty(H)){r.data.z[H]=[]}r.data.z[H][w]=g[H][F]}}}}r.wD("z",false,false,true)}}r.Sn(A);r.dh()}}else{this.YN(G,!this.scatterPlotMatrix)}if(!z){if(E){this.ff()}this.qM(x)}this.hT();if(f&&f.children&&f.children[0]&&f.children[0].style){f.children[0].style.display="block"}};this.mC=function(d,g){if(d.y){if(d.y.smps&&d.y.smps.length&&d.x){for(var f in d.x){if(!this.data.x){this.data.x={}}if(!this.data.x.hasOwnProperty(f)){this.data.x[f]=[]}for(var b=0;b<d.y.smps.length;b++){var a=this.yV(d.y.smps[b]);if(a>-1){this.data.x[f][a]=d.x[f][b]}}}this.wD("x",false,false,true)}if(d.y.vars&&d.y.vars.length&&d.z){for(var f in d.z){if(!this.data.z){this.data.z={}}if(!this.data.z.hasOwnProperty(f)){this.data.z[f]=[]}for(var b=0;b<d.y.vars.length;b++){var a=this.tU(d.y.vars[b]);if(a>-1){this.data.z[f][a]=d.z[f][b]}}}this.wD("z",false,false,true)}CanvasXpress.stack[this.target].data=this.parseJSON(this.G0(this.data))}else{if(g){var e=2;while(this.data.y.hasOwnProperty("data"+e)){e++}this.data.y["data"+e]=d;CanvasXpress.stack[this.target].data=this.parseJSON(this.G0(this.data))}}};this.Hc=function(g,d){if(this.KV()){return}var b=true;if(d){this[g]=d;b=false}else{var h=false;var c=this.l4(this.includeDOE);if(this.tO(g)){this.includeDOE=g;this.WI()}else{if(c.hasOwnProperty(g)){var a=[];for(var e=0;e<this.includeDOE.length;e++){if(this.includeDOE[e]!=g){a.push(this.includeDOE[e])}}this.includeDOE=a}else{this.includeDOE.push(g);h=true}}if(this.includeDOE.length>=this.maxDOENumber+1&&h){this.layout="1X1";this.layoutTopology=false;this.maxDOENumber++}else{if(this.includeDOE.length<this.maxDOENumber+1){this.layout="1X1";this.layoutTopology=false;this.maxDOENumber--}}}this.wY(false,b,false,true);this.x9({func:"modifyDOE",par:[g,d]})};this.DS=function(b,a){if(this.graphType.match(/Map/)&&this.mapId&&!window[this.mapId]){this.JW({func:"updateDOEGraphType",par:[b,a],prop:{layoutCurrent:a}});return}if(!a){a=this.layoutCurrent}if(!this.layoutConfig[a]){this.layoutConfig[a]={}}this.layoutConfig[a].graphType=b;this.WI();this.x9({func:"updateDOEGraphType",par:[b,a],prop:{layoutCurrent:a}})};this.Nl=function(b,d,a){var e=a!=null?a:this.layoutCurrent;if(!this.layoutConfig[e]){this.layoutConfig[e]={}}this.layoutConfig[e][b+"Axis"]=d;if(b=="x"&&this.layoutConfig[e].yAxis==null){this.layoutConfig[e].yAxis=this.data.l.smps[e][0]}else{if(b=="y"&&this.layoutConfig[e].xAxis==null){this.layoutConfig[e].xAxis=this.data.l.smps[e][0]}}this.WI();this.x9({func:"updateDOEAxis",par:[b,d],prop:{layoutCurrent:this.layoutCurrent}})};this.V2=function(e,a,f){if(this.graphType.match(/Map/)&&this.mapId&&!window[this.mapId]){this.JW({func:"updateDOEGraphSize",par:[e,a,f]});return}if(a!=null){this.layoutCurrent=a}if(f){for(var d in f){this[d]=f[d]}}var g=a||0;var b=this.data.l.params[g].isTable;if(!this.layoutConfig[g]){this.layoutConfig[g]={}}if(b){this.layoutConfig[g].graphType="Table";this.layoutConfig[g].isTable=true}this.layoutConfig[g].size=e;this.wY(false,false,false,true);this.x9({func:"updateDOEGraphSize",par:[e,a,f],prop:{layoutCurrent:g}});this.layoutCurrent=g};this.Ul=function(){if(this.showHistogram){var a=this.showHistogram;this.ts(true);this.bI(a)}};this.DP=function(e){var a={};var c=this.segregateSamplesBy;var d=this.segregateVariablesBy;if(this.layoutTopology){this.layoutTopologyCurrent=this.layoutTopology.split(/X/i)}this.layoutTopology=false;for(var b=0;b<this.segregateSamplesBy.length;b++){a[this.segregateSamplesBy[b]]=true}if(a[e]){delete (a[e])}else{a[e]=true}this.segregateSamplesBy=this.Nv(a);if(d.length&&this.segregateSamplesBy.length&&this.showHistogram){this.WI();this.segregateSamplesBy=c;alert("Only one segregation factor is allowed while Histogram is set")}else{if(this.BY()){a=this.segregateSamplesBy;this.segregateSamplesBy=[];this.RQ(a,false,true)}else{this.segregateSamplesBy=c}}};this.xb=function(e){var a={};var c=this.segregateVariablesBy;var d=this.segregateSamplesBy;if(this.layoutValid&&!this.isDOE&&this.PG()&&this.meta.config.user.graphType&&this.meta.config.user.graphType!=this.graphType){this.graphType=this.meta.config.user.graphType}if(this.layoutTopology){this.layoutTopologyCurrent=this.layoutTopology.split(/X/i)}this.layoutTopology=false;for(var b=0;b<this.segregateVariablesBy.length;b++){a[this.segregateVariablesBy[b]]=true}if(a[e]){delete (a[e])}else{a[e]=true}this.segregateVariablesBy=this.Nv(a);if(d.length&&this.segregateVariablesBy.length&&this.showHistogram){this.WI();this.segregateVariablesBy=c;alert("Only one segregation factor is allowed while Histogram is set")}else{if(this.BY()){a=this.segregateVariablesBy;this.segregateVariablesBy=[];this.ly(a,false,true)}else{this.segregateVariablesBy=c}}};this.vU=function(a){var b=this.scatterPlotMatrix;this.WI();this.showScatterPlotMatrixLabels=true;this.r5();this.scatterPlotMatrixType=a;this.scatterPlotMatrix=b!==true?b:this.colorBy?this.colorBy:true;this.x9({func:"modifyLayoutType",par:[a]})};this.pK=function(b){if(this.summaryType!=b){if(this.isGroupedData){var a=this.groupingFactors;this.qO(true);this.summaryType=b;this.meta.config.user.summaryType=b;this.hW(a)}else{this.summaryType=b;this.x9({func:"modifySummaryType",par:[b]})}}};this.jo=function(a){v=a.shift();t=a[0];this.kX(t)};this.vY=function(a,b){if(a=="sample"){if(this.ratioSampleReference==b){this.ratioSampleReference=false;this.kX("reset")}else{this.ratioSampleReference=b;this.kX("ratio")}}else{if(a=="group"){if(this.ratioGroupReference==b){this.ratioLevelReference=false;this.ratioGroupReference=false;this.kX("reset")}else{this.ratioGroupReference=b;this.ratioLevelReference=false;this.kX("ratio")}this.WI()}else{if(a=="level"){this.kX("reset");if(this.ratioLevelReference==b){this.ratioLevelReference=false}else{this.ratioLevelReference=b}this.kX("ratio")}}}};this.I0=function(c){var a=false;if(this.data.x){if(this.groupingFactors.indexOf(c)==-1){this.groupingFactors.push(c);a=true}else{for(var b=0;b<this.groupingFactors.length;b++){if(this.groupingFactors[b]==c){this.groupingFactors.splice(b,1)}}a=true}if(a){this.hW(this.groupingFactors)}}};this.E6=function(c){if(this.KV()){return}var a={};for(var b=0;b<this.treemapBy.length;b++){a[this.treemapBy[b]]=true}if(a[c]){delete (a[c])}else{a[c]=true}this.treemapBy=this.Nv(a);this.x9({func:"modifyTreemapGroups",par:[c]})};this.o9=function(c){var b={};if(this.meta.data.nodes){for(var a=0;a<this.decorations.length;a++){b[this.decorations[a]]=true}if(b[c]){delete (b[c])}else{b[c]=true}b=this.Nv(b).sort();if(!this.gS(this.decorations,b)){this.decorations=b;this.x9({func:"modifyNetworkDecorations",par:[c]})}}};this.sR=function(c){if(this.KV()){return}var a={};if(this.s9()&&this.data.z){for(var b=0;b<this.varOverlays.length;b++){a[this.varOverlays[b]]=true}if(a[c]){delete (a[c])}else{a[c]=true}this.varOverlays=this.Nv(a);this.x9({func:"modifyVariableOverlays",par:[c]})}};this.m7=function(c){if(this.KV()){return}var b={};if(this.data.x){for(var a=0;a<this.smpOverlays.length;a++){b[this.smpOverlays[a]]=true}if(b[c]){delete (b[c])}else{b[c]=true}this.smpOverlays=this.Nv(b);this.x9({func:"modifySampleOverlays",par:[c]})}};this.Q0=function(){delete (this.varDendrogram);delete (this.smpDendrogram)};this.GY=function(a){if(this.KV()){return}if(this[a]){this[a]=false}else{this[a]=true}this.x9({func:"showHideDendrogram",par:[a]})};this.Qj=function(a){if(this[a]=="left"){this[a]="right"}else{if(this[a]=="right"){this[a]="left"}else{if(this[a]=="top"){this[a]="bottom"}else{if(this[a]=="bottom"){this[a]="top"}}}}};this.CX=function(a){if(this.KV()){return}this.Yu(true);if(!a){this.x9({func:"resetLegendPosition",par:[a]})}};this.KC=function(){if(this.KV()){return}this.NM();this.af();this.x9({func:"modifyColorScheme",prop:{colorScheme:this.colorScheme}})};this.OA=function(a){if(this.KV()){return}this.colorSpectrumZeroValue=parseFloat(a[0]);this.er(true);this.af();this.x9({func:"modifyColorSpectrumZeroValue",par:[a]})};this.mH=function(a){this.WI();if(this.KV()){return}if(this.colorSpectrum.includes(a)){if(this.colorSpectrum.length==2){alert("Ooops... Can't do... Need at least two colors!");return}else{this.colorSpectrum=this.x6(a,this.colorSpectrum)}}else{this.colorSpectrum.push(a)}this.er(true);this.af();this.x9({func:"modifyColorSpectrum",par:[a]})};this.zA=function(a){this.WI();if(this.KV()){return}var c=this.colorSpectrumTarget;if(CanvasXpress.colorSchemes[a][c]){this.colorSpectrum=CanvasXpress.colorSchemes[a][c]}else{var b=this.Nv(CanvasXpress.colorSchemes[a]);b.sort(function(e,d){return e-d});if(c>b[b.length-1]){c--;while(!CanvasXpress.colorSchemes[a][c]){c--}}else{c++;while(!CanvasXpress.colorSchemes[a][c]){c++}}this.colorSpectrum=CanvasXpress.colorSchemes[a][c]}this.er(true);this.af();this.x9({func:"modifyColorSpectrumByScheme",par:[a]})};this.H9=function(a,b){if(this.KV()){return}if(a){delete this.layoutRestore;this.wA(a,true);this.NM();this.af();this.Mv();if(!b){this.x9({func:"changeTheme",par:[a,b]})}}};this.Mv=function(){if(this.yW()){if(this.layoutValid){if(this.data.l){if(this.data.l.cor){for(var e=0;e<this.data.l.cor.length;e++){for(var c=0;c<this.data.l.cor[e].length;c++){var f=this.data.l.cor[e][c].id.split(":");var h=f[1];var d=f[2];var b=f[3];var a=this.meta.data[b][h].order;var g=this.meta.data[b][h].colors[a[d]];if(this.data.l.reg[e][c].fit!=this.fitLineColor){this.data.l.reg[e][c].fit=g}if(this.confidenceIntervalColorCoordinate&&this.data.l.reg[e][c].col!=this.confidenceIntervalColor){this.data.l.reg[e][c].col=g}}}}else{if(this.decorations&&this.decorations.kaplanMeier){for(var e=0;e<this.decorations.kaplanMeier.length;e++){this.decorations.kaplanMeier[e].color=this.colors[e%this.colors.length]}}}}}else{if(this.decorations){if(this.decorations.reg){for(var e=0;e<this.decorations.reg.length;e++){if(this.decorations.reg[e].id){var f=this.decorations.reg[e].id.split(":");var h=f[1];var d=f[2];var b=f[3];var a=this.meta.data[b][h].order;var g=this.meta.data[b][h].colors[a[d]];if(this.decorations.reg[e].fit!=this.fitLineColor){this.decorations.reg[e].fit=g}if(this.confidenceIntervalColorCoordinate&&this.decorations.reg[e].color!=this.confidenceIntervalColor){this.decorations.reg[e].color=g}}}}else{if(this.decorations.kaplanMeier){for(var e=0;e<this.decorations.kaplanMeier.length;e++){this.decorations.kaplanMeier[e].color=this.colors[e%this.colors.length]}}}}}}else{}};this.Ix=function(b,e,h,g){if(this.KV()){return}this.Oe(b,e,h);var a=this.meta.data[h][e];if(a.type=="Numeric"){var d=a.colorBrew.spectrum;if(this.u5(b)){d.push(b)}a.colorBrew=this.dl(d,a.rmin,a.rmax)}else{var i=a.levels.length;if(CanvasXpress.colorSchemes[b][i]){a.colors=CanvasXpress.colorSchemes[b][i]}else{var c=this.Nv(CanvasXpress.colorSchemes[b]);c.sort(function(j,f){return j-f});if(i>c[c.length-1]){i--;while(!CanvasXpress.colorSchemes[b][i]){i--}}else{i++;while(!CanvasXpress.colorSchemes[b][i]){i++}}a.colors=CanvasXpress.colorSchemes[b][i]}}if(!g){this.x9({func:"modifyColorProperties",par:[b,e,h,g]})}};this.Oe=function(b,d,e){if(this.PG()){var a=this.meta.data[e][d];if(a.type=="Numeric"){var c=a.colorBrew.spectrum;if(this.u5(b)){c.push(b)}if(e=="x"){if(!this.smpOverlayProperties){this.smpOverlayProperties={}}if(!this.smpOverlayProperties.hasOwnProperty(d)){this.smpOverlayProperties[d]={}}this.smpOverlayProperties[d]["spectrum"]=c}else{if(e=="z"){if(!this.varOverlayProperties){this.varOverlayProperties={}}if(!this.varOverlayProperties.hasOwnProperty(d)){this.varOverlayProperties[d]={}}this.varOverlayProperties[d]["spectrum"]=c}}}else{if(CanvasXpress.colorSchemes.hasOwnProperty(b)){if(e=="x"){if(!this.smpOverlayProperties){this.smpOverlayProperties={}}if(!this.smpOverlayProperties.hasOwnProperty(d)){this.smpOverlayProperties[d]={}}this.smpOverlayProperties[d]["scheme"]=b}else{if(e=="z"){if(!this.varOverlayProperties){this.varOverlayProperties={}}if(!this.varOverlayProperties.hasOwnProperty(d)){this.varOverlayProperties[d]={}}this.varOverlayProperties[d]["scheme"]=b}}}}}};this.Q8=function(b){var a=this;b=this.tO(b)?b:[b];CanvasXpress.loadFonts(b,function(){a.fontName=b[0];a.x9({func:"setFont",par:[b],prop:{layoutCurrent:a.iSDOE?a.layoutCurrent:0}})})};this.jx=function(a,e,b,d){if(this.KV()){return}if(this.isDOE){this.layoutConfig[this.layoutCurrent][a]=this[a]?false:true;if(!d){this.x9({func:"toggleAttribute",par:[a,e,b,d]})}return}this[a]=this[a]?false:true;if(this.layoutValid&&this.layoutRestore.hasOwnProperty(a)){this.layoutRestore[a]=this[a]}if(e){this.JW({func:"toggleAttribute",par:[a]});this[e](b)}else{this.x9({func:"toggleAttribute",par:[a,e,b,d]})}};this.KR=function(a,f,d,e){if(this.KV()){return}if(this.isDOE){for(var b=0;b<a.length;b++){this.layoutConfig[this.layoutCurrent][a[b]]=this[a[b]]?false:true}if(!e){this.x9({func:"toggleMultipleAttribute",par:[a,f,d,e]})}return}for(var b=0;b<a.length;b++){this[a[b]]=this[a[b]]?false:true;if(this.layoutValid&&this.layoutRestore.hasOwnProperty(a[b])){this.layoutRestore[a[b]]=this[a[b]]}}if(f){this.JW({func:"toggleMultipleAttribute",par:[a]});this[f](d)}else{this.x9({func:"toggleMultipleAttribute",par:[a,f,d,e]})}};this.hy=function(b,a,c){if(b&&a){this[b]=a=="decrease"?this[b]-c:this[b]+c;this.x9({func:"increaseDecreaseAttribute",par:[b,a,c]})}};this.MD=function(d,b,c){if(this.KV()){return}var a=this.meta.data.hasOwnProperty(d)&&this.meta.data[d].hasOwnProperty(this.colorBy)&&this.meta.data[d][this.colorBy].levels.includes(b)?this.meta.data[d][this.colorBy]:false;if(a){if(!a.hasOwnProperty("colorBy")){a.colorBy={}}a.colorBy[b]=this.u5(c);this.x9({func:"changeMetaColor",par:[d,b,c]})}};this.Bb=function(b,c,a){if(this.KV()){return}this[b][c]=a;this.x9({func:"changeArrayAttribute",par:[b,c,a]})};this.UM=function(b,a){if(b&&a){this[b]=a;this.pY({func:"changeAttributeNoDraw",par:[b,a]})}};this.My=function(e,m,j,l,a,f){if(this.KV()){return}if(this.tO(e)){e=e[0]}var h={graphType:true};var b=m;if(CanvasXpress.doc.P[e]&&CanvasXpress.doc.P[e].O&&CanvasXpress.doc.P[e].O[0]!="false"&&CanvasXpress.doc.P[e].O[0]!=false){b=m}else{if(typeof(m)=="boolean"||this.hasOwnProperty(e)){b=this[e]&&this[e]==m&&!j?false:this[e]&&this[e]==m&&j?j:m}else{if(e&&m){b=m}}}if(this.layoutValid&&e=="graphType"&&!this.isDOE){for(var g=0;g<this.data.l.type.length;g++){this.data.l.type[g]=b}}if(this.layoutValid&&this.layoutRestore&&!this.isDOE){delete this.layoutRestore}if(this.layoutValid||h.hasOwnProperty(e)){this.WI()}if(this.isDOE){this.layoutConfig[this.layoutCurrent][e]=b;if(e=="sortType"){if(!this.layoutConfig[this.layoutCurrent].sortDir){this.layoutConfig[this.layoutCurrent].sortDir=this.sortDir}else{this.layoutConfig[this.layoutCurrent].sortDir=this.layoutConfig[this.layoutCurrent].sortDir=="ascending"?"descending":"ascending"}}if(!f){this.x9({func:"changeAttribute",par:[e,m,j,l,a,f],prop:{layoutCurrent:this.iSDOE?this.layoutCurrent:0}})}return}if(e&&e=="fontName"){m=m.replace(/"/g,"");if(!CanvasXpress.fonts.hasOwnProperty(m)){return this.Q8(m)}}this[e]=b;if(e.match(/AxisGridMajor/)){this[e.replace(/AxisGridMajor/,"AxisGridMinor")]=b}if(e=="summaryType"&&this.isGroupedData){this.Qs()}if(l){this.JW({func:"changeAttribute",par:[e,m,j]});this[l](a)}else{this.x9({func:"changeAttribute",par:[e,m,j,l,a,f],prop:{layoutCurrent:this.iSDOE?this.layoutCurrent:0}})}};this.FO=function(b,a){this.GN(b,this.$(a).value)};this.GN=function(b,a){if(this.KV()){return}var f=b[0];var e=b[1];var d=b[2];if(f){if(CanvasXpress.doc.P[f]&&CanvasXpress.doc.P[f].T=="integer"){this[f]=a!==""?parseInt(a):null}else{if(CanvasXpress.doc.P[f]&&CanvasXpress.doc.P[f].T=="float"){this[f]=a!==""?parseFloat(a):null}else{if(b=="height"||b=="width"){a=Number(a)+18;if(!d){d=[a]}}else{this[f]=a;if(f.match(/[xyz]AxisTitle$/)){this[f+"Dynamic"]=false}}}}}else{d.unshift(a)}if(this.layoutValid&&this.layoutRestore.hasOwnProperty(f)){this.layoutRestore[f]=this[f]}if(e){this[e](d)}else{this.er(true);if(!this.ridgeBy&&!this.isContour){this.af()}this.x9({func:"updateTextColorAttribute",par:[b,a]})}};this.Vw=function(b,a){if(this.KV()){return}var c=this[b];if(a=="bold"){if(this[b].match(a)){this[b]=this[b].replace("bold","")}else{if(c=="italic"){this[b]="bold italic"}else{this[b]="bold"}}}else{if(a=="italic"){if(this[b].match(a)){this[b]=this[b].replace("italic","")}else{if(c=="bold"){this[b]="bold italic"}else{this[b]="italic"}}}else{this[b]=this[b].replace("bold italic","");this[b]=this[b].replace("bold","");this[b]=this[b].replace("italic","")}}this.x9({func:"setFontAttributeStyle",par:[b,a]})};this.Gh=function(b,a){if(this.KV()){return}if(a=="increase"){this[b]=this[b]*1.1}else{this[b]=this[b]/1.1}this.x9({func:"setFontAttributeSize",par:[b,a]})};this.nP=function(b,d){if(this.KV()){return}if(this.xAxis&&this.xAxis2){var c=this.l4(this.xAxis);var a=this.l4(this.xAxis2);if(d=="xAxis"){if(a[b]){if(this.xAxis2.length>1){this.yF([b],"xAxis2")}else{alert("Cannot remove "+b+" from X-Axis 2");this.WI();return}this.k6([b],d)}else{if(c[b]){if(this.xAxis.length>1){this.yF([b],d)}else{alert("Cannot remove "+b+" from X-Axis");this.WI();return}}else{this.k6([b],d)}}}else{if(d=="xAxis2"){if(c[b]){if(this.xAxis.length>1){this.yF([b],"xAxis")}else{alert("Cannot remove "+b+" from X-Axis");this.WI();return}this.k6([b],d)}else{if(a[b]){if(this.xAxis2.length>1){this.yF([b],d)}else{alert("Cannot remove "+b+" from X-Axis 2");this.WI();return}}else{this.k6([b],d)}}}}}this.x9({func:"changeVariableInAxis",par:[b,d]})};this.hg=function(e,f,b){if(this.KV()){return}if(this.yW()){var c,a,g,d;c=this.l4(this.xAxis);a=this.l4(this.yAxis);if(this.graphType=="ScatterBubble2D"||this.graphType=="Scatter3D"){g=this.l4(this.zAxis);d=true}if(f=="xAxis"){if(b){this.Xd([e],f)}else{if(a[e]&&!d){if(this.yAxis.length>1){this.df([e],"yAxis")}else{alert("Cannot remove "+e+" from Y-Axis");this.WI();return}this.p5([e],f)}else{if(g&&g[e]&&!d){if(this.zAxis.length>1){this.df([e],"zAxis")}else{alert("Cannot remove "+e+" from Z-Axis");this.WI();return}}else{if(c[e]&&!d){if(this.xAxis.length>1){this.df([e],f)}else{alert("Cannot remove "+e+" from X-Axis");this.WI();return}}else{if(d){this[f]=[];this.p5([e],f)}else{this.p5([e],f)}}}}}}else{if(f=="yAxis"){if(b){this.Xd([e],f)}else{if(c[e]&&!d){if(this.xAxis.length>1){this.df([e],"xAxis")}else{alert("Cannot remove "+e+" from X-Axis");this.WI();return}this.p5([e],f)}else{if(g&&g[e]&&!d){if(this.zAxis.length>1){this.df([e],"zAxis")}else{alert("Cannot remove "+e+" from Z-Axis");this.WI();return}}else{if(a[e]&&!d){if(this.yAxis.length>1){this.df([e],f)}else{alert("Cannot remove "+e+" from Y-Axis");this.WI();return}}else{if(d){this[f]=[];this.p5([e],f)}else{this.p5([e],f)}}}}}}else{if(f=="zAxis"){if(b){this.Xd([e],f)}else{if(c[e]&&!d){if(this.xAxis.length>1){this.df([e],"xAxis")}else{alert("Cannot remove "+e+" from X-Axis");this.WI();return}this.p5([e],f)}else{if(a[e]&&!d){if(this.yAxis.length>1){this.df([e],"yAxis")}else{alert("Cannot remove "+e+" from Y-Axis");this.WI();return}}else{if(g[e]&&!d){if(this.zAxis.length>1){this.df([e],f)}else{alert("Cannot remove "+e+" from Z-Axis");this.WI();return}}else{if(d){this[f]=[];this.p5([e],f)}else{this.p5([e],f)}}}}}}}}this.x9({func:"changeSampleInAxis",par:[e,f,b]})}};this.kI=function(){var a={sample:{"Altered-Smps":{min:1}},variable:{"Altered-Vars":{min:1}}};if(this.oncoprintNoAlterations){this.nh(false,false,false,this.oncoprintVarIndices,this.oncoprintSmpIndices);this.oncoprintVarIndices=false;this.oncoprintSmpIndices=false}else{this.oncoprintVarIndices=this.TU(this.varIndices);this.oncoprintSmpIndices=this.TU(this.smpIndices);this.toDoFilter=a;this.Gz(true,true)}};this.BF=function(j,y,x,h,e,u,b){var m=this;if(this.isDOE&&!u&&this.layoutCurrent!==false){this.layoutConfig[this.layoutCurrent].sortData=[[j,y,x]];this.x9({func:"modifySort",par:[j,y,x,h,e,u]});return}var g=["sortingSampleCategories","sortingVariables"];var c=["sortingVariableCategories","sortingSamples"];var q=y=="smp"?g:c;q=j=="cat"?[q[0]]:[q[1]];if(!this.sortingSampleCategories||b){this.sortingSampleCategories=[]}if(!this.sortingVariableCategories||b){this.sortingVariableCategories=[]}var w=function(o){var k=[];for(var n=0;n<m[o].length;n++){if(m[o][n]!=x){k.push(m[o][n])}}m[o]=k};var a=function(i){if(m[i].length<3){m[i].push(x)}else{m.WI();alert("Maximum of three sorting levels reached")}};if(x!="samples"&&x!="variables"&&j!="both"){for(var l=0;l<q.length;l++){if(!this[q[l]]){this[q[l]]=[]}var f=this.l4(this[q[l]]);var d;if(q[l]=="sortingVariables"){d=this.tU(x)}else{if(q[l]=="sortingSamples"){d=this.yV(x)}}if(d!=null&&d>=0){if(f.hasOwnProperty(x)){w(q[l])}else{a(q[l])}}else{if(f.hasOwnProperty(x)){w(q[l])}else{a(q[l])}}}}if(j=="both"){var s=this.sortingSampleCategories&&this.sortingSampleCategories.length&&this.sortingVariableCategories&&this.sortingVariableCategories.length;if(s){this.uU(this.sortingSampleCategories,true);this.sg(this.sortingVariableCategories,h)}else{if(this.sortingSampleCategories&&this.sortingSampleCategories.length){this.uU(this.sortingSampleCategories,false,h)}else{if(this.sortingVariableCategories&&this.sortingVariableCategories.length){this.sg(this.sortingVariableCategories,h)}else{this.QW(false,false,false,false,true);this.Ca(false,false,false,false,h)}}}}else{if(y=="smp"){if(j=="cat"){this.uU(this.sortingSampleCategories,h)}else{if(j=="var"){this.m6(this.sortingVariables,false,h)}else{if(x=="samples"){this.QW(false,false,false,false,h)}}}}else{if(y=="var"){if(j=="cat"){this.sg(this.sortingVariableCategories,h)}else{if(j=="smp"){this.e4(this.sortingSamples,h)}else{if(x=="variables"){this.Ca(false,false,false,false,h)}}}}else{if(j[0]=="varIndex"||j[0]=="smpIndex"||j[0]=="grpIndex"){this.sortDir=this.sortDir=="ascending"?"descending":"ascending";if(j=="varIndex"){this.Ca(this.sortDir,false,false,j[0],h)}else{this.QW(this.sortDir,false,false,j[0],h)}}}}}if(e){this.So()}};this.QW=function(f,h,e,b,g){if(this.KV()){return}this.lu("smps",f,h,false,e,b);this.PR(false,false,false,true);if(!g){this.x9({func:"sortSamples",par:[f,h,e,b,g],prop:{sortDir:this.sortDir}})}};this.uU=function(b,a){if(this.KV()){return}this.lu("smps",false,b);this.PR(false,false,false,true);if(!a){this.x9({func:"sortSamplesByCategory",par:[b,a],prop:{sortDir:this.sortDir}})}};this.m6=function(d,b,g){if(this.KV()){return}if(this.tO(d)){var c=this.tU(d);var f=[];for(var e=0;e<c.length;e++){f.push(c[e]+1)}this.lu("smps",false,false,false,f,b)}else{var e=parseInt(this.tU(d));this.lu("smps",false,false,false,e+1,b)}this.PR(false,false,false,true);if(!g){this.x9({func:"sortSamplesByVariable",par:[d,b,g],prop:{sortDir:this.sortDir}})}};this.Ca=function(f,h,e,b,g){if(this.KV()){return}this.lu("vars",f,h,e,false,b,g);this.PR(false,false,false,true);if(!g){this.x9({func:"sortVariables",par:[f,h,e,b,g],prop:{sortDir:this.sortDir}})}};this.sg=function(b,a){if(this.KV()){return}this.lu("vars",false,b);this.PR(false,false,false,true);if(!a){this.x9({func:"sortVariablesByCategory",par:[b,a],prop:{sortDir:this.sortDir}})}};this.e4=function(d,e){if(this.KV()){return}if(this.tO(d)){var a=this.yV(d);var c=[];for(var b=0;b<a.length;b++){c.push(a[b]+1)}this.lu("vars",false,false,c)}else{var b=parseInt(this.yV(d));this.lu("vars",false,false,b+1)}this.PR(false,false,false,true);if(!e){this.x9({func:"sortVariablesBySample",par:[d,e],prop:{sortDir:this.sortDir}})}};this.lH=function(b,g,q){var p=this;var s=function(){if(p.graphType=="Boxplot"){return p.graphOrientation=="horizontal"?"top":"right"}else{return p.graphOrientation=="horizontal"?"right":"top"}};var c=function(f){return(f.fontStyle||p.decorationsTextFontStyle)+" "+(parseInt(f.fontSize)||p.decorationsTextFontSize)+"px "+p.fontName};var d=this.eE(true);if(d.length){for(var j=0;j<d.length;j++){if(d[j].id==b){if(g=="type"&&q=="comparison"){if(!d[j].sample||!d[j].variable||!d[j].sample2||!d[j].variable2){alert("comparison needs 2 samples and 2 variables!");return}}if(g=="scaleFontFactor"){var n=q=="increase"?1:-1;d[j].fontSize=(d[j].fontSize||this.decorationsTextFontSize)+n}else{d[j][g]=q}if(g=="position"){var a=this.Fk(p.meta.render.objects[d[j].render],s(),true,2);var o=c(d[j]);var e=p.pb(d[j].text,o)/p.x*0.5;var n=p.pe(d[j].text,o)/p.y*0.5;switch(q){case"top":d[j].x=a[2][q][0];d[j].y=Number((a[2][q][1]-n).toFixed(2));break;case"right":d[j].x=Number((a[2][q][0]+e).toFixed(2));d[j].y=a[2][q][1];break;case"bottom":d[j].x=a[2][q][0];d[j].y=Number((a[2][q][1]+n).toFixed(2));break;case"left":d[j].x=Number((a[2][q][0]-e).toFixed(2));d[j].y=a[2][q][1];break;case"center":d[j].x=a[2][q][0];d[j].y=a[2][q][1];break}}this.x9({func:"setMarkerAttribute",par:[b,g,q]});break}}}};this.d4=function(e,a){var c=this.te(true);if(c.length){for(var b=0;b<c.length;b++){if(c[b].id==e.replace(/ $/,"")){return c[b][a]||false}}}};this.Sd=function(f,b,a){var e=this.te(true);if(e.length){for(var c=0;c<e.length;c++){if(e[c].id==f.replace(/ $/,"")){e[c][b]=a;this.x9({func:"setDecorationAttribute",par:[f,b,a]});break}}}}};CanvasXpress.prototype.initFunctionData=function(){this.add=function(b,a){return new Number(a)+new Number(b)};this.sub=function(b,a){return a-b};this.mul=function(b,a){return a*b};this.div=function(b,a){return a/b};this.sin=function(a){return Math.sin(a)};this.cos=function(a){return Math.cos(a)};this.tan=function(a){return Math.tan(a)};this.sec=function(a){return 1/Math.cos(a)};this.csc=function(a){return 1/Math.sin(a)};this.cot=function(a){return 1/Math.tan(a)};this.asin=function(a){return Math.asin(a)};this.acos=function(a){return Math.acos(a)};this.atan=function(a){return Math.atan(a)};this.asec=function(a){return Math.acos(1/a)};this.acsc=function(a){return Math.asin(1/a)};this.acot=function(a){return Math.atan(1/a)};this.sinh=function(a){return(Math.exp(a)-Math.exp(-a))*0.5};this.cosh=function(a){return(Math.exp(a)+Math.exp(-a))*0.5};this.tanh=function(a){return(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};this.sech=function(a){return 1/cosh(a)};this.csch=function(a){return 1/sinh(a)};this.coth=function(a){return 1/tanh(a)};this.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};this.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};this.atanh=function(a){return Math.log((1+a)/(1-a))*0.5};this.asech=function(a){return acosh(1/a)};this.acsch=function(a){return asinh(1/a)};this.acoth=function(a){return atanh(1/a)};this.exp=function(a){return Math.exp(a)};this.ln=function(a){return Math.log(a)};this.log=function(a){return Math.log(a)/Math.LN10};this.logb=function(b,a){return Math.log(a)/Math.log(b)};this.pow=function(b,a){return Math.pow(a,b)};this.pow10=function(a){return Math.pow(10,a)};this.sq=function(a){return a*a};this.sqrt=function(a){return Math.sqrt(a)};this.abs=function(a){return a>=0?a:-a};this.sgn=function(a){return a==0?0:(a>0?1:-1)};this.chs=function(a){return -a};this.neg=function(a){return -a};this.floor=function(a){return Math.floor(a)};this.ceil=function(a){return Math.ceil(a)};this.ip=function(a){return parseInt(a)};this.fp=function(a){return abs(a)-ip(abs(a))};this.inv=function(a){return 1/a};this.idiv=function(b,a){return parseInt(a/b)};this.mod=function(b,a){return a%b};this.and=function(b,a){return a&b};this.or=function(b,a){return a|b};this.xor=function(b,a){return a^b};this.not=function(a){return ~a};this.lt=function(b,a){return a<b?1:0};this.le=function(b,a){return a<=b?1:0};this.eq=function(b,a){return a==b?1:0};this.ne=function(b,a){return a!=b?1:0};this.ge=function(b,a){return a>=b?1:0};this.gt=function(b,a){return a>b?1:0};this.Min=function(b,a){return Math.min(a,b)};this.Max=function(b,a){return Math.max(a,b)};this.pc=function(b,a){return a*b/100};this.pcch=function(b,a){return 100*b/a};this.gammaLn=function(b){var a=new Array(76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,0.001208650973866179,-0.000005395239384953);var f=new Number(b);var e=new Number(b+5.5);var c=new Number(1.000000000190015);e-=(b+0.5)*Math.log(e);for(var d in a){c+=a[d]/++f}return Math.log(2.5066282746310007*c/b)-e};this.gammaLn2=function(a){var c=0;var f=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,0.001208650973866179,-0.000005395239384953];var b=1.000000000190015;var e,g,d;d=(g=e=a)+5.5;d-=(e+0.5)*Math.log(d);for(;c<6;c++){b+=f[c]/++g}return Math.log(2.5066282746310007*b/e)-d};this.betaCf=function(q,p,o){var i=1e-30;var g=1;var k=p+o;var t=p+1;var f=p-1;var n=1;var l=1-k*q/t;var s,e,r,j;if(Math.abs(l)<i){l=i}l=1/l;j=l;for(;g<=100;g++){s=2*g;e=g*(o-g)*q/((f+s)*(p+s));l=1+e*l;if(Math.abs(l)<i){l=i}n=1+e/n;if(Math.abs(n)<i){n=i}l=1/l;j*=l*n;e=-(p+g)*(k+g)*q/((p+s)*(t+s));l=1+e*l;if(Math.abs(l)<i){l=i}n=1+e/n;if(Math.abs(n)<i){n=i}l=1/l;r=l*n;j*=r;if(Math.abs(r-1)<3e-7){break}}return j};this.beta=function(d,e,c){var f=(d===0||d===1)?0:Math.exp(this.gammaLn2(e+c)-this.gammaLn2(e)-this.gammaLn2(c)+e*Math.log(d)+c*Math.log(1-d));if(d<0||d>1){return false}if(d<(e+1)/(e+c+2)){return f*this.betaCf(d,e,c)/e}return 1-f*this.betaCf(1-d,c,e)/c};this.betaInv=function(m,z,y){var n=1e-8;var A=z-1;var f=y-1;var q=0;var d,c,r,l,k,e,g,o,v,i,s;if(m<=0){return 0}if(m>=1){return 1}if(z>=1&&y>=1){r=(m<0.5)?m:1-m;l=Math.sqrt(-2*Math.log(r));g=(2.30753+l*0.27061)/(1+l*(0.99229+l*0.04481))-l;if(m<0.5){g=-g}o=(g*g-3)/6;v=2/(1/(2*z-1)+1/(2*y-1));i=(g*Math.sqrt(o+v)/v)-(1/(2*y-1)-1/(2*z-1))*(o+5/6-2/(3*v));g=z/(z+y*Math.exp(2*i))}else{d=Math.log(z/(z+y));c=Math.log(y/(z+y));l=Math.exp(z*d)/z;k=Math.exp(y*c)/y;i=l+k;if(m<l/i){g=Math.pow(z*i*m,1/z)}else{g=1-Math.pow(y*i*(1-m),1/y)}}s=-this.gammaLn2(z)-this.gammaLn2(y)+this.gammaLn2(z+y);for(;q<10;q++){if(g===0||g===1){return g}e=this.beta(g,z,y)-m;l=Math.exp(A*Math.log(g)+f*Math.log(1-g)+s);k=e/l;g-=(l=k/(1-0.5*Math.min(1,k*(A/g-f/(1-g)))));if(g<=0){g=0.5*(g+l)}if(g>=1){g=0.5*(g+l+1)}if(Math.abs(l)<n*g&&q>0){break}}return g};this.lowRegGamma=function(r,s){var p=this.gammaLn(r);var f=r;var m=1/r;var t=m;var q=s+1-r;var o=1/1e-30;var n=1/q;var k=n;var g=1;var e=-~(Math.log((r>=1)?r:1/r)*8.5+r*0.4+17);var j,l;if(s<0||r<=0){return Number.NaN}else{if(s<r+1){for(;g<=e;g++){m+=t*=s/++f}return(m*Math.exp(-s+r*Math.log(s)-(p)))}}for(;g<=e;g++){j=-g*(g-r);q+=2;n=j*n+q;o=q+j/o;n=1/n;k*=n*o}return(1-k*Math.exp(-s+r*Math.log(s)-(p)))};this.gammaPinv=function(c,i){var g=0;var d=i-1;var h=1e-8;var b=this.gammaLn(i);var k,f,o,n,e,m,l;if(c>=1){return Math.max(100,i+100*Math.sqrt(i))}if(c<=0){return 0}if(i>1){m=Math.log(d);l=Math.exp(d*(m-1)-b);e=(c<0.5)?c:1-c;o=Math.sqrt(-2*Math.log(e));k=(2.30753+o*0.27061)/(1+o*(0.99229+o*0.04481))-o;if(c<0.5){k=-k}k=Math.max(0.001,i*Math.pow(1-1/(9*i)-k/(3*Math.sqrt(i)),3))}else{o=1-i*(0.253+i*0.12);if(c<o){k=Math.pow(c/o,1/i)}else{k=1-Math.log(1-(c-o)/(1-o))}}for(;g<12;g++){if(k<=0){return 0}f=this.lowRegGamma(i,k)-c;if(i>1){o=l*Math.exp(-(k-d)+d*(Math.log(k)-m))}else{o=Math.exp(-k+d*Math.log(k)-b)}n=f/o;k-=(o=n/(1-0.5*Math.min(1,n*((i-1)/k-1))));if(k<=0){k=0.5*(k+o)}if(Math.abs(o)<h*k){break}}return k};this.tinv=function(c,d,b){if(b){c/=2}var a=this.betaInv(2*Math.min(c,1-c),0.5*d,0.5);a=Math.sqrt(d*(1-a)/a);return(c>0.5)?a:-a};this.gamma=function(a){return Math.exp(this.gammaLn(a))};this.fact=function(b){var a=new Number(b);if(b<=1){return 1}if(b>100||(b%1)){return Math.exp(this.gammaLn(b+1))}while(--b){a*=b}return a};this.comb=function(b,a){return Math.floor(0.5+Math.exp(this.gammaLn(a+1)-this.gammaLn(b+1)-this.gammaLn(a-b+1)))};this.perm=function(b,a){return Math.floor(0.5+Math.exp(this.gammaLn(a+1)-this.gammaLn(a-b+1)))};this.gcd=function(d,c){if(d==0){return(c||1)}return(c?this.gcd(c,d%c):d)};this.lcm=function(d,c){return(d/this.gcd(d,c))*c};this.prime=function(e){var c=new Number(5);var a=new Number(4);var b=parseInt(e/c);if(e==2||e==3||e==5){return 1}if(e<5||(e&1)==0||(e%3)==0){return 0}while(c*b<e&&c<b){b=parseInt(e/(c+=(a=6-a)))}return(c*b==e?0:1)};this.kG=function(a){if(a=="neg"){return false}return/^(\d+\.\d+|\d+\.?|\.\d+)(e[-+]?\d+)?|\w+$/.test(a)};this.uA=function(f){var b;var a=[];var d=new String("");var c=/(\d+\.\d+|\d+\.?|\.\d+)(e[-+]?\d+)?|[xy]|[a-z]+|[-+*\/(),^]|<=?|>=?|==|!=|&&|\|\|/g;f=f.toLowerCase();f=f.replace(/\s/g,"");f=f.replace(/\+\+/g,"+");f=f.replace(/\+-/g,"-");f=f.replace(/-\+/g,"-");f=f.replace(/--/g,"+");f=f.replace(/^\+/,"");f=f.replace(/([(*\/&\|<>=])\+/g,"$1");f=f.replace(/^-/,"neg ");f=f.replace(/([(*\/&\|<>=])-/g,"$1neg ");f=f.replace(/\)(\(|\w)/g,")*$1");f=f.replace(/(\d)\(/g,"$1*(");while(b=c.exec(f)){if(this.kG(d)&&this.kG(b[0].toString())){a.push("*")}a.push(d=b[0])}return a};this.UH=function(a){return/^(\d+\.\d+|\d+\.?|\.\d+)(e[-+]?\d+)?|[)xye]|pi|rand$/.test(a)};this.hB=function(e){var b={sin:16,cos:16,tan:16,sec:16,csc:16,cot:16,asin:16,acos:16,atan:16,asec:16,acsc:16,acot:16,sinh:16,cosh:16,tanh:16,sech:16,csch:16,coth:16,asinh:16,acosh:16,atanh:16,asech:16,acsch:16,acoth:16,exp:16,ln:16,log:16,logb:16,pow:16,sq:16,sqrt:16,abs:16,sgn:16,chs:16,floor:16,ceil:16,ip:16,fp:16,inv:16,min:16,max:16,gamma:16,fact:16,comb:16,perm:16,rand:16,gcd:16,lcm:16,prime:16,and:16,or:16,xor:16,x:16,y:16,pi:16,e:16,neg:15,not:15,"^":14,"*":13,"/":13,mod:13,div:13,"+":12,"-":12,"<":10,"<=":10,"==":10,"!=":10,">=":10,">":10,"&&":5,"||":4,",":1};var c=new String();var d=new String("");var a=new Array();var f=new Array();while(c=e.shift()){if(c=="("){a.push(c)}else{if(b[c]){while(a.length&&a[a.length-1]!="("&&b[a[a.length-1]]>=b[c]){f.push(a.pop())}if(c==","&&!this.UH(d)){f.push("Unexpected: "+d)}if(c!=","){a.push(c)}}else{if(c==")"){if(!this.UH(d)){f.push("Unexpected: "+d)}while(a.length&&a[a.length-1]!="("){f.push(a.pop())}if(a.length==0){f.push("Unmatched: )")}a.pop()}else{if(/^[-+]?(\d+\.?|\d*\.\d+)(e[-+]?\d+)?$/.test(c)){f.push(c)}else{f.push("Unknown: "+c)}}}}d=c}if(!this.UH(d)){f.push("Unexpected: "+d)}while(c=a.pop()){if(c=="("){f.push("Unmatched: (")}f.push(c)}return f};this.VM=function(e){var d={sin:1,cos:1,tan:1,sec:1,csc:1,cot:1,asin:1,acos:1,atan:1,asec:1,acsc:1,acot:1,sinh:1,cosh:1,tanh:1,sech:1,csch:1,coth:1,asinh:1,acosh:1,atanh:1,asech:1,acsch:1,acoth:1,exp:1,ln:1,log:1,logb:2,pow:2,sq:1,sqrt:1,abs:1,sgn:1,chs:1,floor:1,ceil:1,ip:1,fp:1,inv:1,min:2,max:2,gamma:1,fact:1,comb:2,perm:2,gcd:2,lcm:2,prime:1,and:2,or:2,xor:2,neg:1,not:1,"^":2,"*":2,"/":2,mod:2,div:2,"+":2,"-":2,"<":2,"<=":2,"==":2,"!=":2,">=":2,">":2,"&&":2,"||":2};var a=new Number(0);var c=new String();for(var b=0;b<e.length;b++,a++){if(/^Un(matched|known|expected).*/.test(c=e[b])){return c}if(d[c]){if(a<d[c]){return"Invalid use of: "+c}a-=d[c]}}return a==1?false:(e.length?"Unused arguments":"No function")};this.bh=function(f,b,g){var e={"+":"add","-":"sub","*":"mul","/":"div","!":"fact","x^y":"pow","^":"pow","10^":"pow10",div:"idiv","<":"lt","<=":"le","==":"eq","!=":"ne",">=":"ge",">":"gt","%":"pc","%ch":"pcch"};var a=new Array();var d=new String();for(var c=0;c<f.length;c++){d=f[c];if(d=="x"){a.push(b)}else{if(d=="y"){a.push(g)}else{if(d=="pi"){a.push(Math.PI)}else{if(d=="e"){a.push(Math.E)}else{if(d=="rand"){a.push(Math.random())}else{if(this[e[d]||d]){a.push(this[e[d]||d](a.pop(),this[e[d]||d].length>1?a.pop():0))}else{a.push(d)}}}}}}if(isNaN(a[a.length-1])){return Number.NaN}}return parseFloat(a.pop())};this.wX=function(j,g){var k={vars:[],smps:["X","Y"],data:[]};var q=256;var f=this.setMinX?this.setMinX:(0-1);var b=this.setMaxX?this.setMaxX:(1-0);var e=this.setMinY?this.setMinY:(0-1);var a=this.setMaxY?this.setMaxY:(1-0);var p=(b-f)/q;var o=(a-e)/q;var c=1;if(g==1){var m=f;for(var h=0;h<q;h++){var l=this.bh(j,m,0);if(isNaN(l)){l=""}m+=p;k.vars.push("v"+c);k.data.push([m,l]);c++}}else{var l=e;for(var h=0;h<q;h++){var m=this.bh(j,0,l);if(isNaN(m)){m=""}l+=o;k.vars.push("v"+c);k.data.push([m,l]);c++}}return k};this.Y2=function(m){var o={vars:[],smps:["X","Y","Z"],data:[]};var f=[];var s=[];var l=[];var t=25;var g=this.setMinX?this.setMinX:-Math.PI/2;var b=this.setMaxX?this.setMaxX:Math.PI/2;var e=this.setMinY?this.setMinY:-Math.PI/2;var a=this.setMaxY?this.setMaxY:Math.PI/2;var c=1;for(var k=0;k<=t;k++){var q=e+(a-e)*k/t;for(var h=0;h<=t;h++){var r=g+(b-g)*h/t;var p=this.bh(m,r,q);if(!isFinite(p)){p=0}o.vars.push("v"+c);o.data.push([r,p,q]);f.push(r);s.push(q);l.push(p);c++}}return o};this.Mx=function(){var d=this.hB(this.uA(this.data.fx));var c=this.VM(d);if(c){alert(c);return}var a=0;for(var b in d){if(d[b]=="x"){a|=1}else{if(d[b]=="y"){a|=2}}}if(a==0){a=1}if(a==3){this.data.y=this.Y2(d);this.graphType="Scatter3D"}else{this.data.y=this.wX(d,a);this.graphType="Scatter2D";this.lineType="spline"}this.scatterType="function"}};CanvasXpress.prototype.initRemote=function(){this.br=function(c,b,i,f,a,k){var j=new XMLHttpRequest();if(!j||!c){return}var d=(a==="POST")?"POST":"GET";var e=c;var h=[];if(b){for(var g in b){if(b.hasOwnProperty(g)){h.push(encodeURIComponent(g)+"="+encodeURIComponent(b[g]))}}}h.push("uid="+new Date().getTime());if(d==="GET"){e+=(e.indexOf("?")===-1?"?":"&")+h.join("&")}j.onreadystatechange=function(){if(j.readyState===4&&j.status===200){if(!i){return}var m;if(f==="binary"){var l=new FileReader();l.onload=function(){if(k){i.call(k,this.result)}else{i(this.result)}};l.readAsBinaryString(j.response);return}else{if(f==="json"){try{m=JSON.parse(j.responseText.replace(/[\n\r]/g,""))}catch(n){console.error("Error parsing JSON response:",n);return}}else{m=j.response}}if(k){i.call(k,m)}else{i(m)}}};j.open(d,e,true);if(d==="GET"){if(!f||f==="text"||f==="json"){j.responseType="text"}else{if(f==="blob"){j.responseType="blob"}else{if(f==="arraybuffer"){j.responseType="arraybuffer"}else{if(f==="binary"){j.responseType="blob"}}}}}else{j.setRequestHeader("Content-type","application/x-www-form-urlencoded")}j.send(d==="POST"?h.join("&"):null)};this.CB=function(){return[this.originalWidth,this.originalHeight]};this.Vh=function(d,e){var a=["resizable","responsive","aspectratio"];var c=false;a.forEach(function(f){var g=this.meta.canvas.ctx.canvas.getAttribute(f);if(g){d.meta.canvas.ctx.canvas.setAttribute(f,g);c=true}},this);var b=d.width!==this.width||d.height!==this.height;if(c||b||e){d.afterRendering=true;d.setDimensions(this.width,this.height);d.resizable=this.resizable;d.resizableX=this.resizableX;d.resizableY=this.resizableY;d.afterRendering=false}};this.gj=function(d){var c=d;var a=0;var b=this.$(d);while(b){if(d.match(/-\d*$/)){a=Number(d.split("-").pop())+1;d=d.replace(/\d*$/,a)}else{a++;d=c+"-"+a}b=this.$(d)}if(c!==d){CanvasXpress.chain[c]=d}return d};this.Hq=function(c,a){var b=this;var d=[];if(!c||a.graphType==="Map"){return d}c.forEach(function(f){var g=f[0];var e=f[1];if(g==="segregate"){if(e[0]==="Variables"){d.push(["segregateVariables",b.i4(e[1])])}else{if(e[0]==="Samples"){d.push(["segregateSamples",b.i4(e[1])])}}}else{d.push(b.TU(f))}});return d};this.bY=function(f,g,a,h){var b=f.config;var d=a.config||(a.data&&a.data.config);if(b.graphType==="Network"&&b.is3DNetwork&&b.hasOwnProperty("calculateLayout")){b.calculateLayout=true}if(g.length&&b.graphType!=="Network"){b.skipRender=!(g.length===1&&g[0][0]==="setDimensions")}var c=new CanvasXpress(f);if(!c||typeof c.$!=="function"){return}c.isUpdateRemoteData=true;c.target0=this.target0||this.target;this.nv(false,true);if(c.graphType==="Map"&&c.mapId&&!this.wo(window[c.mapId])){this.Sn(this.target);if(g.length){CanvasXpress.stack[c.target].afterRender=g}return}this.Sn(this.target);this.dh();if(d){if(c.imagesToLoad.length){c.XH(c.imagesToLoad,g);return}var e=false;if(g.length===1&&g[0][0]==="setDimensions"){g=[];e=true}c.Hz(g);c.skipRender=false;this.Vh(c,e);c.WI();c.stackInitial=(c.stackInitial||0)+1}if(a.info){c.UF(a.info)}if(this.showCode){c.pt()}if(h){h(c)}if(this.userEvents.remoteupdate){this.userEvents.remoteupdate.call(c,true,false,c)}};this.F2=function(e,n){var h=this;var k=(e&&e.data)||(e&&e.config&&e.config.graphType==="Map")||(e&&e.config&&e.config.graphType==="Genome"&&e.tracks);if(!k){return}var f=e.config?e:e.data;var i=e.renderTo||this.oy("-cX-data-url-");f.renderTo=this.gj(i);var b=this.$(this.target+"-cX-DOM").parentNode;if(!b){return}var j=this.CB();var d=(f.config&&f.config.width)?f.config.width:j[0];var m=(f.config&&f.config.height)?f.config.height:j[1];this.m5(f.renderTo,b,d,m);this.isUpdateRemoteData=true;if(f.config){f.config.skipRender=this.lA(f.config)&&f.config.graphType!=="Network";var a=CanvasXpress.parametersLLM;var g=this.SC();a.forEach(function(o){if(g[o]){f.config[o]=g[o]}})}var l=this.Hq(e.afterRender,f.config);delete f.afterRender;if(f.data){this.Hx(f.data);delete f.data.l;delete f.data.w}if(f.config&&f.config.isCxplot&&f.config.aes){f.config.aes.afterRenderN=l.length}var c=function(){h.bY(f,l,e,n)};if(f.config&&f.config.useLeaflet){CanvasXpress.loadLeaflet(c,this)}else{c.call(this)}}};CanvasXpress.prototype.initGraph=function(){this.x9=function(e){var a=e&&e.width?e.width:false;var d=e&&e.height?e.height:false;var c=e&&e.network?e.network:false;var b=e&&e.noImages?e.noImages:false;this.VC();this.ls();this.Zh();this.JW(e);this.GW("draw - "+(e?e.func:""));this.qM(true,a,d,false,c,b,false,e);this.hT()};this.Fi=function(g,c){var j=g&&(g.shiftKey||g.ctrlKey||g.altKey||g.metaKey);if(j){this.se(false,true)}var a=this.showRegressionFit?{transpose:this.regressionTranspose,key:this.showRegressionFit}:false;if(a){this.iD(true)}var d=this.TU(this.varIndices);var f=this.TU(this.smpIndices);var h=this.TU(this.grpIndices);var b=this.TU(this.backgroundImage);var i=this.SC(["widthFactor"]);this.bb(g);if(this.sorting){this.varIndices=d;this.smpIndices=f;this.grpIndices=h}if(this.isCxplot){this.mh(i)}if(this.isQQ||this.isCDF||this.isCxplot){this.setMinX=null;this.setMaxX=null;this.setMinY=null;this.setMaxY=null}if(a){this.Xq(a.transpose,a.key,true)}if((this.data.y&&this.data.y.pie)||this.graphType=="Pie"){this.xAxis=false;this.yAxis=false;this.graphType="Pie"}if(this.data.y&&this.data.y.treemap){this.xAxis=false;this.yAxis=false;this.graphType="Treemap"}if(this.graphType=="Scatter2D"&&this.scatterType=="visium"){this.backgroundImage=b;this.isVisiumFlipped=false;this.fV(CanvasXpress.cacheImages[this.KU(b)])}if(!c){this.x9({func:"redraw",par:[g]})}};this.pY=function(a){this.JW(a)};this.Pr=function(a){switch(a){case"Bar":case"Line":case"Area":case"AreaLine":case"Dotplot":case"Heatmap":case"Stacked":case"StackedPercent":case"Boxplot":case"Correlation":case"Treemap":case"TagCloud":case"ParallelCoordinates":case"Sankey":case"Tree":case"Pie":case"Circular":case"Map":case"BarLine":case"DotLine":case"StackedLine":case"StackedPercentLine":if(this.data.y){return true}else{return false}case"Scatter2D":if(this.data.y&&this.data.y.smps&&this.data.y.smps.length>1){return true}else{return false}case"ScatterBubble2D":case"Scatter3D":if(this.data.y&&this.data.y.smps&&this.data.y.smps.length>2){return true}else{return false}case"Venn":if(this.data.venn){return true}else{return false}case"Network":if(this.data.nodes){return true}else{return false}case"Genome":if(this.data.tracks){return true}else{return false}}return false};this.rm=function(){if((!this.sankeySource||!this.sankeyTarget)&&this.data.x){if(!this.sankeySource&&this.data.x.hasOwnProperty("Source")){this.sankeySource="Source"}if(!this.sankeyTarget&&this.data.x.hasOwnProperty("Target")){this.sankeyTarget="Target"}var b=this.meta.data.x;var p=this.hr("x","String");var l=[];if(p.length>=2){if(this.sankeyAxes.length){for(var g=0;g<this.sankeyAxes.length;g++){if(p.includes(this.sankeyAxes[g])){l.push(this.sankeyAxes[g])}}}else{if(this.xAxis.length>1){for(var g=0;g<this.xAxis.length;g++){if(p.includes(this.xAxis[g])){l.push(this.xAxis[g])}}if(l.length<2){l=p.sort()}this.xAxis=[this.data.y.vars[0]]}else{l=p.sort()}}this.sankeyAxes=l}if(l.length==2){var h=[];for(var g=0;g<l.length;g++){if(b[l[g]].type=="String"){h.push(l[g])}}if(h.length>0){if(!this.sankeySource){this.sankeySource=h.shift()}if(!this.sankeyTarget){if(h.length>0){this.sankeyTarget=h.shift()}else{this.sankeyTarget=this.sankeySource}}}}else{if(l.length>2){var o={nodes:[],links:[]};var a=0;var b={};for(var g=0;g<l.length-1;g++){for(var e=0;e<this.smpIndices.length;e++){var c=this.smpIndices[e];var r=this.data.x[l[g]][c];var q=this.data.x[l[g+1]][c];b[r]=true;b[q]=true;o.links.push({source:r,target:q,value:this.data.y.data[0][c],parent:c,id:a++})}}a=0;for(var g in b){o.nodes.push({name:g,id:a++})}this.data.sankey=o}}}this.xAxisIndices[0]=this.tU(this.xAxis[0]);this.jY()};this.YQ=function(b,c){if(this.isGGMatrix&&this.cacheGGMatrix){for(var a in this.cacheGGMatrix){if(b){this[a]=this.cacheGGMatrix[a]}else{if(a.match(/layout/)){this[a]=true}else{this[a]=false}}}if(c){this.x9({func:"resetGgmatrix",par:[b,c]})}}};this.kv=function(a){if(this.graphType=="Tree"){this.xAxisIndices[0]=this.tU(this.xAxis[0]);this.hM("tree")}else{if(this.graphType=="Circular"&&this.circularType=="sunburst"){if(this.groupingFactors.length>0&&!this.hierarchy.length){this.hierarchy=this.TU(this.groupingFactors);this.groupingFactors=[]}}else{if(this.graphType=="Circular"&&this.circularType=="bubble"){if(this.groupingFactors.length>0&&!this.hierarchy.length){this.hierarchy=this.TU(this.groupingFactors);this.groupingFactors=[]}this.xAxisIndices[0]=this.tU(this.xAxis[0]);this.hM("bubble")}else{if(this.graphType=="Sankey"&&!this.moveSankeyId){this.rm()}else{if(this.aes.weight&&!this.data.y.vars.includes(this.aes.weight)){this.Ij(this.aes.weight,true);this.vl("counts",true);this.QI(false,true);this.L6()}else{if(this.isCxplot&&(this.stringSampleFactors.length||this.stringVariableFactors.length)){this.zd(this.stringSampleFactors[0],true,true);this.zd(this.stringVariableFactors[0],false,true);this.stringSampleFactors=[];this.stringVariableFactors=[]}else{if(this.isCxplot&&a&&a.par&&(a.par.stringSampleFactors||a.par.stringVariableFactors)){if(a.par.stringSampleFactors.length){this.zd(a.par.stringSampleFactors[0],true,true)}if(a.par.stringVariableFactors.length){this.zd(a.par.stringVariableFactors[0],false,true)}}else{if(this.yW()&&this.scatterPlotMatrix&&!this.isDOE){this.tI()}else{if(this.graphType.match(/Pie/)&&this.xAxis.length>1&&!this.isDOE){this.GH()}}}}}}}}}};this.Gd=function(){if(this.initialSize!=null){var c=this.sizeStep&&this.sizeStep>0?this.sizeStep:4;this.sizes=[];for(var a=0;a<20;a++){var b=this.initialSize+(a*c);this.sizes.push(b)}this.wD()}};this.nu=function(){var a=[];if(this.graphType=="Network"&&this.wo(this.data)){for(var b=0;b<this.data.nodes.length;b++){var c=this.data.nodes[b];if(c.imagePath){a.push(c.imagePath)}}}return a};this.ZV=function(){var a=[];if(this.decorations&&this.decorations.hasOwnProperty("image")&&this.decorations.image.length){for(var b=0;b<this.decorations.image.length;b++){if(this.decorations.image[b].src){a.push(this.decorations.image[b].src)}}}return a};this.XH=function(a,f){var d=this;var e=this.imageTimeOut/this.imageMaxTries;var c=function(h,g){var i=g?d.backgroundImageMD5:d.KU(h);return CanvasXpress.images[i]?true:CanvasXpress.cacheImages.hasOwnProperty(i)&&typeof(CanvasXpress.cacheImages[i])=="object"};for(var b=0;b<a.length;b++){if(!c(a[b],a[b]==this.backgroundImageMD5)&&this.imageTries<this.imageMaxTries){this.imageTries++;setTimeout(function(){d.XH(a,f)},e);return}}this.Hz(f)};this.qM=function(o,j,g,l,t,h,k,e){var a=this;var m=0;var d=[];var f=[];var c=this.imageTimeOut/this.imageMaxTries;var s=function(u,i){var v=i?a.backgroundImageMD5:a.KU(u);return CanvasXpress.images[v]?true:CanvasXpress.cacheImages.hasOwnProperty(v)&&typeof(CanvasXpress.cacheImages[v])=="object"};var r=function(){for(var u=0;u<d.length;u++){if(CanvasXpress.images[d[u]]){continue}if(!s(d[u],d[u]==a.backgroundImageMD5)){return false}}return true};var q=function(w,v){var u=a.$(w.split("//")[1]);if(u){if(u.tagName.toUpperCase()!="IMG"){u=u.getElementsByTagName("img")[0]}if(u){if(u.src){var i=new Image;i.id=w;CanvasXpress.stack[a.target].config.backgroundImageSrc=btoa(u.src.replace("data:image/png;base64,",""));a.isVisiumFlipped=false;i.onload=v;i.src=u.src}else{if(a.imageTries>a.imageMaxTries){var i=new Image;i.id=w;i.onload=v;i.src=CanvasXpress.png}else{a.imageTries++;setTimeout(function(){q(w,v)},c)}}}else{if(a.imageTries<a.imageMaxTries){a.imageTries++;setTimeout(function(){q(w,v)},c)}else{var i=new Image;i.id=w;i.onload=v;i.src=CanvasXpress.png}}}else{if(a.backgroundImageSrc){var i=new Image;i.id=w;a.isVisiumFlipped=false;i.onload=v;i.src="data:image/png;base64,"+atob(a.backgroundImageSrc)}else{if(v){if(a.graphType=="Scatter2D"&&a.scatterType=="visium"){a.scatterType=false;a.backgroundType="solid"}v()}}}};this.DW();this.sP();if(this.graphType=="Network"){d=this.nu()}if(this.decorations&&this.decorations.hasOwnProperty("image")&&this.decorations.image.length){var p=this.ZV();for(var n=0;n<p.length;n++){d.push(p[n])}}if(this.images.length){for(var n=0;n<this.images.length;n++){d.push(this.images[n])}}if(this.backgroundImage){if(Array.isArray(this.backgroundImage)){this.backgroundImageMD5=this.HI(this.backgroundImage);d.push(this.backgroundImageMD5)}else{d.push(this.backgroundImage)}}CanvasXpress.cacheImagesReady=true;this.imagesToLoad=this.TU(d);if(d.length>0&&!r()&&!h){for(var n=0;n<d.length;n++){if(!s(d[n],d[n]==this.backgroundImageMD5)){f.push(d[n])}}for(var n=0;n<d.length;n++){if(!s(d[n],d[n]==this.backgroundImageMD5)){var b=new Image();b.id=d[n];if(d[n]==this.backgroundImageMD5&&Array.isArray(this.backgroundImage)){b.onload=function(){CanvasXpress.cacheImages[a.backgroundImageMD5]=this;m++;CanvasXpress.cacheImagesReady=m==f.length;if(CanvasXpress.cacheImagesReady){if(!k){a.skipRender=false;a.Xa(o,j,g,l,t,e);a.dU("drawGraph")}}};if((CanvasXpress.system.isR&&!CanvasXpress.system.isInIframe)||!CanvasXpress.system.isR||!CanvasXpress.system.isJupyter){b.crossOrigin="anonymous"}b.src=this.gR(this.backgroundImage)}else{b.onload=function(){if(this.src){if(a.backgroundImage&&this.id==a.backgroundImage){a.backgroundImage=this.src}CanvasXpress.cacheImages[a.KU(this.src)]=this;m++;CanvasXpress.cacheImagesReady=m==f.length;if(a.networkVendor=="Kegg"){a.networkFreeze=false}if(a.graphType=="Scatter2D"&&a.scatterType=="visium"&&!a.visiumFlip&&!a.visiumSetMinMaxYFlip){a.fV(this)}if(CanvasXpress.cacheImagesReady){if(!k){a.skipRender=false;a.Xa(o,j,g,l,t,e);a.dU("drawGraph")}}}else{if(!k){a.skipRender=false;a.Xa(o,j,g,l,t,e);a.dU("drawGraph")}}};if((CanvasXpress.system.isR&&!CanvasXpress.system.isInIframe)||!CanvasXpress.system.isR||!CanvasXpress.system.isJupyter){b.crossOrigin="anonymous"}if(d[n].match(/^javascript:\/\//)){if(!a.isVisiumFlipped){q(d[n],b.onload)}}else{b.src=d[n]}}}}}else{if(!k&&!this.skipRender){this.Xa(o,j,g,l,t,e)}}};this.fV=function(a){if(a&&this.graphType=="Scatter2D"&&this.scatterType=="visium"&&!this.visiumFlip&&!this.isVisiumFlipped){var b=this.meta.config.user&&this.meta.config.user.setMinY!=null?this.meta.config.user.setMinY:false;var d=this.meta.config.user&&this.meta.config.user.setMaxY!=null?this.meta.config.user.setMaxY:false;if(b!=null&&d!=null&&b==this.setMinY&&d==this.setMaxY){var c=this.setMaxY;if(this.setMinY!=null){this.setMaxY=a.height-this.setMinY}if(this.setMaxY!=null){this.setMinY=a.height-c}}this.isVisiumFlipped=[this.setMinY,this.setMaxY]}};this.Ic=function(c){var b=this.zL(c);var a=b.lastChild.lastChild;var d=a.options[a.selectedIndex].value;this.toDoFilter={};if(d!="All"){this.toDoFilter={};this.toDoFilter[b.args[0]]={};this.toDoFilter[b.args[0]][b.args[1]]={};this.toDoFilter[b.args[0]][b.args[1]]["exact"]=[d]}this.filteringStringOn=true;this.Gz(false,false,c);this.filteringStringOn=false;return false};this.Gm=function(d){var c=this.zL(d);var g=c.parentNode;var a=g.getElementsByTagName("input");var f;for(var b=0;b<a.length;b++){if(a[b].checked){f=a[b].value;break}}this.toDoFilter={};this.toDoFilter[c.args[0]]={};this.toDoFilter[c.args[0]][c.args[1]]={};this.toDoFilter[c.args[0]][c.args[1]]["exact"]=[f];this.filteringStringOn=true;this.Gz(false,false,d);this.filteringStringOn=false;return false};this.P3=function(d){var c=this.zL(d);var g=c.parentNode;var a=g.getElementsByTagName("input");var f;for(var b=0;b<a.length;b++){if(a[b].checked){f=a[b].value;break}}if(f=="Yes"){this[this.htmlWidget]=true}else{this[this.htmlWidget]=false}this.x9();return false};this.dO=function(b,a){if(a){this[b](a,"change",this.Ic,false)}};this.rA=function(b,a){if(a){this[b](a.lastChild.lastChild,"click","clickRadioDataFilter",[],false)}};this.rg=function(b,a){if(a){this[b](a.lastChild.lastChild,"click","clickBooleanParameter",[],false)}};this.QO=function(){var i={type:"Boolean",levels:["Yes","No"]};var f=this.$(this.target+"-cX-Container-HTMLWidgets");if(f){if(f.childNodes.length){switch(f.type){case"numeric":if(!this.filteringNumericOn){this.GT("removeEvtListener",f);f.removeChild(f.childNodes[0])}break;case"dropdown":if(!this.filteringStringOn){this.dO("removeEvtListener",f);f.removeChild(f.childNodes[0])}break;case"radio":if(!this.filteringStringOn){this.rA("removeEvtListener",f);f.removeChild(f.childNodes[0])}break;case"boolean":this.rg("removeEvtListener",f);f.removeChild(f.childNodes[0]);break}}if(this.htmlWidget){f.style.height=this.htmlWidgetHeight+"px";var h=this.meta.data.x.hasOwnProperty(this.htmlWidget)?"sample":this.meta.data.z.hasOwnProperty(this.htmlWidget)?"variable":CanvasXpress.doc.P.hasOwnProperty(this.htmlWidget)&&CanvasXpress.doc.P[this.htmlWidget].T=="boolean"?"parameter":false;var e=this.meta.data.x.hasOwnProperty(this.htmlWidget)?this.meta.data.x[this.htmlWidget]:this.meta.data.z.hasOwnProperty(this.htmlWidget)?this.meta.data.z[this.htmlWidget]:h&&h=="parameter"?i:false;var d=e&&e.type=="Numeric"?true:false;var c=e.type=="Boolean"?"boolean":d?"range":this.htmlWidgetType=="dropdown"?"dropdown":this.htmlWidgetType=="radio"?"radio":e.levels.length<5?"radio":"dropdown";switch(c){case"range":if(!this.filteringNumericOn){var a=this.VO(this.htmlWidget,this.target+":"+this.htmlWidget,e.min,e.max,300);f.type="numeric";f.args=[h,this.htmlWidget,[e.min,e.max]];f.minInput=a.lastChild.firstChild.firstChild;f.maxInput=a.lastChild.firstChild.lastChild;f.appendChild(a);this.GT("addEvtListener",f)}break;case"dropdown":if(!this.filteringStringOn){var b=this.Jg(this.htmlWidget,e.levels);f.type="dropdown";f.args=[h,this.htmlWidget];f.appendChild(b);this.dO("addEvtListener",f)}break;case"radio":if(!this.filteringStringOn){var g=this.YX(this.htmlWidget,e.levels);f.type="radio";f.args=[h,this.htmlWidget];f.appendChild(g);this.rA("addEvtListener",f)}break;case"boolean":var g=this.YX(this.htmlWidget,e.levels,this[this.htmlWidget]?"Yes":"No");f.type="boolean";f.args=[h,this.htmlWidget];f.appendChild(g);this.rg("addEvtListener",f)}}else{f.style.height="unset"}}};this.Xa=function(h,d,a,c,f,g){if(this.data){if(this.skipRender&&this.graphType!="Map"){return}if(this.debug){this.showTransition=false}this.QO();this.GW("renderGraph - start");this.NM(false,g);this.kv(g);if(!c&&this.graphType!="Network"){if(this.reproducing){this.xu(d,a,true)}else{if(!this.motionOn){this.xu(d,a,true)}}this.er(this.isContour?true:true,h);this.Gd()}this.Hr(h,d,a);if(g&&g.preRender){this.Hz(g.preRender,true)}this.Lz();var e=this.layoutComb?true:false;switch(this.graphType){case"Bar":case"Dotplot":if(this.isBoxplotCalc&&this.isGroupedData){this.hW(this.groupingFactors,false,false,false,true)}if(this.is3DPlot){this.showTransition=false;this.UC()}else{this.Ar()}break;case"Line":case"Area":case"AreaLine":case"BarLine":case"DotLine":case"Heatmap":case"Treemap":case"ParallelCoordinates":case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":if(this.isBoxplotCalc&&this.isGroupedData){this.hW(this.groupingFactors,false,false,false,true)}this.Ar();break;case"Boxplot":if(!this.isBoxplotCalc&&(this.isGroupedData||this.groupingFactors.length)){this.hW(this.groupingFactors,false,false,false,true)}this.Ar();break;case"TagCloud":case"Sankey":case"Tree":case"Gantt":case"Meter":this.Ar();break;case"Scatter2D":case"ScatterBubble2D":case"Fish":this.D3();break;case"Scatter3D":this.showTransition=false;this.UC();break;case"Correlation":this.eJ();break;case"Venn":this.lQ();break;case"Pie":this.ku();break;case"Circular":this.Qo();break;case"Network":this.showTransition=false;if(f){var b=this.calculateLayout;var e=this.randomNetwork;this.calculateLayout=false;this.randomNetwork=false;this.yU();this.calculateLayout=b;this.randomNetwork=e}else{this.yU()}break;case"Genome":this.showTransition=false;this.sS();break;case"Map":this.showTransition=false;this.oc();break}this.UK();if(this.showCode){this.pt()}if(this.graphType!="Network"){this.qP();this.Aa()}if(window.navigator.onLine){if(!CanvasXpress.Rdatasets&&this.loadRDatasets){this.QE()}if(!CanvasXpress.datasets&&this.loadLLMDatasets){this.Wr()}}this.pf();this.lX();this.O6();this.GW("renderGraph - end");if(this.graphType!="Network"){this.db(false,false,this.showTransition)}if(this.debug&&this.debugWithArea){this.SG()}if(this.userEvents.enddraw){this.userEvents.enddraw.call(this,true,false,this)}this.fo("canvasXpress render ready");this.bx();if(this.showTransition&&!this.skipTransition){this.DO()}if(!this.disableChat&&this.isChat&&!this.useLeaflet){this.Ah()}if(this.layoutValid){this.meta.vals.layout={l:this.TU(this.data.l),g:(this.data.w?this.TU(this.data.w.grps):false),v:this.TU(this.segregateVariablesBy),s:this.TU(this.segregateSamplesBy)}}else{this.meta.vals.layout=false}}};this.XS=function(){this.OneDPlot();this.Scatter2D();this.Scatter3D();this.Correlation();this.Venn();this.Pie();this.Circular();this.Network();this.Genome();this.Map()}};CanvasXpress.prototype.initAxes=function(){this.vE=function(isPie){var graphAxisConfig={Scatter2D:["xAxis","yAxis"],ScatterBubble2D:["xAxis","yAxis","zAxis"],Scatter3D:["xAxis","yAxis","zAxis"],Circular:["xAxis","yAxis","rAxis"]};var regexAxisConfig=[{pattern:/Network|Genome|Correlation|Venn|Heatmap|Pie/,getAxes:function(isPie){return isPie?["xAxis"]:false}},{pattern:/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/,axes:["xAxis","xAxis2"]}];var defaultAxes=["xAxis"];var currentGraphType=this.graphType;var config;if(Object.prototype.hasOwnProperty.call(graphAxisConfig,currentGraphType)){return graphAxisConfig[currentGraphType]}for(var i=0;i<regexAxisConfig.length;i++){config=regexAxisConfig[i];if(currentGraphType.match(config.pattern)){return typeof config.getAxes==="function"?config.getAxes(isPie):config.axes}}return defaultAxes};this.EU=function(smps,axis,check){var graphType=this.graphType;switch(graphType){case"Scatter2D":case"ScatterBubble2D":return check?this.df(smps,axis):this.p5(smps,axis);case"Scatter3D":case"Pie":return this.Xd(smps,axis);default:break}};this.p5=function(smps,axis){var targetAxisArray=this[axis];if(!targetAxisArray){return"Not a valid axis"}if(this.tO(smps)){var existingSamplesLookup=this.l4(targetAxisArray);var smpsLength=smps.length;for(var i=0;i<smpsLength;i++){var currentSmp=smps[i];if(!existingSamplesLookup.hasOwnProperty(currentSmp)){targetAxisArray.push(currentSmp)}}}else{targetAxisArray.push(smps)}return false};this.df=function(smps,axis){var targetAxisArray=this[axis];if(!targetAxisArray){return"Not a valid axis"}var originalLength=targetAxisArray.length;if(originalLength<=1){var isSingleMatch=!this.tO(smps)&&originalLength===1&&targetAxisArray[0]===smps;var isArrayMatch=this.tO(smps)&&smps.length>=originalLength;if(isSingleMatch||isArrayMatch){return axis+" cannot be null"}}var samplesToRemoveLookup={};var i;if(this.tO(smps)){var smpsLength=smps.length;for(i=0;i<smpsLength;i++){samplesToRemoveLookup[smps[i]]=true}}else{samplesToRemoveLookup[String(smps)]=true}var newAxisArray=[];for(i=0;i<originalLength;i++){var currentItem=targetAxisArray[i];if(!Object.prototype.hasOwnProperty.call(samplesToRemoveLookup,currentItem)){newAxisArray.push(currentItem)}}if(newAxisArray.length===0&&originalLength>0){return axis+" cannot be null"}this[axis]=newAxisArray;return false};this.Xd=function(smp,axis){var targetAxisArray=this[axis];if(targetAxisArray&&typeof targetAxisArray.push==="function"){var sampleToAssign=this.tO(smp)?smp[0]:smp;targetAxisArray[0]=sampleToAssign;return false}else{return"Not a valid axis"}};this.Gw=function(vars,axis,check){return check?this.yF(vars,axis):this.k6(vars,axis)};this.k6=function(vars,axis){var targetAxisArray=this[axis];if(targetAxisArray&&typeof targetAxisArray.push==="function"){if(this.tO(vars)){Array.prototype.push.apply(targetAxisArray,vars)}else{targetAxisArray.push(vars)}return false}else{return"Not a valid axis"}};this.yF=function(vars,axis){var targetAxisArray=this[axis];if(!targetAxisArray||typeof targetAxisArray.push!=="function"){return"Not a valid axis"}var originalLength=targetAxisArray.length;var varsToRemoveLookup={};var i;if(this.tO(vars)){var varsLength=vars.length;for(i=0;i<varsLength;i++){varsToRemoveLookup[vars[i]]=true}}else{if(vars!=null){varsToRemoveLookup[String(vars)]=true}}var newAxisArray=[];for(i=0;i<originalLength;i++){var currentItem=targetAxisArray[i];if(!Object.prototype.hasOwnProperty.call(varsToRemoveLookup,currentItem)){newAxisArray.push(currentItem)}}this[axis]=newAxisArray;return false};this.sV=function(val,axis){var tickFormatProp=axis+"TickFormat";var decsProp=axis+"Decs";var tickFormat=this[tickFormatProp];var decs=this[decsProp];if(tickFormat){var frmt=tickFormat;var formattedVal=val;if(this.tO(tickFormat)){if(tickFormat.length>=2){frmt=tickFormat[0];try{formattedVal=eval(val+tickFormat[1])}catch(e){console.error("Error evaluating axis tick format expression:",e);formattedVal=val}}else{frmt=tickFormat.length===1?tickFormat[0]:"%s";formattedVal=val}}return formattedVal!=null&&formattedVal!==""&&frmt?this.vy(frmt,formattedVal):(val!=null?val.toString():"")}else{var d=Math.min(typeof decs==="number"?decs:20,20);return this.gG(val,d)}};this.Ep=function(idx,axis,vids){var vals=[];var trn=false;var min=false;var max=false;var fac=false;var i,j,ii;if(axis){trn=this[axis+"AxisTransform"];max=this[axis+"AxisFloorValue"];min=this[axis+"AxisCeilValue"];fac=this[axis+"AxisFactorValue"]}var variableIndices=vids||this.varIndices;var vidsLength=variableIndices.length;if(this.tO(idx)){var idxLength=idx.length;for(i=0;i<vidsLength;i++){ii=variableIndices[i];for(j=0;j<idxLength;j++){vals.push(this.Cb(ii,idx[j],false,trn,min,max,fac))}}}else{for(i=0;i<vidsLength;i++){ii=variableIndices[i];vals.push(this.Cb(ii,idx,false,trn,min,max,fac))}}return vals};this.aT=function(idx){var data=this.wT(idx);return this.cp(data)};this.ui=function(num,round){if(num===0){return 0}var exponent=Math.floor(Math.log10(Math.abs(num)));var fraction=num/Math.pow(10,exponent);var niceFraction;if(round){if(Math.abs(fraction)<1.5){niceFraction=1}else{if(Math.abs(fraction)<3){niceFraction=2}else{if(Math.abs(fraction)<7){niceFraction=5}else{niceFraction=10}}}}else{if(Math.abs(fraction)<=1){niceFraction=1}else{if(Math.abs(fraction)<=2){niceFraction=2}else{if(Math.abs(fraction)<=5){niceFraction=5}else{niceFraction=10}}}}return(num<0?-1:1)*niceFraction*Math.pow(10,exponent)};this.YS=function(num){if(num===0){return 0}var precision=Math.pow(10,12);return Math.round(num*precision)/precision};this.VE=function(min,max,ticks,exact,add){var axisExtensionVal=this.axisExtension;if(min==max){return 0.1}var rangeDiff=max-min;if(exact){var decs=0;var targetIncr=rangeDiff/ticks;var test=parseFloat(this.gG(targetIncr,decs));while(test==0&&decs<20){decs++;test=parseFloat(this.gG(targetIncr,decs))}return test||0.1}if(rangeDiff<=Number.MIN_VALUE){return 0.1}var effectiveMax=add||max;var adj=(effectiveMax-min)*axisExtensionVal;var amin=min-adj;var amax=effectiveMax+adj;var range=amax-amin;if(range<=0||ticks<=0){return 0.1}var rangePerTick=range/ticks;var len=-Math.floor(Math.log(rangePerTick)/Math.LN10);var step=Math.pow(10,-len);var norm=rangePerTick/step;var test,test2=null;if(norm<1.5){test=step}else{if(norm<2){test=step*2}else{if(norm<2.5){test=step*2.5}else{if(norm<5){test=step*5;test2=step*2.5}else{if(norm<7.5){test=step*7.5}else{test=step*10;test2=step*5}}}}}var calculatedMin=this.lz(min,test);if(calculatedMin+(test*ticks)<max){return this.VE(min,max,ticks,exact,effectiveMax+test)}if(test2!==null){var calculatedMin2=this.lz(min,test2);if(calculatedMin2+(test2*ticks)>=max){return test2}}return test};this.lz=function(min,inc){var mm=(inc&&isFinite(inc)&&isFinite(min))?(inc*Math.floor(min/inc)):NaN;var overallMinData=this.minData;if(isNaN(mm)){return 0}else{if(mm<0&&overallMinData!=null&&overallMinData>=0){return 0}else{return mm}}};this.zC=function(axis,isVar){var graphType=this.graphType;var scatterType=this.scatterType;var isGrouped=this.isGroupedData;var groupingFactors=this.groupingFactors;var dataObj=this.data;var smpIndices=this.smpIndices;var varIndices=this.varIndices;var axisArray=this[axis];if(isGrouped&&!dataObj.w){this.hW(groupingFactors,false,false,false,true)}var level=isGrouped?dataObj.w:dataObj.y;var levelSmps=level.smps;var levelSmpsLength=levelSmps.length;var indxs=isVar?this.tU(axisArray):this.yV(axisArray);if((this.tO(indxs)&&indxs.length===0)||(!this.tO(indxs)&&indxs===-1)){axisArray=this[axis]=[]}if(scatterType==="manhattan"){this[axis]=axis==="xAxis"?["Manhattan"]:[this.manhattanMarkerLogPValue];return}if(axisArray.length===0){var i;var smpIndicesLength=smpIndices.length;if(this.isQQ||this.isCDF||this.showHistogram){for(i=0;i<smpIndicesLength;i++){axisArray.push(dataObj.y.smps[smpIndices[i]])}}else{if(this.isKM){axisArray.push(axis==="xAxis"?dataObj.y.smps[smpIndices[0]]:dataObj.y.smps[smpIndices[1]])}else{if(axis==="xAxis"){if(isVar){var varIndicesLength=varIndices.length;for(i=0;i<varIndicesLength;i++){axisArray.push(dataObj.y.vars[varIndices[i]])}}else{axisArray.push(levelSmps[smpIndices[0]])}}else{if(axis==="xAxis2"){axisArray.push(dataObj.y.vars[varIndices[varIndices.length-1]])}else{if(axis==="yAxis"){axisArray.push(levelSmpsLength>1?levelSmps[smpIndices[1]]:levelSmps[smpIndices[0]])}else{if(axis==="zAxis"){var idx=0;if(levelSmpsLength>2){idx=2}else{if(levelSmpsLength>1){idx=1}}axisArray.push(levelSmps[smpIndices[idx]])}}}}}}}else{if(graphType==="Scatter3D"&&axisArray.length>1){this[axis]=[axisArray[0]]}}};this.zm=function(vals,trns,linr,mnrt){var i,j,m,p,min,max;var scale,order,is3or5,roundToMillionth;var valsLength=vals.length;order=function(n){var ln2=Math.LN2;var ln10=Math.LN10;if(n<=0&&trns!=="sqrt"){n=Number.MIN_VALUE}return trns=="sqrt"?n:Math.floor(Math.log(n)/(trns=="log2"?ln2:ln10))};is3or5=function(){var n=0;var valStr;for(i=0;i<valsLength;i++){valStr=vals[i].toString();if(/^33./.test(valStr)||/^3./.test(valStr)||/\.3/.test(valStr)||/\.03/.test(valStr)){n++;if(n>1){break}}}return n>1?3:5};roundToMillionth=function(num){return parseInt(num*1000000)/1000000};scale={major:[],major35:[],minor:[]};if(!vals||valsLength===0){console.warn("getLogScale received invalid 'vals' array.");return scale}min=order(vals[0]);max=order(vals[valsLength-1]);if(trns=="sqrt"){scale.major=this.iH(min,max,6);scale.major35=scale.major;if(scale.major.length>1&&mnrt>0){m=(scale.major[1]-scale.major[0])/mnrt;var majorLength=scale.major.length;for(i=0;i<majorLength;i++){var majorVal=scale.major[i];for(j=0;j<mnrt;j++){scale.minor.push(majorVal+(m*j))}}}}else{if(linr){p=trns=="log2"?2:10;scale.major=this.iH(Math.pow(p,min),Math.pow(p,max),4);scale.major35=scale.major;if(scale.major.length>1&&mnrt>0){m=(scale.major[1]-scale.major[0])/mnrt;var majorLength=scale.major.length;for(i=0;i<majorLength;i++){var majorVal=scale.major[i];for(j=0;j<mnrt;j++){scale.minor.push(majorVal+(m*j))}}}}else{m=is3or5();p=trns=="log2"?2:10;for(i=min-1;i<=max;i++){var pow_p_i1=Math.pow(p,i+1);var pow_p_i=Math.pow(p,i);var m2=roundToMillionth(pow_p_i1);var m3=roundToMillionth(pow_p_i);var m4=roundToMillionth(pow_p_i1*m);scale.major.push(m2);scale.major35.push(m3);scale.major35.push(m4);for(j=1;j<=9;j++){var m5=roundToMillionth(pow_p_i*j);scale.minor.push(m5)}scale.minor.push(m2)}var numericSort=function(a,b){return a-b};scale.major.sort(numericSort);scale.major35.sort(numericSort);scale.minor.sort(numericSort);scale.major=this.Ry(scale.major);scale.major35=this.Ry(scale.major35);scale.minor=this.Ry(scale.minor)}}return scale};this.PL=function(axisPrefix){var decimalsProp=axisPrefix+"Decs";var valuesProp=axisPrefix+"Values";var valuesRawProp=axisPrefix+"ValuesRaw";var minorValuesProp=axisPrefix+"MinorValues";var incrementProp=axisPrefix+"Incr";var minorTicksProp=axisPrefix+"MinorTicks";var minProp=axisPrefix+"Min";var maxProp=axisPrefix+"Max";var ticksProp=axisPrefix+"Ticks";var axisIncrement=this[incrementProp];var axisMinorTicks=this[minorTicksProp];var axisMin=this[minProp];var axisMax=this[maxProp];var axisTicks=this[ticksProp];var i,j;var currentMajorValue,currentMinorValue,minorIncrement;this[decimalsProp]=0;var axisValues=this[valuesProp]=[];var axisValuesRaw=this[valuesRawProp]=[];var axisMinorValues=this[minorValuesProp]=[];minorIncrement=axisMinorTicks>0?axisIncrement/axisMinorTicks:0;currentMajorValue=axisMin-axisIncrement;for(j=0;j<axisMinorTicks;j++){currentMinorValue=currentMajorValue+(minorIncrement*j);axisMinorValues.push(new Date(currentMinorValue))}currentMajorValue=axisMin;for(i=0;i<=axisTicks+1;i++){for(j=0;j<axisMinorTicks;j++){currentMinorValue=currentMajorValue+(minorIncrement*j);axisMinorValues.push(new Date(currentMinorValue))}if(currentMajorValue>axisMax){break}axisValues.push(new Date(currentMajorValue));axisValuesRaw.push(currentMajorValue);currentMajorValue+=axisIncrement}return false};this.H0=function(axisPrefix){var decimalsProp=axisPrefix+"Decs";var valuesProp=axisPrefix+"Values";var valuesRawProp=axisPrefix+"ValuesRaw";var minorValuesProp=axisPrefix+"MinorValues";var i;this[decimalsProp]=0;var axisValues=this[valuesProp]=[];var axisValuesRaw=this[valuesRawProp]=[];var axisMinorValues=this[minorValuesProp]=[];var majorTicks=[0,25,50,75,100];var majorTicksLength=majorTicks.length;for(i=0;i<majorTicksLength;i++){axisValues.push(majorTicks[i]);axisValuesRaw.push(majorTicks[i])}for(i=5;i<100;i+=5){axisMinorValues.push(i)}return false};this.Bv=function(axisPrefix,precalculatedTicks){var valuesProp=axisPrefix+"Values";var minorValuesProp=axisPrefix+"MinorValues";var valuesRawProp=axisPrefix+"ValuesRaw";var incrementProp=axisPrefix+"Incr";var minorTicksProp=axisPrefix+"MinorTicks";var minProp=axisPrefix+"Min";var ticksProp=axisPrefix+"Ticks";var decimalsProp=axisPrefix+"Decs";var tickFormatProp=axisPrefix+"TickFormat";var axisInitial=axisPrefix.substring(0,1);var axisIncrement=this[incrementProp];var axisMinorTicks=this[minorTicksProp];var axisMin=this[minProp];var axisTicks=this[ticksProp];var axisDecimals=this[decimalsProp];var axisTickFormat=this[tickFormatProp];var i,j;var currentMajorValue,currentMinorValue,minorIncrement,formattedValueString;var seenFormattedValues={};var needsRecalculation=false;var axisValues=this[valuesProp]=[];var axisMinorValues=this[minorValuesProp]=[];var axisValuesRaw=this[valuesRawProp]=[];minorIncrement=axisMinorTicks>0?axisIncrement/axisMinorTicks:0;currentMajorValue=axisMin-axisIncrement;for(j=0;j<axisMinorTicks;j++){currentMinorValue=currentMajorValue+(minorIncrement*j);axisMinorValues.push(currentMinorValue)}currentMajorValue=axisMin;var loopLimit=precalculatedTicks?precalculatedTicks.length:axisTicks;for(i=0;i<loopLimit;i++){for(j=0;j<axisMinorTicks;j++){currentMinorValue=currentMajorValue+(minorIncrement*j);axisMinorValues.push(currentMinorValue)}if(axisDecimals==0&&currentMajorValue.toString().match(/\.5$/)){axisDecimals=this[decimalsProp]=1}if(this.isGraphTime&&this.isGraphTime==axisInitial){axisValues.push(currentMajorValue);axisValuesRaw.push(currentMajorValue)}else{formattedValueString=this.sV(currentMajorValue,axisPrefix);if(seenFormattedValues.hasOwnProperty(formattedValueString)&&!axisTickFormat){needsRecalculation=true}else{seenFormattedValues[formattedValueString]=1}axisValues.push(formattedValueString);axisValuesRaw.push(currentMajorValue)}currentMajorValue+=axisIncrement}return needsRecalculation};this.o4=function(axisPrefix){var transformProp=axisPrefix+"Transform";var transformedTickValuesProp=axisPrefix+"TransformTicksValues";var valuesRawProp=axisPrefix+"ValuesRaw";var transformLinearTicksProp=axisPrefix+"TransformLinearTicks";var minorTicksProp=axisPrefix+"MinorTicks";var untransformedValuesProp=axisPrefix+"UntransformValues";var untransformedMinorValuesProp=axisPrefix+"UntransformMinorValues";var ticksProp=axisPrefix+"Ticks";var axisTransform=this[transformProp];var axisValuesRaw=this[valuesRawProp];var axisTransformLinearTicks=this[transformLinearTicksProp];var axisMinorTicks=this[minorTicksProp];var axisTicks=this[ticksProp];var axisAlgorithmFunc=this[this.axisAlgorithm];var i,j;var rawValue,transformedValue,decimalPartStr,logScaleResult,lastTransformedIndex,untransformedMajorIncrement,untransformedMinorIncrement,untransformedStartValue,currentUntransformedMinorValue;var axisTransformedTickValues=this[transformedTickValuesProp]=[];var axisValuesRawLength=axisValuesRaw.length;for(i=0;i<axisValuesRawLength;i++){rawValue=axisValuesRaw[i];transformedValue=this.Jb(axisTransform,rawValue,true);decimalPartStr=transformedValue.toString().split(".")[1]||"";if(axisTransform.match(/exp/)){if(Math.abs(transformedValue)<Number.EPSILON){transformedValue=0}axisTransformedTickValues.push(decimalPartStr.length>4?Number(this.vy("%.2g",transformedValue)):transformedValue)}else{axisTransformedTickValues.push(decimalPartStr.length>5?Number(this.vy("%.4g",transformedValue)):transformedValue)}}if(axisTransformedTickValues.length>0&&axisTransformedTickValues[0]==-Infinity){axisTransformedTickValues.shift()}if(axisTransformedTickValues.length>0&&axisTransformedTickValues[axisTransformedTickValues.length-1]==Infinity){axisTransformedTickValues.pop()}logScaleResult=axisTransform.match(/log|sqrt/)?this.zm(axisTransformedTickValues,axisTransform,axisTransformLinearTicks,axisMinorTicks):false;var axisUntransformedValues;var axisUntransformedMinorValues;if(logScaleResult&&logScaleResult.major.length>3){axisUntransformedValues=logScaleResult.major.length<6?logScaleResult.major35:logScaleResult.major;axisUntransformedMinorValues=logScaleResult.minor}else{if(axisTransformedTickValues.length>0){lastTransformedIndex=axisTransformedTickValues.length-1;axisUntransformedValues=axisAlgorithmFunc.call(this,axisTransformedTickValues[0],axisTransformedTickValues[lastTransformedIndex],axisTicks,this.isGraphTime,this.axisWilkinsonLoose);if(axisUntransformedValues.length>1&&axisMinorTicks>0){untransformedMajorIncrement=(axisUntransformedValues[1]-axisUntransformedValues[0]);untransformedMinorIncrement=untransformedMajorIncrement/axisMinorTicks;axisUntransformedMinorValues=[];untransformedStartValue=axisUntransformedValues[0]-untransformedMajorIncrement;for(i=0;i<axisMinorTicks;i++){currentUntransformedMinorValue=untransformedStartValue+(untransformedMinorIncrement*i);axisUntransformedMinorValues.push(currentUntransformedMinorValue)}currentUntransformedMinorValue=axisUntransformedValues[0];var untransformedValuesLength=axisUntransformedValues.length;for(i=0;i<=untransformedValuesLength;i++){for(j=0;j<axisMinorTicks;j++){axisUntransformedMinorValues.push(currentUntransformedMinorValue+(untransformedMinorIncrement*j))}currentUntransformedMinorValue+=untransformedMajorIncrement}}else{axisUntransformedMinorValues=[]}}else{axisUntransformedValues=[];axisUntransformedMinorValues=[]}}this[untransformedValuesProp]=axisUntransformedValues;this[untransformedMinorValuesProp]=axisUntransformedMinorValues};this.VX=function(axisPrefix,precalculatedTicks){var decimalsProp=axisPrefix+"Decs";var valuesProp=axisPrefix+"Values";var minorValuesProp=axisPrefix+"MinorValues";var valuesRawProp=axisPrefix+"ValuesRaw";var incrementProp=axisPrefix+"Incr";var minorTicksProp=axisPrefix+"MinorTicks";var minProp=axisPrefix+"Min";var maxProp=axisPrefix+"Max";var ticksProp=axisPrefix+"Ticks";var axisIncrement=this[incrementProp];var axisMinorTicks=this[minorTicksProp];var axisMin=this[minProp];var axisMax=this[maxProp];var axisTicks=this[ticksProp];var i,j;var currentMajorValue,currentMinorValue,minorIncrement,valueString,decimalPart;var axisDecimals=this[decimalsProp];axisDecimals++;this[decimalsProp]=axisDecimals;var axisValues=this[valuesProp]=[];var axisMinorValues=this[minorValuesProp]=[];var axisValuesRaw=this[valuesRawProp]=[];if(axisDecimals>10){this[decimalsProp]=0;minorIncrement=axisMinorTicks>0?axisIncrement/axisMinorTicks:0;currentMajorValue=axisMin-axisIncrement;for(j=0;j<axisMinorTicks;j++){currentMinorValue=currentMajorValue+(minorIncrement*j);axisMinorValues.push(currentMinorValue)}currentMajorValue=axisMin;for(i=0;i<=axisTicks+1;i++){for(j=0;j<axisMinorTicks;j++){currentMinorValue=currentMajorValue+(minorIncrement*j);axisMinorValues.push(currentMinorValue)}if(currentMajorValue>axisMax){break}valueString=currentMajorValue.toString();axisValues.push(valueString);axisValuesRaw.push(currentMajorValue);decimalPart=valueString.split(".")[1];this[decimalsProp]=Math.max(this[decimalsProp],decimalPart?decimalPart.length:0);currentMajorValue+=axisIncrement}this.z1(axisPrefix)}else{this.Fy(axisPrefix,precalculatedTicks)}};this.z1=function(axisPrefix){var valuesProp=axisPrefix+"Values";var tickFormatProp=axisPrefix+"TickFormat";var maxStringLengthProp=axisPrefix+"MaxStrLength";var decimalsProp=axisPrefix+"Decs";var minorValuesProp=axisPrefix+"MinorValues";var incrementProp=axisPrefix+"Incr";var minorTicksProp=axisPrefix+"MinorTicks";var axisValues=this[valuesProp];var axisTickFormat=this[tickFormatProp];var axisDecimals=this[decimalsProp];var axisMinorValues=this[minorValuesProp];var axisIncrement=this[incrementProp];var axisMinorTicks=this[minorTicksProp];var maxStringLengthValue;var minorIncrement;maxStringLengthValue=this.pQ(axisValues);if(axisTickFormat){this[maxStringLengthProp]=maxStringLengthValue}else{this[maxStringLengthProp]=this.gG(maxStringLengthValue,axisDecimals)}if(axisMinorValues.length>0){minorIncrement=axisMinorTicks>0?axisIncrement/axisMinorTicks:0;axisMinorValues.unshift(axisMinorValues[0]-minorIncrement)}if(this.layoutValid&&this.layoutParams&&this.layoutParams[this.layoutCurrent]){var layoutMaxTickProp=axisPrefix+"MaxStrTick";var layoutAxisParams=this.layoutParams[this.layoutCurrent];var axisTextFontProp=axisPrefix+"TextFont";var axisTextFont=this[axisTextFontProp];layoutAxisParams[layoutMaxTickProp]=maxStringLengthValue;layoutAxisParams[layoutMaxTickProp+"Length"]=this.pb(maxStringLengthValue.toString(),axisTextFont);var overallMaxLenProp=axisPrefix+"LayoutMaxTickStrLength";var overallMaxStrProp=axisPrefix+"LayoutMaxTickStr";if(this[overallMaxLenProp]){if(layoutAxisParams[layoutMaxTickProp+"Length"]>this[overallMaxLenProp]){this[overallMaxStrProp]=maxStringLengthValue;this[overallMaxLenProp]=layoutAxisParams[layoutMaxTickProp+"Length"]}}else{this[overallMaxStrProp]=maxStringLengthValue;this[overallMaxLenProp]=layoutAxisParams[layoutMaxTickProp+"Length"]}}};this.Fy=function(axisPrefix,precalculatedTicks){var graphType=this.graphType;var transformProp=axisPrefix+"Transform";var transformTicksProp=axisPrefix+"TransformTicks";var decimalsProp=axisPrefix+"Decs";var axisTransform=this[transformProp];var axisTransformTicks=this[transformTicksProp];var axisDecimals=this[decimalsProp];var needsRecalculation=false;if(graphType=="Gantt"){needsRecalculation=this.PL(axisPrefix)}else{if(axisTransform=="percentile"){needsRecalculation=this.H0(axisPrefix)}else{needsRecalculation=this.Bv(axisPrefix,precalculatedTicks);if(axisTransform&&axisTransformTicks){this.o4(axisPrefix)}}}if(needsRecalculation&&axisDecimals<20){this.VX(axisPrefix,precalculatedTicks)}else{if(!needsRecalculation||axisDecimals>=20){this.z1(axisPrefix)}}};this.Yr=function(axisPrefix){return{isTimeAxisProp:axisPrefix+"Time",ticksProp:axisPrefix+"Ticks",incrementProp:axisPrefix+"Incr",absMinProp:axisPrefix+"AbsMin",absMaxProp:axisPrefix+"AbsMax",minProp:axisPrefix+"Min",maxProp:axisPrefix+"Max",floorProp:axisPrefix+"FloorValue",ceilProp:axisPrefix+"CeilValue",factorProp:axisPrefix+"FactorValue",rangeProp:axisPrefix+"Range",decimalsProp:axisPrefix+"Decs",extensionMinAppliedProp:axisPrefix+"ExtensionMin",extensionMaxAppliedProp:axisPrefix+"ExtensionMax"}};this.c5=function(axisPrefix,graphType,dataType,forceRaw,justPositive,isStacked,props){this.l1(axisPrefix,forceRaw,justPositive,isStacked,dataType);if(graphType.match(/Bar/i)&&this.barZero&&Number(this.minData)>=0){this.minData=0}this.minData=Number(this.minData);this.maxData=Number(this.maxData);if(this.minData==this.maxData){if(this.minData==0){this.minData=-1;this.maxData=1}else{var adjustment=Math.abs(this.minData*0.1);this.minData-=adjustment;this.maxData+=adjustment}}var factorValue=this[props.factorProp];if(factorValue){this.minData*=factorValue;this.maxData*=factorValue}};this.E5=function(transform){if(!transform){return}var epsilon=Number.EPSILON;var log2=Math.LN2;var log10=Math.LN10;var minVal=this.minData||epsilon;var maxVal=this.maxData||epsilon;switch(transform){case"log2":this.minData=Math.log(minVal)/log2;this.maxData=Math.log(maxVal)/log2;break;case"log10":this.minData=Math.log(minVal)/log10;this.maxData=Math.log(maxVal)/log10;break;case"-log2":this.minData=-Math.log(minVal)/log2;this.maxData=-Math.log(maxVal)/log2;break;case"-log10":this.minData=-Math.log(minVal)/log10;this.maxData=-Math.log(maxVal)/log10;break;case"exp2":this.minData=Math.pow(2,this.minData);this.maxData=Math.pow(2,this.maxData);break;case"exp10":this.minData=Math.pow(10,this.minData);this.maxData=Math.pow(10,this.maxData);break;case"sqrt":break;case"percentile":this.minData=this.minData<0?-100:0;this.maxData=100;break}if(this.minData>this.maxData){var temp=this.minData;this.minData=this.maxData;this.maxData=temp}};this.wP=function(axisPrefix,props){var floorValue=this[props.floorProp];if(floorValue!=null){this.minData=Math.max(this.minData,floorValue)}var ceilValue=this[props.ceilProp];if(ceilValue!=null){this.maxData=Math.min(this.maxData,ceilValue)}if(this.showHistogram&&!this.PG()){if(this.histogramAsDotplot&&axisPrefix=="yAxis"){if(this.histogramStackDir.match(/center/)){this.minData=-0.5;this.maxData=0.5}else{this.minData=0;this.maxData=1}}else{if(axisPrefix=="yAxis"){this.minData=0}}}if(this.setMin!=null){this.minData=Number(this.setMin)}if(this.setMax!=null){this.maxData=Number(this.setMax)}this[props.absMinProp]=this.setMin==null?this.minData:(this[props.absMinProp]!=null?this[props.absMinProp]:Number.NEGATIVE_INFINITY);this[props.absMaxProp]=this.setMax==null?this.maxData:(this[props.absMaxProp]!=null?this[props.absMaxProp]:Number.POSITIVE_INFINITY);if(this.minData>this.maxData){var temp=this.minData;this.minData=this.maxData;this.maxData=temp;if(this.setMin==null&&this.setMax==null){var tempAbs=this[props.absMinProp];this[props.absMinProp]=this[props.absMaxProp];this[props.absMaxProp]=tempAbs}}};this.ve=function(axisPrefix,props){var tickValues=this[props.isTimeAxisProp]?this.sm(this.minData,this.maxData,this[props.ticksProp]):this[this.axisAlgorithm](this.minData,this.maxData,this[props.ticksProp],this.isGraphTime,this.axisWilkinsonLoose);if(!this.tO(tickValues)||tickValues.length<1){console.warn("Could not calculate ticks for axis:",axisPrefix,"Using data range.");tickValues=this.minData===this.maxData?[this.minData]:[this.minData,this.maxData]}if(tickValues.length===1){var step=this.minData===this.maxData?1:Math.abs(this.maxData-this.minData)*0.1||1;tickValues=[tickValues[0]-step,tickValues[0]+step].sort(function(a,b){return a-b});tickValues=this[this.axisAlgorithm](tickValues[0],tickValues[1],this[props.ticksProp],this.isGraphTime,this.axisWilkinsonLoose);if(!this.tO(tickValues)||tickValues.length<1){tickValues=[this.minData,this.maxData]}}this[props.incrementProp]=tickValues[1]-tickValues[0];this[props.decimalsProp]=this.CU(this[props.incrementProp]);var graphType=this.graphType;var scatterType=this.scatterType;var isVisium=graphType=="Scatter2D"&&scatterType=="visium";var isManhattan=graphType=="Scatter2D"&&scatterType=="manhattan";var isHistogramX=!this.PG()&&this.showHistogram&&axisPrefix=="xAxis";this[props.minProp]=isVisium?this.minData:tickValues[0];if(isManhattan){this[props.maxProp]=this.maxData*(axisPrefix=="xAxis"?1.025:1.05)}else{if(isVisium){this[props.maxProp]=this.maxData}else{this[props.maxProp]=tickValues[tickValues.length-1]}}this.Fy(axisPrefix,tickValues);return tickValues};this.W4=function(axisPrefix){var graphType=this.graphType;if(graphType.match(/Scatter|Dot/i)||(graphType.match(/Boxplot/i)&&this.showBoxplotOriginalData)){var pointSize=this.dataPointSize*this.dataPointSizeScaleFactor;var dimension=axisPrefix.substring(0,1)=="x"?this.width:this.height;var dataRange=this.maxData-this.minData;if(dimension<=0||dataRange<=0){return 0}var unitsPerPixel=dataRange/dimension;var pointSizeInAxisUnits=pointSize*unitsPerPixel;return this.layoutComb?Math.ceil(pointSizeInAxisUnits/this.layoutRows):pointSizeInAxisUnits}else{return 0}};this.Iz=function(axisPrefix,tickValues,transform,noExtend,props){var graphType=this.graphType;var scatterType=this.scatterType;var axisExtensionValue=this.axisExtension;var isCxplot=this.isCxplot;var firstTick=tickValues[0];var lastTick=tickValues[tickValues.length-1];var axisIncrement=this[props.incrementProp];var rangeExtension=(this.maxData-this.minData)*axisExtensionValue*(isCxplot?0.5:1);var scatterPointAdjustment=this.W4(axisPrefix);var skipExtension=(this.showHistogram||graphType.match(/Stacked|Area/)||(transform&&transform=="percentile")||noExtend||this.stackBy||(graphType=="Scatter2D"&&scatterType=="visium"))?true:false;this[props.extensionMinAppliedProp]=false;var minConditionForNoExtension=((graphType.match(/Bar/i)&&this.barZero&&Number(this.minData)>=0)||(firstTick<(this.minData-scatterPointAdjustment))||skipExtension);if(minConditionForNoExtension&&!isCxplot){this[props.minProp]=firstTick}else{this[props.extensionMinAppliedProp]=true;if(graphType.match(/Bar|Stacked/)&&isCxplot){this[props.minProp]=Math.min(firstTick,this.minData)-rangeExtension}else{if(graphType!="Scatter2D"||scatterType!="manhattan"||axisPrefix!="yAxis"||isCxplot){var minExtensionAmount=(graphType=="Meter"||graphType=="Line")?0:(graphType=="Scatter2D"&&scatterType=="manhattan")?rangeExtension/3:rangeExtension;this[props.minProp]=this.minData-minExtensionAmount}}if(!this[props.extensionMinAppliedProp]){if((this.showHistogram&&!this.PG()&&axisPrefix=="yAxis")||(this.scatterMatrixPlot&&this.scatterMatrixPlotType.match(/Histogram|Density|all/))){if(this.histogramAsDotplot&&axisPrefix=="yAxis"&&this.histogramStackDir.match(/center/)){this[props.minProp]=this.minData-(axisExtensionValue/1.2)}else{var histogramMinExtension=((this.maxData-this.minData)*axisExtensionValue/3);this[props.minProp]=this.minData>=0?0-histogramMinExtension:this.minData-histogramMinExtension;if(this.minData>=0){this[props.minProp]=Math.max(this[props.minProp],0-histogramMinExtension)}}}else{if((this.showHistogram&&!this.PG()&&axisPrefix=="xAxis")||(this.scatterMatrixPlot&&this.scatterMatrixPlotType.match(/Histogram|Density|all/))){this[props.minProp]-=axisIncrement*axisExtensionValue}else{if(this.isKM){this[props.minProp]-=axisIncrement*axisExtensionValue*2}}}}}this[props.extensionMaxAppliedProp]=false;var maxConditionForNoExtension=((lastTick>(this.maxData+scatterPointAdjustment))||skipExtension);if(maxConditionForNoExtension&&!isCxplot){if(graphType!="Scatter2D"||(scatterType=="manhattan"&&this.layoutValid)){this[props.maxProp]=lastTick}else{if(graphType=="Scatter2D"&&scatterType=="manhattan"&&!this.layoutValid){}else{this[props.maxProp]=lastTick}}}else{this[props.extensionMaxAppliedProp]=true;var maxExtensionAmount=(graphType=="Meter")?0:rangeExtension;this[props.maxProp]=this.maxData+maxExtensionAmount;if(!this[props.extensionMaxAppliedProp]){if((this.showHistogram&&!this.PG())||(this.scatterMatrixPlot&&this.scatterMatrixPlotType.match(/Histogram|Density|all/))||(graphType=="Scatter2D"&&scatterType=="manhattan"&&!this.layoutValid)){if(this.histogramAsDotplot&&axisPrefix=="yAxis"&&this.histogramStackDir.match(/center/)){this[props.maxProp]=this.maxData+(axisExtensionValue/1.2)}else{this[props.maxProp]+=axisIncrement*axisExtensionValue}}else{if(this.isKM){this[props.maxProp]+=axisIncrement*axisExtensionValue}}}}if(this.layoutComb&&this.PG()&&transform!="percentile"&&!graphType.match(/Percent/)&&this.maxData>this[props.maxProp]-(axisIncrement*0.2)){}if(this.setMin!=null&&!isCxplot){this[props.minProp]=this.setMin}if(this.setMax!=null&&!isCxplot){this[props.maxProp]=this.setMax}if(this.ridgeBy&&axisPrefix==="yAxis"){this[props.maxProp]=this.maxData}if(this[props.minProp]>this[props.maxProp]){var tempFinal=this[props.minProp];this[props.minProp]=this[props.maxProp];this[props.maxProp]=tempFinal}this[props.rangeProp]=this[props.maxProp]-this[props.minProp]};this.tH=function(axisPrefix,attributeType,forceRaw,transform,isStacked,noExtend){var props=this.Yr(axisPrefix);var graphType=this.graphType;var isLogTransform=transform&&transform.match(/log/)?true:false;var dataType=attributeType=="fish"?axisPrefix:attributeType=="qq"||attributeType=="cdf"||attributeType=="km"?axisPrefix.replace("Axis",""):axisPrefix;this.c5(attributeType,graphType,dataType,forceRaw,isLogTransform,isStacked,props);this.E5(transform);this.wP(axisPrefix,props);var tickValues=this.ve(axisPrefix,props);this.Iz(axisPrefix,tickValues,transform,noExtend,props)};this.LF=function(){var currentGraphType=this.graphType;var currentScatterType=this.scatterType;var xAxisLength=this.xAxisIndices.length;var yAxisLength=this.yAxisIndices.length;var zAxisLength=this.zAxisIndices?this.zAxisIndices.length:0;if(currentGraphType=="Scatter2D"&&currentScatterType=="km"){this.axesType="KM"}else{if(currentGraphType=="Scatter2D"&&currentScatterType=="cdf"){this.axesType="CDF"}else{if(currentGraphType=="Scatter2D"&&currentScatterType=="qq"){this.axesType="QQ"}else{if(currentGraphType=="ScatterBubble2D"&&xAxisLength>1&&xAxisLength==yAxisLength&&xAxisLength==zAxisLength){this.axesType="XYZ"}else{if(xAxisLength>1&&xAxisLength==yAxisLength){this.axesType="XY"}else{if(xAxisLength>yAxisLength){this.axesType="X"}else{this.axesType="Y"}}}}}}};this.Ns=function(){var setMinX=this.setMinX;var setMaxX=this.setMaxX;var setMinY=this.setMinY;var setMaxY=this.setMaxY;var xAxisHistogramShow=this.xAxisHistogramShow;var yAxisHistogramShow=this.yAxisHistogramShow;var varIndices=this.varIndices;if(setMinX==null||setMaxX==null||setMinY==null||setMaxY==null||xAxisHistogramShow||yAxisHistogramShow){return varIndices}var axesType=this.axesType;var xAxisIndices=this.xAxisIndices;var yAxisIndices=this.yAxisIndices;var xAxisCurrent=this.xAxisCurrent;var yAxisCurrent=this.yAxisCurrent;var xAxisTransform=this.xAxisTransform;var xAxisFloorValue=this.xAxisFloorValue;var xAxisCeilValue=this.xAxisCeilValue;var xAxisFactorValue=this.xAxisFactorValue;var yAxisTransform=this.yAxisTransform;var yAxisFloorValue=this.yAxisFloorValue;var yAxisCeilValue=this.yAxisCeilValue;var yAxisFactorValue=this.yAxisFactorValue;var varIndicesLength=varIndices.length;var xAxisIndicesLength=xAxisIndices.length;var yAxisIndicesLength=yAxisIndices.length;var indices={};var max=axesType=="XYZ"?1:Math.max(xAxisIndicesLength,yAxisIndicesLength);var i,j,xi,yi,currentVarIndex,x,y;for(i=0;i<max;i++){xi=(axesType=="Y"||axesType=="XYZ")?xAxisIndices[xAxisCurrent]:xAxisIndices[i];yi=(axesType=="X"||axesType=="XYZ")?yAxisIndices[yAxisCurrent]:yAxisIndices[i];for(j=0;j<varIndicesLength;j++){currentVarIndex=varIndices[j];x=this.Cb(currentVarIndex,xi,false,xAxisTransform,xAxisFloorValue,xAxisCeilValue,xAxisFactorValue);y=this.Cb(currentVarIndex,yi,false,yAxisTransform,yAxisFloorValue,yAxisCeilValue,yAxisFactorValue);if(x>=setMinX&&x<=setMaxX&&y>=setMinY&&y<=setMaxY){indices[currentVarIndex]=true}}}var visibleIndicesArray=this.Nv(indices);for(i=0;i<visibleIndicesArray.length;i++){visibleIndicesArray[i]=parseInt(visibleIndicesArray[i],10)}return visibleIndicesArray.sort(function(a,b){return a-b})};this.aM=function(cellIndex,layoutData,segregateVars,segregateSmps,scatterPlotMatrix,allVarIndices,allSmpIndices){var vars=[];var smps=[];var layoutComp=layoutData.comp;var layoutSmps=layoutData.smps;var layoutVars=layoutData.vars;if(segregateVars&&segregateSmps&&layoutComp&&layoutComp[cellIndex]){vars=layoutComp[cellIndex][0];smps=layoutComp[cellIndex][1]}else{if(layoutSmps&&layoutSmps[cellIndex]&&layoutSmps[cellIndex].xAxis&&layoutSmps[cellIndex].yAxis){vars=allVarIndices;var xAxisSmpIndex=this.yV(layoutSmps[cellIndex].xAxis[0]);var yAxisSmpIndex=this.yV(layoutSmps[cellIndex].yAxis[0]);smps=[xAxisSmpIndex,yAxisSmpIndex]}else{if(!scatterPlotMatrix&&layoutSmps&&layoutSmps[cellIndex]){vars=allVarIndices;smps=[layoutSmps[cellIndex][0],layoutSmps[cellIndex][1]||layoutSmps[cellIndex][0]]}else{if(layoutVars&&layoutVars[cellIndex]){var allVarNames=this.data.y.vars;var varOrderLookup=this.Bj(allVarNames);vars=this.tU(layoutVars[cellIndex],false,allVarNames,varOrderLookup);smps=allSmpIndices}else{vars=[];smps=[]}}}}return{vars:vars,smps:smps}};this.m0=function(sampleIndex,variableIndices,axisPrefix,metaDataSamples,sampleNames){var axisData=[];var sampleIndexStr=sampleIndex.toString();var transformProp=axisPrefix+"AxisTransform";var floorProp=axisPrefix+"AxisFloorValue";var ceilProp=axisPrefix+"AxisCeilValue";var factorProp=axisPrefix+"AxisFactorValue";if(!metaDataSamples.hasOwnProperty(sampleIndexStr)){var transform=this[transformProp];var floor=this[floorProp];var ceil=this[ceilProp];var factor=this[factorProp];var varCount=variableIndices.length;for(var j=0;j<varCount;j++){axisData.push(this.Cb(variableIndices[j],sampleIndex,false,transform,floor,ceil,factor))}if(axisData.length>0){metaDataSamples[sampleIndexStr]=this.sL(axisData,sampleNames[sampleIndex])}}return axisData};this.IM=function(variableIndices,xSampleIndex,ySampleIndex,xAxisUnit,yAxisUnit,markerIndices){var density={};var override={};var xData=[];var yData=[];var varCount=variableIndices.length;var xAxisTransform=this.xAxisTransform;var xAxisFloor=this.xAxisFloorValue;var xAxisCeil=this.xAxisCeilValue;var xAxisFactor=this.xAxisFactorValue;var yAxisTransform=this.yAxisTransform;var yAxisFloor=this.yAxisFloorValue;var yAxisCeil=this.yAxisCeilValue;var yAxisFactor=this.yAxisFactorValue;var xAxisMin=this.xAxisMin;var yAxisMin=this.yAxisMin;for(var j=0;j<varCount;j++){var currentVarIndex=variableIndices[j];var x=this.Cb(currentVarIndex,xSampleIndex,false,xAxisTransform,xAxisFloor,xAxisCeil,xAxisFactor);var y=this.Cb(currentVarIndex,ySampleIndex,false,yAxisTransform,yAxisFloor,yAxisCeil,yAxisFactor);var xGridPos=parseInt((x-xAxisMin)*xAxisUnit);var yGridPos=parseInt((y-yAxisMin)*yAxisUnit);var densityKey=xGridPos+":"+yGridPos+":0";if(this.eb([xGridPos,yGridPos])){if(!density.hasOwnProperty(densityKey)){density[densityKey]=[]}density[densityKey].push(currentVarIndex);if(markerIndices[currentVarIndex]){override[densityKey]=true}}xData.push(x);yData.push(y)}return{density:density,override:override,xData:xData,yData:yData}};this.XG=function(densityData,overrideData,variableIndices){var cellMetaData={vars:[],skip:{},density:{},max:1,n:0,colorBrew:null};var sortedDensityKeys=this.Nv(densityData).sort(function(a,b){var densityA=densityData[a].length;var densityB=densityData[b].length;if(densityA!==densityB){return densityA-densityB}else{return(densityData[a][0]||0)-(densityData[b][0]||0)}});var keyCount=sortedDensityKeys.length;for(var j=0;j<keyCount;j++){var currentKey=sortedDensityKeys[j];var variablesInBin=densityData[currentKey];var representativeVar=variablesInBin.pop();cellMetaData.vars.push(representativeVar);if(variablesInBin.length>0&&!overrideData[currentKey]){var currentDensity=variablesInBin.length+1;cellMetaData.max=Math.max(cellMetaData.max,currentDensity);cellMetaData.density[representativeVar.toString()]=currentDensity;cellMetaData.n++;var skippedCount=variablesInBin.length;for(var k=0;k<skippedCount;k++){if(!this.lineBy&&variableIndices.length>500){cellMetaData.skip[variablesInBin[k].toString()]=representativeVar}}}}cellMetaData.colorBrew=this.dl(false,1,cellMetaData.max);return cellMetaData};this.Yj=function(width,height){this.LF();var meta=this.meta.data.d;var layoutData=this.data.l;var allVarIndices=this.varIndices;var allSmpIndices=this.smpIndices;var sampleNames=this.data.y.smps;var markerIndices=this.wr();var layoutComp=layoutData&&layoutData.comp;var layoutCellCount=layoutComp?layoutComp.length:0;var effectiveWidth=width||this.width;var effectiveHeight=height||this.height;var overplotFactor=this.scatterType=="visium"?100:1;var layoutScaleFactor=Math.min(this.layoutRows,this.layoutCols)*2;var dps=parseInt(Math.min(1000,Math.max(10,(effectiveWidth*effectiveHeight*this.overplotPixels*overplotFactor)/(1000000*layoutScaleFactor))));var xAxisUnit=this.xAxisRange>0?dps/this.xAxisRange:0;var yAxisUnit=this.yAxisRange>0?dps/this.yAxisRange:0;var calculateXAxisHist=this.showHistogramDensity||this.xAxisHistogramShow;var calculateYAxisHist=this.showHistogramDensity||this.yAxisHistogramShow;for(var i=0;i<layoutCellCount;i++){var cellVarsSmps=this.aM(i,layoutData,this.segregateVariablesBy.length>0,this.segregateSamplesBy.length>0,this.scatterPlotMatrix,allVarIndices,allSmpIndices);var cellVariableIndices=cellVarsSmps.vars;var cellSampleIndices=cellVarsSmps.smps;if(!cellVariableIndices.length||!cellSampleIndices.length||cellSampleIndices[0]<0||cellSampleIndices[1]<0){meta.l[i]={vars:[],skip:{},density:{},max:1,n:0,colorBrew:false};continue}if(this.scatterType=="visium"||allVarIndices.length<500){if(!meta.l[i]){meta.l[i]={vars:cellVariableIndices,skip:{},density:{},max:1,n:0,colorBrew:false}}continue}var xSampleIndex=this.scatterType=="manhattan"?this.yV("Manhattan"):cellSampleIndices[0];var ySampleIndex=this.scatterType=="manhattan"?this.manhattanMarkerLogPValueIndex:(cellSampleIndices[1]||cellSampleIndices[0]);var cellXData=[];var cellYData=[];if(calculateXAxisHist){cellXData=this.m0(xSampleIndex,cellVariableIndices,"x",meta.s,sampleNames)}if(calculateYAxisHist){if(xSampleIndex!==ySampleIndex){cellYData=this.m0(ySampleIndex,cellVariableIndices,"y",meta.s,sampleNames)}else{cellYData=cellXData}}if(!meta.l[i]){var scatterDensityResult=this.IM(cellVariableIndices,xSampleIndex,ySampleIndex,xAxisUnit,yAxisUnit,markerIndices);if(calculateXAxisHist&&!meta.s.hasOwnProperty(xSampleIndex.toString())&&scatterDensityResult.xData.length>0){meta.s[xSampleIndex.toString()]=this.sL(scatterDensityResult.xData,sampleNames[xSampleIndex])}if(calculateYAxisHist&&!meta.s.hasOwnProperty(ySampleIndex.toString())&&scatterDensityResult.yData.length>0){if(xSampleIndex!==ySampleIndex){meta.s[ySampleIndex.toString()]=this.sL(scatterDensityResult.yData,sampleNames[ySampleIndex])}else{if(!meta.s.hasOwnProperty(ySampleIndex.toString())){meta.s[ySampleIndex.toString()]=meta.s[xSampleIndex.toString()]}}}meta.l[i]=this.XG(scatterDensityResult.density,scatterDensityResult.override,cellVariableIndices)}}};this.Fa=function(width,height,overplotPixels,overplotFactor,xAxisRange,yAxisRange){var dps=parseInt(Math.min(1000,Math.max(10,(width*height*overplotPixels*overplotFactor)/1000000)));if(this.scatterType=="manhattan"){dps*=2}var xAxisUnit=xAxisRange>0?dps/xAxisRange:0;var yAxisUnit=yAxisRange>0?dps/yAxisRange:0;return{dps:dps,xAxisUnit:xAxisUnit,yAxisUnit:yAxisUnit}};this.TK=function(densityKeys,keyCounts,markedVariableLookup,totalVisibleVariables){var processedVars=[];var skippedVars={};var densityCounts={};var maxDensity=0;var densityPointCount=0;for(var j=densityKeys.length-1;j>=0;j--){var currentKey=densityKeys[j];var count=keyCounts[currentKey];if(count==1){processedVars.unshift(j)}else{if(count>1){maxDensity=Math.max(maxDensity,count);processedVars.unshift(j);densityCounts[j]=count;densityPointCount++;keyCounts[currentKey]=-j}else{if(count<0){if(!this.lineBy&&totalVisibleVariables>500&&!markedVariableLookup[j]){skippedVars[j]=-count}}}}}return{vars:processedVars,skip:skippedVars,density:densityCounts,max:maxDensity,n:densityPointCount,colorBrew:this.dl(false,1,maxDensity)}};this.dn=function(xAxisIndex,yAxisIndex,zAxisIndex,visibleVarIndices,xAxisUnit,yAxisUnit,markedVariableLookup,metaSamples,metaAxisPairs,axisPairKey){if(metaAxisPairs.hasOwnProperty(axisPairKey)||this.scatterType=="visium"){return{xAxisData:[],yAxisData:[]}}var xAxisTransform=this.xAxisTransform,xAxisFloor=this.xAxisFloorValue,xAxisCeil=this.xAxisCeilValue,xAxisFactor=this.xAxisFactorValue,xAxisMin=this.xAxisMin;var yAxisTransform=this.yAxisTransform,yAxisFloor=this.yAxisFloorValue,yAxisCeil=this.yAxisCeilValue,yAxisFactor=this.yAxisFactorValue,yAxisMin=this.yAxisMin;var zAxisTransform=this.zAxisTransform,zAxisFloor=this.zAxisFloorValue,zAxisCeil=this.zAxisCeilValue,zAxisFactor=this.zAxisFactorValue,zAxisMin=this.zAxisMin,zAxisMax=this.zAxisMax;var sizeBy=this.sizeBy;var sizes=this.sizes;var defaultPointSize=this.dataPointSize*this.dataPointSizeScaleFactor;var xDataPoints=[];var yDataPoints=[];var densityKeys=[];var varCount=visibleVarIndices.length;for(var j=0;j<varCount;j++){var currentVarIndex=visibleVarIndices[j];var x=this.Cb(currentVarIndex,xAxisIndex,false,xAxisTransform,xAxisFloor,xAxisCeil,xAxisFactor);var y=this.Cb(currentVarIndex,yAxisIndex,false,yAxisTransform,yAxisFloor,yAxisCeil,yAxisFactor);var z=zAxisIndex!==false?this.Cb(currentVarIndex,zAxisIndex,false,zAxisTransform,zAxisFloor,zAxisCeil,zAxisFactor):null;var xGridPos=parseInt((x-xAxisMin)*xAxisUnit);var yGridPos=parseInt((y-yAxisMin)*yAxisUnit);var sizeGridComp;if(sizeBy){sizeGridComp=parseInt(this.wn(currentVarIndex,null,"sizeBy"))}else{if(zAxisIndex!==false&&z!=null&&sizes&&sizes.length>1&&zAxisMin!=null&&zAxisMax!=null){var clampedZ=Math.max(zAxisMin,Math.min(zAxisMax,z));var perc=this.cL(zAxisMin,zAxisMax,clampedZ);var sizeIndex=Math.max(0,Math.min(sizes.length-1,Math.floor(perc/10)));sizeGridComp=sizes[sizeIndex]}else{sizeGridComp=defaultPointSize}}sizeGridComp=parseInt(sizeGridComp);var densityKey=xGridPos+":"+yGridPos+":"+sizeGridComp;densityKeys.push(densityKey);xDataPoints.push(x);yDataPoints.push(y)}var keyCounts=this.Jp(densityKeys);metaAxisPairs[axisPairKey]=this.TK(densityKeys,keyCounts,markedVariableLookup,varCount);return{xAxisData:xDataPoints,yAxisData:yDataPoints}};this.gO=function(axisIndex,axisPrefix,precalculatedData,visibleVarIndices,metaSamples,sampleNames){var axisIndexStr=axisIndex.toString();var dataPoints=precalculatedData||[];if(!metaSamples.hasOwnProperty(axisIndexStr)){if(!precalculatedData){var transformProp=axisPrefix+"AxisTransform";var floorProp=axisPrefix+"AxisFloorValue";var ceilProp=axisPrefix+"AxisCeilValue";var factorProp=axisPrefix+"AxisFactorValue";var transform=this[transformProp],floor=this[floorProp],ceil=this[ceilProp],factor=this[factorProp];var varCount=visibleVarIndices.length;for(var j=0;j<varCount;j++){dataPoints.push(this.Cb(visibleVarIndices[j],axisIndex,false,transform,floor,ceil,factor))}}if(dataPoints.length>0){metaSamples[axisIndexStr]=this.sL(dataPoints,sampleNames[axisIndex])}}return dataPoints};this.R7=function(collectedXAxisData,collectedYAxisData,xAxisIndices,yAxisIndices,meta){var flatXData=[];for(var key in collectedXAxisData){if(collectedXAxisData.hasOwnProperty(key)){flatXData.push(collectedXAxisData[key])}}var flatYData=[];for(var key in collectedYAxisData){if(collectedYAxisData.hasOwnProperty(key)){flatYData.push(collectedYAxisData[key])}}if(flatXData.length>0){meta.x=this.Eh(flatXData,xAxisIndices,"xAxis")}if(flatYData.length>0){meta.y=this.Eh(flatYData,yAxisIndices,"yAxis")}};this.k9=function(width,height){this.LF();var meta=this.meta.data.d;var markedVariableLookup=this.wr();var allVarIndices=this.varIndices;var sampleNames=this.data.y.smps;var xAxisIndices=this.xAxisIndices;var yAxisIndices=this.yAxisIndices;var zAxisIndices=this.zAxisIndices;var xAxisCurrent=this.xAxisCurrent;var yAxisCurrent=this.yAxisCurrent;var zAxisCurrent=this.zAxisCurrent;var graphType=this.graphType;var axesType=this.axesType;var overplotPixels=this.overplotPixels;var xAxisRange=this.xAxisRange;var yAxisRange=this.yAxisRange;var visibleVarIndices=this.TU(allVarIndices.length<50000?allVarIndices:this.Ns());var overplotFactor=visibleVarIndices.length>50000?0.5:1;visibleVarIndices.sort(function(a,b){return a-b});var zoomOrResize=(this.setMinX!=null&&this.setMaxX!=null&&this.setMinY!=null&&this.setMaxY!=null);var effectiveWidth=zoomOrResize?(width||this.width):width?Math.min(width,this.width):this.width;var effectiveHeight=zoomOrResize?(height||this.height):height?Math.min(height,this.height):this.height;var gridParams=this.Fa(effectiveWidth,effectiveHeight,overplotPixels,overplotFactor,xAxisRange,yAxisRange);var dps=gridParams.dps;var xAxisUnit=gridParams.xAxisUnit;var yAxisUnit=gridParams.yAxisUnit;if(meta.q==null||zoomOrResize){meta.q=dps}var calculateXAxisHist=this.showHistogramDensity||this.xAxisHistogramShow;var calculateYAxisHist=this.showHistogramDensity||this.yAxisHistogramShow;var collectedXAxisData={};var collectedYAxisData={};meta.a={};meta.s={};var maxIterations=axesType=="XYZ"?1:Math.max(xAxisIndices.length,yAxisIndices.length);for(var i=0;i<maxIterations;i++){var currentXAxisIndex=(axesType=="Y"||axesType=="XYZ")?xAxisIndices[xAxisCurrent]:xAxisIndices[i];var currentYAxisIndex=(axesType=="X"||axesType=="XYZ")?yAxisIndices[yAxisCurrent]:yAxisIndices[i];var currentZAxisIndex=(graphType=="ScatterBubble2D"&&!this.sizeBy&&zAxisIndices&&zAxisIndices.length>0&&zAxisCurrent<zAxisIndices.length)||axesType=="XYZ"?(zAxisIndices?zAxisIndices[zAxisCurrent]:false):false;var axisPairKey=currentZAxisIndex!==false?currentXAxisIndex+":"+currentYAxisIndex+":"+currentZAxisIndex:currentXAxisIndex+":"+currentYAxisIndex;var densityData=this.dn(currentXAxisIndex,currentYAxisIndex,currentZAxisIndex,visibleVarIndices,xAxisUnit,yAxisUnit,markedVariableLookup,meta.s,meta.a,axisPairKey);if(calculateXAxisHist){var xData=this.gO(currentXAxisIndex,"x",densityData.xAxisData,visibleVarIndices,meta.s,sampleNames);if(xData.length>0){collectedXAxisData[currentXAxisIndex]=xData}}if(calculateYAxisHist){var yData=(currentYAxisIndex===currentXAxisIndex&&collectedXAxisData[currentXAxisIndex])?collectedXAxisData[currentXAxisIndex]:this.gO(currentYAxisIndex,"y",densityData.yAxisData,visibleVarIndices,meta.s,sampleNames);if(yData.length>0){collectedYAxisData[currentYAxisIndex]=yData}}}if(calculateXAxisHist||calculateYAxisHist){this.R7(collectedXAxisData,collectedYAxisData,xAxisIndices,yAxisIndices,meta)}};this.Pb=function(){var graphType=this.graphType;var isBoxplot=graphType=="Boxplot";var isDotplot=graphType=="Dotplot";var showViolin=this.showViolinBoxplot;var isBinned=this.binned;var isSina=this.sina;var isGrouped=this.isGroupedData;var groupingFactors=this.groupingFactors;var segregateSamplesBy=this.segregateSamplesBy;var segregateVariablesBy=this.segregateVariablesBy;var dataObj=this.data;var groupedData=dataObj.w;var layoutData=dataObj.l;var metaData=this.meta.data.d;var varIndices=this.varIndices;var smpIndices=this.smpIndices;var grpIndices=this.grpIndices;var layoutValid=this.layoutValid;var isDOE=this.isDOE;var showOriginalData=this.showBoxplotOriginalData;var isTransformed=this.isTransformedData;var transformedDataY=dataObj.y.trans;var originalDataY=dataObj.y.data;var varNames=dataObj.y.vars;var xAxisTransform=this.xAxisTransform;var xAxisFloor=this.xAxisFloorValue;var xAxisCeil=this.xAxisCeilValue;var xAxisFactor=this.xAxisFactorValue;var calculateForViolin=showViolin&&isBoxplot;var calculateForBinnedSina=(isBinned||isSina)&&(isBoxplot||isDotplot);var needsDensityCalculation=calculateForViolin||calculateForBinnedSina;var isSegregatedByGroupingFactor=segregateSamplesBy.length>0&&isGrouped&&groupingFactors.indexOf(segregateSamplesBy[0])!==-1;if(isGrouped&&!groupedData){this.hW(groupingFactors,false,false,false,true);groupedData=this.data.w;grpIndices=this.grpIndices}if(needsDensityCalculation){var sampleOrGroupIndices=isGrouped?grpIndices:smpIndices;var sampleOrGroupIndicesLength=sampleOrGroupIndices.length;var varIndicesLength=varIndices.length;var i,j,k,l;for(i=0;i<varIndicesLength;i++){var currentVarIndex=varIndices[i];var dataPointsForGlobalDensity=[];var sampleIndicesForVar=[];var currentVarName=varNames[currentVarIndex];for(j=0;j<sampleOrGroupIndicesLength;j++){var currentSampleOrGroupIndex=sampleOrGroupIndices[j];if(isGrouped&&groupedData){var sourceData=(isTransformed&&transformedDataY)||(showOriginalData&&transformedDataY)?transformedDataY:originalDataY;var groupMembers=groupedData.grps[currentSampleOrGroupIndex];var groupMembersLength=groupMembers.length;for(k=0;k<groupMembersLength;k++){var sampleIndex=groupMembers[k];dataPointsForGlobalDensity.push(sourceData[currentVarIndex][sampleIndex]);sampleIndicesForVar.push(sampleIndex)}}else{dataPointsForGlobalDensity.push(this.Cb(currentVarIndex,currentSampleOrGroupIndex,false,xAxisTransform,xAxisFloor,xAxisCeil,xAxisFactor));sampleIndicesForVar.push(currentSampleOrGroupIndex)}}var globalDensityResult=this.sL(dataPointsForGlobalDensity,currentVarName);var midpointLookup=[];metaData.v[currentVarIndex]={density:globalDensityResult,area:globalDensityResult.sumY,scale:globalDensityResult.maxY,indices:sampleIndicesForVar,max:globalDensityResult.maxY};var histogramIndices=globalDensityResult.histogram.idxs;var histogramMids=globalDensityResult.histogram.mids;var histogramIndicesLength=histogramIndices.length;for(j=0;j<histogramIndicesLength;j++){var binIndices=histogramIndices[j];var binIndicesLength=binIndices.length;var currentMidpoint=histogramMids[j];for(k=0;k<binIndicesLength;k++){var originalIndexPosition=binIndices[k];var originalSampleIndex=sampleIndicesForVar[originalIndexPosition];midpointLookup[originalSampleIndex]=currentMidpoint}}metaData.v[currentVarIndex].mids=midpointLookup;if(isGrouped&&groupedData){metaData.g[currentVarIndex]=[];var maxGroupArea=0;var maxGroupScale=0;var maxGroupN=0;var sourceData=(isTransformed&&transformedDataY)||(showOriginalData&&transformedDataY)?transformedDataY:originalDataY;var useLayoutGrouping=layoutValid&&!isDOE&&!isSegregatedByGroupingFactor&&!segregateVariablesBy.length&&layoutData;if(useLayoutGrouping){var layoutComponents=layoutData.comp;var layoutNames=layoutData.name;var groupedGrps=groupedData.grps;var groupedGlobalLabels=groupedData.glab;var layoutComponentsLength=layoutComponents.length;var groupedGrpsLength=groupedGrps.length;for(j=0;j<layoutComponentsLength;j++){var layoutCompGroup=layoutComponents[j];for(k=0;k<groupedGrpsLength;k++){var dataGroup=groupedGrps[k];var intersection=this.mQ(layoutCompGroup,dataGroup);if(intersection.length>0){var dataPointsForGroup=[];var globalMidpointsForGroup=[];var intersectionLength=intersection.length;for(l=0;l<intersectionLength;l++){var sampleIndex=intersection[l];dataPointsForGroup.push(sourceData[currentVarIndex][sampleIndex]);globalMidpointsForGroup.push(midpointLookup[sampleIndex])}var groupLabel=[layoutNames[j],groupedGlobalLabels[k]].join("::");var groupDensityResult=this.sL(dataPointsForGroup,groupLabel);metaData.g[currentVarIndex].push({density:groupDensityResult,indices:intersection,global:globalMidpointsForGroup});maxGroupArea=Math.max(maxGroupArea,groupDensityResult.sumY);maxGroupScale=Math.max(maxGroupScale,groupDensityResult.maxY);maxGroupN=Math.max(maxGroupN,groupDensityResult.n)}}}var calculatedGroupsLength=metaData.g[currentVarIndex].length;for(j=0;j<calculatedGroupsLength;j++){metaData.g[currentVarIndex][j].area=maxGroupArea;metaData.g[currentVarIndex][j].scale=maxGroupScale;metaData.g[currentVarIndex][j].max=maxGroupN;metaData.g[currentVarIndex][j].total=globalDensityResult.n}}else{var sampleCounter=0;var groupLabels=groupedData.labs;var groupedGrps=groupedData.grps;var groupMetaDataStorage={};for(j=0;j<sampleOrGroupIndicesLength;j++){var currentGroupIndex=sampleOrGroupIndices[j];var dataPointsForGroup=[];var globalMidpointsForGroup=[];var groupMembers=groupedGrps[currentGroupIndex];var groupMembersLength=groupMembers.length;for(k=0;k<groupMembersLength;k++){var sampleIndex=groupMembers[k];dataPointsForGroup.push(sourceData[currentVarIndex][sampleIndex]);globalMidpointsForGroup.push(midpointLookup[sampleIndex]);sampleCounter++}var groupLabel=groupLabels[currentGroupIndex];var groupDensityResult=this.sL(dataPointsForGroup,groupLabel);groupMetaDataStorage[currentGroupIndex]={density:groupDensityResult,indices:groupMembers,global:globalMidpointsForGroup};maxGroupArea=Math.max(maxGroupArea,groupDensityResult.sumY);maxGroupScale=Math.max(maxGroupScale,groupDensityResult.maxY);maxGroupN=Math.max(maxGroupN,groupDensityResult.n)}metaData.g[currentVarIndex]=[];for(j=0;j<sampleOrGroupIndicesLength;j++){var currentGroupIndex=sampleOrGroupIndices[j];var storedGroupData=groupMetaDataStorage[currentGroupIndex];storedGroupData.area=maxGroupArea;storedGroupData.scale=maxGroupScale;storedGroupData.max=maxGroupN;storedGroupData.total=globalDensityResult.n;metaData.g[currentVarIndex][currentGroupIndex]=storedGroupData}}}}}};this.FC=function(){var isDataGrouped=this.isGroupedData;var dataObject=this.data;var anchorLegend=this.correlationAnchorLegend;var currentYAxisTitle=this.yAxisTitle;var sourceDataLevel=isDataGrouped?dataObject.w:dataObject.y;this.setMin=null;this.setMax=null;if(anchorLegend){this.tH("xAxis")}var correlationDataExists=sourceDataLevel&&sourceDataLevel.cor&&sourceDataLevel.cor.length>0;if(!correlationDataExists){this.Zl("cor")}this.summaryType="cor";this.l1("cor");if(!currentYAxisTitle){this.yAxisTitle="Correlation"}};this.y2=function(){this.summaryType="gantt";this.tH("xAxis","gantt")};this.d3=function(){this.summaryType="fish";this.tH("xAxis","fish");this.tH("yAxis","fish")};this.FC=function(){var isDataGrouped=this.isGroupedData;var dataObject=this.data;var anchorLegend=this.correlationAnchorLegend;var currentYAxisTitle=this.yAxisTitle;var sourceDataLevel=isDataGrouped?dataObject.w:dataObject.y;this.setMin=null;this.setMax=null;if(anchorLegend){this.tH("xAxis")}var correlationDataExists=sourceDataLevel&&Object.prototype.hasOwnProperty.call(sourceDataLevel,"cor")&&sourceDataLevel.cor.length>0;if(!correlationDataExists){this.Zl("cor")}this.summaryType="cor";this.l1("cor");if(!currentYAxisTitle){this.yAxisTitle="Correlation"}};this.y2=function(){this.summaryType="gantt";this.tH("xAxis","gantt")};this.d3=function(){this.summaryType="fish";this.tH("xAxis","fish");this.tH("yAxis","fish")};this.Gk=function(type,width,height){var currentGraphType=this.graphType;var originalSmpIndices=this.smpIndices;var scatterAxesEqual=this.scatterAxesEqual;var isQQPlot=this.isQQ;var isCDFPlot=this.isCDF;var isKMPlot=this.isKM;var showHistogramFlag=this.showHistogram;var histogramStatType=this.histogramStat;var histogramPlotType=this.histogramType;var densityPositionType=this.densityPosition;var histogramAsDotplotFlag=this.histogramAsDotplot;var isLayoutValid=this.layoutValid;var layoutAdjustFlag=this.layoutAdjust;var isScatterPlotMatrix=this.scatterPlotMatrix;var userConfig=this.meta.config.user;var xAxisTitleDynamicFlag=this.xAxisTitleDynamic;var yAxisTitleDynamicFlag=this.yAxisTitleDynamic;var zAxisTitleDynamicFlag=this.zAxisTitleDynamic;var ridgeByFactor=this.ridgeBy;var isDOEPlot=this.isDOE;var axesToSetup=["xAxis"];var axisPrefixes=["X"];if(currentGraphType.match(/Scatter/)){axesToSetup.push("yAxis");axisPrefixes.push("Y")}if(currentGraphType.match(/ScatterBubble2D|Scatter3D/)){axesToSetup.push("zAxis");axisPrefixes.push("Z")}if(currentGraphType=="Scatter3D"){this.xAxisTicks=10;this.yAxisTicks=10;this.zAxisTicks=10}var combinedSampleIndices=[];if(scatterAxesEqual){var axesCount=axesToSetup.length;for(var i=0;i<axesCount;i++){var currentAxisName=axesToSetup[i];this.zC(currentAxisName);combinedSampleIndices=combinedSampleIndices.concat(this.yV(this[currentAxisName]))}combinedSampleIndices=this.Ry(combinedSampleIndices)}var axesCount=axesToSetup.length;for(var i=0;i<axesCount;i++){var axisName=axesToSetup[i];var axisIndicesProp=axisName+"Indices";var minOverrideProp="setMin"+axisPrefixes[i];var maxOverrideProp="setMax"+axisPrefixes[i];var axisTransformProp=axisName+"Transform";this.setMin=null;this.setMax=null;this.zC(axisName);this[axisIndicesProp]=this.i4(this.yV(this[axisName]));if(scatterAxesEqual){this.tM(combinedSampleIndices)}else{this.tM(this[axisIndicesProp])}if(this[minOverrideProp]!=null){this.setMin=this[minOverrideProp]}if(this[maxOverrideProp]!=null){this.setMax=this[maxOverrideProp]}var attributeType=false;if(isQQPlot||isCDFPlot||isKMPlot){attributeType=type}else{if(showHistogramFlag&&(histogramStatType=="density"||histogramPlotType=="stacked"||densityPositionType!="normal"||histogramAsDotplotFlag)){if(isLayoutValid&&layoutAdjustFlag&&!isScatterPlotMatrix){attributeType="density"}else{attributeType=i>0?"density":false}}else{if(i>0){attributeType=type}}}this.tH(axisName,attributeType,false,this[axisTransformProp]);this.tM(originalSmpIndices)}if(isQQPlot||isCDFPlot||isKMPlot){}else{if(!isScatterPlotMatrix){if(ridgeByFactor){this.xAxisTitle=this.xAxisTitle||"Bin";this.yAxisTitle=this.yAxisTitle||false}else{if(showHistogramFlag){}else{var xAxisContent=this.xAxis;var yAxisContent=this.yAxis;var zAxisContent=this.zAxis;if(!userConfig.hasOwnProperty("xAxisTitle")&&(xAxisTitleDynamicFlag||!this.xAxisTitle)){this.xAxisTitle=xAxisContent.length==1?xAxisContent[0]:false}if(currentGraphType.match(/Scatter/)){if(!userConfig.hasOwnProperty("yAxisTitle")&&(yAxisTitleDynamicFlag||!this.yAxisTitle)){this.yAxisTitle=yAxisContent.length==1?yAxisContent[0]:false}if(currentGraphType.match(/ScatterBubble2D|Scatter3D/)){if(!userConfig.hasOwnProperty("zAxisTitle")&&(zAxisTitleDynamicFlag||!this.zAxisTitle)){this.zAxisTitle=zAxisContent.length==1?zAxisContent[0]:false}}}}}}}if(currentGraphType.match(/Scatter/)){if(isLayoutValid&&!isDOEPlot){if(!isScatterPlotMatrix&&!showHistogramFlag){this.Yj(width,height)}}else{this.k9(width,height)}}};this.wM=function(){var showIdeogramFlag=this.showIdeogram;var ideogramShowFullChromosomeFlag=this.ideogramShowFullChromosome;var currentSetMinX=this.setMinX;var currentSetMaxX=this.setMaxX;var ideogramName=this.ideogram;var chromosomeNumber=this.ideogramChromosomeNumber;var genomeTicksSetting=this.genomeTicks;if(showIdeogramFlag&&ideogramShowFullChromosomeFlag&&currentSetMinX==null&&currentSetMaxX==null){var ideogramData=CanvasXpress&&CanvasXpress.chromosomes&&CanvasXpress.chromosomes[ideogramName];var chromosomeSpecificData=ideogramData&&ideogramData.data&&ideogramData.data[chromosomeNumber];if(chromosomeSpecificData&&chromosomeSpecificData.length>0){var lastSegment=chromosomeSpecificData[chromosomeSpecificData.length-1];currentSetMinX=0;currentSetMaxX=lastSegment[1]}else{console.warn("Chromosome data not available for setting Genome axis range for ideogram:",ideogramName,"chromosome:",chromosomeNumber);currentSetMinX=currentSetMinX==null?0:currentSetMinX;currentSetMaxX=currentSetMaxX==null?1000000:currentSetMaxX}this.setMinX=currentSetMinX;this.setMaxX=currentSetMaxX}this.setMin=currentSetMinX!=null?currentSetMinX:null;this.setMax=currentSetMaxX!=null?currentSetMaxX:null;this.l1("genome");if(currentSetMaxX!=null){this.maxData=currentSetMaxX}if(currentSetMinX!=null){this.minData=currentSetMinX}this.xAxisExact=true;this.xAxisTransform=false;this.xAxisAbsMin=this.minData;this.xAxisAbsMax=this.maxData;this.xAxisMin=this.minData;this.xAxisMax=this.maxData;this.xAxisDecs=0;this.xAxisRange=this.xAxisMax-this.xAxisMin;this.xAxisTicks=genomeTicksSetting;if(this.xAxisRange>0&&this.xAxisTicks>0){this.xAxisIncr=this.xAxisRange/this.xAxisTicks}else{this.xAxisIncr=this.xAxisRange===0?0:1}this.Fy("xAxis")};this.wg=function(){var isGrouped=this.isGroupedData;var dataObj=this.data;var metaModifiedData=this.meta.data.modified;var sampleTextFont=this.smpTextFont;var axisTickFont=this.xAxisTextFont;var numTicks=this.xAxisTicks;var useWilkinsonLoose=this.axisWilkinsonLoose;var axisAlgorithmFunc=this[this.axisAlgorithm];var dataLevel=isGrouped?dataObj.w:dataObj.y;var sampleOrGroupIndices=isGrouped?this.grpIndices:this.smpIndices;var sampleNames=dataLevel.smps;this.parallelCoordinates=[];var parallelCoordinatesResult=this.parallelCoordinates;var i,j;var indicesLength=sampleOrGroupIndices.length;for(i=0;i<indicesLength;i++){var currentIndex=sampleOrGroupIndices[i];var sampleName=sampleNames[currentIndex];var sampleNameLength=this.pb(sampleName,sampleTextFont);var dataForSample=this.wT(currentIndex);var dataRange=this.cp(dataForSample);var dataMin=dataRange[0];var dataMax=dataRange[1];var calculatedTicks=axisAlgorithmFunc.call(this,dataMin,dataMax,numTicks,false,useWilkinsonLoose);var filteredTickValues=[];var calculatedTicksLength=calculatedTicks.length;for(j=0;j<calculatedTicksLength;j++){var tick=calculatedTicks[j];if(tick>=dataMin&&tick<=dataMax){filteredTickValues.push(tick)}}if(filteredTickValues.length<2&&dataMin!==dataMax){filteredTickValues=this.Ry([dataMin,dataMax]).sort(function(a,b){return a-b})}else{if(filteredTickValues.length===0&&dataMin===dataMax){filteredTickValues=[dataMin]}}var maxTickValueString=this.pQ(filteredTickValues).toString();var maxTickValueLength=this.pb(maxTickValueString,axisTickFont);var axisData={smp:sampleName,lenSmp:sampleNameLength,range:dataRange,min:dataMin,max:dataMax,vals:filteredTickValues,maxText:maxTickValueString,len:maxTickValueLength,type:"Numeric"};var categoricalData=metaModifiedData&&metaModifiedData.z&&metaModifiedData.z[sampleName];if(categoricalData){var categoryLevels=categoricalData;var maxCategoryLevelString=this.pQ(categoryLevels).toString();var maxCategoryLevelLength=this.pb(maxCategoryLevelString,axisTickFont);axisData.levs=categoryLevels;axisData.maxTextLev=maxCategoryLevelString;axisData.lenLev=maxCategoryLevelLength;axisData.type="String"}parallelCoordinatesResult.push(axisData)}};this.GM=function(type,noExtend,forceStacked){var currentGraphType=this.graphType;var isGrouped=this.isGroupedData;var currentLineBy=this.lineBy;var currentXAxisTransform=this.xAxisTransform;var currentHeatmapType=this.heatmapType;var currentAreaType=this.areaType;var currentSegregateVarsBy=this.segregateVariablesBy;var currentStackBy=this.stackBy;var currentDodgeBy=this.dodgeBy;var isLayoutValid=this.layoutValid;var is3D=this.is3DPlot;var currentBarType=this.barType;var currentRangeStack=this.rangeStack;var currentBulletTargetVar=this.bulletTargetVarName;var useAxisCoordinates=this.axisCoordinate;var currentVarIndicesStart=this.varIndicesStart;var currentSmpIndicesStart=this.smpIndicesStart;var currentGrpIndicesStart=this.grpIndicesStart;var currentGroupingFactors=this.groupingFactors;var shouldSummarizeBoxplot=this.summarizeBoxplot;var isDOEPlot=this.isDOE;var isScatterMatrix=this.scatterPlotMatrix;var currentXAxisTicks=this.xAxisTicks;var currentMeterMin=this.setMin;var currentMeterMax=this.setMax;var currentSetMaxX=this.setMaxX;var currentSetMinX=this.setMinX;var currentSetMaxX2=this.setMaxX2;var currentSetMinX2=this.setMinX2;var currentSetMaxR=this.setMaxR;var currentSetMinR=this.setMinR;var currentRAxis=this.rAxis;var currentCircularType=this.circularType;var currentYAxis=this.yAxis;var currentSetMaxY=this.setMaxY;var currentSetMinY=this.setMinY;var originalSmpIndices=this.smpIndices;var originalVarIndices=this.varIndices;var originalGrpIndices=this.grpIndices;var currentVarIndices=this.varIndices;var isStackedActive=function(){if(currentGraphType=="Stacked"||(currentGraphType.match(/Stacked/)&&!currentSegregateVarsBy.length)||(currentGraphType.match(/Area/)&&currentAreaType.match(/stacked/)&&!currentSegregateVarsBy.length)||forceStacked||currentStackBy||currentDodgeBy){return true}else{if(isLayoutValid&&currentGraphType.match(/Stacked/)){return true}else{return false}}};var combinedAxisVarIndices=false;var forceRawData=((currentGraphType=="Dotplot"||currentGraphType=="DotLine")||(currentGraphType=="Line"&&currentLineBy))&&isGrouped?true:false;var axisTransformType=currentGraphType.match(/Percent/)||(currentGraphType.match(/Area/)&&currentAreaType.match(/percent/))?"percentile":currentXAxisTransform;var correlationType=currentGraphType=="Heatmap"&&currentHeatmapType=="correlation"?"cor":false;var isStacked=isStackedActive();var attributeDataType=correlationType?correlationType:axisTransformType?axisTransformType:false;var isLineComboChart=currentGraphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/);if(!is3D){this.zC("xAxis",true);this.xAxisVarIndices=this.tU(this.xAxis);if(currentGraphType=="Bar"&&currentBarType=="bullet"){var bulletVarIndices=this.TU(currentVarIndices);if(currentRangeStack.length){bulletVarIndices=bulletVarIndices.concat(this.tU(currentRangeStack))}if(currentBulletTargetVar.length){var targetIndex=this.tU(currentBulletTargetVar);if(targetIndex!=null&&targetIndex>-1){bulletVarIndices=bulletVarIndices.concat(targetIndex)}}this.FE(this.Ry(bulletVarIndices))}if(isLineComboChart){this.zC("xAxis2",true);this.xAxis2VarIndices=this.tU(this.xAxis2);combinedAxisVarIndices=this.Ry(this.TU(this.xAxisVarIndices).concat(this.TU(this.xAxis2VarIndices)));this.xAxis2Ticks=currentXAxisTicks}}if(currentVarIndicesStart>-1||currentSmpIndicesStart>-1||currentGrpIndicesStart>-1){if(currentGraphType=="Heatmap"){this.graphOrientation="horizontal"}}else{if(currentGraphType=="StackedPercent"||currentGraphType=="StackedPercentLine"||(currentGraphType.match(/Area/)&&currentAreaType.match(/percent/))){this.setMinX=null;this.setMaxX=null;this.xAxisExact=true}else{if((currentGraphType=="Boxplot"&&!isGrouped&&currentGroupingFactors.length==0)||shouldSummarizeBoxplot){if(currentGraphType=="Boxplot"&&!isGrouped&&currentGroupingFactors.length==0&&!isDOEPlot&&!isScatterMatrix){this.yH();originalGrpIndices=this.grpIndices}else{this.Zl("iqr")}delete (this.summarizeBoxplot)}}}this.xAxis2Ticks=currentXAxisTicks;if(isLineComboChart){this.FE(useAxisCoordinates?combinedAxisVarIndices:this.wV("xAxis"))}if(currentGraphType=="Meter"){this.setMin=currentMeterMin!=null?currentMeterMin:null;this.setMax=currentMeterMax!=null?currentMeterMax:null}else{this.setMax=currentSetMaxX!=null?currentSetMaxX:null;this.setMin=currentSetMinX!=null?currentSetMinX:null}this.Pb();this.tH("xAxis",attributeDataType,forceRawData,axisTransformType,isStacked,noExtend);if(isLineComboChart){attributeDataType=false;this.FE(useAxisCoordinates?combinedAxisVarIndices:this.wV("xAxis2"));this.setMax=currentSetMaxX2!=null?currentSetMaxX2:null;this.setMin=currentSetMinX2!=null?currentSetMinX2:null;this.tH("xAxis2",attributeDataType,forceRawData,axisTransformType,isStacked)}this.setMax=currentSetMaxR!=null?currentSetMaxR:this.setMax;this.setMin=currentSetMinR!=null?currentSetMinR:this.setMin;if(currentGraphType=="Circular"&&(currentRAxis.length||currentCircularType=="chord")){if(currentYAxis&&currentYAxis.length>0){this.setMax=currentSetMaxY!=null?currentSetMaxY:null;this.setMin=currentSetMinY!=null?currentSetMinY:null;this.zC("yAxis",true);this.tH("yAxis","circular",forceRawData,false,false,true)}this.setMax=currentSetMaxR!=null?currentSetMaxR:null;this.setMin=currentSetMinR!=null?currentSetMinR:null;this.tH("rAxis","circular",forceRawData,axisTransformType,false,true)}this.FE(originalVarIndices);this.smpIndices=originalSmpIndices;this.varIndices=originalVarIndices;this.grpIndices=originalGrpIndices};this.DT=function(axisType,preventAxisExtension,forceStackedCalculation,canvasWidth,canvasHeight){var currentGraphType=this.graphType;var currentSmpIndices=this.smpIndices;var isDOEPlot=this.isDOE;var currentMinData=this.minData;var currentMaxData=this.maxData;var heatmapAutoAdjustEnabled=this.heatmapAutoAdjust;if((!currentSmpIndices||currentSmpIndices.length<1)&&!currentGraphType.match(/Genome/)){console.warn("setAxes: No samples selected, skipping axis setup.");return}if(currentGraphType.match(/Venn|Network|Sankey|Tree/)&&!isDOEPlot){return}if(currentGraphType.match(/Heatmap|Correlation/)&&currentMinData&&currentMaxData&&!heatmapAutoAdjustEnabled){return}if(currentGraphType.match(/Correlation/)){this.FC()}else{if(currentGraphType.match(/Gantt/)){this.y2()}else{if(currentGraphType.match(/Fish/)){this.d3()}else{if(currentGraphType.match(/Scatter|Pie/)){this.Gk(axisType,canvasWidth,canvasHeight)}else{if(currentGraphType.match(/Genome/)){this.wM()}else{if(currentGraphType=="ParallelCoordinates"){this.wg()}else{this.GM(axisType,preventAxisExtension,forceStackedCalculation)}}}}}}};this.QI=function(forceResetIndices,fullResetAxes){var userConfig=this.meta.config.user;var userAes=userConfig&&userConfig.aes;var isCxPlot=this.isCxplot;var getAxisValue=function(axisName,axisLetter){if(fullResetAxes){return[]}if(userConfig&&userConfig[axisName]&&!forceResetIndices){return userConfig[axisName]}if(isCxPlot&&userAes&&userAes[axisLetter]){return[userAes[axisLetter]]}return[]};this.xAxis=getAxisValue("xAxis","x");this.yAxis=getAxisValue("yAxis","y");this.zAxis=getAxisValue("zAxis","z");if(forceResetIndices){this.varIndices=[];this.smpIndices=[]}this.DT(undefined,undefined,undefined,undefined,undefined)};this.zl=function(axisName,dimensionOverride){var unitPropertyName=axisName+"Unit";var rangePropertyName=axisName+"Range";var axisDimension=dimensionOverride?dimensionOverride:axisName.substring(0,1);var pixelSize=this[axisDimension];var dataRange=this[rangePropertyName];if(dataRange!=null&&dataRange!==0&&pixelSize!=null){this[unitPropertyName]=pixelSize/dataRange}else{this[unitPropertyName]=0}};this.lV=function(title,dim,axis){var isAutoScaleEnabled=this.autoScaleFont;var baseFontName=this.fontName;var self=this;if(isAutoScaleEnabled){var textFontProp=axis+"AxisTextFont";var titleFontProp=axis+"AxisTitleFont";this.gV(dim,"decorationsTextFont");this.gV(dim,textFontProp);this.gV(dim,titleFontProp);this.v6(title,titleFontProp,dim)}else{var buildFontString=function(stylePropertyName,sizePropertyName){var fontStyle=self[stylePropertyName];var fontSize=parseInt(self[sizePropertyName])||0;return fontStyle+" "+fontSize+"px "+baseFontName};this.decorationsTextFont=buildFontString("decorationsTextFontStyle","decorationsTextFontSize");this.xAxisTextFont=buildFontString("xAxisTextFontStyle","xAxisTextFontSize");this.xAxisTitleFont=buildFontString("xAxisTitleFontStyle","xAxisTitleFontSize");this.yAxisTextFont=buildFontString("yAxisTextFontStyle","yAxisTextFontSize");this.yAxisTitleFont=buildFontString("yAxisTitleFontStyle","yAxisTitleFontSize");this.rAxisTextFont=buildFontString("rAxisTextFontStyle","rAxisTextFontSize");this.rAxisTitleFont=buildFontString("rAxisTitleFontStyle","rAxisTitleFontSize")}};this.xu=function(canvasWidth,canvasHeight,skipColorSetup){var currentGraphType=this.graphType;if(!currentGraphType.match(/Venn|Network/)){this.DT(false,false,false,canvasWidth,canvasHeight);if(!skipColorSetup){this.er()}}}};CanvasXpress.prototype.initCxplot=function(){this.wv=function(d,c){var h=["color","fill"];for(var g=0;g<h.length;g++){if(d&&d.hasOwnProperty(h[g])){if((c.data.x&&c.data.x.hasOwnProperty(d[h[g]])||(c.data.z&&c.data.z.hasOwnProperty(d[h[g]])))){continue}if(String(d[h[g]]).match(/\(.+\)/)){var b=d[h[1]]?d[h[1]].match(/\((.+)\)/):false;if(b&&b.length>1){var e=b[1].split(",");delete d[h[1]];for(var f=0;f<e.length;f++){var k=e[f].trim();if((c.data.x&&c.data.x.hasOwnProperty(k)||(c.data.z&&c.data.z.hasOwnProperty(k)))){d[h[g]]=k;break}}}}}}h=["x","y","z"];for(var g=0;g<h.length;g++){if(d&&d.hasOwnProperty(h[g])){if(String(d[h[g]]).match(/as.numeric\(rownames\(/)){if(c.graphType.match(/Scatter/i)){c.VY(true,true)}else{c.VY(false,true)}d[h[g]]="__SEQ__"}}}};this.P6=function(g,c){var b=null;var a=[];for(var f=0;f<g[0].length;f++){if(g[0][f]==c){b=f;for(var e=1;e<g.length;e++){a.push(g[e][b])}return a}}if(b==null){for(var f=0;f<g.length;f++){if(g[f][0]==c){for(var e=1;e<g[f].length;e++){a.push(g[f][e])}return a}}}return a};this.PZ=function(e){var d=this;var b=this.meta.config.user.aes;var g={};var c=function(i,l,j){var k=d.meta.data[i][l];g[j+"AxisTime"]=k.date};var a=function(i){if(d.aes&&(d.aes.stringSampleFactors==i||d.aes.stringVariableFactors==i)){return true}return false};if(e){var h=e=="xz"?"xz":e=="x"?"z":"x";if(!this.data[e]&&this.data[h]){this.rq(false,true);if(b.stringSampleFactors&&b.stringSampleFactors.length){b.stringSampleFactors=this.i4(b.stringSampleFactors);var f=b.stringSampleFactors[0];if(e=="z"){if(this.meta.data.z[f].type!="String"){this.zd(f,false,true)}}else{if(this.meta.data.x[f].type!="String"){this.zd(f,true,true)}}}}else{if(e=="xz"){if(!this.aes.x){return this.PZ()}}}}else{if(b.x&&b.y){if(this.graphType.match(/Boxplot|Violin/)){}else{if(this.data.y.vars.includes(b.x)&&this.meta.data.x&&this.meta.data.x.hasOwnProperty(b.y)&&!a(b.y)&&(this.meta.data.x[b.y].type!="String"||this.meta.data.x[b.y].date)){}else{if(this.data.y.vars.includes(b.y)&&this.meta.data.x&&this.meta.data.x.hasOwnProperty(b.x)&&!a(b.x)&&(this.meta.data.x[b.x].type!="String"||this.meta.data.x[b.x].date)){this.graphType="Scatter2D";this.rq(false,true);c("z",b.x,"x");this.HY(b.x,true)}else{if(this.meta.data.x&&this.meta.data.x.hasOwnProperty(b.x)&&!a(b.x)&&(this.meta.data.x[b.x].type!="String"||this.meta.data.x[b.x].date)&&this.meta.data.x&&this.meta.data.x.hasOwnProperty(b.y)&&!a(b.y)&&(this.meta.data.x[b.y].type!="String"||this.meta.data.x[b.y].date)){this.graphType="Scatter2D";this.rq(false,true);c("z",b.x+"x");c("x",b.y+"y");this.HY(b.x,true);this.HY(b.y,true)}else{if(this.data.y.vars.includes(b.x)&&this.data.y.vars.includes(b.y)&&!this.meta.ggplot.layers.hasOwnProperty("GeomBar")){this.graphType=this.graphType=="Pie"?"Pie":"Scatter2D";this.rq(false,true)}}}}}}else{if(b.x){if(this.data.y.vars.includes(b.x)){this.graphType="Scatter2D";this.rq(false,true)}}else{if(b.y){if(this.data.y.vars.includes(b.y)){this.graphType="Scatter2D";this.rq(false,true)}}}}}if(b.x){g.xAxis=[b.x]}if(b.y){g.yAxis=[b.y]}if(b.z){g.zAxis=[b.z]}return g};this.qN=function(e,g,u){var k=Object.keys(g.meta.data.x).length?g.meta.data.x:Object.keys(g.meta.data.z).length?g.meta.data.z:{};var r=false;var f=false;var s=false;var a=false;var c=false;var t=false;var l=false;var n=false;var h=e&&e.alpha?e.alpha:false;if((e&&e.color&&e.color!="NULL")||(g.aes&&g.aes.color&&g.aes.color!="NULL")){var o=e&&e.color&&e.color!="NULL"?e.color:"dummy";var m=g.aes&&g.aes.color&&g.aes.color!="NULL"?g.aes.color:"dummy";if(k[m]&&!k[o]){r=g.aes.color;f=r&&k[r]}else{r=e.color;f=r&&k[r]}}if((e&&e.fill&&e.fill!="NULL")||(g.aes&&g.aes.fill&&g.aes.fill!="NULL")){var q=e&&e.fill&&e.fill!="NULL"?e.fill:"dummy";var p=g.aes&&g.aes.fill&&g.aes.fill!="NULL"?g.aes.fill:"dummy";if(k[p]&&!k[q]){s=g.aes.fill;a=s&&k[s]}else{s=e.fill;a=s&&k[s]}}if((e&&e.shape&&e.shape!="NULL")||(g.aes&&g.aes.shape&&g.aes.shape!="NULL")){var d=e&&e.shape&&e.shape!="NULL"?e.shape:"dummy";var b=g.aes&&g.aes.shape&&g.aes.shape!="NULL"?g.aes.shape:"dummy";if(k[b]&&!k[d]){c=g.aes.shape;t=c&&k[c]}else{c=e.shape;t=c&&k[c]}}if((e&&e.size&&e.size!="NULL")||(g.aes&&g.aes.size&&g.aes.size!="NULL")){var j=e&&e.size&&e.size!="NULL"?e.size:"dummy";var i=g.aes&&g.aes.size&&g.aes.size!="NULL"?g.aes.size:"dummy";if(k[i]&&!k[j]){l=g.aes.size;n=l&&k[l]}else{l=e.size;n=l&&k[l]}if(!n&&g.data.y.smps.includes(l)){n=l}}if(u){g.plotStyle="ggplot";g.boxplotBorderColor="rgb(0,0,0)";g.boxplotColor="rgb(255,255,255)";g.violinBorderColor="rgb(0,0,0)";g.violinColor="rgb(255,255,255)";g.boxplotWhiskersType="single"}if(!f&&h&&h<1){r=g.b9(r,h)}if(!a&&h&&h<1){s=g.b9(s,h)}if(r&&!s){if(f){g.colorBy=r;g.violinColor=false;g.plotStyle="ggplotSwitched"}else{if(u){g.boxplotColor=r;g.violinColor=r}}}else{if(!r&&s){if(a){g.colorBy=s;g.violinColor=false}else{if(u){g.boxplotColor=s;g.violinColor=s}}}else{if(r&&s){if(f&&a){g.colorBy=s;g.violinColor=false}else{if(f&&!a){g.colorBy=r;g.violinColor=false;if(u){g.boxplotColor=s;g.violinColor=s}}else{if(!f&&a){g.colorBy=s;g.violinColor=false;if(u){g.boxplotBorderColor=r;g.violinBorderColor=r}}else{if(u){g.boxplotColor=s;g.violinColor=s;g.boxplotBorderColor=r;g.violinBorderColor=r}}}}}}}if(c){if(t){g.shapeBy=c}else{if(c==0){c="square"}else{if(c==1){c="circle"}else{if(c==2){c="triangle"}else{if(c==3){c="plus"}else{if(c==4){c="minus"}else{if(c==5){c="diamond"}else{if(c==6){c="triangle2"}else{if(c==7){c="hexagon"}else{if(c==8){c="star"}else{if(c==9){c="octagon"}else{if(c==10){c="pentagon"}else{if(c==11){c="mdavid"}else{if(c==12){c="drop"}else{if(c==13){c="circleOpen"}else{if(c==14){c="square"}else{if(c==15){c="square"}else{if(c==16){c="circle"}else{if(c==17){c="triangle"}else{if(c==18){c="diamond"}else{if(c==19){c="circle"}else{if(c==20){c="circle"}else{if(c==21){c="circleOpen"}else{if(c==22){c="square"}else{if(c==23){c="diamond"}else{if(c==24){c="triangle"}else{if(c==25){c="triangle2"}else{c="circle"}}}}}}}}}}}}}}}}}}}}}}}}}}g.shapes.unshift(c)}}if(l){if(n){g.sizeBy=l}else{if(l>1){g.sizes.unshift(l)}}}};this.TR=function(b,a){if(b&&b.alpha&&b.alpha!="NULL"&&this.eb(b.alpha)){a.transparency=Number(b.alpha)}};this.WV=function(a,d,f){if(a&&a[f]&&a[f]!="NULL"){if(this.eb(a[f])){var b=(Number(a[f])-1)%7;var e=["rgb(0,0,0)","rgb(224,83,107)","rgb(97,208,79)","rgb(35,150,230)","rgb(41,226,229)","rgb(205,47,188)","rgb(245,199,18)","rgb(158,158,158)"];return e[b]}else{if(d&&!d.hasOwnProperty(a[f])){return this.u5(a[f])}}}return false};this.sY=function(c,b,a){if(c&&c.match(/pattern/)){var e=a.meta.data.x;var d=a.aes;if(b.asSampleFactors&&(b.asSampleFactors==d.x||b.asSampleFactors==d.y)){a.vl(b.asSampleFactors,true);a.zd(b.asSampleFactors,true,true);a.groupingFactors.push(b.asSampleFactors);a.patternBy=b.asSampleFactors;if(b.asSampleFactors==d.x){a.graphOrientation="vertical"}else{a.graphOrientation="horizontal"}}if(b&&b.pattern&&e&&e[b.pattern]){a.patternBy=b.pattern}else{if(b&&b.fill&&e&&e[b.fill]){a.patternBy=b.fill}else{if(b&&b.pattern_fill&&e&&e[b.pattern_fill]){a.patternBy=b.pattern_fill}}}if(!a.groupingFactors.includes(a.patternBy)){a.groupingFactors.push(a.patternBy)}a.objectBorderColor=a.u5(b.color||"rgb(0,0,0)");a.wD("x")}};this.G1=function(a,c,d,b){if(a&&a[d]&&a[d]!="NULL"){if(c&&c.hasOwnProperty(a[d])){if(b){return c[a[d]].type==b?a[d]:false}else{return a[d]}}}return false};this.vS=function(a,c,b,g){var k=c.meta.data.x;var x=c.data.x;var e;var u=0;var m=0;var q=false;var d=g?["x","y","color","fill"]:["x","y"];if(k){if(!a){a={}}for(var w in c.aes){if(!a.hasOwnProperty(w)||(a.hasOwnProperty(w)&&a[w]==null)){if(a.hasOwnProperty(w)&&a[w]==null){a[w+"Orig"]=null}a[w]=c.aes[w]}}for(var w=0;w<d.length;w++){var o=d[w];if(a&&a[o]&&k[a[o]]){e=a&&a[o]&&k[a[o]]?a[o]:c.aes[o]?c.aes[o]:false;if(e){u=Math.max(u,k[e].maxLevLen);m=Math.max(m,k[e].levels.length);if(k[e].type=="Numeric"&&x[e]){var r=0;var l={};for(var t=0;t<x[e].length;t++){var f=String(x[e][t]);if(!l.hasOwnProperty(f)){l[f]=true;r++;if(r>10){break}}}if(r>10){continue}}if(!c.groupingFactors.includes(e)){c.groupingFactors.push(e)}if(a&&a.stringSampleFactors){if(a&&a[o]&&k[a[o]]&&k[a[o]].type=="Numeric"){if(!c.stringSampleFactors.includes(e)){c.stringSampleFactors.push(e);q=true}}else{if(a&&c.aes[o]&&k[c.aes[o]]&&k[c.aes[o]].type=="Numeric"){if(!c.stringSampleFactors.includes(e)){c.stringSampleFactors.push(e);q=true}}}}else{if(a&&a[o]&&k[a[o]]&&k[a[o]].type=="Numeric"){c.stringSampleFactors.push(e);q=true}else{if(a&&c.aes[o]&&k[c.aes[o]]&&k[c.aes[o]].type=="Numeric"){c.stringSampleFactors.push(e);q=true}}}}c.graphOrientation=o=="x"?"vertical":o=="y"?"horizontal":c.graphOrientation}}if(g&&c.groupingFactors.length>0&&!q){var d=["x","y"];for(var w=0;w<d.length;w++){var o=d[w];if((a&&a[o]&&k[a[o]]&&k[a[o]].type=="Numeric")||(c.aes[o]&&k[c.aes[o]]&&k[c.aes[o]].type=="Numeric")){var f=a&&a[o]?a[o]:k[c.aes[o]];c.Ij(f,true);c.xAxis[0]=f;var h=c.tU("counts");if(h>=0){c.vl("counts",true)}}}}if(g&&a&&a.group&&!k[a.group]){if(c.data.y.vars.includes(a.group)){c.vl(a.group,true);c.groupingFactors.push(a.group);c.graphOrientation=a&&a.x==a.group?"vertical":a&&a.y==a.group?"horizontal":c.graphOrientation}}}c.smpTextRotate=c.graphOrientation=="horizontal"?0:u*m*c.groupingFactors.length<=c.width?90:45;c.sortOnGrouping="ascending";if(b){c.summaryType=b}};this.lo=function(b,a){var f=a.meta.data.z;var d;var g=["color","fill","shape","size"];if(f){for(var c=0;c<g.length;c++){var e=g[c];if((b&&b[e]&&f[b[e]])||(a.aes[e]&&f[a.aes[e]])){d=b&&b[e]&&f[b[e]]?b[e]:a.aes[e]?a.aes[e]:false;if(d){if(b&&b.stringVariableFactors){if(b&&b[e]&&f[b[e]]&&f[b[e]].type=="Numeric"){if(!a.stringVariableFactors.includes(d)){a.stringVariableFactors.push(d)}}else{if(b&&a.aes[e]&&f[a.aes[e]]&&f[a.aes[e]].type=="Numeric"){if(!a.stringVariableFactors.includes(d)){a.stringVariableFactors.push(d)}}}}}}}}};this.YL=function(c,b){var a=this;if(!a.blocked){a.blocked=true;a.wv(a.aes,a);c.call(a,a,a.PZ(b))}else{setTimeout(function(){a.YL(c,b)},30)}};this.Ow=function(a){a=Array.from(a);var d=a.shift();for(var b=0;b<a.length;b++){for(var c in a[b]){d[c]=a[b][c]}}return d};this.Hw=function(d){if(this[d]){var c=this[d];var a=false;var e="";if(this.data.y.smps.includes(c)||this.data.y.vars.includes(c)){e="y";a=true}else{if(this.meta.data.x&&this.meta.data.x.hasOwnProperty(c)){e="x";a=this.meta.data.x[c].type=="Numeric"}else{if(this.meta.data.z&&this.meta.data.z.hasOwnProperty(c)){e="z";a=this.meta.data.z[c].type=="Numeric"}}}}if(a){this.colorSpectrum=["#132B43","#56B1F7"];this.er(true,true);this.hC();this.wD(e)}};this.gA=function(a){if(a){if(this.meta.data.x&&this.meta.data.x.hasOwnProperty(a)){return this.meta.data.x[a].type}else{if(this.meta.data.z&&this.meta.data.z.hasOwnProperty(a)){return this.meta.data.z[a].type}}}return false};this.SI=function(j,h,e){if(h&&h.data){e.decorationsOnTop=true;e.decorationsTransform=false;switch(j){case"point":if(e.wo(h.data)&&h.data.hasOwnProperty("x")&&h.data.hasOwnProperty("y")){if(!e.decorations){e.decorations={}}var g=e.decorations;if(!g.point){g.point=[]}var n=h.color?e.u5(h.color):"rgb(0,0,0)";for(var f=0;f<h.data.x.length;f++){var k=h.data.x[f];var c=h.data.y[f];g.point.push({x:k,y:c,color:n})}}else{if(e.wo(h.data[0])){var k=null;var c=null;for(var f=0;f<h.data[0].length;f++){if(h.data[0][f]=="x"){k=f}else{if(h.data[0][f]=="y"){c=f}}}if(k!=null&&c!=null){if(!e.decorations){e.decorations={}}var g=e.decorations;if(!g.point){g.point=[]}for(var f=1;f<h.data.length;f++){g.point.push({x:h.data[f][k],y:h.data[f][c]})}}}}break;case"line":if(e.wo(h.data)&&h.data.hasOwnProperty("x")&&h.data.hasOwnProperty("y")){if(!e.decorations){e.decorations={}}var g=e.decorations;if(!g.line){g.line=[]}var n=h.color?e.u5(h.color):"rgb(0,0,0)";for(var f=1;f<h.data.x.length;f++){var b=h.data.x[f-1];var m=h.data.y[f-1];var a=h.data.x[f];var l=h.data.y[f];g.line.push({x:b,y:m,x2:a,y2:l,color:n})}}break;case"text":break}}else{if(h&&h.y&&e.meta.data.z&&e.meta.data.z.hasOwnProperty(h.y)&&e.graphType=="Scatter2D"&&e.scatterType=="line"){e.blocked=true;e.QI(true);e.HY(h.y,true);e.yAxis.push(h.y);e.showLegend=true;e.meta.data.l.push("GeomLine");e.x9({func:"geom_line",par:[h]});e.blocked=false}else{e.decorationsOnTop=true;if(h&&h.y&&e.meta.data.x&&e.meta.data.x.hasOwnProperty(h.y)){if(!e.decorations){e.decorations={}}if(!e.decorations.point){e.decorations.point=[]}var o=e.data.x[h.y];var p=h.size?Number(h.size)/2:1;for(var f=0;f<o.length;f++){e.decorations.point.push({smp:e.data.y.smps[f],smpId:f,value:o[f],width:p,height:p,color:e.u5(h.color)||"rgb(0,0,0)"})}}}}};this.ul=function(b,c){if(!this.reproducing){this.meta.ggplot.geoms.push(c);var a=this.meta.ggplot.map[c]?c+"."+this.meta.ggplot.map[c]:c;this.meta.ggplot.layers[a]=b||{};this.meta.ggplot.map[c]=this.meta.ggplot.map[c]?this.meta.ggplot.map[c]+1:1;return(this.meta.ggplot.map[c]>1)||!this.isRawData}else{return false}};this.Kd=function(g){this.blocked=true;this.ul(g,"GeomPwc");this.meta.data.l.push("GeomPwc");var e=Number.isInteger(g.x[0]);var k=this.meta.config.user.aes.x;var l=g.group?g.group:this.groupingFactors[1]!=k?this.groupingFactors[1]:this.groupingFactors[0];var m=this.meta.data.x;var a=this.meta.config.user.aes.y;var h=this.data.w.labs;var j={};var d=[];for(var c=0;c<g.x.length;c++){if(!j.hasOwnProperty(g.x[c].toString())){j[g.x[c].toString()]=true}}j=Object.keys(j).sort();for(var c=0;c<j.length;c++){d.push(Number(j[c]))}var b=function(i){if(h.includes(i)){return h.indexOf(i)}};var n=function(){var w=g.x.length;var v={};for(var B=0;B<w;B++){var u,t,s;var E=g.xmin[B];var D=g.xmax[B];var C=g.panel[B];var A=E+":"+D+":"+C;if(!v.hasOwnProperty(A)){v[A]={xmin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY,label:"",color:"",group:e?[E-1,D-1]:((E+D)/2)-1,panel:C,variable:a,type:"pwc"};if(e&&m[l]){u=m[k].levels[v[A].group[0]];t=m[k].levels[v[A].group[1]];s=m[l].levels.length-1;v[A].sample=u+" :: "+m[l].levels[0];v[A].sample2=t+" :: "+m[l].levels[0];v[A].sample3=u+" :: "+m[l].levels[s];v[A].sample4=t+" :: "+m[l].levels[s];v[A].group=b(v[A].sample);v[A].group2=b(v[A].sample2);v[A].group3=b(v[A].sample3);v[A].group4=b(v[A].sample4)}else{v[A].group=d.indexOf(E);v[A].group2=d.indexOf(D);v[A].sample=h[v[A].group];v[A].sample2=h[v[A].group2]}}v[A].xmin=Math.min(v[A].xmin,E);v[A].xmax=Math.max(v[A].xmax,D);v[A].ymin=Math.min(v[A].ymin,g.y[B]);v[A].ymax=Math.max(v[A].ymax,g.y[B]);v[A].text=g.label[B];v[A].color=g.col[B]}return v};var f=n();if(!this.decorations){this.decorations={}}if(!this.decorations.marker){this.decorations.marker=[]}for(var c in f){this.decorations.marker.push(f[c])}this.x9({func:"geom_pwc",par:[g]});this.blocked=false};this.Zu=function(a){this.blocked=true;this.ul(a,"GeomBracket");this.meta.data.l.push("GeomBracket");this.x9({func:"geom_bracket",par:[a]});this.blocked=false};this.tm=function(a,b,c){var d=this;var e=function(h){var r=h.meta.data.z;var z=function(B){var D=h.aes[B];if(h.data.y.smps.includes(D)){var A=h.data.y.smps.indexOf(D);var k=[];for(var C=0;C<h.data.y.data.length;C++){k.push(h.data.y.data[C][A])}return[Math.min.apply(null,k),Math.max.apply(null,k)]}};var p=function(){var k;if(a.color){if(h.u5(a.color)){k=h.u5(a.color);for(var A=0;A<f.length;A++){v.push(k)}}else{if(r&&r.hasOwnProperty(a.color)){h.colorBy=a.color;if(r[a.color].type=="Numeric"){h.colorSpectrum=["#132B43","#56B1F7"];k=h.dl(["#132B43","#56B1F7"],r[a.color].min,r[a.color].max);for(var A=0;A<f.length;A++){v.push(h.PW(k,Number(f[A])))}}else{for(var A=0;A<f.length;A++){if(r[a.color].order.hasOwnProperty(f[A])){v.push(r[a.color].colors[r[a.color].order[f[A]]])}else{v.push("rgb(0,0,0)")}}}}else{if(h.data.y.smps.includes(a.color)){h.colorBy=a.color;h.colorSpectrum=["#132B43","#56B1F7"];k=h.dl(["#132B43","#56B1F7"],h.meta.data.y.range[a.color].min,h.meta.data.y.range[a.color].max);for(var A=0;A<f.length;A++){v.push(h.PW(k,Number(f[A])))}}else{for(var A=0;A<f.length;A++){v.push("rgb(0,0,0)")}}}}}else{for(var A=0;A<f.length;A++){v.push("rgb(0,0,0)")}}};h.wv(a,h);h.decorationsOnTop=true;var x=h.decorations||{};var u=false;if(c=="GeomAbline"){if(!x.reg){x.reg=[]}}else{if(!x.line){x.line=[]}}var o=z("x");var n=z("y");var m=c=="GeomHline"?a.yintercept:c=="GeomVline"?a.xintercept:a.intercept?a.intercept:false;var q=c=="GeomAbline"&&h.tO(a.slope)?a.slope:c=="GeomAbline"?[a.slope]:false;var g=[];var f=[];var v=[];if(a.data){if(m){f=this.P6(a.data,m)}if(q){q=this.P6(a.data,q)}}else{if(h.tO(m)){f=m}else{f=[m]}}p();if(h.meta.data.l.includes("FacetWrapGrid")&&a.data){u=h.segregateSamplesBy.length?h.segregateSamplesBy[0]:h.segregateVariablesBy[0];g=this.P6(a.data,u)}var t=Number.NEGATIVE_INFINITY;var l=Number.POSITIVE_INFINITY;var s=Number.NEGATIVE_INFINITY;var j=Number.POSITIVE_INFINITY;for(var w=0;w<f.length;w++){var y=h.tO(a.linetype)?a.linetype[w]:(a.linetype||"line");if(this.yW()){switch(c){case"GeomHline":x.line.push({y:Number(f[w]),type:y==1?"line":y==2?"dashed":y,color:v[w],width:a.size||1.5,scope:g.length?g[w]:false,data:a.data,column:u});s=Math.max(s,f[w]);j=Math.min(j,f[w]);break;case"GeomVline":x.line.push({x:Number(f[w]),type:y==1?"line":y==2?"dashed":y,color:v[w],width:a.size||1.5,scope:g.length?g[w]:false,data:a.data,column:u});t=Math.max(t,f[w]);l=Math.min(l,f[w]);break;case"GeomAbline":x.reg.push({intercept:Number(f[w]),slope:Number(q[w]),type:y==1?"line":y==2?"dashed":y,color:v[w],width:a.size||1.5,scope:g.length?g[w]:false,data:a.data});break}}else{x.line.push({value:Number(f[w]),type:y==1?"line":y==2?"dashed":y,color:v[w],width:a.size||1.5,scope:g.length?g[w]:false,data:a.data,column:u});t=Math.max(t,f[w]);l=Math.min(l,f[w]);break}}if(t!=Number.NEGATIVE_INFINITY&&l!=Number.POSITIVE_INFINITY){if(h.xAxisFactorValue){l=l/h.xAxisFactorValue;t=t/h.xAxisFactorValue}if(o&&o[0]>l){o[0]=l;h.setMinX=l-(o[0]*0.1)}if(o&&o[1]<t){o[1]=t;h.setMaxX=t+(o[0]*0.1)}}if(s!=Number.NEGATIVE_INFINITY&&j!=Number.POSITIVE_INFINITY){if(h.yAxisFactorValue){j=j/h.yAxisFactorValue;s=s/h.yAxisFactorValue}if(n&&n[0]>j){n[0]=j;h.setMinY=j-(n[0]*0.1)}if(n&&n[1]<s){n[1]=s;h.setMaxY=s+(n[0]*0.1)}}h.decorations=x;h.meta.data.l.push(c);h.x9({func:"geom_xline",par:[a,b,c]});h.blocked=false;d.blocked=false};this.YL(e)};this.Od=function(a){this.ul(a,"GeomAbline");this.tm(a,"geom_abline","GeomAbline")};this.fB=function(a){this.ul(a,"GeomHline");this.tm(a,"geom_hline","GeomHline")};this.mX=function(a){this.ul(a,"GeomVline");this.tm(a,"geom_vline","GeomVline")};this.wK=function(a){if(this.aes&&this.aes.x&&this.aes.y&&this.aes.x!=this.aes.y){this.W0(a,"geom_area","GeomArea")}else{this.dc(a,"geom_area","GeomArea")}};this.Es=function(a){var b=this;this.ul(a,"GeomBlank");this.YL(function(e){var c=function(p,r,n){if(e.data.y.vars.includes(p)){var m=e.data.y.vars.indexOf(p);var q=e.data.y.data[m];var l=Math.max.apply(null,q);var o=Math.min.apply(null,q);if(r>l){e["setMax"+n]=r}if(r<o){e["setMin"+n]=r}}};var g=function(l){if(j.hasOwnProperty(l)&&j[l].type=="Numeric"){}};var j=e.meta.data.x;var f=e.meta.config.user.aes;if(a&&a.data&&a.data[0]&&a.data[1]){var k=a.data[0][1];var d=a.data[1][1];if(j&&f&&(k=="x"||k=="y")){var i=f.x;var h=f.y;g(i);g(h);c(i,d,"X");c(h,d,"X")}e.meta.data.l.push("GeomBlank")}e.x9({func:"geom_blank",par:[a]});e.blocked=false;b.blocked=false})};this.gX=function(b,c,d){var e=this;this.ul(b,d||"GeomBar");var a=false;var f=function(m,j){var t=m.meta.data.x;var u=function(p){for(var v=0;v<p.length;v++){if(!Number.isInteger(p[v])){return false}}return true};var l=function(i){if(i){if(m.aes.fill&&i.hasOwnProperty(m.aes.fill)){return m.aes.fill}else{if(m.aes.color&&i.hasOwnProperty(m.aes.color)){return m.aes.color}else{return false}}}else{return false}};var k=function(i){if(i){if(b.fill&&i.hasOwnProperty(b.fill)){return b.fill}else{if(m.aes.fill&&i.hasOwnProperty(m.aes.fill)){return m.aes.fill}else{if(b.color&&i.hasOwnProperty(b.color)){return b.color}else{if(m.aes.color&&i.hasOwnProperty(m.aes.color)){return m.aes.color}else{return false}}}}}else{return false}};if(!b){b={}}if(b&&b.position&&b.position.match(/stack/)){b.position="stack"}m.wv(b,m);m.graphOrientation=(b&&b.y)||m.aes.y||c?"horizontal":"vertical";for(var n in j){m[n]=j[n]}if(b&&b.weight){m.aes.weight=b.weight}var g=m.aes&&t?l(t):false;var h=b.fill==true?(b.fill||m.aes.fill||b.color||m.aes.color):t?k(t):false;var r=m.aes.y&&!m.aes.x?m.aes.y:m.aes.x;m.vS(b,m,m.aes.weight?"sum":m.data.y.vars.includes(r)||(b&&b.position)?false:"count");if(b&&h&&b.position&&h!=r&&h!=true){if(b.hasOwnProperty("data")&&b.data.hasOwnProperty("x")&&b.data.hasOwnProperty("y")){m.stringSampleFactors.push(h);m.groupingFactors.push(h);m.colorBy=h;b.skipPosition=true}else{if(b.x&&b.y&&m.data.y.vars.includes(b.y)&&m.data.y.vars.includes(b.x)){var q=u(m.data.y.data[m.data.y.vars.indexOf(b.x)]);var o=u(m.data.y.data[m.data.y.vars.indexOf(b.y)]);m.graphOrientation=q?"vertical":"horizontal";m.H2(h,(q?b.x:b.y),(q&&b.meta&&b.meta.xLabels?b.meta.xLabels:o&&b.meta&&b.meta.yLabels?b.meta.yLabels:false),true);a=true}else{if(b.position!="stack"||b.stat!="identity"){m.cR(h,true);if(b.stat=="StatIdentity"){var s=[];if(b.x&&b.meta&&b.meta[b.x]){for(var n=0;n<b.meta[b.x].length;n++){s.push(m.data.y.smps.indexOf(b.meta[b.x][n]))}m.smpIndices=s}}}else{m.rq(false,true);if(h&&h!=true){m.colorBy=h}else{if(m.colorBy||(g&&g!=true)){m.colorBy=g;m.BF("cat","var",m.colorBy,true)}}}}}if(b.position=="fill"||b.position=="stack"||b.position=="dodge"){if(b.position=="dodge"&&!b.skipPosition){m.summaryType="sum"}}}else{if(r&&m.data.y.vars.includes("counts")){m.summaryType="sum"}else{if((b.position=="fill"||b.position=="stack"||b.position=="dodge")&&!m.groupingFactors.length){if((b.position=="stack"||b.position=="dodge")&&b.stat=="identity"){}else{m.rq(false,true)}}}if(h&&h!=true){m.colorBy=h}else{if(m.colorBy||(g&&g!=true)){m.colorBy=g;m.BF("cat","var",m.colorBy,true)}}}if(!b.position&&m.colorBy){m.stackBy=m.colorBy;m.colorBy=false}m.TR(b,m);if(h){if(b&&!b.skipPosition){if(b.position=="fill"){m.graphType="StackedPercent";m.guidesShow=false;m.colorScheme="Viridis"}else{if(b.position=="stack"){m.graphType="Stacked";m.guidesShow=false;if(b.x){m.colorScheme="Viridis"}}else{if(b.position=="dodge"){m.graphType="Bar";m.colorScheme="Viridis"}}}}else{m.graphType="Bar"}}if(m.data.y.vars.length==1&&!m.colorBy){m.showLegend=false}if(m.aes.y&&m.data.y.smps.includes(m.aes.y)){m.graphOrientation="vertical";m.showSampleNames=false}if(m.aes.y&&m.data.y.smps.includes(m.aes.y)&&m.aes.x&&m.data.y.smps.includes(m.aes.x)){m.rq(false,true);m.vl(m.aes.x,true);m.A9(m.aes.x,true);m.showSampleNames=true}m.sY(c,b,m);m.smpTextRotate=m.graphOrientation=="vertical"&&!a?90:0;m.meta.data.l.push(d||"GeomBar");m.x9({func:"geom_bar",par:[b,c,d]});m.blocked=false;e.blocked=false};this.YL(f,"x")};this.n4=function(a){this.gX(a,"geom_bar_pattern","GeomBarPattern")};this.iI=function(a){this.gX(a,"geom_col","GeomCol")};this.nx=function(a){this.gX(a,"geom_col_pattern","GeomColPattern")};this.stat_count=this.geom_bar;this.pU=function(a,b,c){var d=this;this.ul(a,c||"GeomBin2d");var e=function(f,g){f.wv(a,f);f.graphType="Scatter2D";f.scatterType="bin2d";if(a&&a.bins){f.binplotBins=a.bins}if(a&&a.binwidth){f.binplotBinWidth=a.binwidth}f.TR(a,f);f.sY(b,a,f);f.binplotShape=c?"hexagon":"rectangle";f.meta.data.l.push(c||"GeomBin2d");f.x9({func:"geom_bin_2d",par:[a,b,c]});f.blocked=false;d.blocked=false};this.YL(e,"z")};this.OG=function(a,b,c){var d=this;this.ul(a,c||"GeomBoxplot");var f=a&&a.hasOwnProperty("group")&&a.group.hasOwnProperty("cut_width")?Object.keys(a.group.cut_width):false;var e=function(g,k){g.wv(a,g);var j=g.meta.data.l;g.vS(a,g,false,true);g.qN(a,g,true);if(j.includes("GeomPoint")){g.showBoxplotOriginalData=true}if(a){if(a.notch){g.boxplotNotched=a.notch}if(a.varwidth){g.boxplotVarWidth=a.varwidth}if(a["outlier.shape"]){switch(a["outlier.shape"].toString()){case"0":g.boxplotOutliersShape="squareOpen";break;case"1":g.boxplotOutliersShape="circleOpen";break;case"2":g.boxplotOutliersShape="triangleOpen";break;case"3":g.boxplotOutliersShape="plus";break;case"4":g.boxplotOutliersShape="minus";break;case"5":g.boxplotOutliersShape="diamondOpen";break;case"15":case"22":g.boxplotOutliersShape="square";break;case"16":case"19":case"20":case"21":g.boxplotOutliersShape="circle";break;case"17":case"24":g.boxplotOutliersShape="triangle";break;case"18":case"23":g.boxplotOutliersShape="diamond";break;default:g.boxplotOutliersShape="star";break}if(g.boxplotOutliersShape.match(/Open/)){g.boxplotOutliersColor="rgba(0,0,0,0)";if(a["outlier.color"]||a["outlier.colour"]){g.boxplotOutliersBorderColor=g.u5(a["outlier.color"]||a["outlier.colour"])}}else{if(a["outlier.fill"]){g.boxplotOutliersColor=g.u5(a["outlier.fill"]);if(a["outlier.color"]||a["outlier.colour"]){g.boxplotOutliersBorderColor=g.u5(a["outlier.color"]||a["outlier.colour"])}}else{if(a["outlier.color"]||a["outlier.colour"]){g.boxplotOutliersColor="rgba(0,0,0,0)";g.boxplotOutliersBorderColor=g.u5(a["outlier.color"]||a["outlier.colour"])}}}}if((a.hasOwnProperty("fill")&&(a.fill===null||a.fill=="white"))||(a.hasOwnProperty("fillOrig")&&a.fillOrig===null)){g.plotStyle="open";if(a.hasOwnProperty("color")&&!g.meta.data.x.hasOwnProperty(a.color)&&a.fill!="white"&&(!a.hasOwnProperty("fillOrig")||a.fillOrig!=null)){g.plotStyle="default";g.boxplotColor=g.u5(a.fill);g.boxplotBorderColor=g.u5(a.color)}else{if(a.hasOwnProperty("color")&&!g.meta.data.x.hasOwnProperty(a.color)&&a.fill=="white"){g.plotStyle="default";g.boxplotColor=g.u5(a.fill);g.boxplotBorderColor=g.u5(a.color)}}}}g.TR(a,g);g.sY(b,a,g);for(var h in k){g[h]=k[h]}g.graphType="Boxplot";if(f){g.groupingFactors=f[0];g.groupingFactorWindow=a.group.cut_width[f[0]];g.boxplotVarWidth=true;g.graphType="Scatter2D";g.scatterType="boxplot"}if(!g.colorBy){g.showLegend=false}else{if(g.colorBy&&!g.showBoxplotOriginalData){g.colorScheme="GGPlot";g.NM();g.af();g.boxplotColor=false}}g.meta.data.l.push(c||"GeomBoxplot");g.x9({func:"geom_boxplot",par:[a,b,c]});g.blocked=false;d.blocked=false};this.YL(e,f?"z":"x")};this.stat_boxplot=this.geom_boxplot;this.Jv=function(a){this.OG(a,"geom_boxplot_pattern","GeomBoxplotPattern")};this.XD=function(a,b,c){var d=this;this.ul(a,c||"GeomContour");var e=function(f,l){f.wv(a,f);var k=f.meta.data.z;var j=f.meta.data.l;f.lo(a,f);f.graphType=!c||(c&&c=="GeomContourFilled")?"ScatterBubble2D":"Scatter2D";f.legendColumns=1;f.contourFilled=c&&(c=="GeomContourFilled"||c=="GeomDensity2dFilled")?true:false;var h={bins:"contourLevelNumber",binwidth:"contourLevelWidth",breaks:"contourLevels",contour_var:"contourStat"};for(var g in a){if(g=="meta"){continue}if(h.hasOwnProperty(g)){f[h[g]]=a[g]}else{f[g]=a[g]}}if(c&&c=="GeomRaster"){f.showContourBands=false;f.contourType="raster"}else{if(j.includes("GeomPoint")){f.showContourDataPoints=true}else{}}if(c&&(c=="GeomContourFilled"||c=="GeomDensity2dFilled")){f.showContourBands=false}var m=false;if(a&&(a.fill||a.fill)){if(a.fill&&k.hasOwnProperty(a.fill)){m=a.fill}else{if(a.fill&&k.hasOwnProperty(a.fill)){m=a.fill}else{f.contourBandsColor=a.fill||a.fill}}}else{if(a&&(a.color||a.color)){if(a.color&&k.hasOwnProperty(a.color)){m=a.color}else{if(a.color&&k.hasOwnProperty(a.color)){m=a.color}else{f.contourBandsColor=a.color||a.color}}}else{if(j.includes("FacetWrapGrid")){m=f.segregateSamplesBy.length?f.segregateSamplesBy[0]:f.segregateVariablesBy[0]}}}if(a&&a.alpha&&a.alpha!="NULL"){f.contourFilledTransparency=a.alpha}if(m){f.colorScheme="ViridisInv";f.NM();f.af()}for(var g in l){f[g]=l[g]}f.isContour=m||true;f.meta.data.l.push(c||"GeomContour");f.x9({func:"geom_contour",par:[a,b,c]});f.blocked=false;d.blocked=false};this.YL(e)};this.stat_contour=this.geom_contour;this.RN=function(a){this.XD(a,"geom_contour_filled","GeomContourFilled")};this.stat_contour_filled=this.geom_contour_filled;this.L8=function(a,b,c){var d=this;this.ul(a,"GeomDensity");var e=function(f,k){f.wv(a,f);var j=f.meta.data.z;f.lo(a,f);f.showHistogramBars=false;f.showHistogramDensity=true;f.histogramStat=a&&a.after_stat?a.after_stat:f.aes.after_stat?f.aes.after_stat:"density";f.showFilledHistogramDensity=(a&&a.fill)||f.aes.fill?true:false;var h={alpha:"histogramDensityFillTransparency",bw:"bandwidthRule",adjust:"bandwidthAdjust",kernel:"densityKernel",position:"densityPosition"};var m={nrd0:"nrd0",nrd:"nrd",ucv:"ucv",bcv:"bcv",sj:"sheatherJones",silverman:"silverman"};for(var g in a){if(g=="meta"){continue}if(h.hasOwnProperty(g)){if(h[g]=="bandwidthRule"){if(!isNaN(a[g])){f.bandwidthAdjust=Number(a[g])}else{if(m.hasOwnProperty(a[g])){f[h[g]]=m[a[g]]}else{f.bandWidthRule="nrd"}}}else{f[h[g]]=a[g]+(g=="position"?"ed":"")}}else{f[g]=a[g]}}if(f.densityPosition=="filled"){delete (a.fill)}f.sY(b,a,f);var l=true;if(a&&a.color){if(a.color&&j.hasOwnProperty(a.color)){l=a.color}else{f.objectBorderColor=f.u5(a.color)||"rgba(0,0,0,0)"}}else{if(f.aes.color){l=f.aes.color}}if(a&&(a.fill||f.aes.fill)&&l==true){if(a&&a.fill){if(a.fill&&j.hasOwnProperty(a.fill)){l=a.fill}}else{if(f.aes.fill){l=f.aes.fill}}}if(l!==true){f.colorScheme="ViridisInv";f.NM();f.af()}for(var g in k){f[g]=k[g]}f.showHistogram=l;f.graphType="Scatter2D";f.legendColumns=1;f.meta.data.l.push(c||"GeomDensity");f.x9({func:"geom_density",par:[a,b,c]});f.blocked=false;d.blocked=false};this.YL(e)};this.stat_density=this.geom_density;this.wx=function(a){this.L8(a,"geom_density_pattern","GeomDensityPattern")};this.tL=function(a){this.XD(a,"geom_density_2d","GeomDensity2d")};this.stat_density_2d=this.geom_density_2d;this.dF=function(a){this.XD(a,"geom_density_2d_filled","GeomDensity2dFilled")};this.stat_density_2d_filled=this.geom_density_2d_filled;this.YW=function(a){var b=this;this.ul(a,"GeomDensityRidges");var c=function(d,e){d.wv(a,d);d.graphType="Scatter2D";d.showHistogramBars=false;d.showHistogramDensity=true;d.showFilledHistogramDensity=true;d.ridgeBy=d.aes.y;d.ridgelineViolin=false;d.showLegend=false;if(a&&a.bandwidthAdjust){d.bandwidthAdjust=Number(a.bandwidthAdjust)*8}if(d.data.x&&d.data.x.hasOwnProperty(d.aes.y)){d.rq(false,true)}if(a){if(a.panel_scaling){d.histogramStat="density"}if(a.scale){d.ridgelineScale=a.scale}if(a.jittered_points){if(a.point_shape=="|"){d.xAxisRugShow=true}else{d.showHistogramDataPoints=true}}if(a.quantile_lines){d.showHistogramQuantiles=true}}if(d.aes.color||d.aes.fill){d.colorBy=d.aes.color||d.aes.fill;if(a&&a.gradient_lwd){d.colorBy="data"}}d.meta.data.l.push("GeomDensityRidges");d.x9({func:"geom_density_ridges",par:[a]});d.blocked=false;b.blocked=false};this.YL(c)};this.geom_density_ridges2=this.geom_density_ridges;this.geom_ridgeline=this.geom_density_ridges;this.stat_density_ridges=this.geom_density_ridges;this.geom_density_ridges_gradient=this.geom_density_ridges;this.w9=function(a){var b=this;this.ul(a,"GeomDotplot");var c=function(d,l){d.wv(a,d);var k=d.meta.data.x;var j={stackdir:"histogramStackDir",stackratio:"histogramStackRatio",binwidth:"histogramBinWidth",bins:"histogramBins"};var h=d.meta.data.l.includes("GeomBoxplot");var l=false;var f=[];for(var e in a){if(e=="meta"){continue}if(j.hasOwnProperty(e)){d[j[e]]=a[e]}else{d[e]=a[e]}}d.histogramDotplotColor="rgb(0,0,0)";d.histogramDotplotColorBorder="rgb(0,0,0)";if(d.aes.color||d.aes.fill){d.colorBy=d.aes.color||d.aes.fill}else{if(a){if(h){d.showBoxplotOriginalData=true;d.boxplotOriginalDataColor=a.fill;d.binned=true;d.binAlignment=a.stackdir||"center"}else{if(a.fill&&k.hasOwnProperty(a.fill)){d.colorBy=a.fill}else{if(a.color&&k.hasOwnProperty(a.color)){d.colorBy=a.color}else{if(a.fill){d.histogramDotplotColor=a.fill;if(a.color){d.histogramDotplotBorderColor=a.color}}else{if(a.color){d.histogramDotplotBorderColor=a.color}}}}if(a.stroke){d.histogramDotplotBorderSize=a.stroke}}}}d.TR(a,d);if(d.aes.x&&d.aes.y){d.graphType=h?"Boxplot":"Dotplot";if(d.aes.asSampleFactors&&d.aes.asSampleFactors.includes(d.aes.x)){f.push(d.aes.x);d.graphOrientation="vertical";d.smpTextRotate=90;d.widthFactor=1;d.binned=true;d.binAlignment=a.stackdir||"center"}if(d.colorBy){f.push(d.colorBy)}if(f.length){d.groupingFactors=f;l=[["sortSamplesByCategory",[f]]]}}else{d.graphType="Scatter2D";d.histogramAsDotplot=true;d.showHistogram=true;d.yAxisTitle="count";d.xAxisTitle=d.data.y.vars[0]}d.histogramRight=false;if(!d.histogramBins){d.histogramBins=30}if(!d.colorBy){d.showLegend=false}d.meta.data.l.push("GeomDotplot");d.x9({func:"geom_dotplot",par:[a],preRender:l});d.blocked=false;b.blocked=false};this.YL(c,"xz")};this.dM=function(a){var b=this;this.ul(a,"GeomDumbbell");var c=function(d){d.meta.data.l.push("GeomDumbbell");d.vS(a,d,false,true);d.xAxisShow=false;d.xAxis2Show=true;d.xAxis=[a.x,a.xend];d.graphType="Dotplot";d.dotplotType="stacked";d.x9({func:"geom_dumbbell",par:[a]});d.blocked=false;b.blocked=false};this.YL(c,"x")};this.Rc=function(a,b,c){var d=this;this.ul(a,c||"GeomErrorbar");var e=function(g){var l=g.graphType.match(/Scatter/)?g.meta.data.z:g.meta.data.x;var h=false;var k=false;var m=function(i){return i.map(function(n,p,o){return o.filter(function(q){return q<n}).length+1})};if(g.meta.ggplot.layers.hasOwnProperty("GeomBar")){}if(g.meta.ggplot.layers.hasOwnProperty("GeomBar")&&g.groupingFactors.length&&a.data&&a.data.x){g.showErrorBars=false;g.decorationsOnTop=true;k=m(a.data.x)}else{if(g.aes.x&&l.hasOwnProperty(g.aes.x)){g.hW(g.aes.x,false,false,false,true);if(!g.groupingFactors.includes(g.aes.x)){g.groupingFactors.push(g.aes.x)}h="x"}else{if(g.aes.y&&l.hasOwnProperty(g.aes.y)){g.hW(g.aes.y,false,false,false,true);if(!g.groupingFactors.includes(g.aes.y)){g.groupingFactors.push(g.aes.y)}h="y"}}}if(a){if((a.xmin&&a.xmax)||(a.ymin&&a.ymax)){if(!g.decorations){g.decorations={}}if(!g.decorations.error){g.decorations.error=[]}var f=g.meta&&g.meta.config&&g.meta.config.user&&g.meta.config.user.aes&&g.meta.config.user.aes.group&&g.meta.config.user.aes.color&&g.meta.config.user.aes.group==g.meta.config.user.aes.color?g.meta.config.user.aes.group:false;if(g.graphType.match(/Scatter/)){}else{if(g.meta.ggplot.layers.hasOwnProperty("GeomPoint")){g.graphType="Dotplot"}if(a.xmin&&a.xmax){for(var j=0;j<a.xmin.length;j++){g.decorations.error.push({min:a.xmin[j],max:a.xmax[j],color:a.color||"rgb(0,0,0)",width:a.width||a.height||1,size:1,type:g.is(a.linetype),sample:h?g.data.x[g.aes[h]][j]:k?k[j]-1:g.data.y.smps[j],cat:f?g.colorBy:false,level:f?g.data.x[f][j]:false,isIndex:k?true:false})}}if(a.ymin&&a.ymax){for(var j=0;j<a.ymin.length;j++){g.decorations.error.push({min:a.ymin[j],max:a.ymax[j],color:a.color||"rgb(0,0,0)",width:a.width||a.height||1,size:1,type:g.is(a.linetype),sample:h?g.data.x[g.aes[h]][j]:k?k[j]-1:g.data.y.smps[j],cat:f?g.colorBy:false,level:f?g.data.x[f][j]:false,isIndex:k?true:false})}}}g.showLegend=false;g.maxSmpStringLen=50;g.meta.data.l.push(c||"GeomErrorbar");g.x9({func:"geom_errorbar",par:[a,b,c]});g.blocked=false;d.blocked=false}}};this.YL(e)};this.Ml=function(a){this.Rc(a,"geom_errorbarh","GeomErrorbarh")};this.v0=function(a){this.pU(a,"geom_hex","GeomHex")};this.dc=function(a,b,c){var d=this;this.ul(a,c||"GeomHistogram");var e=function(j,f){var k=function(){var i="count";if(a&&a.after_stat){i=a.after_stat}else{if(j.aes.after_stat){i=j.aes.after_stat}else{if(a&&a.stat&&a.stat=="StatBin"){i="count"}}}return i};var o=function(){if(j.histogramStat=="density"){return false}else{if(c&&c=="GeomArea"){return false}else{if(j.G1(a,n,"color")&&!j.G1(a,n,"fill")){return false}else{if(j.G1(j.aes,n,"color")&&!j.G1(j.aes,n,"fill")){return false}}}}return true};var h=function(){var i=true;if((a&&a.fill)||j.aes.fill){if(n.hasOwnProperty(a.fill||j.aes.fill)){i=a.fill||j.aes.fill}}else{if((a&&a.color)||j.aes.color){if(n.hasOwnProperty(a.color||j.aes.color)){i=a.color||j.aes.color}}}return i};j.wv(a,j);var n=j.meta.data.z;j.lo(a,j);j.histogramStat=k();j.yAxisTitle=j.histogramStat;j.histogramType=c?"dodged":"stacked";j.showHistogramBars=o();j.showFilledHistogramPath=c&&c=="GeomArea"?true:false;j.showHistogramDensity=false;j.histogramRight=false;var m={bw:"bandwidthRule",adjust:"bandwidthAdjust",kernel:"densityKernel",bins:"histogramBins",breaks:"histogramBreaks",binwidth:"histogramBinWidth"};for(var l in a){if(l=="meta"){continue}if(m.hasOwnProperty(l)){j[m[l]]=a[l]}else{j[l]=a[l]}}var g=h();if(g!==true){if(j.gA(g)!="String"){j.colorScheme="ViridisInv";j.NM();j.af()}}else{j.showLegend=false}j.TR(a,j);for(var l in f){j[l]=f[l]}j.showHistogram=g;j.graphType="Scatter2D";j.legendColumns=1;j.meta.data.l.push(c||"GeomHistogram");j.x9({func:"geom_histogram",par:[a,b,c]});j.blocked=false;d.blocked=false};this.YL(e)};this.stat_bin=this.geom_histogram;this.N9=function(a){this.Re(a,"geom_label","GeomLabel")};this.W0=function(a,b,d){var e=this;var c=this.ul(a,d||"GeomLine");var f=function(l,g){l.wv(a,l);var s=l.aes.x&&l.aes.y&&l.data.y.smps.includes(l.aes.x)&&l.data.y.smps.includes(l.aes.y);var r=l.meta.ggplot&&l.meta.ggplot.layers.hasOwnProperty("GeomBoxplot")&&l.meta.ggplot.layers.hasOwnProperty("GeomPoint");var u=s?l.meta.data.z:l.meta.data.x;var q=a?(a.linetype||l.aes.linetype||false):false;var j=a?(a.fill||l.aes.fill||a.color||l.aes.color||false):false;var t=a?(a.group||l.aes.group||false):false;if(r&&a&&a.group&&u.hasOwnProperty(a.group)){l.connectBy=a.group;l.connectByNoColor=true;l.connectByColor=l.u5(a.color||"rgb(204,204,204)")}else{if(!s){var h=l.aes.x&&l.data.y.vars.includes(l.aes.x)?"horizontal":l.aes.y&&l.data.y.vars.includes(l.aes.y)?"vertical":"horizontal";var n=l.aes.x&&l.data.x&&l.data.x.hasOwnProperty(l.aes.x)?l.aes.x:l.aes.y&&l.data.x&&l.data.x.hasOwnProperty(l.aes.y)?l.aes.y:false;if(q&&q!=n){if(t){l.groupingFactors=[t]}l.cR(n,true);l.rq(false,true);if(q){l.patternBy=q;l.lineDecoration="pattern"}if(j){l.colorBy=j}l.graphOrientation=h;l.smpTextRotate=l.graphOrientation=="horizontal"?0:90}else{if(j&&j!=n&&t==j){l.connectBy=j}}}else{if(t){l.groupingFactors=[t]}l.showVariableLegend=false}for(var m in g){l[m]=g[m]}if(a&&a.size){l.lineThickness=a.size}if(a&&a.linetype){var k=a.linetype;if(!s&&u&&u.hasOwnProperty(k)){l.lineBy=k}}else{if(a&&a.color){var k=a.color;if(s&&u&&u.hasOwnProperty(k)){l.lineBy=s?(t||a.color):false;l.colorBy=a.color}else{l.scatterDataPointsColor=l.u5(k)}}else{if(l.aes&&l.aes.color){var k=l.aes.color;if(s&&u&&u.hasOwnProperty(k)){l.lineBy=s?(t||l.aes.color):false;l.colorBy=l.aes.color}else{l.scatterDataPointsColor=l.u5(k)}}else{if(l.aes&&l.aes.fill&&d&&d=="GeomArea"){var k=l.aes.fill;if(s&&u&&u.hasOwnProperty(k)){l.lineBy=s?(t||l.aes.fill):false;l.colorBy=l.aes.fill}else{l.scatterDataPointsColor=l.u5(k)}}else{if(l.aes&&l.aes.group){l.lineBy=s?l.aes.group:false}}}}}if(a&&a.alpha&&l.graphType=="Scatter2D"){l.scatterLineAlpha=a.alpha}if(l.graphType=="Bar"&&l.meta.ggplot&&l.meta.ggplot.layers.hasOwnProperty("GeomBar")){if(a&&a.y&&u.hasOwnProperty(a.y)){l.Ij(a.y,true);l.varIndices=[0,1];l.xAxis=[l.meta.ggplot.layers.GeomBar.y];l.xAxis2=[a.y];l.xAxis2Show=true}l.graphType="BarLine"}else{l.widthFactor=1;l.graphType=s?"Scatter2D":"Line";l.scatterType=s&&d&&d=="GeomStep"?"lineStep":d&&d=="GeomArea"?"area":!l.colorBy?"line":false}}l.meta.data.l.push(d||"GeomLine");l.x9({func:"geom_line",par:[a,b,d]});l.blocked=false;e.blocked=false};if(c){this.SI("line",a,e)}else{this.YL(f)}};this.iX=function(a){this.ul(a,"GeomLogticks");if(a&&a.sides){if(a.sides.match(/b|t/)){this.xAxisLogTicksShow=true;this.xAxisLogTicksColor=a.color?this.u5(a.color):"rgb(0,0,0)";this.xAxisLogTicksLineType=a.linetype&&a.linetype==1?"line":a.linetype&&a.linetype==2?"dashed":a.linetype||"solid";this.xAxisLogTicksLength=a.base*0.8||8;this.xAxisLogTicksWidth=a.size||0.5}if(a.sides.match(/l|r/)){this.yAxisLogTicksShow=true;this.yAxisLogTicksColor=a.color?this.u5(a.color):"rgb(0,0,0)";this.yAxisLogTicksLineType=a.linetype&&a.linetype==1?"line":a.linetype&&a.linetype==2?"dashed":a.linetype||"solid";this.yAxisLogTicksLength=a.base*0.8||8;this.yAxisLogTicksWidth=a.size||0.5}this.x9({func:"geom_logticks",par:[a]})}};this.cW=function(a,b,c){var d=this;this.ul(a,c||"GeomPath");var e=function(f,g){f.wv(a,f);f.graphType="Scatter2D";f.scatterType="line";f.meta.data.l.push(c||"GeomPath");f.x9({func:"geom_path",par:[a,b,c]});f.blocked=false;d.blocked=false};this.YL(e)};this.ew=function(a){this.F6(a,"geom_jitter","GeomJitter")};this.Vx=function(l,d){if(!d){d=this}var f=d.meta.config.user.aes;var o=d.meta.data.x;var a=(l.fill||l.color)?(d.data.x[l.fill]||d.data.x[l.color]||false):false;var q=l.shape&&d.data.x[l.shape]?d.data.x[l.shape]:false;var p=l.size&&d.data.x[l.size]?d.data.x[l.size]:false;var c=true;var h={y:{smps:d.TU(o[f.y].levels),vars:d.TU(o[f.x].levels),data:[]}};if(a){h.y.data2=[]}if(q){h.y.data3=[]}if(p){h.y.data4=[]}var b={x:[],y:[]};for(var g=0;g<o[f.x].levels.length;g++){b.x[o[f.x].levels[g]]=g}for(var g=0;g<o[f.y].levels.length;g++){b.y[o[f.y].levels[g]]=g}for(var g=0;g<d.data.y.smps.length;g++){var n=b.x[d.data.x[f.x][g]];var k=b.y[d.data.x[f.y][g]];if(!h.y.data[n]){h.y.data[n]=[];if(a){h.y.data2[n]=[]}if(q){h.y.data3[n]=[]}if(p){h.y.data4[n]=[]}}h.y.data[n][k]=1;if(a){h.y.data2[n][k]=a[g]}if(q){h.y.data3[n][k]=q[g]}if(p){h.y.data4[n][k]=p[g]}}if(a){d.colorBy=l.color||l.fill;d.colorByData="data2"}if(q){d.shapeBy=l.shape;d.shapeByData="data3"}if(p){d.sizeBy=l.size;d.sizeByData="data4"}d.xAxis=[];d.yAxis=[];d.guidesShow=true;d.guidesColor="rgb(235,235,235)";d.objectBorderColor="rgb(235,235,235)";d.graphType="Heatmap";if(c){d.showHeatmapIndicator=false;d.showColorLegend=false}if(l&&l.fill&&l.color){d.objectBorderColor="rgb(204,204,204)";d.guidesColor="rgb(204,204,204)"}d.colorSpectrum=l.fill&&l.color?["#0199CC","#A1CBE6","#FFFFFF","#FFA585","#FF3705"]:["#D3D3D3","#BBA5E0","#9D77EC","#7248F6","#0000FF"];if(l.color&&o[l.color]&&o[l.color].levels&&a){d.YN(h,true);d.rj(d.TU(o[l.color].levels),d.meta.data.data2)}else{if(f.x&&f.y&&f.fill&&o.hasOwnProperty(f.x)&&o.hasOwnProperty(f.y)&&o.hasOwnProperty(f.fill)){var m={};for(var g=0;g<d.data.x[f.x].length;g++){m[d.data.x[f.x][g]+":"+d.data.x[f.y][g]]=d.data.x[f.fill][g]}for(var g=0;g<h.y.vars.length;g++){for(var e=0;e<h.y.smps.length;e++){var n=h.y.vars[g]+":"+h.y.smps[e];if(m.hasOwnProperty(n)){h.y.data[g][e]=m[n]}}}d.YN(h,true);d.showHeatmapIndicator=true;d.showSizeLegend=false;d.varTitle=false;d.smpTitle=false}}d.x9({func:"geom_point_heatmap",par:[l]});d.blocked=false;this.blocked=false};this.F6=function(a,b,d){var e=this;var c=this.ul(a,d||"GeomPoint");var f=function(k,g){var h=function(i){if(k.aes&&(k.aes.stringSampleFactors==i||k.aes.stringVariableFactors==i)){return true}return false};k.wv(a,k);var l=k.meta.config.user.aes;var q=k.meta.data.x;var m=k.meta.data.l;var r=m.includes("GeomBoxplot")||m.includes("GeomViolin")||(d&&d=="GeomJitter");if(r){if(l.x&&l.y&&k.data.y.smps.includes(l.x)&&k.data.y.smps.includes(l.y)){r=false;k.graphType="Scatter2D"}else{k.showBoxplotOriginalData=true}}else{if(m.includes("GeomContour")||m.includes("GeomContourFilled")||m.includes("GeomDensity2d")||m.includes("GeomDensity2dFilled")){k.showContourDataPoints=a&&a.data?false:true}else{if(l.x&&l.y&&q.hasOwnProperty(l.x)&&q&&q[l.x].type=="String"&&q.hasOwnProperty(l.y)&&q.hasOwnProperty(l.y)&&q[l.y].type=="String"){return this.Vx(a,k,g)}}}k.graphOrientation="vertical";for(var n in g){k[n]=g[n]}if((d&&(d=="GeomJitter"||d=="GeomSina"))||(a&&a["jitter.width"])||(a&&a.sina)){k.jitter=true;if(a&&a.width){k.jitterFactor=Number(a.width)*4.25}else{if(a&&a["jitter.width"]){k.jitterFactor=Number(a["jitter.width"])*4.25}}if((d&&d=="GeomSina")||(a&&a.sina)){k.sina=true}}k.lo(a,k);k.vS(a,k,false,true);if(r){delete a.color}k.qN(a,k,r);if(!d||d!="GeomJitter"){k.graphType=m.includes("GeomBoxplot")||m.includes("GeomViolin")?"Boxplot":l.x&&!h(l.x)&&l.y&&!h(l.y)?"Scatter2D":"Dotplot";if(q&&((q.hasOwnProperty(l.x)&&q[l.x].type=="String")||(q.hasOwnProperty(l.y)&&q[l.y].type=="String"))){if(k.graphType!="Boxplot"){k.graphType="Dotplot"}}}if(k.graphType=="Scatter2D"){k.legendColumns=1;k.Hw("colorBy");if(a&&a.color&&!q.hasOwnProperty(a.color)){delete k.aes.color}if(k.aes.label){if(!k.decorations){k.decorations={}}if(!k.decorations.marker){k.decorations.marker=[]}for(var n=0;n<k.aes.label.length;n++){k.decorations.marker.push({variable:[k.aes.label[n]],sample:[k.data.y.smps[0],k.data.y.smps[1]],text:k.aes.label[n]})}}}if(k.showLoessFit){k.dataPointSizeScaleFactor=1}k.meta.data.l.push(d||"GeomPoint");if(a){if(a.stat&&a.stat=="StatSum"&&k.graphType=="Scatter2D"&&a.x&&a.y){var j={};for(var n=0;n<a.x.length;n++){j[a.x[n]+":"+a.y[n]]=n}if(!k.data.z){k.data.z={}}k.data.z.color=[];k.data.z.shape=[];k.data.z.size=[];for(var n=0;n<k.data.y.data.length;n++){var o=k.data.y.data[n][0]+":"+k.data.y.data[n][1];k.data.z.color[n]=k.u5(a.color[j[o]]);k.data.z.shape[n]=k.Id(a.shape[j[o]]);k.data.z.size[n]=a.size[j[o]]}k.colorBy="color";k.shapeBy="shape";k.sizeBy="size";k.wD("z");k.showLegend=a.showLegend}else{if(a.size){if(a.size>1){k.dataPointSize=Math.min(18,parseInt(a.size*0.3*15))}else{k.dataPointSizeScaleFactor=k.graphType=="Scatter2D"&&d!="GeomJitter"?0.3:1}}if(a.color&&!q.hasOwnProperty(a.color)){if(!k.meta.data.z||(k.meta.data.z&&!k.meta.data.z.hasOwnProperty(a.color))){k.scatterDataPointsColor=k.u5(a.color)}}if(a.alpha&&k.graphType=="Scatter2D"){k.scatterPointAlpha=a.alpha}}}if(d&&d=="GeomJitter"&&!k.graphType.match(/Dotplot|Scatter2D|Boxplot/)){k.graphType="Dotplot"}if(k.graphType=="Dotplot"&&a&&a.color&&k.aes.x&&k.aes.y&&k.groupingFactors.length){if(k.groupingFactors.includes(a.color)){k.groupingFactors.splice(k.groupingFactors.indexOf(a.color),1)}}if(k.graphType=="Dotplot"){if(a&&a.color&&!q.hasOwnProperty(a.color)){k.colors=[k.u5(a.color)];k.colorScheme="User";k.NM()}k.dataPointSizeScaleFactor=1}else{if(a&&a.alpha&&k.meta.data.z.hasOwnProperty(a.alpha)){k.colorBy=a.alpha;k.colorScheme="BlackAndWhite";k.NM()}}k.x9({func:"geom_point",par:[a,b,d]});k.blocked=false;e.blocked=false};if(c){this.SI("point",a,e)}else{this.YL(f)}};this.Ol=function(a,b,c){var d=this;this.ul(a,c||"GeomPolygon");var e=function(k,z){if(a&&a.data&&a.x&&a.y){if(a.group){var m=null;var l=null;var u=null;var t=null;var w=null;var E=a.fill&&k.u5(a.fill)?k.u5(a.fill):"rgba(0,0,0,0)";var C=a.color&&k.u5(a.color)?k.u5(a.color):"rgb(0,0,0)";var B={features:[],type:"FeatureCollection"};for(var F=0;F<a.data[0].length;F++){if(a.data[0][F]==a.x){m=F}else{if(a.data[0][F]==a.y){l=F}else{if(a.data[0][F]==a.group){u=F}else{if(a.fill){if(a.data[0][F]==a.fill||a.fill.match(a.data[0][F])){t=a.data[0][F]}}if(a.color){if(a.data[0][F]==a.color||a.color.match(a.data[0][F])){w=a.data[0][F]}}}}}}if(m!=null&&l!=null&&u!=null){var A=0;var v={};var K=Number.MAX_VALUE;var I=Number.MAX_VALUE;var J=-Number.MAX_VALUE;var H=-Number.MAX_VALUE;for(var F=1;F<a.data.length;F++){var G=a.data[F][u];if(!v.hasOwnProperty(G)){B.features[A]={geometry:{coordinates:[[]],type:"Polygon"},properties:{}};for(var D=0;D<a.data[F].length;D++){if(D!=m&&D!=l){B.features[A].properties[a.data[0][D]]=a.data[F][D]}}v[G]=A;A++}var r=Number(a.data[F][m]);var q=Number(a.data[F][l]);B.features[v[G]].geometry.coordinates[0].push([r,q]);K=Math.min(K,r);I=Math.min(I,q);J=Math.max(J,r);H=Math.max(H,q)}var h=(J-K)*0.1;var f=(H-I)*0.1;var o=k.NH(A,"ggplot");var v={};var A=0;for(var F=0;F<B.features.length;F++){if(t){if(v.hasOwnProperty(B.features[F].properties[t])){B.features[F].properties.color=v[B.features[F].properties[t]]}else{B.features[F].properties.color=o[A%o.length];A++}}else{B.features[F].properties.color=E}B.features[F].properties.border=C}k.meta.map={geojson:B};k.scatterType="polygon";k.dataPointSizeScaleFactor=0;k.setMinX=K-h;k.setMinY=I-f;k.setMaxX=J+h;k.setMaxY=H+f;k.sY(b,a,k);k.meta.data.l.push(c||"GeomPolygon");k.x9({func:"geom_polygon",par:[a,b,c]});k.blocked=false;d.blocked=false}}}else{if((a&&a.stream)||(c&&c=="GeomStream")){k.scatterType="stream";k.scatterStreamType=a.type||"mirror";k.scatterStreamNumber=a.n_grid||1000;k.scatterStreamExtraSpan=Math.min(1,a.extra_span*10)||0.1;k.scatterStreamTrueRange=a.true_range||"both";k.scatterStreamBandwidth=a.bw?Math.max(0.1,(a.bw-0.45)):0.45;k.colorBy=k.aes.fill||k.aes.color;k.dataPointSizeScaleFactor=0;k.meta.data.l.push(c||"GeomPolygon");k.x9({func:"geom_polygon",par:[a,b,c]});k.blocked=false;d.blocked=false}}};this.YL(e)};this.w5=function(a){this.Ol(a,"geom_polygon_pattern","GeomPolygonPattern")};this.q2=function(a,b,c){var d=this;this.ul(a,c||"GeomQq");var e=function(f,h){f.wv(a,f);var g=f.meta.data.l;if(g.includes("GeomQq")&&!a){return}f.graphType="Scatter2D";f.scatterType="qq";if(f.aes&&f.aes.hasOwnProperty("color")){f.colorBy=f.aes.color}f.TR(a,f);f.meta.data.l.push(c||"GeomQq");f.x9({func:"geom_qq",par:[a,b,c]});f.blocked=false;d.blocked=false};this.YL(e,"z")};this.Me=function(a){this.q2(a,"geom_qq_line","GeomQqLine")};this.YA=function(a){var b=this;this.ul(a,"GeomQuantile");var c=function(d,g){d.wv(a,d);d.lo(a,d);d.showQuantileRegressionFit=true;var f={quantiles:"quantiles",color:"fitLineColor"};for(var e in a){if(e=="meta"){continue}if(f.hasOwnProperty(e)){d[f[e]]=a[e]}else{d[e]=a[e]}}if(a&&a.size){d.fitLineWidth=a.size*2}for(var e in g){d[e]=g[e]}d.graphType="Scatter2D";d.legendColumns=1;d.meta.data.l.push("GeomQuantile");d.x9({func:"geom_quantile",par:[a]});d.blocked=false;b.blocked=false};this.YL(c)};this.stat_quantile=this.geom_quantile;this.W3=function(a){this.ZW(a,"geom_tile","GeomTile")};this.x8=function(a){if(a&&a.stat&&a.stat=="StatBin2d"){this.pU(a,"geom_tile_pattern","GeomTilePattern")}else{this.ZW(a,"geom_tile_pattern","GeomTilePattern")}};this.ZW=function(a,b,c){var d=this;this.ul(a,c||"GeomRect");var e=function(f,j){f.graphType="Scatter2D";if(a.fill){var h=Array.from(new Set(a.col));var l=[];for(var g=0;g<h.length;g++){l.push(f.u5(h[g]))}f.zd(a.fill,false,true);if(!f.colorKey){f.colorKey={}}f.colorKey[a.fill]=l;f.rj(l,f.meta.data.z[a.fill]);f.colorBy=a.fill}if(!f.decorations){f.decorations={}}var k=f.decorations;if(!k.range){k.range=[]}for(var g=0;g<a.xmin.length;g++){k.range.push({x:a.xmin[g],x2:a.xmax[g],y:a.ymin[g],y2:a.ymax[g],color:a.col[g]})}f.decorationsOnTop=true;f.setMinX=Math.min.apply(null,a.xmin);f.setMinY=Math.min.apply(null,a.ymin);f.setMaxX=Math.max.apply(null,a.xmax);f.setMaxY=Math.max.apply(null,a.ymax);f.sY(b,a,f);f.x9({func:"geom_rect",par:[a,b,c]});f.blocked=false;d.blocked=false};this.YL(e,"z")};this.RZ=function(a){this.ZW(a,"geom_rect_pattern","GeomRectPattern")};this.IV=function(a,b,c){var a=this.Ow(arguments);var d=this;this.ul(a,c||"GeomRibbon");var e=function(f,h){var g=f.meta.data.z;f.wv(a,f);f.graphType="Scatter2D";f.scatterType="line";f.ribbonBy=[a.ymin,a.ymax];if(a.fill&&g&&g.hasOwnProperty(a.fill)){f.confidenceBy=a.fill}if(a.y&&g&&g.hasOwnProperty(a.y)){f.HY(a.y,true);f.yAxis=[a.y]}if(a.x&&g&&g.hasOwnProperty(a.x)){f.HY(a.x,true);f.xAxis=[a.x]}f.TR(a,f);f.meta.data.l.push(c||"GeomRibbon");f.x9({func:"geom_ribbon",par:[a,b,c]});f.blocked=false;d.blocked=false};this.YL(e)};this.CT=function(a){var b=this;this.ul(a,"GeomRug");var c=function(e,m){e.wv(a,e);e.lo(a,e);var k=a&&a.sides?a.sides:"bl";var d=k.match("b");var h=k.match("t");var f=k.match("l");var j=k.match("r");if(d&&h){e.xAxisRugShow=true;e.xAxisRugPosition="both"}else{if(d){e.xAxisRugShow=true;e.xAxisRugPosition="bottom"}else{if(h){e.xAxisRugShow=true;e.xAxisRugPosition="top"}}}if(f&&j){e.yAxisRugShow=true;e.yAxisRugPosition="both"}else{if(f){e.yAxisRugShow=true;e.yAxisRugPosition="left"}else{if(j){e.yAxisRugShow=true;e.yAxisRugPosition="right"}}}for(var g in m){e[g]=m[g]}e.TR(a,e);e.graphType="Scatter2D";e.legendColumns=1;e.meta.data.l.push("GeomRug");e.x9({func:"geom_rug",par:[a]});e.blocked=false;b.blocked=false};this.YL(c)};this.fs=function(a){this.F6(a,"geom_sina","GeomSina")};this.Pf=function(a){var b=this;this.ul(a,"GeomSmooth");var c=function(f,d){f.wv(a,f);var g=f.meta.config.user.aes;var m=f.meta.data.z;var e=false;f.lo(a,f);for(var h in d){f[h]=d[h]}if(a&&a.alpha&&a.fill){f.confidenceIntervalColor=f.b9(f.confidenceIntervalColor,a.alpha)}else{if(a&&a.alpha&&a.dataFill){f.confidenceIntervalColor=f.b9(f.u5(a.dataFill),a.alpha)}}f.graphType="Scatter2D";f.legendColumns=1;if(a){if(a.hasOwnProperty("formula")){if(!this.decorations){this.decorations={}}if(!this.decorations.line){this.decorations.line=[]}this.decorations.line.push({x:a.formula.x,y:a.formula.y,color:a.color?f.u5(a.color):"rgb(0,0,0)",type:"line",width:3,tooltip:a.formula.def});if(a.formula.hasOwnProperty("ymin")&&a.formula.hasOwnProperty("ymax")){if(!this.decorations.polygon){this.decorations.polygon=[]}var l=[];var k=[];for(var h=0;h<a.formula.x.length;h++){l.push(a.formula.x[h]);k.push(a.formula.ymin[h])}l.push(a.formula.x[a.formula.x.length-1]);k.push(a.formula.ymax[a.formula.ymax.length-1]);for(var h=a.formula.ymax.length-1;h>=0;h--){l.push(a.formula.x[h]);k.push(a.formula.ymax[h])}l.push(a.formula.x[0]);k.push(a.formula.ymin[0]);var j=a.fill?f.u5(a.fill):"rgba(100,100,100,0.4)";if(a.hasOwnProperty("alpha")){j=f.b9(j,a.alpha)}this.decorations.polygon.push({x:l,y:k,color:j,type:"polygon",tooltip:a.formula.def});f.setMinY=a.formula.minY;f.setMaxY=a.formula.maxY}}else{if(a.stat){f.showLoessFit=true}if(a.color){if(m&&m.hasOwnProperty(a.color)){f.showLoessFit=a.color;f.colorBy=a.color}else{if(g.color&&m&&m.hasOwnProperty(g.color)){f.showLoessFit=g.color;f.colorBy=g.color;f.fitLineColor=f.u5(a.color)}else{f.showLoessFit=true;f.fitLineColor=f.u5(a.color)}}}else{if(a.dataColor){f.fitLineColor=f.u5(a.dataColor)}}if(a.group&&m&&m.hasOwnProperty(a.group)){f.showLoessFit=a.group;f.colorBy=a.group}if(a.linetype&&m&&m.hasOwnProperty(a.linetype)){f.showLoessFit=a.linetype;f.lineBy=a.linetype}else{f.fitLineType=f.is(a.linetype)||"solid"}f.fitLineWidth=a.linewidth?a.linewidth*3:3;if(a.fill){if(m&&m.hasOwnProperty(a.fill)){f.showLoessFit=a.fill;f.colorBy=a.fill;f.confidenceBy=a.fill}else{if(g.fill&&m&&m.hasOwnProperty(g.fill)){f.showLoessFit=g.fill;f.colorBy=g.fill;f.confidenceBy=g.fill}else{f.confidenceIntervalColor=f.u5(a.fill)}}}if(f.meta.ggplot&&!f.meta.ggplot.layers.hasOwnProperty("GeomPoint")){if(m&&g.fill&&m.hasOwnProperty(g.fill)&&a.color&&!m.hasOwnProperty(a.color)){f.showLoessFit=g.fill;f.colorBy=g.fill;f.confidenceBy=g.fill;f.fitLineColor=f.u5(a.color)}}if(a.method){if(a.method=="lm"){if((f.aes&&f.aes.hasOwnProperty("color")&&m&&m.hasOwnProperty(f.aes.color))||(a.color&&m&&m.hasOwnProperty(a.color))){f.showRegressionFit=f.aes.color||a.color}else{f.showRegressionFit=true}f.showDecorationsLegend=false;f.showLoessFit=false}}f.showConfidenceIntervals=a.hasOwnProperty("se")?a.se:true;f.confidenceIntervalColorCoordinate=false;if(a.hasOwnProperty("showLegend")){f.showLegend=a.showLegend}}}else{f.showConfidenceIntervals=true;f.showLoessFit=true}if(f.showLoessFit){if(!f.meta.ggplot.geoms.includes("GeomPoint")){f.dataPointSizeScaleFactor=0}}if(f.skipRender){f.xu()}f.meta.data.l.push("GeomSmooth");f.x9({func:"geom_smooth",par:[a]});f.blocked=false;b.blocked=false};this.YL(c)};this.H3=function(a){this.Ol(a,"geom_stream","GeomStream")};this.stat_smooth=this.geom_smooth;this.QJ=function(a,b,c){var d=this;this.ul(a,c||"GeomViolin");var e=function(f,k){f.wv(a,f);var j=f.meta.data.l;if(j.includes("GeomPoint")){f.showBoxplotOriginalData=true}f.showBoxplotIfViolin=j.includes("GeomBoxplot")?true:false;var h={bw:"bandwidthRule",adjust:"bandwidthAdjust",kernel:"densityKernel",scale:"violinScale",trim:"violinTrim"};for(var g in a){if(g=="meta"){continue}if(h.hasOwnProperty(g)){f[h[g]]=a[g]}else{f[g]=a[g]}}for(var g in k){f[g]=k[g]}f.vS(a,f,false,true);f.qN(a,f,true);if(a&&a.draw_quantiles){f.showViolinQuantiles=true;f.quantiles=a.draw_quantiles}f.graphType="Boxplot";f.showViolinBoxplot=true;f.widthFactor=1;f.TR(a,f);f.sY(b,a,f);if(!f.colorBy){f.showLegend=false}else{if(!f.groupingFactors.includes(f.colorBy)){f.groupingFactors.push(f.colorBy)}}f.meta.data.l.push(c||"GeomViolin");f.x9({func:"geom_violin",par:[a,b,c]});f.blocked=false;d.blocked=false};this.YL(e,"x")};this.stat_ydensity=this.geom_violin;this.Fu=function(a){this.QJ(a,"geom_violin_pattern","GeomViolinPattern")};this.Uy=function(b){var a=this.meta.config.user.aes.x;var c=this.meta.config.user.aes.y;if(a&&c&&this.data.y.smps.includes(a)&&this.data.y.smps.includes(c)){this.XD(b,"geom_raster","GeomRaster")}else{this.Ip(b)}};this.Ip=function(a){if(this.gS(this.meta.config.user.geoms,["GeomRaster","GeomPoint","GeomRasterAnn","GeomText"])){this.skipGeoms=true;this.Et(a)}else{}};this.Et=function(p){var j=this.meta.config.user.aes.meta;var v=p.x?this.data.x[p.x]:false;var s=p.y?this.data.x[p.y]:false;var u=v&&j&&j.hasOwnProperty(p.x)?j[p.x]:false;var t=s&&j&&j.hasOwnProperty(p.y)?j[p.y]:false;var r=j&&j.hasOwnProperty("Identity")?j.Identity:false;var o=(p.color||p.fill)?(this.data.x[p.color]||this.data.x[p.fill]||false):false;var l={z:{Identity:[]},y:{smps:[],vars:[],data:[]}};if(v&&s&&o&&u&&t&&r){var w={};for(var k=0;k<o.length;k++){if(isNaN(o[k])){w[v[k]]=true}}var z={};var h={};var g=0;var j=0;var d=0;for(var k=0;k<u.length;k++){z[u[k]]=k;if(!w[u[k]]){h[u[k]]=g++;l.y.vars.push(u[k]);l.z.Identity.push(r[j]);d=0}else{d++;if(d==1){j++}}}var e={};for(var k=0;k<t.length;k++){e[t[k]]=k}l.y.smps=t;for(var k=0;k<o.length;k++){if(!isNaN(o[k])){if(!l.y.data[h[v[k]]]){l.y.data[h[v[k]]]=[]}l.y.data[h[v[k]]][e[s[k]]]=o[k]}}this.xAxis=[];this.yAxis=[];this.graphType="Heatmap";this.varOverlays=["Identity"];this.varOverlayProperties={Identity:{position:"top",showLegend:true,hideName:true}},this.overlaysThickness=30;this.showVariableNames=false;this.colorSpectrum=["#FF00FF","#800080","#000000","#808000","#FFFF00"];this.splitVariablesBy=["Identity"];this.splitSeparation=3,this.heatmapCellBox=false;this.YN(l,true);this.l1();this.x9({func:"geom_raster_heatmap_seurat",par:[p]});this.blocked=false}else{alert("Error: geom_raster_heatmap_seurat requires x, y and color or fill")}};this.Q2=function(g,j,h){var f=this;var k=function(l,m){if(l.colour){return Array.isArray(l)?f.u5(l.colour[m]):f.u5(l.colour)}else{if(l.color){return Array.isArray(l)?f.u5(l.color[m]):f.u5(l.color)}else{if(l.col){return Array.isArray(l)?f.u5(l.col[m]):f.u5(l.col)}else{return"rgb(0,0,0)"}}}};this.blocked=true;this.ul(g,h||"GeomSegement");this.meta.data.l.push(h||"GeomSegment");if(!this.decorations){this.decorations={}}if(!this.decorations.line){this.decorations.line=[]}if(this.graphType=="Dotplot"&&this.meta.ggplot.geoms.includes("GeomPoint")&&this.tO(g.x)){var e=this.Ry(g.x);var d=this.Ry(g.xend);var b=this.Ry(g.y);var a=this.Ry(g.yend);if(b.length==1&&a.length==1){}else{this.graphType="Bar";this.barType="lollipop";this.widthFactor=0.6;this.dataPointSizeScaleFactor=2.5;this.dataTextScaleFontFactor=0.4}if(this.graphOrientation=="horizontal"){}else{}this.guidesShow=true;this.guidesColor=this.u5(g.color||g.col[0])||"rgb(0,0,0)";this.guidesLineType=this.is(g.linetype[0])||"solid"}else{if(this.tO(g.x)){for(var c=0;c<g.x.length;c++){this.decorations.line.push({x:g.x[c],x2:g.xend[c],y:g.y[c],y2:g.yend[c],color:k(g,c),type:(h?"arch":this.is(g.linetype[c])),curve:g.curvature||0.5,width:g.linewidth[c]?g.linewidth[c]*2:2})}}else{this.decorations.line.push({x:g.x,x2:g.xend,y:g.y,y2:g.yend,color:k(g,c),type:(h?"arch":this.is(g.linetype)),curve:g.curvature||0.5,width:g.linewidth?g.linewidth*2:2})}}this.x9({func:(j||"geom_segment"),par:[g]});this.blocked=false};this.vO=function(a){this.Q2(a,"geom_curve","GeomCurve")};this.IR=function(a){if(a&&a.hasOwnProperty("kmCxplot")){this.skipGeoms=true;this.fm(a)}else{this.W0(a,"geom_step","GeomStep")}};this.fm=function(c){var e=this.tO(c.kmColors)?c.kmColors.length:1;var f={y:{smps:["time","n.risk","n.event","n.censor","surv"],vars:[],data:[]},z:{strata:[]}};var a=[];for(var d=0;d<e;d++){a.push(this.u5(c.kmColors[d]))}var g=1;for(var d=e;d<this.data.y.vars.length;d++){if(this.data.z["n.event"][d]>=1){for(var b=0;b<this.data.z["n.event"][d];b++){f.y.vars.push("V"+g);f.y.data.push([this.data.y.data[d][0],this.data.z["n.risk"][d],1,0,this.data.y.data[d][1]]);f.z.strata.push(this.data.z.strata[d]);g++}}if(this.data.z["n.censor"][d]>=1){for(var b=0;b<this.data.z["n.censor"][d];b++){f.y.vars.push("V"+g);f.y.data.push([this.data.y.data[d][0],this.data.z["n.risk"][d],0,1,this.data.y.data[d][1]]);f.z.strata.push(this.data.z.strata[d]);g++}}}this.graphType="Scatter2D";this.kmCxplot=true;this.kmRiskTable=true;this.kmColors=a;this.showKMConfidenceIntervals=c.showKMConfidenceIntervals;this.xAxis=["time"];this.yAxis=["n.event"];this.colorBy="strata";this.YN(f);this.x9({func:"geom_surv",par:[c]});this.yC()};this.AA=function(a){var b=a;b=b.replace(/italic\((.*?)\)/g,"<em>$1</em>");b=b.replace(/\^(\d+)/g,"<sup>$1</sup>");b=b.replace(/\[(.*?)\]/g,"<sub>$1</sub>");b=b.replace(/~`=`~/g," = ");b=b.replace(/~/g," ");b=b.replace(/"(.*?)"/g,"$1");b=b.replace(/"$/,"");b=b.replace(/\s*\*\s*/g,"*");b=b.replace(/\*/g,"");b=b.replace(/\s+/g," ").trim();return b};this.Re=function(a,b,c){var d=this;this.ul(a,c||"GeomText");var e=function(j,f){j.wv(a,j);var r=j.meta.data.z;var g=j.aes;for(var k in f){j[k]=f[k]}j.decorationsOnTop=true;if(g&&g.x&&g.y&&this.data.y.smps.includes(g.x)&&this.data.y.smps.includes(g.y)){if(j.graphType=="Bar"){j.dataPointSizeScaleFactor=0}j.graphType="Scatter2D"}if(j.graphType=="Scatter2D"){if(j.aes.label||a.label){if(a&&a.data&&a.data.x&&a.data.y&&a.label){if(!j.decorations){j.decorations={}}if(!j.decorations.text){j.decorations.text=[]}if(j.tO(a.data.x)&&j.tO(a.data.y)){var h=a.data.label&&j.tO(a.data.label)?a.data.label:false;var m=a.data.color&&j.tO(a.data.color)?a.data.color:false;for(var k=0;k<a.data.x.length;k++){j.decorations.text.push({x:a.data.x[k],y:a.data.y[k],label:h?h[k]:a.label,color:j.u5(m?m[k]:a.color)||"rgb(0,0,0)",relative:false})}}else{j.decorations.text.push({x:a.data.x,y:a.data.y,label:a.label,color:j.u5(a.color)||"rgb(0,0,0)",relative:true})}}else{if(b&&b=="geom_text_npc"){if(!j.decorations){j.decorations={}}if(!j.decorations.text){j.decorations.text=[]}j.decorations.text.push({x:a.npcx,y:a.npcy,label:j.AA(a.label||""),color:j.u5(a.color)||"rgb(0,0,0)",relative:true})}else{j.showDataLabels=true}}}if(b&&b=="geom_label"){j.isDataLabels=true}if(b&&b=="geom_text_repel"){j.optimizeTextPosition=true}if(a){if(a.hjust!=null){j.dataTextAlign=a.hjust<0.5?"left":a.hjust>0.5?"right":"center"}if(a.vjust!=null){j.dataTextBaseline=a.vjust<0.5?"bottom":a.vjust>0.5?"top":"middle"}if(a.angle){j.dataTextRotate=a.angle}if(a.fontface){switch(a.fontface){case"1":j.dataTextFontStyle="";break;case"2":case"bold":j.dataTextFontStyle="bold";break;case"3":case"italic":j.dataTextFontStyle="italic";break;case"4":case"bold italic":j.dataTextFontStyle="bold italic";break}}if(a.color){if(r&&r.hasOwnProperty(a.color)){if(r[a.color].type=="Numeric"){j.zd(a.color,false,true)}j.colorLabelBy=a.color}else{j.dataTextColor=j.u5(a.color)}}if(b&&a.fill){if(r&&r.hasOwnProperty(a.fill)){if(r[a.fill].type=="Numeric"){j.zd(a.fill,false,true)}j.colorLabelBy=a.fill;j.isDataLabelsBackgroundColor=true}else{j.dataLabelBackgroundColor=j.u5(a.fill)}}if(a.size){if(r&&r.hasOwnProperty(a.size)){if(r[a.size].type=="Numeric"){j.zd(a.size,false,true)}j.sizeLabelBy=a.size}else{j.dataTextScaleFontFactor=a.size/5}}if(a.label){if(r&&r.hasOwnProperty(a.label)){j.selectionMetadata=a.label}}}}else{if(a&&a.data&&a.data.x&&a.data.y&&a.data.label){if(!j.decorations){j.decorations={}}if(!j.decorations.text){j.decorations.text=[]}var h=a.data.label&&j.tO(a.data.label)?a.data.label:false;var m=a.data.color&&j.tO(a.data.color)?a.data.color:false;var o=j.tO(a.data.x)?a.data.x:[a.data.x];var n=j.tO(a.data.y)?a.data.y:[a.data.y];for(var k=0;k<o.length;k++){var q=j.tO(a.data.x)?k:o[k]-1;j.decorations.text.push({smp:j.data.y.smps[q],smpId:q,value:n[k],label:h?h[k]:a.label,color:j.u5(m?m[k]:a.color)||"rgb(0,0,0)"})}}else{j.showDataValues=true;j.dataTextColor=j.u5(a.color)||"rgb(0,0,0)";j.dataTextScaleFontFactor=0.4}}j.meta.data.l.push(c||"GeomText");j.x9({func:(b||"geom_text"),par:[a]});j.blocked=false;d.blocked=false};this.YL(e)};this.E8=function(a){this.Re(a,"geom_text_repel","GeomTextRepel")};this.ie=function(a){this.Re(a,"geom_text_npc","GeomTextNpc")};this.CN=function(a){var b=this;this.ul(a,"StatEcdf");var c=function(d,f){d.wv(a,d);for(var e in f){d[e]=f[e]}d.graphType="Scatter2D";d.scatterType="cdf";if(d.aes&&d.aes.hasOwnProperty("color")){d.colorBy=d.aes.color}d.TR(a,d);d.meta.data.l.push("StatEcdf");d.x9({func:"stat_ecdf",par:[a]});d.blocked=false;b.blocked=false};this.YL(c,"z")};this.ni=function(a){var b=this;this.ul(a,"StatEllipse");var c=function(d,f){d.wv(a,d);for(var e in f){d[e]=f[e]}d.graphType="Scatter2D";if(d.aes&&d.aes.hasOwnProperty("color")){d.ellipseBy=d.aes.color}d.TR(a,d);d.meta.data.l.push("StatEllipse");d.x9({func:"stat_ellipse",par:[a]});d.blocked=false;b.blocked=false};this.YL(c,"z")};this.xF=function(a){var b=this.Nv(a).length;if(b&&a.facet){this.meta.ggplot.facet.push(a);this.H8(a)}else{if(typeof a=="string"){this.rC({facet:a})}}};this.rC=function(a){if(this.wo(a)){return this.H8(a)}else{return this.H8({facet:a,facetType:"wrap"})}};this.H8=function(a){var b=this;var c=function(e){var n,l;var h=this.tO(a.facet)?a.facet:[a.facet];for(var g=0;g<h.length;g++){if(e.graphType=="Scatter2D"){l=e.data.z&&e.data.z.hasOwnProperty(h[g])?e.data.z[h[g]]:e.data.z&&e.data.z.hasOwnProperty(h[g])?e.data.z[h[g]]:false;if(l){n=e.Ry(l);e.segregateVariablesBy.push(h[g])}else{return}}else{l=e.data.x&&e.data.x.hasOwnProperty(h[g])?e.data.x[h[g]]:e.data.x&&e.data.x.hasOwnProperty(h[g])?e.data.x[h[g]]:false;if(l){n=e.Ry(e.data.x[h[g]]);e.segregateSamplesBy.push(h[g])}else{return}}}if(a.facetType=="grid"){e.layoutRemoveEmpty=false;e.layoutTopology=a.facetRows+"X"+a.facetCols;e.layoutType=a.facetRows==1?e.layoutType="cols":e.layoutType="rows"}else{if(a.facetTopology){e.layoutTopology=a.facetTopology}else{if(n.length<=3){e.layoutTopology="1X"+n.length}}}if(a.facetYFree||a.facetXFree){e.layoutAdjust=true}e.layoutGlobalGroups=true;e.meta.data.l.push("FacetWrapGrid");if(e.meta.data.l.includes("GeomVline")||e.meta.data.l.includes("GeomHline")){for(var g=0;g<e.decorations.line.length;g++){var m=e.decorations.line[g];if(m.data){var k=this.P6(m.data,a.facet);if(k){for(var f=0;f<k.length;f++){if(k[g]==k[f]){m.scope=k[g]}}}}}}e.x9({func:"facet_wrap",par:[a]});e.blocked=false;b.blocked=false};this.YL(c)};this.MT=function(c){this.meta.ggplot.labels=c;var f=this.Nv(c).length;if(f){if(this.graphType!="Scatter2D"&&(c.xAxisTitle||c.yAxisTitle)){var a=this.tU(c.yAxisTitle);var b=this.data.y.vars[0]==c.yAxisTitle;if((a>=0||b)&&(!this.graphType.match(/Dotplot|Bar/))){c.smpTitle=c.smpTitle||c.xAxisTitle;c.xAxisTitle=c.yAxisTitle}else{if(this.s9()){if(c.xAxisTitle){delete c.xAxisTitle}if(c.yAxisTitle){delete c.yAxisTitle}}}if(this.graphType.match(/Bar|Stacked|Dotplot|Boxplot/)){if(this.Qc()){c.smpTitle=c.smpTitle||c.xAxisTitle;c.xAxisTitle=c.yAxisTitle}else{if(c.xAxisTitle){c.xAxis2Title=c.xAxisTitle;c.xAxisShow=false;c.xAxis2Show=true;delete c.xAxisTitle}c.smpTitle=c.smpTitle||c.yAxisTitle}if(this.xAxis2Show&&!this.xAxisShow){this.xAxis2Title=this.xAxisTitle}}}for(var e in c){if(this.tO(c[e])){var f="";for(var d=0;d<c[e].length;d++){if(c[e][d].match(/italic/)||c[e][d].match(/bold/)){c[e][d]=c[e][d].replace(/italic/g,"").replace(/bold/g,"").replace(/[\(\)]/g,"");f+=c[e][d]}f+=c[e][d]}c[e]=f}this[e]=c[e]}this.x9({func:"gg_labels",par:[c]})}};this.B3=function(a){var b=this;var d=this.Nv(a).length;if(d){var c=function(e){for(var f in a){switch(f){case"x":e.xAxisTitle=a[f];break;case"y":e.yAxisTitle=a[f];break;case"title":case"subtitle":e[f]=a[f];break;case"caption":e.citation=a[f];break}}e.x9({func:"labs",par:[a]});e.blocked=false;b.blocked=false};this.YL(c)}};this.N6=function(a){this.B3({x:a})};this.wp=function(a){this.B3({y:a})};this.g0=function(){var a=this.Ow(arguments);var c={title:a.shift()};for(var b in a){c[b]=a[b]}this.B3(c)};this.HE=function(e){this.meta.ggplot.scales.push(e);var w=this.Nv(e).length;if(w){var v=this.yW()?"z":"x";if(e&&e.hasOwnProperty("xAxisTransform")&&e.xAxisTransform=="date"){var y=e.setMinX&&this.eb(e.setMinX)?e.setMinX*60*60*24*1000:null;var B=e.setMaxX&&this.eb(e.setMaxX)?e.setMaxX*60*60*24*1000:null;if(y){this.setMinX=y}if(B){this.setMaxX=B}}else{for(var u in e){if(u=="colors"){var h=e.colorScale||"NoScale";if(this.colorBy){if(this.tO(e[u])){var g=e[u];if(this.tO(g[0])){g=g[0]}var F=[];for(var C=0;C<g.length;C++){F.push(this.u5(g[C]))}var x=this.meta.data[v]&&this.meta.data[v].hasOwnProperty(this.colorBy)?this.meta.data[v][this.colorBy]:false;var d=this.meta.data[v][this.colorBy]?this.meta.data[v][this.colorBy].type:false;if(h=="ScaleBinned"){this.colorSpectrum=F;this.colorSpectrumBinned=true;if(e.colorBreaks){this.colorSpectrumBreaks=e.colorBreaks}if(e.colorLimits){this.colorSpectrumBreaks.unshift(e.colorLimits[0]);this.colorSpectrumBreaks.push(e.colorLimits[1])}this.er(true,true,x);this.hC();this.wD(v,this.colorBy)}else{if(d=="Numeric"){if(this.meta.config.user.aes.meta&&this.meta.config.user.aes.meta[this.colorBy]){if(e.colorBreaks){this.meta.config.user.aes.meta[this.colorBy]=e.colorBreaks.map(function(a){return a.match("\x00")?a:a+"\x00"})}else{this.meta.config.user.aes.meta[this.colorBy]=this.meta.config.user.aes.meta[this.colorBy].map(function(a){return a.match("\x00")?a:a+"\x00"})}}this.zd(this.colorBy,false,true)}}if(this.meta.config.user.aes.meta&&this.meta.config.user.aes.meta[this.colorBy]){var E={};for(var C=0;C<this.meta.config.user.aes.meta[this.colorBy].length;C++){var t=this.meta.config.user.aes.meta[this.colorBy][C];if(h=="NoScale"){var z=this.meta.data[v]&&this.meta.data[v][this.colorBy]&&this.meta.data[v][this.colorBy].unordered?this.meta.data[v][this.colorBy].unordered.indexOf(t):null;if(d=="Numeric"&&z!=null){E[t+"\x00"]=F[C]}else{E[t]=F[C]}}else{if(this.meta.data[v][this.colorBy].levels.includes(t+"\x00")){E[t+"\x00"]=F[C]}else{E[t]=F[C]}}}if(this.meta.data[v]&&this.meta.data[v][this.colorBy]){this.meta.data[v][this.colorBy].colorBy=E}}else{if(this.meta.config.user.aes.alpha&&this.data.z&&this.data.z.hasOwnProperty(this.meta.config.user.aes.alpha)){}else{if(!this.colorKey){this.colorKey={}}this.colorKey[this.colorBy]=F;this.rj(F,this.meta.data[v][this.colorBy])}}}else{this.colorScheme="Viridis";this.NM();this.af()}}else{if(this.tO(e[u])){var g=e[u];if(this.tO(g[0])){g=g[0]}var F=[];for(var C=0;C<g.length;C++){var b=this.u5(g[C]);if(b){F.push(b)}}if(F.length){this.colors=F;this.colorScheme="User";if(F.length==1){this.scatterDataPointsColor=F[0]}}}}}else{if(u=="colorKey"&&(this.colorBy||this.s9())){var F=[];var A=[];for(var C in e[u]){e[u][C]=this.u5(e[u][C]);A.push(C);F.push(e[u][C])}F=F.sort(function(f,c){return(""+A[f]).localeCompare(A[c])});if(!this.colorKey){this.colorKey={}}if(!this.colorBy&&this.s9()&&this.data.z&&this.data.z.hasOwnProperty("Identity")){this.colorKey.Identity=e[u];this.rj(F)}else{this.colorKey[this.colorBy]=e[u];this.rj(F,this.meta.data[v][this.colorBy])}}else{if(u=="colorSpectrum"){this[u]=e[u];this.er(true,true);this.hC();this.wD(v)}else{if(u=="xAxisTransform"||u=="yAxisTransform"){if(this.yW()){if(u=="xAxisTransform"){if(this.setMinX){this.setMinX=this.Jb(e[u],this.setMinX)}if(this.setMaxX){this.setMaxX=this.Jb(e[u],this.setMaxX)}}if(u=="yAxisTransform"){if(this.setMinY){this.setMinY=this.Jb(e[u],this.setMinY)}if(this.setMaxY){this.setMaxY=this.Jb(e[u],this.setMaxY)}}this[u]=e[u];this[u+"Ticks"]=true}else{if(this.setMinX){this.setMinX=this.Jb(e[u],this.setMinX)}if(this.setMaxX){this.setMaxX=this.Jb(e[u],this.setMaxX)}this["transformAxis"]="samples";this.kX(e[u],"samples",false,true);this.xAxisTransformTicks=true}}else{if(u=="patterns"||u=="data_pattern"){if(e.data_pattern&&e.data_pattern.length){var j=e.patterns||e.data_pattern;for(var C=j.length-1;C>=0;C--){var r=e.data_pattern_fill;if(r&&Array.isArray(r[0])){r=r[0]}var u=j[C]||j[0];var G=e.data_pattern_angle[C]||e.data_pattern_angle[0];var D=r&&r[C]?this.u5(r[C]):r?this.u5(r[0]):"rgb(0,0,0)";this.gc(false,this.target+"-Custom-"+C,u,G,D,"rgb(255,255,255)",true)}this.wD("x")}}else{if(!this.yW()&&u.match(/setMin|setMax|AxisTicks/)){var s=u.replace(/X|Y/,"X").replace(/xAxis|yAxis/,"xAxis");if(!isNaN(e[u])){this[s]=e[u]}}else{if(!u.match(/data_pattern/)){this[u]=e[u]}}}}}}}}}this.x9({func:"gg_scales",par:[e]})}};this.Ft=function(b,a){if(b&&b.hasOwnProperty("values")&&this.colorBy){var e=this.yW()?"z":"x";if(this.tO(b.values)){var f=[];for(var d=0;d<b.values.length;d++){f.push(this.u5(b.values[d]))}if(!this.colorKey){this.colorKey={}}this.colorKey[this.colorBy]=f;this.rj(f,this.meta.data[e][this.colorBy])}else{this.colorScheme="Viridis";this.NM();this.af()}if(b.hasOwnProperty("name")){this.colorLegendTitle=b.name}this.x9({func:a||"scale_fill_manual",par:[b]})}};this.YJ=function(a){this.Ft(a,"scale_color_manual")};this.e7=function(a){this.meta.ggplot.coords.push(a);var e=this.Nv(a).length;var c=["r","theta","start","end","direction","inner_radius","arc"];if(e){for(var d in a){if(c.includes(d)){if(d=="theta"){if(this.isPivot){var b=this.data.y.unpivoted.factor;this.jK(true);this.qy(b,false,true)}else{this.graphType="Pie"}}}else{this[d]=a[d]}}if(a.hasOwnProperty("flip")){this.graphOrientation="horizontal";if(this.xAxisTitle){this.xAxis2Title=this.xAxisTitle;this.xAxisTitle=false;this.xAxisShow=false;this.xAxis2Show=true}this.smpTitle=this.smpTitle||this.yAxisTitle;if(this.smpTextRotate>0){this.smpTextRotate=0}}this.x9({func:"gg_coordinates",par:[a]})}};this.ST=function(b,a){var c=this;var d=function(e){e.setMinX=b;e.setMaxX=a;e.blocked=false;c.blocked=false};this.YL(d)};this.zh=function(b,a){var c=this;var d=function(e){e.setMinY=b;e.setMaxY=a;e.blocked=false;c.blocked=false};this.YL(d)};this.Ct=function(i,d){var g=this;if(!d){this.meta.ggplot.theme.push(i)}var c=this.Nv(i).length;if(c){for(var b in i){if(this.wo(i[b])){for(var a in i[b]){i[b+"."+a]=i[b][a]}}}var h=function(){var m=function(){if(g.meta.ggplot&&g.meta.ggplot.layers){var r=g.meta.ggplot.layers.GeomLabel||g.meta.ggplot.layers.GeomText;var s=g.data&&g.data.z?g.data.z:{};var t=["color","fill","size"];if(r&&s){for(var q=0;q<t.length;q++){if(r.hasOwnProperty(t[q])&&s.hasOwnProperty(r[t[q]])){return true}}}return false}else{return false}};var o=function(){return g.meta.ggplot&&g.meta.ggplot.layers&&g.meta.ggplot.layers.GeomHex?true:false};var n=function(){return g.meta.ggplot&&g.meta.ggplot.layers&&(g.meta.ggplot.layers.GeomDensity||g.meta.ggplot.layers.GeomHistogram)?true:false};var p=function(q){var s=g.data&&g.data.z?g.data.z:{};var t=g.data&&g.data.x?g.data.x:{};var u=["color","fill","size","shape","linetype"];for(var r=0;r<u.length;r++){if(q.hasOwnProperty(u[r])&&((s.hasOwnProperty(q[u[r]])||t.hasOwnProperty(q[u[r]]))||(g.data&&g.data.y&&g.data.y.unpivoted&&g.data.y.unpivoted.factor==q[u[r]]))){return true}}return false};var l=function(){for(var q in g.meta.ggplot.layers){if(g.meta.ggplot.layers[q]&&g.meta.ggplot.layers[q].hasOwnProperty("showLegend")&&!g.meta.ggplot.layers[q].showLegend){if(g.meta.ggplot.layers[q].hasOwnProperty("color")&&g.meta.ggplot.layers[q].color!=g.colorBy){}else{return true}}}};var k=g.meta.config.user.aes||{};return g.showLegend===false?false:g.showLegend===true?true:((p(k)||g.colorBy||g.shapeBy||g.sizeBy||g.patternBy||m()||o()||n()||g.graphType.match(/Stacked/i))&&!l())?true:false};var e=function(k){for(var l in k){if(l.match(/color|colour/)){a=l.replace(/color|colour/,"color");k[a]=k[l]=="element_blank"?k[l]:g.u5(k[l])}else{if(l.match(/fill/)){k[l]=k[l]=="element_blank"?k[l]:g.u5(k[l])}}}return k};var f=function(){if(g.isGGMatrix){var l=["resizable","showLegend","xAxisShow","xAxis2Show","yAxisShow","showVariableNames","showSampleNames","varTitle","smpTitle","stripShow","layoutCollapse","layoutAdjust"];g.cacheGGMatrix={};for(var k=0;k<l.length;k++){g.cacheGGMatrix[l[k]]=g[l[k]]}}};var j=function(k){if(i.hasOwnProperty("text.size")){}var l=e(k.TU(i));if(!d){k.showLegend=h()}k.CR(l);k.Ty(l);k.ig(l);k.c2(l);k.Gr(l);f();k.YQ();if(!d){k.x9({func:"gg_theme",par:[i]})}k.blocked=false;g.blocked=false};if(d){j(this)}else{this.YL(j)}}};this.c2=function(a){var f=this.Am();var d=this.Qd(a,"text.size",f,function(h){return Number(parseFloat(h))});var e=this.Qd(a,"text.face","","gg_style");var g=this.Qd(a,"text.color","rgb(0,0,0)","validateColor");var c=0.5;this.xAxisTitleFontStyle=this.Qd(a,["axis.title.x.face","axis.title.face"],e,"gg_style");this.xAxisTitleColor=this.Qd(a,["axis.title.x.color","axis.title.color"],g,"validateColor");this.xAxisTitleScaleFontFactor=this.Qd(a,["axis.title.x.size","axis.title.size"],1,function(h){return Number(h)/(d+1)});this.yAxisTitleFontStyle=this.Qd(a,["axis.title.y.face","axis.title.face"],e,"gg_style");this.yAxisTitleColor=this.Qd(a,["axis.title.y.color","axis.title.color"],g,"validateColor");this.yAxisTitleScaleFontFactor=this.Qd(a,["axis.title.y.size","axis.title.size"],1,function(h){return Number(h)/(d+1)});this.xAxisTextFontStyle=this.Qd(a,["axis.text.x.face","axis.text.face"],e,"gg_style");this.xAxisTextColor=this.Qd(a,["axis.text.x.color","axis.text.color"],g,"validateColor");this.xAxisTextScaleFontFactor=this.Qd(a,["axis.text.x.size","axis.text.size"],1,function(h){return Number(h)/(d+1)});this.yAxisTextFontStyle=this.Qd(a,["axis.text.y.face","axis.text.face"],e,"gg_style");this.yAxisTextColor=this.Qd(a,["axis.text.y.color","axis.text.color"],g,"validateColor");this.yAxisTextScaleFontFactor=this.Qd(a,["axis.text.y.size","axis.text.size"],1,function(h){return Number(h)/(d+1)});if(this.PG()){if(this.graphOrientation=="horizontal"){this.smpTitleFontStyle=this.yAxisTitleFontStyle;this.smpTitleColor=this.yAxisTitleColor;this.smpTitleScaleFontFactor=this.yAxisTitleScaleFontFactor;this.smpTextFontStyle=this.xAxisTextFontStyle;this.smpTextColor=this.xAxisTextColor;this.smpTextScaleFontFactor=this.xAxisTextScaleFontFactor}else{this.smpTitleFontStyle=this.xAxisTitleFontStyle;this.smpTitleColor=this.xAxisTitleColor;this.smpTitleScaleFontFactor=this.xAxisTitleScaleFontFactor;this.smpTextFontStyle=this.yAxisTextFontStyle;this.smpTextColor=this.yAxisTextColor;this.smpTextScaleFontFactor=this.yAxisTextScaleFontFactor}if(this.graphType=="Heatmap"){this.cz(a,"axis.text.x.angle","varTextRotate",true);this.cz(a,"axis.text.y.angle","smpTextRotate")}else{this.cz(a,"axis.text.x.angle","smpTextRotate",true)}}this.xAxisTicksColor=this.Qd(a,["axis.ticks.x.color","axis.ticks.color","line.color"],g,"validateColor");this.yAxisTicksColor=this.Qd(a,["axis.ticks.y.color","axis.ticks.color","line.color"],g,"validateColor");this.xAxisTicksLength=this.Qd(a,["axis.ticks.length.x","axis.ticks.length"],5,function(h){return Number(String(h).replace("points",""))*1.5});this.yAxisTicksLength=this.Qd(a,["axis.ticks.length.y","axis.ticks.length"],5,function(h){return Number(String(h).replace("points",""))*1.5});if(a["axis.ticks"]=="element_blank"){this.xAxisTicksShow=false;this.yAxisTicksShow=false}if(a["axis.ticks.x"]=="element_blank"||(a["axis.ticks.x.bottom"]=="element_blank"&&a["axis.ticks.x.top"]=="element_blank")){this.xAxisTicksShow=false}if(a["axis.ticks.y"]=="element_blank"||(a["axis.ticks.y.left"]=="element_blank"&&a["axis.ticks.y.right"]=="element_blank")){this.yAxisTicksShow=false}this.xAxisLineTopColor=this.Qd(a,["axis.line.x.top.color","axis.line.x.color","axis.line.color","line.color"],g,"validateColor");this.xAxisLineBottomColor=this.Qd(a,["axis.line.x.bottom.color","axis.line.x.color","axis.line.color","line.color"],g,"validateColor");this.yAxisLineRightColor=this.Qd(a,["axis.line.y.right.color","axis.line.y.color","axis.line.color","line.color"],g,"validateColor");this.yAxisLineLeftColor=this.Qd(a,["axis.line.y.left.color","axis.line.y.color","axis.line.color","line.color"],g,"validateColor");this.xAxisLineTopLineType=this.Qd(a,["axis.line.x.top.linetype","axis.line.x.linetype","axis.line.linetype","line.linetype"],"solid","gg_linetype");this.xAxisLineBottomLineType=this.Qd(a,["axis.line.x.bottom.linetype","axis.line.x.linetype","axis.line.linetype","line.linetype"],"solid","gg_linetype");this.yAxisLineRightLineType=this.Qd(a,["axis.line.y.right.linetype","axis.line.y.linetype","axis.line.linetype","line.linetype"],"solid","gg_linetype");this.yAxisLineLeftLineType=this.Qd(a,["axis.line.y.left.linetype","axis.line.y.linetype","axis.line.linetype","line.linetype"],"solid","gg_linetype");this.xAxisLineTopWidth=this.Qd(a,["axis.line.x.top.linewidth","axis.line.x.linewidth","axis.line.linewidth","line.linewidth"],1,function(h){return Math.max(1,Number(h)+c)});this.xAxisLineBottomWidth=this.Qd(a,["axis.line.x.bottom.linewidth","axis.line.x.linewidth","axis.line.linewidth","line.linewidth"],1,function(h){return Math.max(1,Number(h)+c)});this.yAxisLineRightWidth=this.Qd(a,["axis.line.y.right.linewidth","axis.line.y.linewidth","axis.line.linewidth","line.linewidth"],1,function(h){return Math.max(1,Number(h)+c)});this.yAxisLineLeftWidth=this.Qd(a,["axis.line.y.left.linewidth","axis.line.y.linewidth","axis.line.linewidth","line.linewidth"],1,function(h){return Math.max(1,Number(h)+c)});if(a["axis.line.color"]){this.xAxisLineBottomShow=true;this.yAxisLineLeftShow=true}if(a["axis.line"]=="element_blank"){this.xAxisLineTopShow=false;this.xAxisLineBottomShow=false;this.yAxisLineRightShow=false;this.yAxisLineLeftShow=false}if(a["axis.line.x"]=="element_blank"){this.xAxisLineTopShow=false;this.xAxisLineBottomShow=false}if(a["axis.line.y"]=="element_blank"){this.yAxisLineRightShow=false;this.yAxisLineLeftShow=false}if(a["axis.line.x.top"]=="element_blank"){this.xAxisLineTopShow=false}if(a["axis.line.x.bottom"]=="element_blank"){this.xAxisLineBottomShow=false}if(a["axis.line.y.right"]=="element_blank"){this.yAxisLineRightShow=false}if(a["axis.line.y.left"]=="element_blank"){this.yAxisLineLeftShow=false}if(!this.yW()&&this.Ir()){var b=this.xAxisTicksShow;this.xAxisTicksShow=this.yAxisTicksShow;this.yAxisTicksShow=b;b=this.xAxisLineTopShow;this.xAxisLineTopShow=this.yAxisLineRightShow;this.yAxisLineRightShow=b;b=this.xAxisLineBottomShow;this.xAxisLineBottomShow=this.yAxisLineLeftShow;this.yAxisLineLeftShow=b}};this.ig=function(f){var b=this.Am();var m=this.Qd(f,"text.size",b,function(h){return Number(parseFloat(h))});var k=this.Qd(f,"legend.key.size",m,function(h){return Number(parseFloat(h))});var d=this.Qd(f,"text.face","","gg_style");var g=this.Qd(f,"text.color","rgb(0,0,0)","validateColor");this.legendBackgroundColor=this.Qd(f,"legend.background","rgba(255,255,255,0)","validateColor");this.legendBackgroundBorderColor=this.Qd(f,["legend.background.color","legend.box.background"],"rgba(255,255,255,0)","validateColor");this.legendKeyBackgroundColor=this.Qd(f,["legend.key.fill","panel.background.fill"],"rgba(255,255,255,0)","validateColor");this.legendKeyBackgroundBorderColor=this.Qd(f,["legend.key.color","panel.background.fill"],"rgba(255,255,255,0)","validateColor");this.legendTextFontStyle=this.Qd(f,"legend.text.face",d,"gg_style");this.legendTextColor=this.Qd(f,"legend.text.color",g,"validateColor");this.legendTextScaleFontFactor=this.Qd(f,"legend.text.size",1,function(h){return Number(h)/Math.max((m+1),k)});this.legendTitleFontStyle=this.Qd(f,"legend.title.face",d,"gg_style");this.legendTitleColor=this.Qd(f,"legend.title.color",g,"validateColor");this.legendTitleScaleFontFactor=this.Qd(f,"legend.title.size",1,function(h){return Number(h)/Math.max((m+1),k)});if(f.hasOwnProperty("legend.position")){var e,i,l;var a=f["legend.position"];var c=f["legend.justification"];if(this.tO(a)){e=Number(a[0])>0.67?"Right":Number(a[0]<0.33)?"Left":"";i=Number(a[1])>0.67?"top":Number(a[1]<0.33)?"bottom":"";if(i==""){this.legendPosition=e.toLowerCase()}else{this.legendPosition=i+e}this.legendInside=true}else{if(a=="none"){this.showLegend=false}else{if(c&&!a){if(this.tO(c)){l=c.sort().join("");if(l=="bottomleft"){this.legendPosition="bottomLeft"}else{if(l=="bottomright"){this.legendPosition="bottomRight"}else{if(l="topleft"){this.legendPosition="topLeft"}else{this.legendPosition="topRight"}}}}else{if((a=="right"||a=="left")&&(c=="top"||c=="bottom")){this.legendPosition=c+a.toLowerCase()}else{if((a=="top"||a=="bottom")&&(c=="right"||c=="left")){this.legendPosition=a+this.Y5(c)}else{this.legendPosition=a}}}}else{this.showLegendTitle=true;this.legendPosition=a.toLowerCase();if(this.tO(c)&&a.match(/right|left/)){this.legendPosition=Number(c[1])>0.67?"top"+this.Y5(a):Number(c[1])<0.33?"bottom"+this.Y5(a):a.toLowerCase()}else{if(a=="bottom"||a=="top"){this.legendHorizontalJustification=f["legend.justification"]?Number(c[0]):0.5;this.legendColumns=8}}}}this.legendInside=false}}};this.Ty=function(a){this.panelBackgroundColor=this.Qd(a,["panel.background.fill","panel.background","rect.fill"],"rgba(255,255,255,0)","validateColor");if(a["panel.background.fill"]=="element_blank"){this.panelBackgroundColor="rgba(255,255,255,0)"}this.panelBackgroundBorderColor=this.Qd(a,["panel.border","panel.border.colour","panel.border.color","rect.colour","rect.color"],"rgba(255,255,255,0)","validateColor");if(a["panel.border"]=="element_blank"||a["panel.background.color"]=="element_blank"){this.panelBackgroundBorderColor="rgba(255,255,255,0)"}var b=2;this.xAxisGridMajorColor=this.Qd(a,["panel.grid.major.x.color","panel.grid.major.color","panel.grid.color","line.color"],"rgba(0,0,0,0)","validateColor");this.xAxisGridMajorLineType=this.Qd(a,["panel.grid.major.x.linetype","panel.grid.major.linetype","panel.grid.linetype","line.linetype"],"solid","gg_linetype");this.xAxisGridMajorWidth=this.Qd(a,["panel.grid.major.x.linewidth","panel.grid.major.linewidth","panel.grid.linewidth"],1,function(c){return Math.ceil(Number(c)*b)});this.xAxisGridMinorColor=this.Qd(a,["panel.grid.minor.x.color","panel.grid.minor.color","panel.grid.color","line.color"],"rgba(0,0,0,0)","validateColor");this.xAxisGridMinorLineType=this.Qd(a,["panel.grid.minor.x.linetype","panel.grid.minor.linetype","line.linetype"],"solid","gg_linetype");this.xAxisGridMinorWidth=this.Qd(a,["panel.grid.minor.x.linewidth","panel.grid.minor.linewidth"],1,function(c){return Number(c)});this.yAxisGridMajorColor=this.Qd(a,["panel.grid.major.y.color","panel.grid.major.color","panel.grid.color","line.color"],"rgba(0,0,0,0)","validateColor");this.yAxisGridMajorLineType=this.Qd(a,["panel.grid.major.y.linetype","panel.grid.major.linetype","panel.grid.linetype","line.linetype"],"solid","gg_linetype");this.yAxisGridMajorWidth=this.Qd(a,["panel.grid.major.y.linewidth","panel.grid.major.linewidth","panel.grid.linewidth"],1,function(c){return Math.ceil(Number(c)*b)});this.yAxisGridMinorColor=this.Qd(a,["panel.grid.minor.y.color","panel.grid.minor.color","panel.grid.color","line.color"],"rgba(0,0,0,0)","validateColor");this.yAxisGridMinorLineType=this.Qd(a,["panel.grid.minor.y.linetype","panel.grid.minor.linetype","line.linetype"],"solid","gg_linetype");this.yAxisGridMinorWidth=this.Qd(a,["panel.grid.minor.y.linewidth","panel.grid.minor.linewidth"],1,function(c){return Number(c)});this.guidesColor=this.graphOrientation=="horizontal"?this.xAxisGridMajorColor:this.yAxisGridMajorColor;if(a["panel.grid"]=="element_blank"||a["panel.grid.major"]=="element_blank"){this.xAxisGridMajorShow=false;this.yAxisGridMajorShow=false;this.xAxisGridMinorShow=false;this.yAxisGridMinorShow=false}if(a["panel.grid.minor"]=="element_blank"){this.xAxisGridMinorShow=false;this.yAxisGridMinorShow=false}if(a["panel.grid.major.x"]=="element_blank"){this.xAxisGridMajorShow=false}if(a["panel.grid.major.y"]=="element_blank"){this.yAxisGridMajorShow=false}if(a["panel.grid.minor.x"]=="element_blank"){this.xAxisGridMinorShow=false}if(a["panel.grid.minor.y"]=="element_blank"){this.yAxisGridMinorShow=false}if(a.hasOwnProperty("panel.spacing")){this.layoutSpacing=Math.ceil(Number(parseInt(a["panel.spacing"]))*0.3)}};this.CR=function(a){this.plotBackgroundColor=this.Qd(a,["plot.background.fill","plot.background","rect.fill"],"rgba(255,255,255,0)","validateColor");this.plotBackgroundBorderColor=this.Qd(a,["plot.background.color","rect.color"],"rgba(0,0,0,0)","validateColor");if(a["plot.background"]=="element_blank"){this.plotBackgroundColor="rgba(255,255,255,0)";this.plotBackgroundBorderColor="rgba(255,255,255,0)"}var d=this.Am();var b=this.Qd(a,"text.size",d,function(f){return Number(parseFloat(f))});var c=this.Qd(a,"text.face","","gg_style");var e=this.Qd(a,"text.color","rgb(0,0,0)","validateColor");this.titleFontStyle=this.Qd(a,"plot.title.face",c,"gg_style");this.titleColor=this.Qd(a,"plot.title.color",e,"validateColor");this.titleScaleFontFactor=this.Qd(a,"plot.title.size",1,function(f){return Number(f)/(b+2)});this.titleAlign=this.O4(a,"plot.title.position","plot.title.hjust");this.subtitleFontStyle=this.Qd(a,"plot.subtitle.face",c,"gg_style");this.subtitleColor=this.Qd(a,"plot.subtitle.color",e,"validateColor");this.subtitleScaleFontFactor=this.Qd(a,"plot.subtitle.size",1,function(f){return Number(f)/(b+2)});this.subtitleAlign=this.O4(a,"plot.title.position","plot.title.hjust");this.citationFontStyle=this.Qd(a,"plot.caption.face",c,"gg_style");this.citationColor=this.Qd(a,"plot.caption.color",e,"validateColor");this.citationScaleFontFactor=this.Qd(a,"plot.caption.size",1,function(f){return Number(f)/(b+2)});this.citationAlign=this.O4(a,"plot.caption.position","plot.caption.hjust")};this.Gr=function(a){var d=this.Am();var b=this.Qd(a,"text.size",d,function(f){return Number(parseFloat(f))});var c=this.Qd(a,"text.face","","gg_style");var e=this.Qd(a,"text.color","rgb(0,0,0)","validateColor");this.stripBackgroundColor=this.Qd(a,["strip.background.fill","strip.background"],"rgba(255,255,255,0)","validateColor");this.stripBackgroundBorderColor=this.Qd(a,"strip.background.color","rgba(255,255,255,0)","validateColor");this.stripTextFontStyle=this.Qd(a,"strip.text.face",c,"gg_style");this.stripTextColor=this.Qd(a,"strip.text.color",e,"validateColor");this.stripTextScaleFontFactor=this.Qd(a,"strip.text.size",1,function(f){return Number(f)/(b+2)})};this.Q5=function(){this.wA("grey",true);this.x9({func:"theme_grey",par:[]})};this.Kh=function(){this.Q5()};this.v2=function(){this.wA("bw",true);this.x9({func:"theme_bw",par:[]})};this.f5=function(){this.wA("linedraw",true);this.x9({func:"theme_linedraw",par:[]})};this.Tl=function(){this.wA("light",true);this.x9({func:"theme_light",par:[]})};this.UP=function(){this.wA("dark",true);this.x9({func:"theme_dark",par:[]})};this.vz=function(){this.wA("minimal",true);this.x9({func:"theme_minimal",par:[]})};this.Qx=function(){this.wA("classic",true);this.x9({func:"theme_classic",par:[]})};this.ZX=function(){this.wA("void0",true);this.x9({func:"theme_void",par:[]})};this.Rk=function(){this.wA("economist",true);this.x9({func:"theme_economist",par:[]})};this.o0=function(){this.wA("excel",true);this.x9({func:"theme_excel",par:[]})};this.ZN=function(){this.wA("solarized",true);this.x9({func:"theme_solarized",par:[]})};this.F7=function(){this.wA("ptol",true);this.x9({func:"theme_ptol",par:[]})};this.RM=function(){this.wA("wsj",true);this.x9({func:"theme_wsj",par:[]})};this.z6=function(){this.wA("tableau",true);this.x9({func:"theme_tableau",par:[]})};this.bi=function(){this.wA("stata",true);this.x9({func:"theme_stata",par:[]})};this.Jw=function(a){return a?a.replace(/plain/,""):a};this.is=function(a){return a&&a==1?"line":a&&a==2?"dashed":a==3?"dotted":(a||"line")};this.Id=function(a){switch(a){case 0:case 14:case 15:case 22:return"square";case 1:case 16:case 19:case 20:return"circle";case 2:case 17:case 24:return"triangle";case 3:return"plus";case 4:return"minus";case 5:case 18:case 23:return"diamond";case 6:case 25:return"triangle2";case 7:return"hexagon";case 8:return"star";case 9:return"octagon";case 10:return"pentagon";case 11:return"mdavid";case 12:return"drop";case 13:case 21:return"circleOpen";default:return a}};this.Qd=function(b,g,h,e){if(!e){e=function(a){return a}}if(this.tO(g)){for(var c=0;c<g.length;c++){if(b.hasOwnProperty(g[c])){if(typeof(e)=="function"){return e(b[g[c]])}else{return b[g[c]]=="element_blank"||b[g[c]]==null||b[g[c]]==false?"rgba(255,255,255,0)":this[e](b[g[c]])}}}}else{if(b.hasOwnProperty(g)){if(typeof(e)=="function"){return e(b[g])}else{return b[g]=="element_blank"||b[g]==null||b[g]==false?"rgba(255,255,255,0)":this[e](b[g])}}}return h=="element_blank"||h==null||b[g]==false?"rgba(255,255,255,0)":h};this.cz=function(b,d,e,c){if(b.hasOwnProperty(d)){if(this.Qc()&&!this.yW()){this[e]=Number(b[d])==0?90:Number(b[d])==90?0:c?90-Number(b[d]):Number(b[d])}else{this[e]=c?90-Number(b[d]):Number(b[d])}}};this.O4=function(b,e,c){var d="center";if(b.hasOwnProperty(e)){d=b[e];if(d.match(/plot|panel/)&&b.hasOwnProperty(c)){d+="::"+Number(b[c])}}return d};this.kQ=function(b,c,e){if(b.hasOwnProperty(c)){return b[c]!="element_blank"}return e};this.Am=function(b,c,e){return this.isCxplot?11:12};this.Dw=function(b){this.meta.ggplot.config.push(b);if(b){var g=false;for(var j in b){if(j!="skipRender"){if(this.kmCxplot&&(j=="kmCxplot"||j=="kmRiskTable"||j=="showKMConfidenceIntervals")){this.rj(this.meta.data.z[this.colorBy].colorBy,this.meta.data.z[this.colorBy]);this.Jl(true);continue}if(j=="selectedDataPoints"){var a=this.xAxisIndices&&this.xAxisIndices.length?this.xAxisIndices[0]:0;var h=this.yAxisIndices&&this.yAxisIndices.length?this.yAxisIndices[0]:1;for(var e=0;e<b[j].length;e++){var f=this.tU(b[j][e]);if(f>=0){this.rE([f,a,h]);g=true}}}else{this[j]=b[j];g=true}}}if(g){this.x9({func:"gg_config",par:[b]})}}}};CanvasXpress.prototype.Pie=function(){this.bF=function(){var f=[];if(this.isDOE){var a=this.data.l.data[this.layoutCurrent].y.vars.length;for(var b=0;b<a;b++){f.push(this.data.l.data[this.layoutCurrent].y.data[b][0])}}else{if(this.data.y.pie){var a=this.data.y.pie.y.vars.length;for(var b=0;b<a;b++){f.push(this.data.y.pie.y.data[b][0])}}else{var a=this.smpIndices[0];if(this.varIndices.length>=this.maxPieSectors-1){var e=this;this.varIndices.sort(function(g,d){return e.data.y.data[d][a]-e.data.y.data[g][a]})}for(var b=0;b<this.varIndices.length;b++){var c=this.varIndices[b];f.push(this.Cb(c,a))}}}this.varPie=this.sn(f,true)};this.el=function(){if(this.autoScaleFont){var a=this.layoutComb&&this.isDOE?this.layoutWidth:this.width;var b=this.layoutComb&&this.isDOE?this.layoutHeight:this.height;var c=Math.min(a,b)*(1-this.percentAspectRatioPlotArea);this.lV("Pie",c,"x")}};this.b1=function(){if(this.pieBy&&!this.data.y.pie){if(this.data.y.smps.includes(this.pieBy)){this.xAxis=[this.pieBy];this.pieBy=false}else{this.xAxis=false;this.yAxis=false;this.isPie=this.pieBy;this.data.y.pie=this.qy(this.pieBy,true)}}};this.vF=function(){if(this.showLegend){if(this.legendPosition=="right"){this.right=this.layoutComb&&!this.isDOE?this.layoutRight:this.layoutComb?Math.min(this.layoutWidth/3,this.legend.variable.width):Math.min(this.width/3,this.legend.variable.width)}else{if(this.legendPosition=="left"){this.left=this.layoutComb&&!this.isDOE?this.layoutRight:this.layoutComb?Math.min(this.layoutWidth/3,this.legend.variable.width):Math.min(this.width/3,this.legend.variable.width)}else{if(this.legendPosition=="top"){this.top+=this.layoutComb&&!this.isDOE?this.layoutBottom:this.layoutComb?Math.min(this.layoutHeight/3,this.legend.variable.height):Math.min(this.height/3,this.legend.variable.height)}else{if(this.legendPosition=="bottom"){this.bottom=this.layoutComb&&!this.isDOE?this.layoutBottom:this.layoutComb?Math.min(this.layoutHeight/3,this.legend.variable.height):Math.min(this.height/3,this.legend.variable.height)}}}}}this.x=this.layoutComb&&!this.isDOE?this.layoutWidth:this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight);this.y=this.layoutComb&&!this.isDOE?this.layoutHeight:this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom)};this.LZ=function(){if(!this.isDOE){this.To({p:["setClipArea",this.UR()],t:"Data"})}var b=Math.min(this.x,this.y);var c=(b-(b/5))/2;var a=this.marginLeft+this.offsetX+this.left+(this.x/2);var d=this.marginTop+this.offsetY+this.top+(this.y/2);this.bF();this.vK(this.varPie,a,d,c,true);if(!this.isDOE){this.To({p:["resetClipArea"],t:"Data"})}};this.sy=function(){this.el();this.mU();this.b1();this.U6();this.vF();this.LZ();this.On();this.p3()};this.oD=function(){if(!this.data.y.pie&&this.xAxisMin<0){alert("Dude you can't draw a pie chart with negative numbers!");return}this.gV(Math.min(this.width,this.height),"smpTextFont");if(this.layoutValid){this.X9(this.drawPiePlot)}else{this.sy()}};this.ku=function(){this.oD()}};CanvasXpress.prototype.Venn=function(){this.qE=function(){this.vennMarginLeft=0;this.vennMarginTop=0;this.lV("Venn",this.width,"x");if(this.showLegend){this.bottom=this.legend.height}if(this.width<=this.height){this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight)}else{this.x=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom)}this.y=this.vennGroups==4?this.x*0.8:this.vennGroups==3?this.x*0.95:this.vennGroups==2?this.x*0.65:this.x;this.vennMarginTop=(this.height-(this.marginTop+this.top+this.y+this.bottom+this.marginBottom))/2;this.vennMarginLeft=(this.width-(this.marginLeft+this.left+this.x+this.right+this.marginRight))/2;if(this.x<400){var a=this.rk(this.xAxisTextFont)-2;if(this.x<200){a-=1}this.xAxisTextFont=a+"px "+this.fontName}this.Hr()};this.uF=function(f,g,i,c,d,b){var a=this.marginLeft+this.left+(this.x/2);var e=this.marginTop+this.top+(this.y/2);this.To({p:["drawShape",i,f,g,c,c,this.SS(d),this.V4(d),"closed",b],b:[a,e,0,0],t:"Data"})};this.a6=function(){var e,f,b,d;var a=[];for(var c in this.data.venn.legend){a.push(c)}this.To({p:["rectangleClear",0,0,this.width,this.height],t:"Data"});this.To({p:["setGlobalCompositionOperation","lighter"],t:"Data"});if(this.vennGroups==4){e=this.vennMarginLeft+this.marginLeft+this.margin;f=this.vennMarginTop+this.marginTop+this.top;this.uF(e+(this.x/4.94),f+(this.x/13),"ellipse2",this.x/1.4,this.vennColors.length>0&&this.u5(this.vennColors[0])?this.u5(this.vennColors[0]):"rgb(255,0,0)",Math.PI/4);this.uF(e+(this.x/2.72),f+(this.x/-40.31),"ellipse2",this.x/1.4,this.vennColors.length>1&&this.u5(this.vennColors[1])?this.u5(this.vennColors[1]):"rgb(0,153,51)",Math.PI/4);this.uF(e+(this.x/3.43),f+(this.x/1.72),"ellipse2",this.x/1.4,this.vennColors.length>2&&this.u5(this.vennColors[2])?this.u5(this.vennColors[2]):"rgb(0,0,255)",-Math.PI/4);this.uF(e+(this.x/7.96),f+(this.x/2.07),"ellipse2",this.x/1.4,this.vennColors.length>3&&this.u5(this.vennColors[3])?this.u5(this.vennColors[3]):"rgb(153,204,0)",-Math.PI/4);b=[11.2,3.05,1.46,1.08];d=[7,42,42,7]}else{if(this.vennGroups==3){e=this.vennMarginLeft+this.marginLeft+this.left+(this.x/2);f=this.vennMarginTop+this.marginTop+this.top+(this.x/2.86);this.uF(e,f,"circle",this.x/2,this.vennColors.length>0&&this.u5(this.vennColors[0])?this.u5(this.vennColors[0]):"rgb(255,0,0)");f+=(this.x/3.33);e=this.vennMarginLeft+this.marginLeft+this.left+(this.x/3);this.uF(e,f,"circle",this.x/2,this.vennColors.length>1&&this.u5(this.vennColors[1])?this.u5(this.vennColors[1]):"rgb(0,255,0)");e=this.vennMarginLeft+this.marginLeft+this.left+(this.x/1.5);this.uF(e,f,"circle",this.x/2,this.vennColors.length>2&&this.u5(this.vennColors[2])?this.u5(this.vennColors[2]):"rgb(0,0,255)");b=[2,8.66,1.13];d=[20,2.3,2.3]}else{if(this.vennGroups==2){e=this.vennMarginLeft+this.marginLeft+this.left+(this.x/3);f=this.vennMarginTop+this.marginTop+this.top+(this.x/2.67);this.uF(e,f,"circle",this.x/2,this.vennColors.length>0&&this.u5(this.vennColors[0])?this.u5(this.vennColors[0]):"rgb(0,0,255)");e=this.vennMarginLeft+this.marginLeft+this.left+(this.x/1.5);f=this.vennMarginTop+this.marginTop+this.top+(this.x/2.67);this.uF(e,f,"circle",this.x/2,this.vennColors.length>1&&this.u5(this.vennColors[1])?this.u5(this.vennColors[1]):"rgb(255,0,0)");b=[3,1.5];d=[16,16]}else{if(this.vennGroups==1){e=this.vennMarginLeft+this.marginLeft+this.left+(this.x/2);f=this.vennMarginTop+this.marginTop+this.top+(this.x/2);this.To({p:["drawShape","circle",e,f,this.x,this.x,this.vennColors.length>0&&this.u5(this.vennColors[0])?this.u5(this.vennColors[0]):"rgb(255,0,0)",this.foreground,"closed"],t:"Data"});b=[100];d=[100]}}}}this.To({p:["setGlobalCompositionOperation","source-over"],t:"Data"});this.Jh(b,d,a)};this.Jh=function(b,e,a){if(!this.vennLegendColors){for(var d=0;d<this.vennGroups;d++){var c=this.vennMarginLeft+this.marginLeft+this.left+(this.x/b[d]);var f=this.vennMarginTop+this.marginTop+this.top+(this.x/e[d]);this.To({p:["drawText",a[d],c,f,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Labels"})}}};this.JO=function(){var a,e,g;this.vennCompartments=this.vennCompartments.sort();if(this.vennGroups==4){g=[0,8,1,12,5,9,2,14,7,11,13,4,6,10,3];a=[5.6,2.94,3.5,1.54,3.29,2,2.59,1.212,2,1.442,1.4,1.757,2.31,1.624,2];e=[2.94,7,3.92,7,1.89,4.06,2.66,2.94,1.54,1.89,3.92,1.729,1.729,2.66,2.03];this.y=(this.x*1.1)/1.4}else{if(this.vennGroups==3){g=[0,4,1,6,3,5,2];a=[2,3.5,2.55,1.4,1.6,2,2];e=[3.6,1.54,2.07,1.54,2.07,1.54,1.83];this.y=this.x*0.95}else{if(this.vennGroups==2){g=[0,2,1];a=[3.5,1.4,2];e=[2.66,2.66,2.66];this.y=this.x*0.65}else{if(this.vennGroups==1){g=[0];a=[2];e=[2]}}}}for(var d=0;d<g.length;d++){var c=this.vennMarginLeft+this.marginLeft+this.left+(this.x/a[d]);var f=this.vennMarginTop+this.marginTop+this.top+(this.x/e[d]);var b=this.rk(this.xAxisTextFont);var h=this.data.venn.data[this.vennCompartments[g[d]]]?this.data.venn.data[this.vennCompartments[g[d]]]:0;if(this.tO(h)){h=h[0]}this.To({p:["drawText",h,c,f,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],i:[g[d]],t:"Labels"})}};this.I3=function(){var b="";if(this.vennGroups==4&&this.vennCompartments.length!=15){this.vennCompartments=["A","B","AB","C","AC","BC","ABC","D","AD","BD","CD","ABD","ACD","BCD","ABCD"];b="Unless there are exactly 15 vennCompartments the Venn data should be mapped to 'A', 'B', 'AB', 'C', 'AC', 'BC', 'ABC', 'D', 'AD', 'BD', 'CD', 'ABD', 'ACD', 'BCD', 'ABCD'"}else{if(this.vennGroups==3&&this.vennCompartments.length!=7){this.vennCompartments=["A","B","AB","C","AC","BC","ABC"];b="Unless there are exactly 7 vennCompartments the Venn data should be mapped to 'A', 'B', 'AB', 'C', 'AC', 'BC', 'ABC'"}else{if(this.vennGroups==2&&this.vennCompartments.length!=3){this.vennCompartments=["A","B","AB"];b="Unless there are exactly 3 vennCompartments the Venn data should be mapped to 'A', 'B', 'AB'"}else{if(this.vennGroups==1&&this.vennCompartments.length!=1){this.vennCompartments=["A"];b="Unless there are exactly 1 vennCompartments the Venn data should be mapped to 'A'  "}}}}for(var a=0;a<this.vennCompartments.length;a++){if(!this.data.venn.data.hasOwnProperty(this.vennCompartments[a])){alert("Data for Venn diagram do not conform to specifications. "+b);break}}};this.XT=function(){this.I3();this.U6();this.qE();this.showShadow=false;this.a6();this.showShadow=this.tmpshowShadow;this.JO();this.On();this.p3()};this.dz=function(){this.transparency=null;this.tmpshowShadow=this.showShadow;this.background="rgb(255,255,255)";this.foreground="rgb(0,0,0)";this.XT()};this.lQ=function(){this.dz()}};CanvasXpress.prototype.Correlation=function(){this.Jm=function(a){this.gV(Math.min(this.width,this.height)*0.5,"varTextFont");this.gV(Math.min(this.width,this.height)*0.5,"smpTextFont")};this.D7=function(){var a=0;if(this.correlationAxis=="samples"){if(this.meta.data.y.maxSmpChr>this.maxSmpStringLen){a+=this.pb(this.meta.data.y.maxSmpStr.substring(0,this.maxSmpStringLen),this.smpTextFont)}else{a+=this.pb(this.meta.data.y.maxSmpStr,this.smpTextFont)}}else{if(this.meta.data.y.maxVarChr>this.maxVarStringLen){a+=this.pb(this.meta.data.y.maxVarStr.substring(0,this.maxVarStringLen),this.varTextFont)}else{a+=this.pb(this.meta.data.y.maxVarStr,this.varTextFont)}}if(this.correlationAnchorLegend){a+=this.correlationAnchorLegendAlignWidth+this.margin}return a};this.OH=function(){this.corMarginLeft=0;this.corMarginTop=0;if(this.yAxisShow){this.lV(this.yAxisTitle,Math.min(this.width,this.height),"y");this.left=this.margin+this.rk(this.yAxisTitleFont)+this.margin}if(this.width<=this.height){this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight)}else{this.x=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom)}var a=this.correlationAxis=="variables"?this.varIndices.length:this.isGroupedData?this.grpIndices.length:this.smpIndices.length;if(this.correlationType!="circle"){this.correlationType="diamond"}this.diamondSize=this.x/a;this.diamondScale=1;if(this.correlationType=="circle"){this.diamondScale=0.6}this.Jm(a);this.U6();this.y=this.x/2+(this.diamondSize/2);if(this.xAxisShow){this.top+=this.margin+this.D7()+this.margin}if(this.autoAdjust){this.height=this.marginTop+this.top+this.y+this.bottom+this.marginBottom;this.width=this.marginLeft+this.left+this.x+this.right+this.marginRight}else{this.corMarginTop=(this.height-(this.marginTop+this.top+this.y+this.bottom+this.marginBottom))/2;this.corMarginLeft=(this.width-(this.marginLeft+this.left+this.x+this.right+this.marginRight))/2}this.Hr()};this.rF=function(){if(this.yAxisShow){this.To({p:["drawText",this.yAxisTitle,this.corMarginLeft+this.marginLeft+this.left/2,this.marginTop+this.top+(this.y/2),this.yAxisTitleFont,this.yAxisTitleColor,"center","middle",-Math.PI/2],t:"Labels"})}if(this.xAxisShow){var p=this.corMarginLeft+this.marginLeft+this.left+(this.diamondSize/2);var d=(this.corMarginTop+this.marginTop+this.top)-this.margin;var c=(this.corMarginTop+this.marginTop+this.top)-(this.D7()+this.margin);var b=c+this.correlationAnchorLegendAlignWidth;var q,j,r;var a=this.isGroupedData?this.data.w:this.data.y;var k=this.diamondSize*this.diamondScale;var f=this.correlationAxis=="variables"?this.varIndices:this.isGroupedData?this.grpIndices:this.smpIndices;var m=this.correlationAxis=="samples"?this.maxSmpStringLen:this.maxVarStringLen;if(this.correlationAnchorLegend){r=this.correlationAxis=="samples"?a.data[0]:this.BO(0);if((this.smpIndicesStart<0&&this.correlationAxis=="samples")||(this.varIndicesStart<0&&this.correlationAxis=="variables")){f.sort(function(t,i){return r[t]-r[i]})}this.zl("xAxis")}if(this.correlationAxis=="samples"){q=a.smps;j=this.smpTextFont}else{q=a.vars;j=this.varTextFont}for(var n=0;n<f.length;n++){var h=f[n];var l=this.Aj(q[h],m);var e=this.correlationAxis=="samples"?this.xl(q[h]):this.xy(q[h]);var g=n/this.correlationLabelInterval;if(parseInt(g)==parseFloat(g)){this.To({p:["drawText",l,p,d,j,e,"left","middle",-Math.PI/2],t:"Labels"})}if(this.correlationAnchorLegend){var s;if((this.smpIndicesStart<0&&this.correlationAxis=="samples")||(this.varIndicesStart<0&&this.correlationAxis=="variables")){s=r[h]}else{s=r[n]}var o=this.corMarginLeft+this.marginLeft+this.left+((s-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine","line",o,c-this.margin,o,c,e],t:"Labels"});this.To({p:["drawLine","line",o,c,p,b,e],t:"Labels"})}p+=this.diamondSize}}p=this.corMarginLeft+this.marginLeft+this.left;d=this.marginTop+this.top+this.y-(this.heatmapIndicatorHeight*2);if(this.correlationAnchorLegend){this.l1("cor")}if(this.minData==null||this.maxData==null){this.l1("cor")}if(this.showLegend){this.bP(p,d,this.p6(),"Correlation",true)}};this.aa=function(){var q,c;var m=this.diamondSize/2;var t=this.isGroupedData?this.data.w.cor:this.data.y.cor;var h=this.diamondSize*this.diamondScale;var f=this.correlationAxis=="variables"?this.varIndices:this.isGroupedData?this.grpIndices:this.smpIndices;var s=this.corMarginLeft+this.marginLeft+this.left+m;var d=this.corMarginTop+this.marginTop+this.top+m;var a=[this.corMarginLeft+this.marginLeft+this.left+(this.x/2),this.corMarginTop+this.marginTop+this.top+this.y];for(var o=0;o<Math.ceil(f.length/2);o++){var g=f[o];q=s+(this.diamondSize*o);c=d;for(var n=o;n<f.length-o;n++){var r=f[n];var u=t[g][r];var e=this.SS(this.PW(false,u));var p=this.correlationType=="circle"?Math.round(Math.abs(u)*h*10)/10:h;if(isNaN(u)){this.To({p:["drawShape",this.correlationType,q,c,h,h,this.SS(this.missingDataColor),this.SS(this.missingDataColor),"closed"],i:[g,r],b:a,t:"Data"})}else{this.To({p:["drawShape",this.correlationType,q,c,p,p,e,e,"closed"],i:[g,r],b:a,t:"Data"})}q+=m;c+=m}c-=this.diamondSize;for(var l=n-2;l>=o;l--){var b=f[(f.length-l)-1];var u=t[b][r];var e=this.SS(this.PW(false,u));var p=this.correlationType=="circle"?Math.round(Math.abs(u)*h*10)/10:h;if(isNaN(u)){this.To({p:["drawShape",this.correlationType,q,c,h,h,this.SS(this.missingDataColor),this.SS(this.missingDataColor),"closed"],i:[b,r],b:a,t:"Data"})}else{this.To({p:["drawShape",this.correlationType,q,c,p,p,e,e,"closed"],i:[b,r],b:a,t:"Data"})}q+=m;c-=m}}if(h<8){return}this.To({p:["drawLine","line",this.corMarginLeft+this.marginLeft+this.left,this.corMarginTop+this.marginTop+this.top+m,this.corMarginLeft+this.marginLeft+this.left+(this.x/2),this.corMarginTop+this.marginTop+this.top+this.y,this.foreground,false,"butt"],s:true,t:"Data"});this.To({p:["drawLine","line",this.corMarginLeft+this.marginLeft+this.left+this.x,this.corMarginTop+this.marginTop+this.top+m,this.corMarginLeft+this.marginLeft+this.left+(this.x/2),this.corMarginTop+this.marginTop+this.top+this.y,this.foreground,false,"butt"],s:true,t:"Data"});s=this.corMarginLeft+this.marginLeft+this.left+m;d=this.corMarginTop+this.marginTop+this.top;q=s+(this.x/2);c=(this.corMarginTop+this.marginTop+this.top+this.y)-m;for(var o=0;o<f.length;o++){this.To({p:["drawLine","line",s,d,q,c,this.foreground,false,"butt"],s:true,t:"Data"});s+=this.diamondSize;q+=m;c-=m}s=(this.corMarginLeft+this.marginLeft+this.left+this.x)-m;d=this.corMarginTop+this.marginTop+this.top;q=(this.corMarginLeft+this.marginLeft+this.left+(this.x/2))-m;c=(this.corMarginTop+this.marginTop+this.top+this.y)-m;for(var o=0;o<f.length;o++){this.To({p:["drawLine","line",s,d,q,c,this.foreground,false,"butt"],s:true,t:"Data"});s-=this.diamondSize;q-=m;c-=m}};this.wm=function(){this.OH();this.rF();this.p3();this.aa()};this.qc=function(){this.wm()};this.eJ=function(){this.qc()}};CanvasXpress.prototype.Scatter2D=function(){this.kF=function(){return !this.layoutAdjust||this.scatterPlotMatrixType.match(/correlation|all/)};this.Gx=function(a){if(this.scatterPlotMatrix&&this.kF()){return(a?this.yAxis2Show:this.yAxisShow)?this.margin+this.pb(this.yAxisMaxStrLength,this.yAxisTextFont)+this.yAxisTextMargin+this.yAxisTicksLength:this.margin}else{var c;if(this.layoutValid&&this.layoutAdjust&&this.yAxisLayoutMaxTickStrLength){c=this.yAxisLayoutMaxTickStrLength+this.yAxisTextMargin+this.yAxisTicksLength}else{if(this.ridgeBy){c=this.meta.data.z&&this.meta.data.z[this.ridgeBy]?this.meta.data.z[this.ridgeBy].maxLevStr:this.pQ(this.data.y.smps);c=this.pb(c,this.yAxisTextFont)+this.yAxisTextMargin+this.yAxisTicksLength}else{if(this.yAxisTransform&&this.yAxisTransformTicks){c=this.pQ(this.yAxisTransformTicksValues);c=this.pb(c,this.yAxisTextFont)+this.yAxisTextMargin+this.yAxisTicksLength}else{c=this.isGraphTime=="y"?this.dateFormat(new Date(this.yAxisMax),this.timeFormat||this.DJ(this.yAxisMax-this.yAxisMin)):this.yAxisMaxStrLength;c=this.pb(this.sV(parseFloat(c),"yAxis"),this.yAxisTextFont)+this.yAxisTextMargin+this.yAxisTicksLength}}}var d=0;if(a){if(this.yAxis2Title){d=this.rk(this.yAxisTitleFont)+this.yAxisTitleMargin}}else{if(this.yAxisTitle){d=this.rk(this.yAxisTitleFont)+this.yAxisTitleMargin}}var b=this.isDOE?this.margin:0;return(a?this.yAxis2Show:this.yAxisShow)||this.layoutValid?this.margin+d+c+b:this.margin+b}};this.dj=function(a){if(this.scatterPlotMatrix&&this.kF()){return(a?this.xAxis2Show:this.xAxisShow)?this.margin+this.rk(this.xAxisTextFont)+this.xAxisTextMargin+this.xAxisTicksLength:this.margin}else{var b=this.rk(this.xAxisTextFont)+this.xAxisTextMargin+this.xAxisTicksLength;var c=0;if(a){if(this.xAxis2Title){c=this.rk(this.xAxisTitleFont)+this.xAxisTitleMargin}}else{if(this.xAxisTitle){c=this.rk(this.xAxisTitleFont)+this.xAxisTitleMargin}}return(a?this.xAxis2Show:this.xAxisShow)?this.margin+c+b:this.margin}};this.ks=function(){var c=this.yAxisTitle||"";var e=this.yAxis2Title||"";var a=this.xAxisTitle||"";var g=c.length>e.length?c:e;var b=a.length>g.length?a:g;var f=Math.min(this.layoutComb&&this.isDOE?this.layoutWidth:this.width,this.layoutComb&&this.isDOE?this.layoutHeight:this.height)*(1-this.percentAspectRatioPlotArea)*(this.scatterPlotMatrix?0.5:1);this.lV(b,f,"x");this.lV(b,f,"y");this.gV(this.layoutComb&&this.isDOE?this.layoutWidth:this.width,"motionCurrentFont",80)};this.lZ=function(){if(this.dR()){this.DT("qq")}else{if(this.np()){this.DT("cdf")}else{if(this.Hi()){this.DT("km")}}}};this.l9=function(){var n=false;var g=this.xAxisGridMajorShow||this.xAxisGridMinorShow||this.xAxisShow;var f=this.yAxisGridMajorShow||this.yAxisGridMinorShow||this.yAxisShow;this.U6();if(n){this.lZ()}var c=this.pb(this.pQ(this.yAxisValues),this.yAxisTextFont)/2;this.right=this.isDOE||this.graphType=="Fish"?this.margin*5:this.layoutComb||(this.scatterType=="visium"&&!g)?0:this.yAxis2Show?this.Gx(true):Math.max(c,this.margin);if(!this.layoutComb){if(!this.legendInside){if(this.showLegend&&this.legendPosition.match(/right/i)&&this.legend.width>0){this.right+=this.legend.width+this.margin}if(this.showDecorations&&this.showDecorationsLegend&&this.decorationsPosition=="right"&&this.legend.decoration.width>0){this.right+=this.legend.decoration.width+this.margin}}if(this.yAxisHistogramShow&&!this.layoutComb&&this.graphType!="Fish"&&!n){this.right+=this.yAxisHistogramHeight+(this.margin*2)}if(this.graphType=="ScatterBubble2D"&&this.zAxisShow){this.right+=this.rk(this.yAxisTitleFont)+this.margin}else{this.right+=this.margin}if(this.scatterType=="visium"){this.right+=this.margin*3}}var c=this.pb(this.pQ(this.yAxisValues),this.yAxisTextFont)/2;this.left=this.graphType=="Fish"?this.margin*5:this.isDOE||this.ridgeBy?this.Gx()+(this.margin*1):this.scatterType=="visium"&&!g?0:this.layoutComb&&this.kF()?this.margin:Math.max(c,this.Gx());if((this.qn()||this.scatterPlotMatrix)&&this.layoutCollapse&&this.graphType!="Fish"){this.left-=this.margin}if(!this.legendInside){if(this.showLegend&&this.legendPosition.match(/left/i)&&this.legend.width>0&&!n){this.left+=this.legend.width+this.margin}}if(this.kmRiskTable&&this.colorBy){var a=this.pb(this.Aj(this.meta.data.z[this.colorBy].maxLevStr,this.maxVarStringLen),this.yAxisTextFont);if(a>this.left){this.left=a+this.margin}}this.top=this.isDOE||this.graphType=="Fish"?this.margin*5:this.mE()?0:this.layoutValid?this.margin:this.marginTop+this.dj(true);if(!this.legendInside&&!this.layoutComb&&!n){if(this.showLegend&&this.legendPosition=="top"&&this.legend.height>0){this.top+=this.legend.height+this.margin}}if(!this.layoutComb){this.top+=this.SP();if(this.xAxisHistogramShow&&!this.layoutComb&&this.graphType!="Fish"&&!n){this.top+=this.xAxisHistogramHeight+(this.margin*2)}else{if(this.graphType=="Fish"){this.top+=this.dj()}}}else{if(this.scatterPlotMatrix&&this.scatterPlotMatrixType.match(/first/)){this.top+=this.stripThickness}else{if(this.Pi()&&this.qn()){this.top+=(this.stripThickness*(this.segregateVariablesBy.length+this.segregateSamplesBy.length))-this.margin}}}this.bottom=this.graphType=="Fish"?this.margin*5:this.isDOE?this.dj()+(this.margin*3):this.scatterType=="visium"&&!f?0:this.layoutComb&&this.kF()?this.margin:this.dj();if(this.kmRiskTable&&!this.layoutValid&&this.meta.data.p.g){this.bottom+=((this.yAxisTextFontSize+this.margin)*(this.meta.data.p.g.length+1))+(this.margin*5)}if(!this.legendInside&&!this.layoutComb&&!this.dR()&&!this.np()){if(this.showLegend&&this.legendPosition=="bottom"&&this.legend.height>0){this.bottom+=this.legend.height+this.margin}if(this.showDecorations&&this.showDecorationsLegend&&this.decorationsPosition=="bottom"&&this.legend.decoration.height>0){this.bottom+=this.legend.decoration.height+(this.margin*3)}}if(this.layoutValid&&this.graphType!="Fish"&&this.qn()&&!this.layoutCollapse&&this.layoutType=="wrap"){this.bottom+=this.margin}if(this.citation&&!this.layoutValid){this.bottom+=this.l0()}var o=this.width;var j=this.motionBy&&this.graphType!="Fish"?this.height-40:this.height;this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):o-(this.marginLeft+this.left+this.right+this.marginRight);this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):j-(this.marginTop+this.top+this.bottom+this.marginBottom);var k=false;if(this.fixedAspectRatio||(this.scatterType=="visium"&&this.visiumFixedAspectRatio)){var e=this.scatterType=="visium"?CanvasXpress.cacheImages[this.backgroundImageMD5||this.KU(this.backgroundImage)]:false;var b=this.scatterType=="visium"?e.height/e.width:Math.abs(this.fixedAspectRatio);k=(this.y-(this.x*b))/2<=0;if(this.scatterType=="visium"){if(this.x>this.y){var l=(this.x-(this.y/b))/2;this.left+=l*3;this.right+=l*3;this.x-=(l*6)}else{if(k){var l=(this.x-(this.y/b))/2;this.top+=l*3;this.bottom+=l*3;this.y-=(l*6)}else{var l=(this.y-(this.x*b))/2;this.top+=l*3;this.bottom+=l*3;this.y-=(l*6)}}}else{if(this.fixedAspectRatio){if(this.x>this.y){var l=(this.x-(this.y/b))/2;this.left+=l;this.right+=l;this.x-=(l*2)}else{var l=(this.y-(this.x*b))/2;this.top+=l;this.bottom+=l;this.y-=(l*2)}}}}if(!this.layoutComb||this.isDOE){this.lZ()}if(this.motionBy&&!this.reproducing){this.py()}if(this.scatterType=="visium"){this.DT();this.fn();this.yT()}else{this.zl("xAxis");this.zl("yAxis")}};this.fn=function(l){var q=CanvasXpress.cacheImages[this.backgroundImageMD5||this.KU(this.backgroundImage)];var m=this.target.split(/_/).pop();var p=[this.setMinY,this.setMaxY];var s=q.height/q.width;var h=this.setMinX||0;var b=this.setMaxX||q.width;var k=b-h;var g=this.setMinY||0;var a=this.setMaxY||q.height;var j=a-g;var e=k*this.height/s;var c=j*this.width*s;var f=e*s>c;if(f||l){this.zl("xAxis");this.yAxisUnit=this.xAxisUnit*s;var o=j*this.yAxisUnit;var n=this.y-o;this.y-=n;this.top+=(n/2);this.bottom+=(n/2)}else{this.zl("yAxis");this.xAxisUnit=this.yAxisUnit/s;var r=k*this.xAxisUnit;var n=this.x-r;this.x-=n;this.left+=(n/2);this.right+=(n/2)}if(this.isVisiumFlipped){this.isVisiumFlipped=false;this.fV(q)}};this.wG=function(){var j=this.xAxisGridMajorShow||this.xAxisGridMinorShow||this.xAxisTicksShow||this.xAxisShow||this.scatterPlotMatrix;var f=this.yAxisGridMajorShow||this.yAxisGridMinorShow||this.yAxisTicksShow||this.yAxisShow||this.scatterPlotMatrix;var l=this.scatterType=="visium";var b=this.marginLeft+this.offsetX+this.left;var a=b+this.x;var k=this.marginTop+this.offsetY+this.top;var h=k+this.y;if((!j&&!f)||l){return}var n=this.xAxisGridMajorShow;var d=this.xAxisShow;var e=this.xAxis2Show;var c=this.yAxisGridMajorShow;var g=this.yAxisShow;var m=this.yAxis2Show;if(this.graphType!="Fish"&&f){this.wH(b,a)}if(j){this.Ag(k,h)}this.W5(b,a,k,h);this.xAxisGridMajorShow=n;this.xAxisShow=d;this.xAxis2Show=e;this.yAxisGridMajorShow=c;this.yAxisShow=g;this.yAxis2Show=m};this.wH=function(B,A,c){this.To({p:["disableGradientTransparencyShadow"],t:"Axes2"});var h=this.scatterType=="visium"&&!this.visiumFlip?CanvasXpress.cacheImages[this.backgroundImageMD5||this.KU(this.backgroundImage)]:false;var d=this.meta.data.y.range[this.yAxis[0]]?this.meta.data.y.range[this.yAxis[0]].time:false;var D=this.marginTop+this.offsetY+this.top+(this.y/2);var f=this.rk(this.yAxisTitleFont)/2;var q=B-this.Gx()+f;var j=A+this.Gx(true)-(f+this.margin);if(this.yAxisTitle&&this.yAxisShow&&!this.scatterPlotMatrix&&!c){this.To({p:["drawText",this.yAxisTitle,q,D,this.yAxisTitleFont,this.yAxisTitleColor,"center","middle",-Math.PI/2],t:"Axes"})}if(this.yAxis2Title&&this.yAxis2Show&&!this.scatterPlotMatrix&&!c){this.To({p:["drawText",this.yAxis2Title,j,D,this.yAxisTitleFont,this.yAxisTitleColor,"center","middle",Math.PI/2],t:"Axes"})}if(this.ridgeBy){var l=this.marginTop+this.offsetY+this.top+this.y+(this.yAxisMin*this.yAxisUnit);var C=this.ridgelineScale-0.9;var p=this.data.y.smps.length;var u=this.meta.data.s?this.meta.data.s.density.Global.summary:false;var y=Math.floor(Math.max(u?u.cols.length:0,this.ridgelineScale)/p);var w=this.y/(this.ridgelineScale>1?y+C:y+0.1);var x=y-1;for(var z=0;z<y;z++){var b=l-(w*(y-(z+1)));var E=u.smps[(y-z)*p].split(":")[1];if(this.yAxisShow||this.yAxis2Show){this.To({p:["drawLine",this.yAxisGridMajorLineType,B,b,A,b,this.yAxisGridMajorColor,this.yAxisGridMajorkWidth,"butt"],i:["Ym"+this.layoutCurrent+z],t:"Axes2"})}if(this.yAxisTicksShow){this.To({p:["drawLine",this.yAxisTicksLineType,B-this.yAxisTicksLength,b,B,b,this.yAxisTicksColor,this.yAxisTicksWidth,"butt"],i:["YMt"+this.layoutCurrent+z],t:"Axes2"})}if(this.yAxisShow){var q=B-(this.yAxisTicksLength+this.yAxisTextMargin);this.To({p:["drawText",E,q,b,this.yAxisTextFont,this.yAxisTextColor,"right","middle"],t:"Axes"})}if(this.yAxis2Show){if(this.yAxisTicksShow){this.To({p:["drawLine",this.yAxisTicksLineType,A,b,A+this.yAxisTicksLength,b,this.yAxisTicksColor,this.yAxisTicksWidth,"butt"],i:["YMt"+this.layoutCurrent+z],t:"Axes2"})}var j=A+(this.yAxisTicksLength+this.yAxisTextMargin);this.To({p:["drawText",E,j,b,this.yAxisTextFont,this.yAxisTextColor,"left","middle"],t:"Axes"})}}}else{if(this.yAxisTransform&&this.yAxisTransformTicks){if(this.yAxisGridMinorShow&&this.y>200){var v=this.yAxisSetMinorValues.length?this.yAxisSetMinorValues:this.yAxisUntransformMinorValues;for(var z=0;z<v.length;z++){var g=v[z];var F=this.Jb(this.yAxisTransform,g);if(F>=this.yAxisMin&&F<=this.yAxisMax&&this.yGridMinorWidth>0){var b=this.yAxisTransform=="reverse"?(this.marginTop+this.offsetY+this.top)+((F-this.yAxisMin)*this.yAxisUnit):(this.marginTop+this.offsetY+this.top+this.y)-((F-this.yAxisMin)*this.yAxisUnit);this.To({p:["drawLine",this.yAxisGridMinorLineType,B,b,A,b,this.yAxisGridMinorColor,this.yAxisGridMinorWidth,"butt"],i:["Ym"+this.layoutCurrent+z],t:"Axes2"})}}}var v=this.yAxisSetValues.length?this.yAxisSetValues:this.yAxisUntransformValues;for(var z=0;z<v.length;z++){var g=v[z];var F=this.Jb(this.yAxisTransform,g);if(F>=this.yAxisMin&&F<=this.yAxisMax){var b=this.yAxisTransform=="reverse"?(this.marginTop+this.offsetY+this.top)+((F-this.yAxisMin)*this.yAxisUnit):(this.marginTop+this.offsetY+this.top+this.y)-((F-this.yAxisMin)*this.yAxisUnit);var E=this.sV(g,"yAxis");if(this.yAxisGridMajorShow&&this.yAxisGridMajorWidth>0){this.To({p:["drawLine",this.yAxisGridMajorLineType,B,b,A,b,this.yAxisGridMajorColor,this.yAxisGridMajorWidth,"butt"],i:["YM"+this.layoutCurrent+z],t:"Axes2"})}if(this.yAxisTicksShow){this.To({p:["drawLine",this.yAxisTicksLineType,B-this.yAxisTicksLength,b,B,b,this.yAxisTicksColor,this.yAxisTicksWidth,"butt"],i:["YMt"+this.layoutCurrent+z],t:"Axes2"})}if(this.yAxisShow){if(!c){var q=B-(this.yAxisTicksLength+this.yAxisTextMargin);this.To({p:["drawText",E,q,b,this.yAxisTextFont,this.yAxisTextColor,"right","middle"],t:"Axes"})}}if(this.yAxis2Show){if(this.yAxisTicksShow){this.To({p:["drawLine",this.yAxisTicksLineType,A,b,A+this.yAxisTicksLength,b,this.yAxisTicksColor,this.yAxisTicksWidth,"butt"],i:["YMt"+this.layoutCurrent+z],t:"Axes2"})}var j=A+(this.yAxisTicksLength+this.yAxisTextMargin);this.To({p:["drawText",E,j,b,this.yAxisTextFont,this.yAxisTextColor,"left","middle"],t:"Axes"})}}}if(this.yAxisLogTicksShow&&this.y>200&&this.yAxisTransform.match(/log/)){for(var z=0;z<this.yAxisUntransformMinorValues.length;z++){var g=this.yAxisUntransformMinorValues[z];var F=this.Jb(this.yAxisTransform,g);if(F>=this.yAxisMin&&F<=this.yAxisMax){var b=this.yAxisTransform=="reverse"?(this.marginTop+this.offsetY+this.top)+((F-this.yAxisMin)*this.yAxisUnit):(this.marginTop+this.offsetY+this.top+this.y)-((F-this.yAxisMin)*this.yAxisUnit);this.To({p:["drawLine",this.yAxisLogTicksLineType,B,b,B+this.yAxisLogTicksLength,b,this.yAxisLogTicksColor,this.yAxisLogTicksWidth,"butt"],i:["Ym"+this.layoutCurrent+z],t:"Axes2"})}}}}else{if(this.yAxisGridMinorShow&&this.y>200){var v=this.yAxisSetMinorValues.length?this.yAxisSetMinorValues:this.yAxisMinorValues;for(var z=0;z<v.length;z++){var F=v[z];if(F>=this.yAxisMin&&F<=this.yAxisMax&&this.yAxisGridMinorWidth>0){var b=(this.marginTop+this.offsetY+this.top+this.y)-((F-this.yAxisMin)*this.yAxisUnit);this.To({p:["drawLine",this.yAxisGridMinorLineType,B,b,A,b,this.yAxisGridMinorColor,this.yAxisGridMinorWidth,"butt"],i:["Ym"+this.layoutCurrent+z],t:"Axes2"})}}}var k=this.timeFormat||this.DJ(this.yAxisMax-this.yAxisMin);var v=this.yAxisSetValues.length?this.yAxisSetValues:this.yAxisValuesRaw;for(var z=0;z<v.length;z++){var F=v[z];if(F>=this.yAxisMin&&F<=this.yAxisMax){var b=(this.marginTop+this.offsetY+this.top+this.y)-((F-this.yAxisMin)*this.yAxisUnit);var E=this.yAxisTransform&&this.yAxisTransformTicks?this.yAxisTransformTicksValues[z]:d?this.dateFormat(new Date(F+86400000),k):this.isGraphTime=="y"?this.dateFormat(new Date(F),k):this.sV(this.scatterType=="visium"&&!this.visiumFlip?h.height-F:F,"yAxis");if(this.yAxisGridMajorShow&&this.yAxisGridMajorWidth>0){this.To({p:["drawLine",this.yAxisGridMajorLineType,B,b,A,b,this.yAxisGridMajorColor,this.yAxisGridMajorWidth,"butt"],i:["YM"+this.layoutCurrent+z],t:"Axes2"})}if(this.yAxisTicksShow){this.To({p:["drawLine",this.yAxisTicksLineType,B-this.yAxisTicksLength,b,B,b,this.yAxisTicksColor,this.yAxisTicksWidth,"butt"],i:["YMt"+this.layoutCurrent+z],t:"Axes2"})}if(this.yAxisShow){if(!c){var q=B-(this.yAxisTicksLength+this.yAxisTextMargin);this.To({p:["drawText",E,q,b,this.yAxisTextFont,this.yAxisTextColor,"right","middle"],t:"Axes"})}}if(this.yAxisTicksShow&&this.yAxis2Show){this.To({p:["drawLine",this.yAxisTicksLineType,A,b,A+this.yAxisTicksLength,b,this.yAxisTicksColor,this.yAxisTicksWidth,"butt"],i:["YMt"+this.layoutCurrent+z],t:"Axes2"})}if(this.yAxis2Show){var j=A+(this.yAxisTicksLength+this.yAxisTextMargin);this.To({p:["drawText",E,j,b,this.yAxisTextFont,this.yAxisTextColor,"left","middle"],t:"Axes"})}}}}}if(c||this.scatterPlotMatrix){var b=this.marginTop+this.offsetY+this.top;var a=b+this.y;if(this.xAxisLineBottomShow){this.To({p:["drawLine",this.xAxisLineBottomType,B,a,A,a,this.xAxisLineBottomColor,this.xAxisLineBottomWidth,"butt"],t:"Axes2"})}if(this.xAxisLineTopShow){this.To({p:["drawLine",this.xAxisLineTopLineType,B,b,A,b,this.xAxisLineTopColor,this.xAxisLineTopWidth,"butt"],t:"Axes2"})}if(this.yAxisLineRightShow){this.To({p:["drawLine",this.yAxisLineRightLineType,A,b,A,a,this.yAxisLineRightColor,this.yAxisLineRightWidth,"butt"],t:"Axes2"})}if(this.yAxisLineLeftShow){this.To({p:["drawLine",this.yAxisLineLeftLineType,B,b,B,a,this.yAxisLineLeftColor,this.yAxisLineLeftWidth,"butt"],t:"Axes2"})}}this.To({p:["enableGradientTransparencyShadow"],t:"Axes2"})};this.Ag=function(e,c,h){this.To({p:["disableGradientTransparencyShadow"],t:"Axes"});var j=this.xAxisTime;var l=this.rk(this.xAxisTitleFont)/2;var B=this.marginLeft+this.offsetX+this.left+(this.x/2);var a=c+this.dj()-l;var v=(e-this.dj(true))+l+this.margin;this.To({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top+(this.y/2),this.x,this.y,false,this.panelBackgroundBorderColor,"open",false,this.panelBackgroundBorderSize],t:"Axes"});if(this.xAxisTitle&&this.xAxisShow&&!this.scatterPlotMatrix&&!h){this.To({p:["drawText",this.xAxisTitle,B,a,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle"],t:"Axes"})}if(this.xAxis2Title&&this.xAxis2Show&&!this.scatterPlotMatrix){this.To({p:["drawText",this.xAxis2Title,B,v,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle"],t:"Axes"})}if(this.graphType=="Fish"){var r=this.fishAxis.length?this.fishAxis:this.fishTimepoints;for(var x=0;x<r.length;x++){if(r[x]>=this.fishTimepoints[0]&&r[x]<=this.fishTimepoints[this.fishTimepoints.length-1]){var B=(this.marginLeft+this.offsetX+this.left)+((r[x]-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine",this.xAxisGridMajorLineType,B,e,B,c,this.xAxisGridMajorColor,this.xAxisGridMajorWidth,"butt"],i:["Xm"+this.layoutCurrent+x],t:"Axes"});if(this.xAxisTicksShow){this.To({p:["drawLine",this.xAxisTicksLineType,B,e-this.xAxisTicksLength,B,e,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],i:["X"+this.layoutCurrent+x],t:"Axes"})}var v=e-(this.xAxisTicksLength+this.xAxisTextMargin+l);var C=this.fishAxisLabels.length&&this.fishAxisLabels[x]!=null?this.fishAxisLabels[x]:r[x];this.To({p:["drawText",C,B,v,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"})}}}else{if(this.scatterType&&this.scatterType.match(/manhattan/)){var k=0;var s=this.marginLeft+this.offsetX+this.left;var u=this.marginLeft+this.offsetX+this.left+this.x;for(var x=0;x<this.chromosomeLengths.length;x++){var D=this.chromosomeLengths[x]/2;var d=this.armLengths.length&&this.armLengths[x]?this.armLengths[x]:false;var B=(this.marginLeft+this.offsetX+this.left)+(((D+k)-this.xAxisMin)*this.xAxisUnit);var A=this.chromosomeLengths[x]*this.xAxisUnit;var z=A+this.x;var C=x+1;var p=this.pb(C,this.xAxisTextFont);if(this.xAxisGridMajorShow&&this.xAxisGridMajorWidth>0){this.To({p:["drawLine",this.xAxisGridMajorLineType,B,e,B,c,this.xAxisGridMajorColor,this.xAxisGridMajorWidth,"butt"],i:["XM"+this.layoutCurrent+x],t:"Axes"})}if(d){var m=B-(A/2);var y=d*this.xAxisUnit;var w=m+(y/2);if(m+A<=u&&m>=s){if(x==11110){this.To({p:["drawLine","solid",m,e,m,c,"black",0.25,"butt"],t:"Axes"})}this.To({p:["drawLine","solid",m+A,e,m+A,c,"black",0.25,"butt"],t:"Axes"});this.To({p:["drawShape","rectangle",w,c-(this.y/2),y,this.y,this.manhattanContrastColor,this.manhattanContrastColor],t:"Axes"})}}else{if(this.colorBy&&x%2){this.To({p:["drawShape","rectangle",B,c-(this.y/2),A,this.y,this.manhattanContrastColor,this.manhattanContrastColor],t:"Axes"})}}if(B-A>p&&B<z){if(this.xAxisShow){if(this.xAxisTicksShow){this.To({p:["drawLine",this.xAxisTicksLineType,B,c+this.xAxisTicksLength,B,c,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],i:["X"+this.layoutCurrent+x],t:"Axes"})}var a=c+(this.xAxisTicksLength+this.xAxisTextMargin+l);this.To({p:["drawText",C,B,a,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"})}if(this.xAxis2Show){if(this.xAxisTicksShow){this.To({p:["drawLine",this.xAxisTicksLineType,B,e-this.xAxisTicksLength,B,e,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],i:["X"+this.layoutCurrent+x],t:"Axes"})}var v=e-(this.xAxisTicksLength+this.xAxisTextMargin+l);this.To({p:["drawText",C,B,v,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"})}}k+=this.chromosomeLengths[x]}}else{if(this.xAxisTransform&&this.xAxisTransformTicks){if(this.xAxisGridMinorShow&&this.x>200){for(var x=0;x<this.xAxisUntransformMinorValues.length;x++){var o=this.xAxisUntransformMinorValues[x];var D=this.Jb(this.xAxisTransform,o);if(D>=this.xAxisMin&&D<=this.xAxisMax&&this.xAxisGridMinorWidth>0){var B=(this.marginLeft+this.offsetX+this.left)+((D-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine",this.xAxisGridMinorLineType,B,e,B,c,this.xAxisGridMinorColor,this.xAxisGridMinorWidth,"butt"],i:["Xm"+this.layoutCurrent+x],t:"Axes"})}}}var t=this.xAxisSetValues.length?this.xAxisSetValues:this.xAxisUntransformValues;for(var x=0;x<t.length;x++){var o=t[x];var D=this.Jb(this.xAxisTransform,o);if(D>=this.xAxisMin&&D<=this.xAxisMax){var B=(this.marginLeft+this.offsetX+this.left)+((D-this.xAxisMin)*this.xAxisUnit);var C=o;var p=this.pb(C,this.xAxisTextFont);if(this.xAxisGridMajorShow&&this.xAxisGridMajorWidth>0){this.To({p:["drawLine",this.xAxisGridMajorLineType,B,e,B,c,this.xAxisGridMajorColor,this.xAxisGridMajorWidth,"butt"],i:["XM"+this.layoutCurrent+x],t:"Axes"})}var n=0;var b=0;if(this.xAxisShow){if(this.xAxisTicksShow){this.To({p:["drawLine",this.xAxisTicksLineType,B,c,B,c+this.xAxisTicksLength,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],i:["XMt"+this.layoutCurrent+x],t:"Axes"})}if(B-(p/1.5)>n){var a=c+(this.xAxisTicksLength+this.xAxisTextMargin+l);this.To({p:["drawText",C,B,a,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"});n=B+(p/1.5)}}if(this.xAxis2Show){if(this.xAxis2TickGuideShow){this.To({p:["drawLine",this.xAxisTicksLineType,B,e,B,e-this.xAxisTicksLength,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],i:["XMt"+this.layoutCurrent+x],t:"Axes"})}if(B-(p/1.5)>b){var v=e-(this.xAxisTicksLength+this.xAxisTextMargin+l);this.To({p:["drawText",C,B,v,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"});b=B+(p/1.5)}}}}if(this.xAxisLogTicksShow&&this.x>200&&this.xAxisTransform.match(/log/)){for(var x=0;x<this.xAxisUntransformMinorValues.length;x++){var o=this.xAxisUntransformMinorValues[x];var D=this.Jb(this.xAxisTransform,o);if(D>=this.xAxisMin&&D<=this.xAxisMax){var B=(this.marginLeft+this.offsetX+this.left)+((D-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine",this.xAxisLogTicksLineType,B,c-this.xAxisLogTicksLength,B,c,this.xAxisLogTicksColor,this.xAxisLogTicksWidth,"butt"],i:["Xm"+this.layoutCurrent+x],t:"Axes"})}}}}else{if(this.xAxisGridMinorShow&&this.x>200){var t=this.xAxisSetMinorValues.length?this.xAxisSetMinorValues:this.xAxisMinorValues;for(var x=0;x<t.length;x++){var D=t[x];if(D>=this.xAxisMin&&D<=this.xAxisMax&&this.xAxisGridMinorWidth>0){var B=(this.marginLeft+this.offsetX+this.left)+((D-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine",this.xAxisGridMinorLineType,B,e,B,c,this.xAxisGridMinorColor,this.xAxisGridMinorWidth,"butt"],i:["Xm"+this.layoutCurrent+x],t:"Axes"})}}}var n=0;var b=0;var q=this.timeFormat||this.DJ(this.xAxisMax-this.xAxisMin);var t=this.xAxisSetValues.length?this.xAxisSetValues:this.xAxisValuesRaw;var g=this.layoutCollapse;for(var x=0;x<t.length;x++){var D=t[x];if(D>=this.xAxisMin&&D<=this.xAxisMax){var f=this.mE()&&D==this.xAxisMax?false:true;var B=(this.marginLeft+this.offsetX+this.left)+((D-this.xAxisMin)*this.xAxisUnit);var C=this.xAxisTransform&&this.xAxisTransformTicks?this.xAxisTransformTicksValues[x]:j?this.dateFormat(new Date(D+86400000),q):this.isGraphTime=="x"?this.dateFormat(new Date(D),q):this.sV(D,"xAxis");var p=this.pb(C,this.xAxisTextFont);if(this.xAxisGridMajorShow&&this.xAxisGridMajorWidth>0){this.To({p:["drawLine",this.xAxisGridMajorLineType,B,e,B,c,this.xAxisGridMajorColor,this.xAxisGridMajorWidth,"butt"],i:["XM"+this.layoutCurrent+x],t:"Axes"})}if(this.xAxisTicksShow){this.To({p:["drawLine",this.xAxisTicksLineType,B,c,B,c+this.xAxisTicksLength,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],i:["XMt"+this.layoutCurrent+x],t:"Axes"})}if(this.xAxisShow&&f){if(!h&&B-(p/1.5)>n){var a=c+(this.xAxisTicksLength+this.xAxisTextMargin+l);this.To({p:["drawText",C,B,a,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"});n=B+(p/1.5)}}if(this.xAxis2TickGuideShow&&this.xAxis2Show){this.To({p:["drawLine",this.xAxisTicksLineType,B,e,B,e-this.xAxisTicksLength,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],i:["XMt"+this.layoutCurrent+x],t:"Axes"})}if(this.xAxis2Show){if(B-(p/1.5)>b){var v=e-(this.xAxisTicksLength+this.xAxisTextMargin+l);this.To({p:["drawText",C,B,v,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"});b=B+(p/1.5)}}}}}}}if(h||this.scatterPlotMatrix){var B=this.marginLeft+this.offsetX+this.left;var A=B+this.x;if(this.xAxisLineBottomShow){this.To({p:["drawLine",this.xAxisLineBottomLineType,B,c,A,c,this.xAxisLineBottomColor,this.xAxisLineBottomWidth,"butt"],t:"Axes"})}if(this.xAxisLineTopShow){this.To({p:["drawLine",this.xAxisLineTopLineType,B,e,A,e,this.xAxisLineTopColor,this.xAxisLineTopWidth,"butt"],t:"Axes"})}if(this.yAxisLineRightShow){this.To({p:["drawLine",this.yAxisLineRightLineType,A,e,A,c,this.yAxisLineRightColor,this.yAxisLineRightWidth,"butt"],t:"Axes"})}if(this.yAxisLineLeftShow){this.To({p:["drawLine",this.yAxisLineLeftLineType,B,e,B,c,this.yAxisLineLeftColor,this.yAxisLineLeftWidth,"butt"],t:"Axes"})}}this.To({p:["drawShape","rectangle",this.marginLeft+this.offsetX+this.left+(this.x/2),this.marginTop+this.offsetY+this.top+(this.y/2),this.x,this.y,false,this.panelBackgroundBorderColor,"open",false,this.panelBackgroundBorderSize],t:"Axes"});this.To({p:["enableGradientTransparencyShadow"],t:"Axes"})};this.W5=function(b,a,d,c){if(this.yAxisLineRightShow){this.To({p:["drawLine",this.yAxisLineRightLineType,a,d,a,c,this.yAxisLineRightColor,this.yAxisLineRightWidth,"butt"],i:["YT"+this.layoutCurrent],t:"Axes2"})}if(this.yAxisLineLeftShow){this.To({p:["drawLine",this.yAxisLineLeftLineType,b,d,b,c,this.yAxisLineLeftColor,this.yAxisLineLeftWidth,"butt"],i:["YB"+this.layoutCurrent],t:"Axes2"})}if(this.xAxisLineBottomShow){this.To({p:["drawLine",this.xAxisLineBottomLineType,b,c,a,c,this.xAxisLineBottomColor,this.xAxisLineBottomWidth,"butt"],i:["XL"+this.layoutCurrent],t:"Axes"})}if(this.xAxisLineTopShow){this.To({p:["drawLine",this.xAxisLineTopLineType,b,d,a,d,this.xAxisLineTopColor,this.xAxisLineTopWidth,"butt"],i:["XR"+this.layoutCurrent],t:"Axes"})}};this.X4=function(b,a,c){return a>b[0]&&a<b[0]+b[2]&&c>b[1]&&c<b[1]+b[3]};this.Pq=function(c,e,g){var b=g!==false?c+":"+e+":"+g:c+":"+e;var a=this.layoutValid&&this.meta.data.d.l[this.layoutCurrent]?this.meta.data.d.l[this.layoutCurrent]:this.meta.data.d.a[b];var h=[];if(!a){h=this.varIndices}else{if(this.showScatterDensity){h=a.vars}else{for(var d=0;d<this.varIndices.length;d++){var f=this.varIndices[d];if(!a.skip.hasOwnProperty(f.toString())){h.push(f)}else{if(!a.skip.hasOwnProperty(a.skip[f.toString()])){continue}else{h.push(f)}}}}}return h};this.FM=function(b,a,f){var g=false;if(this.scatterType=="manhattan"){g=this.colorBy?this.wn(a,null,"colorBy"):this.manhattanColors[this.data.y.data[a][this.manhattanMarkerChromosomeNumberIndex]%this.manhattanColors.length]}else{if(this.showScatterDensity){var d=b.density.hasOwnProperty(a.toString())?b.density[a.toString()]:1;g=this.PW(b.colorBrew,d)}else{if(this.colorBy){if(this.meta.data.x&&this.meta.data.x.hasOwnProperty(this.colorBy)){if(this.xAxisIndices.length==1){var e=this.yAxisIndices[f];g=this.wn(null,e,"colorBy")}else{if(this.yAxisIndices.length==1){var e=this.xAxisIndices[f];g=this.wn(null,e,"colorBy")}else{g=this.colors[f%this.colors.length]}}}else{g=this.wn(a,null,"colorBy")}}else{if(this.isCxplot&&Math.max(this.xAxisIndices.length,this.yAxisIndices.length)==1){g=this.scatterDataPointsColor}else{g=this.isContour?this.scatterDataPointsColor:this.colors[f%this.colors.length]}}}}return g};this.eB=function(){var f=this;var o=function(e,j,c){var l='<div style="max-width:300px;display:grid;grid-template-columns:1fr 1fr;grid-column-gap:5px;">';l+='<div style="text-align:right;"><b>'+e+'</b> - </div><div  style="text-align:left;"><b>'+j+"</b></div>";l+='<div style="text-align:right;"><b>1st IQR:</b></div><div style="text-align:left;">'+f.gG(c[4])+"</div>";l+='<div style="text-align:right;"><b>1st Qtl:</b></div><div style="text-align:left;">'+f.gG(c[1])+"</div>";l+='<div style="text-align:right;"><b>Median:</b></div><div style="text-align:left;">'+f.gG(c[2])+"</div>";l+='<div style="text-align:right;"><b>3rd Qtl:</b></div><div style="text-align:left;">'+f.gG(c[5])+"</div>";l+='<div style="text-align:right;"><b>3rd IQR:</b></div><div style="text-align:left;">'+f.gG(c[3])+"</div>";l+='<div style="text-align:right;"><b>Outliers:</b></div><div style="text-align:left;">'+c[6].length+"</div>";l+='<div style="text-align:right;"><b>N-Data:</b></div><div style="text-align:left;">'+c[7]+"</div>";l+="</div>";return l};var r=function(){if(f.scatterPlotMatrix){if(f.data.l.data[f.layoutCurrent]){return f.data.l.data[f.layoutCurrent].y.data}else{if(f.data.l&&f.data.l.data[f.layoutCurrent]){return f.data.l.data[f.layoutCurrent].y.data}else{return f.data.y.data}}}else{return f.data.y.data}};if(this.scatterType=="boxplot"){var u=[];var C=this.data.z&&this.data.z.hasOwnProperty(this.scatterPlotMatrix)?this.scatterPlotMatrix:false;var J=r();if(C){var O=this.data.y.smps[1];var B=this.sF(C,this.varIndices,"z");for(var H=0;H<B.length;H++){var y=this.sN(C,B[H],this.varIndices,"z");var a=[];for(var G=0;G<y.length;G++){a.push(J[y[G]][1])}var L=this.UL(a);var A=o(O,B[H],L);u.push({data:a,boxplot:[L[4],L[5],L[1],L[3],L[2],L[6],L[0],L[8]],tooltip:A})}var F=this.marginLeft+this.offsetX+this.left+(this.xAxisUnit*0.4);var v=this.marginTop+this.offsetY+this.top+this.y;for(var H=0;H<u.length;H++){var K=this.colors[H%this.colors.length];var g=C?"Property:"+C+":"+B[H]+":z":"Property:"+O+":NA:y";this.kp([u[H].boxplot],F,v,this.xAxisUnit*0.5,this.xAxisUnit*0.5,this.yAxisUnit,this.yAxisMin,"vertical",[K],[["open"]],[["ScatterBoxplot:::"+u[H].tooltip,g]]);F+=this.xAxisUnit}}else{var a=[];var O=[];var N=[];var h=[];var J=this.wT(this.yAxisIndices[0]);var M=this.wT(this.xAxisIndices[0]);var d=this.cp(M);var k=this.groupingFactors.length?(this.groupingFactorWindow||Math.ceil((d[1]-d[0])/5)):d[1]-d[0];if(this.groupingFactors.length){var x=this.groupingFactorWindow?k*-0.5:d[0];var D=0;var E=0;d[1]++;while(x<d[1]){a[D]=[];var I=x+k;for(var H=0;H<J.length;H++){if(M[H]>=x&&M[H]<I){a[D].push(J[H])}}E=Math.max(E,a[D].length);O.push(this.data.y.smps[this.xAxisIndices[0]]+" "+this.gG(x)+" - "+this.gG(I));N.push((x-this.xAxisMin)+(k*0.5));h.push(k);x+=k;D++}if(this.boxplotVarWidth){for(var H=0;H<a.length;H++){var p=Math.sqrt(Math.log(a[H].length))/Math.sqrt(Math.log(E));h[H]*=p;N[H]+=(k-h[H])/2}}}else{O.push(this.data.y.smps[this.yAxisIndices[0]]);a.push(J);N.push((k/2)-this.xAxisMin);h.push(k)}for(var H=0;H<a.length;H++){var L=this.UL(a[H]);var A=o(O[H],"",L);u.push({data:a,boxplot:[L[4],L[5],L[1],L[3],L[2],L[6],L[0],L[8]],tooltip:A})}var F=this.marginLeft+this.offsetX+this.left-(k*0.5*this.xAxisUnit);var v=this.marginTop+this.offsetY+this.top+this.y;var K=this.colors[0];for(var H=0;H<u.length;H++){var g=C?"Property:"+C+"::z":"Property:"+O+":NA:y";this.kp([u[H].boxplot],F+(this.xAxisUnit*N[H]),v,this.xAxisUnit*h[H],this.xAxisUnit*h[H],this.yAxisUnit,this.yAxisMin,"vertical",[K],[["open"]],[["ScatterBoxplot:::"+u[H].tooltip,g]])}}}};this.gi=function(){var E,g,C,d,H;var af,ae,b,r;var aD,h,K,e;var ak,D,P,k;var T,V,U,o;var aZ=[];var aW=[];var F=[];var Y=this.marginLeft+this.offsetX+this.left;var R=this.marginTop+this.offsetY+this.top+(this.yAxisTransform=="reverse"?0:this.y);var ah=Y+((0-this.xAxisMin)*this.xAxisUnit);var ag=R-((0-this.yAxisMin)*this.yAxisUnit);var aC=this.UR();this.Js();this.To({p:["setClipArea",aC],t:"Data"});if(this.isContour&&!this.showContourDataPoints){}else{if(this.scatterType=="boxplot"){this.eB()}else{if(this.scatterType=="qq"){this.Ka(Y,R)}else{if(this.scatterType=="cdf"){this.P2(Y,R)}else{if(this.scatterType=="km"&&(!this.isDOE||(this.isDOE&&this.layoutCurrent==0))){this.KT(Y,R)}else{if(this.scatterType=="bin2d"){this.gE(Y,R,this.xAxisIndices[this.xAxisCurrent],this.yAxisIndices[this.yAxisCurrent])}else{if(this.scatterType=="area"){this.zr(Y,R)}else{if(this.scatterType=="stream"){this.Ik(Y,R)}else{if(this.showHistogram){this.Qg()}else{if(this.isDOE&&this.layoutCurrent&&this.data.l.data&&this.data.l.data[this.layoutCurrent]&&this.data.l.params&&!this.data.l.params[this.layoutCurrent].showHistogram){this.ch(Y,R)}else{if(this.scatterType=="polygon"&&this.meta.map&&this.meta.map.geojson){var aE=this.meta.map.geojson;for(var aa=0;aa<aE.features.length;aa++){var ab=aE.features[aa];var G=ab.properties.color||this.colors[aa%this.colors.length];var aN=ab.properties.border||"rgb(0,0,0)";var aM=[[],[]];var s=this.Mt(ab.geometry.coordinates[0],0.05);for(var Z=0;Z<s.length;Z++){var ad=s[Z];var N=Y+((ad[0]-this.xAxisMin)*this.xAxisUnit);var M=R-((ad[1]-this.yAxisMin)*this.yAxisUnit);aM[0].push(N);aM[1].push(M);this.To({p:["drawShape","path",aM[0],aM[1],false,false,G,aN]})}}}var q=this.axesType=="XYZ"?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length);var at=this.lineBy&&this.data.z&&this.data.z.hasOwnProperty(this.lineBy)||!this.lineBy&&this.colorBy&&this.scatterType=="line"&&this.data.z&&this.data.z.hasOwnProperty(this.colorBy)?{}:false;var aU=this.scatterType=="line"&&this.ribbonBy?[[],[]]:false;var ao=this.scatterType=="manhattanCNV"?this.yV("ManhattanEnd"):false;this.gV(this.x,"dataTextFont");for(var aa=0;aa<q;aa++){var aY=this.axesType=="Y"||this.axesType=="XYZ"?this.xAxisIndices[this.xAxisCurrent]:this.xAxisIndices[aa];var aG=this.axesType=="X"||this.axesType=="XYZ"?this.yAxisIndices[this.yAxisCurrent]:this.yAxisIndices[aa];var aq=(this.graphType=="ScatterBubble2D"&&!this.sizeBy&&this.zAxisIndices.length>0)||this.axesType=="XYZ"?this.zAxisIndices[this.zAxisCurrent]:false;var aT=this.scatterType&&this.scatterType.match(/line|functio/i)?this.varIndices:this.Pq(aY,aG,aq);var aL=this.lineBy&&this.data.x&&this.data.x.hasOwnProperty(this.lineBy)?this.wn(null,aG,"linePatternBy",this.lineBy):false;var am=this.showHistogram?aY:aY+":"+aG;var al=this.axesType=="X"?this.ID(false,aY):this.axesType=="Y"?this.ID(false,aG):false;var a0={};var W=this.meta.data.d.a[aq!==false?aY+":"+aG+":"+aq:aY+":"+aG];var S=this.graphType=="ScatterBubble2D"?("Series:"+aY+":"+aG+":"+aq):("Series:"+aY+":"+aG);var ap=this.scatterType=="visium"?CanvasXpress.cacheImages[this.backgroundImageMD5||this.KU(this.backgroundImage)]:false;var a=this.jitter?this.CC(this.ob(0,aT.length),false,this.jitterFactor*this.xAxisUnit*0.5):false;var ay=null;for(var Z=0;Z<aT.length;Z++){if((this.xAxisTransform=="percentile"&&((this.axesType.match(/Y|Z/)&&Z==0)||(this.axesType=="X")))){aD=this.axesType=="XYZ"||this.xAxisTransform!="percentile"?this.Ep(this.xAxisIndices):this.Ep(aY);h=this.cp(aD);e=h[0];K=h[1]}if((this.yAxisTransform=="percentile"&&((this.axesType.match(/X|Z/)&&Z==0)||(this.axesType=="Y")))){ak=this.axesType=="XYZ"||this.yAxisTransform!="percentile"?this.Ep(this.yAxisIndices):this.Ep(aG);D=this.cp(ak);k=D[0];P=D[1]}if(aq!==false&&Z==0){T=this.axesType=="XYZ"?this.Ep(this.zAxisIndices,"z"):this.Ep(aq,"z");V=this.cp(T);o=V[0];U=V[1]}var u=aT[Z];if(this.filterFitIndices&&this.filterFitIndices[u]){continue}var N=this.Cb(u,aY,false,this.xAxisTransform,this.xAxisFloorValue!=null?this.xAxisFloorValue:e,this.xAxisCeilValue!=null?this.xAxisCeilValue:K,this.xAxisFactorValue);var A=ao!==false?this.Cb(u,ao,false,this.xAxisTransform,this.xAxisFloorValue!=null?this.xAxisFloorValue:e,this.xAxisCeilValue!=null?this.xAxisCeilValue:K,this.xAxisFactorValue):false;var M=this.Cb(u,aG,false,this.yAxisTransform,this.yAxisFloorValue!=null?this.yAxisFloorValue:k,this.yAxisCeilValue!=null?this.yAxisCeilValue:P,this.yAxisFactorValue,false,ap&&!this.visiumFlip?ap.height:false);var L=aq!==false?this.Cb(u,aq,false,this.zAxisTransform,this.zAxisFloorValue!=null?this.zAxisFloorValue:o,this.zAxisCeilValue!=null?this.zAxisCeilValue:U,this.zAxisFactorValue):null;var a1=this.Cb(u,aY,"stdev");var aI=this.Cb(u,aG,"stdev");var G=this.scatterType&&this.scatterType.match(/functio/)?this.functionColor:this.scatterType&&this.scatterType=="line"&&q==1&&!this.colorBy?this.scatterDataPointsColor:this.aB()&&this.confidenceIntervalColorCoordinate=="line"?this.scatterDataPointsColor:this.SS(this.FM(W,u,aa),[u,aY,aG]);var aP=this.V4(G,[u,aY,aG]);var aQ=this.shapeBy=="sample"?this.shapes[aa%this.shapes.length]:this.wn(u,null,"shapeBy");var Q=this.scatterType=="visium"?this.dataPointSize:this.sizeBy?parseInt(this.wn(u,null,"sizeBy")):aq!==false?this.sizes[Math.round(this.cL(o,U,L)/10)]:(this.scatterType=="manhattan"||this.isContour)?this.dataPointSize*this.dataPointSizeScaleFactor*0.5:this.dataPointSize*this.dataPointSizeScaleFactor;var aj=Q*0.5;var n=this.patternBy?this.wn(u,null,"patternBy"):this.wn(aa,null,"patternBy");var ac=this.scatterType&&this.scatterType.match(/image/i)?this.images[Z]:false;var aX=ac?"image":aQ;var az=this.ellipseBy&&this.data.z&&this.data.z.hasOwnProperty(this.ellipseBy)?this.data.z[this.ellipseBy][u]:this.ellipseBy&&this.ellipseBy=="variable"?"variable":false;var aK=this.colorLabelBy&&this.data.z&&this.data.z.hasOwnProperty(this.colorLabelBy)?this.wn(u,null,"colorLabelBy"):false;var J=this.sizeLabelBy&&this.data.z&&this.data.z.hasOwnProperty(this.sizeLabelBy)?this.wn(u,null,"sizeLabelBy",false,true):false;var aw=this.lineBy&&this.data.z&&this.data.z.hasOwnProperty(this.lineBy)?this.data.z[this.lineBy][u]:!this.lineBy&&this.colorBy&&this.scatterType=="line"&&this.data.z&&this.data.z.hasOwnProperty(this.colorBy)?this.data.z[this.colorBy][u]:false;var aH=aw&&!this.isCxplot&&this.lineBy?this.wn(u,null,"linePatterns",this.lineBy):"solid";var p=al||this.ID(u)||this.ID(false,false,S);var aS=this.colorBy&&this.meta.data.x&&this.meta.data.x.hasOwnProperty(this.colorBy)?(this.ID(false,false,"Property:"+this.colorBy+":"+this.data.x[this.colorBy][aY]+":x")||this.ID(false,false,"Property:"+this.colorBy+":"+this.data.x[this.colorBy][aG]+":x")):false;var aJ=this.scatterType=="manhattan"?[u,this.manhattanMarkerChromosomeNumberIndex,this.manhattanMarkerPositionIndex,this.manhattanMarkerLogPValueIndex]:this.scatterType=="manhattanCNV"?[u,this.manhattanMarkerChromosomeNumberIndex,this.manhattanRangeStartIndex,this.manhattanCNVIndex]:[u,aY,aG,aq];var aO=this.b9(G,0,false,true);var X=this.isCxplot&&this.meta.ggplot.geoms&&this.meta.ggplot.geoms.includes("GeomPoint")&&this.meta.ggplot.geoms.includes("GeomLine");if(this.varIndices.length>this.scatterOutlineThreshold||Q<4){aP=G}if(this.lineBy&&this.isBumpPlot){aH="bezier"}E=Y+((N-this.xAxisMin)*this.xAxisUnit)+(this.jitter?a[Z]:0);C=A?Y+((A-this.xAxisMin)*this.xAxisUnit)+(this.jitter?a[Z]:0):false;g=this.yAxisTransform=="reverse"?R+((M-this.yAxisMin)*this.yAxisUnit):R-((M-this.yAxisMin)*this.yAxisUnit);if(this.ellipseBy&&az){if(!a0.hasOwnProperty(az)){a0[az]=[[],[]]}a0[az][0].push(N);a0[az][1].push(M)}if(this.scatterType&&this.scatterType=="bar"&&this.axesType!="XYZ"){var O=this.histogramBarWidth;d=(this.marginTop+this.offsetY+this.top+this.y)-g;if(M>0){this.To({p:["drawShape","rectangle",E,g+(d/2),O*2,d,G,aP,n],i:[u,aY,aG],t:"Data",h:p});F.push([[u,aY,aG],E,g,O*2,d,aK,J])}}else{if(!this.scatterType||!this.scatterType.match(/functio|lineStep/)){if(this.eb([E,g])&&!this.X4(aC,E,g)){continue}if(a1&&!isNaN(a1)){C=(a1/2)*this.xAxisUnit;this.To({p:["drawLine","error",E,g,E+C,g,G,this.margin],t:"Data",h:p});this.To({p:["drawLine","error",E,g,E-C,g,G,this.margin],t:"Data",h:p})}if(aI&&!isNaN(aI)){d=(aI/2)*this.yAxisUnit;this.To({p:["drawLine","error",E,g,E,g+d,G,-this.margin],t:"Data",h:p});this.To({p:["drawLine","error",E,g,E,g-d,G,-this.margin],t:"Data",h:p})}if(!X&&(this.lineBy&&(this.ribbonBy||this.isCxplot)&&this.colorBy==this.lineBy||this.scatterType=="line")&&this.shapeBy!="sample"){if(this.showScatterLineOriginalData){b=this.scatterPointAlpha!=1&&this.eb(this.scatterPointAlpha)?this.b9(G,this.scatterPointAlpha,false,false,true):G;this.To({p:["drawShape",aX,E,g,aj,aj,b,aP,n,false,false,false,false,false,ac],i:aJ,b:[ah,ag,0,0],t:"Data",h:p||aS})}else{this.To({p:["drawShape",aX,E,g,aj,aj,aO,aO,false,false,false,false,false,false,ac],i:aJ,b:[ah,ag,0,0],t:"Data",h:p||aS})}}else{if(this.scatterType=="manhattanCNV"&&A){b=this.scatterPointAlpha!=1&&this.eb(this.scatterPointAlpha)?this.b9(G,this.scatterPointAlpha,false,false,true):G;if(this.manhattanRangeMiddleShow){this.To({p:["drawShape",aX,(E+C)/2,g,Q,Q,b,aP,n,false,false,false,false,false,ac],i:aJ,b:[ah,ag,0,0],t:"Data",h:p})}this.To({p:["drawLine","line",E,g,C,g,b,this.manhattanRangeLineWidth],t:"Data",h:p})}else{if(Q>0){b=this.scatterPointAlpha!=1&&this.eb(this.scatterPointAlpha)?this.b9(G,this.scatterPointAlpha,false,false,true):G;this.To({p:["drawShape",aX,E,g,Q,Q,b,aP,n,false,false,false,false,false,ac],i:aJ,b:[ah,ag,0,0],t:"Data",h:p})}}}if(aw){b=this.scatterLineAlpha!=1&&this.eb(this.scatterPointAlpha)?this.b9(G,this.scatterLineAlpha,false,false,true):G;if(!at.hasOwnProperty(aw)){at[aw]={data:[],ribbon:[[],[]],color:b,type:[]}}at[aw].data.push([E,g]);at[aw].type.push(aH)}if(this.ribbonBy){var I=this.meta.data.z;var v=this.tO(this.ribbonBy)&&this.tO(this.ribbonBy[0])&&this.tO(this.ribbonBy[1]);var aR=this.tO(this.ribbonBy)&&I&&I.hasOwnProperty(this.ribbonBy[0])&&I[this.ribbonBy[0]].type=="Numeric"&&I.hasOwnProperty(this.ribbonBy[1])&&I[this.ribbonBy[1]].type=="Numeric";var aV=this.yV(this.ribbonBy);if(aR||this.tO(aV)||v){if(v){af=this.ribbonBy[1][u];ae=this.ribbonBy[0][u]}else{if(aR){af=this.data.z[this.ribbonBy[0]][u];ae=this.data.z[this.ribbonBy[1]][u]}else{af=this.Cb(u,aV[0],false,this.yAxisTransform,this.yAxisFloorValue!=null?this.yAxisFloorValue:k,this.yAxisCeilValue!=null?this.yAxisCeilValue:P,this.yAxisFactorValue);ae=this.Cb(u,aV[1],false,this.yAxisTransform,this.yAxisFloorValue!=null?this.yAxisFloorValue:k,this.yAxisCeilValue!=null?this.yAxisCeilValue:P,this.yAxisFactorValue)}}af=R-((af-this.yAxisMin)*this.yAxisUnit);ae=R-((ae-this.yAxisMin)*this.yAxisUnit)}else{if(!this.tO(aV)){if(I&&I.hasOwnProperty(this.ribbonBy)&&I[this.ribbonBy].type=="Numeric"){af=this.data.z[this.ribbonBy][u]}else{af=this.Cb(u,aV,false,this.yAxisTransform,this.yAxisFloorValue!=null?this.yAxisFloorValue:k,this.yAxisCeilValue!=null?this.yAxisCeilValue:P,this.yAxisFactorValue)}af=R-(((M+af)-this.yAxisMin)*this.yAxisUnit);ae=R-(((M-af)-this.yAxisMin)*this.yAxisUnit)}}if(aw){at[aw].ribbon[0].push([E,E]);at[aw].ribbon[1].push([af,ae])}else{if(aU){aU[0].push([E,E]);aU[1].push([af,ae])}}}F.push([[u,aY,aG],E,g,Q,Q,aK,J]);if(this.xAxisRugShow){if(this.xAxisRugPosition.match(/top|both/)){this.To({p:["drawLine","line",E,R-this.y,E,(R-this.y)+this.xAxisRugHeight,G],t:"Data",h:p})}if(this.xAxisRugPosition.match(/bottom|both/)){this.To({p:["drawLine","line",E,R-this.xAxisRugHeight,E,R,G],t:"Data",h:p})}}if(this.yAxisRugShow){if(this.yAxisRugPosition.match(/left|both/)){this.To({p:["drawLine","line",Y,g,Y+this.yAxisRugHeight,g,G],t:"Data",h:p})}if(this.yAxisRugPosition.match(/right|both/)){this.To({p:["drawLine","line",Y+this.x-this.yAxisRugHeight,g,Y+this.x,g,G],t:"Data",h:p})}}}if(this.scatterType&&this.scatterType.match(/line|functio/i)&&Z<this.varIndices.length){u=this.varIndices[Z+1];if(u!=null){N=this.Cb(u,aY,false,this.xAxisTransform,this.xAxisFloorValue!=null?this.xAxisFloorValue:e,this.xAxisCeilValue!=null?this.xAxisCeilValue:K,this.xAxisFactorValue);M=this.Cb(u,aG,false,this.yAxisTransform,this.yAxisFloorValue!=null?this.yAxisFloorValue:k,this.yAxisCeilValue!=null?this.yAxisCeilValue:P,this.yAxisFactorValue);C=Y+((N-this.xAxisMin)*this.xAxisUnit);d=R-((M-this.yAxisMin)*this.yAxisUnit)}b=this.scatterLineAlpha!=1?this.b9(G,this.scatterLineAlpha,false,false,true):G;if(this.scatterType=="lineStep"){H=this.To({p:["drawLine","line",E,g,C,g,b],i:["Line-"+u+"-"+aY+"-"+aG+":"+this.data.y.vars[u]],g:ay,t:"Data",h:p||aS});this.To({p:["drawLine","line",C,g,C,d,b],i:["Line-v-"+u+"-"+aY+"-"+aG+":"+this.data.y.vars[u]],g:ay,t:"Data",h:p||aS});if(ay==null){ay=H}}else{aZ.push(E);aW.push(g)}}}}this.F4(Y,R,aY,aG);this.qK(Y,R,aY,aG);this.Sb(Y,R,aY,aG);if(this.scatterType&&this.scatterType.match(/line|functio/i)){b=this.scatterLineAlpha!=1?this.b9(G,this.scatterLineAlpha,false,false,true):G;if(this.lineType=="spline"){if(C&&d){aZ.push(C);aW.push(d)}this.To({p:["drawLine","spline",aZ,aW,false,false,b,this.lineThickness],t:"Data"})}else{if(!at){for(var aF=1;aF<aZ.length;aF++){H=this.To({p:["drawLine",aL?aL+"Line":"line",aZ[aF-1],aW[aF-1],aZ[aF],aW[aF],b,this.lineThickness],i:["Line-"+aY+"-"+aG+":"+this.data.y.smps[aY]+"-"+this.data.y.smps[aG]],g:ay,t:"Data",h:p||aS});if(ay==null){ay=H}}}}if(this.ribbonBy&&!at){var B=this.b9(this.confidenceIntervalColorCoordinate?b:this.confidenceIntervalColor,0.3);this.To({p:["drawShape","confidence",aU[0],aU[1],false,false,B,B,"closed"],b:[ah,ag],t:"Data",h:p||aS})}aZ=[];aW=[]}if(this.ellipseBy){var ai=this.ellipseBy&&this.data.z&&this.data.z.hasOwnProperty(this.ellipseBy)?this.meta.data.z[this.ellipseBy]:false;for(var az in a0){var ax=this.CJ(a0[az][0],a0[az][1]);var G=ai&&ai.colors?ai.colors[ai.order[az]]:this.colors[aa%this.colors.length];var au=Y+((ax.cx-this.xAxisMin)*this.xAxisUnit);var ar=R-((ax.cy-this.yAxisMin)*this.yAxisUnit);var av=2*ax.rx*this.xAxisUnit;var aB=2*ax.ry*this.yAxisUnit;this.To({p:["drawShape","oval",au,ar,av,aB,false,G,"open",ax.rot],t:"Data"})}}if((this.lineBy&&this.data.z&&this.data.z.hasOwnProperty(this.lineBy)&&this.lineBy!=this.showLoessFit)||!this.lineBy&&this.colorBy&&this.scatterType=="line"&&this.data.z&&this.data.z.hasOwnProperty(this.colorBy)){for(var aw in at){var aS=this.ID(false,false,"Property:"+this.lineBy+":"+aw+":z")||(this.colorBy?this.ID(false,false,"Property:"+this.colorBy+":"+aw+":z"):false);ay=null;at[aw].data=at[aw].data.sort(function(f,c){return f[0]-c[0]||c[1]-c[0]});for(var aA=1;aA<at[aw].data.length;aA++){H=this.To({p:["drawLine",at[aw].type[aA]||"line",at[aw].data[aA-1][0],at[aw].data[aA-1][1],at[aw].data[aA][0],at[aw].data[aA][1],at[aw].color,2],i:["Line:"+this.lineBy+" - "+aw],b:[ah,ag],t:"Data",g:ay,h:aS});if(ay==null){ay=H}}if(this.ribbonBy){if(this.ribbonByType=="line"){var B=this.margin;for(var an=0;an<at[aw].ribbon[0].length;an++){this.To({p:["drawLine","line",at[aw].ribbon[0][an][0]-B,at[aw].ribbon[1][an][0],at[aw].ribbon[0][an][1]+B,at[aw].ribbon[1][an][0],at[aw].color],t:"Data",h:aS});this.To({p:["drawLine","line",at[aw].ribbon[0][an][0]-B,at[aw].ribbon[1][an][1],at[aw].ribbon[0][an][1]+B,at[aw].ribbon[1][an][1],at[aw].color],t:"Data",h:aS});this.To({p:["drawLine","line",at[aw].ribbon[0][an][0],at[aw].ribbon[1][an][0],at[aw].ribbon[0][an][1],at[aw].ribbon[1][an][1],at[aw].color],t:"Data",h:aS})}}else{var B=this.b9(this.pP(at[aw].color),0.3);this.To({p:["drawShape","confidence",at[aw].ribbon[0],at[aw].ribbon[1],false,false,B,B,"closed"],b:[ah,ag],t:"Data",h:aS})}}}}}if(F.length>0){this.Cu(F)}if(this.decorations&&this.decorations.marker){this.oz()}if(this.motionBy){E=this.left+this.x;g=this.top+this.y+(this.margin*2);this.To({p:["drawText",this.motionObject.current,E,g,this.motionCurrentFont,this.motionCurrentColor,"right","bottom"],t:"Data"})}}}}}}}}}}}this.To({p:["resetClipArea"],t:"Data"})};this.ch=function(b,k){var d=this.data.l.data[this.layoutCurrent].y.data;for(var e=0;e<d.length;e++){var j=this.data.l.doe[e];var g=b+((d[e][0]-this.xAxisMin)*this.xAxisUnit);var f=k-((d[e][1]-this.yAxisMin)*this.yAxisUnit);var a=this.SS(this.FM(j,0,1),[j,0,1]);var c=this.V4(a,[j,0,1]);var m=this.dataPointSize*this.dataPointSizeScaleFactor;var h=[e,0,1];if(d.length>this.scatterOutlineThreshold||m<4){c=a}this.To({p:["drawShape","circle",g,f,m,m,a,c],i:h,t:"Data"})}};this.Mt=function(e,b){var h=function(m,l){var k=l[0]-m[0];var j=l[1]-m[1];return k*k+j*j};var a=function(m,k){var o=[m[0]];var j=m.length;var n=0;for(var l=1;l<j;l++){if(h(m[l],m[n])>k){o.push(m[l]);n=l}}if(n<j-1){o.push(m[j-1])}return o};var d=function(k,o,n){var m=o[0];var l=o[1];var s=n[0]-m;var r=n[1]-l;var j=s*s+r*r;var q;if(j>0){q=((k[0]-m)*s+(k[1]-l)*r)/j;if(q>1){m=n[0];l=n[1]}else{if(q>0){m+=s*q;l+=r*q}}}s=k[0]-m;r=k[1]-l;return s*s+r*r};var f=function(r,k,j,o,q){var m=0;var p;var n;for(var l=o+1;l<=q-1;l++){n=d(r[l],r[o],r[q]);if(n>m){p=l;m=n}}if(m>j){k[p]=1;f(r,k,j,o,p);f(r,k,j,p,q)}};var g=function(n,k){var j=n.length;var m=typeof Uint8Array!==undefined+""?Uint8Array:Array;var p=new m(j);p[0]=p[j-1]=1;f(n,p,k,0,j-1);var o=[];for(var l=0;l<j;l++){if(p[l]){o.push(n[l])}}return o};if(!b||!e.length){return e.slice()}var c=b*b;e=a(e,c);e=g(e,c);return e};this.zr=function(r,m){if(this.meta.data.s){var n=this.meta.data.s;var o=n.totals;var A=[];var p=[];var e=this.TU(this.meta.data.z[this.colorBy].levels).reverse();var f=this.Nv(n.areas);for(var v=0;v<e.length;v++){if(f.includes(e[v])){p.push(e[v])}}for(var v=0;v<n.areas[p[0]][0].length;v++){A[v]=m+(this.yAxisMin*this.yAxisUnit)}for(var v=0;v<p.length;v++){var o=n.areas[p[v]];var w=this.ID(false,false,"Property:"+this.colorBy+":"+p[v]+":z");var B=[[],[]];for(var u=0;u<o[0].length;u++){var k=o[0][u];var g=isNaN(o[1][u])?0:o[1][u];var z=r+((k-this.xAxisMin)*this.xAxisUnit);var b=A[u]-(g*this.yAxisUnit);var c=A[u];A[u]=b;B[0].push([z,z]);B[1].push([c,b])}var d=this.meta.data.z[this.colorBy].colors[this.meta.data.z[this.colorBy].order[p[v]]];this.To({p:["drawShape","confidence",B[0],B[1],false,false,d,d,"closed"],i:["Area:"+p[v],p[v]],t:"Data",h:w})}}};this.Ik=function(r,k){if(this.meta.data.s){var o=function(q,a){var j=[];var l={};for(var h=0;h<q.length;h++){l[q[h]]=a.includes(q[h])}for(var h=0;h<a.length;h++){j.push(a[h])}for(var h=0;h<q.length;h++){if(!l[q[h]]){j.push(q[h])}}return j};var m=this.layoutValid?this.meta.data.s.layout[this.layoutCurrent||0]:this.meta.data.s;var u=this.TU(m.totals);var C=[];var E=this.colorBy?this.meta.data.z[this.colorBy].levels:this.yAxis;var p=this.TU(this.scatterStreamType=="mirror"?E:E.reverse());if(this.scatterStreamWiggles.length){p=o(p,this.scatterStreamWiggles)}for(var w=0;w<p.length;w++){if(m.wiggles&&m.wiggles[p[w]]&&m.wiggles[p[w]].stream){var n=m.wiggles[p[w]].stream;var A=this.ID(false,false,"Property:"+this.colorBy+":"+p[w]+":z");var D=[[],[]];for(var v=0;v<n.y.length;v++){var g=n.x[v];var f=n.y[v];var B=r+((g-this.xAxisMin)*this.xAxisUnit);var c,b,e;switch(this.scatterStreamType){case"mirror":e=k+(this.yAxisMin*this.yAxisUnit);c=e-(u[v]*this.yAxisUnit);b=c+(f*this.yAxisUnit);u[v]-=f;break;case"ridge":if(!C[v]){C[v]=0}c=k-((C[v]-this.yAxisMin)*this.yAxisUnit);b=c-(f*this.yAxisUnit);C[v]+=f;break;case"proportional":if(!C[v]){C[v]=0}c=k-((C[v]-this.yAxisMin)*this.yAxisUnit);b=c-((f/u[v]*0.5)*this.yAxisUnit);C[v]+=f/u[v]*0.5;break}D[0].push([B,B]);D[1].push([c,b])}var d=this.colorBy?this.meta.data.z[this.colorBy].colors[this.meta.data.z[this.colorBy].order[p[w]]]:this.colors[w%this.colors.length];this.To({p:["drawShape","confidence",D[0],D[1],false,false,d,d,"closed"],i:["Wiggle-"+p[w],p[w]],t:"Data",h:A})}}}};this.aB=function(){return(this.showLoessFit||this.showRegressionFit)&&this.meta.data.s};this.F4=function(e,q,m,f){var k=this;var h=function(J,v,w,D,G){if(J){var P=(0-k.xAxisMin)*k.xAxisUnit;var O=(0-k.yAxisMin)*k.yAxisUnit;var z=[[],[]];var A=[[],[]];var C=J.x;var B=J.y;var N=J.confidence;var F={};var u=[];var s=[];var E=[];for(var K=0;K<C.length-0;K++){var I=C[K].toFixed(3)+"_"+B[K].toFixed(3)+"_"+(N[K]?N[K].toFixed(3):0);if(!F.hasOwnProperty(I)){u.push(C[K]);s.push(B[K]);E.push(N[K]);F[I]=true}}for(var K=0;K<u.length;K++){var M=e+((u[K]-k.xAxisMin)*k.xAxisUnit);var t=q-((s[K]-k.yAxisMin)*k.yAxisUnit);var L=e+((u[K+1]-k.xAxisMin)*k.xAxisUnit);var l=q-((s[K+1]-k.yAxisMin)*k.yAxisUnit);z[0].push(M);z[1].push(t);var H=E[K]*k.yAxisUnit;A[0].push([M,M]);A[1].push([t+H,t-H]);if(M==L&&t==l){continue}x0=M;y0=t}if(k.showConfidenceIntervals){k.To({p:["drawShape","confidence",A[0],A[1],false,false,w,w,"closed"],i:["LoessConf-"+G,J.summary],t:"Decorations"})}k.To({p:["drawLine",D+"Spline",z[0],z[1],false,false,v,k.fitLineWidth],i:["Loess-"+G,J.summary],b:[P,O],t:"Decorations"})}};var p=function(u,w){var s=k.meta.data.z[k.confidenceBy];if(s){var v=s.colorBy;var t=s.colors;var l=s.order;if(v&&v.hasOwnProperty(u)){return v[u]}else{if(t&&t[l[u]]){return t[l[u]]}}}return w};if(this.showLoessFit&&this.meta.data.s){var r=this.isDOE?this.meta.data.s:this.layoutValid?this.meta.data.s.layout[this.layoutCurrent||0]:this.meta.data.s;var n=this.showLoessFit!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.showLoessFit)?this.meta.data.z[this.showLoessFit].levels:false;var a=this.Pl(this.confidenceIntervalColor,true)?this.confidenceIntervalColor:this.b9(this.confidenceIntervalColor,0.3,true);var o=m+":"+f;if(n){for(var g=0;g<n.length;g++){var d=r.loess[o+":"+n[g]];if(d){var c=!this.confidenceBy&&this.colorBy&&this.meta.data.z[this.colorBy].colors?this.meta.data.z[this.colorBy].colors[this.meta.data.z[this.colorBy].order[n[g]]]:this.fitLineColor;var b=p(n[g],a);var j=this.lineBy&&this.meta.data.z[this.lineBy].linePatterns?this.meta.data.z[this.lineBy].linePatterns[this.meta.data.z[this.lineBy].order[n[g]]]:this.fitLineType!="solid"?this.fitLineType:"spline";h(d,c,b,j,o+":"+n[g])}}}else{var d=r.loess[o];if(d){h(d,this.fitLineColor,a,"spline",o)}}}};this.qK=function(p,f,k,x){var c=this;var h=function(N,C,I,H,F,K){var s=Number(N[5]);var G=Number(N[0]);var E=Number(N[1]);var B=N[3]?N[3]:false;var J="y ~ "+c.gG(G,c.yAxisDecs+1)+"x + "+c.gG(E,c.yAxisDecs+1)+(s?" (r = "+c.gG(s,3)+")":"");var P=c.showRegressionFullRange||!B?c.xAxisMin:B[0]?B[0][0]:c.xAxisMin;var A=(G*P)+E;var O=c.showRegressionFullRange||!B?c.xAxisMax:B[B.length-1]?B[B.length-1][0]:c.xAxisMax;var t=(G*O)+E;P=p+(P*c.xAxisUnit)-(c.xAxisMin*c.xAxisUnit);A=f-(A*c.yAxisUnit)+(c.yAxisMin*c.yAxisUnit);O=p+(O*c.xAxisUnit)-(c.xAxisMin*c.xAxisUnit);t=f-(t*c.yAxisUnit)+(c.yAxisMin*c.yAxisUnit);var z=c.pv([[P,A],[O,t]]);var D=c.ID(false,false,F);if(c.showConfidenceIntervals&&B){var R=[];var Q=[];var l=[];for(var M=0;M<B.length;M++){A=B[M][1];t=B[M][2];P=p+(B[M][0]*c.xAxisUnit)-(c.xAxisMin*c.xAxisUnit);A=f-(A*c.yAxisUnit)+(c.yAxisMin*c.yAxisUnit);t=f-(t*c.yAxisUnit)+(c.yAxisMin*c.yAxisUnit);R.push([P,P]);Q.push([A,t]);l.push([P,(A+t)/2])}if(R.length&&Q.length){c.To({p:["drawShape","confidence",R,Q,false,false,I,I],i:[J+":Confidence",F],b:l,t:"Decorations",h:D})}}if(z.length){var L=c.fitLineTransparency==1?C:c.b9(C,c.fitLineTransparency);c.To({p:["drawLine",H,z[0][0][0],z[0][0][1],z[0][1][0],z[0][1][1],L,c.fitLineWidth],i:["Decor-Reg-"+K,F],t:"Decorations",h:D})}return[J,G>0,C,D]};if(this.showRegressionFit&&this.meta.data.s){var g=this.layoutValid&&!this.isDOE?this.meta.data.s.layout[this.layoutCurrent||0]:this.meta.data.s;var n=this.showRegressionFit!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.showRegressionFit)?this.meta.data.z[this.showRegressionFit].levels:false;var y=k+":"+x;var w=[];if(n){for(var q=0;q<n.length;q++){var m=n[q].toString().replace("\x00","");var a=g.regression[y+":"+n[q]]||g.regression[y+":"+m]||g.regression[y+":"+n[q]];if(a){var b=this.colorBy&&this.meta.data.z[this.colorBy].colors?this.meta.data.z[this.colorBy].colors[this.meta.data.z[this.colorBy].order[n[q]]]:this.fitLineColor;var j=this.Pl(this.confidenceIntervalColor)?this.confidenceIntervalColor:this.b9(this.colorBy&&this.confidenceIntervalColorCoordinate?b:this.confidenceIntervalColor,0.3,true);var e=this.lineBy&&this.meta.data.z[this.lineBy].linePatterns?this.meta.data.z[this.lineBy].linePatterns[this.meta.data.z[this.lineBy].order[m]]:this.fitLineType;var d="Property:"+this.showRegressionFit+":"+n[q]+":z";var v=h(a,b,j,e,d,y+":"+m);if(v){w.push(v)}}}}else{var a=g.regression[y];if(a){var v=h(a,this.fitLineColor,this.b9(this.confidenceIntervalColor,0.3,true),this.fitLineType,"Global",y+":Global");if(v){w.push(v)}}}if(w.length&&this.showRegressionFitEquation){var r=0;var u=0;for(var q=0;q<w.length;q++){if(w[q][1]){r++}else{u++}}var o=r>=u;for(var q=0;q<w.length;q++){if(this.regressionFitEquationPosition=="top"){if(o){this.To({p:["drawText",w[q][0],p+20,(f-(this.y-20))+(q*18),this.legendFont,w[q][2],"left","middle"],t:"Decorations",h:w[q][3]})}else{this.To({p:["drawText",w[q][0],p+this.x-180,(f-(this.y-20))+(q*18),this.legendFont,w[q][2],"left","middle"],t:"Decorations",h:w[q][3]})}}else{if(o){this.To({p:["drawText",w[q][0],p+this.x-180,(f-20)-(q*18),this.legendFont,w[q][2],"left","middle"],t:"Decorations",h:w[q][3]})}else{this.To({p:["drawText",w[q][0],p+20,(f-20)-(q*18),this.legendFont,w[q][2],"left","middle"],t:"Decorations",h:w[q][3]})}}}}}};this.Sb=function(e,o,j,f){var h=this;var d=function(B,r,y,F){var u=(0-h.xAxisMin)*h.xAxisUnit;var t=(0-h.yAxisMin)*h.yAxisUnit;var w=B.range[0];var C=B.range[1];var x=h.ID(false,false,F);for(var v=0;v<B.data.length;v++){var A=B.data[v].slope;var s=B.data[v].intercept;var z="<b>Quantile: </b> "+B.data[v].tau+"<br><b>Slope: </b>"+h.gG(A,4)+"<br><b>Intercept: </b>"+h.gG(s,4);var q=e+(w*h.xAxisUnit)-(h.xAxisMin*h.xAxisUnit);var E=o-(((A*w)+s)*h.yAxisUnit)+(h.yAxisMin*h.yAxisUnit);var l=e+(C*h.xAxisUnit)-(h.xAxisMin*h.xAxisUnit);var D=o-(((A*C)+s)*h.yAxisUnit)+(h.yAxisMin*h.yAxisUnit);h.To({p:["drawLine",y,q,E,l,D,r,h.fitLineWidth],i:["QuantileRegression:"+v,z],b:[u,t],t:"Decorations",h:x})}};if(this.showQuantileRegressionFit&&this.meta.data.s){var p=this.layoutValid?this.meta.data.s.layout[this.layoutCurrent||0]:this.meta.data.s;var k=this.showQuantileRegressionFit!==true&&this.meta.data.z&&this.meta.data.z.hasOwnProperty(this.showQuantileRegressionFit)?this.meta.data.z[this.showQuantileRegressionFit].levels:false;var n=j+":"+f;if(k){var c=k[i].replace("\x00","");var a=p.quantileRegression[n+":"+c];if(a){var b=this.colorBy&&this.meta.data.z[this.colorBy].colors?this.meta.data.z[this.colorBy].colors[this.meta.data.z[this.colorBy].order[k[i]]]:this.fitLineColor;var g=this.lineBy&&this.meta.data.z[this.lineBy].linePatterns?this.meta.data.z[this.lineBy].linePatterns[this.meta.data.z[this.lineBy].order[c]]:this.fitLineType;var m="Property:"+this.showQuantileRegressionFit+":"+k[i]+":z";d(a,b,g,m)}}else{var a=p.quantileRegression[n];if(a){d(a,this.fitLineColor,"line","Global")}}}};this.gE=function(d,r,h,f){this.WI();var a=this.meta.data.b;var p=this.Ep(h,"x");var n=this.Ep(f,"y");var s=this.mL(p,n,true);if(s){var o=s.x*this.xAxisUnit*(this.binplotShape=="hexagon"?2:1);var k=s.y*this.yAxisUnit*(this.binplotShape=="hexagon"?2:1);if(!this.layoutValid){a.g=s;a.c=s.brew}else{a.l[this.layoutCurrent]=s}for(var j in s.data){var g="<b>"+j+"</b><br>"+s.data[j].idx.length;var e=d+((s.data[j].x-this.xAxisMin)*this.xAxisUnit);var c=r-((s.data[j].y-this.yAxisMin)*this.yAxisUnit);var q=this.layoutValid?this.PW(a.c,s.data[j].idx.length):s.data[j].color;this.To({p:["drawShape",this.binplotShape,e,c,o,k,q,this.uf(q,15)],i:["Bin2d:"+j,g],b:[e,c],t:"Data"})}}};this.Ka=function(f,u){var b=this.layoutValid&&!this.isDOE?this.meta.data.p.l[this.layoutCurrent]:this.meta.data.p.g;var n,r,e,m,g,q,d;for(var k=0;k<b.length;k++){n=b[k].data;r=b[k].color;e=b[k].id;m=Number(n.l.slope);g=Number(n.l.intercept);q=this.dataPointSize*0.5;d="y ~ "+this.gG(m)+"x + "+this.gG(g);for(var h=0;h<n.x.length;h++){var c=f+(n.x[h]*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);var s=u-(n.y[h]*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);this.To({p:["drawShape","circle",c,s,q,q,false,r,"open"],i:[n.i[h],this.yAxisIndices[0]],t:"Decorations",h:this.ID(false,false,e)})}var c=n.x[0];var s=(m*c)+g;var a=n.x[n.x.length-1];var o=(m*a)+g;c=f+(c*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);s=u-(s*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);a=f+(a*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);o=u-(o*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);this.To({p:["drawLine","line",c,s,a,o,r,2],i:[d+":QQ-Line"+k],t:"Decorations",h:this.ID(false,false,e)})}};this.P2=function(d,m){var a=this.layoutValid?this.meta.data.p.l[this.layoutCurrent]:this.meta.data.p.g;var n,g,c,h;for(var f=0;f<a.length;f++){n=a[f].data;g=a[f].color;c=a[f].id;h=this.dataPointSize*0.5;for(var e=0;e<n.x.length;e++){var b=d+(n.x[e]*this.xAxisUnit)-(this.xAxisMin*this.xAxisUnit);var k=m-(n.y[e]*this.yAxisUnit)+(this.yAxisMin*this.yAxisUnit);this.To({p:["drawShape","circle",b,k,h,h,false,g,"open"],i:[n.i[e],this.xAxisIndices[0]],t:"Decorations",h:this.ID(false,false,c)})}}};this.KT=function(B,x){var A=this.layoutValid?this.meta.data.p.l[this.layoutCurrent]:this.meta.data.p.g;if(this.layoutValid&&!A){A=this.isDOE&&this.colorBy?this.meta.data.p.g:[this.meta.data.p.g[this.layoutCurrent]]}for(var F=0;F<A.length;F++){var w=[[],[]];var M=[[],[]];var n=[[],[]];var u=A[F].color;var y=this.b9(u,0.3,true);var s=A[F].data;var K=A[F].id;var v=null;var H=0;var o=1;var g=1;var e=1;var E,k,c,a,D;for(var C=0;C<s.time.length;C++){E=s.time[C];k=s.kaplanMeier[C];c=s.upperLimit[C];a=s.lowerLimit[C];D=s.nCensored[C];var I=B+((H-this.xAxisMin)*this.xAxisUnit);var G=B+((E-this.xAxisMin)*this.xAxisUnit);var q=x-((o-this.yAxisMin)*this.yAxisUnit);var m=x-((k-this.yAxisMin)*this.yAxisUnit);var h=x-((g-this.yAxisMin)*this.yAxisUnit);var f=x-((e-this.yAxisMin)*this.yAxisUnit);var d=x-((c-this.yAxisMin)*this.yAxisUnit);var b=x-((a-this.yAxisMin)*this.yAxisUnit);var z=this.To({p:["drawLine","line",I,q,G,q,u,2],i:["Decor-KM-h-"+C+"-"+F],g:v,t:"Decorations",h:this.ID(false,false,K)});if(!v){v=z}this.To({p:["drawShape","circle",I,q,1,1,u],i:["Decor-KM-x-"+C+"-"+F],g:v,t:"Decorations",h:this.ID(false,false,K)});this.To({p:["drawLine","line",G,q,G,m,u,2],i:["Decor-KM-v-"+C+"-"+F],g:v,t:"Decorations",h:this.ID(false,false,K)});if(D){this.To({p:["drawLine","line",G-this.margin,q,G+this.margin,q,u],i:["Decor-KM-ch-"+C+"-"+F],g:v,t:"Decorations",h:this.ID(false,false,K)});this.To({p:["drawLine","line",G,q-this.margin,G,q+this.margin,u],i:["Decor-KM-cv-"+C+"-"+F],g:v,t:"Decorations",h:this.ID(false,false,K)});if(this.kmCensoredRug){this.To({p:["drawLine","line",G,x-this.margin,G,x,u],i:["Decor-KM-cv-"+C+"-"+F],g:v,t:"Decorations",h:this.ID(false,false,K)})}}if(this.eb([d,b])||C==s.time.length-1){w[0].push(I,G,G);w[1].push(h,h,d);M[0].push(I,G,G);M[1].push(f,f,b)}H=E;o=k;g=c;e=a}if(this.showKMConfidenceIntervals){n[0]=w[0].concat(M[0].reverse());n[1]=w[1].concat(M[1].reverse());this.To({p:["drawShape","polygon",n[0],n[1],false,false,y,y,"closed"],i:["Decor-KM-Conf"+F],t:"Decorations",h:this.ID(false,false,K)})}}if(A&&this.showKMMedianSurvivalTime){for(var F=0;F<A.length;F++){var L=A[F].data.medianSurvivalTime;var u=A[F].color;var J=B+((L-this.xAxisMin)*this.xAxisUnit);var r=x-((0-this.yAxisMin)*this.yAxisUnit);var I=B+((L-this.xAxisMin)*this.xAxisUnit);var q=x-((0.5-this.yAxisMin)*this.yAxisUnit);var G=B+((0-this.xAxisMin)*this.xAxisUnit);var z=this.To({p:["drawLine","dashedLine",J,r,I,q,u,2],i:["KM-MST-V"+F+":",L],t:"Decorations"});this.To({p:["drawLine","dashedLine",J,q,G,q,u,2],i:["KM-MST-H"+F+":",L],g:z,t:"Decorations"})}}if(A&&this.kmPvalue&&A.length==2){this.To({p:["drawText","p = "+A[0].pValue.toFixed(5),B+40,(x-40),this.xAxisFont,this.xAxisFontColor,"left","middle"],t:"Decorations"})}};this.Zb=function(){if(!this.S7()){this.To({p:["setClipArea",this.UR()],t:"Data"});var A=this.marginLeft+this.offsetX+this.left;var p=this.marginTop+this.offsetY+this.top+this.y;var z=this.rV();if(z&&z.length){for(var E=0;E<z.length;E++){var I=z[E];if(this.contourFilled&&I&&I.data&&I.data.filled&&I.data.filled.length&&this.contourType=="normal"){var G=I.data.filled;for(var D=0;D<G.length;D++){var F=null;var K=I.data.colorBrew;var H=this.contourStat=="density"?G[D].value:this.contourStat=="ndensity"?G[D].value/I.data.range[1]:G[D].value*I.data.n;var h=this.contourFilledTransparency<1?this.b9(this.PW(K,H),this.contourFilledTransparency):this.PW(K,H);for(var B=0;B<G[D].coordinates.length;B++){for(var a=0;a<G[D].coordinates[B].length;a++){var m=[];var C=[];for(var e=0;e<G[D].coordinates[B][a].length;e++){var o=this.xAxisTransform?this.Jb(this.xAxisTransform,G[D].coordinates[B][a][e][0]):G[D].coordinates[B][a][e][0];var n=this.yAxisTransform?this.Jb(this.yAxisTransform,G[D].coordinates[B][a][e][1]):G[D].coordinates[B][a][e][1];m.push(A+((o-this.xAxisMin)*this.xAxisUnit));C.push(p-((n-this.yAxisMin)*this.yAxisUnit))}var L=[D,B,a].join("-");var v=this.To({p:["drawShape",this.lineType=="spline"?"spline":"path",m,C,false,false,h,h,"close"],g:F,i:["Contour:"+L,[I.name,G[D].value]],t:"Data"});if(F==null){F=v}}}}}else{if(I&&I.data&&I.data.kde2d&&(this.contourType=="raster"||this.contourType=="point")){var G=I.data.kde2d;var K=I.data.colorBrew;var f=(G.x[1]-G.x[0])*this.xAxisUnit*(this.contourType=="raster"?1.1:1);var J=(G.y[1]-G.y[0])*this.yAxisUnit*(this.contourType=="raster"?1.1:1);var r=Math.min(f,J);for(var D=0;D<G.x.length;D++){var o=A+(((this.xAxisTransform?this.Jb(this.xAxisTransform,G.x[D]):G.x[D])-this.xAxisMin)*this.xAxisUnit);for(var B=0;B<G.y.length;B++){var n=p-(((this.yAxisTransform?this.Jb(this.yAxisTransform,G.y[B]):G.y[B])-this.yAxisMin)*this.yAxisUnit);var H=this.contourStat=="density"?G.z[D+B*G.x.length]:this.contourStat=="ndensity"?G.z[D+B*G.x.length]/I.data.range[1]:G.z[D+B*G.x.length]*I.data.n;var h=this.contourType=="point"?this.foreground:this.contourFilledTransparency<1?this.b9(this.PW(K,H),this.contourFilledTransparency):this.PW(K,H);var q=Math.max(2,Math.ceil(H*r/K.rmax));var L=D+B*G.x.length;if(this.contourType=="point"){this.To({p:["drawShape","circle",o,n,q,q,h,h],i:["Contour:"+L,[this.gG(G.x[D],2),this.gG(G.y[B],2),this.gG(H,2)]],t:"Data"})}else{this.To({p:["drawShape","rectangle",o,n,f,J,h,h],i:["Contour:"+L,[this.gG(G.x[D],2),this.gG(G.y[B],2),this.gG(H,2)]],t:"Data"})}}}}}if(I&&I.data&&I.data.lines&&I.data.lines.length&&(this.showContourBands||this.showContourLevel)){var G=I.data.lines;for(var D=0;D<G.length;D++){var F=null;var h=this.isContour===true?this.contourBandsColor:this.meta.data.z[this.isContour].colors[this.meta.data.z[this.isContour].order[I.name]];for(var B=0;B<G[D].coordinates.length;B++){for(var a=0;a<G[D].coordinates[B].length;a++){var m=[];var C=[];for(var e=0;e<G[D].coordinates[B][a].length;e++){var o=this.xAxisTransform?this.Jb(this.xAxisTransform,G[D].coordinates[B][a][e][0]):G[D].coordinates[B][a][e][0];var n=this.yAxisTransform?this.Jb(this.yAxisTransform,G[D].coordinates[B][a][e][1]):G[D].coordinates[B][a][e][1];m.push(A+((o-this.xAxisMin)*this.xAxisUnit));C.push(p-((n-this.yAxisMin)*this.yAxisUnit))}var L=[D,B,a,0].join("-");if(this.showContourBands){var v=this.To({p:["drawShape",this.lineType=="spline"?"spline":"path",m,C,false,false,false,h,"open"],g:F,i:["Contour:"+L,[I.name,G[D].value]],t:"Data"});if(F==null){F=v}}if(this.showContourLevel){var b=[0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9];var w=false;var u=0;while(!w&&u<18){var e=parseInt(m.length*b[Math.round(this.Gs(0,9))]);if(m[e]>A&&m[e]<A+this.x&&C[e]>p-this.y&&C[e]<p){this.To({p:["drawText",G[D].value,m[e],C[e],this.legendTextFont],t:"Data"});w=true}u++}}}}}}}}this.To({p:["resetClipArea"],t:"Data"})}};this.YM=function(){var b=this.UR();this.To({p:["setClipArea",b],t:"Data"});var m=this.ok();var d=this.marginLeft+this.offsetX+this.left;var s=this.marginTop+this.offsetY+this.top+this.y;var r=(this.fishTimepoints[this.fishTimepoints.length-1]-this.fishTimepoints[0])/5;for(var f=0;f<this.data.y.vars.length;f++){var g=this.fishShape=="polygon"?"violin":"fish";var o=s-((((m.ytop[f][0]+m.ybtm[f][0])/2)-this.yAxisMin)*this.yAxisUnit);var a=d+(((m.xpos[f][0]-(f==0?r:m.nestLevel[f]<=1?r*0.3:r*0.1))-this.xAxisMin)*this.xAxisUnit);var h=d+((((m.xpos[f][0]-(f==0?r:m.nestLevel[f]<=1?r*0.3:r*0.1))/2)-this.xAxisMin)*this.xAxisUnit);var c=[a];var q=[o];var k=[o];if(this.fishShape=="polygon"){c.push(h);q.push(s-((m.ytop[f][0]-this.yAxisMin)*this.yAxisUnit));k.push(s-((m.ybtm[f][0]-this.yAxisMin)*this.yAxisUnit))}for(var e=0;e<m.xpos[f].length;e++){c.push(d+((m.xpos[f][e]-this.xAxisMin)*this.xAxisUnit));q.push(s-((m.ytop[f][e]-this.yAxisMin)*this.yAxisUnit));k.push(s-((m.ybtm[f][e]-this.yAxisMin)*this.yAxisUnit))}var n=this.ID(f);var p=this.To({p:["drawShape",g,[c,c],[q,k],false,false,this.colors[f],this.colors[f]],i:["fish-"+f],b:[a,o],t:"Data",h:n});if(this.fishCloneLabels.length){if(this.fishCloneLabels[f]&&this.fishCloneLabels[f]!=""){this.To({p:["drawText",this.fishCloneLabels[f],a,o,this.varTextFont,this.varTextColor,"left","bottom",this.varTextRotate],i:["fish-Label-"+f],g:p,t:"Labels",h:n})}}}this.To({p:["resetClipArea"],t:"Data"})};this.a8=function(c){var e=c+"AxisHistogram";var d=this.meta.data.d[c];var b=this.histogramStat=="count"?this.K1(d.cols):d.density[0].globalMaxY;this[e]=d;this[e].min=d.global.breaks[0];this[e].size=d.global.size;this[e].len=d.density.length;this[e].axis=this[this.axisAlgorithm](0,b,4,this.isGraphTime,this.axisWilkinsonLoose);this[e].axisMin=this[e].axis[0];this[e].axisMax=this[e].axis[this[e].axis.length-1];this[e].cntx=[]};this.Qg=function(){var ah=this;var aD=this.meta.data.s&&this.meta.data.s.density.Global?this.meta.data.s.density.Global:this.isDOE?this.meta.data.s.density.DOE:false;var am=this.meta.data;var J=function(c){var k=Object.keys(ah.meta.data.s.density.Factor);var f=U.name.split(":")[1];var d=ah.ridgelineScale-0.9;var j=Math.max(k.length,ah.ridgelineScale);var g=ah.y/(ah.ridgelineScale>1?j+d:j+0.1);e/=(j+d)/ah.ridgelineScale;if(ah.layoutValid&&!ah.isDOE){an-=g*(ah.data.l.axes.length-1-ah.layoutCurrent)}else{an-=g*(k.indexOf(f))}};var P=function(c,f){var d;if(ah.histogramAsDotplot){d=ah.histogramDotplotColor}else{if(ah.segregateVariablesBy.length&&am.z&&am.z.hasOwnProperty(ah.segregateVariablesBy[0])){d=ah.colors.length==1?ah.scatterDataPointsColor:ah.colors[c%ah.colors.length]}else{if(ah.segregateSamplesBy.length){if(ah.showHistogram!==true&&am.z&&am.z.hasOwnProperty(ah.showHistogram)){d=am.z[ah.showHistogram].colors[c]}else{if(ah.colorBy&&am.z&&am.z.hasOwnProperty(ah.colorBy)){d=am.z[ah.colorBy].colors[c]}else{d=ah.colors[ah.layoutCurrent||c%ah.colors.length]}}}else{if(ah.ridgeBy&&am.z&&am.z.hasOwnProperty(ah.ridgeBy)&&ah.data.y.smps.length>1){var g=aD.sets[c].name.split(":")[2];d=ah.colors[ah.data.y.smps.indexOf(g)]}else{if(ah.showHistogram!==true&&am.z&&am.z.hasOwnProperty(ah.showHistogram)){d=ah.data.y.smps.length==1?am.z[ah.showHistogram].colors[c]:ah.colors[c%ah.colors.length];var g=aD.sets[c].name.split(":")[1];if(am.z&&am.z[ah.showHistogram]&&am.z[ah.showHistogram].colorBy&&am.z[ah.showHistogram].colorBy[g]){d=am.z[ah.showHistogram].colorBy[g]}else{d=ah.data.y.smps.length==1?am.z[ah.showHistogram].colors[c]:ah.colors[c%ah.colors.length]}}else{d=ah.colors[c%ah.colors.length]}}}}}f.color=d;return d};var R=function(c){var d=ah.meta.data.s.density;return ah.scatterPlotMatrix?d.Global.Samples[d.Global.sets[d.layout[ah.layoutCurrent][c]].name.split(":")[1]]:false};var G=function(){var d=false;if(ah.isDOE){var c=ah.data.l.smps;return ah.layoutCurrent?[ah.meta.data.s.density.DOE[c[ah.layoutCurrent][0]]]:ah.meta.data.s.density.Global.sets}else{return ah.layoutValid&&ah.meta.data.s.density.layout?ah.meta.data.s.density.layout[ah.layoutCurrent||0]:aD?ah.XX(0,aD.sets.length-1,1):[ah.layoutCurrent||0]}};var ar=function(){if(!ah.showHistogramDensity&&!ah.showFilledHistogramDensity&&!ah.showHistogramPath){ah.showHistogramBars=true}};if(aD){var at=this.marginLeft+this.offsetX+this.left;var an=this.marginTop+this.offsetY+this.top+this.y+(this.yAxisMin*this.yAxisUnit);var ao=G();var aE=[];if(ao&&ao.length&&ao[0]!=null){var T=this.ridgeBy?0:ao.length-1;var H=this.ridgeBy?ao.length:0;var ad=this.ridgeBy?1:-1;ar();for(var ax=T;this.ridgeBy?ax<H:ax>=H;ax+=ad){if(this.ridgeBy){ax=(ao.length-1)-ax}var e=this.yAxisUnit;var aC=R(ax);var U=this.isDOE&&this.layoutCurrent?ao[0]:this.isDOE?aD.sets[ax]:aD.sets[ao[ax]];var K=U.median[0];var aB=[U.quantilesX[1],U.quantilesX[2],U.quantilesX[3]];var I=this.isDOE&&this.layoutCurrent?U.summary:this.scatterPlotMatrix?aC.summary:aD.summary;var V=I.data;var D=this.isDOE&&this.layoutCurrent?U:this.scatterPlotMatrix?aC.density:aD.density;var Q=D.histogram;var aG=Q.idxs;this.histogramBarWidth=Math.ceil(Q.size*this.xAxisUnit);var aF=Q.breaks[0];var O=U.name;var ab=O.split(":")[1]+(O.split(":")[2]?"-"+O.split(":")[2]:"");var ae=this.ridgeBy?"Property:"+this.ridgeBy+":"+ab.split("-")[0]+":z":false;var Z=this.ridgeBy?"Series:0:"+(ax%this.smpIndices.length):false;var o=P(ax,U);var E=this.scatterPlotMatrix||this.isDOE?ax:ao[ax];var L=["Density:"+ab];var b=this.uf(o,50);var S=this.densityPosition!="normal"&&this.histogramStat=="count"?I.position.factor*(this.densityPosition=="stacked"?1:I.position.max):this.histogramStat=="count"?I.cols[E]/U.maxY:1;var Y=this.densityPosition=="stacked"?I.stacked[E]:this.densityPosition=="filled"?I.filled[E]:U.xy;var ay=this.histogramAsDotplot?this.histogramBarWidth:this.histogramType.match(/staggered|stacked/)?Math.floor(this.histogramBarWidth):Math.floor(this.histogramBarWidth/(this.ridgeBy?1:ao.length));var h=this.ridgeBy&&this.colorBy=="data"?"open":"closed";var u=Math.floor(this.histogramBarWidth/2);var al=u<2?o:b;var a=this.segregateSamplesBy.length&&this.segregateSamplesBy[0]=="sample"&&this.data.y.smps.length==aD.sets.length?E:ax;var ac=this.scatterPlotMatrix?this.ID(false,false,"Property:"+this.scatterPlotMatrix+":"+ab.split("-")[1]+":z"):this.ID(false,false,"Series:0:"+a);if(this.histogramAsDotplot){for(var aw=0;aw<V.length;aw++){var ak=Math.floor(at+((V[aw][0]+(Q.size*0.5))*this.xAxisUnit)-ay)+(ay/2);var ag=this.histogramStackDir=="up"?0:this.histogramStackDir=="down"?0:this.histogramStackDir=="center"?-aG[aw].length*0.5*ay*this.histogramStackRatio:(Math.floor(-aG[aw].length*0.5)*ay*this.histogramStackRatio)-(ay*0.5)+(V[aw][1]>1?0:ay);for(var au=0;au<aG[aw].length;au++){var X=this.plotStyle=="open"?false:this.colorBy?this.wn(null,aG[aw][au],"colorBy"):this.histogramDotplotColor;var W=this.plotStyle=="open"?this.V4(o,[aG[aw][au],aw,0]):this.histogramDotplotBorderColor;var q=this.plotStyle=="open"?"open":"closed";var aj=(an-(ag+(au*this.histogramBarWidth*this.histogramStackRatio)))-(ay/2);this.To({p:["drawShape","circle",ak,aj,ay,ay,X,W,q,false,this.histogramDotplotBorderSize],i:[["Histogram",aw,aG[aw][au]].join("-")],b:[ak,an,ay],t:"Data",h:ac})}}}else{if(this.ridgeBy){an=this.marginTop+this.offsetY+this.top+this.y+(this.yAxisMin*this.yAxisUnit);e=this.ridgelineViolin?I.globalMaxY/U.globalMaxY*this.yAxisUnit*0.8:this.yAxisUnit;J(ax);ac=this.ID(false,false,ae)||this.ID(false,false,Z)}var aa=[];var C=[];var M=[];var v=[];for(var aw=0;aw<Y.length;aw++){var ak=Y[aw][0];var aj=this.ridgeBy?Math.max(0,Y[aw][1]*S):Y[aw][1]*S;var af=(ak-this.xAxisMin)*this.xAxisUnit;var F=aj*e;aa.push(at+af);C.push(an-F);M.push(at+af);v.push(an)}if(this.showHistogramDensity&&this.showFilledHistogramDensity){if(this.ridgeBy&&this.colorBy=="data"){var aq=this.NA(aa);var az=this.dX(at-aq,0,at+this.x-aq,0);this.To({p:["drawShape","spline",aa,C,false,false,az],i:L,t:"Data",h:ac})}else{if(this.ridgelineViolin){this.To({p:["drawShape","violin",[aa,M],[C,v],false,false,this.b9(b,this.histogramDensityFillTransparency,true),b],i:L,t:"Data",h:ac})}else{this.To({p:["drawShape","spline",aa,C,false,false,this.b9(b,this.histogramDensityFillTransparency,true),this.isCxplot?this.objectBorderColor:b],i:L,t:"Data",h:ac})}}}else{if(this.showHistogramDensity){this.To({p:["drawLine","spline",aa,C,false,false,b,1,false,false,false,true],i:L,t:"Data",h:ac})}}if(this.showHistogramDataPoints){var av=U.data;var N=ay/4;for(var aw=0;aw<av.length;aw++){var ak=at+((av[aw]-this.xAxisMin)*this.xAxisUnit);for(var B=0;B<C.length;B++){if(aa[B]>ak){var aj=this.Gs(an,C[B]);this.To({p:["drawShape","sphere",ak,aj,N,N,b,this.foreground,h],t:"Decorations"});break}}}}if(this.showHistogramQuantiles){var av=[];for(var aw=0;aw<aB.length;aw++){av.push(at+((aB[aw]-this.xAxisMin)*this.xAxisUnit))}for(var aw=0;aw<av.length;aw++){var ak=av[aw];for(var B=0;B<C.length;B++){if(aa[B]>ak){var aj=C[B];this.To({p:["drawLine","line",ak,an,ak,aj,this.s8(b,30),2],t:"Decorations"});break}}}}if(this.showHistogramBars||this.showHistogramPath){if(!aE.length){for(var aw=0;aw<V.length;aw++){aE[aw]=0}}var ag=(this.histogramType.match(/staggered|stacked/)?0:ax)*ay;var p=[at+ag-(this.xAxisMin*this.xAxisUnit)];var n=[an];var X=this.histogramType=="staggered"?this.b9(o,this.histogramDensityFillTransparency,true):o;var W=al;var A=this.histogramStat=="density"?this.yAxisUnit/I.cols[E]*(U.maxY-U.minY):e;for(var aw=0;aw<V.length;aw++){var ak=Math.floor(at+((V[aw][0]+aF-this.xAxisMin)*this.xAxisUnit)+(ag-this.histogramBarWidth));var aj=an-((V[aw][E+1]*A)+(this.histogramStat=="density"?0:aE[aw]));var ai=an-(aj+aE[aw]);var aA=this.SS(X,[aw,ax,E]);var ap=aA==this.selectionColor?aA:W;if(this.showHistogramBars){if(aj>0&&ai>0.5){this.To({p:["drawShape","rectangle",ak+(ay/2),aj+(ai/2),ay,ai,aA,ap],i:[["Histogram",aw,E,ax].join("-")],b:[ak,an,ay,0],t:"Data",h:ac})}}p.push(ak+(ay/2));n.push(an-(ai+aE[aw]));if(this.histogramType=="stacked"){aE[aw]+=(V[aw][E+1]*e)}}p.push(ak+(ay/2));n.push(an);p[0]=p[1];if(this.showHistogramPath){if(this.showFilledHistogramPath){this.To({p:["drawShape","path",p,n,false,false,this.b9(o,this.histogramPathFillTransparency,false,false,true),o,false,false,this.histogramPathWidth],i:L,t:"Data",h:ac})}else{this.To({p:["drawShape","path",p,n,false,false,o,o,"open",false,this.histogramPathWidth],i:L,t:"Data",h:ac})}}}if(this.showHistogramMedian){var ak=at+((K-this.xAxisMin)*this.xAxisUnit);var aj=U.maxY*S;var ai=an+this.fontSize-(((aj-this.yAxisMin)*e)+this.margin);this.To({p:["drawLine",this.histogramMedianLineType,ak,an,ak,an-this.y,b,2],i:["DensityMedian:"+O.split(":")[1]+" &rarr; "+K],t:"Decorations",h:ac});this.To({p:["drawText",this.gG(K,this.xAxisDecs),ak,ai,false,this.foreground],i:["DensityMedianValue:"+O.split(":")[1]+" &rarr; "+K],t:"Decorations",h:ac})}}if(this.ridgeBy){ax=ao.length-(1+ax)}}}}};this.yl=function(){if(!this.layoutComb&&(this.xAxisHistogramShow||this.yAxisHistogramShow)&&!this.dR()&&!this.np()&&!this.isDOE){if(this.xAxisHistogramShow){this.a8("x")}if(this.yAxisHistogramShow){this.a8("y")}var a=this.axesType=="XYZ"?1:Math.max(this.xAxisIndices.length,this.yAxisIndices.length);for(var d=0;d<a;d++){var b=this.axesType=="Y"||this.axesType=="XYZ"?this.xAxisIndices[this.xAxisCurrent]:this.xAxisIndices[d];var c=this.axesType=="X"||this.axesType=="XYZ"?this.yAxisIndices[this.yAxisCurrent]:this.yAxisIndices[d];if(this.xAxisHistogramShow){this.xAxisHistogram.cntx.push([b,c])}if(this.yAxisHistogramShow){this.yAxisHistogram.cntx.push([b,c])}}}};this.Ly=function(){var b,k;var c=["x","y"];this.To({p:["disableGradientTransparencyShadow"],t:"Axes"});for(var f=0;f<c.length;f++){if(this[c[f]+"AxisHistogramShow"]){var d=c[f]=="x"?this.marginLeft+this.offsetX+this.left:this.marginLeft+this.offsetX+this.left+this.x+(this.margin*2);var m=c[f]=="x"?(this.marginTop+this.offsetY+this.top)-(this.margin*2):this.marginTop+this.offsetY+this.top+this.y;var a=c[f]=="x"?[d,m-this.xAxisHistogramHeight,this.x,this.xAxisHistogramHeight]:[d,m-this.y,this.yAxisHistogramHeight,this.y];if(this.backgroundType=="image"||this.backgroundType=="panelImage"){this.VJ(CanvasXpress.cacheImages[this.KU(this.backgroundImage)],a[0],a[1],a[2],a[3])}else{if(this.backgroundType=="solid"){}else{if(this.backgroundType=="panel"||this.backgroundType=="panelSolidGradient"){this.To({p:["drawShape","rectangle",a[0]+(a[2]/2),a[1]+(a[3]/2),a[2],a[3],this.panelBackgroundColor,this.panelBackgroundBorderColor],t:"Axes"})}else{var h=this.dX(a[0],a[1],a[2],a[3]);this.To({p:["drawShape","rectangle",a[0]+(a[2]/2),a[1]+(a[3]/2),a[2],a[3],h,this.foreground],t:"Axes"})}}}if(c[f]=="x"){this.xAxisHistogram.axisUnit=this.xAxisHistogramHeight/(this.xAxisHistogram.axisMax-this.xAxisHistogram.axisMin);for(var e=0;e<this.xAxisHistogram.axis.length;e++){k=m-(this.xAxisHistogram.axis[e]*this.xAxisHistogram.axisUnit);if(this.xAxisGridMajorShow){this.To({p:["drawLine",this.xAxisTicksLineType,d,k,d+this.x,k,this.xAxisGridMajorColor,this.xAxisGridMajorWidth,"butt"],t:"Axes"})}if(this.xAxisTicksShow){this.To({p:["drawLine",this.xAxisTicksLineType,d+this.x,k,d+this.x+this.xAxisTicksLength,k,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],t:"Axes"})}this.To({p:["drawText",this.xAxisHistogram.axis[e],d+this.x+this.xAxisTicksLength+this.xAxisTextMargin,k,this.xAxisTextFont,this.xAxisTextColor,"left","middle"],t:"Axes"})}this.Ag(m-this.xAxisHistogramHeight,m,true)}else{this.yAxisHistogram.axisUnit=this.yAxisHistogramHeight/(this.yAxisHistogram.axisMax-this.yAxisHistogram.axisMin);for(var e=0;e<this.yAxisHistogram.axis.length;e++){b=d+(this.yAxisHistogram.axis[e]*this.yAxisHistogram.axisUnit);if(this.yAxisGridMajorShow){this.To({p:["drawLine",this.yAxisGridMajorType,b,m-this.y,b,m,this.yAxisGridMajorColor,this.yAxisGridMajorWidth,"butt"],t:"Axes"})}if(this.yAxisTicksShow){this.To({p:["drawLine",this.yAxisTicksLineType,b,m,b,m+this.yAxisTicksLength,this.yAxisTicksColor,this.yAxisTicksWidth,"butt"],t:"Axes"})}this.To({p:["drawText",this.yAxisHistogram.axis[e],b,m+this.yAxisTicksLength+this.yAxisTextMargin,this.yAxisTextFont,this.yAxisTextColor,"center","top"],t:"Axes"})}this.wH(d,d+this.xAxisHistogramHeight,true)}this.To({p:["drawShape","rectangle",a[0]+(a[2]/2),a[1]+(a[3]/2),a[2],a[3],false,this.panelBackgroundBorderColor,"open"],t:"Axes"})}}this.To({p:["enableGradientTransparencyShadow"],t:"Axes"})};this.pm=function(){var V,p;var G=["x","y"];for(var P=0;P<G.length;P++){if(this[G[P]+"AxisHistogramShow"]){var S=G[P]=="x"?this.xAxisHistogram:this.yAxisHistogram;var J=G[P]=="x"?this.marginLeft+this.offsetX+this.left:this.marginLeft+this.offsetX+this.left+this.x+(this.margin*2);var E=G[P]=="x"?(this.marginTop+this.offsetY+this.top)-(this.margin*2):this.marginTop+this.offsetY+this.top+this.y;var Y=G[P]=="x"?Math.floor(S.size*this.xAxisUnit):Math.floor(S.size*this.yAxisUnit);var B=this.histogramType.match(/staggered|stacked/)?Math.floor(Y):Math.floor(Y/S.len);var X=G[P]=="x"?[J,E-this.xAxisHistogramHeight,this.x+1,this.xAxisHistogramHeight+1]:[J,E-this.y,this.yAxisHistogramHeight+1,this.y+1];var R=this[G[P]+"AxisIndices"];this.To({p:["setClipArea",X],t:"Decorations"});if(this.showHistogramDensity){for(var M=0;M<R.length;M++){var W=S.density[M];var U=this.histogramStat=="count"?S.cols[M]/W.maxY:1;var H=this.b9(this.colors[M%this.colors.length],0.3,true);var D=G[P]=="x"?this.xAxisHistogram.axisUnit:this.yAxisHistogram.axisUnit;var v=[];var L=[];for(var K=0;K<W.xy.length;K++){var A=W.xy[K][0];var z=W.xy[K][1]*U;if(G[P]=="x"){v.push(J+((A-this.xAxisMin)*this.xAxisUnit));L.push(E-(z*D))}else{v.push(J+(z*D));L.push(E-((A-this.yAxisMin)*this.yAxisUnit))}}if(this.showFilledHistogramDensity){this.To({p:["drawShape","spline",v,L,false,false,this.b9(H,this.histogramDensityFillTransparency,true),H],i:["Density:"+G[P].toUpperCase()+":"+R[M]],t:"Decorations"})}else{this.To({p:["drawLine","spline",v,L,false,false,H,2,false,false,false,true],i:["Density:"+G[P].toUpperCase()+":"+R[M]],t:"Decorations"})}}}if(this.showHistogramBars){for(var M=0;M<S.vars.length;M++){if(this.histogramType=="staggered"){var a=[];var r=[];for(var K=0;K<S.len;K++){a.push(S.data[M][K+1]);r.push(K)}r.sort(function(d,c){return a[c]-a[d]})}for(var K=0;K<S.len;K++){var n=this.histogramType=="staggered"?r[K]:K;var F=G[P]=="x"?[G[P]+"AxisHistogram-"+M+"-"+(n+1)+"-"+K,"DensityHistogram:X:"+n]:[G[P]+"AxisHistogram-"+M+"-"+(n+1)+"-"+K,"DensityHistogram:Y:"+n];var s=this.SS(this.colors[n%this.colors.length],F);var O=this.V4(s,F);var C=this.wn(K,false,"patternBy");var U=this.histogramStat=="density"?S.density[n].maxY/S.cols[n]:1;var A=S.data[M][0];var z=S.data[M][n+1]*U;var I=this[G[P]+"AxisMin"]-S.min;if(!z){continue}if(B<8){O=s}if(G[P]=="x"){V=this.histogramType=="staggered"?Math.floor(J+((A-I)*this.xAxisUnit)-Y):Math.floor(J+((A-I)*this.xAxisUnit)+(B*n)-Y);p=z*this.xAxisHistogram.axisUnit;this.To({p:["drawShape","rectangle",V+((B-2.5)/2),E-(p/2),B-2.5,p,s,O,C],i:F,t:"Decorations"})}else{V=z*this.yAxisHistogram.axisUnit;p=this.histogramType=="staggered"?Math.floor(E-((A-I)*this.yAxisUnit)):Math.floor(E-((A-I)*this.yAxisUnit)+(B*n));this.To({p:["drawShape","rectangle",J+(V/2),p+((B-2.5)/2),V,B-2.5,s,O,C],i:F,t:"Decorations"})}}}}if(this.showHistogramMedian){for(var M=0;M<R.length;M++){var W=S.density[M];var U=this.histogramStat=="count"?S.cols[M]/W.maxY:1;var H=this.b9(this.colors[M%this.colors.length],0.7,true);var D=G[P]=="x"?this.xAxisHistogram.axisUnit:this.yAxisHistogram.axisUnit;if(G[P]=="x"){var A=J+((W.median[0]-this.xAxisMin)*this.xAxisUnit);var m=E;var g=E-(W.maxY*D*U);var e=E-this.xAxisHistogramHeight;this.To({p:["drawLine",this.histogramMedianLineType,A,m,A,e,H,2,false],i:["DensityMedian:X:"+R[M]],t:"Decorations"});this.To({p:["drawText",this.gG(W.median[0],this[G[P]+"AxisDecs"]),A,g],i:["DensityMedianValue:X:"+R[M]],t:"Decorations"})}else{var z=E-((W.median[0]-this.yAxisMin)*this.yAxisUnit);var T=J;var Q=J+(W.maxY*D*U);var N=J+this.yAxisHistogramHeight;this.To({p:["drawLine",this.histogramMedianLineType,T,z,N,z,H,2,false],i:["DensityMedian:Y:"+R[M]],t:"Decorations"});this.To({p:["drawText",this.gG(W.median[0],this[G[P]+"AxisDecs"]),Q,z],i:["DensityMedianValue:Y:"+R[M]],t:"Decorations"})}}}this.To({p:["resetClipArea"],t:"Decorations"})}}};this.tg=function(){var l=this;if(this.kmRiskTable&&!this.layoutValid){var h=function(t,q){var s=l.meta.data.p.g[q].data;for(var r=0;r<s.time.length;r++){var o=s.time[r];if(o>=t){break}}return s.nAtRisk[r]||0};var c=(this.xAxisTextFontSize+this.margin)*(this.meta.data.p.g.length);var p=this.height-(c+(this.legendPosition=="bottom"?this.legend.height:0)+this.marginBottom);var e=this.marginLeft+this.offsetX+this.margin;var n=p-((this.xAxisTextFontSize+this.margin)*1.8);this.To({p:["drawText",this.kmRiskTable===true?"Subjects at Risk":this.kmRiskTable,e,n,"Bold"+this.xAxisTitleFont,this.xAxisTitleColor,"left","middle"],t:"Decorations"});p-=this.xAxisTextFontSize+this.margin;e=(this.marginLeft+this.offsetX+this.left);n=p+(this.xAxisTextFontSize*0.5);for(var k=0;k<this.meta.data.p.g.length;k++){var d=this.meta.data.p.g[k].id.split(":")[2];var b=this.Aj(d,this.maxVarStringLen);this.To({p:["drawText",b,e,n,this.xAxisTextFont,this.meta.data.p.g[k].color,"right","middle"],t:"Decorations",i:["RiskTable:"+d]});n+=this.xAxisTextFontSize+this.margin}var a=this.xAxisSetValues.length?this.xAxisSetValues:this.xAxisValuesRaw;for(var k=0;k<a.length;k++){var f=a[k];if(f>=this.xAxisMin&&f<=this.xAxisMax){e=(this.marginLeft+this.offsetX+this.left)+((f-this.xAxisMin)*this.xAxisUnit);n=p+(this.xAxisTextFontSize*0.5);for(var g=0;g<this.meta.data.p.g.length;g++){var m=h(f,g);this.To({p:["drawText",m,e,n,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Decorations"});n+=this.xAxisTextFontSize+this.margin}}}}};this.lf=function(){this.ks()};this.Hi=function(){return this.scatterType=="km"};this.dR=function(){return this.scatterType=="qq"};this.np=function(){return this.scatterType=="cdf"};this.hf=function(){if(this.ridgeBy&&this.meta.data.z&&this.meta.data.z[this.ridgeBy]&&this.meta.data.z[this.ridgeBy].type=="Numeric"){this.ridgeBy=false;this.s1(100,100,"Not allowed to ridge by a numeric value",5000)}if(this.ellipseBy&&this.meta.data.z&&this.meta.data.z[this.ellipseBy]&&this.meta.data.z[this.ellipseBy].type=="Numeric"){this.ellipseBy=false;this.s1(100,100,"Not allowed to ellipse by a numeric value",5000)}if(this.colorLabelBy&&this.meta.data.z&&this.meta.data.z[this.colorLabelBy]&&this.meta.data.z[this.colorLabelBy].type=="Numeric"){this.colorLabelBy=false;this.s1(100,100,"Not allowed to color label by a numeric value",5000)}};this.i9=function(){if(this.showHistogram&&this.showHistogram!=true){if(this.meta.data.z[this.showHistogram]&&this.meta.data.z[this.showHistogram].type=="Numeric"){this.zd(this.showHistogram,false,true)}}if(this.ridgeBy){if(this.data.y.smps.length>1&&this.colorBy){this.colorBy=false;this.NM()}this.showHistogramBars=false;this.showFilledHistogramDensity=true;this.showHistogramDensity=true;this.iD(true);this.g5(true);this.bI(this.ridgeBy,true);this.xu()}};this.pj=function(){if(this.scatterType!="stream"){if(this.showLoessFit||this.showRegressionFit||this.showQuantileRegressionFit){if(this.showLoessFit){this.b8()}if(this.showRegressionFit){this.hE()}if(this.showQuantileRegressionFit){this.HS()}}}};this.bo=function(){if(this.graphName&&this.graphName.graphType=="KaplanMeier"&&!this.isKM){this.yC()}};this.SV=function(){if(this.scatterType=="qq"){this.Zq()}else{if(this.scatterType=="cdf"){this.gK()}}};this.wc=function(){if(this.isContour&&(this.xAxisIndices.length>1||this.yAxisIndices.length>1)){this.isContour=false;alert("Contour not implemented for multiple data series in Scatter plots")}};this.YY=function(d){if(this.KV()){return}var u=this.meta.data.c;if(this.scatterPlotMatrix){if(d&&this.data.z&&this.data.z.hasOwnProperty(d)){u.z[d]={};var o=this.sF(d,this.varIndices,"z");for(var g=0;g<this.smpIndices.length;g++){for(var f=g+1;f<this.smpIndices.length;f++){var q=this.data.y.smps[this.smpIndices[g]]+"::"+this.data.y.smps[this.smpIndices[f]];var p=this.data.y.smps[this.smpIndices[f]]+"::"+this.data.y.smps[this.smpIndices[g]];u.z[d][q]=[];u.z[d][p]=[];for(var e=0;e<o.length;e++){var h=this.sN(d,o[e],this.varIndices,"z");var a=o[e]&&this.meta.data.z&&this.meta.data.z[d].colors?this.meta.data.z[d].order:false;var b=a&&this.confidenceIntervalColorCoordinate?this.meta.data.z[d].colors[a[o[e]]]:this.confidenceIntervalColor;var n=[];var m=[];for(var c=0;c<h.length;c++){var s=this.data.y.data[h[c]][this.smpIndices[g]];var r=this.data.y.data[h[c]][this.smpIndices[f]];if(s!=null&&s!==""&&!isNaN(s)&&r!=null&&r!==""&&!isNaN(r)){n.push(s);m.push(r)}}var t={cor:this.u3(n,m),lab:o[e],col:b,id:(o[e]?"Property:"+d+":"+o[e]+":z":false),n:n.length};u.z[d][q].push(t);u.z[d][p].push(t)}}}}else{for(var g=0;g<this.smpIndices.length;g++){for(var f=g+1;f<this.smpIndices.length;f++){var q=this.data.y.smps[this.smpIndices[g]]+"::"+this.data.y.smps[this.smpIndices[f]];var p=this.data.y.smps[this.smpIndices[f]]+"::"+this.data.y.smps[this.smpIndices[g]];var n=[];var m=[];for(var e=0;e<this.varIndices.length;e++){var s=this.data.y.data[this.varIndices[e]][this.smpIndices[g]];var r=this.data.y.data[this.varIndices[e]][this.smpIndices[f]];if(s!=null&&s!==""&&!isNaN(s)&&r!=null&&r!==""&&!isNaN(r)){n.push(s);m.push(r)}}var t={cor:this.u3(n,m),lab:"Correlation",col:this.foreground,id:false,n:n.length};u.s[q]=[t];u.s[p]=[t]}}}}};this.rc=function(){if(this.scatterPlotMatrix){this.histogramStat="count";var a=this.data.z&&this.data.z.hasOwnProperty(this.scatterPlotMatrix)?this.scatterPlotMatrix:false;if(this.scatterPlotMatrixType.match(/both|upper|lower/)){this.showScatterPlotMatrixLabels=false}else{if(this.scatterPlotMatrixType.match(/correlation|all/)){this.showScatterPlotMatrixLabels=this.scatterPlotMatrixType=="correlation"?false:true;if(!this.data.l.cor){this.YY(a)}if(this.scatterPlotMatrixType.match(/Histogram|Density|all/)){this.bI(a,true)}}}}};this.yT=function(){if(this.scatterType=="visium"){var b=this.xAxisRange;var a=this.yAxisRange;this.dataPointSize=Math.max(this.x,this.y)*5/Math.max(b,a)*this.dataPointSizeScaleFactor}};this.CG=function(){this.hf();this.i9();this.fE();this.rc();this.bo();this.SV();this.wc();this.pj()};this.HQ=function(){if(!this.layoutComb&&!this.dR()&&!this.np()){this.Ly();this.pm()}};this.Bc=function(){this.Zb();if(this.decorationsOnTop){this.gi();this.bE()}else{this.bE();this.gi()}this.HQ();this.tg()};this.L5=function(){if(this.xAxis&&(this.yAxis||this.isDOE)){this.mU()}this.lf();this.l9();if(this.xAxis&&(this.yAxis||this.isDOE)){this.v1();if(this.graphType=="Fish"){this.YM()}this.wG();if(this.graphType!="Fish"){this.yl();this.Bc()}this.On();this.p3()}};this.de=function(){this.CG();if(this.layoutValid&&(this.scatterPlotMatrix||this.isDOE||this.segregateVariablesBy.length>0||this.segregateSamplesBy.length>0)){this.X9(this.draw2DPlot)}else{if(!this.scatterPlotMatrix){this.r5()}this.L5()}};this.D3=function(){this.de()}};CanvasXpress.prototype.Scatter3D=function(){this.o2=function(){this.lV(false,this.x,"x");this.lV(false,this.x,"y");this.lV(false,this.x,"z")};this.Qz=function(){var d=this.width-(this.marginLeft+this.marginRight);var b=this.height-(this.marginTop+this.marginBottom);if(this.showLegend){this.U6();if(!this.legendInside&&this.legend.layout.length>0){if(this.legendPosition.match(/right/i)||this.legendPosition.match(/left/i)){d-=this.legend.width}if(this.legendPosition=="bottom"){b-=this.legend.height}}}var a=Math.min(d,b);var c=0;if(d>b){c=d-b;this.left=c/2;this.right=c/2;this.top=0;this.bottom=0;this.funcX=c/2;this.funcY=0}else{c=b-d;this.left=0;this.right=0;this.top=c/2;this.bottom=c/2;this.funcX=0;this.funcY=c/2}this.x=a;this.y=a};this.D5=function(h,a,n,j,b,o,f,c){var e,q,d,p,m;var g=this.marginLeft+this.left+this.offsetX;var r=this.marginTop+this.top+this.offsetY;if(this.show3DGrid){this.To({p:["disableGradientTransparencyShadow"],t:"Axes"});for(var k=0;k<h.length;k++){m=this.ym(h[k],a[k],n[k]);e=m[0]+g;q=m[1]+r;m=this.ym(j[k],b[k],o[k]);d=m[0]+g;p=m[1]+r;if(c=="dotted"){this.To({p:["drawLine","dottedLine",e,q,d,p,f[k],false,"butt"],t:"Axes"})}else{this.To({p:["drawLine","line",e,q,d,p,f[k],false,"butt"],t:"Axes"})}}this.To({p:["enableGradientTransparencyShadow"],t:"Axes"})}};this.uW=function(q,o,n,P,S){var H=this.marginLeft+this.left+this.offsetX;var C=this.marginTop+this.top+this.offsetY;var k=H+(this.x/2);var g=C+(this.y/2);var T=0.25*this.dataPointSize*this.dataPointSizeScaleFactor*this.widthFactor/this.xAxisUnit;var R=0.25*this.dataPointSize*this.dataPointSizeScaleFactor*this.widthFactor/this.zAxisUnit;var L=this.yAxisMin<0?0:this.yAxisMin;var M=[[[q-T,o,n-R],[q+T,o,n-R],[q+T,L,n-R],[q-T,L,n-R]],[[q+T,o,n-R],[q+T,o,n+R],[q+T,L,n+R],[q+T,L,n-R]],[[q-T,o,n+R],[q+T,o,n+R],[q+T,L,n+R],[q-T,L,n+R]],[[q-T,o,n-R],[q-T,o,n+R],[q-T,L,n+R],[q-T,L,n-R]],[[q-T,o,n-R],[q+T,o,n-R],[q+T,o,n+R],[q-T,o,n+R]]];var O=[];var Q=[];var N=[];var G=[];for(var K=0;K<M.length;K++){O[K]=[];for(var J=0;J<M[K].length;J++){var E=this.xAxisMin<0?0:this.xAxisMin;var B=this.yAxisMin<0?0:this.yAxisMin;var A=this.zAxisMin<0?0:this.zAxisMin;var v=((M[K][J][0]-E)*this.xAxisUnit)-this.xAxisOffset;var u=this.yAxisOffset-((M[K][J][1]-B)*this.yAxisUnit);var p=((M[K][J][2]-A)*this.zAxisUnit)-this.zAxisOffset;O[K].push(this.ym(v,u,p))}G.push(K);N.push(this.Cz([(O[K][0][0]+O[K][2][0])/2,(O[K][0][1]+O[K][2][1])/2,(O[K][0][2]+O[K][2][2])/2],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]))}G.sort(function(d,c){return N[c]-N[d]});var F;for(var w=1;w<O.length;w++){var K=G[w];var D=w<3?this.uf(P,-w*15):P;var m=[];var I=[];for(var J=0;J<O[K].length;J++){m.push(O[K][J][0]+H);I.push(O[K][J][1]+C)}F=this.To({p:["drawShape","polygon",m,I,false,false,D,this.V4(D),"closed"],i:S,t:"Data",h:this.ID(S[0])})}};this.pH=function(){var w=[],c=[],m=[],v=[],b=[],j=[],d=[];var u,k,o,a,z,q,h,g;var e=this.lenX/15;var p=(15*-e)+e;var f=this.xAxisTitle?this.xAxisTitle:this.is3DPlot&&this.xAxis.length==0?"Samples":this.xAxisIndex?this.data.y.smps[this.xAxisIndex]:this.xAxis[0];var r=this.marginLeft+this.left+this.offsetX;var n=this.marginTop+this.top+this.offsetY;if(this.show3DGrid){o=p;u=0;k=0;while(o<this.lenX){if((u+1)%3){if(this.xAxisType=="continuous"){w[k]=o;c[k]=-this.lenY;m[k]=this.lenZ;v[k]=o;b[k]=this.lenY;j[k]=this.lenZ;d.push(this.xAxisGridMajorColor);k++}w[k]=-this.lenX;c[k]=o*this.lenY/this.lenX;m[k]=this.lenZ;v[k]=this.lenX;b[k]=o*this.lenY/this.lenX;j[k]=this.lenZ;d.push(this.xAxisGridMajorColor);k++}o+=e;u++}this.D5(w,c,m,v,b,j,d,this.xAxisGridMajorLineType);w=[],c=[],m=[],v=[],b=[],j=[],d=[];o=p;u=0;k=0;z=this.xAxisIncr;while(o<this.lenX){if(!((u+1)%3)){if(this.xAxisType=="continuous"){w[k]=o;c[k]=-this.lenY;m[k]=this.lenZ;v[k]=o;b[k]=this.lenY;j[k]=this.lenZ;d.push(this.foreground);k++}w[k]=-this.lenX;c[k]=o*this.lenY/this.lenX;m[k]=this.lenZ;v[k]=this.lenX;b[k]=o*this.lenY/this.lenX;j[k]=this.lenZ;d.push(this.foreground);a=this.ym(o,this.lenY,-this.lenZ);h=a[0]+r;g=a[1]+n;q=this.xAxisTime?this.dateFormat(new Date(this.xAxisMin+z),this.timeFormat):this.sV(this.xAxisMin+z,"xAxis");z+=this.xAxisIncr;if(this.xAxisShow&&this.xAxisType=="continuous"){this.To({p:["drawText",q,h,g+5,this.xAxisTextFont,this.xAxisTextColor,"right",false,-Math.PI/2],t:"Axes"})}k++}o+=e;u++}this.D5(w,c,m,v,b,j,d,this.xAxisGridMajorLineType)}if(this.xAxisShow&&!this.is3DPlot&&this.show3DGrid){this.zH(p-(e*2),this.lenX+e,this.lenY+(e*4),this.lenY+(e*4),-this.lenZ-(e*4),-this.lenZ-(e*4),f,"x")}w=[-this.lenX,-this.lenX,this.lenX,-this.lenX];c=[-this.lenY,-this.lenY,-this.lenY,this.lenY];m=[this.lenZ,this.lenZ,this.lenZ,this.lenZ];v=[-this.lenX,this.lenX,this.lenX,this.lenX];b=[this.lenY,-this.lenY,this.lenY,this.lenY];j=[this.lenZ,this.lenZ,this.lenZ,this.lenZ];d=[this.foreground,this.foreground,this.foreground,this.foreground];this.D5(w,c,m,v,b,j,d,this.xAxisGridMajorLineType)};this.Td=function(){var z=[],c=[],m=[],w=[],b=[],j=[],d=[];var v,k,p,a,A,r,h,g;var e=this.lenY/15;var q=(15*-e)+e;var f=this.yAxisTitle?this.yAxisTitle:this.is3DPlot&&this.yAxis.length==0?"Value":this.yAxisIndex?this.data.y.smps[this.yAxisIndex]:this.yAxis[0];var u=this.marginLeft+this.left+this.offsetX;var n=this.marginTop+this.top+this.offsetY;var o=[];if(this.show3DGrid){p=q;v=0;k=0;while(p<this.lenY){if((v+1)%3){if(this.zAxisType=="continuous"){z[k]=-this.lenX;c[k]=-this.lenY;m[k]=p*this.lenZ/this.lenY;w[k]=-this.lenX;b[k]=this.lenY;j[k]=p*this.lenZ/this.lenY;d.push(this.yAxisGridMajorColor);k++}z[k]=-this.lenX;c[k]=p;m[k]=-this.lenZ;w[k]=-this.lenX;b[k]=p;j[k]=this.lenZ;d.push(this.yAxisGridMajorColor);k++}p+=e;v++}this.D5(z,c,m,w,b,j,d,this.yAxisGridMajorLineType);z=[],c=[],m=[],w=[],b=[],j=[],d=[];p=q;v=0;k=0;A=this.yAxisIncr*9;while(p<this.lenY){if(!((v+1)%3)){if(this.zAxisType=="continuous"){z[k]=-this.lenX;c[k]=-this.lenY;m[k]=p*this.lenZ/this.lenY;w[k]=-this.lenX;b[k]=this.lenY;j[k]=p*this.lenZ/this.lenY;d.push(this.foreground);k++}z[k]=-this.lenX;c[k]=p;m[k]=-this.lenZ;w[k]=-this.lenX;b[k]=p;j[k]=this.lenZ;d.push(this.foreground);a=this.ym(-this.lenX,p,-this.lenZ);h=a[0]+u;g=a[1]+n;r=this.sV(this.yAxisMin+A,"yAxis");A-=this.yAxisIncr;if(this.yAxisShow){if(this.yRotate>=45&&this.xRotate>=45){this.To({p:["drawText",r,h,g+5,this.yAxisTextFont,this.yAxisTextColor,"right",false,-Math.PI/2],t:"Axes2"})}else{this.To({p:["drawText",r,h-5,g,this.yAxisTextFont,this.yAxisTextColor,"right"],t:"Axes2"})}}k++}p+=e;v++}this.D5(z,c,m,w,b,j,d,this.yAxisGridMajorLineType)}if(this.yAxisShow&&this.show3DGrid){this.zH(-this.lenX-(e*4),-this.lenX-(e*4),q-(e*2),this.lenY+e,-this.lenZ-(e*4),-this.lenZ-(e*4),f,"y")}z=[-this.lenX,-this.lenX,-this.lenX,-this.lenX];c=[-this.lenY,-this.lenY,-this.lenY,this.lenY];m=[-this.lenZ,this.lenZ,this.lenZ,this.lenZ];w=[-this.lenX,-this.lenX,-this.lenX,-this.lenX];b=[this.lenY,-this.lenY,this.lenY,this.lenY];j=[-this.lenZ,-this.lenZ,this.lenZ,-this.lenZ];d=[this.foreground,this.foreground,this.foreground,this.foreground];this.D5(z,c,m,w,b,j,d,this.yAxisGridMajorLineType)};this.dt=function(){var m=this;var I=[],c=[],v=[],H=[],b=[],p=[],g=[];var F,q,z,r,a,K,D,o,n;var j,e,f,d,B,A,C,h;var k=this.zAxisTitle?this.zAxisTitle:this.is3DPlot&&this.zAxis.length==0?"Variables":this.zAxisIndex?this.data.y.smps[this.zAxisIndex]:this.zAxis[0];var E=this.marginLeft+this.left+this.offsetX;var w=this.marginTop+this.top+this.offsetY;var G=function(u){var t=u/m.varLabelInterval;if(parseInt(t)==parseFloat(t)){var s=m.ym(m.lenX,m.lenY,z-(j/2));var l=s[0]+E;var M=s[1]+w;var L=m.zAxis.length==0?m.xAxis3DLabs[m.xAxis3Dindex[u]]:d[u];if(m.xRotate>=45){if(m.yRotate>=45){m.To({p:["drawText",L,l+5,M,m.zAxisTextFont,m.zAxisTextColor,"left"],t:"Axes3"})}else{m.To({p:["drawText",L,l,M+5,m.zAxisTextFont,m.zAxisTextColor,"right",false,-Math.PI/2],t:"Axes3"})}}else{m.To({p:["drawText",L,l+5,M,m.zAxisTextFont,m.zAxisTextColor,"left"],t:"Axes3"})}}};var J=function(M,t){var L=M/m.smpLabelInterval;if(parseInt(L)==parseFloat(L)){var s=m.ym((t*m.lenX/m.lenZ)-((e/2)*m.x3DRatio),m.lenY,-m.lenZ);var l=s[0]+E;var O=s[1]+w;var N=m.xAxis.length==0?m.isGroupedData&&m.scatterType=="dot"?m.data.w.smps[m.grpIndices[M]]:m.zAxis3DLabs[m.zAxis3Dindex[M]]:f[M];m.To({p:["drawText",N,l,O+5,m.zAxisTextFont,m.zAxisTextColor,"right",false,-Math.PI/2],t:"Axes3"})}};if(this.is3DPlot){if(this.zAxis.length>0){if(this.zAxisType=="continuous"){j=this.lenZ/15;B=(15*-j)+j}else{d=this.fO(this.zAxis[0]);j=this.lenZ/(d.length*0.5);B=((d.length*0.5)*-j)+j}}else{j=this.lenZ/(this.xAxis3Dindex.length*0.5);B=((this.xAxis3Dindex.length*0.5)*-j)+j}if(this.xAxis.length>0){if(this.xAxisType=="continuous"){e=this.lenX/15;A=(15*-e)+e}else{f=this.fO(this.xAxis[0]);e=this.lenX/(f.length*0.5);A=((f.length*0.5)*-e)+e}}else{if(this.isGroupedData&&this.scatterType=="dot"){e=this.lenZ/(this.grpIndices.length*0.5);A=((this.grpIndices.length*0.5)*-e)+e}else{e=this.lenZ/(this.zAxis3Dindex.length*0.5);A=((this.zAxis3Dindex.length*0.5)*-e)+e}}}else{j=this.lenZ/15;e=false;B=(15*-j)+j;A=false}if(this.show3DGrid){if(this.zAxisType=="continuous"){I=[],c=[],v=[],H=[],b=[],p=[],g=[];z=B;F=0;q=0;while(z<this.lenZ){if((F+1)%3){I[q]=-this.lenX;c[q]=this.lenY;v[q]=z;H[q]=this.lenX;b[q]=this.lenY;p[q]=z;g.push(this.zAxisGridMajorColor);q++}z+=j;F++}this.D5(I,c,v,H,b,p,g,this.zAxisGridMajorLineType)}if(this.xAxisType=="continuous"){I=[],c=[],v=[],H=[],b=[],p=[],g=[];z=A||B;F=0;q=0;while(z<this.lenZ){if((F+1)%3){I[q]=z*this.lenX/this.lenZ;c[q]=this.lenY;v[q]=-this.lenZ;H[q]=z*this.lenX/this.lenZ;b[q]=this.lenY;p[q]=this.lenZ;g.push(this.zAxisGridMajorColor);q++}z+=e||j;F++}this.D5(I,c,v,H,b,p,g,this.zAxisGridMajorLineType)}if(this.zAxisType=="continuous"){I=[],c=[],v=[],H=[],b=[],p=[],g=[];z=B;F=0;q=0;K=this.zAxisIncr;while(z<this.lenZ){if(!((F+1)%3)){I[q]=-this.lenX;c[q]=this.lenY;v[q]=z;H[q]=this.lenX;b[q]=this.lenY;p[q]=z;g.push(this.foreground);q++}z+=j;F++}this.D5(I,c,v,H,b,p,g,this.zAxisGridMajorLineType)}if(this.xAxisType=="continuous"||this.zAxisType=="continuous"){I=[],c=[],v=[],H=[],b=[],p=[],g=[];if(this.xAxisType=="continuous"){z=A||B}else{z=B}F=0;q=0;K=this.zAxisIncr;while(z<this.lenZ){if(!((F+1)%3)){I[q]=z*this.lenX/this.lenZ;c[q]=this.lenY;v[q]=-this.lenZ;H[q]=z*this.lenX/this.lenZ;b[q]=this.lenY;p[q]=this.lenZ;g.push(this.foreground);q++;a=this.ym(this.lenX,this.lenY,z);o=a[0]+E;n=a[1]+w;D=this.zAxisTime?this.dateFormat(new Date(this.zAxisMin+K),this.timeFormat):this.sV(this.zAxisMin+K,"zAxis");K+=this.zAxisIncr;if(this.zAxisShow&&this.zAxisType=="continuous"){if(this.xRotate>=45){if(this.yRotate>=45){this.To({p:["drawText",D,o+5,n,this.zAxisTextFont,this.zAxisTextColor,"left"],t:"Axes3"})}else{this.To({p:["drawText",D,o,n+5,this.zAxisTextFont,this.zAxisTextColor,"right",false,-Math.PI/2],t:"Axes3"})}}else{this.To({p:["drawText",D,o+5,n,this.zAxisTextFont,this.zAxisTextColor,"left"],t:"Axes3"})}}}if(this.xAxisType=="continuous"){z+=e||j}else{z+=j}F++}if(this.xAxisType=="continuous"){this.D5(I,c,v,H,b,p,g,this.zAxisGridMajorLineType)}}if(this.zAxisType=="categorical"){z=B;F=0;q=0;while(z<this.lenZ){I[q]=-this.lenX;c[q]=this.lenY;v[q]=z;H[q]=this.lenX;b[q]=this.lenY;p[q]=z;g.push(this.zAxisGridMajorColor);G(F);q++;F++;z+=j}this.D5(I,c,v,H,b,p,g,this.zAxisGridMajorLineType);G(F)}if(this.xAxisType=="categorical"){F=0;r=A;while(r<this.lenZ){I[q]=r*this.lenX/this.lenZ;c[q]=this.lenY;v[q]=-this.lenZ;H[q]=r*this.lenX/this.lenZ;b[q]=this.lenY;p[q]=this.lenZ;g.push(this.zAxisGridMajorColor);J(F,r);q++;F++;r+=e}this.D5(I,c,v,H,b,p,g,this.zAxisGridMajorLineType);J(F,r)}}if(this.zAxisShow&&!this.is3DPlot&&this.show3DGrid){this.zH(this.lenX+(j*6),this.lenX+(j*6),this.lenY+(j*6),this.lenY+(j*6),B-(j*2),this.lenZ+j,k,"z")}I=[-this.lenX,-this.lenX,this.lenX,-this.lenX];c=[this.lenY,this.lenY,this.lenY,this.lenY];v=[-this.lenZ,this.lenZ,-this.lenZ,-this.lenZ];H=[-this.lenX,this.lenX,this.lenX,this.lenX];b=[this.lenY,this.lenY,this.lenY,this.lenY];p=[this.lenZ,this.lenZ,this.lenZ,-this.lenZ];g=[this.foreground,this.foreground,this.foreground,this.foreground];this.D5(I,c,v,H,b,p,g,this.zAxisMajorGridLineType)};this.zH=function(u,s,d,c,j,h,m,b){var o=this.pb(m);var q=o/2;var v=m.split("");var g=(u+s)/2;var f=(d+c)/2;var e=(j+h)/2;var p=this.marginLeft+this.left+this.offsetX;var k=this.marginTop+this.top+this.offsetY;var n=this.xRotate>=45||this.yRotate>=45?4:0;if(this.xRotate>=45||this.yRotate>=45){o+=v.length*4;q=o/2}if(b=="x"){g-=q;for(var r=0;r<v.length;r++){var a=this.ym(g,f,e);this.To({p:["drawText",v[r],p+a[0],k+a[1],this[b+"AxisTitleFont"],this[b+"AxisTitleColor"],"left","top"],t:"AxesTitle"});g+=this.pb(v[r])+n}}else{if(b=="y"){f+=q;for(var r=0;r<v.length;r++){var a=this.ym(g,f,e);this.To({p:["drawText",v[r],p+a[0],k+a[1],this[b+"AxisTitleFont"],this[b+"AxisTitleColor"],"left","bottom",-Math.PI/2],t:"AxesTitle"});f-=this.pb(v[r])+n}}else{if(b=="z"){e-=q;for(var r=0;r<v.length;r++){var a=this.ym(g,f,e);this.To({p:["drawText",v[r],p+a[0],k+a[1],this[b+"AxisTitleFont"],this[b+"AxisTitleColor"],"left","bottom"],t:"AxesTitle"});e+=this.pb(v[r])+n}}}}};this.Pv=function(c){if(c){this.layoutSet={x:false,y:false,z:false}}for(var g=0;g<this.layoutOrder.ord.length;g++){var d=this.layoutOrder.ord[g];var h=c&&this.layoutOrder[d];var f=!c&&!this.layoutOrder[d];var e=c&&this.layoutOrder[d+"1"];if(!this.layoutSet[d]){if(h||f||(!h&&!f&&e)){this["set3D"+d.toUpperCase()+"Layout"]();this.layoutSet[d]=true}}}if(!c){delete (this.layoutSet);if(this.is3DPlot){this.xAxis=this.tempxAxis;this.yAxis=this.tempyAxis;this.zAxis=this.tempzAxis}}};this.Xh=function(){var b=["x","y","z"];this.setMin=null;this.setMax=null;if(this.is3DPlot){var g=this.xAxis.length?this.yV(this.xAxis):[];var f=this.xAxis.length?this.tU(this.xAxis):[];var d=this.zAxis.length?this.yV(this.zAxis):[];var c=this.zAxis.length?this.tU(this.zAxis):[];this.tempxAxis=this.TU(this.xAxis);this.tempyAxis=this.TU(this.yAxis);this.tempzAxis=this.TU(this.zAxis);this.xAxis=[];this.yAxis=[];this.zAxis=[];var e=this.TU(this.smpIndices);var k=this.TU(this.varIndices);this.xz3DInverted=false;if(g.length&&c.length){this.smpIndices=g;this.varIndices=c;this.xAxis3Dindex=this.smpIndices;this.zAxis3Dindex=this.varIndices;this.xAxis3DLabs=this.data.y.smps;this.zAxis3DLabs=this.data.y.vars;this.xz3DInverted=true}else{if(f.length&&d.length){this.smpIndices=d;this.varIndices=f;this.xAxis3Dindex=this.varIndices;this.zAxis3Dindex=this.smpIndices;this.xAxis3DLabs=this.data.y.vars;this.zAxis3DLabs=this.data.y.smps}else{if(g.length||d.length){this.smpIndices=g.length?g:d;this.varIndices=k;this.xAxis3Dindex=this.smpIndices;this.zAxis3Dindex=this.varIndices;this.xAxis3DLabs=this.data.y.smps;this.zAxis3DLabs=this.data.y.vars;this.xz3DInverted=true}else{if(f.length||c.length){this.smpIndices=e;this.varIndices=f.length?f:c;this.xAxis3Dindex=this.varIndices;this.zAxis3Dindex=this.smpIndices;this.xAxis3DLabs=this.data.y.vars;this.zAxis3DLabs=this.data.y.smps}else{this.smpIndices=e;this.varIndices=k;this.xAxis3Dindex=this.smpIndices;this.zAxis3Dindex=this.varIndices;this.xAxis3DLabs=this.data.y.smps;this.zAxis3DLabs=this.data.y.vars;this.xz3DInverted=true}}}}this.tM(this.smpIndices);this.FE(this.varIndices);this.yAxisTicks=10;this.tH("yAxis");this.yAxisUnit=this.lenY*2/(this.yAxisIncr*10);this.yAxisOffset=Math.min(this.lenY,(this.yAxisMin+(this.yAxisIncr*10/2))*this.yAxisUnit);this.yAxisType="continuous";if(g.length||f.length){this.xAxisMin=0;this.xAxisMax=10;this.xAxisIncr=10/(d.length||c.length);this.xAxisDecs=0;this.xAxisRange=this.xAxisMax-this.xAxisMin;this.xAxisUnit=this.lenX*2/this.xAxisRange;this.xAxisOffset=Math.min(this.lenX,(this.xAxisMin+(this.xAxisRange/2))*this.xAxisUnit);this.xAxisType="categorical"}if(d.length||c.length){this.zAxisMin=0;this.zAxisMax=10;this.zAxisIncr=10/(g.length||f.length);this.zAxisDecs=0;this.zAxisRange=this.zAxisMax-this.zAxisMin;this.zAxisUnit=this.lenZ*2/this.zAxisRange;this.zAxisOffset=Math.min(this.lenZ,(this.zAxisMin+(this.zAxisRange/2))*this.zAxisUnit);this.zAxisType="categorical"}}else{for(var a=0;a<b.length;a++){var j=this.smpIndices;var h=b[a].toUpperCase();this[b[a]+"AxisIndex"]=this.yV(this[b[a]+"Axis"])[0];this.tM([this[b[a]+"AxisIndex"]]);this.l1();if(this.minData==this.maxData){this.maxData+=0.5}this[b[a]+"AxisMin"]=this["setMin"+h]!=null?this["setMin"+h]:this.minData;this[b[a]+"AxisMax"]=this["setMax"+h]!=null?this["setMax"+h]:this.maxData;this[b[a]+"AxisIncr"]=this.VE(this[b[a]+"AxisMin"],this[b[a]+"AxisMax"],10,this[b[a]+"AxisExact"]);this[b[a]+"AxisDecs"]=this.CU(this[b[a]+"AxisIncr"]);if(!this[b[a]+"AxisExact"]){this[b[a]+"AxisMin"]=this.lz(this[b[a]+"AxisMin"],this[b[a]+"AxisIncr"]);this[b[a]+"AxisMax"]=this[b[a]+"AxisMin"]+(this[b[a]+"AxisIncr"]*10)}this[b[a]+"AxisRange"]=this[b[a]+"AxisMax"]-this[b[a]+"AxisMin"];this[b[a]+"AxisUnit"]=this["len"+h]*2/this[b[a]+"AxisRange"];this[b[a]+"AxisOffset"]=Math.min(this["len"+h],(this[b[a]+"AxisMin"]+(this[b[a]+"AxisRange"]/2))*this[b[a]+"AxisUnit"]);this[b[a]+"AxisType"]="continuous";this[b[a]+"AxisTime"]=this.isGraphTime==b[a]?true:false;this.tM(j)}}this.Xv()};this.Xv=function(){var q=this.xAxisMin<0?0:this.xAxisMin;var p=this.yAxisMin<0?0:this.yAxisMin;var n=this.zAxisMin<0?0:this.zAxisMin;var l=((((this.xAxisMin+this.xAxisMax)/2)-q)*this.xAxisUnit)-this.xAxisOffset;var k=this.yAxisOffset-((((this.yAxisMin+this.yAxisMax)/2)-p)*this.yAxisUnit);var j=((((this.zAxisMin+this.zAxisMax)/2)-n)*this.zAxisUnit)-this.zAxisOffset;this.zero3DPoint=this.ym(l,k,j);var w=this.ym(((this.xAxisMin-q)*this.xAxisUnit)-this.xAxisOffset,k,j);var v=this.ym(((this.xAxisMax-q)*this.xAxisUnit)-this.xAxisOffset,k,j);var e=this.ym(l,this.yAxisOffset-((this.yAxisMin-p)*this.yAxisUnit),j);var d=this.ym(l,this.yAxisOffset-((this.yAxisMax-p)*this.yAxisUnit),j);var o=this.ym(l,k,((this.zAxisMax-n)*this.zAxisUnit)-this.zAxisOffset);var m=this.ym(l,k,((this.zAxisMin-n)*this.zAxisUnit)-this.zAxisOffset);var t=this.Cz([w[0],w[1],w[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]);var s=this.Cz([v[0],v[1],v[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]);var b=this.Cz([e[0],e[1],e[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]);var a=this.Cz([d[0],d[1],d[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]);var h=this.Cz([o[0],o[1],o[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]);var g=this.Cz([m[0],m[1],m[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]);var r=this.Cz([this.zero3DPoint[0],this.zero3DPoint[1],this.zero3DPoint[2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]);var A=[Math.min(t,s),Math.min(b,a),Math.min(h,g)];var B={0:"x",1:"y",2:"z"};var f=[0,1,2];f=f.sort(function(x,i){return A[x]-A[i]});var c=[];for(var u=0;u<f.length;u++){c.push(B[f[u]])}this.layoutOrder={x0:h,x1:g,y0:t,y1:s,z0:b,z1:a,md:r,x:h>=g,y:t>=s,z:b>=a,x1:Math.min(h,g)>r,y1:Math.min(t,s)>r,z1:Math.min(b,a)>r,ord:c}};this.lU=function(a,c,b){if(a>=this.xAxisMin&&a<=this.xAxisMax){if(c>=this.yAxisMin&&c<=this.yAxisMax){if(b>=this.zAxisMin&&b<=this.zAxisMax){return true}}}return false};this.cs=function(){var ae=this.marginLeft+this.left+this.offsetX;var U=this.marginTop+this.top+this.offsetY;var ax=this.xAxisIndex+":"+this.yAxisIndex+":"+this.zAxisIndex;var aX={data:{},ellp:{},sphr:{}};var aU=[];var I=[];var aT=[];var E=[];var b=[];var N=[];var ay=[];var H=[];var aJ=[];var f=0;this.connectByData={};if(this.is3DPlot){if(this.xAxis.length>0&&this.yAxis.length>0&&this.zAxis.length>0){var aL,aV,az;var aj={};var ah={};var aI=this.yV(this.yAxis[0]);if(this.data.z&&this.data.z.hasOwnProperty(this.xAxis[0])&&!this.eb(this.data.z[this.xAxis[0]])){aL=this.fO(this.xAxis[0]);for(var ai=0;ai<aL.length;ai++){aj[aL[ai]]=ai}aV=false}else{aV=this.yV(this.xAxis[0])}if(this.data.z&&this.data.z.hasOwnProperty(this.zAxis[0])&&!this.eb(this.data.z[this.zAxis[0]])){aL=this.fO(this.zAxis[0]);for(var ai=0;ai<aL.length;ai++){ah[aL[ai]]=ai}az=false}else{az=this.yV(this.zAxis[0])}W=0;for(var ai=0;ai<this.varIndices.length;ai++){var Y=this.varIndices[ai];var S=aV===false?(aj[this.data.z[this.xAxis[0]][Y]]*this.xAxisIncr)+(this.xAxisIncr/2):this.Cb(Y,aV);var R=this.Cb(Y,aI);var Q=az===false?(ah[this.data.z[this.zAxis[0]][Y]]*this.zAxisIncr)+(this.zAxisIncr/2):this.Cb(Y,az);var aC=this.xAxisMin<0?0:this.xAxisMin;var aB=this.yAxisMin<0?0:this.yAxisMin;var aA=this.zAxisMin<0?0:this.zAxisMin;var D=((S-aC)*this.xAxisUnit)-this.xAxisOffset;var C=this.yAxisOffset-((R-aB)*this.yAxisUnit);var B=((Q-aA)*this.zAxisUnit)-this.zAxisOffset;ay.push(true);aU.push([S,R,Q]);var aW=this.ym(D,C,B);I.push(aW);aT.push(aW[2]);N.push(this.Cz([I[W][0],I[W][1],I[W][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]));aJ.push([Y,aI]);b.push(W++)}}else{if(this.isGroupedData&&this.scatterType=="dot"){this.isGroupedData=false;var W=0;for(var ai=0;ai<this.varIndices.length;ai++){var Y=this.varIndices[ai];for(var ag=0;ag<this.grpIndices.length;ag++){for(var af=0;af<this.data.w.grps[this.grpIndices[ag]].length;af++){var J=this.data.w.grps[this.grpIndices[ag]][af];var S=(ag*this.xAxisIncr)+(this.xAxisIncr/2);var R=this.Cb(Y,J);var Q=(ai*this.zAxisIncr)+(this.zAxisIncr/2);var aC=0;var aB=this.yAxisMin<0?0:this.yAxisMin;var aA=0;var D=((S-aC)*this.xAxisUnit)-this.xAxisOffset;var C=this.yAxisOffset-((R-aB)*this.yAxisUnit);var B=((Q-aA)*this.zAxisUnit)-this.zAxisOffset;ay.push(true);aU.push([S,R,Q]);var aW=this.ym(D,C,B);I.push(aW);aT.push(aW[2]);N.push(this.Cz([I[W][0],I[W][1],I[W][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]));aJ.push([Y,this.grpIndices[ag]]);b.push(W++)}}}this.isGroupedData=true}else{var W=0;for(var ai=0;ai<this.xAxis3Dindex.length;ai++){var Y=this.xAxis3Dindex[ai];for(var ag=0;ag<this.zAxis3Dindex.length;ag++){var J=this.zAxis3Dindex[ag];var S=(ag*this.xAxisIncr)+(this.xAxisIncr/2);var R=this.xz3DInverted?this.Cb(J,Y):this.Cb(Y,J);var Q=(ai*this.zAxisIncr)+(this.zAxisIncr/2);var aC=0;var aB=this.yAxisMin<0?0:this.yAxisMin;var aA=0;var D=((S-aC)*this.xAxisUnit)-this.xAxisOffset;var C=this.scatterType&&this.scatterType.match(/bar/)?0:this.yAxisOffset-((R-aB)*this.yAxisUnit);var B=((Q-aA)*this.zAxisUnit)-this.zAxisOffset;ay.push(true);aU.push([S,R,Q]);var aW=this.ym(D,C,B);I.push(aW);aT.push(aW[2]);N.push(this.Cz([I[W][0],I[W][1],I[W][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]));aJ.push(this.xz3DInverted?[J,Y]:[Y,J]);b.push(W++)}}}}}else{for(var ai=0;ai<this.varIndices.length;ai++){var Y=this.varIndices[ai];var S=this.Cb(Y,this.xAxisIndex);var R=this.Cb(Y,this.yAxisIndex);var Q=this.Cb(Y,this.zAxisIndex);var aC=this.xAxisMin<0?0:this.xAxisMin;var aB=this.yAxisMin<0?0:this.yAxisMin;var aA=this.zAxisMin<0?0:this.zAxisMin;var D=((S-aC)*this.xAxisUnit)-this.xAxisOffset;var C=this.scatterType&&this.scatterType.match(/bar/)?0:this.yAxisOffset-((R-aB)*this.yAxisUnit);var B=((Q-aA)*this.zAxisUnit)-this.zAxisOffset;var e=this.ellipseBy&&this.data.z&&this.data.z.hasOwnProperty(this.ellipseBy)?this.Mk(Y,"z",this.ellipseBy):this.ellipseBy&&this.ellipseBy=="variable"?"variable":false;ay.push(this.lU(S,R,Q));aU.push([S,R,Q]);var aW=this.ym(D,C,B);I.push(aW);aT.push(aW[2]);if(this.scatterType!="function"){b.push(ai);N.push(this.Cz([I[ai][0],I[ai][1],I[ai][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]))}if(this.ellipseBy&&e){if(!aX.data.hasOwnProperty(e)){aX.data[e]=[[],[],[]]}aX.data[e][0].push(S);aX.data[e][1].push(R);aX.data[e][2].push(Q)}}if(this.ellipseBy){var at=this.ellipseBy&&this.data.z&&this.data.z.hasOwnProperty(this.ellipseBy)?this.meta.data.z[this.ellipseBy]:false;var ai=this.varIndices.length;for(var e in aX.data){aX.ellp[e]=this.CJ(aX.data[e][0],aX.data[e][1],aX.data[e][2]);var aF=aX.ellp[e];if(aF){aX.sphr[e]=this.E9(aF.cx,aF.cy,aF.cz,aF.rx[0],aF.ry[0],aF.rz[0],aF.rot[0],aF.rot[1],aF.rot[2]);for(var ag=0;ag<aX.sphr[e].length;ag++){D=((aX.sphr[e][ag][0]-aC)*this.xAxisUnit)-this.xAxisOffset;C=this.yAxisOffset-((aX.sphr[e][ag][1]-aB)*this.yAxisUnit);B=((aX.sphr[e][ag][2]-aA)*this.zAxisUnit)-this.zAxisOffset;aW=this.ym(D,C,B);I.push(aW);aT.push(aW[2]);b.push(ai+ag);N.push(this.Cz([I[ai+ag][0],I[ai+ag][1],I[ai+ag][2]],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]))}ai+=aX.sphr[e].length}}}}var aQ=this.cp(aT);if(this.showLoessFit){if(this.varIndices.length>18){var S=this.Ep(this.xAxisIndex);var R=this.Ep(this.yAxisIndex);var Q=this.Ep(this.zAxisIndex);var A=this.P0([Q,R,S],[this.xAxisIndex,this.yAxisIndex,this.zAxisIndex]);var aa=[];var aC=this.xAxisMin<0?0:this.xAxisMin;var aB=this.yAxisMin<0?0:this.yAxisMin;var aA=this.zAxisMin;for(var ai=0;ai<A.x.length;ai++){for(var ag=0;ag<A.y.length;ag++){var D=((A.x[ai]-aA)*this.zAxisUnit)-this.zAxisOffset;var C=this.yAxisOffset-((A.z[ai][ag]-aB)*this.yAxisUnit);var B=((A.y[ag]-aC)*this.xAxisUnit)-this.xAxisOffset;var aW=this.ym(D,C,B);aa.push(aW)}}var ad=A.x.length;var av=[];var P=[];var aE=[];for(var ai=1;ai<ad;ai++){for(var ag=0;ag<ad-1;ag++){var aq=((ai-1)*ad)+ag;var aw=(ai*ad)+ag;var ap=((ai-1)*ad)+ag+1;var ar=(ai*ad)+ag+1;var aP=[aa[aq][0]+ae,aa[aw][0]+ae,aa[ar][0]+ae,aa[ap][0]+ae];var aG=[aa[aq][1]+U,aa[aw][1]+U,aa[ar][1]+U,aa[ap][1]+U];var au=[aa[aq][2],aa[aw][2],aa[ar][2],aa[ap][2]];av.push(Y++);P.push(this.Cz([this.NA(aP),this.NA(aG),this.NA(au)],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]));aE.push([aP,aG])}}av.sort(function(g,c){return P[c]-P[g]});var aM=this.b9("black",0.1,true);var M=this.b9(this.confidenceIntervalColor,0.3,true);for(var Y=0;Y<aE.length;Y++){var ai=av[Y];if(ai<aE.length){this.To({p:["drawShape","polygon",aE[ai][0],aE[ai][1],false,false,M,aM,"closed"],t:"Decorations"})}}}else{this.showLoessFit=false;alert("Minimum 18 variables to show Loess Fit")}}if(this.scatterType&&this.scatterType=="function"){var ad=Math.sqrt(I.length);var Y=0;var h=[];var aO=this.colorBy?this.meta.data.y.range[this.colorBy]:false;var ac=this.colorBy?this.dl(this.colorSpectrum,aO.min,aO.max,this.colorSpectrumZeroValue,this.colorSpectrumBreaks):false;for(var ai=1;ai<ad;ai++){for(var ag=0;ag<ad-1;ag++){var aq=((ai-1)*ad)+ag;var aw=(ai*ad)+ag;var ap=((ai-1)*ad)+ag+1;var ar=(ai*ad)+ag+1;var aP=[I[aq][0]+this.funcX,I[aw][0]+this.funcX,I[ar][0]+this.funcX,I[ap][0]+this.funcX];var aG=[I[aq][1]+this.funcY,I[aw][1]+this.funcY,I[ar][1]+this.funcY,I[ap][1]+this.funcY];var au=[I[aq][2],I[aw][2],I[ar][2],I[ap][2]];var O=this.colorBy?this.PW(ac,this.NA([aU[aq][1],aU[aw][1],aU[ar][1],aU[ap][1]])):false;b.push(Y++);N.push(this.Cz([this.NA(aP),this.NA(aG),this.NA(au)],[this.zero3DPoint[0],this.zero3DPoint[1],-this.x]));h.push([aP,aG,O])}}b.sort(function(g,c){return N[c]-N[g]});for(var Y=0;Y<h.length;Y++){var ai=b[Y];if(ay[ai]){var ao=[ai,this.xAxisIndex,this.yAxisIndex,this.zAxisIndex];if(this.colorBy){this.To({p:["drawShape","polygon",h[ai][0],h[ai][1],false,false,h[ai][2],this.outline3DColor,"closed"],i:ao,t:"Data",h:this.ID(ao[0])})}else{var al=this.outline3DColor=="rgba(0,0,0,0)"?this.foreground:this.outline3DColor;this.To({p:["drawShape","polygon",h[ai][0],h[ai][1],false,false,false,al,"open"],i:ao,t:"Data",h:this.ID(ao[0])})}}}}else{if(CanvasXpress.system.browser=="Firefox"){b=this.iP(b)}else{b.sort(function(g,c){return N[c]-N[g]})}for(var Y=0;Y<I.length;Y++){var ai=b[Y];if(this.ellipseBy&&ai>=this.varIndices.length){var aR=350;var aH=25;var T=ai-this.varIndices.length;var aD=ai+1;var an=ai+aH;var aS=T%aH;var d=parseInt(T/aR);var m=(aR*d)+(aR/2);var F=m-24;var aN=["Property:"+this.ellipseBy+":"+this.meta.data.z[this.ellipseBy].levels[d]+":z"];var G=this.ID(false,false,aN[0]);if(!aS&&ai+1<I.length){this.To({p:["drawLine","line",ae+I[ai][0],U+I[ai][1],ae+I[ai+1][0],U+I[ai+1][1],this.colors[d%this.colors.length]],i:aN,t:"Data",h:G})}else{if(parseInt(T/aH)==parseInt((T-1)/aH)&&parseInt(T/aR)==parseInt((T+1)/aR)&&aD<I.length){this.To({p:["drawLine","line",ae+I[ai][0],U+I[ai][1],ae+I[aD][0],U+I[aD][1],this.colors[d%this.colors.length]],i:aN,t:"Data",h:G});if(parseInt(T/aR)==parseInt((T+aH)/aR)&&an<I.length){if(T<F||T>m){this.To({p:["drawLine","line",ae+I[ai][0],U+I[ai][1],ae+I[an][0],U+I[an][1],this.colors[d%this.colors.length]],i:aN,t:"Data",h:G})}}}}}else{var T=this.is3DPlot?aJ[ai][0]:ai;var ao=this.is3DPlot?[aJ[ai][0],aJ[ai][1]]:[this.varIndices[ai],this.xAxisIndex,this.yAxisIndex,this.zAxisIndex];var am=this.SS(this.colorBy?this.wn(this.varIndices[T],null,"colorBy"):this.is3DPlot?this.colors[T%this.colors.length]:this.colors[0],ao);var ab=I.length>this.scatterOutlineThreshold?am:this.scatterType&&this.scatterType.match(/dot/)?this.V4(this.foreground,ao):this.V4(am,ao);var Z=this.wn(this.varIndices[T],null,"shapeBy");var V=this.wn(this.varIndices[T],null,"sizeBy");var W=this.patternBy?this.wn(this.varIndices[T],null,"patternBy"):this.patterns[0];var ak=this.scatterType&&this.scatterType.match(/image/i)?this.images[ai]:false;if(ay[ai]){var aK=this.colorLabelBy&&this.data.z&&this.data.z.hasOwnProperty(this.colorLabelBy)?this.data.z[this.colorLabelBy][this.varIndices[T]]:false;if(this.scatterType&&this.scatterType.match(/bar/)){this.uW(aU[ai][0],aU[ai][1],aU[ai][2],am,ao)}else{if(this.scatterType&&this.scatterType.match(/dot/)){var X=ak?"image":Z;var S=ae+I[ai][0];var R=U+I[ai][1];var Q=Math.floor(this.cL(aQ[0],aQ[1],I[ai][2]));this.To({p:["drawShape",X,S,R,V,V,am,ab,W,false,false,false,false,false,false,ak],i:ao,t:"Data",h:this.ID(ao[0])});this.oj([ao[1]],S,R,V,V,aK)}else{var X=ak?"image":Z;var S=ae+I[ai][0];var R=U+I[ai][1];var Q=Math.floor(this.cL(aQ[0],aQ[1],I[ai][2]));this.To({p:["drawShape",X,S,R,V,V,am,ab,W,false,false,false,false,false,false,ak],i:ao,t:"Data",h:this.ID(ao[0])});this.oj([this.varIndices[ai]],S,R,V,V,aK);if(this.scatterType&&this.scatterType.match(/line/)){E[ai]=[I[ai][0],I[ai][1]]}else{if(this.connectBy){if(!this.connectByData[this.data.z[this.connectBy][ai]]){this.connectByData[this.data.z[this.connectBy][ai]]=[]}this.connectByData[this.data.z[this.connectBy][ai]].push([I[ai][0],I[ai][1]])}}}}}}}if(this.scatterType&&this.scatterType.match(/line/)&&E.length>0){for(var ai=0;ai<E.length-1;ai++){if(ay[ai]&&ay[ai+1]){var L=ae+E[ai][0];var w=U+E[ai][1];var K=ae+E[ai+1][0];var u=U+E[ai+1][1];this.To({p:["drawLine","line",L,w,K,u,this.colors[0]],t:"Data"})}}}else{if(this.connectBy){for(Y in this.connectByData){if(this.connectByData[Y].length>1){for(var ai=0;ai<this.connectByData[Y].length-1;ai++){var L=ae+this.connectByData[Y][ai][0];var w=U+this.connectByData[Y][ai][1];var K=ae+this.connectByData[Y][ai+1][0];var u=U+this.connectByData[Y][ai+1][1];this.To({p:["drawLine","line",L,w,K,u,this.connectByColor,this.connectByWidth],t:"Data"})}}}}}if(this.decorations&&this.decorations.marker){this.oz()}}};this.tW=function(){this.o2();this.c1()};this.Hn=function(){this.mU();this.Qz();this.tW();this.yJ();this.Xh();this.Pv(true);this.cs();this.Pv();this.On();this.p3()};this.iC=function(){if(this.layoutValid){this.X9(this.draw3DPlot)}else{this.Hn()}};this.UC=function(){this.iC()}};CanvasXpress.prototype.OneDPlot=function(){this.oK=function(){return this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight)};this.YH=function(){return this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom)};this.fr=function(c){var b=this.marginLeft+this.offsetX+this.left;if(this.isOncoprint&&this.showHeatmapOncoprint&&c&&this.oncoprintHeatmapPosition.match(/right|left/)){b+=(this.x/2)+(this.margin*1)}return b};this.PN=function(b){var c=this.marginTop+this.offsetY+this.top;if(this.isOncoprint&&this.showHeatmapOncoprint&&b&&this.oncoprintHeatmapPosition.match(/top|bottom/)){c+=(this.y/2)+(this.margin*1)}return c};this.Y7=function(c){var b=this.plotByVariable?this.rbs:this.blockSeparation+(this.rbs*c);if(this.layoutValid&&this.layoutGlobalGroups&&this.data.w&&this.meta.data&&this.meta.data.g&&!this.segregateVariablesBy.length){var a=[];for(var e=0;e<this.data.w.labs.length;e++){for(var d=0;d<this.meta.data.g.labs.length;d++){if(this.data.w.labs[e]==null||this.data.w.labs[e]==this.meta.data.g.labs[d]){a.push(d*b);break}}}return a.length?a:b}else{return b}};this.Md=function(b){var a=b&&this.layoutValid&&this.layoutGlobalGroups&&this.meta.data.g?this.meta.data.g.grpIdxs:this.isGraphTime?this.timeValueIndices:this.isGroupedData?this.grpIndices:this.isDOE&&this.isDOE>1?this.varIndices:this.smpIndices;return this.isCxplot&&this.Ir()?this.TU(a).reverse():this.TU(a)};this.PP=function(a){return a&&this.layoutValid&&this.layoutGlobalGroups&&this.meta.data.g?this.meta.data.g.labs:this.isGraphTime?this.timeValues:this.isGroupedData?this.data.w.smps:this.isDOE&&this.isDOE>1?this.data.y.vars:this.data.y.smps};this.RC=function(a){return a&&this.layoutValid&&this.layoutGlobalGroups&&this.meta.data.g?this.meta.data.g.labs:this.isGraphTime?this.timeValues:this.isGroupedData?this.data.w.smps:false};this.gF=function(c){if(c){if((this.graphType=="BarLine"||this.graphType=="DotLine")&&this.xAxis2Title){var b=this.wV("xAxis");var a=this.wV("xAxis2");return Math.max(b.length,a.length)}else{if(c==1&&this.graphType.match(/Stacked|Line|Area|Gantt/)){return 1}else{if(c==2&&this.graphType.match(/Stacked|Line|Area|Gantt|Meter/)){return 1}else{if(c==3&&this.graphType.match(/Stacked|Line|Area/)){return 1}else{if(c==4&&this.graphType.match(/Stacked|Line|Area|Heatmap/)){return 1}else{if(c<4){return this.varIndices.length}else{return this.plotByVariable?this.Md().length:this.variableBlock}}}}}}}else{if(this.graphType=="BarLine"||this.graphType=="DotLine"){var b=this.wV("xAxis");var a=this.wV("xAxis2");return Math.max(b.length,a.length)}else{if(this.graphType.match(/Stacked|Line|Area|ParallelCoordinates|Gantt/)){return 1}else{return this.plotByVariable?this.Md(true).length:(this.isDOE&&this.isDOE>1?1:this.varIndices.length)}}}};this.gT=function(){this.variableBlock=this.isDOE&&this.isDOE>1?1:this.motionBy?1:this.varIndices.length};this.Bo=function(){this.gT();var a=this.Md(true).length;var d=["Area","AreaLine","Heatmap","Line","ParallelCoordinates","Sankey","Stacked","StackedLine","StackedPercent","StackedPercentLine","Tree"];var b=0;var e=0;if(this.graphType=="Meter"){b=this.isMeterSummarized.rows;e=this.isMeterSummarized.cols}else{if(this.isOncoprint&&this.showHeatmapOncoprint){b=a*(this.oncoprintHeatmapPosition.match(/top|bottom/)?2:1);e=this.varIndices.length*(this.oncoprintHeatmapPosition.match(/right|left/)?2:1)}else{if(d.includes(this.graphType)){b=this.s9()&&this.heatmapType=="correlation"?this.varIndices.length:a;e=this.s9()?this.varIndices.length:1}else{if(this.graphType=="BarLine"||this.graphType=="DotLine"){b=Math.max(this.xAxis.length,this.xAxis2.length)*a;e=1}else{if(this.graphType=="Treemap"||this.graphType=="TagCloud"){b=1;e=1}else{if(this.graphType=="Gantt"){b=a;e=1}else{b=(this.isDOE&&this.isDOE>1?1:this.motionBy?1:this.varIndices.length)*a;e=1}}}}}}this.rowBlocks=b;this.colBlocks=e};this.u2=function(){if(this.autoScaleFont){var g=1-this.percentAspectRatioPlotArea;var a=this.graphType=="Meter"?this.isMeterSummarized.width*g:this.layoutComb&&this.isDOE?this.layoutWidth*g:this.width*g;var h=this.graphType=="Meter"?this.isMeterSummarized.height*g:this.layoutComb&&this.isDOE?this.layoutHeight*g:this.height*g;var e=this.s9()?Math.ceil(this.width/this.colBlocks):this.maxTextSize;var f=this.s9()?Math.ceil(this.height/this.rowBlocks):Math.ceil(this.width/this.colBlocks);var b=this.zn();var c=this.zn(true);this.lV(b.length>c.length?b:c,this.Qc()?h:a,"x");this.gV(this.Qc()?h:a,"dataTextFont");this.gV(this.s9()?h:a,"varTitleFont");this.gV(this.s9()?h:a,"varTextFont",e);this.gV(this.s9()?a:this.Qc()?a:h,"smpTitleFont");this.gV(this.s9()?a:this.Qc()?a:h,"smpTextFont",f);if(this.isCxplot){if(this.xAxisTitleFontSize<this.smpTitleFontSize){this.smpTitleFont=this.smpTitleFontStyle+" "+this.xAxisTitleFontSize+"px "+this.fontName;this.smpTitleFontSize=this.xAxisTitleFontSize}else{if(this.xAxisTitleFontSize>this.smpTitleFontSize){this.xAxisTitleFont=this.xAxisTitleFontStyle+" "+this.smpTitleFontSize+"px "+this.fontName;this.xAxisTitleFontSize=this.smpTitleFontSize}}}this.gV((1-this.percentAspectRatioPlotArea)*(this.Qc()?this.width:this.height),"overlayTextFont",this.overlaysThickness);if(this.graphType=="Tree"){this.smpTextFont=this.smpTextFontStyle+" "+parseInt(Math.min(this.treeNodeSize+5,this.smpTextFontSize)*this.smpTextScaleFontFactor)+"px "+this.fontName}}};this.rP=function(v){var s=this;var c={};var n=this[v+"Overlays"];var f=this[v+"OverlayProperties"];var g=v=="smp"?this.data.x:this.data.z;var d=v=="smp"?this.meta.data.x:this.meta.data.z;var u=(v=="var")||(v=="smp"&&this.Qc())?["Bottom","Top"]:["Left","Right"];var t=function(){for(var a=0;a<n.length;a++){if(n[a]!="-"&&g.hasOwnProperty(n[a])){if(!f[n[a]]){f[n[a]]={}}if(!f[n[a]]["type"]){f[n[a]]["type"]=d[n[a]]["boolean"]?"Boolean":"Default"}if(!f[n[a]]["color"]){f[n[a]]["color"]=s.colors[a]}if(!f[n[a]]["spectrum"]){f[n[a]]["spectrum"]=s.colorSpectrum}if(d[n[a]].type=="Numeric"&&!s.gS(f[n[a]]["spectrum"],d[n[a]].colorBrew.spectrum)){d[n[a]].colorBrew=s.dl(f[n[a]]["spectrum"],f[n[a]]["setMin"]||d[n[a]].rmin,f[n[a]]["setMax"]||d[n[a]].rmax,f[n[a]]["zeroValue"]||null,f[n[a]]["breaks"]||[],true)}if(!f[n[a]]["scheme"]){f[n[a]]["scheme"]=s.colorScheme}if(!f[n[a]].hasOwnProperty("hideName")){f[n[a]]["hideName"]=false}if(!f[n[a]].hasOwnProperty("hideValue")){f[n[a]]["hideValue"]=false}if(!f[n[a]].hasOwnProperty("showLegend")){f[n[a]]["showLegend"]=true}if(!f[n[a]].hasOwnProperty("legendColumns")){f[n[a]]["legendColumns"]=false}if(!f[n[a]].hasOwnProperty("showBox")){f[n[a]]["showBox"]=true}if(!f[n[a]].hasOwnProperty("ticksOnBottomOrLeft")){f[n[a]]["ticksOnBottomOrLeft"]=true}if(!f[n[a]].hasOwnProperty("rotate")){f[n[a]]["rotate"]=false}if(!f[n[a]].hasOwnProperty("invert")){f[n[a]]["invert"]=false}if(f[n[a]]["scheme"]!=s.colorScheme){if(CanvasXpress.colorSchemes.hasOwnProperty(f[n[a]]["scheme"])){s.Ix(f[n[a]]["scheme"],n[a],v=="smp"?"x":"z",true)}}if(!f[n[a]]["position"]){if(s.graphType=="Heatmap"||s.graphOrientation=="horizontal"){f[n[a]]["position"]=v=="smp"?"left":"bottom"}else{f[n[a]]["position"]="bottom"}}else{if((v=="var")||(v=="smp"&&s.graphOrientation=="vertical")){if(!f[n[a]]["position"].match(/top|bottom/)){f[n[a]]["position"]=f[n[a]]["position"]=="rigth"?"top":"bottom"}}else{if(!f[n[a]]["position"].match(/left|right/)){f[n[a]]["position"]=f[n[a]]["position"]=="top"?"right":"left"}}}}}};var q=function(){var w=[];var k=[];var x={};var y=false;var a=false;for(var p=0;p<n.length;p++){if(n[p]!="-"){y=n[p];if(!a){a=n[p]}}if(n[p]=="-"&&y){if(!x.hasOwnProperty(y)){x[y]=[]}x[y].push(n[p])}}for(var p=0;p<n.length;p++){if(n[p]!="-"&&f[n[p]]["position"].match(/left|bottom/)){w.push(n[p])}}for(var p=0;p<n.length;p++){if(n[p]!="-"&&f[n[p]]["position"].match(/right|top/)){w.push(n[p])}}for(var p=0;p<w.length;p++){y=w[p];k.push(y);if(x.hasOwnProperty(y)){for(var m=0;m<x[y].length;m++){k.push(x[y][m])}}}y=n.shift();if(y=="-"){for(var p=0;p<k.length;p++){if(k[p]==a){while(y=="-"){k.splice(p,0,y);y=n.shift()}break}}}n=k;s[v+"Overlays"]=k};if(this.isDOE){}else{t();q()}this[v+"OverlaysStrLength"]=0;for(var o=0;o<u.length;o++){var b=u[o].toLowerCase();var r=false;this[v+"OverlaysThickness"+u[o]]=0;if(this.showOverlays&&n.length>0){if(v=="smp"){if(this.graphType=="Treemap"||this.graphType=="TagCloud"){continue}}else{if(v=="var"){if(!this.s9()){continue}}else{continue}}for(var l=0;l<n.length;l++){if(n[l]=="-"){if(l>0&&r==b){this[v+"OverlaysThickness"+u[o]]+=this.margin}}else{if(!c.hasOwnProperty(n[l])){r=f[n[l]]["position"];if(r==b){var e=this.TW(v,f[n[l]]["type"],b,n[l]);this[v+"OverlaysThickness"+u[o]]+=f[n[l]]["thickness"]||this.overlaysThickness;for(var h=0;h<e.length;h++){this[v+"OverlaysStrLength"]=Math.max(this[v+"OverlaysStrLength"],this.pb(this.Aj(e[h],this.maxOverlayStringLen),this.overlayTextFont)+this.margin);c[e[h]]=true}}}}}if(this[v+"OverlaysThickness"+u[o]]>0){this[v+"OverlaysThickness"+u[o]]+=this.margin}}}};this.TW=function(g,d,j,e){var a=[];var k=g=="smp"?this.smpOverlayProperties:this.varOverlayProperties;var f=g=="smp"?this.smpOverlays:this.varOverlays;for(var h=0;h<f.length;h++){var c=f[h];if(c!="-"&&k.hasOwnProperty(c)){var l=k[c]["type"];var b=k[c]["position"];if(j.match(/left|bottom/)&&!b.match(/left|bottom/)){continue}else{if(j.match(/top|right/)&&!b.match(/top|right/)){continue}}if(d.match(/Area|AreaLine/)&&l.match(/Area|AreaLine/)){a.push(c)}else{if(d.match(/Bar|BarLine/)&&l.match(/Bar|BarLine/)){a.push(c)}else{if(d.match(/Dotplot|DotLine/)&&l.match(/Dotplot|DotLine/)){a.push(c)}else{if(d=="Line"&&l=="Line"){a.push(c)}else{if(d.match(/Heatmap|Default|Text|Boolean/)){return[e]}else{if(d=="Pie"&&l=="Pie"){a.push(c)}else{if(d=="Treemap"&&l=="Treemap"){a.push(c)}else{if((d=="StackedPercent"||d=="StackedPercentLine")&&(l=="StackedPercent"||l=="StackedPercentLine")){a.push(c)}else{if((d=="Stacked"||d=="StackedLine")&&(l=="Stacked"||l=="StackedLine")){a.push(c)}else{if(d=="Boxplot"){a.push(c)}}}}}}}}}}}}return a};this.aZ=function(){if(this.varTitle&&this.graphType!="Treemap"&&this.graphType!="TagCloud"){return this.varTitleFontSize+this.margin}else{return 0}};this.IP=function(){if(this.showVariableNames&&this.graphType!="Treemap"&&this.graphType!="TagCloud"){if(this.varTextRotate){if(Math.abs(this.varTextRotate)==90){return this.varTextFontSize+this.margin}else{var a=this.pb(this.Aj(this.meta.data.y.maxVarStr,this.maxVarStringLen),this.varTextFont)+this.margin;return Math.cos(this.MC(this.varTextRotate))*a}}else{if(this.isOncoprint&&this.varTextFontSize<5){return 0}else{return this.pb(this.Aj(this.meta.data.y.maxVarStr,this.maxVarStringLen),this.varTextFont)+this.margin}}}else{return 0}};this.i7=function(){if(this.smpTitle&&this.graphType!="Treemap"&&this.graphType!="TagCloud"&&this.graphType!="Sankey"&&this.graphType!="Tree"){return this.smpTitleFontSize+this.margin}else{return this.margin}};this.Q1=function(){if(this.smpTextScaleFontFactor<=1.5){return 1}else{if(this.smpTextScaleFontFactor<=2.5){return 1.2}else{if(this.smpTextScaleFontFactor<=4.5){return 1.5}else{return 1.6}}}};this.WT=function(){if(this.showSampleNames&&this.graphType!="Treemap"&&this.graphType!="TagCloud"&&this.graphType!="Sankey"){var a;if(this.smpTextRotate&&Math.abs(this.smpTextRotate)==90){if(this.isGroupedData){a=this.tO(this.meta.data.w.maxSmpStr)?(this.meta.data.w.maxSmpStr.toString()[0].split(" :: ")).length:(this.meta.data.w.maxSmpStr.toString().split(" :: ")).length;return a*(this.smpTextFontSize+this.margin)}else{return this.smpTextFontSize+this.margin}}else{if(this.layoutValid&&!this.layoutAdjust){if(this.isDOE&&this.isGroupedData&&!this.meta.data.g&&this.data.w.smps){a=this.pQ(this.data.w.smps)}else{if(this.isGroupedData&&this.meta.data.g&&this.colorBy&&this.groupingFactors.length==2&&this.groupingFactors[1]==this.colorBy){a=this.pQ(this.meta.data.x[this.colorBy].levels)}else{a=this.isGroupedData&&this.meta.data.g?this.pQ(this.meta.data.g.labs):this.meta.data.y.maxSmpStr}}}else{if(this.isGraphTime){a=this.pQ(this.timeValues)}else{a=this.isGroupedData?this.meta.data.w.maxSmpStr:this.meta.data.y.maxSmpStr}}if(a.length>this.maxSmpStringLen){a=this.pb(a.substring(0,this.maxSmpStringLen),this.smpTextFont)+(this.margin*2)}else{a=this.pb(a,this.smpTextFont)+(this.margin*2)}a=this.smpTextRotate?a*(Math.cos(this.MC(this.smpTextRotate%90)))*this.Q1():a;return a+this.margin+(this.smpTextRotate?this.smpTextFontSize:0)}}else{return 0}};this.qr=function(a){var b=a?"xAxis2Title":"xAxisTitle";if(this.layoutConfig&&this.layoutConfig[this.layoutCurrent]&&this.layoutConfig[this.layoutCurrent][b]){return this.xAxisTitleFontSize}else{return 0}};this.kr=function(r,d){var c=this.isDOE&&this.graphType=="Meter";if(this.graphType=="Treemap"||this.graphType=="TagCloud"||this.graphType=="Sankey"||this.graphType=="Tree"){return 0}else{if(this.Qc()&&!c){var h,p,g,b;var k=4;if(((this.xAxisTransform&&this.xAxisTransform.match(/log|exp/))||(this.isTransformedData&&this.isTransformedData.match(/log|exp/)))&&!this.xAxisTransformTicks){var o=this.xAxisValues;var n=this.xAxis2Values;var q=[];for(var e=0;e<o.length;e++){var a=o[e];q.push(this.gG(this.Jb(this.xAxisTransform||this.isTransformedData,a,true)))}g=this.pQ(q);var l=[];for(var e=0;e<n.length;e++){var a=n[e];l.push(this.Jb(this.xAxis2Transform||this.isTransformedData,a,true))}b=this.pQ(l)}else{g=this.xAxisMaxStrLength;b=this.xAxis2MaxStrLength}if(this.layoutValid){if(this.xAxisLayoutMaxTickStr){g=this.xAxisLayoutMaxTickStr}if(this.xAxis2LayoutMaxTickStrLength){b=this.xAxis2LayoutMaxTickStr}}if(this.graphType=="ParallelCoordinates"){if(this.smpTextRotate){if(this.smpTextRotate==90){h=Math.max(this.parallelCoordinates[0].len,this.parallelCoordinates[0].lenSmp/2)}else{h=Math.max(this.parallelCoordinates[0].len,this.parallelCoordinates[0].lenSmp*(Math.sin(this.MC(this.smpTextRotate))))}}else{h=this.parallelCoordinates[0].len}}else{if(this.graphType=="BarLine"||this.graphType=="DotLine"){h=r?this.pb(b,this.xAxisTextFont):this.pb(g,this.xAxisTextFont)}else{h=this.pb(g,this.xAxisTextFont)}}p=r?this.zn(true):this.zn();p=this.layoutValid?this.qr(r):p!=""?this.xAxisTitleFontSize:0;if(d){p=0}if(r){if(this.graphType=="ParallelCoordinates"){if(this.smpTextRotate&&this.smpTextRotate==90){return(this.parallelCoordinates[this.parallelCoordinates.length-1].lenSmp)/2}else{return 0}}else{return this.xAxis2Show?p+h+(this.margin*k):0}}else{if(this.graphType=="ParallelCoordinates"){return p+h+(this.margin*(this.isDOE?0:k))}else{return this.xAxisShow?p+h+(this.margin*k):0}}}else{var k=4;p=r?this.zn(true):this.zn();p=this.layoutValid?this.qr(r):p!=""?this.xAxisTitleFontSize:0;if(d){p=0}if(r){return this.xAxis2Show?p+(this.xAxisTextFontSize+(this.margin*k)*(this.graphType=="Gantt"?2:1)):0}else{return this.xAxisShow?p+(this.xAxisTextFontSize+(this.margin*k)*(this.graphType=="Gantt"?2:1)):0}}}};this.j0=function(){if(this.showHeatmapIndicator){var a=this.p6();var b=this.xAxisTitle?this.pb(this.xAxisTitle,this.legendTextFont):0;if(this.heatmapIndicatorPosition=="right"){return Math.max(b,this.heatmapIndicatorHeight+(this.legendTextMargin*2)+a.maxLevLen)+(this.margin*2)}else{return Math.max(b,this.heatmapIndicatorWidth+a.maxLevLen)+(this.margin*2)}}else{return 0}};this.QH=function(a){if(this.showHeatmapIndicator){var c=(this.legendTextMargin*2)+this.rk(this.legendTextFont);var b=this.xAxisTitle?(this.legendTextMargin*2)+this.rk(this.legendTextFont):0;if(a&&this.isMultidimensionalData&&this.heatmapIndicatorPosition=="bottom"){return this.legendInside?0:this.heatmapIndicatorHeight+b+c}else{return this.heatmapIndicatorHeight+b+c}}else{return 0}};this.Tc=function(d){var b=this.isOncoprint&&d=="bottom"?this.legend.oncoprint.height:0;var a=this.showLegend&&this.legendPosition==d&&!this.legendInside;var c=(this.showVarOverlaysLegend||this.showSmpOverlaysLegend)&&this.overlaysLegendPosition.match(/bottom/i);if(this.s9()&&!this.isMultidimensionalData&&!this.Pc()){if(a){b+=this.legend.height}if(c){b+=this.legend.overlays.height}}else{if(this.isMultidimensionalData||(this.Pc()&&CanvasXpress.graphTypes.AttGraphs.includes(this.graphType))){if(a){b+=this.legend.height}if(c){b+=this.legend.overlays.height}}else{if(this.graphType=="Treemap"){}else{if(a){b+=this.legend.variable.height+this.margin}if(c){b+=this.legend.overlays.height}}}}return b};this.Bz=function(d){var b=0;var a=this.showLegend&&this.legendPosition.toLowerCase().match(d?d.toLowerCase():"")&&!this.legendInside;var c=(this.showVarOverlaysLegend||this.showSmpOverlaysLegend)&&this.overlaysLegendPosition.toLowerCase().match(d?d.toLowerCase():"")&&(this.smpOverlays.length>0);if(this.s9()&&!this.isMultidimensionalData&&!this.Pc()){if(a){b+=this.legend.width;if(c){}}}else{if(this.isMultidimensionalData||(this.Pc()&&CanvasXpress.graphTypes.AttGraphs.includes(this.graphType))){if(a){b+=this.legend.width}if(c){b+=this.legend.overlays.width}}else{if(this.graphType=="Treemap"){}else{if(a){b+=this.legend.variable.width+this.margin}if(c){b+=this.legend.overlays.width}}}}return b};this.qX=function(){var a=0;if(this.s9()&&this.showVarDendrogram&&this.varDendrogram){a=this.dendrogramHeight+this.margin}return a};this.yo=function(){var a=0;if(this.showSmpDendrogram&&this.smpDendrogram&&!this.isGroupedData&&this.graphType!="Treemap"&&this.graphType!="TagCloud"){a=this.dendrogramHeight+this.margin}else{a=this.margin}return a};this.uE=function(){var d=0;if(this.smpOverlays.length>0&&!this.isDOE){var b=this.meta.data.x;var c=[];for(var f=0;f<this.smpOverlays.length;f++){var h=this.smpOverlays[f];if(h!="-"){var g=this.smpOverlayProperties[h].position;var e=this.smpOverlayProperties[h].type;if(g.match(/left|right/i)&&!e.match(/text|default|increase|decrease/i)){c.push(b[h].min);c.push(b[h].max)}}}d=this.pb(this.pQ(c),this.overlayTextFont)}return d?d+(this.margin*3):0};this.EH=function(d){var b=0;var e=d=="smp"?this.smpOverlays:this.varOverlays;var f=d=="smp"?this.smpOverlayProperties:this.varOverlayProperties;if(d&&e&&this.showNameOverlays){var a=d=="smp"?this.meta.data.x:this.meta.data.z;for(var c=0;c<e.length;c++){var g=e[c];if(g!="-"&&!f[g].hideName){b=Math.max(b,a[g].len)}}}return b};this.V8=function(){return this.pb(this.hierarchy[0],this.smpTextFont)};this.Ef=function(){var a=0;if(this.graphType=="Tree"&&!this.treeInverted&&this.treeType!="circular"){a=this.pb(this.data.tree.data.name,this.smpTitleFont)+(this.data.tree.data.size||10)+this.margin}else{if(this.Qc()){a=this.kr(false,this.layoutValid);if(this.isDOE){a+=this.margin}else{}if(this.isGraphTime){}}else{if(this.isDOE){a+=this.margin*2}if(this.smpOverlaysThicknessLeft&&this.showOverlays){a+=this.smpOverlaysThicknessLeft||0}if(this.smpTitleLabelPosition=="left"){if(this.s9()&&this.heatmapType=="correlation"){a+=this.IP()+this.aZ()}else{a+=this.i7()+this.WT()}}if(this.smpDendrogramPosition=="left"){if(this.s9()&&this.heatmapType=="correlation"){a+=this.qX()}else{a+=this.yo()}}if(this.graphType.match(/StackedPercent/)){a+=(this.pb("0",this.xAxisTextFont)/2)+this.margin}}}a+=this.margin+this.Bz("left");if(this.layoutValid&&(this.layoutCollapse||(this.layoutType=="cols"&&this.Ir()))&&this.layoutType!="wrap"){a-=this.margin*1;if(this.layoutCollapse){a-=this.margin*1}}if(!this.s9()){this.left=Math.max(a,this.uE())}else{this.left=a}};this.iZ=function(){var a=0;if(this.Qc()){a=this.kr(true,this.layoutValid);if(this.isDOE){a=this.margin*3}else{}if(this.isGraphTime){}}else{if(this.isDOE){a=this.margin*2}else{if(this.smpOverlaysThicknessRight&&this.showOverlays){a+=this.smpOverlaysThicknessRight||0}if(this.graphType=="Tree"||this.smpTitleLabelPosition=="right"){a+=this.i7()+this.WT()}if(this.smpDendrogramPosition=="right"){a+=this.yo()}if(this.graphType.match(/StackedPercent/)&&this.xAxis2Show){a+=(this.pb("100",this.xAxisTextFont)/2)+this.margin}}}if(!this.isDOE){a+=this.margin+this.Bz("right")}if(this.layoutValid&&(this.layoutCollapse||(this.layoutType=="cols"&&this.Ir()))&&this.layoutType!="wrap"){a-=this.margin}if(this.heatmapMarkers){a+=this.heatmapMarkers.width+(this.margin*6)}if(this.s9()&&this.heatmapIndicatorPosition=="right"&&!this.isDOE){a+=this.j0()}if(this.s9()&&this.showOverlays&&this.varOverlays.length&&!this.isOncoprint){a=Math.max(a,this.varOverlaysStrLength)}else{if(this.Qc()&&this.smpOverlays.length&&this.showOverlays){a=Math.max(a,this.smpOverlaysStrLength)}}this.right=a};this.mf=function(){var b=this.SP();b+=this.margin+this.Tc("top");if(this.isDOE){b=this.margin*5}else{if(this.Pi()){b+=(this.stripThickness*(this.segregateVariablesBy.length+this.segregateSamplesBy.length))-this.margin}}if(this.Qc()){b+=this.smpOverlaysThicknessTop||0;if(this.smpDendrogramPosition=="top"||this.smpDendrogramPosition=="left"){b+=this.yo()}if(this.graphType=="Tree"){b+=this.smpTextFontSize}}else{if(this.s9()){var a=this.layoutValid||this.isOncoprint?this.margin:this.QH();var c=0;if(this.varOverlaysThicknessTop&&this.showOverlays){c+=this.varOverlaysThicknessTop||0}if(this.varTitleLabelPosition=="top"){c+=this.aZ()+this.IP()}if(this.varDendrogramPosition=="top"){c+=this.qX()}this.heatmapIndicatorY=b+c;this.heatmapIndicatorOverlap=false;if(!this.isOncoprint){if(this.heatmapIndicatorPosition=="right"){b+=c}else{if(this.heatmapIndicatorPosition=="top"){b+=c+a}else{if(this.heatmapIndicatorPosition=="topLeft"){if((this.left>(this.heatmapIndicatorWidth+(this.margin*12)))){b+=c+(this.heatmapIndicatorHeight-(b/2.5))}else{this.heatmapIndicatorY=c+a-(this.heatmapIndicatorHeight-(b/2.5));this.heatmapIndicatorOverlap=true;b+=c+a}}else{if(this.heatmapIndicatorPosition=="topRight"){if(this.right>(this.heatmapIndicatorWidth+(this.margin*6))){b+=c}else{this.heatmapIndicatorY=c+(this.heatmapIndicatorHeight-(b/2.5));this.heatmapIndicatorOverlap=true;b+=c+a}}}}}}}else{b+=this.kr()}}if(this.layoutValid&&(this.layoutCollapse||(this.layoutType=="cols"&&this.Ir()))&&this.layoutType!="wrap"){b-=this.margin*1}if(!this.s9()){this.top=Math.max(b,this.uE())}else{this.top=b}};this.Ko=function(){var a=0;if(this.isDOE){a+=this.isDOE>1?0:this.margin*3}if(this.Qc()){a+=this.i7()+this.WT()+(this.smpOverlaysThicknessBottom||0);if(this.graphType=="Sankey"&&this.sankeyTitleShow&&!this.sankeySource&&!this.sankeyTarget){a+=this.sankeyTitleFontSize+this.margin}if(this.smpDendrogramPosition=="bottom"){a+=this.yo()}}else{if(this.s9()){if(this.varOverlaysThicknessBottom&&this.showOverlays){a+=this.varOverlaysThicknessBottom||0}if(this.varTitleLabelPosition=="bottom"){a+=this.IP()+this.aZ()}if(this.varDendrogramPosition=="bottom"){a+=this.qX()}if(this.isUpSet){a+=this.overlayTextFontSize*4}}else{a+=this.kr(true)}}a+=this.margin+this.Tc("bottom");if(this.mE()){a-=this.margin}if(this.Ir()&&this.showOverlays&&this.smpOverlays.length){a=Math.max(a,this.smpOverlaysStrLength)}if(!this.layoutValid&&this.citation){a+=this.l0()}if(this.motionBy){a+=40}this.bottom=a};this.TN=function(){var a=this.meta.config.orig;if(!a.legendTextFontSize&&this.adjustAspectRatio){a.legendTextFontSize=this.legendTextFontSize}if(this.legendTextFontSize>3){this.legendTextFontSize-=2}};this.nL=function(){if(this.adjustAspectRatio){var b=this.meta.config.orig;this.smpTextFontSize=parseInt(this.smpTextFontSize*0.8);var a=Math.min(Math.max(parseInt(this.smpTextFontSize*this.smpTextScaleFontFactor),this.minTextSize),this.maxTextSize);if(this.smpTextFontSize<this.minTextSize){if(this.s9()){if(this.rbs&&a>this.rbs){if(!b.showSampleNames){b.showSampleNames=this.showSampleNames;this.showSampleNames=false}}}else{if(!b.showSampleNames){b.showSampleNames=this.showSampleNames;this.showSampleNames=false}}}this.smpTextFont=this.smpTextFontStyle+" "+a+"px "+this.fontName}};this.TP=function(){if(this.adjustAspectRatio){var a=this.meta.config.orig;this.varTextFontSize=parseInt(this.varTextFontSize*0.8);if(this.varTextFontSize<this.minTextSize){if(!a.showVariableNames){a.showVariableNames=this.showVariableNames;this.showVariableNames=false}}this.varTextFont=this.varTextFontStyle+" "+Math.min(Math.max(parseInt(this.varTextFontSize*this.varTextScaleFontFactor),this.minTextSize),this.maxTextSize)+"px "+this.fontName}};this.LK=function(){var a=this.layoutComb?this.layoutHeight*this.percentAspectRatioPlotArea:this.height*this.percentAspectRatioPlotArea;var b=this.meta.config.orig;while(this.adjustAspectRatioYTries<=this.adjustAspectRatioMax&&this.y<a){this.TN();if(!this.layoutComb){this.U6()}this.TP();if(!this.s9()){this.nL()}this.mf();this.Ko();this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom);if(this.adjustAspectRatioYTries==this.adjustAspectRatioMax&&this.y<a){if(this.showLegend&&(this.legendPosition=="top"||this.legendPosition=="bottom")&&!this.legendInside){b.showLegend=this.showLegend;this.showLegend=false;this.u2()}this.mf();this.Ko();this.y=this.layoutComb?this.layoutHeight-(this.top+this.bottom):this.height-(this.marginTop+this.top+this.bottom+this.marginBottom);if(this.y<a){this.errors.push("The text size doesn't fit in the graph. Either make it smaller or make the graph bigger!\nYou can also reduce the maximum length for the text string!")}}this.adjustAspectRatioYTries++}};this.ar=function(){var a=this.layoutComb?this.layoutWidth*this.percentAspectRatioPlotArea:this.width*this.percentAspectRatioPlotArea;var b=this.meta.config.orig;while(this.adjustAspectRatioXTries<=this.adjustAspectRatioMax&&this.x<a){this.TN();if(!this.layoutComb){this.U6()}if(!this.s9()){this.TP()}this.nL();this.Ef();this.iZ();this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight);if(this.adjustAspectRatioXTries==this.adjustAspectRatioMax&&this.x<a){if(this.showLegend&&(this.legendPosition.toLowerCase().match("right")||this.legendPosition.toLowerCase().match("left"))&&!this.legendInside){b.showLegend=this.showLegend;this.showLegend=false;this.u2()}this.Ef();this.iZ();this.x=this.layoutComb?this.layoutWidth-(this.left+this.right):this.width-(this.marginLeft+this.left+this.right+this.marginRight);if(this.x<a){this.errors.push("The text size doesn't fit in the graph. Either make it smaller or make the graph bigger!\nYou can also reduce the maximum length for the text string!")}}this.adjustAspectRatioXTries++}};this.x3=function(){var e=this.margin;this.margin=Number(Math.max(0.5,Math.min(this.isMeterSummarized.width,this.isMeterSummarized.height)*8/833).toFixed(1));var d=2;var b=this.kr()+(this.margin*d);var c=this.isMeterSummarized.width;var a=this.isMeterSummarized.height;this.left=b;this.right=b;this.top=(this.margin*d);this.bottom=(this.margin*d);if(this.meterType=="state"){this.left=(c-this.meterThickness)/2.5;this.right=this.left;this.top=(a-this.meterThickness)/2.5;this.bottom=this.top}else{if(this.meterType=="horizontal"){this.top=(a-this.meterThickness)/2.25;this.bottom=this.top}else{if(this.meterType=="vertical"){this.left=(c-this.meterThickness)/2.25;this.right=this.left}}}this.x=c-(this.left+this.right);this.y=a-(this.top+this.bottom);this.margin=e};this.dJ=function(){var b=this.layoutComb?this.layoutWidth*this.percentAspectRatioPlotArea:this.width*this.percentAspectRatioPlotArea;var a=this.layoutComb?this.layoutHeight*this.percentAspectRatioPlotArea:this.height*this.percentAspectRatioPlotArea;if(this.isGraphTime){this.cM()}if(!this.layoutComb){this.U6()}this.Bo();this.u2();if(this.graphType=="Meter"){this.x3()}else{if(this.Qc()){this.mf();this.Ko();if(this.setPlotY){this.y=this.setPlotY;if(this.setPlotTop){this.top=this.setPlotTop;this.bottom=this.height-(this.y+this.top)}else{this.top=(this.height-this.y)/2;this.bottom=this.top}}else{if(this.adjustAspectRatio){this.y=this.YH();if(this.y<a){this.LK()}}}this.Ef();this.iZ();if(this.setPlotX){this.x=this.setPlotX;if(this.setPlotLeft){this.left=this.setPlotLeft;this.right=this.width-(this.x+this.left)}else{this.left=(this.width-this.x)/2;this.right=this.left}}else{if(this.adjustAspectRatio){this.x=this.oK();if(this.x<b){this.ar()}}}}else{this.Ef();this.iZ();if(this.setPlotX){this.x=this.setPlotX;if(this.setPlotLeft){this.left=this.setPlotLeft;this.right=this.width-(this.x+this.left)}else{this.left=(this.width-this.x)/2;this.right=this.left}}else{if(this.adjustAspectRatio){this.x=this.oK();if(this.x<b){this.ar()}}}this.mf();this.Ko();if(this.setPlotY){this.y=this.setPlotY;if(this.setPlotTop){this.top=this.setPlotTop;this.bottom=this.height-(this.y+this.top)}else{this.top=(this.height-this.y)/2;this.bottom=this.top}}else{if(this.adjustAspectRatio){this.y=this.YH();if(this.y<a){this.LK()}}}}}if(this.motionBy&&!this.reproducing){this.py()}};this.RK=function(){var a=this.isGraphTime?this.timeValueIndices.length:this.isGroupedData?this.grpIndices.length:this.smpIndices.length;this.rbs=(this.graphType=="Boxplot"?1:this.widthFactor)*(this.I6(this.rowBlocks)+this.scaleTextConstantAdd);if(this.s9()){if(this.colBlocks<20){this.cbs=this.I6(this.colBlocks)+(this.scaleTextConstantAdd*4)}else{this.cbs=(parseInt(1/Math.sqrt(this.colBlocks)*this.scaleTextConstantMult))+1}this.cbs*=this.graphType=="Boxplot"?1:this.widthFactor;this.blockSeparation=this.rbs/2;this.y=(this.rbs*this.rowBlocks)+(this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition.match(/top|bottom/)?(this.margin*3):0);this.x=(this.cbs*this.colBlocks)+(this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition.match(/right|left/)?(this.margin*3):0)}else{this.blockSeparation=this.rbs;if(this.Qc()){if(this.IE()){this.x=(this.rbs*(this.rowBlocks-1))+(this.blockSeparation*(a-1))}else{if(this.plotByVariable){this.x=(this.rbs*this.rowBlocks)+(this.blockSeparation*this.variableBlock)+this.blockSeparation}else{this.x=(this.rbs*this.rowBlocks)+(this.blockSeparation*a)+this.blockSeparation}}this.y=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom)}else{if(this.IE()){this.y=(this.rbs*(this.rowBlocks-1))+(this.blockSeparation*(a-1))}else{if(this.plotByVariable){this.y=(this.rbs*this.rowBlocks)+(this.blockSeparation*this.varIndices.length)+this.blockSeparation}else{this.y=(this.rbs*this.rowBlocks)+(this.blockSeparation*a)+this.blockSeparation}}this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight)}this.cbs=1}this.width=this.marginLeft+((this.left+this.x+this.right)*this.layoutCols)+this.marginRight;this.height=this.marginTop+((this.top+this.y+this.bottom)*this.layoutRows)+this.marginBottom;this.Hr()};this.We=function(){var e=this.Md(true).length;var a=0;var f=0;if(this.s9()){if(this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition.match(/right|left/)){a=this.margin*6}if(this.plotInfo&&this.plotInfo.variableSplitsN){a=this.splitSeparation*this.plotInfo.variableSplitsN}if(this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition.match(/top|bottom/)){f=this.margin*6}if(this.plotInfo&&this.plotInfo.sampleSplitsN){f=this.splitSeparation*this.plotInfo.sampleSplitsN}this.rbs=(this.y-f)/this.rowBlocks;this.blockSeparation=this.rbs;this.cbs=(this.x-a)/this.colBlocks}else{if(this.plotInfo&&this.plotInfo.sampleSplitsN){f=this.splitSeparation*this.plotInfo.sampleSplitsN;a=this.splitSeparation*this.plotInfo.sampleSplitsN}if(this.IE()){this.rbs=this.Qc()?(this.x-a)/(this.rowBlocks+e-2):(this.y-f)/(this.rowBlocks+e-2);this.blockSeparation=this.rbs}else{if(this.plotByVariable){var c=this.Qc()?(this.x-a):(this.y-f);var b=this.rowBlocks+this.varIndices.length;var d=c/b;this.blockSeparation=d/this.widthFactor;this.rbs=(c-(this.blockSeparation*this.varIndices.length))/this.rowBlocks}else{var c=this.Qc()?(this.x-a):(this.y-f);var b=this.rowBlocks+e;var d=c/b;this.blockSeparation=d/this.widthFactor;this.rbs=(c-(this.blockSeparation*e))/this.rowBlocks}}this.cbs=1}};this.sl=function(){var a=100000;if(!this.adjustAspectRatio){this.RK()}else{this.We()}this.rbs=Math.max(1,Math.floor(this.rbs*a))/a;this.cbs=Math.max(1,Math.floor(this.cbs*a))/a;this.blockSeparation=Math.floor(this.blockSeparation*a)/a};this.m9=function(g,i,b,e,a,d){var f=[];for(var c in g){f.push({area:g[c],index:-1,label:c,color:i.type=="Numeric"?this.PW(i.colorBrew,g[c]):i.colors[i.order[c]]})}return this.TG(f,{width:b,height:e,left:a,top:d})};this.rH=function(e,g){var k=this;var m=function(y,q,u,t){if(y.length>1){if(q+1<k.treemapBy.length){q++;a=k.FP(k.treemapBy[q],y);for(var v=0;v<a.length;v++){n=v;var z=k.MJ(k.treemapBy[q],a[n],y);var r=m(z,q,u,[]);u+=isNaN(r[1])?0:r[1];t.push({area:u,index:-1,label:a[n],outline:2,children:r[0]})}}else{for(var v=0;v<y.length;v++){var w=y[v];var s=k.Cb(e,w,"sum",k.xAxisTransform,k.xAxisFloorValue,k.xAxisCeilValue,k.xAxisFactorValue);var x=k.data.y.smps[w];s=isNaN(s)?0:s;u+=s;t.push({area:s,color:k.wn(e,w,"colorBy"),pattern:k.wn(e,w,"patternBy"),label:x,index:[e,w]})}}}else{var w=y[0];var s=k.Cb(e,w,"sum",k.xAxisTransform,k.xAxisFloorValue,k.xAxisCeilValue,k.xAxisFactorValue);s=isNaN(s)?0:s;u+=s;t.push({area:s,color:k.wn(e,w,"colorBy"),pattern:k.wn(e,w,"patternBy"),label:k.data.y.smps[w],index:[e,w]})}return[t,u]};var h=[];var b,n,a;this.isGroupedData=false;var p=this.groupingFactors;this.groupingFactors=[];var l=this.FP(this.treemapBy[0],g);var d=0;for(var f=0;f<l.length;f++){b=0;n=f;var j=k.MJ(k.treemapBy[b],l[n],g);var c=m(j,b,d,[]);h.push({area:c[1],index:-1,label:k.treemapBy[b]+":"+l[f],children:c[0]})}this.isGroupedData=true;this.groupingFactors=p;return h};this.GI=function(){var e=this;var r=function(){if(e.isDOE&&e.layoutCurrent>0){return false}else{return e.isGroupedData&&e.groupingFactors&&e.groupingFactors.length>0?e.groupingFactors:false}};var f=function(){var j=e.isDOE&&e.layoutCurrent>0;var k=[];if(b&&w.w){for(var x=0;x<w.w.grps[q].length;x++){var n=w.w.grps[q][x];var y=e.Cb(v,n);k.push({area:(isNaN(y)?0:y),label:w.y.smps[n],color:e.colorBy&&!j?e.wn(v,n,"colorBy"):e.colors[n%e.colors.length],index:[v,n]})}}else{for(var x=0;x<p.length;x++){var n=p[x];var y=w.y.data[v][n];k.push({area:(isNaN(y)?0:y),label:w.y.smps[n],color:e.colorBy&&!j?e.wn(v,n,"colorBy"):e.colors[n%e.colors.length],index:[v,n]})}}return k};var a=[];var g=[];var v,q;var w=this.isDOE?this.data.l.data[this.layoutCurrent]:this.data.y.treemap?this.data.y.treemap:this.data;var c=this.isDOE?[0]:this.varIndices;var p=this.isDOE||this.data.y.treemap?this.XX(0,w.y.data[0].length-1,1):this.smpIndices;var b=r();this.isGroupedData=false;for(var o=0;o<c.length;o++){v=c[o];if(b&&w.w){for(var m=0;m<w.w.grps.length;m++){var s=0;for(var l=0;l<w.w.grps[m].length;l++){var u=w.w.grps[m][l];var t=this.Cb(v,u);s+=isNaN(t)?0:t}g.push(s)}}else{var s=0;for(var m=0;m<p.length;m++){var u=p[o];var t=w.y.data[v][u];s+=isNaN(t)?0:t}g.push(s)}}for(var o=0;o<c.length;o++){v=c[o];if(b&&w.w){var h=0;for(var m=0;m<w.w.grps.length;m++){q=m;a.push({area:g[h++],title:c.length>1?w.y.vars[v]+":"+w.w.smps[m]:w.w.smps[m],index:-1,children:f()})}}else{a.push({area:g[o],title:w.y.vars[v],index:-1,children:f()})}}if(b){this.isGroupedData=true}if(this.isDOE){return this.TG(a,{width:this.x-20,height:this.y-20,left:10,top:10})}else{return this.TG(a,{width:this.x,height:this.y,left:0,top:0})}};this.OL=function(){if(this.graphType=="Sankey"||this.graphType=="Tree"){return}else{if(this.graphType=="ParallelCoordinates"){var c=this.Qc()?this.y-0.5:this.x-0.5;var e=this.Md();for(var b=0;b<e.length;b++){var a=this.parallelCoordinates[b];a.units=c/(a.max-a.min)}}else{var c=this.Qc()?"y":"x";var d=["BarLine","DotLine","AreaLine","StackedLine","StackedPercentLine"];this.zl("xAxis",c);if(d.includes(this.graphType)){this.zl("xAxis2",c)}}}};this.Ue=function(){if(this.graphType!="Treemap"&&this.graphType!="TagCloud"&&this.graphType!="Sankey"&&this.graphType!="Tree"){this.To({p:["disableGradientTransparencyShadow"],t:"Axes"});if(this.s9()){this.zw()}else{if(this.graphType=="ParallelCoordinates"){this.OW()}else{if(this.isGraphTime){this.zP();this.gm()}else{if(!this.plotByVariable){this.XU();this.gm()}else{this.gm()}}}}this.t3();this.To({p:["enableGradientTransparencyShadow"],t:"Axes"})}};this.zw=function(){if(this.guidesShow&&this.isMultidimensionalData&&!this.isGraphTime){var d=this.fr();var o=this.PN();var f=this.guidesShow&&this.guidesLineType=="dotted"?"dottedLine":this.guidesShow&&this.guidesLineType=="dashed"?"dashedLine":"line";var j=this.b9(this.guidesColor,this.guidesTransparency);var b=d;var a=d+this.x;var m=o+(this.blockSeparation/2);var k=o+this.y;var n=this.Md(true);for(var e=0;e<n.length;e++){var h=e/this.smpLabelInterval;if(parseInt(h)==parseFloat(h)){this.To({p:["drawLine",f,b,m,a,m,j,this.guidesWidth,"butt"],b:k,t:"Axes"})}m+=this.rbs}b=d+(this.cbs/2);m=o;k=o+this.y;for(var e=0;e<this.varIndices.length;e++){var h=e/this.varLabelInterval;if(parseInt(h)==parseFloat(h)){this.To({p:["drawLine",f,b,m,b,k,j,this.guidesWidth,"butt"],b:d,t:"Axes"})}b+=this.cbs}}};this.OW=function(){var d=this.fr();var o=this.PN();var n=this.Md();if(this.Qc()){if(this.xAxisShow){var c=d;var b=d;var m=o;var k=this.y;for(var f=0;f<n.length;f++){this.To({p:["drawLine","line",c,m,c,m+k,this.xAxisGridMajorColor,this.xAxisGridMajorWidth],t:"Axes"});this.To({p:["drawLine","line",c-this.margin,m,c,m,this.xAxisGridMajorColor,this.xAxisGridMajorWidth],t:"Axes"});this.To({p:["drawLine","line",c-this.margin,m+k,c,m+k,this.xAxisGridMajorColor,this.xAxisGridMajorWidth],t:"Axes"});var h=this.parallelCoordinates[f];for(var e=0;e<h.vals.length;e++){var g=m+k-((h.vals[e]-h.min)*h.units);this.To({p:["drawLine","line",c-this.margin,g,c,g,this.xAxisGridMajorColor,this.xAxisGridMajorWidth],t:"Axes"});this.To({p:["drawText",h.vals[e],c-(this.margin*2),g,this.xAxisTextFont,this.xAxisTextColor,"right","middle"],t:"Axes"})}c+=this.blockSeparation+this.rbs}}}else{if(this.xAxisShow){var c=d;var b=this.x;var m=o;var k=o;var g=o+this.blockSeparation+this.rbs;for(var f=0;f<n.length;f++){this.To({p:["drawLine","line",c,m,d+b,m,this.xAxisGridMajorColor,this.xAxisGridMajorWidth],t:"Axes"});this.To({p:["drawLine","line",c,m-this.margin,c,m,this.xAxisGridMajorColor,this.xAxisGridMajorWidth],t:"Axes"});this.To({p:["drawLine","line",d+b,m-this.margin,d+b,m,this.xAxisGridMajorColor,this.xAxisGridMajorWidth],t:"Axes"});var h=this.parallelCoordinates[f];for(var e=0;e<h.vals.length;e++){var a=c+((h.vals[e]-h.min)*h.units);this.To({p:["drawLine","line",a,m-this.margin,a,m,this.xAxisGridMajorColor,this.xAxisGridMajorWidth],t:"Axes"});this.To({p:["drawText",h.vals[e],a,m-(this.margin*2),this.xAxisTextFont,this.xAxisTextColor,"center","bottom"],t:"Axes"})}m+=this.blockSeparation+this.rbs}}}};this.zP=function(){var e=this.fr();var r=this.PN();var j=this.guidesShow&&this.guidesLineType=="dotted"?"dottedLine":this.guidesShow&&this.guidesLineType=="dashed"?"dashedLine":"line";var m=this.b9(this.guidesColor,this.guidesTransparency);var n=this.gF(1);var k=n*this.rbs;var q=this.Md(true);if(this.Qc()){var d=this.x/q.length;var h=this.graphType.match(/Area/)?0:e+((this.blockSeparation+k)/2);var p=r;var o=r+this.y;for(var f=0;f<this.timeValueIndices.length;f++){var b=(f*d)+h;if(this.guidesShow){this.To({p:["drawLine",j,b,p,b,o,m,this.guidesWidth,"butt"],b:o,t:"Axes"})}}}else{var d=this.y/q.length;var h=this.graphType.match(/Area/)?0:r+((this.blockSeparation+k)/2);var b=e;var a=this.x;for(var f=0;f<this.timeValueIndices.length;f++){var p=(f*d)+h;if(this.guidesShow){this.To({p:["drawLine",j,b,p,a,p,m,this.guidesWidth,"butt"],b:e,t:"Axes"})}}}};this.XU=function(){var h=this.fr();var v=this.PN();var n=this.graphType=="Dotplot"&&this.dotplotType=="cleveland";var k=this.guidesShow&&this.guidesLineType=="dotted"?"dottedLine":this.guidesShow&&this.guidesLineType=="dashed"?"dashedLine":"line";var p=this.gF(2);var m=p*this.rbs;var u=(this.blockSeparation+m)/2;var s=this.Md(true);var f=this.b9(this.guidesColor,this.guidesTransparency);if(this.Qc()){var d=this.graphType.match(/Area/)?h:h+this.blockSeparation+m;var b=h;var a=this.blockSeparation+m;var r=v;var q=this.y;for(var j=0;j<s.length;j++){if(this.blockContrast){var e=j%2?this.evenColor:this.oddColor;this.To({p:["drawShape","rectangle",b+u,r+(q/2),a,q,e,e],t:"Axes"});b+=a}if(this.guidesShow||n){if(this.graphType.match(/Area/)&&(j==0||j==s.length-1)){d+=this.blockSeparation+m;continue}if(this.plotInfo.samples[j]){if(this.guideStyle=="track"){this.To({p:["drawShape","rectangle",this.plotInfo.samples[j].xy,r+(q/2),m,q,f,f],t:"Axes"})}else{this.To({p:["drawLine",k,this.plotInfo.samples[j].xy,r,this.plotInfo.samples[j].xy,r+q,f,this.guidesWidth,"butt"],t:"Axes"})}}}d+=this.blockSeparation+m}}else{if(s){var d=h;var b=this.x;var r=this.graphType.match(/Area/)?v:v+this.blockSeparation+m;var q=v;var o=this.blockSeparation+m;for(var j=0;j<s.length;j++){if(this.blockContrast){var e=j%2?this.evenColor:this.oddColor;this.To({p:["drawShape","rectangle",d+(b/2),q+u,b,o,e,e],t:"Axes"});q+=o}if(this.guidesShow||n){if(this.graphType.match(/Area/)&&(j==0||j==s.length-1)){r+=this.blockSeparation+m;continue}if(this.plotInfo.samples[j]){if(this.guideStyle=="track"){this.To({p:["drawShape","rectangle",d+(b/2),this.plotInfo.samples[j].xy,b,m,f,f],t:"Axes"})}else{this.To({p:["drawLine",k,d,this.plotInfo.samples[j].xy,h+b,this.plotInfo.samples[j].xy,f,this.guidesWidth,"butt"],t:"Axes"})}}}r+=this.blockSeparation+m}}}};this.qQ=function(O,E,H,M,Z,F,n){var p=Math.min(this.x,this.y)*(this.meterType=="digital"&&this.layoutValid?0.7:this.meterType=="digital"?0.9:this.meterType=="gauge"?1:1.1);var B=p*(this.meterType=="gauge"?0.15:0.1);var S=B*(this.meterType=="speedometer"?0.5:0.55);var N=p-B;var I=N/2;var D=Math.PI*(this.meterType=="gauge"?1:this.meterType=="speedometer"?1.5:2)/H;var L=(this.meterType=="gauge"?Math.PI:this.meterType=="speedometer"?Math.PI*1.25:Math.PI/2);var J=this.isDOE?"":this.xAxis.length?this.xAxis[0]:this.data.y.vars[0];var C=M;var U=this.meterType.match(/gauge|speedometer/)?this.M9(C.toString(),N/8,N/4):this.M9(C.toString(),N/2.4,N/1.2);if(this.meterType.match(/gauge|speedometer/)){var k=O+(this.x/2);var g=E+(this.y/2)+(this.meterType=="gauge"?this.y/10:this.meterType=="speedometer"?this.y/24:0);var Y=Z;for(var Q=0;Q<Y.length;Q++){var X=F[Q];var G=Q>0?Y[Q-1]:0;var V=Q<Y.length-1?Y[Q]:H;this.To({p:["drawLine","arc",k,g,I,I,X,B,false,(G*D)-L,(V*D)-L],t:"Axes"})}for(var Q=0;Q<Z.length;Q++){var V=(Z[Q]*D)-L;var X=this.meterType=="gauge"?this.plotBackgroundColor:this.xAxisGridMajorColor;var T=((I-(S+(this.meterType=="gauge"?0:this.margin*2)))*Math.cos(V))+k;var j=((I-(S+(this.meterType=="gauge"?0:this.margin*2)))*Math.sin(V))+g;var R=((I+S)*Math.cos(V))+k;var b=((I+S)*Math.sin(V))+g;var P=this.meterType=="gauge"?((I+(S+(this.margin*4)))*Math.cos(V))+k:((I-(S+(this.margin*6)))*Math.cos(V))+k;var a=this.meterType=="gauge"?((I+(S+(this.margin*4)))*Math.sin(V))+g:((I-(S+(this.margin*6)))*Math.sin(V))+g;this.To({p:["drawLine","line",T,j,R,b,X,(this.meterType=="gauge"?this.margin:false)],t:"Axes"});this.To({p:["drawText",Z[Q],P,a,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"})}this.To({p:["drawText",J,k,g-(this.rk(U)*2),this.smpTitleFont,this.smpTitleColor,"center","middle"],t:"Axes"});var V=(C*D)-L;var T=((I)*Math.cos(V))+k;var j=((I)*Math.sin(V))+g;this.To({p:["drawLine","needle",k,g,T,j,this.meterNeedleColor,this.margin],t:"Data"});this.To({p:["drawText",n,k,g+(B*(this.meterType=="gauge"?1:0.5)),U,this.xAxisTextColor,"center","top"],t:"Data"});this.To({p:["drawText",C,k,g+(B*2),U,this.smpTitleColor,"center","top"],t:"Data"})}else{if(this.meterType=="state"){var B=Math.min(this.x,this.y);var S=B/1.4;var J=S/1.5;this.To({p:["drawShape","roundrect",O+(this.x/2),E+(this.y/2),B,B*2.5,"black","black"],t:"Axes"});this.To({p:["drawShape","pie4",O+(this.x/2),E+(this.y/2)-(S+(B/2)),(B/2),(B/2),"black","black",false,Math.PI],t:"Axes"});this.To({p:["drawShape","pie4",O+(this.x/2)-J,E+(this.y/2)-(S+(B/4)),(B/1.5),(B/1.5),"black","black"],t:"Axes"});this.To({p:["drawShape","pie4",O+(this.x/2)+J,E+(this.y/2)-(S+(B/4)),(B/1.5),(B/1.5),"black","black"],t:"Axes"});this.To({p:["drawShape","circle",O+(this.x/2),E+(this.y/2)-S,(B/2),(B/2),this.meterBackgroundColor,this.meterBackgroundColor],t:"Axes"});this.To({p:["drawShape","pie4",O+(this.x/2)-J,E+(this.y/2)-(0+(B/4)),(B/1.5),(B/1.5),"black","black"],t:"Axes"});this.To({p:["drawShape","pie4",O+(this.x/2)+J,E+(this.y/2)-(0+(B/4)),(B/1.5),(B/1.5),"black","black"],t:"Axes"});this.To({p:["drawShape","circle",O+(this.x/2),E+(this.y/2),(B/2),(B/2),this.meterBackgroundColor,this.meterBackgroundColor],t:"Axes"});this.To({p:["drawShape","pie4",O+(this.x/2)-J,E+(this.y/2)-(-S+(B/4)),(B/1.5),(B/1.5),"black","black"],t:"Axes"});this.To({p:["drawShape","pie4",O+(this.x/2)+J,E+(this.y/2)-(-S+(B/4)),(B/1.5),(B/1.5),"black","black"],t:"Axes"});this.To({p:["drawShape","circle",O+(this.x/2),E+(this.y/2)+S,(B/2),(B/2),this.meterBackgroundColor,this.meterBackgroundColor],t:"Axes"});this.To({p:["drawShape","rectangle",O+(this.x/2),E+(this.y/2)+(S+(B/2)),(B/2),(B/2),"black","black"],t:"Axes"});var x=E+(this.y/2)+S;var A=["rgb(0,255,0)","rgb(255,255,0)","rgb(255,0,0)"];var K=[33,66];for(var Q=0;Q<A.length;Q++){var G=Q>0?K[Q-1]:0;var V=Q<A.length-1?K[Q]:100;var X=C>=G&&C<=V?A[Q]:this.b9(A[Q],0.2);this.To({p:["drawShape","circle",O+(this.x/2),x,(B/2),(B/2),X,X],t:"Axes"});x-=S}}else{if(this.meterType=="digital"){var k=O+(this.x/2);var g=E+(this.y/2);var Y=Z;this.To({p:["drawLine","arc",k,g,I,I,this.meterBackgroundColor,B,false,0,Math.PI*2],t:"Axes"});for(var Q=0;Q<Y.length;Q++){var X=F[Q];var G=Q>0?Y[Q-1]:0;var V=Q<Y.length-1?Math.min(C,Y[Q]):Math.min(C,H);if(G>C){continue}this.To({p:["drawLine","arc",k,g,I,I,X,B,false,(G*D)-L,(V*D)-L],t:"Axes"})}for(var Q=0;Q<Z.length-1;Q++){var V=(Z[Q]*D)-L;var T=((I-S)*Math.cos(V))+k;var j=((I-S)*Math.sin(V))+g;var R=((I+S)*Math.cos(V))+k;var b=((I+S)*Math.sin(V))+g;var P=((I+S+(this.margin*4))*Math.cos(V))+k;var a=((I+S+(this.margin*4))*Math.sin(V))+g;this.To({p:["drawLine","line",T,j,R,b,this.plotBackgroundColor,B*0.3],t:"Axes"});this.To({p:["drawText",Z[Q],P,a,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],t:"Axes"})}this.To({p:["drawText",J,k,g+15+(this.rk(U)/2),this.smpTitleFont,this.smpTitleColor,"center","middle"],t:"Axes"});this.To({p:["drawText",n,k,g-(10+(this.rk(U)/2)),this.smpTitleFont,this.smpTitleColor,"center","middle"],t:"Axes"});this.To({p:["drawText",C,k,g+10,U,this.smpTitleColor,"center","middle"],t:"Data"})}else{if(this.meterType=="number"){var k=O+(this.x/2);var g=E+(this.y/2);this.To({p:["drawText",J,k,g+10+(this.rk(U)/2),this.smpTitleFont,this.smpTitleColor,"center","middle"],t:"Axes"});this.To({p:["drawText",C,k,g+10,U,this.smpTitleColor,"center","middle"],t:"Data"})}else{var B=Math.min(this.x,this.y);var D=(this.meterType=="horizontal"?this.x:this.y)/H;var Y=Z;this.To({p:["drawShape","rectangle",O+(this.x/2),E+(this.y/2),this.x,this.y,this.meterBackgroundColor,this.meterBackgroundColor],t:"Axes"});var L=0;for(var Q=0;Q<Y.length;Q++){var X=F[Q];var G=(Q>0?Y[Q-1]:0)*D;var V=(Q<Y.length-1?Math.min(C,Y[Q]):Math.min(C,H))*D;var W=(V-G);if(G/D>C){continue}if(this.meterType=="horizontal"){this.To({p:["drawShape","rectangle",O+(W/2)+L,E+(this.y/2),W,this.y,X,X],t:"Axes"})}else{this.To({p:["drawShape","rectangle",O+(this.x/2),E+this.y-((W/2)+L),this.x,W,X,X],t:"Axes"})}L+=W}if(this.meterType=="vertical"){this.To({p:["drawText",J,O-(this.x/2),E+(this.y/2),this.smpTitleFont,this.smpTitleColor,"center","middle",-Math.PI/2],t:"Axes"})}else{this.To({p:["drawText",J,O+(this.x/2),E-(this.y/2),this.smpTitleFont,this.smpTitleColor,"center","middle"],t:"Axes"})}}}}}};this.gm=function(){var f=this.fr();var p=this.PN();if(this.graphType=="Meter"){this.k0();if(!this.meterType.match(this.graphOrientation)){return}}if(this.Qc()){var h=this.xAxisMin<0?p+this.y-((0-this.xAxisMin)*this.xAxisUnit):p+this.y;if(this.xAxisGridMinorShow){for(var g=0;g<this.xAxisMinorValues.length;g++){var d=this.xAxisMinorValues[g];if(d>=this.xAxisMin&&d<=this.xAxisMax){var n=this.PN()+this.y-((d-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine",this.xAxisGridMinorLineType,f,n,f+(this.graphType=="Meter"?this.margin:this.x),n,this.xAxisGridMinorColor,this.xAxisGridMinorWidth,"butt"],b:h,t:"Axes"})}}}var c=this.fr()-(this.margin*2);var b=f;var a=f+(this.graphType=="Meter"?this.margin:this.x);for(var g=0;g<this.xAxisValuesRaw.length;g++){var d=this.xAxisValuesRaw[g];if(d>=this.xAxisMin&&d<=this.xAxisMax){var n=this.PN()+this.y-((d-this.xAxisMin)*this.xAxisUnit);if(this.xAxisGridMajorShow&&n<p+this.y&&n>p){this.To({p:["drawLine",this.xAxisGridMajorLineType,b,n,a,n,this.xAxisGridMajorColor,this.xAxisGridMajorWidth,"butt"],b:h,t:"Axes"})}if(this.xAxisTicksShow&&(!this.isCxplot||this.isCxplot&&this.yAxisTicksShow)){if(this.xAxisShow||this.xAxisShowLayout){this.To({p:["drawLine",this.xAxisTicksLineType,b-this.xAxisTicksLength,n,b,n,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],b:h,t:"Axes"})}if(this.xAxis2Show||this.xAxis2ShowLayout){this.To({p:["drawLine",this.xAxisTicksLineType,a,n,a+this.xAxisTicksLength,n,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],b:h,t:"Axes"})}}}}}else{var h=this.xAxisMin<0?f+this.x-((0-this.xAxisMin)*this.xAxisUnit):f;if(this.xAxisGridMinorShow){for(var g=0;g<this.xAxisMinorValues.length;g++){var d=this.xAxisMinorValues[g];if(d>=this.xAxisMin&&d<=this.xAxisMax){var c=this.graphInverted?f+this.x-((d-this.xAxisMin)*this.xAxisUnit):f+((d-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine",this.xAxisGridMinorLineType,c,p,c,p+(this.graphType=="Meter"?this.margin:this.y),this.xAxisGridMinorColor,this.xAxisGridMinorWidth,"butt"],b:h,t:"Axes"})}}}var n=this.PN()-((this.margin*2)+(this.xAxisTextFontSize/2));var m=p;var k=p+(this.graphType=="Meter"?this.margin:this.y);var o=this.Pi()?(this.segregateVariablesBy.length+this.segregateSamplesBy.length)*this.stripThickness:0;var j=m-(o+this.margin);var e=this.graphOrientation!="vertical"&&(this.layoutType=="cols"||(this.layoutType=="rows"&&this.segregateVariablesBy.length+this.segregateSamplesBy.length>1));for(var g=0;g<this.xAxisValuesRaw.length;g++){var d=this.xAxisValuesRaw[g];if(d>=this.xAxisMin&&d<=this.xAxisMax){var c=this.graphInverted?f+this.x-((d-this.xAxisMin)*this.xAxisUnit):f+((d-this.xAxisMin)*this.xAxisUnit);if(this.xAxisGridMajorShow&&c>f&&c<f+this.x){this.To({p:["drawLine",this.xAxisGridMajorLineType,c,m,c,k,this.xAxisGridMajorColor,this.xAxisGridMajorWidth,"butt"],b:f,t:"Axes"})}if(this.xAxisTicksShow&&(!this.isCxplot||this.isCxplot&&this.yAxisTicksShow)){if(this.xAxisShow||this.xAxisShowLayout){if(this.layoutValid){if(this.layoutAdjust){this.To({p:["drawLine",this.xAxisTicksLineType,c,m-this.xAxisTicksLength,c,m,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],b:h,t:"Axes"})}else{if(!e){this.To({p:["drawLine",this.xAxisTicksLineType,c,j,c,j+this.xAxisTicksLength,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],b:h,t:"Axes"})}}}else{this.To({p:["drawLine",this.xAxisTicksLineType,c,m-this.xAxisTicksLength,c,m,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],b:h,t:"Axes"})}}if(this.xAxis2Show||this.xAxis2ShowLayout){this.To({p:["drawLine",this.xAxisTicksLineType,c,k,c,k+this.xAxisTicksLength,this.xAxisTicksColor,this.xAxisTicksWidth,"butt"],b:h,t:"Axes"})}}}}}};this.fJ=function(){if(this.graphType=="Treemap"||this.graphType=="TagCloud"||this.graphType=="Sankey"||this.graphType=="Tree"||this.graphType=="Meter"){return}else{if(!this.isGroupedData){if(this.showSmpDendrogram){var a=false;if(this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition=="bottom"){a=true}this.Wo("smpDendrogram",a)}if(this.s9()&&this.showVarDendrogram){var a=false;if(this.isOncoprint&&this.showHeatmapOncoprint&&this.oncoprintHeatmapPosition=="right"){a=true}this.Wo("varDendrogram",a)}}}};this.Sf=function(){this.smpInfo=[];this.varInfo=[];if(this.graphType=="Treemap"||this.graphType=="TagCloud"||this.graphType=="Sankey"||this.graphType=="Tree"||this.graphType=="Meter"){return}else{if(this.smpTitle){this.Xu()}if(this.s9()){this.Q9();if(this.isOncoprint&&this.showHeatmapOncoprint){this.Q9(true)}if(this.varTitle){this.j7()}}else{this.rp()}}};this.Xu=function(){var c,d;var a=this.fr()+this.margin;var b=this.PN();if(this.Qc()){b-=this.margin;c=a+(this.x/2);if(this.segregateVariablesBy.length>0){d=(b+this.y+this.bottom+this.WT()+(this.margin*2))-((this.margin+(this.smpTitleFontSize/2))+this.Tc("bottom"))}else{if(this.smpOverlaysThicknessBottom){d=(b+this.y+this.bottom)-(((this.smpTitleFontSize/2)-this.margin/2)+this.Tc("bottom"))}else{d=b+this.y+this.WT()+(this.margin*2)+this.smpTitleFontSize}}this.To({p:["drawText",this.smpTitle,c,d,this.smpTitleFont,this.smpTitleColor,"center","middle"],t:"Axes"})}else{if(this.segregateVariablesBy.length>1){c=this.marginLeft+this.Pk()+(this.margin*2)+(this.smpTitleFontSize/2)}else{if(this.segregateVariablesBy.length>0){c=this.marginLeft+(this.margin*(this.segregateSamplesBy.length>0?5:0))+(this.smpTitleFontSize/2)}else{c=this.marginLeft+this.offsetX+(this.smpTitleFontSize/2)-(this.margin/2)}}d=b+(this.y/2);this.To({p:["drawText",this.smpTitle,c,d,this.smpTitleFont,this.smpTitleColor,"center","middle",-Math.PI/2],t:"Axes"})}};this.j7=function(){var c,d;var a=this.fr()+this.margin;var b=this.PN();c=a+(this.x/2);if(this.varTitleLabelPosition!="bottom"){d=this.offsetY+(this.margin*2)+this.top;d-=this.IP();d-=this.varOverlaysThicknessTop||0;if(this.varDendrogramPosition=="top"){d-=this.qX()}}else{d=b+this.y+this.bottom}this.To({p:["drawText",this.varTitle,c,d,this.varTitleFont,this.varTitleColor,"center","bottom"],t:"Axes"})};this.Q9=function(o){var u=this.fr(o);var m=this.PN(o);var r=this.plotInfo;var d=this.Md();var n=this.PP();var z=this.RC();var q=this.WT();var j=!this.adjustAspectRatio?this.rbs*0.3:0;if(this.heatmapMarkers&&this.smpTitleLabelPosition=="right"){u+=this.heatmapMarkers.width+(this.margin*6)}if(this.showSampleNames&&(!o||(o&&this.oncoprintHeatmapPosition.match(/top|bottom/)))){var v=Math.abs(this.smpTextRotate)==90?"center":"right";if(this.isGraphTime){var y=u-this.margin;for(var w=0;w<this.timeValueIndices.length;w++){var a=r.samples[w].xy;this.smpInfo[w]=a;if(this.smpTextRotate){this.To({p:["drawText",this.timeValues[w],y-this.margin,a+j,this.smpTextFont,c,v,"middle",this.smpTextRotate*Math.PI/180],i:["Smp-"+w],t:"Labels",h:this.ID(false,w)})}else{this.To({p:["drawText",this.timeValues[w],y,a+j,this.smpTextFont,c,"right","middle"],i:["Smp-"+w],t:"Labels",h:this.ID(false,w)})}}}else{if(this.s9()&&this.heatmapType=="correlation"){var y=u+(this.smpTitleLabelPosition=="right"?this.x:0)+this.margin;var e=(this.smpTitleLabelPosition=="right"?this.smpOverlaysThicknessRight||0:this.smpOverlaysThicknessLeft||0)||0;for(var w=0;w<this.varIndices.length;w++){var a=o?r.samples2[w].xy:r.samples[w].xy;var f=w/this.varLabelInterval;if(parseInt(f)==parseFloat(f)){var k=this.varIndices[w];var h=this.Aj(this.data.y.vars[k],this.maxVarStringLen);var x=((this.margin*2)+e)*(this.smpTitleLabelPosition=="right"?-1:1);var c=this.xy(this.data.y.vars[k]);this.smpInfo[w]=a;if(this.varTextRotate){this.To({p:["drawText",h,y-(x+this.margin),a+j,this.smpTextFont,c,v,"middle",this.smpTextRotate*Math.PI/180],i:["Smp-"+k],t:"Labels",h:this.ID(false,k)})}else{this.To({p:["drawText",h,y-x,a+j,this.smpTextFont,c,(this.smpTitleLabelPosition=="right"?"left":"right"),"middle"],i:["Smp-"+k],t:"Labels",h:this.ID(false,k)})}}}}else{var y=u+(this.smpTitleLabelPosition=="right"?this.x:0)+this.margin;var e=(this.smpTitleLabelPosition=="right"?this.smpOverlaysThicknessRight||0:this.smpOverlaysThicknessLeft||0)||0;for(var w=0;w<d.length;w++){var a=o?r.samples2[w].xy:r.samples[w].xy;var f=w/this.smpLabelInterval;if(parseInt(f)==parseFloat(f)){var k=d[w];var h=this.Aj(z?z[k]:n[k],this.maxSmpStringLen);var g=this.smpTitleLabelPosition=="right"?-1:1;var x=((this.margin*2)+e)*g;var c=this.xl(n[k]);this.smpInfo[w]=a;if(this.smpLabelImage){}else{if(this.smpTextRotate){this.To({p:["drawText",h,y-(x+this.margin),a+j,this.smpTextFont,c,v,"middle",this.smpTextRotate*Math.PI/180],i:["Smp-"+k],t:"Labels",h:this.ID(false,k)})}else{if(this.smpLabelAutoAlignPosition){this.To({p:["drawText",h,y-x,a+j,this.smpTextFont,c,(this.smpTitleLabelPosition=="right"?"left":"right"),"middle"],i:["Smp-"+k],t:"Labels",h:this.ID(false,k)})}else{if(this.smpTextAlign=="right"){this.To({p:["drawText",h,y-x,a+j,this.smpTextFont,c,this.smpTextAlign,"middle"],i:["Smp-"+k],t:"Labels",h:this.ID(false,k)})}else{if(this.smpTextAlign=="left"){this.To({p:["drawText",h,y-(x+q),a+j,this.smpTextFont,c,this.smpTextAlign,"middle"],i:["Smp-"+k],t:"Labels",h:this.ID(false,k)})}else{this.To({p:["drawText",h,y-(x+(q/2)),a+j,this.smpTextFont,c,this.smpTextAlign,"middle"],i:["Smp-"+k],t:"Labels",h:this.ID(false,k)})}}}}}}}}}}if(this.showVariableNames&&(!o||(o&&this.oncoprintHeatmapPosition.match(/right|left/)))){var b=Math.abs(this.varTextRotate)==90?"center":this.varTitleLabelPosition!="bottom"?"left":"right";var A=this.varTitleLabelPosition!="bottom"?"left":"right";var a=this.varTitleLabelPosition!="bottom"?m-(this.margin+(this.varOverlaysThicknessTop||0)+this.varTextFontSize):m+this.y+this.margin;if(this.varTitleLabelPosition!="top"&&this.varOverlays.length>0&&this.showOverlays&&this.s9()){a+=this.varOverlaysThicknessBottom||0}for(var w=0;w<this.varIndices.length;w++){var y=o?r.variables2[w].xy:r.variables[w].xy;var f=w/this.varLabelInterval;if(parseInt(f)==parseFloat(f)){var k=this.varIndices[w];var s=this.Aj(this.data.y.vars[k],this.maxVarStringLen);var c=this.xy(this.data.y.vars[k]);this.varInfo[w]=y;if(this.varTextRotate){this.To({p:["drawText",s,y,a+(this.varTextFontSize/2),this.varTextFont,c,b,"middle",-Math.PI/2+(this.varTextRotate*Math.PI/180)],i:["Var-"+k],t:"Labels",h:this.ID(k)})}else{this.To({p:["drawText",s,y,a,this.varTextFont,c,A,"middle",-Math.PI/2],i:["Var-"+k],t:"Labels",h:this.ID(k)})}}}}};this.fF=function(e,g){var j=this.blockSeparation+(this.gF()*this.rbs);var c=this.Md(true);var b=this.PP(true);var f=this.RC(true);var d=e+1;var i=0;var h=f?f[c[e]]:b[c[e]];var a=f?f[c[d]]:b[c[d]];if(h){h=this.tO(h)?h:h.toString().split(" :: ")[g]}if(a){a=this.tO(a)?a:a.toString().split(" :: ")[g]}while(this.gS(h,a)){i+=j;d++;a=f?f[c[d]]:b[c[d]];if(a){a=this.tO(a)?a:a.toString().split(" :: ")[g]}}return i/2};this.S6=function(b){var c=b-1;var a=0;if(c>=0){if(this.smpTextRotate=="90"){a=this.smpTextFontSize+(this.margin*3)}else{a=this.pb(this.meta.data.x[this.groupingFactors[c]].maxLevStr,this.smpTextFont);a=this.smpTextRotate?a*(Math.cos(this.MC(this.smpTextRotate%90)))*this.Q1():a;a+=this.margin*6}}return a};this.gy=function(b,g,a,f){var e=this.margin*2;var d=a*2;if(this.linesOnGroups&&!this.isCxplot){if(this.Qc()){this.To({p:["drawLine","line",b,g-e,b+d,g-e,f],t:"Labels"})}else{this.To({p:["drawLine","line",b+e,g,b+e,g+d,f],t:"Labels"})}}};this.Xs=function(j,h,f,d,k){var e=this.margin*2;var i=Math.abs(this.smpTextRotate)==90?"center":"right";var b=this.Qc()?(this.smpTextRotate%90*Math.PI/180)-Math.PI/2:this.smpTextRotate%90*Math.PI/180;var c=this.isDOE?this.xAxisTicksLength*1.5:this.xAxisTicksLength;var g=this.isGraphTime?["Smp-"+k,f]:["Smp-"+k];if(this.smpTextRotate=="90"){if(this.Qc()){this.To({p:["drawText",f,j,h,this.smpTextFont,d,i,"top",b+Math.PI/2],i:g,t:"Labels"})}else{this.To({p:["drawText",f,j,h,this.smpTextFont,d,i,"bottom",b-Math.PI/2],i:g,t:"Labels"})}}else{this.To({p:["drawText",f,j,h,this.smpTextFont,d,i,"middle",b],i:g,t:"Labels"})}if((this.xAxisShow||(this.isCxplot&&this.yAxisShow))&&this.xAxisTicksShow){if(this.Qc()){this.To({p:["drawLine","line",j,h-c,j,h-e,this.xAxisTicksColor,this.xAxisTicksWidth],t:"Labels"})}else{this.To({p:["drawLine","line",j+c,h,j+e,h,this.xAxisTicksColor,this.xAxisTicksWidth],t:"Labels"})}}};this.D9=function(j,i,k,e,l){if(this.smpLabelImage&&(CanvasXpress.cacheImages.hasOwnProperty(e+".png")||CanvasXpress.cacheImages.hasOwnProperty(e))){var m=CanvasXpress.cacheImages.hasOwnProperty(e+".png")?e+".png":e;var n=CanvasXpress.cacheImages[m].height;var c=CanvasXpress.cacheImages[m].width;var g=this.gF();var d=this.Qc()?this.smpTextFontSize/1.1:g*this.rbs*1.5;if(n>d){var a=d/n;n=d;c=c*a}if(c>k){var a=k/c;c=k;n=n*a}if(this.smpLabelImageRound){c=Math.min(c,n);n=c}if(this.Qc()){var f=i+(k/2)-this.margin;this.To({p:["drawShape","image",j,f,c,n,false,false,this.smpLabelImageRound?"round":false,false,false,false,false,false,false,m],i:["Smp-"+l],t:"Labels"})}else{var b=j+this.margin-(k/2);this.To({p:["drawShape","image",b,i,c,n,false,false,this.smpLabelImageRound?"round":false,false,false,false,false,false,false,m],i:["Smp-"+l],t:"Labels"})}}};this.dw=function(){if(this.graphType=="Sankey"&&this.sankeyAxes.length&&this.sankeyTitleShow){var d={};var c=this.data.sankey;this.sankeyInfo=[];var a=this.layoutValid?Math.min(this.layoutWidth,this.layoutHeight)/3:Math.min(this.width,this.height)/3;this.gV(a,"sankeyTitleFont");for(var b=0;b<c.nodes.length;b++){var e=c.nodes[b];if(this.sankeyAxes.length&&!d[e.breadth]){this.To({p:["drawText",this.sankeyAxes[e.breadth],e.plotX+(e.dx/2),this.marginTop+this.offsetY+this.top+this.y+(this.margin*2),this.sankeyTitleFont,this.sankeyTitleColor,this.sankeyTitleAlign,this.sankeyTitleBaseline,-this.sankeyTitleRotate*Math.PI/180],i:["SankeyAxis"+e.breadth],t:"Labels"});d[e.breadth]=true;this.sankeyInfo[this.sankeyAxes[e.breadth]]=e.plotX+(e.dx/2)}}}};this.Ri=function(a,c){if(this.xAxisLineBottomShow){var b=this.margin*0.5;if(this.Qc()){this.To({p:["drawLine","line",a,c,a+this.x,c,this.xAxisLineBottomColor,this.xAxisLineBottomWidth],t:"Labels"});if(this.yAxisLineLeftShow){this.To({p:["drawLine","line",a,c,a,c-this.y,this.xAxisLineBottomColor,this.xAxisLineBottomWidth],t:"Labels"})}}else{this.To({p:["drawLine","line",a,c,a,c+this.y,this.xAxisLineBottomColor,this.xAxisLineBottomWidth],t:"Labels"})}}};this.rp=function(){var m,a,k,Q,h,P;var E=this.fr();var A=this.PN();var b=this.Md(true);var B=this.PP(true);var D=this.meta.data.y.date?this.meta.data.y.date.data:false;var d=this.RC(true);var v={};if(this.showSampleNames){var J=this.gF()*this.rbs;if(this.graphType=="Gantt"){var C=b.length;b=[];for(var G=0;G<C;G++){b.push(G)}}if(this.isGraphTime){var y=this.plotByVariable?this.x/this.varIndices.length/(b.length+1):this.x/b.length;var s=this.graphType.match(/Area/)?0:this.plotByVariable?E-this.margin:E+((this.blockSeparation+J)/2);if(this.Qc()){a=A+this.y+(this.smpOverlaysThicknessBottom||0)+(this.margin*1.5)}else{m=E-(this.margin*1.5)}if(this.plotByVariable){for(var G=0;G<this.varIndices.length;G++){for(var F=0;F<this.timeValueIndices.length;F++){var w=F/this.smpLabelInterval;if(parseInt(w)==parseFloat(w)){if(this.Qc()){m=(F*y)+s+y;this.smpInfo[F]=m}else{a=(F*y)+s+y;this.smpInfo[F]=a}this.Xs(m,a,this.timeValues[F],c,F)}}s+=this.blockSeparation+J}}else{var I=[];for(var G=0;G<this.timeValueIndices.length;G++){if(this.timeValueIndices[G]>-1){I.push(this.timeValues[G])}}var L=parseInt(I.length/5);var H=L;for(var G=0;G<this.timeValueIndices.length;G++){var w=G/this.smpLabelInterval;if(this.Qc()){m=(G*y)+s;this.smpInfo[G]=m}else{a=(G*y)+s;this.smpInfo[G]=a}if(this.smpLabelInterval>1){if(parseInt(w)==parseFloat(w)&&this.timeValueIndices[G]>-1){this.Xs(m,a,this.timeValues[G],c,G)}}else{if(this.timeValueIndices[G]>-1){if(H==L){this.Xs(m,a,this.timeValues[G],c,G)}H--;if(H==0){H=L}}}}}}else{if(this.Qc()){m=this.plotByVariable?E+((this.blockSeparation+this.rbs)/2):this.IE()?E:E+((this.blockSeparation+J)/2);a=A;Q=A+this.y;P=Q+(this.smpOverlaysThicknessBottom||0)+(this.margin*(this.smpTextRotate==90&&this.groupingFactors.length>1?1.5:2));this.Ri(E,Q)}else{a=this.plotByVariable?A+((this.blockSeparation+this.rbs)/2):this.IE()?A:A+((this.blockSeparation+J)/2);m=E;k=E+this.x;h=m-((this.smpOverlaysThicknessLeft||0)+(this.margin*(this.smpTextRotate==90&&this.groupingFactors.length>1?1.5:2)));this.Ri(E,A)}if(this.plotByVariable){for(var G=0;G<this.varIndices.length;G++){for(var F=0;F<b.length;F++){var w=F/this.smpLabelInterval;if(parseInt(w)==parseFloat(w)){var e=b[F];var K=this.Aj(B[e],this.maxSmpStringLen);var c=this.xl(B[e]);this.smpInfo[F]=this.Qc()?m:a;if(this.smpLabelImage){}else{if(this.Qc()){this.Xs(m,P,K,c,e)}else{this.Xs(h,a,K,c,e)}}}if(this.Qc()){m+=this.rbs}else{a+=this.rbs}}if(this.Qc()){m+=this.blockSeparation}else{a+=this.blockSeparation}}}else{if(b){var o=0;for(var G=0;G<b.length;G++){if(!this.plotInfo.samples[G]){continue}if(this.Qc()){m=this.plotInfo.samples[G].xy}else{a=this.plotInfo.samples[G].xy}var x=b[G];var w=G/this.smpLabelInterval;var K=d?d[x]:B[x];var r=D?D[x]:false;var c=this.xl(B[x]);if(parseInt(w)==parseFloat(w)){this.smpInfo[G]=this.plotInfo.samples[G].xy;var f=d?d[b[o]]:B[b[o]];var M=this.tO(f)?f:f!==undefined?f.toString().split(" :: "):[];if(!D&&G>0&&this.xw(this.smpInfo[G])<this.xw(this.smpInfo[o]+this.smpTextFontSize)){continue}if(this.isGroupedData){var u=this.tO(K)?K:K!==undefined?K.toString().split(" :: "):[];for(var F=0;F<u.length;F++){if(G>0){if(M[F]!=u[F]){delete v[u[F]]}}var N=u[F];if(this.isGroupedData&&this.meta.data.g&&this.colorBy&&this.groupingFactors.length==2&&this.groupingFactors[1]==this.colorBy&&F>0){continue}if(this.Qc()){var O=this.smpLabelImage?this.WT():P+this.S6(F);var z=this.fF(G,F);this.gy(m,O,z,c);if(!v.hasOwnProperty(N)){if(this.smpLabelImage){this.D9(m+z,P,O,N,x)}else{this.Xs(m+z,O,N,c,x)}v[N]=true}}else{var g=this.smpLabelImage?this.WT():h-this.S6(F);var p=this.fF(G,F);this.gy(g,a,p,c);if(!v.hasOwnProperty(N)){if(this.smpLabelImage){this.D9(h,a+p,g,N,x)}else{this.Xs(g,a+p,N,c,x)}v[N]=true}}}}else{K=this.Aj(K,this.maxSmpStringLen);var q=D?r:K;if(G>0){if(f!=K){v={}}}if(!v.hasOwnProperty(K)){if(this.smpLabelImage){}else{if(!D||(D&&r)){if(this.Qc()){var O=P+this.S6(0);var z=this.fF(G,0);this.gy(m,O+this.margin,z,c);this.Xs(m+z,O,q,c,x)}else{var g=h-this.S6(0);var p=this.fF(G,0);this.gy(g-this.margin,a,p,c);this.Xs(g,a+p,q,c,x)}}}v[K]=true}}o=G}if(this.IE()){m+=this.blockSeparation+J}}}}}}};this.uj=function(I,L,T,ar,at,b,P,h,v,am,an,af,ab,G,D,M,y,C,e){var ak,J,ax,N,B,O,f,az;var W=an;var Q=af;var F=[];var H=[];var ao=[];var S={};var Y=v>=10?Math.min(v*0.2,this.margin*2):v>=5?1:0;var X=Y*2;var al=0;for(var aq=0;aq<P.length;aq++){S[P[aq]]=al;al++}if(am=="vertical"){this.To({p:["setClipArea",[an,af-h,this.x,h]],t:"Overlays"})}else{this.To({p:["setClipArea",[an,af,h,this.y]],t:"Overlays"})}if(at!="Pie"){if(!G){G=[];var u=[];if(at.match(/Stacked/)){var o=false;for(var ap=0;ap<ar.length;ap++){var g=0;var ae=0;for(var aq=0;aq<L.length;aq++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",L[aq]);if(b[L[aq]]["type"].match(/Line/)){F.push(R)}else{if(R>0){g+=R}else{if(R<0){o=true;ae+=R}}}}G.push(g);u.push(ae)}if(at.match(/StackedPercent/)){G=o?[-100,100]:[0,100]}else{if(o){G=G.concat(u)}else{G.push(0)}if(F.length>0){ak=this.cp(F);az=ak[1]}}}else{for(var aq=0;aq<L.length;aq++){if(this.layoutAdjust||!this.layoutRestore){for(var ap=0;ap<ar.length;ap++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",L[aq]);G.push(R)}}else{var aa=I=="smp"&&this.layoutRestore.smpIndices?this.layoutRestore.smpIndices:this.layoutRestore.varIndices;for(var ap=0;ap<aa.length;ap++){var R=this.Mk(aa[ap],I=="smp"?"x":"z",L[aq]);G.push(R)}}}}}if(at!="Treemap"){ak=this.cp(G);if(az>ak[1]){ak[1]=az}J=this[this.axisAlgorithm](Math.min(0,ak[0]),ak[1],5,this.isGraphTime,this.axisWilkinsonLoose);ax=Math.min(ak[0],J[0]);N=Math.max(ak[1],J[J.length-1]);B=(h-2)/(N-ax);O=ax<0?Math.abs(ax)*B:0;if(D){f=v/D}else{al=0;for(var aq=0;aq<L.length;aq++){if(b[L[aq]]["type"]!="Line"){if(b[L[aq]]["type"]==at){al++}}else{al++}}f=v/al}if(J.length==8){J=[J[1],J[3],J[5],J[7]]}else{if(J.length==7){J=[J[0],J[2],J[4],J[6]]}else{if(J.length==6){J=[J[1],J[3],J[5]]}else{if(J.length==5){J=[J[0],J[2],J[4]]}}}}}}var V=f>=10?Math.min(f*0.2,this.margin*2):f>=5?1:0;var U=V*2;switch(at){case"Area":case"AreaLine":var av=[];var aw=[];var aj=[];var ay=[];for(var aq=0;aq<L.length;aq++){if(b[L[aq]]["type"].match(/Line/)){H.push(L[aq]);continue}var ac=[];for(var ap=0;ap<ar.length;ap++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",L[aq]);ac.push(R)}av.push(ac);aw.push(b[L[aq]]["color"]);aj.push("closed");ay.push([this.Y5(I)+"Ovr-"+S[L[aq]]])}if(am=="vertical"){this.LI(av,an+(v/2),af,this.x-v,h,v,false,false,B,ax,N,am,false,aw,aj,ay,false,ab,false,true)}else{if(this.graphType=="Area"){this.LI(av,an,af,h,(ar.length-1)*v,v,false,false,B,ax,N,am,false,aw,aj,ay,false,ab,false,true)}else{this.LI(av,an,af+(v/2),h,(ar.length-1)*v,v,false,false,B,ax,N,am,false,aw,aj,ay,false,ab,false,true)}}if(H.length>0){this.uj(I,H,T,ar,"Line",b,P,h,v,am,W,Q,ab,G,H.length,M,y,C,e)}break;case"Bar":case"BarLine":case"Dotplot":case"DotLine":case"Line":var r=this.jitter;this.jitter=false;for(var aq=0;aq<L.length;aq++){if(b[L[aq]]["type"].match(/BarLine|DotLine/)&&at!="Line"){H.push(L[aq]);continue}var av=[];var aw=[];var ah=[];var ay=[];var ag=[];var aj=[];if(at=="Dotplot"){for(var ap=0;ap<ar.length;ap++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",L[aq]);av.push([R]);aw.push([b[L[aq]]["color"]]);ah.push([false]);ay.push([[this.Y5(I)+"Ovr-"+S[L[aq]]+"-"+R]]);ag.push([this.margin]);aj.push(["circle"])}}else{for(var ap=0;ap<ar.length;ap++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",L[aq]);av.push(R);aw.push(b[L[aq]]["color"]);ah.push(false);ay.push([this.Y5(I)+"Ovr-"+S[L[aq]]+"-"+R])}}if(at=="Bar"){if(am=="vertical"){this.k5(av,false,an+V,af-O,f-U,(C&&C[L[aq]]?C[L[aq]].segments.xy:v),B,O,ax,am,aw,ah,ay,false,false,ab,false,true)}else{this.k5(av,false,an,af+V,f-U,(C&&C[L[aq]]?C[L[aq]].segments.xy:v),B,O,ax,am,aw,ah,ay,false,false,ab||O*2,false,true)}}else{if(at=="Line"){if(am=="vertical"){this.U0(av,false,an+(v/2),af,f,(C&&C[L[aq]]?C[L[aq]].segments.xy:v),B,ax,am,aw[0],ah,false,ay,false,false,ab,L[aq],true,e)}else{this.U0(av,false,an,af+(v/2),f,(C&&C[L[aq]]?C[L[aq]].segments.xy:v),B,ax,am,aw[0],ah,false,ay,false,false,ab,L[aq],true,e)}}else{if(at=="Dotplot"){var ai=this.graphType;this.graphType="Dotplot";if(am=="vertical"){this.Z3(av,false,an+(v/2),af,f,(C&&C[L[aq]]?C[L[aq]].segments.xy:v),B,ax,ag,am,aw,ah,aj,ay,false,false,ab,L[aq],false,true)}else{this.Z3(av,false,an,af+(v/2),f,(C&&C[L[aq]]?C[L[aq]].segments.xy:v),B,ax,ag,am,aw,ah,aj,ay,false,false,ab,L[aq],false,true)}this.graphType=ai}}}if(am=="vertical"&&at!="Line"&&at!="Dotplot"){an+=f}else{if(am=="horizontal"&&at!="Line"&&at!="Dotplot"){af+=f}}}if(H.length>0){this.uj(I,H,T,ar,"Line",b,P,h,v,am,W,Q,ab,G,H.length,M,y,C,e)}this.jitter=r;break;case"Pie":this.showPieValues=false;for(var ap=0;ap<ar.length;ap++){this.pieColors=[];var av=[];var ay=[];for(var aq=0;aq<L.length;aq++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",L[aq]);this.pieColors.push(b[L[aq]]["color"]);av.push(R);ay.push([this.Y5(I)+"Ovr-"+S[L[aq]]+"-"+R])}var aj=this.sn(av);if(C){if(am=="vertical"){an=C[L[0]].segments.xy[ap]-this.margin}else{if(am=="horizontal"){af=C[L[0]].segments.xy[ap]-this.margin}}}if(am=="vertical"){this.vK(aj,an+(v/2),af-(h/2),Math.min((h/2),(v/2))-2,ay);an+=v}else{if(am=="horizontal"){this.vK(aj,an+(h/2),af+(v/2),Math.min((h/2),(v/2))-2,ay);af+=v}}}break;case"Stacked":case"StackedLine":case"StackedPercent":case"StackedPercentLine":for(var aq=0;aq<L.length;aq++){if(b[L[aq]]["type"].match(/Line/)){H.push(L[aq])}else{ao.push(L[aq])}}for(var ap=0;ap<ar.length;ap++){var av=[];var aw=[];var ay=[];var aj=[];var g=0;var ae=0;for(var aq=0;aq<ao.length;aq++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",ao[aq]);if(R>0){g+=R}else{ae+=R}}for(var aq=0;aq<ao.length;aq++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",ao[aq]);av.push(R);aw.push(b[ao[aq]]["color"]);aj.push(false);ay.push([this.Y5(I)+"Ovr-"+S[L[aq]]+"-"+R])}if(C){if(am=="vertical"){an=C[L[0]].segments.xy[ap]}else{if(am=="horizontal"){af=C[L[0]].segments.xy[ap]}}}this.q5(av,an+(am=="vertical"?Y*(C?0.5:1):0),af+(am=="horizontal"?Y*(C?0.5:1):0),v-X,false,at.match(/Percent/)?true:false,[g,ae],B,ax<0?-ax*B:0,am,aw,aj,ay,false,ab,false,true);if(am=="vertical"){an+=v}else{if(am=="horizontal"){af+=v}}}if(H.length>0){if(at.match(/Percent/)){var K={};for(var aq=0;aq<H.length;aq++){var R=this.Mk(ar[ap],I=="smp"?"x":"z",H[aq]);K[H[aq]]=[];ak=this.cp(T[H[aq]]);for(var ap=0;ap<ar.length;ap++){K[H[aq]][ar[ap]]=this.cL(ak[0],ak[1],R)}}this.uj(I,H,K,ar,"Line",b,P,h,v,am,W,Q,ab,G,H.length,M,y,C,e)}else{this.uj(I,H,T,ar,"Line",b,P,h,v,am,W,Q,ab,G,H.length,M,y,C,e)}}break;case"Treemap":var K={};var k=this.meta.data[I=="smp"?"x":"z"][L[0]];if(k.type=="String"){for(var aq=0;aq<G.length;aq++){if(K.hasOwnProperty(G[aq])){K[G[aq]]++}else{K[G[aq]]=1}}}else{var w=this.isGroupedData?this.data.w:this.data.y;for(var aq=0;aq<ar.length;aq++){K[w.smps[ar[aq]]]=G[aq]}}var m;if(am=="vertical"){m=this.m9(K,k,this.x,h,an,af-h);this.n2(m,0,0)}else{if(am=="horizontal"){m=this.m9(K,k,h,this.y,an,af);this.n2(m,0,0)}}break;case"Boxplot":var x=[];for(var aq=0;aq<ar.length;aq++){x[aq]=[];for(var ap=0;ap<L.length;ap++){var R=this.Mk(ar[aq],I=="smp"?"x":"z",L[ap]);x[aq].push(R)}}var aw=[];var ah=[];var ay=[];var ag=[];var aj=[];for(var aq=0;aq<ar.length;aq++){var ad=this.UL(x[aq]);x[aq]=[ad[4],ad[5],ad[1],ad[3],ad[2],ad[6],ad[0],ad[8],ad[7]];aw.push(this.foreground);ay.push(I=="smp"?[-1,ar[aq]]:[ar[aq],-1]);aj.push("open")}this.kp(x,an,af+(f/2),f*2,(C&&C[L[0]]?C[L[0]].segments.xy:v),B,ax,am,aw,aj,ay);break}this.To({p:["resetClipArea"],t:"Overlays"});if(at!="Pie"&&at!="Treemap"){this.ra();if(am=="vertical"&&!D){var A=W-(this.pb(this.pQ(J))+(this.margin*3));var Z=W-(this.margin*1.5);if(!this.skipOverlaysTicks){for(var aq=0;aq<J.length;aq++){var E=((J[aq]-ax)*B);var au=Q-E;this.To({p:["drawLine","line",W-this.margin,au,W,au,this.panelOverlayBackgroundBorderColor],t:"Overlays"});this.To({p:["drawText",J[aq].toString(),Z,au,this.overlayTextFont,this.overlayTextColor,"right","middle"],t:"Overlays"})}if(y==null&&L.length==1){this.To({p:["drawText",L[0],W+this.x+this.margin,Q-(h/2),this.overlayTextFont,this.overlayTextColor,"left","middle"],i:[this.Y5(I)+"Overlay-"+y],t:"Overlays"})}}if(M){this.To({p:["drawShape","rectangle",W+(this.x/2),Q+1-(h/2),this.x,h,false,this.panelOverlayBackgroundBorderColor,"open",false,1],t:"Overlays"})}else{this.To({p:["drawLine","line",W,Q-h,W,Q,this.panelOverlayBackgroundBorderColor],t:"Overlays"})}}else{if(am=="horizontal"&&!D){var au=y?Q+this.y:Q-(this.margin*1.5);if(!this.skipOverlaysTicks){for(var aq=0;aq<J.length;aq++){var E=((J[aq]-ax)*B);var Z=ab?W+ab-E:W+E;if(y){this.To({p:["drawLine","line",Z,au+this.margin,Z,au,this.panelOverlayBackgroundBorderColor],t:"Overlays"});this.To({p:["drawText",J[aq].toString(),Z,au+(this.margin*1.5),this.overlayTextFont,this.overlayTextColor,"center","top"],t:"Overlays"})}else{this.To({p:["drawLine","line",Z,Q-this.margin,Z,Q,this.panelOverlayBackgroundBorderColor],t:"Overlays"});this.To({p:["drawText",J[aq].toString(),Z,au,this.overlayTextFont,this.overlayTextColor,ab?"left":"right","middle",ab?-Math.PI/2:Math.PI/2],t:"Overlays"})}}}if(M){this.To({p:["drawShape","rectangle",W+(h/2),Q+(this.y/2),h,this.y,false,this.panelOverlayBackgroundBorderColor,"open",false,1],t:"Overlays"})}else{if(y){this.To({p:["drawLine","line",W,au,W+h,au,this.panelOverlayBackgroundBorderColor],t:"Overlays"})}else{this.To({p:["drawLine","line",W,Q,W+h,Q,this.panelOverlayBackgroundBorderColor],t:"Overlays"})}}}}this.cq()}};this.RU=function(c){var a=this.fr();var b=this.PN();switch(c){case"top":if(this.s9()&&this.layoutValid){return[a,b-(this.varOverlaysThicknessTop||0),a+this.x+1,b]}else{return[a,this.marginTop+this.offsetY,a+this.x+1,b]}case"bottom":if(this.s9()&&this.layoutValid){return[a,b+this.y,a+this.x+1,b+this.y+this.bottom+(this.varOverlaysThicknessBottom||0)]}else{return[a,b+this.y,a+this.x+1,b+this.y+this.bottom]}case"right":if(this.s9()&&this.layoutValid){return[a+this.x,b,a+this.x+this.right+(this.smpOverlaysThicknessRight||0),b+this.y+1]}else{return[a+this.x,b,a+this.x+this.right,b+this.y+1]}case"left":if(this.s9()&&this.layoutValid){return[this.marginLeft+this.offsetX-(this.smpOverlaysThicknessLeft||0),b,a,b+this.y+1]}else{return[this.marginLeft+this.offsetX,b,a,b+this.y+1]}default:return false}};this.PO=function(){return true;return !this.layoutValid;if(!this.layoutValid){return true}else{if(this.layoutValid&&this.data.l&&this.data.l.weight&&this.layoutCurrent==this.data.l.weight.length-1){return true}else{if(this.layoutValid&&!this.layoutTopology){return this.layoutAxis==1}else{if(this.Qc()){return(this.layoutCurrent+1)%this.layoutRows}else{if(this.Ir()){return(this.layoutCurrent+1)%this.layoutCols}else{return false}}}}}};this.na=function(g,G){var y={};var H=this.plotInfo;var b=this.Md();var J=this.meta.data;this.smpOverlayInfo={};this.varOverlayInfo={};var E=this;var z=function(j,i){if(j.type=="Numeric"){return E.PW(j.colorBrew,i)}else{if(j.colorBy){return j.colorBy[i]}else{if(j.colors){return j.colors[j.order[i]]}}}};if(this.graphType=="Treemap"||this.graphType=="TagCloud"||this.graphType=="Sankey"||this.graphType=="Tree"||this.graphType=="Meter"){return}if(this.showOverlays){if(this.smpOverlays.length>0&&(g==null||g=="smp")){I=0;for(var L=0;L<this.smpOverlays.length;L++){y[this.smpOverlays[L]]=I;I++}var k=H.sampleOverlays;var N=this.isGroupedData?this.data.w.factors:this.data.x;if(this.Qc()){var s={};for(var L=0;L<this.smpOverlays.length;L++){var w=this.smpOverlays[L];var q=this.Aj(w,this.maxOverlayStringLen);if(w!="-"){var c=this.RU(this.smpOverlayProperties[w]["position"]);var M=this.smpOverlayProperties[w]["type"];var A=this.smpOverlayProperties[w]["position"];var t=this.TW("smp",M,A);var C=this.smpOverlayProperties[w]["hideName"];var a=this.smpOverlayProperties[w]["hideValue"];var u=this.smpOverlayProperties[w]["showBox"];var e=this.smpOverlayProperties[w]["ticksOnBottomOrLeft"];var o=this.smpOverlayProperties[w]["rotate"];var F=this.smpOverlayProperties[w]["invert"];if(G&&G!=A){continue}if(!this.smpOverlayProperties[w]["type"].match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){if(!s.hasOwnProperty(w)){this.uj("smp",t,N,b,M,this.smpOverlayProperties,this.smpOverlays,k[w].width,k[w].ext,"vertical",k[w].tl,k[w].xy+k[w].width,F,false,false,u,e&&t.length==1?y[w]:null,k,H.samples);for(var K=0;K<t.length;K++){s[t[K]]=true}}if(this.PO()){this.smpOverlayInfo[w]=k[w].label;if(!C&&(t.length>1||!e)&&this.showNameOverlays){this.To({p:["drawText",q,k[w].title,k[w].label,this.overlayTextFont,this.smpOverlayProperties[w]["color"],"left","middle",false,this.pb(q,this.overlayTextFont)],i:["SmpOverlay-"+y[w]],t:"Overlays"})}}}else{var B=k[w].segments;for(var K=0;K<B.labels.length;K++){var x=B.labels[K];var d=x!=null?z(J.x[w],x):this.missingDataColor;if(M!="Text"&&M!="Boolean"){var h=B.xy[K][0];var f=B.xy[K][1];var Q=k[w].xy;var P=k[w].xy+k[w].width;if(M=="Increase"){this.To({p:["drawShape","path",[h,f,f,h],[P,Q,P,P],false,false,d,false,false,false,false,true,c],i:["SmpOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":x"),t:"Overlays"})}else{if(M=="Decrease"){this.To({p:["drawShape","path",[h,f,h,h],[Q,P,P,Q],false,false,d,false,false,false,false,true,c],i:["SmpOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":x"),t:"Overlays"})}else{this.To({p:["drawShape","rectangle",B.xy[K][2],B.mid,B.xy[K][3],k[w].width,d,false,false,false,false,true,c],i:["SmpOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":x"),t:"Overlays"})}}}if((this.showValueOverlays||M=="Text")&&M!="Boolean"&&!a){if(M=="Increase"){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),B.xy[K][2]+this.margin,k[w].xy+this.margin,this.overlayTextFont,this.overlayTextColor,"left","middle",false,B.xy[K][3]-2],t:"Overlays"})}else{if(M=="Decrease"){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),B.xy[K][2]-this.margin,k[w].xy+this.margin,this.overlayTextFont,this.overlayTextColor,"right","middle",false,B.xy[K][3]-2],t:"Overlays"})}else{if(B.xy[K][3]>k[w].width&&!o){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),B.xy[K][2],B.mid,this.overlayTextFont,this.overlayTextColor,"center","middle",false,B.xy[K][3]-2],t:"Overlays"})}else{if(this.overlayTextFontSize<B.xy[K][3]){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,k[w].width),B.xy[K][2],B.mid,this.overlayTextFont,this.overlayTextColor,"center","middle",-Math.PI/2,k[w].width-2],t:"Overlays"})}}}}}if(M=="Boolean"&&x){this.To({p:["drawShape","rectangle",B.xy[K][2],B.mid,k[w].width/2,k[w].width/2,"black",false,false,false,false,true,c],i:["SmpOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":x"),t:"Overlays"})}this.smpOverlayInfo[w]=B.mid;if(!C&&this.showNameOverlays){this.To({p:["drawText",q,k[w].title,B.mid,this.overlayTextFont,this.overlayTextColor,"left","middle",false,this.pb(q,this.overlayTextFont)],i:["SmpOverlay-"+y[q]],t:"Overlays"})}}}}}}else{var s={};for(var L=0;L<this.smpOverlays.length;L++){var w=this.smpOverlays[L];var q=this.Aj(w,this.maxOverlayStringLen);if(w!="-"){var c=this.RU(this.smpOverlayProperties[w]["position"]);var M=this.smpOverlayProperties[w]["type"];var A=this.smpOverlayProperties[w]["position"];var t=this.TW("smp",M,A);var C=this.smpOverlayProperties[w]["hideName"];var a=this.smpOverlayProperties[w]["hideValue"];var u=this.smpOverlayProperties[w]["showBox"];var e=this.smpOverlayProperties[w]["ticksOnBottomOrLeft"];var o=this.smpOverlayProperties[w]["rotate"];var F=this.smpOverlayProperties[w]["invert"];if(G&&G!=A){continue}if(!this.smpOverlayProperties[w]["type"].match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){if(!s.hasOwnProperty(w)){this.uj("smp",t,N,b,M,this.smpOverlayProperties,this.smpOverlays,k[w].width,k[w].ext,"horizontal",k[w].xy,k[w].tl,F?k[w].width:false,false,false,u,e,k,H.samples);for(var K=0;K<t.length;K++){s[t[K]]=true}}if(this.PO()){this.smpOverlayInfo[w]=k[w].title;if(!C&&this.showNameOverlays){if(e){if(t.length==1){var v=this.pb(q,this.overlayTextFont);if(v>k[w].width){var r=2;var O=this.j1(q,r);var D=0;while(this.pb(O,this.overlayTextFont)>k[w].width&&r<10){r++;O=this.j1(q,r);D+=this.margin}this.To({p:["drawText",O,k[w].label,k[w].title+D,this.overlayTextFont,this.smpOverlayProperties[w]["color"],"center","middle"],i:["SmpOverlay-"+y[w]],t:"Overlays"})}else{this.To({p:["drawText",q,k[w].label,k[w].title,this.overlayTextFont,this.smpOverlayProperties[w]["color"],"center","middle"],i:["SmpOverlay-"+y[w]],t:"Overlays"})}}else{this.To({p:["drawText",q,k[w].label,k[w].title,this.overlayTextFont,this.smpOverlayProperties[w]["color"],A,"middle",A=="left"?-Math.PI/2:Math.PI/2],i:["SmpOverlay-"+y[w]],t:"Overlays"})}}else{this.To({p:["drawText",q,k[w].label,k[w].title,this.overlayTextFont,this.smpOverlayProperties[w]["color"],A=="left"?"right":"left","middle",A=="left"?-Math.PI/2:Math.PI/2],i:["SmpOverlay-"+y[w]],t:"Overlays"})}}}}else{var B=k[w].segments;for(var K=0;K<B.labels.length;K++){var x=B.labels[K];var d=x!=null?z(J.x[w],x):this.missingDataColor;if(M!="Text"&&M!="Boolean"){var h=A=="left"?k[w].xy:k[w].xy+k[w].width;var f=A=="left"?k[w].xy+k[w].width:k[w].xy;var Q=B.xy[K][0];var P=B.xy[K][1];if(M=="Increase"){this.To({p:["drawShape","path",[f,f,h,f],[Q,P,P,Q],false,false,d,false,false,false,false,true,c],i:["SmpOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":x"),t:"Overlays"})}else{if(M=="Decrease"){this.To({p:["drawShape","path",[h,f,f,h],[Q,Q,P,Q],false,false,d,false,false,false,false,true,c],i:["SmpOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":x"),t:"Overlays"})}else{this.To({p:["drawShape","rectangle",B.mid,B.xy[K][2],k[w].width,B.xy[K][3],d,false,false,false,false,true,c],i:["SmpOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":x"),t:"Overlays"})}}}if((this.showValueOverlays||M=="Text")&&M!="Boolean"&&!a){if(M=="Increase"){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),k[w].xy+(A=="left"?0:k[w].width)+(this.margin*3*(A=="left"?1:-1)),B.xy[K][0]+(this.margin*3),this.overlayTextFont,this.overlayTextColor,"left","middle",A=="left"?-Math.PI/2:Math.PI/2,B.xy[K][3]-2],t:"Overlays"})}else{if(M=="Decrease"){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),k[w].xy+(A=="left"?0:k[w].width)+(this.margin*3*(A=="left"?1:-1)),B.xy[K][1]-(this.margin*3),this.overlayTextFont,this.overlayTextColor,"right","middle",A=="left"?-Math.PI/2:Math.PI/2,B.xy[K][3]-2],t:"Overlays"})}else{if(B.xy[K][3]>k[w].width&&!o){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),B.mid,B.xy[K][2],this.overlayTextFont,this.overlayTextColor,"center","middle",A=="left"?-Math.PI/2:Math.PI/2,B.xy[K][3]-2],t:"Overlays"})}else{if(this.overlayTextFontSize<B.xy[K][3]){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,k[w].width),B.mid,B.xy[K][2],this.overlayTextFont,this.overlayTextColor,"center","middle",false,k[w].width-2],t:"Overlays"})}}}}}if(M=="Boolean"&&x){this.To({p:["drawShape","rectangle",B.mid,B.xy[K][2],k[w].width/2,k[w].width/2,"black",false,false,false,false,true,c],i:["SmpOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":x"),t:"Overlays"})}}if(this.PO()||(this.s9()&&this.layoutValid)){this.smpOverlayInfo[w]=B.mid;if(!C&&this.showNameOverlays){this.To({p:["drawText",q,B.mid,k[w].title,this.overlayTextFont,this.overlayTextColor,A=="left"?"right":"left","middle",A=="left"?-Math.PI/2:Math.PI/2],i:["SmpOverlay-"+y[q]],t:"Overlays"})}}}}}}}if(this.varOverlays.length>0&&this.s9()&&(g==null||g=="var")){var s={};var I=0;for(var L=0;L<this.varOverlays.length;L++){y[this.varOverlays[L]]=I;I++}var l=H.variableOverlays;for(var L=0;L<this.varOverlays.length;L++){var w=this.varOverlays[L];var q=this.Aj(w,this.maxOverlayStringLen);if(w!="-"){var c=this.RU(this.varOverlayProperties[w]["position"]);var M=this.varOverlayProperties[w]["type"];var A=this.varOverlayProperties[w]["position"];var t=this.TW("var",M,A);var C=this.varOverlayProperties[w]["hideName"];var a=this.varOverlayProperties[w]["hideValue"];var u=this.varOverlayProperties[w]["showBox"];var e=this.varOverlayProperties[w]["ticksOnBottomOrLeft"];var o=this.varOverlayProperties[w]["rotate"];var F=this.varOverlayProperties[w]["invert"];if(G&&G!=A){continue}if(!this.varOverlayProperties[w]["type"].match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){if(!s.hasOwnProperty(w)){this.uj("var",t,this.data.z,this.varIndices,M,this.varOverlayProperties,this.varOverlays,l[w].width,l[w].ext,"vertical",l[w].tl,l[w].xy+l[w].width,F,false,false,u,e&&t.length==1?y[w]:null,l,H.variables);for(var K=0;K<t.length;K++){s[t[K]]=true}}if(this.PO()){this.varOverlayInfo[w]=l[w].label;if(!C&&(t.length>1||e)&&this.showNameOverlays){if(this.smpTitleLabelPosition=="left"){this.To({p:["drawText",q,l[w].title2+this.x+(this.margin*2),l[w].label,this.overlayTextFont,this.varOverlayProperties[w]["color"],"left","middle",false,this.pb(q,this.overlayTextFont)],i:["VarOverlay-"+y[w]],t:"Overlays"})}else{this.To({p:["drawText",q,l[w].title-(this.x+(this.margin*2)),l[w].label,this.overlayTextFont,this.varOverlayProperties[w]["color"],"right","middle",false,this.pb(q,this.overlayTextFont)],i:["VarOverlay-"+y[w]],t:"Overlays"})}}}}else{var B=l[w].segments;for(var K=0;K<B.labels.length;K++){var x=B.labels[K];var d=x!=null?z(J.z[w],x):this.missingDataColor;if(M!="Text"&&M!="Boolean"){var h=B.xy[K][0];var f=B.xy[K][1];var Q=l[w].xy;var P=l[w].xy+l[w].width;if(M=="Increase"){this.To({p:["drawShape","path",[h,f,f,h],[P,Q,P,P],false,false,d,false,false,false,false,true,c],i:["VarOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":z"),t:"Overlays"})}else{if(M=="Decrease"){this.To({p:["drawShape","path",[h,f,h,h],[Q,P,P,Q],false,false,d,false,false,false,false,true,c],i:["VarOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":z"),t:"Overlays"})}else{this.To({p:["drawShape","rectangle",B.xy[K][2],B.mid,B.xy[K][3],l[w].width,d,false,false,false,false,true,c],i:["VarOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":z"),t:"Overlays"})}}}if((this.showValueOverlays||M=="Text")&&M!="Boolean"&&!a){if(M=="Increase"){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),B.xy[K][2]+this.margin,l[w].xy+this.margin,this.overlayTextFont,this.overlayTextColor,"left","middle",false,B.xy[K][3]-2],t:"Overlays"})}else{if(M=="Decrease"){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),B.xy[K][2]-this.margin,l[w].xy+this.margin,this.overlayTextFont,this.overlayTextColor,"right","middle",false,B.xy[K][3]-2],t:"Overlays"})}else{if(B.xy[K][3]>l[w].width&&!o){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,B.xy[K][3]),B.xy[K][2],B.mid,this.overlayTextFont,this.overlayTextColor,"center","middle",false,B.xy[K][3]-2],t:"Overlays"})}else{if(this.overlayTextFontSize<B.xy[K][3]){this.To({p:["drawText",this.Aj(x,this.overlayTextFontSize,l[w].width),B.xy[K][2],B.mid,this.overlayTextFont,this.overlayTextColor,"center","middle",-Math.PI/2,l[w].width-2],t:"Overlays"})}}}}if(M=="Boolean"&&x){this.To({p:["drawShape","rectangle",B.xy[K][2],l[w].mid,l[w].width/2,l[w].width/2,"black",false,false,false,false,true,c],i:["VarOvr-"+L+"-"+x],h:this.ID(false,false,"Property:"+w+":"+x+":z"),t:"Overlays"})}}this.varOverlayInfo[w]=B.mid;if(!C&&this.showNameOverlays){if(this.smpTitleLabelPosition=="left"){this.To({p:["drawText",q,l[w].title2+this.x+(this.margin*2),B.mid,this.overlayTextFont,this.overlayTextColor,"left","middle",false,this.pb(q,this.overlayTextFont)],i:["VarOverlay-"+y[q]],t:"Overlays"})}else{this.To({p:["drawText",q,l[w].title-(this.x+(this.margin*2)),B.mid,this.overlayTextFont,this.overlayTextColor,"right","middle",false,this.pb(q,this.overlayTextFont)],i:["VarOverlay-"+y[q]],t:"Overlays"})}}}}}}}}};this.qi=function(){var b=this.plotInfo;if(this.s9()){var e=this.fr();var w=this.PN();var k=this.splitSeparation/2;var x={v:[e-this.splitSeparation],h:[w-k],ov:[],os:[]};if(this.splitSamplesBy){if(e&&this.layoutValid&&this.layoutGlobalGroups&&this.meta.data.g){}else{if(this.isGraphTime){}else{if(this.isGroupedData){}else{var n=0;for(var g=0;g<b.indices.length;g++){var m=b.samples[g].split;if(m!=n){n=m;var d=e+(this.x/2);var r=w+((g-1)*this.rbs)+this.blockSeparation+(b.samples[g-1].split*this.splitSeparation)+(this.splitSeparation/2);x.h.push(r);this.To({p:["drawShape","rectangle",d,r,this.x+this.margin,this.splitSeparation,this.plotBackgroundColor,this.plotBackgroundColor],t:"Overlays"});if(this.smpOverlays.length){var a=this.smpOverlayProperties;for(var f=0;f<this.smpOverlays.length;f++){var c=this.smpOverlays[f];if(a[c]&&!a[c]["type"].match(/Heatmap|Text|Default|Increase|Decrease|Boolean|Pie/)){d=b.sampleOverlays[c].xy+(b.sampleOverlays[c].width/2);this.To({p:["drawShape","rectangle",d,r,b.sampleOverlays[c].width+this.margin,this.splitSeparation,this.plotBackgroundColor,this.plotBackgroundColor],t:"Overlays"});x.os.push([b.sampleOverlays[c].xy,r-k,b.sampleOverlays[c].xy+b.sampleOverlays[c].width,r-k]);x.os.push([b.sampleOverlays[c].xy,r+k,b.sampleOverlays[c].xy+b.sampleOverlays[c].width,r+k])}}}}}}}}x.h.push(w+this.y+k)}if(this.splitVariablesBy&&!this.splitSamplesBy){x.h.push(w+this.y+k)}if(this.splitVariablesBy){var n=0;for(var g=0;g<this.varIndices.length;g++){var m=b.variables[g].split;if(m!=n){n=m;var d=e+(g*this.cbs)+(b.variables[g].split*this.splitSeparation)-(this.splitSeparation/2);var r=w+(this.y/2);x.v.push(d-k);this.To({p:["drawShape","rectangle",d,r,this.splitSeparation,this.y+this.margin,this.plotBackgroundColor,this.plotBackgroundColor],t:"Overlays"});if(this.varOverlays.length){var a=this.varOverlayProperties;for(var f=0;f<this.varOverlays.length;f++){var c=this.varOverlays[f];if(a[c]&&!a[c]["type"].match(/Heatmap|Text|Default|Increase|Decrease|Boolean|Pie/)){r=b.variableOverlays[c].xy+(b.variableOverlays[c].width/2);this.To({p:["drawShape","rectangle",d,r,this.splitSeparation,b.variableOverlays[c].width+this.margin,this.plotBackgroundColor,this.plotBackgroundColor],t:"Overlays"});x.ov.push([d-k,b.variableOverlays[c].xy,d-k,b.variableOverlays[c].xy+b.variableOverlays[c].width]);x.ov.push([d+k,b.variableOverlays[c].xy,d+k,b.variableOverlays[c].xy+b.variableOverlays[c].width])}}}}}x.v.push(e+this.x)}if(this.splitSamplesBy&&!this.splitVariablesBy){x.v.push(e+this.x)}if(x.v.length>1||x.h.length>1){for(var g=1;g<x.v.length;g++){for(var f=1;f<x.h.length-1;f++){this.To({p:["drawLine","line",x.v[g-1]+this.splitSeparation,x.h[f]-k,x.v[g],x.h[f]-k,this.heatmapCellBoxColor,this.heatmapCellBoxWidth],t:"Overlays"})}}for(var g=1;g<x.v.length-1;g++){for(var f=1;f<x.h.length;f++){this.To({p:["drawLine","line",x.v[g],x.h[f-1]+k,x.v[g],x.h[f]-k,this.heatmapCellBoxColor,this.heatmapCellBoxWidth],t:"Overlays"})}}for(var g=0;g<x.os.length;g++){this.To({p:["drawLine","line",x.os[g][0],x.os[g][1],x.os[g][2],x.os[g][3],this.panelOverlayBackgroundBorderColor],t:"Overlays"})}for(var g=0;g<x.ov.length;g++){this.To({p:["drawLine","line",x.ov[g][0],x.ov[g][1],x.ov[g][2],x.ov[g][3],this.panelOverlayBackgroundBorderColor],t:"Overlays"})}}}else{var e=this.fr();var w=this.PN();var k=this.splitSeparation/2;if(this.splitSamplesBy){if(e&&this.layoutValid&&this.layoutGlobalGroups&&this.meta.data.g){}else{if(this.isGraphTime){}else{var n=0;for(var g=0;g<b.indices.length;g++){var m=b.samples[g].split;var v=this.pP(this.plotBackgroundColor);var u=this.gF();if(m!=n){n=m;if(this.Qc()){var d=e+(g*((this.rbs*u)+this.blockSeparation))+(b.samples[g].split*this.splitSeparation)-(this.splitSeparation/2);var r=w+(this.y/2);this.To({p:["drawShape","rectangle",d,r,this.splitSeparation,this.y+this.margin,v,v],t:"Axes"});this.To({p:["drawLine","line",d-k,w,d-k,w+this.y,this.panelBackgroundBorderColor],t:"Overlays"});this.To({p:["drawLine","line",d+k,w,d+k,w+this.y,this.panelBackgroundBorderColor],t:"Overlays"})}else{var d=e+(this.x/2);var r=w+(g*((this.rbs*u)+this.blockSeparation))+(b.samples[g].split*this.splitSeparation)-(this.splitSeparation/2);this.To({p:["drawShape","rectangle",d,r,this.x+this.margin,this.splitSeparation,v,v],t:"Overlays"});this.To({p:["drawLine","line",e,r-k,e+this.x,r-k,this.panelBackgroundBorderColor],t:"Overlays"});this.To({p:["drawLine","line",e,r+k,e+this.x,r+k,this.panelBackgroundBorderColor],t:"Overlays"})}}}}}}}};this.zn=function(e,c){var d;if(e){d=this.xAxis2Title?this.xAxis2Title:false}else{d=this.xAxisTitle?this.xAxisTitle:false}var a={standardDeviation:"Std Dev.",standardErrorMean:"Std Error of Mean",confidenceInterval95:"95% CI"};var b=this.graphType!="Boxplot"&&!this.graphType.match(/stacked/i)&&this.graphType!="Treemap";if(e){if(this.gU("xAxis2Title")&&!c){return this.gU("xAxis2Title")}if((this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)&&this.xAxis2Values.length>0&&this.barType!="swimmer")||c){d=this.xAxis2Title?this.xAxis2Title:"";if(this.showErrorBars&&this.isGroupedData&&b){if(d!=""){}else{}}}else{d=this.xAxis2Title?this.xAxis2Title:""}}else{if(this.gU("xAxisTitle")&&!c){return this.gU("xAxisTitle")}d=this.xAxisTitle?this.xAxisTitle:"";if(this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)&&this.xAxisValues.length>0&&this.barType!="swimmer"){if(this.graphType.match(/BarLine|StackedLine|StackedPercentLine/)){}else{if(this.graphType.match(/DotLine/)){}else{if(this.graphType=="AreaLine"){}}}}if(this.showErrorBars&&(this.isGroupedData||(this.layoutValid&&this.data.l&&this.data.l.group&&b))&&b&&this.barType!="swimmer"){if(d!=""){}else{}}}return this.transformData&&d!=""?this.transformData+" "+d:d};this.pZ=function(){var s,g,d,o,x,m,u,b,a;var n=this.fr();var f=this.PN();var k=this.graphType=="Gantt"?1:this.layoutComb?0:0;var w=this.graphType=="Gantt"?1:this.layoutComb?0:0;var c=this;var j=function(i,h){if(c.graphType=="Gantt"){return c.dateFormat(i,":yyyy:mmm dd").replace(/:/g,"\n")}else{if(c.xAxisTransform&&c.xAxisTransform.match(/log|exp/)&&!c.xAxisTransformTicks){return c.sV(c.Jb(c.xAxisTransform,i,true),h||"xAxis")}else{if(c.isTransformedData&&c.isTransformedData.match(/log|exp/)&&!c.xAxisTransformTicks){return c.sV(c.Jb(c.isTransformedData,i,true),h||"xAxis")}else{return c.sV(i,h||"xAxis")}}}};if(this.graphType=="Treemap"||this.graphType=="TagCloud"||this.graphType=="ParallelCoordinates"||this.graphType=="Sankey"||this.graphType=="Tree"||(this.graphType=="Meter"&&!this.meterType.match(this.graphOrientation))){return}if(!this.layoutValid){this.layoutAxis=3}if(this.s9()){var r=this.QH();if(this.showHeatmapIndicator){if(this.heatmapIndicatorPosition=="right"){this.heatmapIndicatorY=f;u=this.width-(this.marginRight+this.j0()+(this.heatmapIndicatorBeforeOverlays?this.legend.overlays.width:0))}else{if(this.heatmapIndicatorPosition=="top"){u=(n+(this.x/2))-(this.heatmapIndicatorWidth/2)}else{if(this.heatmapIndicatorPosition=="topLeft"){if(this.left>(this.heatmapIndicatorWidth+(this.margin*12))){u=n-(this.heatmapIndicatorWidth+(this.margin*4))}else{u=this.marginLeft+this.offsetX+(this.margin*6)}}else{if(this.right>(this.heatmapIndicatorWidth+(this.margin*6))){u=n+this.x+(this.margin*2)}else{u=this.width-(this.marginRight+(this.heatmapIndicatorWidth+(this.margin*6)))}}}}u+=this.margin;b=this.heatmapIndicatorY;if(this.heatmapIndicatorPosition!="right"){if(this.varDendrogramPosition=="top"){b-=this.qX()}b-=this.varOverlaysThicknessTop||0;if(this.varTitleLabelPosition!="bottom"){b-=this.aZ();b-=this.IP()}b-=this.margin}if(!this.isOncoprint&&!this.isDOE){var e=this.p6();if(this.tO(e.colorBrew)){for(var p=0;p<e.colorBrew.length;p++){b=this.bP(u,b,e.colorBrew[p],e.colorBrew[p].level,true);b+=this.margin*2}}else{var q=this.colorBy;var v=this.outlineBy;this.colorBy=false;this.outlineBy=false;this.bP(u,b,e,this.xAxisTitle?this.xAxisTitle:false,true);this.colorBy=q;this.outlineBy=v}}}}else{if((this.xAxisTransform&&this.xAxisTransform.match(/log/)&&!this.xAxisTransformTicks)||(this.isTransformedData&&this.isTransformedData.match(/log|exp/)&&!this.xAxisTransformTicks)){this.xAxisDecs=parseInt(Math.abs(this.xAxisMin))}if(this.Qc()){a=this.xAxisMin<0?f+this.y-((0-this.xAxisMin)*this.xAxisUnit):f+this.y;if(this.xAxisShow&&(this.layoutAxis==1||this.layoutAxis==3)){if(this.xAxisTitle&&this.xAxisTitle!=""){u=n+(this.xAxisTitleFontSize/2)-this.kr();b=f+(this.y/2);s=this.zn();this.To({p:["drawText",s,u,b,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle",-Math.PI/2],t:"Axes"})}o="right";g=this.xAxisValuesRaw;u=n-(this.margin*2);for(var p=k;p<g.length-w;p++){x=this.xAxisValuesRaw[p];d=this.Zt()?x>this.xAxisMin:x>=this.xAxisMin;if(d&&(this.graphType.match(/Meter|Percent/)?x<=this.xAxisMax:x<=this.xAxisMax)){m=j(x);b=f+this.y-((x-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawText",m,u,b,this.xAxisTextFont,this.xAxisTextColor,"right","middle"],b:a,t:"Axes"})}}}if(this.xAxis2Show&&(this.layoutAxis==2||this.layoutAxis==3)&&this.graphType!="Meter"){o="left";u=n+this.x+(this.margin*2);if(this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)&&this.xAxis2Values.length>0){a=this.xAxis2Min<0?f+this.y-((0-this.xAxis2Min)*this.xAxis2Unit):f+this.y;for(var p=k;p<this.xAxis2Values.length-w;p++){x=this.xAxis2ValuesRaw[p];d=this.Zt()?x>this.xAxis2Min:x>=this.xAxis2Min;if(d&&x<=this.xAxis2Max){m=j(x,"xAxis2");b=f+this.y-((x-this.xAxis2Min)*this.xAxis2Unit);this.To({p:["drawText",m,u,b,this.xAxisTextFont,this.xAxisTextColor,"left","middle"],b:a,t:"Axes"})}}}else{a=this.xAxisMin<0?f+this.y-((0-this.xAxisMin)*this.xAxisUnit):f+this.y;g=this.xAxisValuesRaw;for(var p=k;p<g.length-w;p++){x=g[p];d=this.Zt()?x>this.xAxisMin:x>=this.xAxisMin;if(d&&(this.graphType.match(/Percent/)?x<=this.xAxisMax:x<=this.xAxisMax)){m=j(x);b=f+this.y-((x-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawText",m,u,b,this.xAxisTextFont,this.xAxisTextColor,"left","middle"],b:a,t:"Axes"})}}}if(this.xAxis2Title!=""){u=n+this.x+this.kr(true)-(this.xAxisTitleFontSize/2);b=f+(this.y/2);s=this.zn(true);this.To({p:["drawText",s,u,b,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle",Math.PI/(this.xAxis2Rotate?-2:2)],t:"Axes"})}}}else{a=this.xAxisMin<0?n+this.x-((0-this.xAxisMin)*this.xAxisUnit):n;if(this.xAxisShow&&(this.layoutAxis==1||this.layoutAxis==3)){if(this.xAxisTitle&&this.xAxisTitle!=""){u=n+(this.x/2);b=f-((this.margin*4)+this.xAxisTextFontSize+(this.xAxisTitleFontSize/2));s=this.zn();this.To({p:["drawText",s,u,b,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle"],t:"Axes"})}g=this.xAxisValuesRaw;b=f-((this.margin*2)+(this.xAxisTextFontSize/2));if(this.Pi()){b-=(this.segregateVariablesBy.length+this.segregateSamplesBy.length)*this.stripThickness}for(var p=k;p<g.length-w;p++){x=g[p];d=this.Zt()?x>this.xAxisMin:x>=this.xAxisMin;if(d&&(this.graphType.match(/Meter|Percent/)?x<=this.xAxisMax:x<=this.xAxisMax)){m=j(x);if(this.invertGraph){u=n+this.x-((x-this.xAxisMin)*this.xAxisUnit)}else{u=n+((x-this.xAxisMin)*this.xAxisUnit)}this.To({p:["drawText",m,u,b,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],b:a,t:"Axes"})}}}if(this.xAxis2Show&&(this.layoutAxis==2||this.layoutAxis==3)&&this.graphType!="Meter"){b=f+this.y+(this.margin*2)+(this.xAxisTextFontSize/2);if(this.graphType.match(/BarLine|DotLine|AreaLine|StackedLine|StackedPercentLine/)&&this.xAxis2Values.length>0){a=this.xAxis2Min<0?n+this.x-((0-this.xAxis2Min)*this.xAxis2Unit):n;for(var p=k;p<this.xAxis2Values.length-w;p++){x=this.xAxis2ValuesRaw[p];d=this.Zt()?x>this.xAxis2Min:x>=this.xAxis2Min;if(d&&x<=this.xAxis2Max){m=j(x,"xAxis2");if(this.invertGraph){u=n+this.x-((x-this.xAxis2Min)*this.xAxis2Unit)}else{u=n+((x-this.xAxis2Min)*this.xAxis2Unit)}this.To({p:["drawText",m,u,b,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],b:a,t:"Axes"})}}}else{a=this.xAxisMin<0?n+this.x-((0-this.xAxisMin)*this.xAxisUnit):n;g=this.xAxisValuesRaw;for(var p=k;p<g.length-w;p++){x=g[p];d=this.Zt()?x>this.xAxisMin:x>=this.xAxisMin;if(d&&(this.graphType.match(/Percent/)?x<=this.xAxisMax:x<=this.xAxisMax)){m=j(x);if(this.invertGraph){u=n+this.x-((x-this.xAxisMin)*this.xAxisUnit)}else{u=n+((x-this.xAxisMin)*this.xAxisUnit)}this.To({p:["drawText",m,u,b,this.xAxisTextFont,this.xAxisTextColor,"center","middle"],b:a,t:"Axes"})}}}if(this.xAxis2Title!=""){u=n+(this.x/2);b=f+this.y+(this.margin*3)+this.xAxisTextFontSize+(this.xAxisTitleFontSize/2);s=this.zn(true);this.To({p:["drawText",s,u,b,this.xAxisTitleFont,this.xAxisTitleColor,"center","middle"],t:"Axes"})}}}if(!this.layoutValid){}}};this.cJ=function(){if(!this.decorationsOnTop){this.bE()}if(this.smpIndices&&this.smpIndices.length<1){return}if(!this.currentErrorBarsType){this.currentErrorBarsType=this.errorBarsType}if(this.currentErrorBarsType!=this.errorBarsType&&this.isGroupedData){this.Qs();this.currentErrorBarsType=this.errorBarsType}this.To({p:["setClipArea",this.UR()],t:"Data"});switch(this.graphType){case"Bar":if(this.stackBy||this.dodgeBy){this.AU()}else{this.ER(this.varIndices,"xAxis",this.varIndices.length);if(this.barType.match(/lollipop/)){this.UN(false,false,this.varIndices.length)}}break;case"Line":case"ParallelCoordinates":this.uN(this.varIndices,"xAxis");break;case"BarLine":this.ER(this.xAxisVarIndices,"xAxis",Math.max(this.xAxisVarIndices.length,this.xAxis2VarIndices.length));this.uN(this.xAxis2VarIndices,"xAxis2",Math.max(this.xAxisVarIndices.length,this.xAxis2VarIndices.length));break;case"Stacked":case"StackedPercent":this.AU();break;case"StackedLine":case"StackedPercentLine":this.AU();this.uN(this.xAxis2VarIndices,"xAxis2");break;case"Area":this.HN(this.varIndices,"xAxis");break;case"AreaLine":this.HN(this.xAxisVarIndices,"xAxis");this.HN(this.xAxis2VarIndices,"xAxis2",true);break;case"Boxplot":if(this.showBoxplotOriginalData){this.Us();this.UN(true,true,this.varIndices.length)}else{if(this.showViolinBoxplot){this.UN(true,true,this.varIndices.length);this.Us(true)}else{this.Us()}}break;case"Gantt":this.y7();break;case"Meter":break;case"Dotplot":this.UN(false,false,this.varIndices.length);break;case"DotLine":this.UN(false,false,Math.max(this.xAxisVarIndices.length,this.xAxis2VarIndices.length));this.uN(this.xAxis2VarIndices,"xAxis2",Math.max(this.xAxisVarIndices.length,this.xAxis2VarIndices.length));break;case"Heatmap":if(this.isContour){this.NY();this.vk()}else{if(this.isOncoprint&&this.showHeatmapOncoprint){switch(this.oncoprintHeatmapPosition){case"top":this.NY(true);this.NY(false,true);break;case"right":this.NY();this.NY(true,true);break;case"bottom":this.NY();this.NY(true,true);break;case"left":this.NY(true);this.NY(false,true);break}}else{this.NY()}}break;case"Treemap":this.xC();break;case"TagCloud":this.wa();break;case"Sankey":this.Dv();break;case"Tree":this.TL();break}this.To({p:["resetClipArea"],t:"Data"});if(this.graphType=="ParallelCoordinates"){this.OW()}if(this.decorations&&this.decorations.marker){this.oz()}if(this.decorationsOnTop){this.bE()}if(this.motionBy){var a=this.left+this.x;var b=this.top+40+(this.margin*2);this.To({p:["drawText",this.motionObject.current,a,b,this.motionCurrentFont,this.motionCurrentColor,"right","bottom"],t:"Data"})}return true};this.ER=function(E,h,M){var f=this;var k=function(c){if(f.isCxplot&&f.graphOrientation=="horizontal"){return c.reverse()}else{if(f.graphType.match(/Line/)){var a=[];for(var b=0;b<c.length;b++){if(f.varIndices.includes(c[b])){a.push(c[b])}}return a}else{return c}}};var O=this.isDOE&&this.isDOE>1;var C=this.Md();var r=O?[0]:k(E);var y=C.length;var g=this.xAxisMin<0?Math.abs(this.xAxisMin)*this.xAxisUnit:0;var F=this.fr();var u=this.PN();var D=this.Y7(O?1:M);var o=this.barType=="swimmer"?this.rbs*(r.length-1):this.rbs;var L=this.Qu();if(this.xAxisTransform&&this.xAxisTransform=="percentile"){this.l1(this.summaryType)}if(this.Qc()){F+=(this.blockSeparation/2)+(this.barType=="swimmer"?this.rbs/2:0);u=(u+this.y)-g;if(this.tO(D)){F+=D[0]}}else{F+=g;u+=(this.blockSeparation/2)+(this.barType=="swimmer"?this.rbs/2:0);if(this.tO(D)){u+=D[0]}}for(var H=0;H<r.length;H++){var J=[];var I=[];var K=[];var N=[];var B=[];var A=[];for(var G=0;G<y;G++){if(this.motionBy&&!this.colorBy){K.push(this.colors[0]);B.push("solid")}else{K.push(this.wn(r[H],C[G],"colorBy"));B.push(L?this.patterns[H]:this.wn(r[H],C[G],"patternBy"))}if(O){J.push(this.data.l.data[this.layoutCurrent].y.data[0][G])}else{J.push(this.Cb(r[H],C[G],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue))}if((this.isGroupedData||this.data.y.hasOwnProperty("stdev"))&&this.barType!="swimmer"){I.push(this.Cb(r[H],C[G],"stdev",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue))}N.push([r[H],C[G]]);A.push(this.plotInfo.samples[G].xy)}this.k5(J,I,F,u,o,this.layoutValid?D:A,this[h+"Unit"],g,this[h+"Min"],this.graphOrientation,K,B,N,false,false,this.invertGraph?this.x-g:false,this.isSwimmerSumarized);if(this.Qc()){F=this.plotByVariable?F+(this.blockSeparation+(this.rbs*y)):F+this.rbs}else{u=this.plotByVariable?u+(this.blockSeparation+(this.rbs*y)):u+this.rbs}if(this.barType=="swimmer"){return}}};this.uN=function(O,y,h){var g=this;var A=function(){if(g.graphType.match(/Bar|Stacked|Dot/)){var a=[];for(var b=0;b<O.length;b++){if(g.varIndices.includes(O[b])){a.push(O[b])}}return a}else{return O}};var D=function(c){if(g.patternBy){if(g.data.z&&g.data.z.hasOwnProperty(g.patternBy)){var b=g.data.z[g.patternBy][c];var a=g.meta.data.z[g.patternBy];return a.linePatterns[a.order[b]]}else{return g.linePatterns[c%g.linePatterns.length]}}else{return g.layoutValid?g.linePatterns[O[c]%g.linePatterns.length]:g.linePatterns[c%g.linePatterns.length]}};var Z=function(a){if(g.layoutValid&&g.graphType.match(/Bar|Stacked|Dot/)){for(R=0;R<O.length;R++){if(O[R]==C[a]){return g.colors[R%g.colors.length]}}}return g.colors[a%g.colors.length]};var K=function(e,a){var c=[];for(var b=0;b<a.length;b++){c.push(g.Cb(e,a[b],false,g.xAxisTransform,g.xAxisFloorValue,g.xAxisCeilValue,g.xAxisFactorValue))}return c.length>1?g.Wg(c):[c[0],NaN,1]};var aa=this.isDOE&&this.isDOE>1;var M=this.Md();var C=aa?[0]:A(O);var G=M.length;var P=this.fr();var F=this.PN();var H=this.graphType=="BarLine"||this.graphType=="DotLine"?true:false;var L=H?this.blockSeparation+(h*this.rbs):this.blockSeparation+this.rbs;var N=this.graphType=="ParallelCoordinates"?0:((this.blockSeparation+this.rbs)/2);var X=this.colorBy?this.yV(this.colorBy):false;var B=this.isGroupedData&&this.lineBy?this.sF(this.lineBy,this.smpIndices,"x",true):false;if(this.xAxisTransform&&this.xAxisTransform=="percentile"){this.l1(this.summaryType)}if(this.Qc()){P+=N;F+=this.y}else{F+=N}for(var S=0;S<C.length;S++){if(this.isGroupedData&&this.lineBy){this.isGroupedData=false;for(var R=0;R<B.length;R++){var V=[];var U=[];var W=this.meta.data.x[this.lineBy].colors[this.meta.data.x[this.lineBy].order[B[R]]];var J=this.graphType=="DotLine"?false:this.lineDecoration=="symbol"?this.shapes[S%this.shapes.length]:"sphere";var I=[];var Y=[];for(var Q=0;Q<G;Q++){var T=this.sN(this.lineBy,B[R],this.data.w.grps[Q],"x");var E=K(C[S],T);V.push(E[0]);I.push(D(R));Y.push([C[S],M[Q],B[R]])}this.U0(V,U,P,F,this.rbs/2,L,this.graphType=="ParallelCoordinates"?this.parallelCoordinates:this[y+"Unit"],this[y+"Min"],this.graphOrientation,W,I,J,Y,false,false,this.invertGraph?this.x:false,this.data.y.vars[C[S]],false,this.plotInfo.samples)}if(H&&this.xAxisVarIndices.length==this.xAxis2VarIndices.length){if(this.Qc()){P+=this.rbs}else{F+=this.rbs}}this.isGroupedData=true}else{var V=[];var U=[];var W=this.theme=="blackAndWhite"?"rgb(0,0,0)":this.colorBy?this.wn(C[S],X,"colorBy"):this.coordinateLineColor?Z(S):this.mB(this.data.y.vars[C[S]]);var J=this.graphType=="DotLine"?false:this.lineDecoration=="symbol"?this.shapes[S%this.shapes.length]:"sphere";var I=[];var Y=[];for(var R=0;R<G;R++){if(aa){V.push(this.data.l.data[this.layoutCurrent].y.data[0][R])}else{V.push(this.Cb(C[S],M[R],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue))}if(this.isGroupedData||this.data.y.hasOwnProperty("stdev")){U.push(this.Cb(C[S],M[R],"stdev",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue));I.push(this.lineDecoration=="pattern"||this.patternBy?D(S):this.wn(C[S],M[R],"patternBy"))}else{if(this.lineDecoration=="pattern"||this.patternBy){I.push(D(S))}}Y.push([C[S],M[R]])}this.U0(V,U,P,F,this.rbs/2,L,this.graphType=="ParallelCoordinates"?this.parallelCoordinates:this[y+"Unit"],this[y+"Min"],this.graphOrientation,W,I,J,Y,false,false,this.invertGraph?this.x:false,this.data.y.vars[C[S]],false,this.plotInfo.samples);if(H&&this.xAxisVarIndices.length==this.xAxis2VarIndices.length){if(this.Qc()){P+=this.rbs}else{F+=this.rbs}}}}};this.AU=function(){var h=this;var r=function(){if(h.graphType.match(/Line/)){var a=[];for(var b=0;b<h.xAxisVarIndices.length;b++){if(h.varIndices.includes(h.xAxisVarIndices[b])){a.push(h.xAxisVarIndices[b])}}return a}else{if(h.isCxplot&&h.colorBy&&h.meta.data.z&&h.meta.data.z.hasOwnProperty(h.colorBy)){return h.varIndices.sort(function(d,c){var g=h.data.z[h.colorBy][d];var f=h.data.z[h.colorBy][c];return h.meta.data.z[h.colorBy].order[g]-h.meta.data.z[h.colorBy].order[f]})}else{return h.varIndices}}};var G=this.Md();var B=G.length;var J=this.fr();var A=this.PN();var I=this.Y7(1);var x=r();var u=this.graphType=="StackedPercentLine"&&!this.layoutValid?this.xAxisVarIndices:false;var E=this.graphType.match(/Percent/)?true:false;var o=this.xAxisMin<0?Math.abs(this.xAxisMin)*this.xAxisUnit:0;var C=this.invertGraph?this.x:false;var e=this.Qc()?this.PN()+this.y:this.fr();var F=this.isDOE?this.data.l.group:this.groupingFactors;if(this.xAxisTransform&&this.xAxisTransform=="percentile"){this.l1("sum")}if(this.Qc()){J+=this.blockSeparation/2;A+=this.y;if(this.tO(I)){J+=I[0]}}else{A+=this.blockSeparation/2;if(this.tO(I)){A+=I[0]}}for(var N=0;N<B;N++){var O=this.RD(this.wT(G[N],u),false,false,true);var L=this.RD(this.wT(G[N],u),false,false,false,true);var Q=[];var R=[];var D=[];var T=[];var P=[];if(this.isGroupedData&&this.treemapBy.length>0){if(this.Qc()){for(var M=x.length-1;M>=0;M--){Q.push(this.Cb(x[M],G[N],"sum",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue));P.push(this.rH(x[M],this.data.w.grps[G[N]]))}}else{for(var M=0;M<x.length;M++){Q.push(this.Cb(x[M],G[N],"sum",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue));P.push(this.rH(x[M],this.data.w.grps[G[N]]))}}}else{if(this.isGroupedData&&(this.stackBy.length>0||this.dodgeBy.length>0)){var y=this.stackBy||this.dodgeBy;this.isGroupedData=false;P=false;var H=this.sF(y,this.smpIndices,"x").sort();for(var M=0;M<x.length;M++){if(this.Qc()){for(var K=H.length-1;K>=0;K--){var S=this.sN(y,H[K],this.data.w.grps[N],"x");Q.push(S.length);R.push(this.meta.data.x[y].colors[K]);D.push("solid");T.push([x[M],G[N],"<b>"+this.data.y.vars[M]+"</b><br><b>"+y+"</b>: "+H[K].toString().replace("u0000","")+"<br><b>"+F.join("::")+"</b> : "+S.length,S,H[K]])}}else{for(var K=0;K<H.length;K++){var S=this.sN(y,H[K],this.data.w.grps[N],"x");Q.push(S.length);R.push(this.meta.data.x[y].colors[K]);D.push("solid");T.push([x[M],G[N],"<b>"+this.data.y.vars[M]+"</b><br><b>"+y+"</b>: "+H[K].toString().replace("u0000","")+"<br><b>"+F.join("::")+"</b> : "+S.length,S,H[K]])}}}this.isGroupedData=true}else{P=false;if(this.Qc()){for(var M=x.length-1;M>=0;M--){Q.push(this.Cb(x[M],G[N],"sum",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue));R.push(this.wn(x[M],G[N],"colorBy"));D.push(this.wn(x[M],G[N],"patternBy"));T.push([x[M],G[N]])}}else{for(var M=0;M<x.length;M++){Q.push(this.Cb(x[M],G[N],"sum",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue));R.push(this.wn(x[M],G[N],"colorBy"));D.push(this.wn(x[M],G[N],"patternBy"));T.push([x[M],G[N]])}}}}if(this.plotInfo.samples[N].xy){if(this.Qc()){J=this.plotInfo.samples[N].xy-(this.blockSeparation/2)+((this.blockSeparation-this.rbs)/2)}else{A=this.plotInfo.samples[N].xy-(this.blockSeparation/2)+((this.blockSeparation-this.rbs)/2)}}this.q5(Q,J,A,this.rbs,P,E,[O,L],this.xAxisUnit,o,this.graphOrientation,R,D,T,false,C,e);if(this.Qc()){J+=this.tO(I)?I[N+1]-I[N]:I}else{A+=this.tO(I)?I[N+1]-I[N]:I}}};this.HN=function(k,h,H){var C=this.Md();var u=C.length;var E=this.fr();var r=this.PN();var D=this.rbs+this.blockSeparation;var I=[];var J=[];var y=[];var K=[];var A=[];var b=this;var g=function(a){if(h=="xAxis"){return b.colors[k[a]%b.colors.length]}else{return b.colors[a%b.colors.length]}};if(this.xAxisTransform&&this.xAxisTransform=="percentile"){this.l1(this.summaryType)}if(this.Qc()){r+=this.y}if(this.areaType!="stacked"&&this.areaType!="percent"){var B=[];var L=[];for(var G=0;G<k.length;G++){B[G]=this.Cb(k[G],C[0],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);L[G]=G}k.sort(function(d,c){return B[d]-B[c]})}for(var F=0;F<u;F++){A.push(0)}for(var G=0;G<k.length;G++){var e=[];var w=this.coordinateLineColor?g(G):this.mB(this.data.y.vars[k[G]]);for(var F=0;F<u;F++){if(this.isGraphTime&&C[F]<0){e.push(0)}else{e.push(this.Cb(k[G],C[F],false,this.xAxisTransform))}A[F]+=e[F]}I.push(e);J.push(w);y.push("closed");K.push([k[G]])}if(I.length&&I[0].length>1){this.LI(I,E,r,this.x,this.y,D,this.areaType,A,this[h+"Unit"],this[h+"Min"],this[h+"Max"],this.graphOrientation,H,J,y,K,false,this.invertGraph?this.x:false,C)}if(this.areaType!="stacked"&&this.areaType!="percent"){k.sort(function(d,c){return L[d]-L[c]})}};this.Us=function(h,G){var B=this.Md();var u=B.length;var f=this.varIndices;var D=this.fr();var g=this.PN();var C=this.Y7(f.length);if(this.isRawData&&!this.data.hasOwnProperty("w")){return}if(this.xAxisTransform&&this.xAxisTransform=="percentile"){this.l1(this.summaryType)}if(this.Qc()){D+=this.blockSeparation/2;g+=this.y;if(this.tO(C)){D+=C[0]}}else{g+=this.blockSeparation/2;if(this.tO(C)){g+=C[0]}}if(!this.isRawData){h=false}for(var H=0;H<f.length;H++){var I=[];var J=[];var x=[];var y=[];var M=[];var L=[];var K=[];for(var F=0;F<u;F++){var w=["iqr1","iqr3","qtl1","qtl3","median","out","mean","conf","nfac"];var e=[];var A=this.uw(f[H],B[F]);for(var E=0;E<w.length;E++){e.push(this.Cb(f[H],B[F],w[E],this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue))}if(G&&this.isRawData){e[5]=false}I.push(e);J.push(A);y.push(h&&!this.boxplotColor?"open":this.wn(f[H],B[F],"patternBy"));M.push(G?[f[H],B[F],"box"]:[f[H],B[F]]);x.push(A);L.push(this.wn(f[H],B[F],"patternBy"));K.push(this.plotInfo.samples[F].xy)}if(this.showViolinBoxplot&&this.isRawData){this.kp(I,D,g,this.rbs,this.layoutValid?C:K,this.xAxisUnit,this.xAxisMin,this.graphOrientation,J,y,M,x,L,this.data.y.vars[f[H]])}else{this.kp(I,D,g,this.rbs,this.layoutValid?C:K,this.xAxisUnit,this.xAxisMin,this.graphOrientation,J,y,M,x,L,this.data.y.vars[f[H]])}if(this.Qc()){D=this.plotByVariable?D+(this.blockSeparation+(this.rbs*u)):D+this.rbs}else{g=this.plotByVariable?g+(this.blockSeparation+(this.rbs*u)):g+this.rbs}}};this.y7=function(){var y=this.Md();var r=this.tU(this.ganttStart);var G=this.tU(this.ganttEnd);var B=this.fr();var h=this.PN()+(this.blockSeparation/4);var A=this.blockSeparation+this.rbs;var c={};for(var E=0;E<y.length;E++){var H=[];var J=[];var v=[];var F=[];var w=[];var I=[];var x=[];if(this.isGroupedData){for(var D=0;D<this.data.w.grps[y[E]].length;D++){var g=this.data.w.grps[y[E]][D];H.push([this.data.gantt[r][g],this.data.gantt[G][g]]);v.push(this.ganttCompletion?this.data.x[this.ganttCompletion][g]:0);J.push([g,r,G]);F.push(this.wn(r,g,"colorBy"));w.push(this.wn(r,g,"patternBy"));for(var C=0;C<this.data.gantt.length;C++){if(C!=r&&C!=G&&this.data.gantt[C][g]!=null){x.push([this.data.gantt[C][g],C])}}c[g]=[this.data.gantt[r][g],this.data.gantt[G][g],h];if(this.ganttDependency&&this.data.x[this.ganttDependency][g]){var u=this.yV(this.data.x[this.ganttDependency][g],true);if(!c[u]){c[u]=[]}c[u].push(this.ganttDependencyEnd&&this.data.x[this.ganttDependencyEnd][g]?this.data.x[this.ganttDependencyEnd][g]:"arrow");c[u].push(this.ganttDependencyColor&&this.data.x[this.ganttDependencyColor][g]?this.data.x[this.ganttDependencyColor][g]:"rgb(0,0,0)");c[u].push(this.ganttDependencyThickness&&this.data.x[this.ganttDependencyThickness][g]?this.data.x[this.ganttDependencyThickness][g]:1);if(u>-1){I.push(c[u])}else{I.push(false)}}else{I.push(false)}}}else{H.push([this.data.gantt[r][E],this.data.gantt[G][E]]);v.push(this.ganttCompletion?this.data.x[this.ganttCompletion][E]:0);J.push([E,r,G]);F.push(this.wn(r,E,"colorBy"));w.push(this.wn(r,E,"patternBy"));for(var D=0;D<this.data.gantt.length;D++){if(D!=r&&D!=G&&this.data.gantt[D][E]!=null){x.push([this.data.gantt[D][E],D])}}c[E]=[this.data.gantt[r][E],this.data.gantt[G][E],h];if(this.ganttDependency&&this.data.x[this.ganttDependency][E]){var u=this.yV(this.data.x[this.ganttDependency][E]);if(!c[u]){c[u]=[]}c[u].push(this.ganttDependencyEnd&&this.data.x[this.ganttDependencyEnd][E]?this.data.x[this.ganttDependencyEnd][E]:"arrow");c[u].push(this.ganttDependencyColor&&this.data.x[this.ganttDependencyColor][E]?this.data.x[this.ganttDependencyColor][E]:"rgb(0,0,0)");c[u].push(this.ganttDependencyThickness&&this.data.x[this.ganttDependencyThickness][E]?this.data.x[this.ganttDependencyThickness][E]:1);if(u>-1){I.push(c[u])}else{I.push(false)}}else{I.push(false)}}this.F8(H,v,I,x,B,h,this.rbs*1.5,this.xAxisUnit,this.xAxisMin,w,F,J);h+=A}};this.k0=function(){var g=this;var o=this.margin;this.margin=Number(Math.max(0.5,Math.min(this.isMeterSummarized.width,this.isMeterSummarized.height)*8/833).toFixed(1));var v=this.isDOE?this.data.l.data[this.layoutCurrent]:false;var u=this.isDOE?v.y.meter.group:this.groupingFactors[0];var k=u&&(!this.isDOE||this.isDOE==1)?this.meta.data.x[u]:u&&this.isDOE>1?this.meta.data.z[u]:false;if(this.isDOE){this.meterType=v.y.meter.type}var d=this.fr();var s=this.PN();var h=this.rangeColors.length?this.rangeColors:this.NH(this.isMeterSummarized.scale.length,"Spectral");if(u){var r=k.levels.sort();var b=0;for(var f=0;f<this.isMeterSummarized.cols;f++){for(var e=0;e<this.isMeterSummarized.rows;e++){var a=this.isMeterSummarized[u][r[b]];if(a){var p=d+(this.isMeterSummarized.width*f);var m=s+(this.isMeterSummarized.height*e);this.qQ(p,m,this.isMeterSummarized.range,Math.round(a.value),this.isMeterSummarized.scale,h,r[b]);b++}}}}else{this.qQ(d,s,this.isMeterSummarized.range,Math.round(this.isMeterSummarized.value),this.isMeterSummarized.scale,h,this.data.y.smps[0])}this.margin=o};this.OO=function(f,g){if(this.connectBy&&this.data.x&&this.data.x.hasOwnProperty(this.connectBy)){this.connectByDataVar=[];this.connectByData={};var b,e;var d=0;for(var c=0;c<f.length;c++){if(this.isGroupedData){if(this.isGraphTime&&f[c]<0){continue}for(var a=0;a<this.data.w.grps[f[c]].length;a++){e=this.data.w.grps[f[c]][a];b=this.Mk(e,"x",this.connectBy,true);if(!this.connectByData.hasOwnProperty(b)){this.connectByData[b]=[]}this.connectByData[b].push(d);d++}}else{e=f[c];if(this.isGraphTime&&f[c]<0){continue}b=this.Mk(e,"x",this.connectBy);if(!this.connectByData.hasOwnProperty(b)){this.connectByData[b]=[]}this.connectByData[b].push(c)}}}else{if(this.connectBy&&this.data.z&&this.data.z.hasOwnProperty(this.connectBy)){this.connectByDataVar=[];this.connectByData={};var b,e;var d=0;for(var c=0;c<g.length;c++){e=g[c];b=this.Mk(e,"z",this.connectBy);if(!this.connectByData.hasOwnProperty(b)){this.connectByData[b]=[]}this.connectByData[b].push(c)}}}};this.UN=function(L,I,B){var J=this;var H=function(){if(J.graphType.match(/Line/)){var a=[];for(var b=0;b<J.xAxisVarIndices.length;b++){if(J.varIndices.includes(J.xAxisVarIndices[b])){a.push(J.xAxisVarIndices[b])}}return a}else{return J.varIndices}};var A=function(c,h,e,a){if(a){var b=J.segregateSamplesBy.length&&J.groupingFactors.includes(J.segregateSamplesBy[0]);var f=b?J.data.w.glab[h]:[J.data.l.name[J.layoutCurrent],J.data.w.glab[h]].join("::");for(var d=0;d<E[c].length;d++){if(E[c][d].density.name==f){h=d;break}}}var j=E[c][h].indices;var g=E[c][h].global;for(var d=0;d<j.length;d++){if(j[d]==e){return g[d]}}};var R=function(b,a){return Math.max(1.01,J.dataPointSize*J.dataPointSizeScaleFactor*(a?0.3:0.5)*(2*b))};var V=this.isDOE&&this.isDOE>1;var Y=this.Md();var T=Y.length;var P=V?[0]:H();var aa=this.fr();var S=this.PN();var al=this.dotplotType.match(/arrow|bullet|cleveland|connected|line|stacked/)?((this.blockSeparation+this.rbs)/2)+(this.blockSeparation/(this.xAxis.length>2?1:2)):((this.blockSeparation+this.rbs)/2);var Z=this.Y7(V?1:B);var D=this.jitter;var ab=this.binned;var E=this.meta.data.d.g;this.OO(Y,this.varIndices);if(this.xAxisTransform&&this.xAxisTransform=="percentile"){this.l1(this.summaryType)}if(this.barType.match(/lollipop/)){this.jitter=false;this.binned=false}if(this.Qc()){aa+=al;S+=this.y;if(this.tO(Z)){aa+=Z[0]}}else{S+=al;if(this.tO(Z)){S+=Z[0]}}var C=[];I=I?1:this.widthFactor;for(var ae=0;ae<P.length;ae++){var aj=[];var ai=[];var ak=[];var af=[];var W=[];var ah=[];var am=[];var G=[];var ag=0;var X;for(var ad=0;ad<T;ad++){G.push(this.plotInfo.samples[ad].xy);if(this.isGroupedData&&this.data.w.grps[Y[ad]]){var F=this.isGraphTime&&Y[ad]<0?0:this.data.w.grps[Y[ad]].length>1;var K=[];var M=[];var N=[];var U=[];var O=[];var Q=[];var q=this.isTransformedData||(this.showBoxplotOriginalData&&this.data.y.trans&&this.data.y.trans[0].length)?this.data.y.trans:this.data.y.data;this.isGroupedData=false;if(this.isGraphTime&&Y[ad]<0){K.push(null);O.push(null);M.push(null);N.push(null);U.push(null);Q.push([null]);ag++}else{for(var ac=0;ac<this.data.w.grps[Y[ad]].length;ac++){X=this.boxplotOriginalDataColor||this.wn(P[ae],this.data.w.grps[Y[ad]][ac],"colorBy");K.push(this.binned&&F?A(P[ae],Y[ad],this.data.w.grps[Y[ad]][ac],this.layoutValid&&!this.isDOE):q[P[ae]][this.data.w.grps[Y[ad]][ac]]);O.push(this.wn(P[ae],this.data.w.grps[Y[ad]][ac],"shapeBy"));M.push(this.sizeBy?this.wn(P[ae],this.data.w.grps[Y[ad]][ac],"sizeBy")*I:R(I,L));N.push(L?this.b9(X,this.boxplotDataPointTransparency,true):X);U.push(this.wn(P[ae],this.data.w.grps[Y[ad]][ac],"patternBy"));Q.push([P[ae],Y[ad],this.data.w.grps[Y[ad]][ac]]);ag++}}this.isGroupedData=true;if(this.data.w.hasOwnProperty("stdev")){ai.push([this.Cb(P[ae],Y[ad],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue),this.Cb(P[ae],Y[ad],"stdev",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue)])}aj.push(K);W.push(O);ah.push(M);ak.push(N);af.push(U);am.push(Q)}else{if(this.isGraphTime&&Y[ad]<0){aj.push([null]);if(this.data.y.hasOwnProperty("stdev")){ai.push([null])}W.push([null]);ah.push([null]);ak.push([null]);af.push([null]);am.push([null])}else{X=this.wn(P[ae],Y[ad],"colorBy");if(V){aj.push([this.data.l.data[this.layoutCurrent].y.data[0][ad]])}else{aj.push([this.Cb(P[ae],Y[ad],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue)])}if(this.data.y.hasOwnProperty("stdev")){ai.push([this.Cb(P[ae],Y[ad],"stdev",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue)])}W.push([this.dotplotType.match(/line/)?(this.Qc()?"rectline":"rectlinei"):this.wn(P[ae],Y[ad],"shapeBy")]);ah.push([this.sizeBy?this.wn(P[ae],Y[ad],"sizeBy"):R(I,L)]);ak.push([L?this.b9(X,this.boxplotDataPointTransparency,true):X]);af.push([this.wn(P[ae],Y[ad],"patternBy")]);am.push([[P[ae],Y[ad]]])}}}this.rw(aj,aa,S,this.layoutValid?Z:G,this.xAxisUnit,this.xAxisMin,ah,this.graphOrientation,am,this.invertGraph?this.x:false,this.data.y.vars[P[ae]],ae==P.length-1);if(this.plotByVariable){C.push([aj,ai,aa,S,this.rbs,this.layoutValid?Z:G,this.xAxisUnit,this.xAxisMin,ah,this.graphOrientation,ak,af,W,am,false,false,this.invertGraph?this.x:false,this.data.y.vars[P[ae]],ae==P.length-1])}else{C.push([aj,ai,aa,S,this.blockSeparation,this.layoutValid?Z:G,this.xAxisUnit,this.xAxisMin,ah,this.graphOrientation,ak,af,W,am,false,false,this.invertGraph?this.x:false,this.data.y.vars[P[ae]],ae==P.length-1])}if(this.Qc()){if(!this.dotplotType.match(/arrow|bullet|cleveland|connected|line|stacked/)){aa=this.plotByVariable?aa+(this.blockSeparation+(this.rbs*T)):aa+this.rbs}}else{if(!this.dotplotType.match(/arrow|bullet|cleveland|connected|line|stacked/)){S=this.plotByVariable?S+(this.blockSeparation+(this.rbs*T)):S+this.rbs}}}for(var ae=0;ae<C.length;ae++){this.Z3(C[ae][0],C[ae][1],C[ae][2],C[ae][3],C[ae][4],C[ae][5],C[ae][6],C[ae][7],C[ae][8],C[ae][9],C[ae][10],C[ae][11],C[ae][12],C[ae][13],C[ae][14],C[ae][15],C[ae][16],C[ae][17])}this.jitter=D;this.binned=ab};this.NY=function(I,A){var L=this;var aa=this.Md();var ai=this.isGroupedData?this.data.w:this.data.y;var T=aa.length;var ad=this.fr(A);var S=this.PN(A);var ak=this.isContour||this.cbs<4||this.rbs<4||!this.heatmapCellBox?true:false;var ab=Math.max(Math.min(this.cbs,this.rbs)-10,3);var U=this.outlineWidth;var r=function(){if(L.colorBy&&(L.meta.data.x[L.colorBy]||L.meta.data.z[L.colorBy])&&L.meta.def.factorColorBrew[L.colorBy]){return L.meta.def.factorColorBrew[L.colorBy]}else{return L.meta.def.colorBrew}};var H=function(){var a=L.heatmapSplits.length&&L.meta.data[L.heatmapSplits[0]]?L.meta.data[L.heatmapSplits[0]]:null;if(a&&a.colorBrew){return a.colorBrew}else{return L.meta.def.colorBrew}};var al=function(a){var e=[];if(L.colorBy&&L.meta.data.x[L.colorBy]&&L.meta.def.factorColorBrew[L.colorBy]){var b=L.data.x[L.colorBy][aa[a]];for(var c=0;c<L.varIndices.length;c++){e.push(b)}return e}else{if(L.colorBy&&L.meta.data.z[L.colorBy]&&L.meta.def.factorColorBrew[L.colorBy]){for(var c=0;c<L.varIndices.length;c++){var d=L.varIndices[c];var b=L.data.z[L.colorBy][d];e.push(b)}return e}else{return false}}};if(this.xAxisTransform&&this.xAxisTransform=="percentile"){this.l1(this.summaryType)}if(this.isUpSetSumarized){var ao=this.b9(this.upsetShadeColor,this.upsetShadeAlpha);for(var ae=0;ae<T;ae+=2){var O=ad+(this.x/2);var N=S+(ae*this.rbs)+(this.rbs/2);this.To({p:["drawShape","rect",O,N,this.x,this.rbs,ao,ao],b:[this.left,N,0,this.rbs],t:"Data"})}for(var af=0;af<this.varIndices.length;af++){var J=[];for(var ae=0;ae<T;ae++){var O=ad+(af*this.cbs)+(this.cbs/2);var N=S+(ae*this.rbs)+(this.rbs/2);var Q=this.Cb(this.varIndices[af],aa[ae],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);var ao=Q>0?this.upsetMatrixColor:this.b9(this.upsetMatrixColor,this.upsetMatrixDotAlpha);this.To({p:["drawShape","circle",O,N,this.cbs/2,this.rbs/2,ao,ao],i:[this.varIndices[af],aa[ae]],b:this.left,t:"Data",h:this.ID(this.varIndices[af],aa[ae])});if(Q>0){J.push([O,N])}}if(J.length>1){var R=J.shift();var W=J.pop();this.To({p:["drawLine","line",R[0],R[1],W[0],W[1],this.upsetMatrixColor,3],s:true,t:"Data"})}}}else{if(this.heatmapType=="correlation"){for(var af=0;af<this.varIndices.length;af++){for(var ae=0;ae<this.varIndices.length;ae++){var O=ad+(af*this.cbs)+(this.cbs/2);var N=S+(ae*this.rbs)+(this.rbs/2);var Q=this.Cb(this.varIndices[af],this.varIndices[ae],"cor",this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);var ao=!isNaN(Q)?this.PW(false,Q):this.missingDataColor;var X=this.heatmapCollapse?ao:this.objectBorderColor;this.To({p:["drawShape","rectangle",O,N,this.cbs,this.rbs,ao,X],i:[this.varIndices[af],this.varIndices[ae]],b:this.left,t:"Data",h:this.ID(this.varIndices[af])})}}}else{if(this.heatmapType.match(/circle|hexagon/)){S+=this.rbs/2;for(var af=0;af<this.varIndices.length;af++){for(var ae=0;ae<T;ae++){var O=ad+(af*this.cbs)+(this.cbs/2);var N=S+(ae*this.rbs)+(this.rbs/4*(af%2?1:-1));var Q=this.Cb(this.varIndices[af],aa[ae],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);var ao=!isNaN(Q)?this.PW(false,Q):this.missingDataColor;var X=this.heatmapCollapse?ao:this.objectBorderColor;var R=this.heatmapType=="circle"?"oval":"hexagon";var W=this.heatmapType=="circle"?1.2:1.5;this.To({p:["drawShape",R,O,N,this.cbs*W,this.rbs,ao,X],i:[this.varIndices[af],aa[ae]],b:this.left,t:"Data",h:this.ID(this.varIndices[af],aa[ae])})}}}else{if(((this.isMultidimensionalData&&this.heatmapType!="split")||this.isOncoprint)&&!this.oncoprintHeatmapSwitch&&!I){if(this.isOncoprint){var ac="rgb(220,220,220)";var B=this.cbs*0.9;var Z=this.rbs*0.9;var k=this.rbs*0.3;for(var af=0;af<this.varIndices.length;af++){for(var ae=0;ae<T;ae++){var O=ad+(af*this.cbs)+(this.cbs/2);var N=S+(ae*this.rbs)+(this.rbs/2);var M=N+k;var Q=this.Cb(this.varIndices[af],aa[ae],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue,this.oncoprintCNA);var ab=this.Cb(this.varIndices[af],aa[ae],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue,this.oncoprintMUT);var W=this.wn(this.varIndices[af],aa[ae],"patternByData");var ao=!isNaN(Q)?this.PW(false,Q):this.missingDataColor;var h=this.isOncoprint?false:this.ID(this.varIndices[af],aa[ae]);if(Q!=""){this.To({p:["drawShape","rect",O,N,B,Z,this.legend.oncoprint.colors[Q],this.legend.oncoprint.colors[Q],W],i:[this.varIndices[af],aa[ae]],b:[this.left,N,0,Z],t:"Data",h:h})}else{this.To({p:["drawShape","rect",O,N,B,Z,ac,ac,W],i:[this.varIndices[af],aa[ae]],b:[this.left,N,0,Z],t:"Data",h:h})}if(ab!=""){this.To({p:["drawShape","rect",O,N,B,k,this.legend.oncoprint.colors[ab],this.legend.oncoprint.colors[ab],W],i:[this.varIndices[af],aa[ae]],b:[this.left,N,0,Z],t:"Data",h:h})}}}}else{for(var af=0;af<this.varIndices.length;af++){for(var ae=0;ae<T;ae++){var O=ad+(af*this.cbs)+(this.cbs/2);var N=S+(ae*this.rbs)+(this.rbs/2);var Q=this.Cb(this.varIndices[af],aa[ae],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue);var ao=!isNaN(Q)?this.PW(false,Q):this.missingDataColor;var X=this.outlineBy?this.wn(this.varIndices[af],aa[ae],"outlineByData"):this.objectBorderColor;var aq=this.colorBy?this.wn(this.varIndices[af],aa[ae],"colorByData"):this.missingDataColor;var R=this.wn(this.varIndices[af],aa[ae],"shapeByData");var P=this.wn(this.varIndices[af],aa[ae],"sizeByData");var W=this.wn(this.varIndices[af],aa[ae],"patternByData");if(!isNaN(Q)){this.To({p:["drawShape",R,O,N,P,P,this.colorByData?aq:ao,X,W],i:[this.varIndices[af],aa[ae]],b:this.left,t:"Data",h:this.ID(this.varIndices[af],aa[ae])});if(this.showDataValues){this.To({p:["drawText",this.gG(Q),O,N,this.overlayTextFont,this.foreground,"center","middle"],b:this.left,t:"Data"})}}}}}this.outlineWidth=U}else{var R=0;var aj=[];var ap=r();var G=H();for(var af=0;af<T;af++){var am=[];var aq=[];var W=[];var Y=[];var V=[];var ah=[];var S=this.plotInfo.samples[af].xy-(this.rbs/2);var ag=al(af);if((af==0||af==T-1)||(af>0&&af<T-1&&R>=1)){for(var ae=0;ae<this.varIndices.length;ae++){am.push(this.Cb(this.varIndices[ae],aa[af],false,this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue));aq.push([this.varIndices[ae],aa[af]]);if(this.patternBy){W.push(this.wn(this.varIndices[ae],aa[af],"patternBy"))}else{W.push("solid")}}if(this.heatmapType=="split"){for(var ae=0;ae<this.varIndices.length;ae++){Y.push(this.Cb(this.varIndices[ae],aa[af],this.heatmapSplits[0],this.xAxisTransform,this.xAxisFloorValue,this.xAxisCeilValue,this.xAxisFactorValue));V.push([this.varIndices[ae],aa[af],this.hoverTemplate?1:0]);if(this.patternBy){ah.push(this.wn(this.varIndices[ae],aa[af],"patternBy"))}else{ah.push("solid")}}}}if(af>0&&af<T-1){if(R>=1){this.lP(am,ad,S,this.cbs,this.rbs,ak,aq,false,W,ap,false,ag);if(this.heatmapType=="split"){this.lP(Y,ad,S,this.cbs,this.rbs,ak,V,false,ah,G,false,ag,true)}if(this.heatmapCellBox&&!this.isOncoprint&&this.rbs>1){aj.push([ad,S,ad+this.x,S])}R=0}}else{this.lP(am,ad,S,this.cbs,this.rbs,ak,aq,false,W,ap,false,ag);if(this.heatmapType=="split"){this.lP(Y,ad,S,this.cbs,this.rbs,ak,V,false,ah,G,false,ag,true)}if(this.heatmapCellBox&&!this.isOncoprint&&this.rbs>1&&this.cbs>1){if(af==T-1){aj.push([ad,S,ad+this.x,S]);aj.push([ad,S+this.rbs,ad+this.x,S+this.rbs])}else{aj.push([ad,S,ad+this.x,S])}}}R+=this.rbs}if(!ak&&!this.isOncoprint&&this.rbs>1&&this.cbs>1){for(var af=0;af<aj.length;af++){this.To({p:["drawLine","line",aj[af][0],aj[af][1],aj[af][2],aj[af][3],this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:true,t:"Data"})}S=this.PN(A);for(var af=0;af<this.varIndices.length;af++){ad=this.plotInfo.variables[af].xy-(this.cbs/2);this.To({p:["drawLine","line",ad,S,ad,S+this.y,this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:true,t:"Data"})}this.To({p:["drawLine","line",ad+this.cbs,S,ad+this.cbs,S+this.y,this.heatmapCellBoxColor,this.heatmapCellBoxWidth],s:true,t:"Data"});ad=this.fr()}if(this.highlightSmp.length>0||this.highlightVar.length>0){var an=function(a,c){if(c){for(var b=0;b<L.varIndices.length;b++){if(L.varIndices[b]===a){return b}}}else{for(var b=0;b<L.smpIndices.length;b++){if(L.smpIndices[b]===a){return b}}}return -1};S=this.PN(A);ad=this.fr(A);var D=this.l4(this.highlightVar);var C=this.l4(this.highlightSmp);var P=this.heatmapCellBoxWidth+this.heatmapCellBoxHighlightWidth;var K=P/2;if(this.highlightSmp.length==0){for(var af=0;af<this.varIndices.length;af++){if(D.hasOwnProperty(ai.vars[this.varIndices[af]])){this.To({p:["drawShape","rectangle",(ad+K)+((this.cbs-P)/2),(S+K)+((this.y-P)/2),this.cbs-P,this.y-P,false,this.heatmapCellBoxColorHighlight,"open",false,P],s:true,t:"Data"})}ad+=this.cbs}}else{if(this.highlightVar.length==0){for(var af=0;af<T;af++){if(C.hasOwnProperty(ai.smps[aa[af]])){this.To({p:["drawShape","rectangle",(ad+K)+((this.x-P)/2),(S+K)+((this.rbs-P)/2),this.x-P,this.rbs-P,false,this.heatmapCellBoxColorHighlight,"open",false,P],s:true,t:"Data"})}S+=this.rbs}}else{if(this.heatmapHighlightByRowCol){for(var af=0;af<this.varIndices.length;af++){if(D.hasOwnProperty(ai.vars[this.varIndices[af]])){this.To({p:["drawShape","rectangle",(ad+K)+((this.cbs-P)/2),(S+K)+((this.y-P)/2),this.cbs-P,this.y-P,false,this.heatmapCellBoxColorHighlight,"open",false,P],s:true,t:"Data"})}ad+=this.cbs}ad=this.fr(A);for(var af=0;af<T;af++){if(C.hasOwnProperty(ai.smps[aa[af]])){this.To({p:["drawShape","rectangle",(ad+K)+((this.x-P)/2),(S+K)+((this.rbs-P)/2),this.x-P,this.rbs-P,false,this.heatmapCellBoxColorHighlight,"open",false,P],s:true,t:"Data"})}S+=this.rbs}for(var af=0;af<this.highlightVar.length;af++){var E=an(this.tU(this.highlightVar[af]),true);for(var ae=0;ae<this.highlightSmp.length;ae++){var F=an(this.yV(this.highlightSmp[ae]),false);if(this.plotInfo.variables[E]){ad=this.plotInfo.variables[E].xy;S=this.PN(A)+(this.rbs*F);this.To({p:["drawShape","rectangle",ad,(S+K)+((this.rbs-P)/2),this.cbs-P,this.rbs-P,false,this.heatmapHighlightByRowColIntersectionColor,"open",false,this.heatmapHighlightByRowColIntersectionWidth],s:true,t:"Data"})}}}}else{for(var af=0;af<this.highlightVar.length;af++){var E=an(this.tU(this.highlightVar[af]),true);var F=an(this.yV(this.highlightSmp[af]),false);if(this.plotInfo.variables[E]){ad=this.plotInfo.variables[E].xy;S=this.PN(A)+(this.rbs*F);this.To({p:["drawShape","rectangle",ad,(S+K)+((this.rbs-P)/2),this.cbs-P,this.rbs-P,false,this.heatmapCellBoxColorHighlight,"open",false,P],s:true,t:"Data"})}}}}}}}}}}};this.xC=function(){var b=this.fr();var c=this.PN();var a=this.GI();this.n2(a,b,c)};this.wa=function(){switch(this.tagCloudShape){case"circle":default:this.tagCloudShapeFunction="circle";break;case"cardioid":this.tagCloudShapeFunction=function(d){return 1-Math.sin(d)};break;case"diamond":this.tagCloudShapeFunction=function(d){var e=d%(2*Math.PI/4);return 1/(Math.cos(e)+Math.sin(e))};break;case"square":this.tagCloudShapeFunction=function(d){return Math.min(1/Math.abs(Math.cos(d)),1/Math.abs(Math.sin(d)))};break;case"triangle2":this.tagCloudShapeFunction=function(d){var e=d%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"triangle":this.tagCloudShapeFunction=function(d){var e=(d+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(e)+Math.sqrt(3)*Math.sin(e))};break;case"pentagon":this.tagCloudShapeFunction=function(d){var e=(d+0.955)%(2*Math.PI/5);return 1/(Math.cos(e)+0.726543*Math.sin(e))};break;case"star":this.tagCloudShapeFunction=function(d){var e=(d+0.955)%(2*Math.PI/10);if((d+0.955)%(2*Math.PI/5)-(2*Math.PI/10)>=0){return 1/(Math.cos((2*Math.PI/10)-e)+3.07768*Math.sin((2*Math.PI/10)-e))}else{return 1/(Math.cos(e)+3.07768*Math.sin(e))}};break}if(!this.renderTagCloud||this.renderTagCloud.length==0){this.Oc()}if(this.renderTagCloud.length>0){var a=this.TU(this.renderTagCloud);for(var b=0;b<this.renderTagCloud.length;b++){var c=this.isR?this.TU(this.renderTagCloud[b]):this.renderTagCloud[b];if(this.colorBy){c[0][5]=this.wn(c[1][0],c[1][1],"colorBy")}this.To({p:c[0],i:c[1],m:c[2],g:c[3],s:c[4],b:c[5],t:"Data",h:this.ID(c[1][0],c[1][1])})}this.renderTagCloud=a;this.showTransition=false}};this.vk=function(){if(this.isContour){var A=this.rV();if(A&&A.length){for(var G=0;G<A.length;G++){var J=A[G];var a=this.varIndices.length-1;var u=this.smpIndices.length-1;var z=this.x/a;var x=this.y/u;var s=(this.varIndices[0]*z)+(this.cbs*0.67);var p=(this.smpIndices[0]*x)+(this.rbs*0.67);var C=this.fr()-s;var o=this.PN()-p;var B={};if(J&&J.data&&J.data.filled&&J.data.filled.length){var H=J.data.filled;var K=this.dl(this.colorSpectrum,H[0].value,H[H.length-1].value,this.colorSpectrumZeroValue,this.colorSpectrumBreaks,true);for(var F=0;F<H.length;F++){var I=this.contourStat=="density"?H[F].value:this.contourStat=="ndensity"?H[F].value/J.data.range[1]:H[F].value*J.data.n;var h=this.contourFilledTransparency<1?this.b9(this.PW(K,I),this.contourFilledTransparency):this.PW(K,I);for(var D=0;D<H[F].coordinates.length;D++){for(var b=0;b<H[F].coordinates[D].length;b++){var g=[];var E=[];for(var f=0;f<H[F].coordinates[D][b].length;f++){g.push(C+(H[F].coordinates[D][b][f][0]*z));E.push(o+(H[F].coordinates[D][b][f][1]*x))}var r=this.To({p:["drawShape",this.lineType=="spline"?"spline":"path",g,E,false,false,h,h,"close"],g:B.hasOwnProperty(H[F].value)?B[H[F].value]:null,t:"Data"});if(!B.hasOwnProperty(H[F].value)){B[H[F].value]=r}}}}}if(J&&J.data&&J.data.lines&&J.data.lines.length&&(this.showContourBands||this.showContourLevel)){var H=J.data.lines;for(var F=0;F<H.length;F++){var h=this.isContour===true?this.contourBandsColor:this.meta.data.z[this.isContour].colors[this.meta.data.z[this.isContour].order[J.name]];for(var D=0;D<H[F].coordinates.length;D++){for(var b=0;b<H[F].coordinates[D].length;b++){var g=[];var E=[];var n=false;for(var f=0;f<H[F].coordinates[D][b].length;f++){var y=C+(H[F].coordinates[D][b][f][0]*z);var w=o+(H[F].coordinates[D][b][f][1]*x);if(y<0||w<0||y>(C+this.x)||w>(o+this.y)){n=true}g.push(y);E.push(w)}if(this.showContourBands){if(n){this.To({p:["drawLine",this.lineType=="spline"?"spline":"path",g,E,false,false,false,h,"open"],t:"Data"})}else{this.To({p:["drawShape",this.lineType=="spline"?"spline":"path",g,E,false,false,false,h,"open"],t:"Data"})}}if(this.showContourLevel){var e=[0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9];var v=false;var q=0;while(!v&&q<18){var f=parseInt(g.length*e[Math.round(this.Gs(0,9))]);if(g[f]>C&&g[f]<C+this.x&&E[f]>o&&E[f]<o+this.y){this.To({p:["drawText",H[F].value+this.minData,g[f],E[f],this.legendTextFont],t:"Data"});v=true}q++}}}}}}}}}};this.Dv=function(){if(!this.moveSankeyId){this.lw()}var a=this.fr()+this.margin*(this.isDOE&&(!this.maximized||this.demaximizing)?1:5);var h=this.PN();var m=this.data.sankey;var g=0;for(var e=0;e<m.nodes.length;e++){var d=m.nodes[e];d.plotX=d.x+a;d.plotY=d.y+h;d.color=this.sankeyNodesColor||this.colors[e%this.colors.length];d.tooltip=["Sankey:"+d.name+":"+e];g=Math.max(g,d.breadth)}m.object.maxBreadth=g;for(var e=0;e<m.links.length;e++){var f=m.links[e];var k=(f.dy/2);f.plotX=[];f.plotY=[];f.tooltip=[this.xAxisIndices[0],f.id];for(var c=0;c<4;c++){f.plotX.push(f.bezier[0][c]+a);f.plotY.push(f.bezier[1][c]+h-k)}if(this.colorBy){if(this.sankeySource&&this.sankeyTarget){f.meta=this.Mk(f.id,"x",this.colorBy);f.color=this.b9(this.wn(this.xAxisIndices[0],f.id,"colorBy"),0.75,true)}else{f.meta=this.Mk(f.parent,"x",this.colorBy);f.color=this.b9(this.wn(this.xAxisIndices[0],f.parent,"colorBy"),0.75,true)}}else{f.color=this.sankeyLinksColor}}this.ao(m)};this.TL=function(){this.EX();if(this.data.tree&&this.data.tree.plot){var a=this.data.tree.plot;var c=this.fr()+(this.isDOE?this.margin*3:0);var i=this.PN();var e=this;var b=this.data.tree.plot.leaves().length;var d=this.treeInverted?-1:1;var h=function(p){var k=Math.PI-(p.x/180*Math.PI);var l=p.y;if(k<0){k+=(2*Math.PI)}p.angle=k;p.radius=l;p.xi=p.x;p.yi=p.y;p.y=d*l*Math.sin(k)+(e.x/2);p.x=d*l*Math.cos(k)+(e.y/2);if(p.parent){var j=Math.PI-(p.xi/180*Math.PI);var o=Math.PI-(p.parent.x/180*Math.PI);l=(p.yi+p.parent.y)/2;p.mx=(d*l*Math.sin(j)+(e.x/2))+c;p.my=(d*l*Math.cos(j)+(e.y/2))+i;p.mx2=(d*l*Math.sin(o)+(e.x/2))+c;p.my2=(d*l*Math.cos(o)+(e.y/2))+i}};var g=function(l){var k=l.descendants();for(var j=0;j<k.length;j++){if(!k[j]._children){delete (k[j].data.color);delete (k[j].data.shape);delete (k[j].data.size);delete (k[j].data.pattern)}}};var f=function(p){if(p.children){for(var k=0;k<p.children.length;k++){f(p.children[k])}}if(e.treeType=="circular"){h(p)}if(e.graphOrientation=="vertical"&&e.treeType!="circular"){p.y0=e.treeInverted?(a.size[1]-p.y)+i:p.y+i;p.x0=e.treeInverted?(a.size[0]-p.x)+c:p.x+c}else{if(e.graphOrientation=="horizontal"&&e.treeType!="circular"){p.y0=e.treeInverted?(a.size[1]-p.y)+c:p.y+c;p.x0=e.treeInverted?(a.size[0]-p.x)+i:p.x+i}else{p.y0=p.y+c;p.x0=p.x+i}}if(!e.colorBy){p.data.color=e.background}else{if(e.colorBy&&!p.data.color){p.data.color=p.data.idx!=null?e.wn(false,p.data.idx,"colorBy"):e.background}}if(!e.shapeBy){p.data.shape=e.treeType=="bracket"?"rect":"sphere"}else{if(e.shapeBy&&!p.data.shape){p.data.shape=p.data.idx!=null?e.wn(false,p.data.idx,"shapeBy"):"sphere"}}if(!e.sizeBy){p.data.size=e.isDOE?e.treeNodeSize/2:e.treeNodeSize}else{if(e.sizeBy&&!p.data.size){p.data.size=p.data.idx!=null?e.wn(false,p.data.idx,"sizeBy"):e.treeNodeSize}}if(!e.patternBy){p.data.pattern="solid"}else{if(e.patternBy&&!p.data.pattern){p.data.pattern=p.data.idx!=null?e.wn(false,p.data.idx,"patternBy"):"solid"}}p.data.tooltip="Tree:"+p.data.name+" ("+p.leaves().length+")";if(p.parent){var m=[];var j=[];var o=[];var l=[];for(var k=0;k<p.parent.children.length;k++){m.push(p.parent.children[k].data.color);j.push(p.parent.children[k].data.size);o.push(p.parent.children[k].data.shas);l.push(p.parent.children[k].data.pats)}p.parent.data.color=e.zD(m);p.parent.data.size=e.NA(j);if(e.um(o)){p.parent.data.shape=o[0]}if(e.um(l)){p.parent.data.pattern=l[0]}}};g(this.data.tree.plot);f(this.data.tree.plot);this.hY(e.graphOrientation)}};this.zf=function(){if(this.layoutValid&&this.segregateVariablesBy.length&&this.segregateSamplesBy.length){if((this.layoutType=="rows"&&!this.layoutTypeVariablesFirst)||(this.layoutType=="cols"&&this.layoutTypeVariablesFirst)||(this.s9())){if(this.Qc()){this.s1(100,100,"Graph orienation switched to horizontal",5000)}this.graphOrientation="horizontal"}else{if((this.layoutType=="cols"&&!this.layoutTypeVariablesFirst)||(this.layoutType=="rows"&&!this.layoutTypeVariablesFirst)||(this.layoutType=="wrap"&&this.segregateVariablesBy.length&&this.segregateSamplesBy.length)){if(this.Ir()){this.s1(100,100,"Graph orienation switched to vertical",5000)}this.graphOrientation="vertical"}}}};this.rv=function(){if(this.heatmapMarkers){var l=this.decorations.marks;var r=this.y-((this.heatmapMarkers.height+this.margin)*(this.decorations.marks.length+1));var c=r/2;var j=this.y/this.decorations.marks.length;l.sort(function(f,d){return f.sampleId-d.sampleId});for(var g=0;g<l.length;g++){var e=l[g];var k=this.ab(e);var u=parseInt(e.fontSize)||this.decorationsTextFontSize;var q=this.width-(this.right-(this.margin*5));var n=this.plotInfo.samples[e.sampleId].xy;var p=(this.top+c)+(j*g);this.To({p:["drawText",e.text,q,p,k,e.color||this.foreground,"left","middle"],t:"Decorations"});var b=this.width-this.right;var a=b+(this.margin*4);this.To({p:["drawLine","bezierx",b,n,a,p,"rgb(0,0,0)"],t:"Decorations"})}}};this.yp=function(){if(this.isGraphTime){this.s1(100,100,"Graph time graph switched to vertical",5000);this.graphOrientation="vertical"}else{if(this.graphType=="Meter"){if(this.meterType=="vertical"){this.graphOrientation="vertical"}else{if(this.meterType=="horizontal"){this.graphOrientation="horizontal"}}}else{if(this.graphType.match(/Heatmap|Gantt/)){if(this.Qc()){this.s1(100,100,"Graph orienation switched to horizontal",5000)}this.graphOrientation="horizontal"}else{if(this.graphType=="Sankey"){if(this.Ir()){this.s1(100,100,"Graph orienation switched to vertical",5000)}this.graphOrientation="vertical"}}}}this.zf()};this.sW=function(){this.heatmapMarkers=false;if(this.s9()&&this.decorations&&this.decorations.marks){var c=0;var f=0;var g=false;for(var d=0;d<this.decorations.marks.length;d++){var b=this.decorations.marks[d];var a=this.yV(b.sample);if(a!=null){b.sampleId=a;g=true}b.textLength=this.pb(b.text,this.ab(b));b.textHeight=this.pe(b.text,this.ab(b));c=Math.max(c,b.textLength);f=Math.max(f,b.textHeight)}if(g){this.heatmapMarkers={width:c,height:f}}}};this.za=function(){if(this.samplesClustered){this.Jz(false,true)}if(this.variablesClustered){this.bW(false,true)}if(this.samplesKmeaned){this.qH(false,true)}if(this.variablesKmeaned){this.CI(false,true)}};this.Jy=function(a){if(this.isGraphTime){this.cM()}this.plotInfo={indices:this.Md(a),sampleSplitsN:0,variableSplitsN:0,samples:[],variables:[],sampleOverlays:{},variableOverlays:{}};var c=this.Md(a);if(this.splitSamplesBy){if(this.data.x.hasOwnProperty(this.splitSamplesBy)){if(a&&this.layoutValid&&this.layoutGlobalGroups&&this.meta.data.g){}else{if(this.isGraphTime){}else{if(this.isGroupedData){var g=this.data.x[this.splitSamplesBy][this.grpIndices[0]];var f=0;for(var d=0;d<this.grpIndices.length;d++){var e=this.grpIndices[d];var b=this.data.w.smps[e];if(b!=g){f++;g=b}this.plotInfo.samples[d]={split:f}}this.plotInfo.sampleSplitsN=f}else{var g=this.data.x[this.splitSamplesBy][this.smpIndices[0]];var f=0;for(var d=0;d<this.smpIndices.length;d++){var e=this.smpIndices[d];var b=this.data.x[this.splitSamplesBy][e];if(b!=g){f++;g=b}this.plotInfo.samples[d]={split:f}}this.plotInfo.sampleSplitsN=f}}}}}if(!this.plotInfo.sampleSplitsN){for(var d=0;d<c.length;d++){this.plotInfo.samples[d]={split:0}}}if(this.splitVariablesBy){if(this.data.z.hasOwnProperty(this.splitVariablesBy)){var g=this.data.z[this.splitVariablesBy][this.varIndices[0]];var f=0;for(var d=0;d<this.varIndices.length;d++){var e=this.varIndices[d];var b=this.data.z[this.splitVariablesBy][e];if(b!=g){f++;g=b}this.plotInfo.variables[d]={split:f}}this.plotInfo.variableSplitsN=f}}if(!this.plotInfo.variableSplitsN){if(this.isDOE&&this.isDOE>1){this.plotInfo.variables[0]={split:0}}else{for(var d=0;d<this.varIndices.length;d++){this.plotInfo.variables[d]={split:0}}}}};this.ug=function(){var f=this;var d=function(b,a){if(b.ticksOnBottomOrLeft){if(a.length==1){return f.graphType.match(/Area/)?(C+f.y+(f.margin*3.5))+f.overlayTextFontSize+((Q+f.blockSeparation)/2):C+f.y+(f.margin*3.5)+f.overlayTextFontSize}else{return f.graphType.match(/Area/)?(C-f.margin)-((Q+f.blockSeparation)/2):C-f.margin}}else{return f.graphType.match(/Area/)?(C+f.y+f.margin)+((Q+f.blockSeparation)/2):C+f.y+f.margin}};var g=function(V,l,k,h,t){var y=0;var x=V?f.plotInfo.samples:f.plotInfo.variables;var Z=V?(f.graphType!="Heatmap"?(f.gF()*f.rbs)+f.blockSeparation:f.rbs):f.cbs;var W=V?F.indices:f.varIndices;var aa={xy:[],labels:[],mid:h+(t/2)};var U=x[0].xy-(Z/2);for(var p=0;p<W.length;p++){var m=p+1;var T=x[p].split;var S=T;var Y=V?f.Mk(W[p],f.isGroupedData?"w":"x",l):f.Mk(W[p],"z",l);var X=false;if(m<W.length){X=V?f.Mk(W[m],f.isGroupedData?"w":"x",l):f.Mk(W[m],"z",l);S=x[m].split}if(Y===X&&k!="Text"&&k!="Boolean"&&T==S){y+=Z;continue}aa.labels.push(Y?Y.toString():"");aa.xy.push([U,U+y+Z,U+((y+Z)/2),(y+Z)]);U=x[m]?x[m].xy-(Z/2):x[p].xy+(Z/2);y=0}return aa};var H=function(S,c,p,m,b,x){var o=S/c;var z=o>=10?Math.min(o*0.2,f.margin*2):o>=5?1:0;var h=(p+(m*o))+z;var t=[];for(var l=0;l<b.length;l++){t.push(h+(l*S)+(x[l].split*f.splitSeparation))}return{ext:o,space:z,tl:h,xy:t}};var F=this.plotInfo;var J=this.fr();var C=this.PN();if(this.s9()){if(this.isGraphTime){var R=!this.adjustAspectRatio?this.rbs*0.3:0;var D=(this.y-(F.sampleSplitsN*this.splitSeparation))/F.indices.length;var O=C+(D/2);for(var M=0;M<this.timeValueIndices.length;M++){F.samples[M].xy=(M*D)+O+R+(F.samples[M].split*this.splitSeparation)}}else{var D=C+(this.blockSeparation/2);for(var M=0;M<F.indices.length;M++){F.samples[M].xy=(M*this.rbs)+D+(F.samples[M].split*this.splitSeparation)}}for(var M=0;M<this.varIndices.length;M++){F.variables[M].xy=J+(M*this.cbs)+(this.cbs/2)+(F.variables[M].split*this.splitSeparation)}if(this.isOncoprint&&this.showHeatmapOncoprint){J=this.fr(true);C=this.PN(true);if(this.oncoprintHeatmapPosition.match(/top|bottom/)){F.samples2=[];var D=C+(this.blockSeparation/2);for(var M=0;M<F.indices.length;M++){F.samples2[M]={xy:(M*this.rbs)+D+(F.samples[M].split*this.splitSeparation)}}}else{if(this.oncoprintHeatmapPosition.match(/left|right/)){F.variables2=[];for(var M=0;M<this.varIndices.length;M++){F.variables2[M]={xy:J+(M*this.cbs)+(this.cbs/2)+(F.variables[M].split*this.splitSeparation)}}}}}}else{var Q=this.gF()*this.rbs;if(this.isGraphTime){var D=((this.Qc()?this.x:this.y)-(F.sampleSplitsN*this.splitSeparation))/F.indices.length;var O=this.IE()?0:this.plotByVariable?(this.Qc()?J:C)-this.margin:(this.Qc()?J:C)+((this.blockSeparation+Q)/2);if(this.plotByVariable){for(var M=0;M<F.indices.length;M++){F.samples[M].xy=(M*this.rbs)+D+(F.samples[M].split*this.splitSeparation)}}else{for(var M=0;M<this.timeValueIndices.length;M++){if(F.samples[M]){F.samples[M].xy=(M*D)+O+(F.samples[M].split*this.splitSeparation)}}}}else{if(this.plotByVariable){for(var M=0;M<F.indices.length;M++){F.samples[M].xy=(M*this.rbs)+(F.samples[M].split*this.splitSeparation)}}else{var D=(this.Qc()?J:C)+((this.blockSeparation+Q)/2);var O=this.IE()?-(this.blockSeparation+Q)/2:0;for(var M=0;M<F.indices.length;M++){F.samples[M].xy=(M*(this.blockSeparation+Q))+D+(F.samples[M].split*this.splitSeparation)+O}}}}if(this.showOverlays){var J=this.fr();var C=this.PN();var n=this.gF(4);if(this.smpOverlays.length){var Q=n*this.rbs;if(this.Qc()){var r=C+this.y+(this.layoutValid?0:this.margin);var P=false;var K={};var I=this.graphType.match(/Area/)?J-((Q+this.blockSeparation)/2):J;for(var M=0;M<this.smpOverlays.length;M++){var G=this.smpOverlays[M];if(K.hasOwnProperty(G)){continue}if(G=="-"){r+=this.margin}else{var N=this.smpOverlayProperties[G]["thickness"]||(this.overlaysThickness||0);if(this.smpOverlayProperties[G]["position"]=="top"&&!P){r=(C-(this.smpOverlaysThicknessTop||0))+(this.layoutValid?this.margin:0);P=true}if(this.smpOverlayProperties[G]["type"].match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){F.sampleOverlays[G]={xy:r,tl:I,ext:Q+this.blockSeparation,width:N,segments:g(true,G,this.smpOverlayProperties[G]["type"],r,N),title:this.graphType.match(/Area/)?(J+this.x+this.margin)+((Q+this.blockSeparation)/2):J+this.x+this.margin};K[G]=true}else{var E=this.TW("smp",this.smpOverlayProperties[G]["type"],this.smpOverlayProperties[G]["position"]);for(var L=0;L<E.length;L++){F.sampleOverlays[E[L]]={xy:r,tl:I,ext:Q+this.blockSeparation,segments:H(Q+this.blockSeparation,E.length,I,L,F.indices,F.samples),width:N,label:r+((N/(E.length+1))*(L+1)),title:this.graphType.match(/Area/)?(J+this.x+this.margin)+((Q+this.blockSeparation)/2):J+this.x+this.margin};K[E[L]]=true}}r+=F.sampleOverlays[G].width}}}else{var B=this.heatmapMarkers?this.heatmapMarkers.width+(this.margin*6):0;var u=(J-(this.smpOverlaysThicknessLeft||0))+(this.layoutValid?this.margin:0);var P=false;var K={};var I=this.graphType.match(/Area/)?C-((compBlock+this.blockSeparation)/2):C;for(var M=0;M<this.smpOverlays.length;M++){var G=this.smpOverlays[M];if(K.hasOwnProperty(G)){continue}if(G=="-"){u+=this.margin}else{var A=this.smpOverlayProperties[G]["thickness"]||(this.overlaysThickness||0);if(this.smpOverlayProperties[G]["position"]=="right"&&!P){u=J+this.x+(this.layoutValid?0:this.margin)+B;P=true}if(this.smpOverlayProperties[G]["type"].match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){F.sampleOverlays[G]={xy:u,tl:I,ext:!this.s9()?Q+this.blockSeparation:Q,width:A,segments:g(true,G,this.smpOverlayProperties[G]["type"],u,A),title:this.graphType.match(/Area/)?(C+this.y+this.margin)+((Q+this.blockSeparation)/2):C+this.y+this.margin};K[G]=true}else{var E=this.TW("smp",this.smpOverlayProperties[G]["type"],this.smpOverlayProperties[G]["position"]);for(var L=0;L<E.length;L++){F.sampleOverlays[E[L]]={xy:u,tl:I,ext:(!this.s9()?Q+this.blockSeparation:Q),segments:H(!this.s9()?Q+this.blockSeparation:Q,E.length,I,L,F.indices,F.samples),width:A,label:u+((A/(E.length+1))*(L+1)),title:d(this.smpOverlayProperties[G],E)};K[E[L]]=true}}u+=A}}}}if(this.varOverlays.length&&this.s9()){var Q=this.cbs;var r=C+this.y+this.margin;var P=false;var K={};for(var M=0;M<this.varOverlays.length;M++){var G=this.varOverlays[M];if(K.hasOwnProperty(G)){continue}if(G=="-"){r+=this.margin}else{var N=this.varOverlayProperties[G]["thickness"]||(this.overlaysThickness||0);if(this.varOverlayProperties[G]["position"]=="top"&&!P){r=(C-(this.varOverlaysThicknessTop||0))+(this.layoutValid?this.margin:0);P=true}if(this.varOverlayProperties[G]["type"].match(/Heatmap|Text|Default|Increase|Decrease|Boolean/)){F.variableOverlays[G]={xy:r,tl:J,ext:Q,width:N,segments:g(false,G,this.varOverlayProperties[G]["type"],r,N),title:J+this.x+this.margin,title2:J-this.margin};K[G]=true}else{var E=this.TW("var",this.varOverlayProperties[G]["type"],this.varOverlayProperties[G]["position"]);for(var L=0;L<E.length;L++){F.variableOverlays[E[L]]={xy:r,tl:J,ext:Q,segments:H(Q,E.length,J,L,this.varIndices,F.variables),width:N,label:r+((N/(E.length+1))*(L+1)),title:J+this.x+this.margin,title2:J-this.margin};K[E[L]]=true}}r+=N}}}}};this.ay=function(){if(this.groupingFactors.length>0&&!this.isGroupedData){if(this.layoutComb&&this.data.l&&this.data.l.group&&this.gS(this.data.l.group.sort(),this.groupingFactors.sort())){}else{if(this.groupingFactors.length>1&&this.colorBy&&this.data.x&&this.data.x.hasOwnProperty(this.colorBy)&&this.groupingFactors.includes(this.colorBy)&&!this.isCxplot){var a=[];for(var b=0;b<this.groupingFactors.length;b++){if(this.groupingFactors[b]!=this.colorBy){a.push(this.groupingFactors[b])}}this.groupingFactors=a;if(this.meta.data.x[this.colorBy].type=="Numeric"){this.zd(this.colorBy,true,true)}this.toDoPivot=this.colorBy}this.hW(this.groupingFactors,false,false,true,true)}}this.u4()};this.r7=function(){if(this.transformData!=this.isTransformedData){this.kX(this.transformData,this.transformAxis,false,true);this.xu();this.er(true)}};this.ac=function(){var c=this.s9()?["outline","shape","size","pattern"]:["color","outline","shape","size","pattern"];for(var b=0;b<c.length;b++){var a=c[b]+"ByData";if(this[a]&&this.data.y[this[a]]&&this.tO(this.data.y[this[a]])){this.isMultidimensionalData=true}}};this.hk=function(){this.treeNodeSize=Math.max(5,Math.ceil(this.height/this.data.y.smps.length/6))*Math.min(3.5,this.treeNodeSizeScaleFactor)};this.G4=function(){if(this.graphType=="Treemap"){this.showVarDendrogram=true}};this.yv=function(){if(this.stackBy&&this.meta.data.x&&this.meta.data.x[this.stackBy]&&this.meta.data.x[this.stackBy].type=="Numeric"){this.zd(this.stackBy,true,true)}};this.qe=function(){if(this.dodgeBy&&this.meta.data.x&&this.meta.data.x[this.dodgeBy]&&this.meta.data.x[this.dodgeBy].type=="Numeric"){this.zd(this.dodgeBy,true,true)}};this.ae=function(){if(this.lineBy&&this.meta.data.x&&this.meta.data.x[this.lineBy]&&this.meta.data.x[this.lineBy].type=="Numeric"){this.zd(this.lineBy,true,true)}};this.LE=function(){this.boxplotWidthRatioIfViolin=Math.min(1,Math.max(0.1,this.boxplotWidthRatioIfViolin))};this.Qf=function(){if(this.graphType=="Dotplot"){if(this.dotplotType.match(/arrow|bullet|cleveland|connected|line|stacked/)){if(!this.data.z){this.data.z={}}if(!this.data.z.hasOwnProperty("_CONNECT_")){this.data.z._CONNECT_=[]}for(var a=0;a<this.data.y.vars.length;a++){this.data.z._CONNECT_[a]=1}this.wD("z","_CONNECT_",false,true);this.connectBy="_CONNECT_"}}};this.Qu=function(d){if(this.graphName&&this.graphName.graphType=="Waterfall"){var a=false;var b=this.xAxis.length?this.tU(this.xAxis):false;var e=this.smpIndices[this.smpIndices.length-1];if(b){for(var c=0;c<b.length;c++){if(!isNaN(this.data.y.data[b[c]][e])&&this.data.y.data[b[c]][e]!=0){a=true;break}}}this.graphOrientation="vertical";if(a){this.graphType="Bar";this.barType="waterfall";if(!d&&b){this.sortDir="desc";this.m6(this.xAxis,false,true)}}else{if(b){this.patternBy="variable";for(var c=0;c<b.length;c++){if(isNaN(this.data.y.data[b[c]][e])){this.data.y.data[b[c]][e]=0}}}}return !a}};this.BS=function(){if(this.oncoprintCNA&&this.data.y.hasOwnProperty(this.oncoprintCNA)){this.et()}else{this.isOncoprint=false;this.oncoprintCNA=false}};this.Bl=function(){if(this.heatmapType=="upset"){this.AL();var c=this.layoutValid?this.layoutHeight:this.height;var a=this.layoutValid?this.layoutWidth:this.width;if(this.varOverlayProperties.hasOwnProperty("Size")){this.varOverlayProperties.Size.thickness=c*this.upsetMatrixPlotBarRatio}if(this.smpOverlayProperties.hasOwnProperty("Sets")){this.smpOverlayProperties.Sets.thickness=a*0.2}}else{if(this.heatmapType=="split"){var d=["data2","data3","data4","data5"];this.heatmapSplits=[];for(var b=0;b<d.length;b++){if(this.data.y.hasOwnProperty(d[b])){this.heatmapSplits.push(d[b])}}if(this.heatmapSplits.length<1){this.heatmapType="normal"}}}};this.Vu=function(){this.sankeyLinksColor=this.b9(this.sankeyLinksColor,0.66,true)};this.uu=function(){if(this.graphType=="Meter"){if(this.xAxis.length){this.xAxisIndices=this.tU(this.xAxis[0])}if(!this.xAxis.length||this.xAxisIndices[0]==-1){this.xAxis=[this.data.y.vars[0]];this.xAxisIndices=[0]}if(this.groupingFactors[0]&&this.data.x&&this.data.x.hasOwnProperty(this.groupingFactors[0])&&this.meta.data.x[this.groupingFactors[0]].type=="Numeric"){this.zd(this.groupingFactors[0],true,true)}if(this.groupingFactors[0]&&(!this.data.x||(this.data.x&&!this.data.x.hasOwnProperty(this.groupingFactors[0])))){this.groupingFactors[0]=false}this.uP()}};this.L9=function(){if(this.barType=="swimmer"){if(this.swimHigh){if(this.tU(this.swimHigh)==-1){this.swimHigh=this.data.y.vars[0]}}if(this.swimStart){if(this.tU(this.swimStart)==-1){if(this.data.y.vars.length>1){this.swimStart=this.data.y.vars[1]}else{this.barType="normal"}}}if(this.swimEnd){if(this.tU(this.swimEnd)==-1){if(this.data.y.vars.length>2){this.swimEnd=this.data.y.vars[2]}else{this.barType="normal"}}}if(this.barType=="swimmer"){this.uV()}}};this.Xi=function(){if(this.graphType=="Gantt"){this.showOverlays=false;this.showVarDendrogram=false;this.showSmpDendrogram=false;this.plotByVariable=false;this.xAxisGridMajorShow=false;this.xAxisGridMinorShow=false;this.xAxisShow=false;this.xAxis2Show=true}};this.Ey=function(){var a,b;if(this.xAxis.length){a=this.gS(this.tU(this.xAxis),this.xAxisVarIndices)}if(this.xAxis2.length){b=this.gS(this.tU(this.xAxis2),this.xAxis2VarIndices)}if(!a||!b){if(this.layoutAdjust){this.DT()}else{if(!a){this.xAxisVarIndices=this.tU(this.xAxis)}if(!b){this.xAxis2VarIndices=this.tU(this.xAxis2)}}}if(this.graphType.match(/Line/)&&this.isGroupedData&&!this.isDOE){var d=[];for(var c=0;c<this.xAxisVarIndices.length;c++){d.push(this.xAxisVarIndices[c])}for(var c=0;c<this.xAxis2VarIndices.length;c++){d.push(this.xAxis2VarIndices[c])}this.FE(d);this.hW(this.groupingFactors,false,false,true,true,true)}};this.EE=function(){this.IO()};this.mu=function(){this.LE();this.Qf();this.Qu();this.yp();this.ay();this.r7();this.fE();this.za();this.ac();this.G4();this.hk();this.yv();this.uu();this.qe();this.ae();this.BS();this.Bl();this.Vu();this.L9();this.Xi();this.EE()};this.Bq=function(){if(this.isDOE){this.showOverlays=false;this.showVarDendrogram=false;this.showSmpDendrogram=false;this.smpTitle=false}else{if(this.plotByVariable){if(this.graphType.match(/^Bar$|Boxplot|Dotplot|Gantt/)){this.showOverlays=false;this.showVarDendrogram=false;this.showSmpDendrogram=false}else{this.plotByVariable=false}}}};this.KX=function(){this.yp();this.sW();this.Ey();this.mU();this.u4();this.Bq();this.o1();this.Jy();this.dJ();this.sl();this.OL();this.ug()};this.IO=function(){this.Fg();this.rP("var");this.rP("smp")};this.jz=function(){this.fJ();this.pZ();this.Sf()};this.Wm=function(){this.v1();this.Ue();this.jz();this.cJ();this.dw();this.na();this.qi();this.On();this.rv();this.p3()};this.e8=function(){this.KX();this.Wm()};this.Rr=function(){var d=this.meta.config.orig;var b=["varTextScaleFontFactor","showVariableNames","showSampleNames","smpTextScaleFontFactor","insideLegend","legendTextFontSize","showLegend","legendPosition"];for(var a=0;a<b.length;a++){var c=b[a];if(d[c]){this[c]=d[c];delete (d[c])}}this.adjustAspectRatioXTries=0;this.adjustAspectRatioYTries=0};this.rn=function(){this.mu();if(this.layoutValid&&this.data.l){this.X9(this.draw1DPlot)}else{this.e8()}this.Rr();this.RW()};this.Ar=function(){this.rn()}};CanvasXpress.prototype.Network=function(){this.kB=function(b){var a=this.Ej(b);var d={};d.x=(a.x/this.scaleFactorX||1)-this.offsetX;d.y=(a.y/this.scaleFactorY||1)-this.offsetY;return d};this.rS=function(d,c){if(d){if(!d.id){var a=0;var e="id"+a;while(this.nodes.hasOwnProperty(e)){a++;e="id"+a}d.id=e}if(!d.color){d.color=this.colors[0]}if(!d.shape){d.shape=this.shapes[0]}if(!d.size){d.size=1}if(c){var b=this.kB(c);d.x=b.x;d.y=b.y}this.data.nodeIndices[d.id]=this.data.nodes.length;this.data.nodes.push(d);this.nodes[d.id]=d;return d}};this.Rt=function(a){return a!=null?this.Nv(this.data.nodes[a]):[]};this.N1=function(a){return a!=null?this.Nv(this.data.edges[a]):[]};this.dV=function(e,l){if(e&&e.id){var b=l?this.l4(this.sa(e.id)):false;var h=[];var d=0;if(e.hasOwnProperty("layout")&&e.layout.children.length){for(var k=0;k<e.layout.children.length;k++){var c=e.layout.children[k];if(this.data.nodeIndices[c]!=null&&this.data.nodes[this.data.nodeIndices[c]]){delete (this.data.nodes[this.data.nodeIndices[c]].parentNode)}}}this.data.nodeIndices={};for(var k=0;k<this.data.nodes.length;k++){var a=this.data.nodes[k];if(a.id!=e.id){if(b&&b.hasOwnProperty(k)){var g=a.layout.edges;for(var f=0;f<g.length;f++){this.Lw(g[f])}}else{h.push(a);this.data.nodeIndices[a.id]=d;d++}}else{var g=a.layout.edges;for(var f=0;f<g.length;f++){this.Lw(g[f])}}a.layout.edges=this.Hf(this.data.edges,a.id)}this.data.nodes=h}};this.Tz=function(a){if(a&&a.id1&&a.id2){if(!a.color){a.color=this.colors[0]}if(!a.width){a.width=1}if(!a.type){a.type="line"}this.data.edges.push(a)}};this.Lw=function(c){if(c&&c.id1&&c.id2){var b=[];for(var a=0;a<this.data.edges.length;a++){if(this.data.edges[a].id1!=c.id1||this.data.edges[a].id2!=c.id2){b.push(this.data.edges[a])}}this.data.edges=b}};this.ea=function(c){for(var d in c){if(this.data.nodes[this.data.nodeIndices[d]]){var a=this.data.nodes[this.data.nodeIndices[d]];for(var b in c[d]){a[b]=c[d][b]}}}this.FV("nodes");CanvasXpress.stack[this.target].data=this.data;delete (this.nodesData)};this.Kr=function(g){for(var c=0;c<this.data.edges.length;c++){var a=this.data.edges[c];var d=a.id1+":"+a.id2;var b=a.id2+":"+a.id1;var f=g.hasOwnProperty(d)?g[d]:g.hasOwnProperty(b)?g[b]:false;if(f){for(var e in f){a[e]=f[e]}}}this.FV("edges");CanvasXpress.stack[this.target].data=this.data;delete (this.edgesData)};this.oO=function(d,c,b,a){var e=this.data.edges[d].elbows[c];e[0]-=b;e[1]-=a};this.iq=function(a){return(a.width?a.width:a.size?(this.nodeSize*a.size):this.nodeSize)};this.Yn=function(a){return(a.height?a.height:a.size?(this.nodeSize*a.size):this.nodeSize)};this.cG=function(d,a,b){var c=this.data.nodes[this.data.nodeIndices[d]];delete (c.size);c.width=a;c.height=b};this.hV=function(b,j,h){var c=this.data.nodes[this.data.nodeIndices[b]];if(!c.fixed){c.x-=j;c.y-=h;var d=this.Hf(this.data.edges,b);if(d.length>0){for(var e=0;e<d.length;e++){var f=d[e];if(f.elbows){var g=f.elbows.length-1;if(f.id1==b){f.elbows[0][0]-=j;f.elbows[0][1]-=h}else{if(f.id2==b){f.elbows[g][0]-=j;f.elbows[g][1]-=h}}}}}if(c.labelX!=null&&c.labelY!=null){this.Av(b,j,h)}if(c.decorationsX!=null&&c.decorationsY!=null){this.El(b,j,h)}if(this.networkLayoutType!="radial"){if(c.hasOwnProperty("layout")&&c.layout.children.length){if(this.moveParentsWithChildren){for(var e=0;e<c.layout.children.length;e++){var a=c.layout.children[e];this.hV(a,j,h)}}}}}};this.Av=function(d,b,a){var c=this.data.nodes[this.data.nodeIndices[d]];if(!c.fixed){c.labelX=c.labelX!=null?c.labelX-b:c.labelXi-b;c.labelY=c.labelY!=null?c.labelY-a:c.labelYi-a}};this.El=function(d,b,a){var c=this.data.nodes[this.data.nodeIndices[d]];if(!c.fixed){c.decorationsX=c.decorationsX!=null?c.decorationsX-b:c.decorationsXi-b;c.decorationsY=c.decorationsY!=null?c.decorationsY-a:c.decorationsYi-a}};this.mK=function(){var b=[];if(this.data.nodes){for(var a=0;a<this.data.nodes.length;a++){if(this.data.nodes[a].hide){b.push(this.data.nodes[a])}}}return b};this.TH=function(b){for(var a in CanvasXpress.selector.nodes){this[b](this.data.nodes[this.data.nodeIndices[a]])}};this.wd=function(c){var b=[c];for(var a=0;a<this.data.nodes.length;a++){if(this.data.nodes[a].id!=c.id){b.push(this.data.nodes[a])}}this.data.nodes=b;this.O1()};this.GD=function(d){var c=[];var a=this.data.nodeIndices[d.id];if(a>0){for(var b=0;b<a-1;b++){c.push(this.data.nodes[b])}c.push(this.data.nodes[a]);c.push(this.data.nodes[a-1]);for(var b=a+1;b<this.data.nodes.length;b++){c.push(this.data.nodes[b])}this.data.nodes=c;this.O1()}};this.Tm=function(c){var b=[];for(var a=0;a<this.data.nodes.length;a++){if(this.data.nodes[a].id!=c.id){b.push(this.data.nodes[a])}}b.push(c);this.data.nodes=b;this.O1()};this.gz=function(d){var c=[];var a=this.data.nodeIndices[d.id];if(this.data.nodes.length-1>a){for(var b=0;b<a;b++){c.push(this.data.nodes[b])}c.push(this.data.nodes[a+1]);c.push(this.data.nodes[a]);for(var b=a+2;b<this.data.nodes.length;b++){c.push(this.data.nodes[b])}this.data.nodes=c;this.O1()}};this.om=function(g,d,a){g=this.i4(g);var p=(this.maxX-this.minX)/this.scaleFactorX;var m=(this.maxY-this.minY)/this.scaleFactorY;var c=0.015;for(var j=0;j<g.length;j++){var b=g[j];var e=this.data.nodes[this.data.nodeIndices[b]];var o=e.width?e.width:e.size?e.size:this.nodeSize;var l=e.height?e.height:e.size?e.size:this.nodeSize;var k=(o<c*p?c*p:o)*1.35;var n=(l<c*m?c*m:l)*1.35;var f=this.yk(["circle",e.x,e.y,1]);this.F5(f[1],f[2],k*this.scaleFactorX,n*this.scaleFactorY,d||this.nodeHighlightColor,a)}};this.GV=function(a){if(this.KV()){return}if(this.tO(a)){this.highlightNode=this.highlightNode.concat(a)}else{this.highlightNode.push(a)}this.x9({func:"highlightNodes",par:[a]})};this.bZ=function(a){if(this.KV()){return}var d=[];a=this.i4(a);for(var c=0;c<this.highlightNode.length;c++){var e=false;for(var b=0;b<a.length;b++){if(this.highlightNode[c]==a[b]){e=true;break}}if(!e){d.push(this.highlightNode[c])}}this.highlightNode=d;this.x9({func:"unHighlightNodes",par:[a]})};this.jZ=function(j,b){if(this.KV()){return}var f,a,h,p,g;var k=this.nf();if(k||b==89||b==90){if(j){this.Y6(j);this.cc(j)}if(b==84){f=this.lJ(k.y);for(var g in CanvasXpress.selector.nodes){var d=this.data.nodes[this.data.nodeIndices[g]];this.hV(d.id,0,d.y-f)}}else{if(b==82){f=this.K1(k.x);for(var g in CanvasXpress.selector.nodes){var d=this.data.nodes[this.data.nodeIndices[g]];this.hV(d.id,d.x-f,0)}}else{if(b==66){f=this.K1(k.y);for(var g in CanvasXpress.selector.nodes){var d=this.data.nodes[this.data.nodeIndices[g]];this.hV(d.id,0,d.y-f)}}else{if(b==76){f=this.lJ(k.x);for(var g in CanvasXpress.selector.nodes){var d=this.data.nodes[this.data.nodeIndices[g]];this.hV(d.id,d.x-f,0)}}else{if(b==86){a=this.cp(k.y);h=this.I5(k.y);p=(a[1]-a[0])/(CanvasXpress.selector.selections-1);f=a[0];for(var l=0;l<h.length;l++){g=k.i[h[l]];var d=this.data.nodes[this.data.nodeIndices[g]];this.hV(d.id,0,d.y-(f+(l*p)))}}else{if(b==72){a=this.cp(k.x);h=this.I5(k.x);p=(a[1]-a[0])/(CanvasXpress.selector.selections-1);f=a[0];for(var l=0;l<h.length;l++){g=k.i[h[l]];var d=this.data.nodes[this.data.nodeIndices[g]];this.hV(d.id,d.x-(f+(l*p)),0)}}}}}}}this.x9({network:true,func:"alignDistributeSelectedNodes",par:[j,b]})}return false};this.nf=function(){var f={x:[],y:[],i:[]};var b=false;for(var d in CanvasXpress.selector.nodes){var e=this.data.nodes[this.data.nodeIndices[d]];f.x.push(e.x);f.y.push(e.y);f.i.push(d);b=true}return b?f:false};this.Pd=function(g){var a=[];var k=0;for(var b in g){g[b]=this.i4(g[b]);k++}for(var h=0;h<this.data.nodes.length;h++){var d=this.data.nodes[h];var e=0;for(var b in g){var l=g[b];for(var f=0;f<l.length;f++){if(d[b]&&d[b]==l[f]){e++}}}if(e==k){a.push(d)}}return a};this.ZQ=function(){this.left=10;this.right=10;this.top=this.SP()+10;this.bottom=10;if(this.showLegend){if(!this.legendInside){if(this.legendPosition.match(/right/i)){this.right+=this.legend.width+this.margin}else{if(this.legendPosition.match(/left/i)){this.left+=this.legend.width+this.margin}else{if(this.legendPosition.match(/bottom/i)){this.bottom+=this.legend.height+this.margin;if(this.citation){this.bottom+=this.citationFontSize+this.margin}}else{this.top+=this.legend.height+this.margin}}}}}if((this.networkLayoutType=="circular")&&this.showNodeNameThreshold>=this.data.nodes.length){var d=this.meta.data.nodes.label?this.meta.data.nodes.label.maxLevStr:this.meta.data.nodes.name?this.meta.data.nodes.name.maxLevStr:this.meta.data.nodes.id.maxLevStr;var a=this.zoomScale?1:this.zoom;var e=this.nodeFontSize*this.nodeScaleFontFactor;var c=this.nodeFontStyle+" "+Math.min(Math.max((parseInt(e/a)),this.scaleFactorX>this.minTextSize?1:this.minTextSize),this.maxTextSize)+"px "+this.fontName;var b=this.pb(d,c)*0.3;this.left+=b;this.right+=b;this.top+=b;this.bottom+=b}this.x=this.width-(this.left+this.right);this.y=this.height-(this.top+this.bottom)};this.Oa=function(c,g){var j,i,h,f,b,e,a;if(!c){c=this.data.nodes;j=this.x;i=this.y}else{var d=this.nf();f=this.lJ(d.x);b=this.K1(d.x);e=this.lJ(d.y);a=this.K1(d.y);h=Math.max(b-f,a-e);j=h;i=h}if(!g){g=this.networkLayoutType}if(c.length>0){if(g=="radial"){this.networkLevelSize=this.x*4/(this.networkDepth*2);this.networkAngleStep=360/this.networkDivisions;this.networkRadialRadius=this.networkLevelSize*(this.networkDepth-1);this.networkXCenter=this.x/2;this.networkYCenter=this.y/2}else{if(g=="circular"){this.networkLevelSize=j*0.5;this.networkAngleStep=360/c.length;this.networkRadialRadius=this.networkLevelSize;this.networkXCenter=j/2;this.networkYCenter=i/2}else{this.c1()}}}};this.nQ=function(a,b){return this.Uw(a,b)!=null};this.Uw=function(c,d){for(var b in c){var a=c[b];if(d.call(a)){return a}}return null};this.PC=function(d,e){var c=[];for(var b in d){var a=d[b];if(e.call(a)){c.push(a)}}return c};this.jm=function(h){var g=[];var a={};var j=this;for(var e in h.nodes){if(!a.hasOwnProperty(h.nodes[e].id)){var d=h.nodes[e];var c=[];a[d.id]=1;if(!this.nQ(c,function(){return j.nQ(this.nodes,function(){return this.id=d.id})})){var b={nodes:[],edges:[]};this.Bi(d,b,h);if(b.nodes.length>0){g.push(b)}for(var f=0;f<b.nodes.length;f++){a[b.nodes[f].id]=1}}}}return g};this.Bi=function(c,f,e){if(this.T2(c.id,f)==null){f.nodes.push(c);var a=this.Hf(e.edges,c.id);for(var d in a){var b=a[d];f.edges.push(b);if(b.id1==c.id){this.Bi(this.T2(b.id2,e),f,e)}else{this.Bi(this.T2(b.id1,e),f,e)}}}};this.T2=function(b,a){return this.Uw(a.nodes,function(){return b==this.id})};this.Hf=function(a,b){return this.PC(a,function(c){return(this.id1==b||this.id2==b)})};this.qz=function(a){if(a){this.ak(-this.offsetX,-this.offsetY);this.a2(1/this.scaleFactorX,1/this.scaleFactorY)}else{this.a2(this.scaleFactorX,this.scaleFactorY);this.ak(this.offsetX,this.offsetY)}};this.FK=function(a){if(!a){this.preScaleNetworkState=this.preScaleNetwork;this.preScaleNetwork=true}else{this.preScaleNetwork=this.preScaleNetworkState;delete this.preScaleNetworkState}};this.Rf=function(c){if(this.data.nodes.length>0){if((this.optimizingLayout&&!this.showAnimation)||(!this.isLayoutDone&&!this.showAnimation)){return}var d=this;var b=function(){if(!d.ignoreEventlessOrder){d.BB(true)}d.U9();if(d.networkNodesOnTop){d.To({p:["disableGradientTransparencyShadow"],t:"Size"});d.c6();d.To({p:["enableGradientTransparencyShadow"],t:"Size"});d.BB()}else{d.BB();d.To({p:["disableGradientTransparencyShadow"],t:"Size"});d.c6();d.To({p:["enableGradientTransparencyShadow"],t:"Size"})}if(d.isLayoutDone){d.mb();d.oJ();d.Fs()}};var a=function(){d.FK();d.qP();d.Aa();d.On();d.p3();d.UK(true);d.FK(true)};this.OI();this.uX();this.Hm();this.se();this.Hr();this.ag();this.FH();if(this.scaleFactorX&&this.scaleFactorY){if(this.showAnimation){if(this.preScaleNetwork){this.MM();b()}else{this.To({p:["translateScaleNetworkCanvas",false],t:"Size"});b();this.To({p:["translateScaleNetworkCanvas",true],t:"Size"})}a()}else{a();if(this.preScaleNetwork){this.MM()}else{this.To({p:["translateScaleNetworkCanvas",false],t:"Size"})}b()}}if(!this.debug){this.db()}if(c){this.dU(c)}}};this.OI=function(){if(this.networkLayoutType=="circular"){var b=this.data.nodes;var g=this.x/2;var f=this.y/2;var a=Math.max(this.x,this.y);var j=0;for(var d=0;d<b.length;d++){var c=b[d];if(!c.hide){j+=(this.nodeSize*this.NO(c,false,"sizeNodeBy")*2)+this.nodeSize}}var e=2*Math.PI/j;var h=this.network2DRotate?(-this.network2DRotate*0.01):0;for(var d=0;d<b.length;d++){var c=b[d];var j=(this.nodeSize*this.NO(c,false,"sizeNodeBy")*2)+this.nodeSize;if(!c.hide){h+=e*j*0.5;c.x=g+a+a*Math.sin(h);c.y=f+a+a*Math.cos(h);c.angle=(h*180/Math.PI)%360;h+=e*j*0.5}}}};this.mb=function(){if(this.networkLayoutType=="radial"&&this.showNetworkRadialLayout){var a=this.data.nodes[this.data.nodeIndices[this.networkRoot]];for(var b=1;b<this.networkDepth;b++){this.To({p:["drawShape","circle",a.x,a.y,b*this.networkLevelSize*2,b*this.networkLevelSize*2,this.background,this.infoAreaColor,"open"],t:"Axes"})}}};this.MM=function(){for(var a=0;a<this.data.nodes.length;a++){var b=this.data.nodes[a];if(!b.hide&&!b.hiddenParent){b.x=(this.offsetX+b.x)*this.scaleFactorX;b.y=(this.offsetY+b.y)*this.scaleFactorY}}this.scaleFactorX=0.9;this.scaleFactorY=0.9;this.offsetX=this.left+(this.x*0.05);this.offsetY=this.top+(this.y*0.05)};this.U9=function(){var l=this;var c=[];var y=[];var r=[];var k={};var e=function(z,L){for(var H=0;H<z.leaves.length;H++){var K=z.leaves[H];var J=l.wo(K)?l.data.nodes[K.index]:l.data.nodeIndices[K]?l.data.nodes[l.data.nodeIndices[K]]:l.data.nodes[K];if(J){L.push(J)}}if(z.hasOwnProperty("groupIds")){for(var G=0;G<z.groupIds.length;G++){var I=z.groupIds[G];for(var F=0;F<l.data.groups.length;F++){if(l.data.groups[F].id==I){e(l.data.groups[F],L);break}}}}return L};if(this.data.groups&&this.data.groups.length>1){for(var u=0;u<this.data.groups.length;u++){var D=Number.MAX_VALUE;var C=-Number.MAX_VALUE;var B=Number.MAX_VALUE;var A=-Number.MAX_VALUE;k[u]=true;var h=e(this.data.groups[u],[]);for(var t=0;t<h.length;t++){var s=h[t];if(!s.hide){k[u]=false}var b=s.width?s.width*0.6:this.nodeSize*0.85;var a=s.height?s.height*0.6:this.nodeSize*0.85;var o=0;if(s){D=Math.min(s.x-b,D);B=Math.min(s.y-a,B);C=Math.max(s.x+b,C);A=Math.max(s.y+a,A);if(this.is3DNetwork){o+=s.z}}}var x=D;var f=B;var v=C;var d=A;var q=(x+v)/2;var p=(f+d)/2;var m=v-x;var E=d-f;var n=this.data.groups[u].color?this.b9(this.data.groups[u].color,0.2):"rgb(150,150,150, 0.2)";y.push(u);c.push([q,p,m,E,n]);r.push(o)}y.sort(function(i,g){return r[g]-r[i]});for(var u=0;u<this.data.groups.length;u++){if(!k[y[u]]){var w=c[y[u]];this.To({p:["drawShape","roundrect",w[0],w[1],w[2],w[3],w[4]],i:[y[u]],m:"-group",t:"Data"})}}}};this.Sz=function(e,n,c,m,g,f,o){var l=this.networkLayoutType.match(/radial|circular/)?1:this.scaleFactorX;var k=this.networkLayoutType.match(/radial|circular/)?1:this.scaleFactorY;var b=this.margin/Math.max(l,k);var d=e==c&&n==m;var j=f&&!d?o||0:!g.height&&!g.width?(b*this.edgeSeparationFactor)+(o||0):(o||0);if(this.networkLayoutType=="circular"){return 0}else{if(g){var i=g.size?g.size:1;var a=(g.width?g.width:this.nodeSize*i);var h=(g.height?g.height:this.nodeSize*i);if(f){if(!g.width){a*=i}if(!g.height){h*=i}}else{if(!g.width){a/=l}if(!g.height){h/=k}}a=parseInt(a);h=parseInt(h);if(a==h){return(a/2)+j}else{var p=this.C3("line",[e,n,c,m],[e-(a/2),n-(h/2),a+(e-(a/2)),h+(n-(h/2))]);return this.Cj(p[0],p[1],p[2],p[3])+j}}else{return j}}};this.b0=function(d,x,u,o){var p=x.x;var l=x.y;var z=u.x;var y=u.y;var i=d.id1==d.id2?"curved":d.type?d.type:"line";var c=i.match(/curved/i)?true:false;var b=0;var a=0;var q=0;var C=0;if(d.exact){b=0;a=0;q=0;C=0}else{if(d.elbows&&d.elbows.length>0){var f=d.elbows[0];var e=d.elbows[d.elbows.length-1];b=this.Sz(p,l,f[0],f[1],x,c,0);a=this.Sz(z,y,e[0],e[1],u,c,0);q=this.Sz(p,l,f[0],f[1],x,c,Number(o)*(d.startArrow&&d.starArrow=="arrow"?1.5:0));C=this.Sz(z,y,e[0],e[1],u,c,Number(o)*(d.endArrow&&d.endArrow=="arrow"?1.5:0))}else{var s=null;var r=null;var E=null;var D=null;if(d.exactStart){b=0;q=0}else{if(d.startX!=null&&d.startY!=null){var B=d.startX;var A=d.startY;var h=x.size?x.size:1;var n=x.width?x.width/this.zoom/2:this.nodeSize*h/this.zoom/2;var v=x.height?x.height/this.zoom/2:this.nodeSize*h/this.zoom/2;s=p+(B*n);r=l+(A*v);b=0;q=0}else{b=this.Sz(p,l,z,y,x,c,0);q=this.Sz(p,l,z,y,x,c,Number(o)*(d.startArrow&&d.starArrow=="arrow"?1.5:0))}}if(d.exactEnd){a=0}else{if(d.endX!=null&&d.endY!=null){var m=d.endX||0;var k=d.endY||0;var g=u.size?u.size:1;var j=u.width?u.width/this.zoom/2:this.nodeSize*g/this.zoom/2;var t=u.height?u.height/this.zoom/2:this.nodeSize*g/this.zoom/2;E=z+(m*j);D=y+(k*t);a=0;C=0}else{a=this.Sz(z,y,p,l,u,c,0);C=this.Sz(z,y,p,l,u,c,Number(o)*(d.endArrow&&d.endArrow=="arrow"?1.5:0))}}if(s!=null&&r!=null){p=s;l=r}if(E!=null&&D!=null){z=E;y=D}}}return{startX:p,startY:l,startS:b,startS2:q,endX:z,endY:y,endS:a,endS2:C}};this.c6=function(){var m=this;if(this.data.nodes.length>1){var t=this.zoomScale?1:this.zoom;var z=function(K){var q=K.size?K.size:1;var j=K.width?K.width:m.nodeSize;var k=K.height?K.height:m.nodeSize;var i=Math.max(j,k);return q>1?q*m.nodeSize:i};for(var G=0;G<this.data.edges.length;G++){var w=null;var h=this.data.edges[G];var E=this.data.nodes[this.data.nodeIndices[h.id1]];var B=this.data.nodes[this.data.nodeIndices[h.id2]];var J=!E.hide&&!E.hiddenParent&&!B.hide&&!B.hiddenParent;var c=z(E)/2;if(J&&!h.hide){var g=CanvasXpress.selector.nodes.hasOwnProperty(E.id)&&CanvasXpress.selector.nodes.hasOwnProperty(B.id)?this.nodeHighlightColor:this.colorEdgeBy?this.NO(false,h,"colorEdgeBy"):h.color?h.color:this.edgeColor;var r=this.sizeEdgeBy?this.NO(false,h,"sizeEdgeBy"):h.width?h.width:this.edgeThickness;var o=h.cap?h.cap:false;var A=this.networkLayoutType=="forceDirected"?"R":"";var d=h.id1==h.id2?"curved":h.type?h.type:"line"+A;var s=this.b0(h,E,B,r);var u=h.id1+":"+h.id2;var e=h.id1==h.id2&&h.self?h.self:{dir:true,pos:"topLeft",size:Math.max(1,c),end:"arrow",exact:h.exactStart||h.exactEnd};var a=false;if(this.colorNodeBy&&!this.colorEdgeBy){}if(this.networkLayoutType=="circular"&&this.colorNodeBy){g=this.NO(B,false,"colorNodeBy")}if(this.objectColorTransparency!=1){g=this.b9(g,this.objectColorTransparency,true)}if(h.elbows){a=[];var y=typeof h.elbows=="string"?this.parseJSON(h.elbows):h.elbows;if(d=="quadratic"&&y.length==2){a=h.angle||-1}else{for(var F=0;F<y.length;F++){a[F]=[];for(var D=0;D<y[F].length-1;D+=2){a[F].push(y[F][D]);a[F].push(y[F][D+1])}}}}else{if(d=="quadratic"){a=h.angle||-1}}if(this.isLayoutDone&&!this.isAnimation){if(this.networkLayoutType=="circular"){w=this.To({p:["drawLine","arch",[s.startX,this.fR(this.left+(this.x/2)),s.endX],[s.startY,this.bU(this.top+(this.y/2)),s.endY],false,false,g,r/t],i:[G+this.data.nodes.length],t:"Data",h:this.ID(false,u)})}else{if(h.highlight){this.To({p:["drawLine",d,s.startX,s.startY,s.endX,s.endY,h.highlight,(r/t)*3,o,[Math.max(0,s.startS/t),Math.max(0,s.startS2/t)],[Math.max(0,s.endS/t),Math.max(0,s.endS2/t)],false,false,a,false,false,e],i:[G+this.data.nodes.length],t:"Data",h:this.ID(false,u)})}w=this.To({p:["drawLine",d,s.startX,s.startY,s.endX,s.endY,g,r/t,o,[Math.max(0,s.startS/t),Math.max(0,s.startS2/t)],[Math.max(0,s.endS/t),Math.max(0,s.endS2/t)],false,false,a,h.startArrow,h.endArrow,e],i:[G+this.data.nodes.length],t:"Data",h:this.ID(false,u)});if(a){for(var F=1;F<a.length-1;F++){this.To({p:["drawShape","circle",a[F][0]+0.5,a[F][1]+0.5,2,2,this.b9(g,0.2,true),this.b9(g,0.2,true)],i:[G+this.data.nodes.length,F],m:"-elbow",t:"Data",h:this.ID(false,u)})}}}}else{this.To({p:["drawLine",d,s.startX,s.startY,s.endX,s.endY,g,r/t,o,[Math.max(0,s.startS/t),Math.max(0,s.startS2/t)],[Math.max(0,s.endS/t),Math.max(0,s.endS2/t)],false,false,a,h.startArrow,h.endArrow,e],i:[G+this.data.nodes.length],t:"Data",h:this.ID(false,u)})}if(h.decoration){var I,b,H,C,v,p;for(var F=0;F<h.decoration.length;F++){var x=h.decoration[F];var n="Bold "+(x.fontSize||12)+"px "+this.fontName;if(x.color!=g){g=x.color}if(this.colorNodeBy&&!this.colorEdgeBy){g=this.q4(g,0.33)}var f=x.labelColor||"rgb(242,216,0)";var l=1.8;if(this.colorNodeBy&&!this.colorEdgeBy){f=this.q4(f,0.33)}if(h.id1==h.id2){switch(e.pos){case"top":b=[s.startX,s.startY-(e.size*l)];break;case"topRight":b=[s.startX+(e.size*l),s.startY-(e.size*l)];break;case"right":b=[s.startX+(e.size*l),s.startY];break;case"bottomRight":b=[s.startX+(e.size*l),s.startY+(e.size*l)];break;case"bottom":b=[s.startX+(e.size*l),s.startY];break;case"bottomLeft":b=[s.startX-(e.size*l),s.startY+(e.size*l)];break;case"left":b=[s.startX-(e.size*l),s.startY];break;case"topLeft":b=[s.startX-(e.size*l),s.startY-(e.size*l)];break}}else{if(d=="quadratic"&&x){H=this.Xx(s.startX,s.startY,s.endX,s.endY,false,Math.min(1,this.arrowQuadraticFactor*Math.abs(a))*(a>0?-1:1));C=this.mm(s.startX,s.startY,s.endX,s.endY,Math.max(0,s.startS2/t),Math.max(0,s.endS2/t),d,a);v=this.an(C[0],C[1],H[0],H[1],C[2],C[3],0.1,true);b=v[Math.floor(x.pos*10)]}else{if(h.elbows){if(x.index==0){I=this.Cj(y[0][0],y[0][1],y[1][0],y[1][1]);b=this.Ci(y[0][0],y[0][1],y[1][0],y[1][1],x.pos*I)}else{if(d=="bezier"&&x){p=this.az(y[0][0],y[0][1],y[1][0],y[1][1],y[2][0],y[2][1],y[3][0],y[3][1],0.1,true);b=p[Math.floor(x.index*2/10)]}else{if(y[x.index+1]){I=this.Cj(y[x.index][0],y[x.index][1],y[x.index+1][0],y[x.index+1][1]);b=this.Ci(y[x.index][0],y[x.index][1],y[x.index+1][0],y[x.index+1][1],x.pos*I)}else{I=this.Cj(y[x.index][0],y[x.index][1],s.endX,s.endY);b=this.Ci(y[x.index][0],y[x.index][1],s.endX,s.endY,x.pos*I)}}}}else{I=this.Cj(s.startX,s.startY,s.endX,s.endY);b=this.Ci(s.startX,s.startY,s.endX,s.endY,x.pos*I)}}}if(b){this.To({p:["drawShape",x.shape,b[0],b[1]-1,22,20,g,g],i:[G+this.data.nodes.length],m:"-edgeDecoration-"+F,g:w,t:"Data",h:this.ID(false,u)});this.To({p:["drawText"," "+x.label,b[0],b[1],n,f,"center","middle"],i:[G+this.data.nodes.length],m:"-edgeDecorationLabel-"+F,g:w,t:"Data",h:this.ID(false,u)})}}}}}}};this.nl=function(C,q,p,s,D,v,o){var n,j,f,d,E,e,b,H,A,l,k,F,g,m,B;var c=10/this.scaleFactorX*1.5;this.To({p:["drawShape","rect",q,p,s,D,this.nodeHighlightColor,this.foreground,"open",v,false,false,false,false,false,false,o],t:"Size"});if(v){m=Math.cos(v);B=Math.sin(v);l=-(B*((-D/2)-c));k=(m*((-D/2)-c));F=-(B*(-D/2));g=(m*(-D/2));this.To({p:["drawLine","line",l+q,k+p,F+q,g+p,this.foreground],t:"Size"});n=[q-(B*((-D/2)-c)),p+(m*((-D/2)-c))];j=[q+(m*(-s/2))-(B*(-D/2)),p+(m*(-D/2))+(B*(-s/2))];f=[q-(B*(-D/2)),p+(m*(-D/2))];d=[q+(m*(s/2))-(B*(-D/2)),p+(m*(-D/2))+(B*(s/2))];E=[q+(m*(-s/2)),p+(B*(-s/2))];e=[q+(m*(-s/2))-(B*(D/2)),p+(m*(D/2))+(B*(-s/2))];b=[q-(B*(D/2)),p+(m*(D/2))];H=[q+(m*(s/2))-(B*(D/2)),p+(m*(D/2))+(B*(s/2))];A=[q+(m*(s/2)),p+(B*(s/2))]}else{this.To({p:["drawLine","line",q,p-((D/2)+c),q,p-(D/2),this.foreground],t:"Size"});n=[q,p-((D/2)+c)];j=[q-(s/2),p-(D/2)];f=[q,p-(D/2)];d=[q+(s/2),p-(D/2)];E=[q-(s/2),p];e=[q-(s/2),p+(D/2)];b=[q,p+(D/2)];H=[q+(s/2),p+(D/2)];A=[q+(s/2),p]}var a=[n,j,f,d,E,e,b,H,A];var u=["-resizeROT","-resizeTL","-resizeTM","-resizeTR","-resizeML","-resizeBL","-resizeBM","-resizeBR","-resizeMR"];var G=this.margin/this.scaleFactorX*2;for(var t=0;t<a.length;t++){this.To({p:["drawShape","rect",a[t][0],a[t][1],G,G,this.nodeHighlightColor,this.foreground,"closed",v,false,false,false,false,false,false,o],i:[C],m:u[t],t:"Size"})}};this.kT=function(u,n,D,l,C,A){var d,b,k,j,p;switch(this.networkVendor){case"Metabase":break;case"Wikipathways":this.nodeFontSize=u.labelSize?1:this.nodeFontSize;break;case"Cytoscape":break;default:this.nodeFontSize=Math.min(Math.max(12,this.nodeFontSize),Math.ceil(this.nodeSize))}var e=this.networkLayoutType=="circular"?"radial":this.labelNodePosition=="auto"?"center":this.labelNodePosition;var z=this.networkLayoutType=="circular"&&this.labelNodePosition=="center"?"center":false;var m=this.zoomScale?1:this.zoom;var f=u.label?u.label:u.name?u.name:u.id;var B=u.labelRotate?u.labelRotate*Math.PI/180:false;var v=u.labelColor||this.foreground;var s=(u.labelSize?this.nodeFontSize*u.labelSize*this.nodeScaleFontFactor:this.nodeFontSize*this.nodeScaleFontFactor);var o=(u.labelStyle?u.labelStyle:this.nodeFontStyle)+" "+Math.min(Math.max((parseInt(s/m)),this.scaleFactorX>this.minTextSize?1:this.minTextSize),this.maxTextSize)+"px "+this.fontName;var t=this.pb(f,o);var q=s;if(u.labelX!=null&&u.labelY!=null){d=u.labelX;b=u.labelY;this.To({p:["drawText",f,u.labelX,u.labelY,o,v,u.labelAlign||"center","middle",B],i:[A],m:"-lab",t:"Labels",h:this.ID(u.id)})}else{var g=this.ct(f);var a=parseInt(s)+4;var c=((s+this.margin)*g)+a;if(g){if(g%2){}else{}}if(u.labelPosition){e=u.labelPosition}switch(e){case"top":d=n-(t/2);b=D+c-((C/2)+(q/2));k=n;j=b;u.labelXi=n;u.labelYi=b;break;case"bottom":d=n-(t/2);b=D+((C/2)+(q/2))-c;k=n;j=b;u.labelXi=n;u.labelYi=b;break;case"right":d=n+(l/2)-((t/2)+this.margin);b=D-(q/2);k=d;j=D;u.labelXi=d;u.labelYi=D;break;case"left":d=n+(t/2)-(l/2);b=D-(q/2);k=d;j=D;u.labelXi=d;u.labelYi=D;break;case"center":k=n;j=D;u.labelXi=n;u.labelYi=D;break;case"radial":if(this.networkLayoutType=="radial"){u.angle=this.Gj(this.networkXCenter,this.networkYCenter,n,D);p=(u.angle*Math.PI/180)%(Math.PI*2)}else{p=(Math.PI/2)-(u.angle*Math.PI/180)}k=n+(((l*(z?0:1))+(this.margin*3))*Math.cos(p)*0.5);j=D+(((l*(z?0:1))+(this.margin*3))*Math.sin(p)*0.5);u.labelXi=n;u.labelYi=D;if(this.networkLayoutType=="radial"&&p>Math.PI/2&&p<Math.PI*1.5){this.To({p:["drawText",f,k,j,o,v,"right","middle",p-Math.PI],i:[A],m:"-lab",t:"Labels",h:this.ID(u.id)})}else{if(p>=-(Math.PI/2)){if(z){this.To({p:["drawText",f,k,j,o,v,"center","middle",p],i:[A],m:"-lab",t:"Labels",h:this.ID(u.id)})}else{this.To({p:["drawText",f,k,j,o,v,"left","middle",p],i:[A],m:"-lab",t:"Labels",h:this.ID(u.id)})}}else{if(z){this.To({p:["drawText",f,k,j,o,v,"center","middle",p-Math.PI],i:[A],m:"-lab",t:"Labels",h:this.ID(u.id)})}else{this.To({p:["drawText",f,k,j,o,v,"right","middle",p-Math.PI],i:[A],m:"-lab",t:"Labels",h:this.ID(u.id)})}}}return}this.To({p:["drawText",f,k,j,o,v,"center","middle",B],i:[A],m:"-lab",t:"Labels",h:this.ID(u.id)})}};this.BB=function(q){var f=this;var c=function(D,i,C,z,B){if(f.colorNodeBy&&!D.immutable){var A=f.NO(D,false,"colorNodeBy");A=f.networkVendor=="Kegg"?f.b9(A,0.6,true):A;return f.objectColorTransparency!=1?f.b9(A,f.objectColorTransparency,true):A}else{if(D.communityColor&&f.coordinateNetworkConvexHullCommunityColor){var A=D.communityColor;return f.objectColorTransparency!=1?f.b9(A,f.objectColorTransparency,true):A}else{if(D.gradient&&D.color1&&D.color2){if(D.gradient=="linear"){if(f.colorNodeBy||f.colorEdgeBy){if(f.gradientOrientation=="vertical"){return f.dX(0,0,0,B,[f.q4(D.color1,0.25),f.q4(D.color2,0.25)])}else{return f.dX(0,0,z,0,[f.q4(D.color1,0.25),f.q4(D.color2,0.25)])}}else{if(f.gradientOrientation=="vertical"){return f.dX(0,0,0,B,[D.color1,D.color2])}else{return f.dX(0,0,z,0,[D.color1,D.color2])}}}else{return f.ej(i,C,Math.max(z,B)/2,[D.color1,D.color2,D.color3])}}else{if(f.colorNodeBy||f.colorEdgeBy){var A=r.shape=="image"?"b&w":D.immutable?f.q4(D.color,0.33):f.q4(f.NO(D,false,"colorNodeBy"),0.33);return f.objectColorTransparency!=1?f.b9(A,f.objectColorTransparency,true):A}else{var A=r.shape=="image"?false:D.immutable?D.color:f.NO(D,false,"colorNodeBy");return f.objectColorTransparency!=1?f.b9(A,f.objectColorTransparency,true):A}}}}};var k=this.zoomScale?1:this.zoom;var h=this.data.nodes.length/k<this.showNodeNameThreshold?true:false;var a=6001;for(var t=0;t<this.data.nodes.length;t++){var r=this.data.nodes[t];if(!this.ignoreEventlessOrder){if(q){if(!r.eventless){continue}}else{if(r.eventless){continue}}}if(!r.hide&&!r.hiddenParent){var l=r.x;var w=r.y;var n=this.NO(r,false,"shapeNodeBy");var u=r.outline?r.outline:this.foreground;var v=this.NO(r,false,"sizeNodeBy");var j=this.sizeNodeBy?this.nodeSize*v/k:r.width?r.width/k:this.nodeSize*v/k;var p=this.sizeNodeBy?this.nodeSize*v/k:r.height?r.height/k:this.nodeSize*v/k;var s=CanvasXpress.selector.nodes.hasOwnProperty(r.id)?true:false;var e=this.up(r.id,c(r,l,w,j,p),r.shape=="image");var m=this.NO(r,false,"patternNodeBy");var g=r.rotate?r.rotate*Math.PI/180:false;var o=r.outlineWidth?r.outlineWidth:false;var d=r.imagePath?r.imagePath:false;var b=r.zIndex?r.zIndex:d?a:false;if(this.isLayoutDone&&!this.isAnimation){if(r.zoomX){j*=r.zoomX}if(r.zoomY){p*=r.zoomY}if(r.size&&!r.width&&!r.height){r.width=parseInt(j);r.height=parseInt(p)}if(!r.eventless){this.To({p:["drawShape",n,l,w,j,p,e,u,m,g,o,false,false,false,false,d,b],i:[t],t:"Data",h:this.ID(r.id)})}else{this.To({p:["drawShape",n,l,w,j,p,e,u,m,g,o,false,false,false,false,d,b],t:"Data"})}if(s&&!r.fixed){this.nl(t,l,w,j,p,g,o)}else{if(s&&r.fixed){this.nl(r,l,w,j,p,g,o)}}if(h&&!r.hideLabel){if(!r.eventless&&(j>this.showNodeNameSizeThreshold||this.data.nodes.length<this.showNodeNameThreshold)){this.kT(r,l,w,j,p,t)}}}else{this.To({p:["drawShape",n,l,w,j,p,e,u,m,g,o,false,false,false,false,d,b],t:"Data"})}a++}}};this.oJ=function(){if(this.showNetworkCommunities&&!this.networkVendor){for(var f=0;f<this.networkCommunities;f++){if(this.networkConvexHulls[f]["nodes"]){var b=[];var m=[];var a=[];var k=true;var l=this.b9(this.colors[f%this.colors.length],0.2,true);for(var e=0;e<this.networkConvexHulls[f]["nodes"].length;e++){var d=this.data.nodes[this.networkConvexHulls[f]["nodes"][e]];if(!d.hide){a.push(this.networkConvexHulls[f]["nodes"][e]);k=false}}var g=a.length?this.Zc(a):false;if(g){this.networkConvexHulls[f]["convexHull"]=g[0];for(var e=0;e<g[0].length;e++){b.push(g[0][e][0]);m.push(g[0][e][1])}}if(!k){this.To({p:["drawShape","hull",b,m,g[2]-g[1],g[4]-g[3],l],i:[f],m:"-community",t:"Decorations"})}}}}};this.Fs=function(){if(this.showDecorations){for(var G=0;G<this.data.nodes.length;G++){var D=this.data.nodes[G];if(!D.hide&&!D.hiddenParent&&D.hasOwnProperty("decorations")){var C=D.decorations;var v=C.rotate?Math.PI*C.rotate/180:false;var J=(C.fontStyle||this.decorationsTextFontStyle)+" "+(parseInt(C.fontSize)||this.decorationsTextFontSize)+"px "+this.fontName;var o=D.x+(C.position=="left"?-D.width/2:C.position=="right"?D.width/2:0);var k=D.y+(C.position=="top"?-D.height/2:C.position=="bottom"?D.height/2:0);C.color=C.color||"rgb(0,0,0)";C.align=C.align||"center";C.baseline=C.baseline||"middle";C.width=C.width||1;C.type="none";var u=this.To({p:["drawText",C.text.replace(/__nl__/g,"\n"),o,k,J,C.color,C.align,C.baseline,v],g:C.render||null,i:["Marker:"+C.id],t:"Decorations"})}}if(this.decorations.length>0){var e=this;var L=function(){var f={};for(var p=0;p<e.data.nodes.length;p++){var r=e.data.nodes[p];if(!r.hide&&!r.hiddenParent){for(var m=0;m<e.decorations.length;m++){var x=e.decorations[m];if(r[x]||(r.decorations&&r.decorations[x])){f[p]=true}}}}return e.Nv(f).sort(function(j,i){return j-i})};var E=function(m){var x={vals:{}};for(var r=0;r<m.length;r++){var y=e.data.nodes[m[r]];for(var p=0;p<e.decorations.length;p++){var R=e.decorations[p];var z=y[R]?y[R]:y.decorations?y.decorations[R]:false;if(e.wo(z)){x.type="m";for(var f in z){x.vals[f]=true}}else{x.type="s"}}}return x};var g=function(m,f,U){var S=e.Nv(f.vals);var y={vals:[],area:[],cols:[],col2:[],patt:[],shpe:[],shp2:[]};if(f.type=="m"){if(e.decorationsType=="heatmap"){for(var z=0;z<S.length;z++){y.vals[z]=[];y.area[z]=[];y.patt[z]=[]}}else{for(var z=0;z<e.decorations.length;z++){y.vals[z]=[];y.area[z]=[];y.patt[z]=[];y.cols[z]=[]}}}for(var z=0;z<e.decorations.length;z++){var p=e.decorations[z];var R=e.decorationsProperties[p]&&e.decorationsProperties[p].color?e.decorationsProperties[p].color:e.decorationsColors[z];var W=e.decorationsProperties[p]&&e.decorationsProperties[p].shape?e.decorationsProperties[p].shape:"circle";if(f.type=="m"){for(var x=0;x<S.length;x++){var V=m[p]?m[p][S[x]]:m.decorations&&m.decorations[p]?m.decorations[p][S[x]]:"NA";var r=e.decorationsProperties[S[x]]&&e.decorationsProperties[S[x]].color?e.decorationsProperties[S[x]].color:e.decorationsColors[e.decorations.length+x];var T=e.decorationsProperties[S[x]]&&e.decorationsProperties[S[x]].shape?e.decorationsProperties[S[x]].shape:"rect";if(e.decorationsType=="heatmap"){y.vals[x].push(V);y.area[x].push([U+"-"+z+"-"+S[x]]);y.patt[x].push("closed");if(z==0){y.cols.push(r);y.shpe.push(T)}}else{if(e.decorationsType.match(/stacked/)){y.vals[z].push(V);y.area[z].push([U+"-"+z+"-"+S[x]]);y.cols[z].push(r);y.patt[z].push("closed")}}}y.col2.push(R);if(e.decorationsType=="heatmap"){y.shp2.push(W)}else{y.shpe.push(W)}}else{if(!y.vals[0]){y.vals[0]=[]}var V=m[p]?m[p]:m.decorations&&m.decorations[p]?m.decorations[p]:"NA";var R=e.decorationsProperties[p]&&e.decorationsProperties[p].color?e.decorationsProperties[p].color:e.decorationsColors[z];var W=e.decorationsProperties[p]&&e.decorationsProperties[p].shape?e.decorationsProperties[p].shape:"circle";y.vals[0].push(V);y.area.push([U+"-"+z]);y.cols.push(R);y.patt.push("closed");y.shpe.push(W)}}return y};var A=L();var t=E(A);var K=(this.decorations.length*this.decorationsWidth/2);var l=this.decorationsWidth*0.3;var d=l*0.6;var c=this.decorationsHeight/2;var N=this.dl(this.colorSpectrum,this.decorationsRange[0],this.decorationsRange[1],this.colorSpectrumZeroValue,this.colorSpectrumBreaks);for(var G=0;G<A.length;G++){var D=this.data.nodes[A[G]];var P=g(D,t,A[G]);if(!D.hide&&!D.hiddenParent){var s=D.x;var H=D.y;var Q=D.size?this.nodeSize*D.size:this.nodeSize;var a=Q/2;var I,b;if(D.decorationsX!=null&&D.decorationsY!=null){I=D.decorationsX;b=D.decorationsY}else{switch(this.decorationsPosition){case"top":I=this.decorationsType=="pie"?s:s-K;if(this.decorationsType=="pie"){b=H-(a+c+this.decorationsWidth)}else{b=H-(a+this.decorationsHeight+this.decorationsWidth)}break;case"bottom":I=this.decorationsType=="pie"?s:s-K;b=H+(a+this.decorationsWidth);b=this.decorationsType=="pie"?b+c:b;break;case"right":I=s+a+this.decorationsWidth;b=this.decorationsType=="pie"?H:H-c;I=this.decorationsType=="pie"?I+c:I;break;case"left":if(this.decorationsType=="pie"){I=s-(a+(this.decorationsHeight/2)+this.decorationsWidth)}else{I=s-(a+(this.decorationsWidth*(this.decorations.length+1)))}b=this.decorationsType=="pie"?H:H-c;break;case"center":I=this.decorationsType=="pie"||this.decorationsType=="heatmap"?s:s-K;b=this.decorationsType=="pie"||this.decorationsType=="heatmap"?H:H-c;break}D.decorationsXi=I;D.decorationsYi=b}if(this.decorationsType=="bar"){var h=this.decorationsRange[0]<0?Math.abs(this.decorationsRange[0])*this.decorationsUnits:0;this.k5(P.vals[0],[],I,b+this.decorationsHeight-h,this.decorationsWidth,this.decorationsWidth,this.decorationsUnits,h,this.decorationsRange[0],"vertical",P.cols,P.patt,P.area,"-dec")}else{if(this.decorationsType.match(/stacked/)){var w=this.decorationsType.match(/percent/)?true:false;b+=this.decorationsHeight;if(this.decorationsPosition=="top"){b-=this.decorationsWidth}if(this.decorations.length==P.vals[0].length&&!P.vals[1]){this.q5(P.vals[0],I,b,this.decorationsWidth,false,w,[this.RD(P.vals[0],false,false,true),this.RD(P.vals[0],false,false,false,true)],this.decorationsUnits,0,"vertical",P.cols,P.patt,P.area,"-dec");I+=this.decorationsWidth}else{for(var F=0;F<this.decorations.length;F++){this.q5(P.vals[F],I,b,this.decorationsWidth,false,w,[this.RD(P.vals[F],false,false,true),this.RD(P.vals[F],false,false,false,true)],this.decorationsUnits,0,"vertical",P.cols[F],P.patt[F],P.area[F],"-dec");this.To({p:["drawShape",P.shpe[F],I+this.decorationsWidth/2,b+this.decorationsWidth,l,l,P.col2[F],this.foreground,"closed"],t:"Decorations"});I+=this.decorationsWidth}}}else{if(this.decorationsType=="heatmap"){if(t.type=="m"){var O=this.decorationsHeight/P.vals.length;switch(this.decorationsPosition){case"top":b-=this.decorationsWidth;break;case"bottom":break;case"right":I+=this.decorationsWidth;break;case"left":break;case"center":break}if(this.decorationsPosition=="center"){var q=this.zoomScale?1:this.zoom;var n=this.sizeNodeBy?this.nodeSize*siz/q:D.width?D.width/q:this.nodeSize*siz/q;var B=this.sizeNodeBy?this.nodeSize*siz/q:D.height?D.height/q:this.nodeSize*siz/q;s-=D.width*0.5;H-=D.height*0.5;n/=P.vals[0].length;B/=P.vals.length;for(var F=0;F<P.vals.length;F++){this.lP(P.vals[F],s,H,n,B,false,P.area[F],"-dec",P.patt[F],N,0.67);this.To({p:["drawLine","line",s+D.width-2,H-1,s+D.width-2,H+B-0.5,P.cols[F],2],t:"Decorations"});H+=B}H-=1.5;for(var F=0;F<this.decorations.length;F++){this.To({p:["drawLine","line",s,H,s+n,H,P.col2[F],2],t:"Decorations"});s+=n}this.To({p:["drawShape","rectangle",I,b,D.width,D.height,false,this.foreground,"open"],t:"Decorations"})}else{for(var F=0;F<P.vals.length;F++){this.lP(P.vals[F],I,b,this.decorationsWidth,O,false,P.area[F],"-dec",P.patt[F],N);this.To({p:["drawShape",P.shpe[F],I-d,b+(O/2),l,O/2,P.cols[F],P.cols[F],"closed"],t:"Decorations"});b+=O}for(var F=0;F<this.decorations.length;F++){this.To({p:["drawShape",P.shp2[F],I+this.decorationsWidth/2,b+d,l,l,P.col2[F],P.col2[F],"closed"],t:"Decorations"});I+=this.decorationsWidth}}}else{if(this.decorationsPosition=="top"){b-=this.decorationsWidth}if(this.decorationsPosition=="center"){var q=this.zoomScale?1:this.zoom;var n=this.sizeNodeBy?this.nodeSize*siz/q:D.width?D.width/q:this.nodeSize*siz/q;var B=this.sizeNodeBy?this.nodeSize*siz/q:D.height?D.height/q:this.nodeSize*siz/q;s-=D.width*0.5;H-=D.height*0.5;n/=this.decorations.length;this.lP(P.vals[0],s,H,n,B,false,P.area,"-dec",P.patt,N,0.67);H+=D.height-1.5;for(var F=0;F<this.decorations.length;F++){this.To({p:["drawLine","line",s,H,s+n,H,P.cols[F],2],t:"Decorations"});s+=n}this.To({p:["drawShape","rectangle",I,b,D.width,D.height,false,this.foreground,"open"],t:"Decorations"})}else{this.lP(P.vals[0],I,b,this.decorationsWidth,this.decorationsHeight,false,P.area,"-dec",P.patt,N);for(var F=0;F<this.decorations.length;F++){this.To({p:["drawShape",P.shpe[F],I+this.decorationsWidth/2,b+this.decorationsHeight+d,l,l,P.cols[F],P.cols[F],"closed"],t:"Decorations"});I+=this.decorationsWidth}}}}else{var M=this.colors;this.colors=P.cols;this.vK(this.sn(P.vals[0],false,P.cols),I,b,c,P.area,"-dec");this.colors=M}}}}}}}};this.BG=function(b){var a=Number.MAX_VALUE;var f=Number.MAX_VALUE*-1;var g=Number.MAX_VALUE;var e=Number.MAX_VALUE*-1;if(!b){b=this.Nv(this.data.nodeIndices)}if(b&&b.length>0){for(var c=0;c<b.length;c++){var d=this.data.nodes[this.data.nodeIndices[b[c]]];if(!d.hide&&!d.hiddenParent){a=Math.min(a,d.x);f=Math.max(f,d.x);g=Math.min(g,d.y);e=Math.max(e,d.y)}}}return({minX:a,maxX:f,minY:g,maxY:e})};this.EM=function(){var f=this;var b=function(v,j,a){for(var w=0;w<v.length;w++){var x=f.data.nodes[f.data.nodeIndices[v[w]]];if(x.hasOwnProperty("layout")){x.layout.lastPosition.x+=j;x.layout.lastPosition.y+=a}}};var r=function(a,v,i,j){this.x=a;this.y=v;this.w=i;this.h=j};r.prototype.fits=function(a){return a.w>=this.w&&a.h>=this.h};r.prototype.sameSize=function(a){return a.w==this.w&&a.h==this.h};var d=function(){this.l=null;this.r=null;this.a=null;this.f=false};d.prototype.insert=function(i){if(this.l!=null){return this.l.insert(i)||this.r.insert(i)}if(this.f){return null}if(!i.fits(this.a)){return null}if(i.sameSize(this.a)){this.f=true;return this}this.l=new d();this.r=new d();var j=this.a.w-i.w;var w=this.a.h-i.h;var v=this.a;if(j>w){this.l.a=new r(v.x,v.y,i.w,v.h);this.r.a=new r(v.x+i.w,v.y,v.w-i.w,v.h)}else{this.l.a=new r(v.x,v.y,v.w,i.h);this.r.a=new r(v.x,v.y+i.h,v.w,v.h-i.h)}return this.l.insert(i)};for(var p=0;p<this.subNetworks.length;p++){for(var o=0;o<this.subNetworks[p].nodes.length;o++){var l=this.data.nodes[this.data.nodeIndices[this.subNetworks[p].nodes[o]]];if(l.hasOwnProperty("layout")){l.layout.lastPosition.x=0;l.layout.lastPosition.y=0}}this.subNetworks[p].mnm=this.BG(this.subNetworks[p].nodes);this.subNetworks[p].w=(this.subNetworks[p].mnm.maxX-this.subNetworks[p].mnm.minX);this.subNetworks[p].h=(this.subNetworks[p].mnm.maxY-this.subNetworks[p].mnm.minY);b(this.subNetworks[p].nodes,this.subNetworks[p].mnm.minX,this.subNetworks[p].mnm.minY)}var c=this.subNetworks[1];for(var p=0;p<this.subNetworks.length;p++){this.subNetworks[p].w+=(c.w*0.5);this.subNetworks[p].h+=(c.h*0.5)}var t=this.subNetworks[0];var u=t.nodes.length/this.data.nodes.length;var k=((2+u)*((this.x/this.y)*t.w));var g=((2+u)*((this.y/this.x)*t.h));var h=new d();var n,m;h.a=new r(0,0,k,g);for(var p=0;p<this.subNetworks.length;p++){var q=this.subNetworks[p];var s=new r(0,0,q.w,q.h);var e=h.insert(s);if(e){b(this.subNetworks[p].nodes,-e.a.x,-e.a.y)}}};this.uX=function(e){if(!this.networkFreeze||(this.rangeX==null||this.rangeY==null)||e){this.minX=Number.MAX_VALUE;this.minY=Number.MAX_VALUE;this.maxX=0;this.maxY=0;for(var b=0;b<this.data.nodes.length;b++){var d=this.data.nodes[b];var a=d.width?d.width:d.size?(this.nodeSize*d.size):this.nodeSize;var c=d.height?d.height:d.size?(this.nodeSize*d.size):this.nodeSize;if(!d.hide){this.minX=Math.min(this.minX,d.x-a/2);this.minY=Math.min(this.minY,d.y-c/2);this.maxX=Math.max(this.maxX,d.x+a/2);this.maxY=Math.max(this.maxY,d.y+c/2)}}this.rangeX=this.maxX-this.minX;this.rangeY=this.maxY-this.minY}};this.ag=function(){if(this.is3DNetwork){var k=[];var d=[];var o=[];if(this.isLayoutDone){this.yJ();for(var e=0;e<this.data.nodes.length;e++){d.push(e);var b=this.data.nodes[e];var f=!b.x3d&&!b.y3d&&!b.z3d;b.x3d=b.x3d||b.x;b.y3d=b.y3d||b.y;b.z3d=b.z3d||b.z;if(!f){var g=this.ym(b.x3d,b.y3d,b.z3d);b.x=g[0]-this.padX;b.y=g[1]-this.padY;b.z=g[2]-this.padZ}k.push(b.z)}d.sort(function(j,i){return k[i]-k[j]});for(var n=0;n<this.data.nodes.length;n++){var e=d[n];var b=this.data.nodes[e];o.push(b)}this.data.nodes=o;this.O1()}else{if(this.networkLayoutType!="cola"){for(var e=0;e<this.data.nodes.length;e++){d.push(e);var b=this.data.nodes[e];k.push(b.z)}d.sort(function(j,i){return k[i]-k[j]});for(var n=0;n<this.data.nodes.length;n++){var e=d[n];var b=this.data.nodes[e];o.push(b)}this.data.nodes=o;this.O1()}}}else{if(this.network2DRotate){if(this.networkLayoutType=="circular"){}else{if(this.network2DRotate>=Math.abs(360)){this.network2DRotate=0}var h=Math.PI*this.network2DRotate/360;for(var e=0;e<this.data.nodes.length;e++){var b=this.data.nodes[e];if(b.x!=null&&b.y!=null){var m=b.x;var l=b.y;b.x=(m*Math.cos(h))-(l*Math.sin(h));b.y=(l*Math.cos(h))+(m*Math.sin(h))}}for(var e=0;e<this.data.edges.length;e++){var a=this.data.edges[e];if(a.elbows&&a.elbows.length>0){for(var c=0;c<a.elbows.length;c++){var m=a.elbows[c][0];var l=a.elbows[c][1];a.elbows[c][0]=(m*Math.cos(h))-(l*Math.sin(h));a.elbows[c][1]=(l*Math.cos(h))+(m*Math.sin(h))}}}}}if(!this.network2DRotate||this.networkLayoutType!="circular"){this.network2DRotate=0}}};this.Hm=function(){var a=this.legend.width!=this.lastNetworkLegendWidth||this.legend.height!=this.lastNetworkLegendHeight;if(!this.networkFreeze||this.scaleFactorX==null||this.scaleFactorY==null||isNaN(this.scaleFactorX)||isNaN(this.scaleFactorY)||a){if(!this.isLayoutDone&&this.isAnimation&&(this.networkLayoutType=="radial"||this.networkLayoutType=="circular")){this.scaleFactorX=this.networkLayoutType=="radial"?0.3:(this.networkLayoutType=="circular")?1:this.x/(this.maxX-this.minX);this.scaleFactorY=this.networkLayoutType=="radial"?0.3:(this.networkLayoutType=="circular")?1:this.y/(this.maxY-this.minY)}else{this.scaleFactorX=this.x/(this.maxX-this.minX);this.scaleFactorY=this.y/(this.maxY-this.minY)}}this.lastNetworkLegendWidth=this.legend.width;this.lastNetworkLegendHeight=this.legend.height;this.scaleFactorX=Math.min(this.scaleFactorX,this.scaleFactorY);this.scaleFactorY=this.scaleFactorX;this.scaleFactorX*=this.zoom;this.scaleFactorY*=this.zoom;if(this.networkFreeze){this.zoomGlobal*=this.zoom;this.zoom=1}this.widthBounds=this.x/this.scaleFactorX;this.heightBounds=this.y/this.scaleFactorY;this.offsetX=((this.widthBounds/2)-((this.minX+this.maxX)/2))+this.panningX+this.panningGlobalX+(this.left/this.scaleFactorX);this.offsetY=((this.heightBounds/2)-((this.minY+this.maxY)/2))+this.panningY+this.panningGlobalY+(this.top/this.scaleFactorY);this.nodeSize=(20/this.scaleFactorX*this.zoom)*this.nodeSizeScaleFactor;this.edgeThickness=1/this.scaleFactorX*this.zoom;this.outlineWidth=1/this.scaleFactorX*this.zoom};this.hX=function(){if(CanvasXpress.selector.selections>0&&this.networkLayoutType!="radial"){this.randomSeed=8;var a=[];for(var b in CanvasXpress.selector.nodes){a.push(this.data.nodes[this.data.nodeIndices[b]])}this.pV();this.Oa(a);this.KP(a,false,true)}};this.pV=function(){for(var a=0;a<this.data.nodes.length;a++){var b=this.data.nodes[a];if(!CanvasXpress.selector.nodes.hasOwnProperty(b.id)){if(!b.fixed||(b.fixed&&b.fixed!=1)){b.fixed=1}}}};this.Oi=function(){for(var a=0;a<this.data.nodes.length;a++){var b=this.data.nodes[a];if(b.fixed==1){delete b.fixed}}};this.KP=function(b,a,c){if(!b){b=this.data.nodes}if(!a){a=this.networkRoot}this.isLayoutDone=false;this.isAnimation=true;this.iteration=0;this.randomSeed=8;if(this.networkLayoutType=="radial"){this.HK(b,a)}else{if(this.networkLayoutType=="circular"){this.gn(b)}else{if(this.networkLayoutType=="cola"){this.M7(b)}else{this.Z4(b,c)}}}};this.vp=function(){var a={};var l={};for(var h=0;h<this.data.nodes.length;h++){var e=this.data.nodes[h];if(!e.hasOwnProperty("name")){e.name=e.id}a[e.id]=h;if(e.x==null){e.x=-1}if(e.y==null){e.y=-1}if(this.is3DNetwork&&e.z==null){e.z=-1}}for(var h=0;h<this.data.edges.length;h++){var c=this.data.edges[h];c.source=a[c.id1];c.target=a[c.id2]}if(this.data.groups){for(var h=0;h<this.data.groups.length;h++){var k=this.data.groups[h];var d=["nodes","leaves","groupIds"];for(var g=0;g<d.length;g++){if(k.hasOwnProperty(d[g])&&typeof(k[d[g]])=="string"&&k[d[g]]!=""){k[d[g]]=this.parseJSON(k[d[g]])}}l[k.id]=h;if(k.hasOwnProperty("nodes")&&!k.hasOwnProperty("leaves")){k.leaves=[];for(var g=0;g<k.nodes.length;g++){k.leaves.push(a[k.nodes[g]])}}}for(var h=0;h<this.data.groups.length;h++){var k=this.data.groups[h];if(k.hasOwnProperty("groupIds")&&!k.hasOwnProperty("groups")){k.groups=[];for(var g=0;g<k.groupIds.length;g++){k.groups.push(l[k.groupIds[g]])}}}}if(this.data.constraints){for(var h=0;h<this.data.constraints.length;h++){var b=this.data.constraints[h];var d=["offsets"];for(var g=0;g<d.length;g++){if(b.hasOwnProperty(d[g])&&typeof(b[d[g]])=="string"&&b[d[g]]!=""){b[d[g]]=this.parseJSON(b[d[g]])}}if(!b.hasOwnProperty("left")&&b.hasOwnProperty("leftId")){b.left=a[b.leftId]}if(!b.hasOwnProperty("right")&&b.hasOwnProperty("rightId")){b.right=a[b.rightId]}if(b.hasOwnProperty("offsets")){for(var g=0;g<b.offsets.length;g++){var f=b.offsets[g];if(!f.hasOwnProperty("node")&&f.hasOwnProperty("nodeId")){f.node=a[f.nodeId]}}}}}};this.gb=function(){for(var a=0;a<this.data.nodes.length;a++){this.ik(this.data.nodes[a])}for(var a=0;a<this.data.nodes.length;a++){this.CW(this.data.nodes[a])}if(this.networkLayoutType!="radial"&&this.networkLayoutType!="circular"){for(var a=0;a<this.data.nodes.length;a++){this.ow(this.data.nodes[a])}}for(var a=0;a<this.data.edges.length;a++){this.av(this.data.edges[a])}};this.KE=function(d){var c=this;this.isLayoutDone=false;this.isAnimation=true;this.iteration=0;this.EM();var a=function(){for(var h=0;h<c.subNetworks.length;h++){for(var g=0;g<c.subNetworks[h].nodes.length;g++){var k=c.data.nodes[c.data.nodeIndices[c.subNetworks[h].nodes[g]]];var f=(k.layout.lastPosition.x/30);var e=(k.layout.lastPosition.y/30);c.hV(k.id,f,e)}}};var b=function(){if(c.iteration++<c.networkMaxIterations){c.showAnimation=true;a();c.Rf(false);c.Ug("Sorting ...",c.iteration/c.networkMaxIterations);setTimeout(b,80)}else{c.subNetworks=false;c.nE(d)}};b()};this.nE=function(a){if(this.subNetworks&&!this.networkDisjoint&&this.networkLayoutType!="cola"){this.KE(a)}else{this.isLayoutDone=true;this.isAnimation=false;this.iteration=0;if(CanvasXpress.stack[this.target]){CanvasXpress.stack[this.target].data.nodes=this.parseJSON(this.G0(this.data.nodes));CanvasXpress.stack[this.target].config.calculateLayout=false;this.Rf(a);this.networkXCenter=this.x/2;this.networkYCenter=this.y/2;this.Oi()}}};this.W2=function(){for(var b=0;b<this.data.nodes.length;b++){var d=this.data.nodes[b];d.nodeEdges=0;for(var a=0;a<this.data.edges.length;a++){var c=this.data.edges[a];if(c.id1==d.id||c.id2==d.id){d.nodeEdges++}}}this.FV("nodes","nodeEdges")};this.ik=function(a){if(a&&!a.layout){a.layout={angle:0,children:[],displacement:{x:0,y:0,z:0},edges:this.Hf(this.data.edges,a.id),force:{x:0,y:0,z:0},hierarchy:false,lastPosition:{x:0,y:0,z:0,r:0,a:0},level:0,mass:1,metrics:{betweenness:-1,closeness:-1,degree:-1,eccentricity:-1},neighbors:[],order:-1,parent:false,position:{x:null,y:null,z:0},prevPosition:{x:0,y:0,z:0},radius:0,velocity:{x:0,y:0,z:0},subnetworks:{vx:0,vy:0,x:0,y:0,cnt:0,str:0,strX:0,strY:0,dis:0}}}};this.CW=function(f){if(f&&f.layout&&f.layout.edges&&f.layout.edges.length){f.layout.neighbors=[];var b=Math.min(f.layout.edges.length,2);var c=this.nodeInitialCache;if(!c){this.O1();c=this.nodeInitialCache}for(var d=0;d<b;++d){var e=f.layout.edges[d];var a=e.id1!==f.id?e.id1:e.id2;if(c[a]){f.layout.neighbors.push(a)}}c[f.id]=true}};this.av=function(c,b,e,a){if(c&&!c.layout){var f=this.data.nodes[this.data.nodeIndices[c.id1]];var d=this.data.nodes[this.data.nodeIndices[c.id2]];f.layout.mass=f.layout.edges.length?1+f.layout.edges.length/3:1;d.layout.mass=d.layout.edges.length?1+d.layout.edges.length/3:1;c.layout={length:(this.xx(b)&&b!==undefined?b:-1),weight:(this.xx(e)&&e!==undefined?e:1),coeff:(a>=0?a:-1),subnetworks:{bias:0,strn:0,dist:0}}}};this.ow=function(e){if(e.layout&&e.layout.position&&(e.layout.position.x==null||e.layout.position.y==null)){var a=0;var h=0;var f=0;var c=e.layout.neighbors;if(c.length){for(var b=0;b<c.length;++b){var g=this.nodes[c[b]];a+=g.layout.position.x;h+=g.layout.position.y;if(this.is3DNetwork){f+=g.layout.position.z}}a/=c.length;h/=c.length;if(this.is3DNetwork){f/=c.length}}var d=this.networkSpringLength;e.layout.position.x=(a+this.Gs(0,d))-d/2;e.layout.position.y=(h+this.Gs(0,d))-d/2;if(this.is3DNetwork){e.layout.position.z=(f+this.Gs(0,d))-d/2}e.layout.prevPosition.x=e.layout.position.x;e.layout.prevPosition.y=e.layout.position.y;e.layout.prevPosition.z=e.layout.position.z;e.x=e.layout.position.x;e.y=e.layout.position.y;e.z=e.layout.position.z}};this.FH=function(){if(this.networkCommunities==null&&!this.networkVendor){this.networkCommunities=0;this.networkConvexHulls=[];var b=[];for(var e=0;e<this.data.nodes.length;e++){b.push(this.data.nodes[e].id)}var a=0;var f;if(this.calculateNetworkCommunities){f=this.BT().nodes(b).edges(this.data.edges)();if(f){for(var e=0;e<this.data.nodes.length;e++){var g=f[this.data.nodes[e].id];a=Math.max(a,g);this.data.nodes[e].community=g;this.data.nodes[e].communityColor=this.colors[this.data.nodes[e].community%this.colors.length]}}}else{for(var e=0;e<this.data.nodes.length;e++){var g=this.data.nodes[e].community||0;a=Math.max(a,g);this.data.nodes[e].community=g;this.data.nodes[e].communityColor=this.colors[this.data.nodes[e].community%this.colors.length]}}this.networkCommunities=a+1;for(var e=0;e<this.networkCommunities;e++){var b=[];for(var d=0;d<this.data.nodes.length;d++){if(this.data.nodes[d].community==e){b.push(d)}}this.networkConvexHulls[e]={nodes:b,drawn:false}}}};this.Zc=function(r){var b=this;var a=function(m,l,i){return(l[0]-m[0])*(i[1]-m[1])-(l[1]-m[1])*(i[0]-m[0])};var c=function(p){var m=p.size?p.size:1;var i=p.width?p.width:b.nodeSize*m;var l=p.height?p.height:b.nodeSize*m;return[p.x,p.y,i,l]};var u=[];var B,C;var z,A;var k=0;for(var v=0;v<r.length;v++){var o=c(this.data.nodes[r[v]]);var e=o.x;var d=o.y;if(o[0]>B||!B){B=o[0]}if(o[0]<C||!C){C=o[0]}if(o[1]>z||!z){z=o[1]}if(o[1]<A||!A){A=o[1]}k=Math.max(k,Math.max(o[2],o[3]));u.push([o[0],o[1]])}var g=(C+B)/2;var f=(A+z)/2;if(u.length==1){var o=c(this.data.nodes[r[0]]);u.push([g-o[2],f]);u.push([g,f-o[3]]);u.push([g+o[2],f]);u.push([g,f+o[3]])}else{if(u.length==2){var o=c(this.data.nodes[r[0]]);var s=c(this.data.nodes[r[1]]);u.push([g-k,f]);u.push([g,f-k]);u.push([g+k,f]);u.push([g,f+k])}}u.sort(function(l,i){return(l[0]-i[0])||(l[1]-i[1])});var D=[0,0];var E=[];var w=[];var v,t;for(v=0,t=u.length;v<t;v++){var j=u[v];var h=u[t-v-1];while(E.length>=2&&a(E[E.length-2],E[E.length-1],j)<=0){E.pop()}E.push(j);while(w.length>=2&&a(w[w.length-2],w[w.length-1],h)<=0){w.pop()}w.push(h);D[0]+=j[0];D[1]+=j[1]}D[0]*=1/r.length;D[1]*=1/r.length;w.pop();E.pop();return[this.Wj(E.concat(w),k*this.hullScale),C,B,A,z]};this.nS=function(c,d,h){if(d>this.networkDepth){this.networkDepth=d}var b=this.data.nodes[this.data.nodeIndices[c]];var e=b.layout;if(!b.hide&&!b.hiddenParent){if(!e.hierarchy){var f=e.edges;if(f.length==1){this.networkDivisions++}if(f.length>0){for(var g=0;g<f.length;g++){if(!e.hierarchy){e.angle=0;e.children=[];e.hierarchy="set",e.lastPosition={x:0,y:0,z:0,r:0,a:0};e.level=d;e.order=-1;e.parent=h;e.radius=0}if(d<e.level){e.level=d}if(f[g].id1==c){e.children.push(f[g].id2);this.nS(f[g].id2,d+1,c)}else{if(f[g].id2==c){e.children.push(f[g].id1);this.nS(f[g].id1,d+1,c)}}}}}else{if(d<e.level){e.level=d}for(var g=0;g<e.children.length;g++){var a=e.children[g];var j=this.data.nodes[this.data.nodeIndices[a]].layout;if(j.hierarchy){if((d+1)<j.level){j.level=d+1;j.parent=c}}}}}};this.A3=function(){var g=this;var f=function(i){var h=g.data.nodes[g.data.nodeIndices[i]];while(h.parentNode){i=h.parentNode;f(i)}return i};if(this.networkLayoutType=="radial"){if(!this.networkRoot){this.networkRoot=this.data.nodes[0].id}this.networkDepth=0;this.networkDivisions=0;this.networkCurrentAngle=0;this.nS(this.networkRoot,0,false)}else{if(this.networkLayoutType=="circular"){this.networkDepth=1;this.networkDivisions=this.data.nodes.length;this.networkCurrentAngle=0}else{if(this.networkLayoutType=="cola"){this.networkDepth=1;this.networkDivisions=this.data.nodes.length;this.networkCurrentAngle=0}else{for(var c=0;c<this.data.nodes.length;c++){var e=this.data.nodes[c];if(!e.hasOwnProperty("layout")){e.layout={children:[]}}if(e.parentNode){var b=this.data.nodes[this.data.nodeIndices[e.parentNode]];if(!b.hasOwnProperty("layout")){b.layout={children:[]}}b.layout.children.push(e.id);var a=f(b.id);var d=this.data.nodes[this.data.nodeIndices[a]];if(d.hide){e.hiddenParent=true}else{e.hiddenParent=false}}}}}}};this.Oh=function(c,a){if(this.data.nodes[this.data.nodeIndices[c]].parentNode){var b=this.data.nodes[this.data.nodeIndices[c]].parentNode;if(!a){a=[]}a.push(b);a=this.Oh(b,a);return a}else{return a?a.reverse():false}};this.sa=function(d,b){if(!b){b=[]}var c=this.data.nodes[this.data.nodeIndices[d]];if(this.networkLayoutType!="radial"){if(c.hasOwnProperty("layout")&&c.layout.children.length){for(var a=0;a<c.layout.children.length;a++){b.push(this.data.nodeIndices[c.layout.children[a]]);b=this.sa(c.layout.children[a],b)}}}return b.length>0?b:false};this.oI=function(b){var a=this.data.nodes[this.data.nodeIndices[b]];return a.hasOwnProperty("layout")&&a.layout.children.length};this.s7=function(c){var b=this.Oh(c);if(b){b.reverse();for(var a=0;a<b.length;a++){if(!this.nodes[b[a]].hide&&!this.nodes[b[a]].hiddenParent){return this.nodes[b[a]]}}}return false};this.mZ=function(){if(this.data.nodes.length>0){var c=this.jm({nodes:this.data.nodes,edges:this.data.edges});if(c.length>1&&this.networkLayoutType!="cola"){var d=10;var t=Math.PI*(3-Math.sqrt(5));for(var w=0;w<this.data.nodes.length;w++){var q=d*Math.sqrt(w);var s=w*t;var a=this.data.nodes[w].layout;a.subnetworks.x=q*Math.cos(s);a.subnetworks.y=q*Math.sin(s);a.subnetworks.cnt=a.edges.length;a.subnetworks.str=-30;a.subnetworks.strX=0.1;a.subnetworks.strY=0.1;a.subnetworks.index=w}for(var w=0;w<this.data.edges.length;w++){var g=this.nodes[this.data.edges[w].id1];var f=this.nodes[this.data.edges[w].id2];var a=this.data.edges[w].layout;a.subnetworks.bias=g.layout.subnetworks.cnt/(g.layout.subnetworks.cnt+f.layout.subnetworks.cnt);a.subnetworks.strn=1/Math.min(g.layout.subnetworks.cnt,f.layout.subnetworks.cnt);a.subnetworks.dist=30}var n=[];for(var w=0;w<c.length;w++){n.push(w)}n.sort(function(j,i){return c[i].nodes.length-c[j].nodes.length});this.subNetworks=[];for(var m=0;m<c.length;m++){var w=n[m];var z=[];var A=[];var e=c[w].nodes.length;var b=c[w].edges.length;var l={};var u=e/this.data.nodes.length;var k=u*(this.x*Math.log(c.length));var h=u*(this.y*Math.log(c.length));var o=k*h;for(var v=0;v<c[w].nodes.length;v++){z.push(c[w].nodes[v].id)}for(var v=0;v<c[w].edges.length;v++){if(typeof c[w].edges[v]!="function"){var p=c[w].edges[v].id1+"::"+c[w].edges[v].id2;if(!l.hasOwnProperty(p)){A.push(c[w].edges[v]);l[p]=true}}}this.subNetworks.push({nodes:z,edges:A,x:k,y:h,isLayoutDone:false})}}}};this.MH=function(){this.colorNodeBy=false;this.shapeNodeBy=false;this.sizeNodeBy=false;this.patternNodeBy=false;this.colorEdgeBy=false;this.sizeEdgeBy=false};this.Xj=function(){this.decorationsRange=[];var b={};var c={};var n={size:[],shape:[],shapeColor:[],text:[]};if(this.showDecorations&&this.decorations&&this.decorations.length>0){var m=[];for(var h=0;h<this.data.nodes.length;h++){var e=this.data.nodes[h];for(var g=0;g<this.decorations.length;g++){if(e[this.decorations[g]]||(e.decorations&&e.decorations[this.decorations[g]])){var o=e[this.decorations[g]]?e[this.decorations[g]]:e.decorations[this.decorations[g]];if(this.wo(o)){if(this.decorationsType=="stacked"){var q=0;for(var f in o){if(!isNaN(o[f])){c[f]=true;q+=o[f]}}m.push(q)}else{if(this.decorationsType=="stackedpercent"){for(var f in o){if(!isNaN(o[f])){c[f]=true}}m=[0,100]}else{if(this.decorationsType=="heatmap"){for(var f in o){if(!isNaN(o[f])){c[f]=true;m.push(o[f])}}}else{alert("Ooops! canvasXpress does not support "+this.decorationsType+" for this multidimensional plotting");return}}}}else{if(!isNaN(e[this.decorations[g]])||(e.decorations&&!isNaN(e.decorations[this.decorations[g]]))){m.push(e[this.decorations[g]]?e[this.decorations[g]]:e.decorations[this.decorations[g]])}}}}}this.decorationsRange=this.cp(m);if(this.decorationsType=="stacked"){this.decorationsRange[0]=0}var a=this.decorationsRange[1]-this.decorationsRange[0];if(a==0){this.decorationsRange[1]=this.K1(m)+1}var l=this.decorationsType.match(/stacked/)?this.decorationsRange[0]:this.decorationsRange[0]-(a*0.05);if(l>0){this.decorationsRange[0]=l;a=this.decorationsRange[1]-this.decorationsRange[0]}this.decorationsUnits=this.decorationsHeight/a;var r=(this.legendTextFontSize*this.legendTextScaleFontFactor)-2;for(var h=0;h<this.decorations.length;h++){if(this.decorationsColors[h]){b[this.decorationsColors[h]]=true;n.shape.push(this.decorationsProperties[this.decorations[h]]&&this.decorationsProperties[this.decorations[h]].shape?this.decorationsProperties[this.decorations[h]].shape:"circle");n.shapeColor.push(this.decorationsProperties[this.decorations[h]]&&this.decorationsProperties[this.decorations[h]].color?this.decorationsProperties[this.decorations[h]].color:this.decorationsColors[h]);n.text.push(this.decorations[h]);n.size.push(r)}else{for(var g=0;g<this.colors.length;g++){if(!b.hasOwnProperty(this.colors[g])){var d=this.decorationsProperties[this.decorations[h]]&&this.decorationsProperties[this.decorations[h]].color?this.decorationsProperties[this.decorations[h]].color:this.colors[g];var p=this.decorationsProperties[this.decorations[h]]&&this.decorationsProperties[this.decorations[h]].shape?this.decorationsProperties[this.decorations[h]].shape:"circle";this.decorationsColors[h]=d;b[d]=true;n.shape.push(p);n.shapeColor.push(d);n.text.push(this.decorations[h]);n.size.push(r);break}}}}var h=this.decorations.length;for(var f in c){if(this.decorationsColors[h]){b[this.decorationsColors[h]]=true;n.shape.push(this.decorationsProperties[f]&&this.decorationsProperties[f].shape?this.decorationsProperties[f].shape:"square");n.shapeColor.push(this.decorationsProperties[f]&&this.decorationsProperties[f].color?this.decorationsProperties[f].color:this.decorationsColors[h]);n.text.push(f);n.size.push(r)}else{for(var g=0;g<this.colors.length;g++){if(!b.hasOwnProperty(this.colors[g])){var d=this.decorationsProperties[f]&&this.decorationsProperties[f].color?this.decorationsProperties[f].color:this.colors[g];var p=this.decorationsProperties[f]&&this.decorationsProperties[f].shape?this.decorationsProperties[f].shape:"square";this.decorationsColors[h]=d;b[d]=true;n.shape.push(p);n.shapeColor.push(d);n.text.push(f);n.size.push(r);break}}}h++}if(this.meta.config.user.hasOwnProperty("customLegend")){this.customLegend.push(n)}else{this.customLegend=[n]}}};this.PS=function(){if(this.is3DNetwork&&!this.networkLayoutType.match(/cola|force/)){alert("Ooops! canvasXpress does not support 3D network layout for "+this.networkLayoutType+" layout");this.is3DNetwork=false}if(this.is3DNetwork&&this.isR){alert("Ooops! canvasXpress does not support 3D network layout in R");this.is3DNetwork=false}if(this.calculateLayout){if(this.networkLayoutType=="cola"){this.vp()}else{this.gb()}}else{if(this.networkLayoutType=="cola"){this.vp()}else{for(var a=0;a<this.data.nodes.length;a++){var b=this.data.nodes[a];if(b.x==null){b.x=-1}if(b.y==null){b.y=-1}if(this.is3DNetwork&&b.z==null){b.z=-1}}}}};this.x4=function(){if(this.calculateLayout){this.calculateLayout=this.data.nodes&&Object.keys(this.data.nodes[0].layout).length>1?true:false;this.isLayoutDone=false;this.isAnimation=true;this.iteration=0;this.randomSeed=8;this.GL()}};this.Mf=function(){if(!this.initialNetworkConfigState){CanvasXpress.stack[this.target].stateCX[0]=this.xh();this.initialNetworkConfigState=true}};this.Ws=function(){if(this.calculateLayout){this.mZ();this.Oa();this.KP();this.calculateLayout=false}else{this.isLayoutDone=true;this.Rf();this.Mf()}if(this.networkFreezeOnLoad&&this.isLayoutDone){this.networkFreezeOnLoad=false;this.networkFreeze=true}};this.s0=function(b){if((this.isNetworkMetrics||b)&&!this.isNetworkMetricsDone){var a=this.data.nodes;this.Mw(a);this.pk(a);this.bL(a);this.Ia(a);this.gH();this.isNetsworkMetricsDone;this.At();this.FV("nodes");CanvasXpress.stack[this.target].data=this.data;delete (this.nodesData)}};this.Ug=function(g,e){if(!e){switch(this.networkLayoutType){case"forceDirected":e=this.iteration/this.maxIterations;break;case"circular":case"radial":e=this.iteration/15;break}}if(!g){g="Optimizing ..."}var c=Math.min(e*120,120);var d=120;var h=15;var b=70;var a=18;if(this.networkProgressBarPosition=="none"){return}else{if(this.networkProgressBarPosition=="top"){b=this.width-70;a=this.top+18}else{if(this.networkProgressBarPosition=="bottom"){b=this.width-70;a=this.height-18}else{if(this.networkProgressBarPosition=="center"){b=(this.width/2)-35;a=(this.height/2)-9}}}}var f=60-(c*0.5);if(!this.isLayoutDone||this.optimizingLayout){this.i0(g,b-60,a-25,this.nodeFont,"rgba(0,0,0,0.5)","left","top");this.Fe("rectangle",b-f,a,c,h,"rgba(0,0,0,0.5)","rgba(0,0,0,0.5)","closed");this.Fe("rectangle",b,a,d,h,false,"rgba(0,0,0,0.5)","open")}};this.GL=function(){this.PS();this.A3();this.Xj();this.W2();this.eP();this.U6();this.ZQ();if(!this.nodes&&this.data.nodes){this.Ui()}this.s0();this.Ws()};this.yU=function(){this.GL()}};CanvasXpress.prototype.Genome=function(){this.yj=function(){this.subtracks=[];this.subtracksInfo=[];this.y=this.showIdeogram?(this.margin*2)+this.ideogramHeight+this.ideogramSegmentFontSize:this.margin;var a=this.marginTop+this.top;var J=0;var F=this.xAxisMin*this.xAxisUnit;var x=this.xAxisMax*this.xAxisUnit;for(var L=0;L<this.data.tracks.length;L++){var n,u,N,o,y;var g=[];var E=[];var I=0;var A=this.data.tracks[L];var f=A.data;var c=A.type?A.type:this.featureTypeDefault;var M=A.height?A.height:this.featureHeightDefault;var D=A.subtracksMax||this.subtracksMaxDefault;var O=A.spacer?A.spacer:0;if(!A.hide){if(A.name&&!A.hideName){this.y+=this.trackNameFontSize+(this.margin*2)}A.startY=this.marginTop+this.top+this.y;this.subtracks[L]=[];if(this.featureStaggered){for(var H=0;H<f.length;H++){var d=f[H];var t=this.Aj(d.label||d.name||d.id,this.maxFeatureStringLen);var C=d.hideName||A.hideFeatureNames?0:this.pb(t,this.featureNameFont)+(this.margin*3);var P=d.data;if(!d.hide){d.index=H;d.counter=J++;if(c=="box"){y=d.showDir&&this.xAxisUnit>0.001?10000:0;n=this.Yz(P);u=(n[0]+y)*this.xAxisUnit;N=(n[1]+O+y)*this.xAxisUnit;N=Math.max(u+C,N)}else{if(c=="sequence"){var B=this.BA(d.gaps,d.sequence.length,d.dir);if(d.offsetLeft&&!d.offset){d.offset=(d.offsetLeft-(d.sequence.length+B.total))+1}u=d.offset*this.xAxisUnit;N=u+((d.sequence.length+B.total+O)*this.xAxisUnit);N=Math.max(u+C,N)}else{if(c=="dataframe"){u=F;N=x}else{if(c=="marker"){n=this.Yz(P);u=n[0]*this.xAxisUnit;N=n[1]*this.xAxisUnit;N=Math.max(u+C,N)}else{u=(d.offset+O)*this.xAxisUnit;N=A.autowidth&&this.tO(P)?u+(P[0].length*this.xAxisUnit):u+A.width?A.width:this.featureWidthDefault;N=Math.max(u+C,N)}}}}o=c=="dataframe"?true:u>=F&&u<=x?true:N>=F&&N<=x?true:u<=F&&N>=x?true:false;g.push([u,N,o,H])}}if(g.length>0){g.sort(function(h,e){return h[0]-e[0]});for(var H=0;H<g.length;H++){if(g[H][2]){o=false;for(var G=0;G<E.length;G++){N=Math.round(E[G][E[G].length-1][1]);if(Math.round(g[H][0])>=N){E[G].push(g[H]);o=true;break}}if(!o){E.push([g[H]])}}}for(var H=0;H<E.length;H++){if(H<D){this.subtracks[L][H]=[];I+=E[H].length;var K=0;var w=0;var p=0;for(var G=0;G<E[H].length;G++){d=f[E[H][G][3]];this.subtracks[L][H].push(E[H][G][3]);this.subtracksInfo[d.counter]={track:L,subtrack:H,index:d.index,name:d.label||d.name||d.id,start:a+this.y};if(c=="box"){K=Math.max(K,this.N2(d));w=Math.max(w,d.translatesTop||0);p=Math.max(p,d.translatesBottom||0)}else{if(c=="sequence"){K=Math.max(K,this.vh(d))}}}if(!this.Qv(A,this.subtracks[L][H])&&c!="dataframe"&&c!="marker"){this.y+=this.featureNameFontSize+this.margin}if(c!="dataframe"||H==0){this.y+=M+this.margin}if(c=="box"||c=="sequence"){this.y+=K}for(var G=0;G<E[H].length;G++){d=f[E[H][G][3]];this.subtracksInfo[d.counter].end=a+this.y;this.subtracksInfo[d.counter].maxHeight=K;this.subtracksInfo[d.counter].translateTop=w;this.subtracksInfo[d.counter].translateBottom=p}}}}}else{for(var H=0;H<f.length;H++){var d=f[H];if(!d.hide){d.index=H;d.counter=J++;if(H<D){I++;this.subtracks[L][H]=[H];this.subtracksInfo[d.counter]={track:L,subtrack:H,index:d.index,name:d.label||d.name||d.id,start:a+this.y};if(c!="dataframe"||H==0){this.y+=M+this.margin}if(c=="box"){this.subtracksInfo[d.counter].maxHeight=this.N2(d);this.subtracksInfo[d.counter].translateTop=d.translatesTop||0;this.subtracksInfo[d.counter].translateBottom=d.translatesBottom||0;this.y+=this.subtracksInfo[d.counter].maxHeight}else{if(c=="sequence"){this.subtracksInfo[d.counter].maxHeight=this.vh(d);this.y+=this.subtracksInfo[d.counter].maxHeight}}this.subtracksInfo[d.counter].end=a+this.y}}}}A.endY=this.y;A.displayedFeatures=I;A.totalFeatures=f.length;this.y+=(this.margin*2)}}};this.Qv=function(a,e){for(var c=0;c<e.length;c++){var d=e[c];var b=a.data[d];if(!b.hideName&&!a.hideFeatureNames){return false}}return true};this.rJ=function(a){var f=[];var d=[];for(var e=0;e<a.length;e++){if(a[e].range){f.push(a[e].range[0]);d.push(a[e].range[1])}else{var h=[];var g=a[e].data;if(this.tO(g[0])){for(var c=0;c<g.length;c++){for(var b=0;b<g[c].length;b++){h=h.concat(g[c][b])}}}else{for(var c=0;c<g.length;c++){h=h.concat(g[c])}}a[e].range=this.cp(h);f.push(Number(a[e].range[0]));d.push(Number(a[e].range[1]))}}return this.cp([this.lJ(f),this.K1(d)])};this.Yz=function(d){if(d){var a=[];for(var c=0;c<d.length;c++){for(var b=0;b<d[c].length;b++){a.push(Number(d[c][b]))}}a.sort(function(f,e){return f-e});return[a[0],a[a.length-1]]}else{return[0,1]}};this.BA=function(e,a,b){var d=0;var f={total:d};if(e&&this.tO(e)&&e.length>0){for(var c=0;c<e.length;c++){var h=b=="left"?a-e[c][0]:e[c][0];f[h]=e[c][1];d+=e[c][1]}f.total=d}return f};this.N2=function(b){if(this.genomeResolution!="low"&&(b.translate||b.sequence)){if(b.dir=="left"&&!b.sequenceRC){b.sequenceRC=this.iJ(b.sequence)}if(b.cds&&!b.translate){var a=b.cds[0]%3||3;b.translate=b.dir=="left"?[a*-1]:[a]}if(b.translate&&!b.translateRC&&this.featureTranslateShow){b.translateRC=this.S5(b.translate,b.dir=="left"?b.sequenceRC:b.sequence)}if(b.translate&&this.genomeResolution=="high"){return this.featureTranslateHeight*b.translate.length}}return 0};this.vh=function(b){var c=0;if(this.genomeResolution=="high"){if(b.trace&&this.featureTracesShow){c+=this.featureTraceHeight}if(b.translate&&this.featureTranslateShow){for(var a=0;a<b.translate.length;a++){c+=this.featureTranslateHeight}}if(b.quality&&this.featureQualityShow){c+=this.featureQualityHeight}if(b.signalToNoise&&this.featureSignalToNoiseShow){c+=this.featureSignalToNoiseHeight}if(b.coordinate&&this.featureCoordinateShow){c+=this.featureCoordinateHeight}}else{if(this.genomeResolution=="medium"){if(b.trace&&this.featureTracesShow){c+=this.featureTraceHeight}}}return c};this.iJ=function(d){var b=d.split("");var a=[];for(var c=0;c<b.length;c++){a.unshift(CanvasXpress.reverseComplement[b[c]]||b[c])}return a.join("")};this.S5=function(b,g){var a={top:[],bottom:[]};var n=g.split("");var k=CanvasXpress.codon;var f=this.iJ(g).split("").reverse();for(var h=0;h<b.length;h++){var m=b[h];var e={seq:[],off:0,rf:b[h]};if(m=="-1"){e.off=f.length%3;for(var d=f.length-1;d>=0;d-=3){var o=f[d]+f[d-1]+f[d-2];var l=k[o.toUpperCase()];e.seq.unshift(l?l[0]:"")}a.bottom.push(e)}else{if(m=="-2"){e.off=(f.length-1)%3;for(var d=f.length-2;d>=0;d-=3){var o=f[d]+f[d-1]+f[d-2];var l=k[o.toUpperCase()];e.seq.unshift(l?l[0]:"")}a.bottom.push(e)}else{if(m=="-3"){e.off=(f.length-2)%3;for(var d=f.length-3;d>=0;d-=3){var o=f[d]+f[d-1]+f[d-2];var l=k[o.toUpperCase()];e.seq.unshift(l?l[0]:"")}a.bottom.push(e)}else{if(m=="1"){e.off=0;for(var d=0;d<n.length;d+=3){var o=n[d]+n[d+1]+n[d+2];var l=k[o.toUpperCase()];e.seq.push(l?l[0]:"")}a.top.push(e)}else{if(m=="2"){e.off=1;for(var d=1;d<n.length;d+=3){var o=n[d]+n[d+1]+n[d+2];var l=k[o.toUpperCase()];e.seq.push(l?l[0]:"")}a.top.push(e)}else{if(m=="3"){e.off=2;for(var d=2;d<n.length;d+=3){var o=n[d]+n[d+1]+n[d+2];var l=k[o.toUpperCase()];e.seq.push(l?l[0]:"")}a.top.push(e)}}}}}}}return a};this.XR=function(j){if(!j.reversed){var d=j.A.length;var b=j.T.reverse();var m=j.G.reverse();var h=j.C.reverse();var f=j.A.reverse();var k=[];for(var e=0;e<j.peak.length;e++){k.unshift(d-j.peak[e])}j.A=b;j.C=m;j.G=h;j.T=f;j.peak=k;j.reversed=true}};this.Y8=function(){var a=1;if(this.xAxisUnit*0.2>this.sequenceFontSize){a=1}else{if(this.xAxisUnit*0.5>this.sequenceFontSize){a=5}else{if(this.xAxisUnit*1>this.sequenceFontSize){a=10}else{if(this.xAxisUnit*200>this.sequenceFontSize){a=20}else{if(this.xAxisUnit*500>this.sequenceFontSize){a=50}else{if(this.xAxisUnit*1000>this.sequenceFontSize){a=100}else{if(this.xAxisUnit*2500>this.sequenceFontSize){a=250}else{if(this.xAxisUnit*5000>this.sequenceFontSize){a=500}else{if(this.xAxisUnit*2000>this.sequenceFontSize){a=1000}else{if(this.xAxisUnit*10000>this.sequenceFontSize){a=5000}else{if(this.xAxisUnit*20000>this.sequenceFontSize){a=10000}else{if(this.xAxisUnit*100000>this.sequenceFontSize){a=50000}else{if(this.xAxisUnit*200000>this.sequenceFontSize){a=100000}else{if(this.xAxisUnit*2000000>this.sequenceFontSize){a=1000000}else{if(this.xAxisUnit*20000000>this.sequenceFontSize){a=10000000}else{if(this.xAxisUnit*200000000>this.sequenceFontSize){a=100000000}else{if(this.xAxisUnit*2000000000>this.sequenceFontSize){a=1000000000}else{if(this.xAxisUnit*20000000000>this.sequenceFontSize){a=10000000000}else{if(this.xAxisUnit*200000000000>this.sequenceFontSize){a=100000000000}}}}}}}}}}}}}}}}}}}if(this.xAxisRange/a>10){a*=(a*0.1);while(a*10>this.xAxisRange){a*=0.1}return a}else{if(a*3>this.xAxisRange){return a*0.1}else{return a}}};this.dq=function(c,b,a,e){if(b[c]){return b[c]}else{if(a[c]){return a[c]}else{if(this[c]){return this[c]}else{if(e){return e}else{return false}}}}};this.IY=function(h,b,e,m,j,g,c,n,d){var f=this.dq("featureNameColor",n,d,this.foreground);var a=n.counter;var l=this.featureNameFontSize/2;var k=n.dir=="right"?b+" \u2b95":n.dir=="left"?"\u2b05 "+b:b;if(g>=this.xAxisMin&&c<=this.xAxisMax){e=j+e;this.To({p:["drawText",k,e,m+l,this.featureNameFont,f,"left","middle"],i:["track-"+h+":"+a],t:"Labels"})}else{if(g<=this.xAxisMin&&c>=this.xAxisMin){e=j;this.To({p:["drawText",k,e,m+l,this.featureNameFont,f,"left","middle"],i:["track-"+h+":"+a],t:"Labels"})}else{if((g<=this.xAxisMax&&c>=this.xAxisMax)){e=j+e;this.To({p:["drawText",k,e,m+l,this.featureNameFont,f,"left","middle"],i:["track-"+h+":"+a],t:"Labels"})}else{e=j+e}}}};this.dp=function(){if(!this.featureStaggered){var w=this.marginLeft;var c=this.marginTop+this.top+this.margin;var b=this.featureNameFontSize/2;var a=0;if(this.showIdeogram){c+=this.ideogramSegmentFontSize+(this.margin*2)+this.ideogramHeight}for(var v=0;v<this.data.tracks.length;v++){var p=this.data.tracks[v];var d=p.type||this.featureTypeDefault;var n=p.height||this.featureHeightDefault;if(!p.hide){if(p.name&&!p.hideName){c+=this.trackNameFontSize+(this.margin*2)}for(var t=0;t<this.subtracks[v].length;t++){var x=this.subtracks[v][t];if(!x){continue}for(var r=0;r<x.length;r++){var m=x[r];var e=p.data[m];var u=e.counter;var s=this.dq("featureNameColor",e,p,this.foreground);var g=this.Aj(e.label||e.name||e.id,this.maxFeatureStringLen);var f=e.dir=="right"?g+" \u2b95":e.dir=="left"?"\u2b05 "+g:g;if(!e.hideName&&!p.hideFeatureNames&&d!="dataframe"){this.To({p:["drawText",f,this.marginLeft,c+(n/2)-((this.trackNameFontSize-this.margin)/2),this.featureNameFont,s,"left","middle"],i:["track-"+v+":"+u],t:"Labels"})}if(d=="dataframe"){}else{if(d=="box"||d=="sequence"){if(e.translate&&this.genomeResolution=="high"){var h=(this.featureNameFontSize-2)+"px "+this.fontName;a=-5;if(e.trace&&this.featureTracesShow){a+=this.featureTraceHeight}if(e.translate&&this.featureTranslateShow){for(var q=0;q<e.translate.length;q++){var o="+"+e.translate[q];if(o=="+1"){this.To({p:["drawText",o,this.marginLeft+this.left-15,c+a+(n/2),h,s,"left","middle"],t:"Data"});a+=this.featureTranslateHeight}else{if(o=="+2"){this.To({p:["drawText",o,this.marginLeft+this.left-15,c+a+(n/2),h,s,"left","middle"],t:"Data"});a+=this.featureTranslateHeight}else{if(o=="+3"){this.To({p:["drawText",o,this.marginLeft+this.left-15,c+a+(n/2),h,s,"left","middle"],t:"Data"});a+=this.featureTranslateHeight}}}}a+=this.sequenceFontSize+2;for(var q=0;q<e.translate.length;q++){var o=e.translate[q];if(o=="-1"){this.To({p:["drawText",o,this.marginLeft+this.left-15,c+a+(n/2),h,s,"left","middle"],t:"Data"});a+=this.featureTranslateHeight}else{if(o=="-2"){this.To({p:["drawText",o,this.marginLeft+this.left-15,c+a+(n/2),h,s,"left","middle"],t:"Data"});a+=this.featureTranslateHeight}else{if(o=="-3"){this.To({p:["drawText",o,this.marginLeft+this.left-15,c+a+(n/2),h,s,"left","middle"],t:"Data"});a+=this.featureTranslateHeight}}}}}}if(d=="box"){c+=this.N2(e)}else{c+=this.vh(e)}}}if(d!="dataframe"||t==this.subtracks[v].length-1){c+=n+this.margin}}}c+=this.margin*2}}}};this.C8=function(){var z,y,am;var O=this.marginLeft+this.left;var a=this.marginTop+this.top;var aj=this.xAxisUnit/2;this.To({p:["setClipArea",this.UR()],t:"Size"});if(this.showIdeogram){this.bA(a);a+=this.ideogramSegmentFontSize+(this.margin*2)+this.ideogramHeight}for(var ac=0;ac<this.data.tracks.length;ac++){var D=this.data.tracks[ac];var al=D.type||this.featureTypeDefault;var e=D.height||this.featureHeightDefault;var A=al.match(/bar|box|dataframe/)&&D.fill?D.fill:false;var E=al.match(/bar|box|dataframe/)&&D.outline?D.outline:this.foreground;var R=false;z=O;if(!D.hide){if(D.name&&!D.hideName){var v=D.name;if(D.displayedFeatures!=D.totalFeatures){v+=" (Showing "+D.displayedFeatures+" out of "+D.totalFeatures+")"}this.To({p:["drawText",v,z,a+(this.trackNameFontSize/2)+this.margin,this.trackNameFont,D.trackNameColor||this.trackNameColor,"left","middle"],i:["track-"+ac],t:"Labels"});a+=this.trackNameFontSize+(this.margin*2)}if(D.highlight&&this.genomeResolution!="low"){var ae=D.highlight;for(var aa=0;aa<ae.length;aa++){if(ae[aa].offset){var ai=ae[aa].color?ae[aa].color:this.colors[ac%this.colors.length];z=this.marginLeft+this.left+(((ae[aa].offset-0.5)-this.xAxisMin)*this.xAxisUnit);y=ae[aa].width?ae[aa].width*this.xAxisUnit:this.xAxisUnit;am=(D.endY-D.startY)+e;this.To({p:["drawShape","rectangle",z+(y/2),D.startY+(am/2),y,am,ai,ai,"closed"],t:"Data"})}}}for(var aa=0;aa<this.subtracks[ac].length;aa++){var u=this.subtracks[ac][aa];if(!u){continue}if(this.featureStaggered){R=this.Qv(D,u)}for(var Z=0;Z<u.length;Z++){var ah=u[Z];var Q=D.data[ah];var ag=Q.data;var v=this.Aj(Q.label||Q.name||Q.id,this.maxFeatureStringLen);var I=this.dq("featureNameColor",Q,D,this.foreground);if(al=="box"){if(ag.length>0){this.dW(Q);if(this.featureStaggered&&!D.hideFeatureNames&&(!Q.hideName||!R)){if(!Q.hideName){z=(((Q.start-this.xAxisMin)*this.xAxisUnit))-aj;this.IY(ac,v,z,a,O,Q.start,Q.end,Q,D)}a+=this.featureNameFontSize+this.margin}this.eV(a,e,Q,D);if(this.genomeResolution=="high"&&Q.translate&&this.featureTranslateShow){a+=this.featureTranslateHeight*Q.translate.length}}}else{if(al=="sequence"){var w=this.BA(Q.gaps,Q.sequence.length,Q.dir);if(Q.offsetLeft&&!Q.offset){Q.offset=(Q.offsetLeft-(Q.sequence.length+w.total))+1}if(this.featureStaggered&&!D.hideFeatureNames&&(!Q.hideName||!R)){if(!Q.hideName){z=((Q.offset-this.xAxisMin)*this.xAxisUnit)-aj;this.IY(ac,v,z,a,O,Q.offset,Q.offset+Q.sequence.length+w.total,Q,D)}a+=this.featureNameFontSize+this.margin}if(this.genomeResolution=="high"){if(Q.trace&&this.featureTracesShow){this.ex(a,Q.counter,this.featureTraceHeight-1,Q.offset,Q.trace,w,Q.dir);a+=this.featureTraceHeight}this.T9(a,e,w,Q,D);a+=e;if(Q.translate&&this.featureTranslateShow){for(var X=0;X<Q.translate.length;X++){a+=this.featureTranslateHeight}}if(Q.quality&&this.featureQualityShow){this.t4(a,Q.counter,this.featureQualityHeight-1,Q.offset,Q.quality,w,Q.dir,D);a+=this.featureQualityHeight}if(Q.signalToNoise&&this.featureSignalToNoiseShow){this.p7(a,Q.counter,this.featureSignalToNoiseHeight-1,Q.offset,Q.signalToNoise,w,Q.dir,D);a+=this.featureSignalToNoiseHeight}if(Q.coordinate&&this.featureCoordinateShow){this.cT(a+1,Q.counter,this.featureCoordinateHeight-1,Q.offset,Q.coordinate,Q.sequence.length,w,Q.dir,D);a+=this.featureCoordinateHeight}a-=e}else{if(this.genomeResolution=="medium"){if(Q.trace&&this.featureTracesShow){this.ex(a,Q.counter,this.featureTraceHeight-1,Q.offset,Q.trace,w,Q.dir);a+=this.featureTraceHeight}this.T9(a,e,w,Q,D);if(Q.coordinate&&this.featureCoordinateShow){this.cT(a+1,Q.counter,this.featureCoordinateHeight-1,Q.offset,Q.coordinate,Q.sequence.length,w,Q.dir,D)}}else{this.T9(a,e,w,Q,D);if(Q.coordinate&&this.featureCoordinateShow){this.cT(a+1,Q.counter,this.featureCoordinateHeight-1,Q.offset,Q.coordinate,Q.sequence.length,w,Q.dir,D)}}}}else{if(al=="bar"){var m;if(this.genomeResolution=="high"){m=this.xAxisUnit/ag.length}else{m=D.autowidth?this.xAxisUnit:Q.width?Q.width:D.width?D.width:this.featureWidthDefault}var ab=m*ag.length;z=this.marginLeft+this.left+((Q.offset-this.xAxisMin)*this.xAxisUnit)-((ab/2)+1);if(this.featureStaggered&&!D.hideFeatureNames&&(!Q.hideName||!R)){if(!Q.hideName){this.To({p:["drawText",v,z,a+(this.featureNameFontSize/2),this.featureNameFont,I,"left","middle"],i:["track-"+ac+":"+Q.counter],t:"Labels"})}a+=this.featureNameFontSize+this.margin}y=z;var b=D.range[1]<0?a:D.range[0]>=0?a+e:(a+e)-Math.abs(D.range[0]*D.units);for(var U=0;U<ag.length;U++){var g=Q.fill||A;var T=Q.outline||E;var L=this.tO(g)&&g.length==ag.length?g[U]:this.tO(g)?g[0]:this.foreground;var t=this.tO(T)&&T.length==ag.length?T[U]:this.tO(T)?T[0]:this.foreground;var ae=ag[U]*D.units;if(ag[U]){if(ae>0){this.To({p:["drawShape","rectangle",y+(m/2),b-(ae/2),m,ae,L,t,"closed"],i:[Q.counter],t:"Data"})}else{this.To({p:["drawShape","rectangle",y+(m/2),b-(ae/2),m,-ae,L,t,"closed"],i:[Q.counter],t:"Data"})}}if(D.autowidth){y+=m}else{y+=m+2}}}else{if(al=="heatmap"){var m;if(this.genomeResolution=="high"){m=this.xAxisUnit}else{m=D.autowidth?this.xAxisUnit:Q.width?Q.width:D.width?D.width:this.featureWidthDefault}z=this.marginLeft+this.left+((Q.offset-this.xAxisMin)*this.xAxisUnit)-((m/2)+1);if(this.featureStaggered&&!D.hideFeatureNames&&(!Q.hideName||!R)){if(!Q.hideName){this.To({p:["drawText",v,z,a+(this.featureNameFontSize/2),this.featureNameFont,I,"left","middle"],i:["track-"+ac+":"+Q.counter],t:"Labels"})}a+=this.featureNameFontSize+this.margin}var ae=D.autowidth?e:e/ag.length;am=a;for(var U=0;U<ag.length;U++){var H=ag[U];var o=this.PW(D.brew,H);if(isNaN(H)){this.To({p:["drawShape","rectangle",z+(m/2),am+(ae/2),m,ae,this.missingDataColor,this.missingDataColor,"closed"],i:[Q.counter],t:"Data"})}else{this.To({p:["drawShape","rectangle",z+(m/2),am+(ae/2),m,ae,o,o,"closed"],i:[Q.counter],t:"Data"})}if(D.autowidth){z+=m}else{am+=ae}}}else{if(al=="dataframe"){z=this.marginLeft+this.left+(this.margin*3);if(aa==0){this.Vt(this.marginLeft+this.left,a,e,D)}if(!D.hideFeatureNames&&(!Q.hideName||!R)){if(!Q.hideName){var am=(this.featureNameFontSize+this.margin)*aa;for(var V=0;V<ag.length;V++){if(ag[V].type){am+=((this.featureNameFontSize*0.5)+this.margin);var ad=ag[V].colorBy&&this.meta.data.tracks[ac][ag[V].colorBy]?this.meta.data.tracks[ac][ag[V].colorBy]:false;var Y=ag[V].colorBy&&D.dataframe[ag[V].colorBy]&&ag[V].meta&&ag[V].meta.color?ag[V].meta.color:false;var N=ag[V].shapeBy&&this.meta.data.tracks[ac][ag[V].shapeBy]?this.meta.data.tracks[ac][ag[V].shapeBy]:false;var S=ag[V].shapeBy&&D.dataframe[ag[V].shapeBy]&&ag[V].meta&&ag[V].meta.shape?ag[V].meta.shape:false;var r=ag[V].sizeBy&&this.meta.data.tracks[ac][ag[V].sizeBy]?this.meta.data.tracks[ac][ag[V].sizeBy]:false;var f=ag[V].lineType||"line";if(ag[V].type=="line"&&!ag[V].hideLegend){var M=0;var t=ag[V].transparency&&ag[V].fill?this.b9(ag[V].fill,ag[V].transparency):(ag[V].fill||"grey");var ak=Math.max(0,this.pb(ag[V].yAxis,this.featureNameFont));this.To({p:["drawLine",f,this.left+(this.margin*3),a+(this.featureNameFontSize/2)+am+this.margin,this.left+(this.margin*3)+10,a+(this.featureNameFontSize/2)+am+this.margin,t,false,"butt"],t:"Legend"});this.To({p:["drawText",ag[V].yAxis,(this.left+10+this.margin*4),a+(this.featureNameFontSize/2)+am+this.margin,this.featureNameFont,this.forground,"left","middle"],t:"Legend"});am+=(this.featureNameFontSize+(this.margin*2));M+=(this.featureNameFontSize+(this.margin*2));ak+=10+(this.margin*4);this.To({p:["drawShape","rectangle",z+(ak/2)-(this.margin*2),a+am-(M/2),ak,M,false,this.panelBackgroundColor,"open"],t:"Legend"})}if(ag[V].type.match(/scatter|lollipop|bar/)&&!ad&&!Y&&!ag[V].hideLegend){var M=0;var t=ag[V].transparency&&ag[V].fill?this.b9(ag[V].fill,ag[V].transparency):(ag[V].fill||"grey");var C=ag[V].type=="bar"?"rectangle":(ag[V].shape||"circle");var ak=Math.max(0,this.pb(ag[V].yAxis,this.featureNameFont));this.To({p:["drawShape",C,this.left+(this.margin*3)+5,a+(this.featureNameFontSize/2)+am+this.margin,10,10,t,t,"closed"],t:"Legend"});this.To({p:["drawText",ag[V].yAxis,(this.left+10+this.margin*4),a+(this.featureNameFontSize/2)+am+this.margin,this.featureNameFont,this.forground,"left","middle"],t:"Legend"});am+=(this.featureNameFontSize+(this.margin*2));M+=(this.featureNameFontSize+(this.margin*2));ak+=10+(this.margin*4);this.To({p:["drawShape","rectangle",z+(ak/2)-(this.margin*2),a+am-(M/2),ak,M,false,this.panelBackgroundColor,"open"],t:"Legend"})}if(ag[V].type.match(/scatter|lollipop|bar/)&&ad&&Y&&!ag[V].hideLegend){var ak=0;var M=0;for(var W in Y){var t=ag[V].transparency?this.b9(Y[W],ag[V].transparency):Y[W];var C=ag[V].type=="bar"?"rectangle":(ag[V].shape||"circle");ak=Math.max(ak,this.pb(W,this.featureNameFont));this.To({p:["drawShape",C,this.left+(this.margin*3)+5,a+(this.featureNameFontSize/2)+am+this.margin,10,10,t,t,"closed"],t:"Legend"});this.To({p:["drawText",W,(this.left+10+this.margin*4),a+(this.featureNameFontSize/2)+am+this.margin,this.featureNameFont,this.foreground,"left","middle"],t:"Legend"});am+=(this.featureNameFontSize+this.margin);M+=(this.featureNameFontSize+this.margin)}am+=this.margin;M+=this.margin;ak+=10+(this.margin*4);this.To({p:["drawShape","rectangle",z+(ak/2)-(this.margin*2),a+am-(M/2),ak,M,false,this.panelBackgroundColor,"open"],t:"Legend"})}if(ag[V].type.match(/scatter|lollipop|bar/)&&ad&&!Y&&!ag[V].hideLegend){var ak=0;var M=0;if(ad.levels){for(var W=0;W<ad.levels.length;W++){var t=ag[V].transparency?this.b9(ad.colors[W],ag[V].transparency):ad.colors[W];var C=ag[V].type=="bar"?"rectangle":(ag[V].shape||"circle");ak=Math.max(ak,this.pb(ad.levels[W],this.featureNameFont));this.To({p:["drawShape",C,this.left+(this.margin*3)+5,a+(this.featureNameFontSize/2)+am+this.margin,10,10,t,t,"closed"],t:"Legend"});this.To({p:["drawText",ad.levels[W],(this.left+10+this.margin*4),a+(this.featureNameFontSize/2)+am+this.margin,this.featureNameFont,this.foreground,"left","middle"],t:"Legend"});am+=(this.featureNameFontSize+this.margin);M+=(this.featureNameFontSize+this.margin)}am+=this.margin;M+=this.margin;ak+=10+(this.margin*4);this.To({p:["drawShape","rectangle",z+(ak/2)-(this.margin*2),a+am-(M/2),ak,M,false,this.panelBackgroundColor,"open"],t:"Legend"})}else{this.heatmapIndicatorWidth=100;this.bP(z,a+am,ad);am+=100+this.margin}}if(ag[V].type.match(/scatter|lollipop/)&&N&&S&&!ag[V].hideLegend){am+=((this.featureNameFontSize*0.5)+this.margin);var ak=0;var M=0;var t=ag[V].transparency&&ag[V].fill?this.b9(ag[V].fill,ag[V].transparency):(ag[V].fill||"grey");for(var W in S){var C=S[W];ak=Math.max(ak,this.pb(W,this.featureNameFont));this.To({p:["drawShape",C,this.left+(this.margin*3)+5,a+(this.featureNameFontSize/2)+am+this.margin,10,10,t,t,"closed"],t:"Legend"});this.To({p:["drawText",W,(this.left+10+this.margin*4),a+(this.featureNameFontSize/2)+am+this.margin,this.featureNameFont,this.foreground,"left","middle"],t:"Legend"});am+=(this.featureNameFontSize+this.margin);M+=(this.featureNameFontSize+this.margin)}am+=this.margin;M+=this.margin;ak+=10+(this.margin*4);this.To({p:["drawShape","rectangle",z+(ak/2)-(this.margin*2),a+am-(M/2),ak,M,false,this.panelBackgroundColor,"open"],t:"Legend"})}if(ag[V].type.match(/scatter|lollipop|bar/)&&N&&!S&&!ag[V].hideLegend){am+=((this.featureNameFontSize*0.5)+this.margin);var ak=0;var M=0;var t=ag[V].transparency&&ag[V].fill?this.b9(ag[V].fill,ag[V].transparency):(ag[V].fill||"grey");if(N.levels){for(var W=0;W<N.levels.length;W++){var C=N.shapes[W];ak=Math.max(ak,this.pb(N.levels[W],this.featureNameFont));this.To({p:["drawShape",C,this.left+(this.margin*3)+5,a+(this.featureNameFontSize/2)+am+this.margin,10,10,t,t,"closed"],t:"Legend"});this.To({p:["drawText",N.levels[W],(this.left+10+this.margin*4),a+(this.featureNameFontSize/2)+am+this.margin,this.featureNameFont,this.foreground,"left","middle"],t:"Legend"});am+=(this.featureNameFontSize+this.margin);M+=(this.featureNameFontSize+this.margin)}am+=this.margin;M+=this.margin;ak+=10+(this.margin*4);this.To({p:["drawShape","rectangle",z+(ak/2)-(this.margin*2),a+am-(M/2),ak,M,false,this.panelBackgroundColor,"open"],t:"Legend"})}else{am-=((this.featureNameFontSize*0.5)+this.margin)}}if(ag[V].type.match(/scatter|lollipop/)&&r){}}}}}for(var V=0;V<ag.length;V++){var P=D.dataframe&&ag[V].xAxis&&D.dataframe[ag[V].xAxis]?D.dataframe[ag[V].xAxis]:false;var x=D.dataframe&&ag[V].yAxis&&D.dataframe[ag[V].yAxis]?D.dataframe[ag[V].yAxis]:false;if(P&&x&&ag[V].type){var K,G;var ad=ag[V].colorBy&&this.meta.data.tracks[ac][ag[V].colorBy]?this.meta.data.tracks[ac][ag[V].colorBy]:false;var Y=ag[V].colorBy&&D.dataframe[ag[V].colorBy]&&ag[V].meta&&ag[V].meta.color?ag[V].meta.color:false;var N=ag[V].shapeBy&&this.meta.data.tracks[ac][ag[V].shapeBy]?this.meta.data.tracks[ac][ag[V].shapeBy]:false;var S=ag[V].shapeBy&&D.dataframe[ag[V].shapeBy]&&ag[V].meta&&ag[V].meta.shape?ag[V].meta.shape:false;var r=ag[V].sizeBy&&this.meta.data.tracks[ac][ag[V].sizeBy]?this.meta.data.tracks[ac][ag[V].sizeBy]:false;var F=ag[V].sizeBy&&D.dataframe[ag[V].sizeBy]&&ag[V].meta&&ag[V].meta.size?ag[V].meta.size:false;var f=ag[V].lineType||"line";if(ag[V].type=="line"){for(var U=0;U<P.length-1;U++){var t=ag[V].transparency&&ag[V].fill?this.b9(ag[V].fill,ag[V].transparency):(ag[V].fill||"grey");z=this.marginLeft+this.left+((P[U]-this.xAxisMin)*this.xAxisUnit);y=this.marginLeft+this.left+((P[U+1]-this.xAxisMin)*this.xAxisUnit);K=ag[V].side=="left"?(x[U]-D.minAxisY)*D.units:(x[U]-D.minAxisY2)*D.units2;G=ag[V].side=="left"?(x[U+1]-D.minAxisY)*D.units:(x[U+1]-D.minAxisY2)*D.units2;this.To({p:["drawLine",f,z,e+a-K,y,e+a-G,t,false,"butt"],i:["dataframe-"+ac+":"+V,U],t:"Data"})}}else{if(ag[V].type.match(/scatter|lollipop|bar/)){for(var U=0;U<P.length;U++){var t;var B,J,n;if(ad){if(ad.type=="Numeric"){B=this.PW(ad.brew,D.dataframe[ag[V].colorBy][U])}else{B=Y?ag[V].meta.color[D.dataframe[ag[V].colorBy][U]]:ad.colors[ad.order[D.dataframe[ag[V].colorBy][U]]]}}else{B=ag[V].fill?ag[V].fill:ag[V].color?ag[V].color:"grey"}if(ag[V].transparency){B=this.b9(B,ag[V].transparency)}if(N&&N.type!="Numeric"){J=S?ag[V].meta.shape[D.dataframe[ag[V].shapeBy][U]]:N.shapes[N.order[D.dataframe[ag[V].shapeBy][U]]]}else{J=ag[V].shape?ag[V].shape:"circle"}if(r){if(r.type=="Numeric"){n=this.By(r,D.dataframe[ag[V].sizeBy][U],"sizes")}else{n=F?ag[V].meta.size[D.dataframe[ag[V].sizeBy][U]]:r.sizes[r.order[D.dataframe[ag[V].sizeBy][U]]]}}else{n=ag[V].size?ag[V].size:this.dataPointSize*this.dataPointSizeScaleFactor}var d=Q.outline?Q.outline:D.outline?D.outline:B;z=this.marginLeft+this.left+((P[U]-this.xAxisMin)*this.xAxisUnit);K=ag[V].side=="left"?(x[U]-D.minAxisY)*D.units:(x[U]-D.minAxisY2)*D.units2;if(ag[V].type=="bar"){n/=2;this.To({p:["drawShape","rectangle",z+(n/2),e+a-(K/2),n,K,B,d,"closed"],i:["dataframe-"+ac+":"+V,U],t:"Data"})}else{if(ag[V].type=="lollipop"){this.To({p:["drawLine","line",z,e+a-K,z,e+a,"grey"],t:"Data"})}this.To({p:["drawShape",J,z,e+a-K,n,n,B,d,"closed"],i:["dataframe-"+ac+":"+V,U],t:"Data"})}}}}}}}else{if(al=="marker"){for(var V=0;V<ag.length;V++){A=Q.fill&&Q.fill[V]?Q.fill[V]:this.foreground;for(var af=0;af<ag[V].length;af++){z=this.marginLeft+this.left+((ag[V][af]-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine","line",z,a,z,a+e,A,false,"butt"],i:[Q.counter,af,V],t:"Data"})}}}else{if(al=="triangle"){z=this.marginLeft+this.left+((Q.offset-this.xAxisMin)*this.xAxisUnit);A=Q.fill?Q.fill:this.foreground;E=Q.outline?Q.outline:this.foreground;if(this.featureStaggered&&!D.hideFeatureNames&&(!Q.hideName||!R)){if(!Q.hideName){this.To({p:["drawText",v,z,a+(this.featureNameFontSize/2),this.featureNameFont,I,"left","middle"],i:["track-"+ac+":"+Q.counter],t:"Labels"})}a+=this.featureNameFontSize+this.margin}this.To({p:["drawShape","triangle",z,a+(e/2),e,e,A,E,"closed"],i:[Q.counter],t:"Data"})}}}}}}}if(this.featureStaggered){if(Z<u.length-1){if(!R){a-=(this.featureNameFontSize+this.margin)}if(al=="box"){a-=this.N2(Q)}else{if(al=="sequence"){a-=this.vh(Q)}}}}}if(al!="dataframe"||aa==this.subtracks[ac].length-1){a+=e+this.margin}}a+=this.margin*2}}this.To({p:["resetClipArea"],t:"Size"})};this.bA=function(b){var h=function(i){switch(i){case"gneg":return"rgb(255,255,255)";case"gpos25":return"rgb(181,181,181)";case"gpos50":return"rgb(128,128,128)";case"gpos75":return"rgb(63,63,63)";case"gpos100":return"rgb(0,0,0)";case"acen":return"rgb(255,0,0)";case"stalk":return"rgb(0,0,255)";case"gvar":return"rgb(0,255,0)";default:return"rgb(255,255,0)"}};var s=CanvasXpress.chromosomes[this.ideogram];var m=s.data[this.ideogramChromosomeNumber];var l=0;var d=m.length;for(var n=0;n<m.length;n++){if(m[n][0]<this.xAxisMin){l=n;break}}for(var n=0;n<m.length;n++){if(m[n][1]>this.xAxisMax){d=n;break}}var j=this.marginLeft+this.left;var k=this.marginLeft+this.left;for(var n=l;n<=d;n++){if(n<m.length){var p=Math.max((l==0?0:this.xAxisMin),(m[n]?m[n][0]:m[n-1][0]))*this.xAxisUnit;var o=Math.min(this.xAxisMax,(m[n]?m[n][1]:m[n-1][1]))*this.xAxisUnit;var f=o-p;var r=b+this.ideogramSegmentFontSize+this.margin+(this.ideogramHeight/2);var e=f/2;var q=m[n]?m[n][3]:m[n-1][3];var u=m[n]?m[n][2]:m[n-1][2];var t=h(q);var g=this.pb(m[n]?m[n][2]:m[n-1][2],this.ideogramSegmentFont);var a=q=="acen"&&u.match(/^p/);var c=q=="acen"&&u.match(/^q/);if(n==0||c){this.To({p:["drawShape","roundrectl",j+p+e,r,f,this.ideogramHeight,t,"rgb(0,0,0,0.9)","closed"],t:"Legend"})}else{if(n==m.length-1||a){this.To({p:["drawShape","roundrectr",j+p+e,r,f,this.ideogramHeight,t,"rgb(0,0,0,0.9)","closed"],t:"Legend"})}else{this.To({p:["drawShape","rectangle",j+p+e,r,f,this.ideogramHeight,t,"rgb(0,0,0,0.9)","closed"],t:"Legend"})}}if(j+p+e>k+g){this.To({p:["drawText",m[n]?m[n][2]:m[n-1][2],j+p+e,b+(this.ideogramSegmentFontSize/2),this.foreground,this.forground,"center","middle"],t:"Labels"});k=j+p+e}}}};this.dW=function(b){var e=b.data;if(!b.start||!b.end){b.start=e[0][0];b.end=e[e.length-1][1];if(b.sequence){var g=b.dir=="left"?b.sequence.length:1;for(var a=0;a<e.length;a++){if(e[a].length==2){var f=e[a][1]-e[a][0];if(b.dir=="left"){b.data[a].push(g-f,g)}else{b.data[a].push(g,g+f)}}g=b.dir=="left"?g-(f+1):g+f+1}}}};this.Vt=function(e,g,a,b){this.To({p:["drawShape","rectangle",e+(this.x/2)+0.5,g+(a/2)+0.5,this.x+1,a+1,false,this.panelBackgroundColor,"open"],t:"Axis"});this.To({p:["resetClipArea"],t:"Size"});if(b.values){var h=b.values;for(var d=0;d<h.length;d++){var f=((h[d]-b.minAxisY)*b.units)-0.5;this.To({p:["drawLine","line",this.left+this.margin,a+g-f,this.left-this.margin,a+g-f,this.xAxisGridMajorColor],t:"Axes"});this.To({p:["drawText",h[d].toString(),this.left-(this.margin*2),a+g-f,this.xAxisTextFont,this.xAxisTextColor,"right","middle"],t:"Axes"})}}if(b.title){var c=this.pb(b.maxValueStr,this.xAxisTextFont)+(this.margin*4);this.To({p:["drawText",b.title,this.left-c,g+(a/2),this.xAxisTitleFont,this.xAxisTitleColor,"center","bottom",-Math.PI*0.5],t:"Axes"})}if(b.values2){var h=b.values2;for(var d=0;d<h.length;d++){var f=((h[d]-b.minAxisY2)*b.units2)-0.5;this.To({p:["drawLine","line",this.left+this.x+this.margin,a+g-f,this.left+this.x+(this.margin*2),a+g-f,this.xAxisGridMajorColor],t:"Axes"});this.To({p:["drawText",h[d].toString(),this.left+this.x+(this.margin*3),a+g-f,this.xAxisTextFont,this.xAxisTextColor,"left","middle"],t:"Axes"})}if(b.title2){var c=this.pb(b.maxValueStr2,this.xAxisTextFont)+(this.margin*4);this.To({p:["drawText",b.title2,this.left+this.x+c,g+(a/2),this.xAxisTitleFont,this.xAxisTitleColor,"center","top",-Math.PI*0.5],t:"Axes"})}}this.To({p:["setClipArea",this.UR()],t:"Size"})};this.zx=function(d,j,h,k){var s,r,q,p,l;var a=h.scaleHeight?h.scaleHeight:1;var c=d+((j*a)/2);var b=h.dir=="right"?d:d+(j*a);var e=this.marginLeft+this.left;var t=e+this.x;var u=h.data;var g=this.u5(h.fill||h.connect||k.connect)||this.foreground;var f=this.xAxisUnit/2;var o=[];for(var m=0;m<u.length;m++){s=(((u[m][0]-this.xAxisMin)*this.xAxisUnit)-f);r=((((u[m][1]-this.xAxisMin)*this.xAxisUnit)+f)-s);if(!h.insertion&&(k.connect||h.connect)&&this.featureSpliceStyle!="rect"){if(m<u.length-1){q=((u[m+1][0]-this.xAxisMin)*this.xAxisUnit);p=(s+r+q+1-f)/2;if(Math.floor(q-(r+s))>2&&e+s+r<t&&e+q>e){if(Math.abs(b-c)<3){this.To({p:["drawLine","line",e+s+r+1,c+j-(j*a),e+q,c+j-(j*a),g,false,"butt"],i:[h.counter],t:"Data"})}else{this.To({p:["drawLine","line",e+s+r+1,c+j-(j*a),e+p,b+j-(j*a),g,false,"butt"],i:[h.counter],t:"Data"});this.To({p:["drawLine","line",e+p,b+j-(j*a),e+q-f,c+j-(j*a),g,false,"butt"],i:[h.counter],t:"Data"})}}}}if(h.insertion){s=((((u[m][0]+u[m][1])/2)-this.xAxisMin)*this.xAxisUnit);o.push([e+s,(d+j)-(j*a)+((j*a)/2),f/2,(j*a)])}else{o.push([e+s,(d+j)-(j*a),r,(j*a)])}}if(!h.insertion&&(k.connect||h.connect)&&this.featureSpliceStyle=="rect"){l=u.length-1;s=(((u[0][0]-this.xAxisMin)*this.xAxisUnit));r=((((u[l][1]-this.xAxisMin)*this.xAxisUnit))-s);this.To({p:["drawLine","line",e+s+r,c+j-(j*a),e+s,c+j-(j*a),g,false,"butt"],i:[h.counter],t:"Data"})}if(h.showDir&&this.xAxisUnit>0.001&&!h.insertion){g=this.u5(h.showDir)||g;s=e+(((h.start-this.xAxisMin)*this.xAxisUnit))-f;r=e+(((h.end-this.xAxisMin)*this.xAxisUnit))+f;q=10;p=5;if(h.dir=="right"){if(r<t&&r+q>e){this.To({p:["drawLine","line",r,c,r+q,c,g,false,"butt"],i:[h.counter],t:"Data"});this.To({p:["drawLine","line",r+p,c-(j/3),r+q,c,g,false,"butt"],i:[h.counter],t:"Data"});this.To({p:["drawLine","line",r+p,c+(j/3),r+q,c,g,false,"butt"],i:[h.counter],t:"Data"})}}else{if(s-q<t&&s>e){this.To({p:["drawLine","line",s,c,s-q,c,g,false,"butt"],i:[h.counter],t:"Data"});this.To({p:["drawLine","line",s-p,c-(j/3),s-q,c,g,false,"butt"],i:[h.counter],t:"Data"});this.To({p:["drawLine","line",s-p,c+(j/3),s-q,c,g,false,"butt"],i:[h.counter],t:"Data"})}}}return o};this.G6=function(f,t,e,s,g,b){var o=s/g.length;for(var n=0;n<g.length;n++){var r=g[n].split("");var k=(e-f)/r.length;var q=t+(o*n);for(var m=0;m<r.length;m++){var d=f+(k*m);if(r[m]=="-"){r[m]="Gap"}var p="sequence"+r[m].toUpperCase()+"Color";this.To({p:["drawShape","rectangle",d+(k/2),q+(o/2),k,o,this[p],this[p],"closed"],i:[b],t:"Data"})}}};this.eV=function(b,d,x,p){var C=this;var q={};var E=function(){if(C.genomeResolution!="low"&&x.sequence){return x.dir=="left"?x.sequenceRC.split(""):x.sequence.split("")}else{return false}};var K=function(N){var j=C.cp(x.colorBy);return C.dl(x.spectrum,j[0],j[1])};var o=x.fill&&this.tO(x.fill)?this.u5(x.connect||p.fill||p.connect):this.u5(x.fill||x.connect||p.fill||p.connect);var H=x.colorBy&&this.tO(x.colorBy)?K():false;var B=x.height&&this.tO(x.height)?x.height:false;var t=x.outline||p.outline||o;var l=o?"closed":"open";var h=this.xAxisUnit/2;var J=this.sequenceFontSize>d?(d-3)+"px "+this.fontName:this.sequenceFont;var e=E();var D=x.translateRC;var y=x.data;var g=this.marginLeft+this.left;var F=g+this.x;if(this.genomeResolution=="high"&&D){b+=D.top.length*this.featureTranslateHeight}var z=this.zx(b,d,x,p);for(var I=0;I<z.length;I++){var n=z[I][0];var m=n+z[I][2];if(Math.floor(m-n)<3){var A=parseInt(m);if(q.hasOwnProperty(A)){continue}q[A]=true;q[A+1]=true}if(n<F&&m>g){if(this.genomeResolution!="low"&&x.alleles&&x.alleles[I]&&!x.insertion){this.G6(n,b,m,d,x.alleles[I],x.counter)}if(!D||this.genomeResolution!="high"){if(x.insertion){var L=x.dir=="left"?"triangle":"triangle2";this.To({p:["drawShape",L,z[I][0],z[I][1],z[I][2],z[I][3],o,t,l],i:[x.counter],t:"Data"})}else{if(this.genomeResolution!="low"&&x.sequence&&(x.sequenceFill||p.sequenceFill||this.sequenceFill)){this.To({p:["drawShape","rectangle",z[I][0]+(z[I][2]/2),z[I][1]+(z[I][3]/2),z[I][2],z[I][3],x.sequenceFill||p.sequenceFill||this.sequenceFill,t,l],i:[x.counter],t:"Data"})}else{if(x.colorBy){var u=B&&B[I]!=null&&B[I]<=z[I][3]?B[I]:z[I][3];var f=this.XN(H,x.colorBy[I]);this.To({p:["drawShape","rectangle",z[I][0]+(z[I][2]/2),z[I][1]+(z[I][3]/2),z[I][2],u,f,f],i:[x.counter],t:"Data"})}else{var u=B&&B[I]!=null&&B[I]<=z[I][3]?B[I]:z[I][3];var f=x.fill&&this.tO(x.fill)&&this.u5(x.fill[I])?x.fill[I]:o;this.To({p:["drawShape","rectangle",z[I][0]+(z[I][2]/2),z[I][1]+(z[I][3]/2),z[I][2],u,f,t,l],i:[x.counter],t:"Data"})}}}}if(this.genomeResolution!="low"&&x.sequence&&!x.insertion){var w={};var s=y[I][0];var a=y[I][1];var r=x.dir=="left"?e.length-y[I][3]+1:y[I][2];var M=x.dir=="left"?e.length-y[I][2]+1:y[I][3];var v=r-3;if(a-s!=M-r){this.errors.push("Exon length for segment "+I+" in feature "+x.id+"is different to the box dimmension")}if(e.length>0){n+=h;for(var G=r;G<=M;G++){var c=e[G-1];if(!c){this.errors.push("Nucleotide "+G+" in exon "+(I+1)+" in feature "+x.id+"not specified")}if(c){var k="sequence"+c.toUpperCase()+"Color";if(this.genomeResolution=="high"){if(D&&(!x.cds||(x.cds&&G>=x.cds[0]&&G<=x.cds[1]))){this.SW(D,n,b,h,v,t,J,0,w,x.counter);this.To({p:["drawText",c,n,b+(d/2),J,this[k],"center","middle"],i:[x.counter],t:"Data"});this.AV(D,n,b,h,v,t,J,0,w,x.counter)}else{this.To({p:["drawText",c,n,b+(d/2),J,this[k],"center","middle"],i:[x.counter],t:"Data"})}}else{this.To({p:["drawShape","rectangle",n,b+1+((d-2)/2),1,d-2,this[k],this[k],"closed"],i:[x.counter],t:"Data"})}}else{if(this.genomeResolution=="high"){this.To({p:["drawText","-",n,b+(d/2),J,this.missingDataColor,"center","middle"],i:[x.counter],t:"Data"})}else{this.To({p:["drawShape","rectangle",n,b+1+((d-2)/2),1,d-2,this.missingDataColor,this.missingDataColor,"closed"],i:[x.counter],t:"Data"})}}v++;n+=this.xAxisUnit}}}}}};this.ex=function(b,m,q,f,z,t,s){if(this.genomeResolution!="low"){if(s=="left"&&!z.reversed){this.XR(z)}var o=[];var g=["A","C","G","T"];var D=this.marginLeft+this.left+(((f-1)-this.xAxisMin)*this.xAxisUnit);var u=this.marginLeft+this.left;var p=this.marginLeft+this.left+this.x;var a=b+q;if(z.max==null){for(var A=0;A<g.length;A++){o=o.concat(z[g[A]])}if(CanvasXpress.system.browser=="Firefox"){o=this.iP(o)}else{o.sort(function(j,i){return j-i})}var B=Math.floor(o.length*this.featureTraceTrim/100);z.max=o[o.length-(B+1)]}var v=q/z.max;var e=g.length;for(var A=0;A<e;A++){var c=0;var h=[];var y=[];var C=D;var d="sequence"+g[A].toUpperCase()+"Color";var F=z.peak.length;for(var x=0;x<F;x++){if(C>u-this.xAxisUnit&&C<p){var n=this.xAxisUnit/(z.peak[x]-c);if(t[x]){var E=Math.floor((z.peak[x]-c)/2);for(var w=c;w<(z.peak[x]-E);w++){h.push(C);y.push(a-(Math.min(z.max,z[g[A]][w])*v));C+=n}c+=E;if(h.length>1&&y.length>1){this.To({p:["drawShape","path",h,y,false,false,this[d],this[d],"open"],i:[m],t:"Data"})}h=[];y=[];for(var w=0;w<t[x];w++){C+=this.xAxisUnit}}for(var w=c;w<=z.peak[x];w++){h.push(C);y.push(a-(Math.min(z.max,z[g[A]][w])*v));C+=n}C-=n;c=z.peak[x]}else{if(t[x]){for(var w=0;w<t[x];w++){C+=this.xAxisUnit}}c=z.peak[x];C+=this.xAxisUnit}}if(C>u-this.xAxisUnit&&C<p){for(var w=c;w<z[g[A]].length;w++){h.push(C);y.push(a-(Math.min(z.max,z[g[A]][w])*v));C+=n}}if(h.length>1&&y.length>1){this.To({p:["drawShape","path",h,y,false,false,this[d],this[d],"open"],i:[m],t:"Data"})}}}};this.SW=function(s,d,n,j,l,q,p,r,f,b){if(s.top&&s.top.length>0){for(var g=0;g<s.top.length;g++){var m=n-((s.top.length-g)*this.featureTranslateHeight);var k=s.top[g];if(l-k.off>=0&&(l-k.off)%3==0){var a=k.seq[Math.floor((l-k.off)/3)];var o=l%2?this.oddColor:this.evenColor;if(a=="M"){o=this.sequenceStartColor}else{if(a=="*"){o=this.sequenceEndColor}}if(!f[k.rf]){f[k.rf]=d-(this.xAxisUnit*(r+2.5))}var e=(d-f[k.rf])+j;this.To({p:["drawShape","rectangle",f[k.rf]+(e/2),m+(this.featureTranslateHeight/2),e,this.featureTranslateHeight-1,o,q,"closed"],i:[b],t:"Data"});this.To({p:["drawText",a,f[k.rf]+(e/2),m+(this.featureTranslateHeight/2)+1,p,this.foreground,"center","middle"],i:[b],t:"Data"});f[k.rf]=d+j}}}};this.AV=function(s,d,n,j,l,q,p,r,f,b){if(s.bottom&&s.bottom.length>0){for(var g=0;g<s.bottom.length;g++){var m=n+((g+1)*this.featureTranslateHeight);var k=s.bottom[g];if(l-k.off>=0&&(l-k.off)%3==0){var a=k.seq[Math.floor((l+k.off+1)/3)];var o=l%2?this.oddColor:this.evenColor;if(a=="M"){o=this.sequenceStartColor}else{if(a=="*"){o=this.sequenceEndColor}}if(!f[k.rf]){f[k.rf]=d-(this.xAxisUnit*(r+2.5))}var e=(d-f[k.rf])+j;this.To({p:["drawShape","rectangle",f[k.rf]+(e/2),m+(this.featureTranslateHeight/2),e,this.featureTranslateHeight-1,o,q,"closed"],i:[b],t:"Data"});this.To({p:["drawText",a,f[k.rf]+(e/2),m+(this.featureTranslateHeight/2)+1,p,this.foreground,"center","middle"],i:[b],t:"Data"});f[k.rf]=d+j}}}};this.T9=function(a,d,m,y,u){var f=y.counter;var t=y.fill?y.fill:u.fill?u.fill:this.background;var v=y.outline||this.foreground;var k=t?"closed":"open";var e=this.sequenceFontSize>d?(d-3)+"px "+this.fontName:this.sequenceFont;var D=y.offset;var M=y.sequence;var P=y.sequenceRC;var C=y.translate;var L=y.translateRF;var O=y.dir;if(O=="left"&&!P){P=M;M=this.iJ(M)}if(C&&!L){L=C;C=this.S5(C,M)}var g=M.split("");var q=this.marginLeft+this.left+((D-this.xAxisMin)*this.xAxisUnit);var I=this.marginLeft+this.left;var G=this.marginLeft+this.left+this.x;var p=(g.length+m.total)*this.xAxisUnit;var H=0;var F=u.subtype.match(/DNA|RNA/)?1:3;var E=this.xAxisUnit*4;var K=this.xAxisUnit/2;var N=-2;var w={};var Q=a;var B=0;var z=0;var A=this;if(this.genomeResolution=="high"){var o=q+(H*this.xAxisUnit);if(C){a+=C.top.length*this.featureTranslateHeight}while(g.length>0){if(o>I-E&&o<G+E){var b=g.shift();if(b=="["){b=g.shift();var x=[];while(b!="]"){x.push(b);b=g.shift()}this.To({p:["drawText",x.join("/"),q+(H*this.xAxisUnit),a+(d/2),e,this.sequenceMColor,"center","middle"],i:[f],t:"Data"})}else{var j="sequence"+b.toUpperCase()+"Color";if(C){this.SW(C,o,a,K,N,v,e,z,w,f);this.To({p:["drawText",b,o,a+(d/2),e,this[j],"center","middle"],i:[f],t:"Data"});this.AV(C,o,a,K,N,v,e,z,w,f)}else{this.To({p:["drawText",b,o,a+(d/2),e,this[j],"center","middle"],i:[f],t:"Data"})}}H+=F;o=q+((H+B)*this.xAxisUnit);N++;z=0;if(m[parseInt(H/F)]){for(var J=0;J<m[parseInt(H/F)];J++){this.To({p:["drawText","-",o,a+(d/2),e,this.missingDataColor,"center","middle"],i:[f],t:"Data"});B++;z++;o=q+((H+B)*this.xAxisUnit)}}}else{g.shift();H+=F;o=q+((H+B)*this.xAxisUnit);N++;z=0;if(m[parseInt(H/F)]){for(var J=0;J<m[parseInt(H/F)];J++){B++;z++;o=q+((H+B)*this.xAxisUnit)}}}}}else{q=this.marginLeft+this.left+(((D-0.5)-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawShape","rectangle",q+(p/2),a+(d/2),p,d,t,v,"closed"],i:[f],t:"Data"});for(var J in m){q=this.marginLeft+this.left+((((D-0.5)+parseInt(J)+z)-this.xAxisMin)*this.xAxisUnit);p=m[J]*this.xAxisUnit;z+=m[J];this.To({p:["drawShape","rectangle",q+(p/2),a+(d/2),p,d,this.missingDataColor,v,k],i:[f],t:"Data"})}}};this.t4=function(a,f,n,d,c,q,o,p){if(this.genomeResolution!="low"){var h=o=="left"?this.TU(c).reverse():c;var y=this.marginLeft+this.left+(((d-0.5)-this.xAxisMin)*this.xAxisUnit);var t=this.marginLeft+this.left;var m=this.marginLeft+this.left+this.x;var x=y;var k=p.subtype.match(/DNA|RNA/)?1:3;var g=k*this.xAxisUnit;var e=(this.featureQualityHeight-3)+"px "+this.fontName;for(var v=0;v<h.length;v++){if(x+g>t&&x<m){if(q[v]){for(var u=0;u<q[v];u++){x+=g}}var b=this.PW(p.brew,h[v]);this.To({p:["drawShape","rectangle",x+(g/2),a+(n/2),g,n,b,b,"closed"],i:[f],t:"Data"});if(x>t&&this.genomeResolution=="high"&&this.featureQualityValues){this.To({p:["drawText",h[v],x+(g/2),a+(n/2),e,this.foreground,"center","middle"],i:[f],t:"Data"})}}x+=g}}};this.p7=function(a,f,m,d,u,p,n,o){if(this.genomeResolution!="low"){var c=n=="left"?this.TU(u).reverse():u;var y=this.marginLeft+this.left+(((d-0.5)-this.xAxisMin)*this.xAxisUnit);var q=this.marginLeft+this.left;var k=this.marginLeft+this.left+this.x;var x=y;var h=o.subtype.match(/DNA|RNA/)?1:3;var g=h*this.xAxisUnit;var e=(this.featureSignalToNoiseHeight-3)+"px "+this.fontName;for(var v=0;v<c.length;v++){if(x+g>q&&x<k){if(p[v]){for(var t=0;t<p[v];t++){x+=g}}var b=this.PW(o.brew,c[v]);this.To({p:["drawShape","rectangle",x+(g/2),a+(m/2),g,m,b,b,"closed"],i:[f],t:"Data"});if(x>q&&this.genomeResolution=="high"&&this.featureSignalToNoiseValues){this.To({p:["drawText",c[v],x+(g/2),a+(m/2),e,this.foreground,"center","middle"],i:[f],t:"Data"})}}x+=g}}};this.cT=function(a,g,m,e,C,b,x,p,u){if(this.genomeResolution!="low"){var A=this.marginLeft+this.left+((e-this.xAxisMin)*this.xAxisUnit);var y=this.marginLeft+this.left;var k=this.marginLeft+this.left+this.x;var v=C;var j=u.subtype.match(/DNA|RNA/)?1:3;var h=j*this.xAxisUnit;var B=this.Y8();var o=b+x.total;var i=C+o;var f=(m-3)+"px "+this.fontName;if(p=="left"){var z=A+((o-1)*h);while(C<i-x.total){if(x[(o-(C-v))-2]){z-=(h*x[(o-(C-v))-2])}if(z>y&&z<k){if(C%B==0){this.To({p:["drawText",C,z,a+(m/2),f,this.foreground,"center","middle"],t:"Labels"})}}z-=h;C++}}else{var z=A;while(C<i-x.total){if(x[C-v]){z+=(h*x[C-v])}if(z>y&&z<k){if(C%B==0){this.To({p:["drawText",C,z,a+(m/2),f,this.foreground,"center","middle"],t:"Labels"})}}z+=h;C++}}}};this.pX=function(){return;var f=this.marginLeft+this.left;var b=this.marginLeft+this.left+this.x;var h=this.Y8();var j=Math.floor(this.xAxisMin);var g=this.rk(this.featureNameFont)/2;var a=this[this.axisAlgorithm](this.minData,this.maxData,10);if(this.genomeResolution=="low"){h*=5}for(var e=0;e<a.length;e++){f=this.marginLeft+this.left+((a[e]-this.xAxisMin)*this.xAxisUnit);this.To({p:["drawLine",(this.yAxisGridMajorLineType=="dotted"?"dottedLine":"line"),f,this.marginTop+this.top,b,this.marginTop+this.top+this.y,this.wireColor,false,"butt"],t:"Axes"})}};this.zg=function(){var e=this.marginLeft+this.left;var b=this.marginLeft+this.left+this.x;var g=this.marginLeft+this.left;var j=this.Y8();var k=Math.floor(this.xAxisMin);var a=this.rk(this.featureNameFont)/2;var m=this[this.axisAlgorithm](this.minData,this.maxData,10);if(this.genomeResolution=="low"){j*=5}for(var h=0;h<m.length;h++){e=this.marginLeft+this.left+((m[h]-this.xAxisMin)*this.xAxisUnit);var f=this.pb(m[h].toString(),this.featureNameFont);if(e>=g){this.To({p:["drawText",m[h].toString(),e,this.marginTop+this.top+this.y+this.margin+a,this.featureNameFont,this.xAxisTextColor,"center","middle"],t:"Axes"});g=e+(f*1.5)}}};this.A5=function(){var h=0;for(var f=0;f<this.data.tracks.length;f++){var b=this.data.tracks[f];if(b.type=="dataframe"){for(var e=0;e<b.data.length;e++){var a=b.data[e];for(var d=0;d<a.data.length;d++){var l=a.data[d].title?this.xAxisTitleFontSize+this.margin:this.margin;var g=a.data[d].yAxis;var m=a.data[d].side;if(g&&b.dataframe[g]&&m&&m=="right"){var c=a.data[d].maxValueStrLen+l;h=Math.max(h,c)}}}}}return h==0?this.margin:h+(this.margin*5)};this.Nz=function(){if(this.featureStaggered){var l=0;for(var f=0;f<this.data.tracks.length;f++){var b=this.data.tracks[f];if(b.type=="dataframe"){for(var e=0;e<b.data.length;e++){var a=b.data[e];for(var d=0;d<a.data.length;d++){var m=a.data[d].title?this.xAxisTitleFontSize+this.margin:this.margin;var h=a.data[d].yAxis;var o=a.data[d].side;if(h&&b.dataframe[h]&&o&&o=="left"){var c=a.data[d].maxValueStrLen+m;l=Math.max(l,c)}}}}}return l+(this.margin*5)}else{var g=[];for(var f=0;f<this.data.tracks.length;f++){var b=this.data.tracks[f];for(var e=0;e<b.data.length;e++){var n=b.data[e];g.push(n.label||n.name||n.id)}}return this.pb(this.Aj(this.pQ(g),this.maxFeatureStringLen),this.featureNameFont)+(this.margin*4)}};this.CQ=function(){this.bottom=this.margin+this.rk(this.featureNameFont)+this.l0();if(this.adjustAspectRatio||this.height<(this.marginTop+this.top+this.y+this.bottom+this.marginBottom)){this.height=this.marginTop+this.top+this.y+this.bottom+this.marginBottom}this.Hr()};this.oY=function(){for(var n=0;n<this.data.tracks.length;n++){var d=this.data.tracks[n];var s=this.meta.data.tracks[n];if(d.type=="dataframe"){for(var h=0;h<d.data.length;h++){var c=d.data[h];var o=[];var m=[];var e=[];var p=[];var r=[];var b=[];for(var g=0;g<c.data.length;g++){var q=c.data[g].yAxis;if(q&&d.dataframe.hasOwnProperty(q)&&s.hasOwnProperty(q)){c.data[g].range=s[q].range;c.data[g].values=s[q].values;c.data[g].valuesStr=s[q].valuesStr;c.data[g].maxValueStr=s[q].maxValueStr;c.data[g].maxValueStrLen=s[q].maxValueStrLen;c.data[g].minAxisY=c.data[g].setMinY!=null?c.data[g].setMinY:Math.min(c.data[g].range[0],c.data[g].values[0]);c.data[g].maxAxisY=c.data[g].setMaxY!=null?c.data[g].setMaxY:Math.max(c.data[g].range[1],c.data[g].values[c.data[g].values.length-1]);c.data[g].units=(d.height||this.featureTypeDefault)/((c.data[g].maxAxisY-c.data[g].minAxisY)*1.05);c.data[g].brew=this.dl(d.colorSpectrum||this.colorSpectrum,c.data[g].minAxisY,c.data[g].maxAxisY,c.colorSpectrumZeroValue||this.colorSpectrumZeroValue,c.colorSpectrumBreaks||this.colorSpectrumBreaks,true)}if(c.data[g].side=="left"){if(c.data[g].title){d.title=c.data[g].title}o.push(c.data[g].minAxisY,c.data[g].maxAxisY);if(c.data[g].setMinY!=null){e.push(c.data[g].setMinY)}if(c.data[g].setMaxY!=null){p.push(c.data[g].setMaxY)}}else{if(c.data[g].side=="right"){if(c.data[g].title){d.title2=c.data[g].title}m.push(c.data[g].minAxisY,c.data[g].maxAxisY);if(c.data[g].setMinY!=null){r.push(c.data[g].setMinY)}if(c.data[g].setMaxY!=null){b.push(c.data[g].setMaxY)}}}}if(o.length){d.range=this.cp(o);if(e.length){d.range[0]=this.lJ(e)}if(p.length){d.range[1]=this.K1(p)}d.values=this[this.axisAlgorithm](d.range[0],d.range[1],5,this.isGraphTime,this.axisWilkinsonLoose);var a=[];for(var f=0;f<d.values.length;f++){a.push(d.values[f].toString())}d.maxValueStr=this.pQ(a);d.maxValueStrLen=this.pb(d.maxValueStr,this.xAxisTextFont);d.minAxisY=e.length?d.range[0]:Math.min(d.range[0],d.values[0]);d.maxAxisY=p.length?d.range[1]:Math.max(d.range[1],d.values[d.values.length-1]);d.units=(d.height||this.featureTypeDefault)/((d.maxAxisY-d.minAxisY)*1.05);d.brew=this.dl(d.colorSpectrum||this.colorSpectrum,d.minAxisY,d.maxAxisY,d.colorSpectrumZeroValue||this.colorSpectrumZeroValue,d.colorSpectrumBreaks||this.colorSpectrumBreaks,true)}if(m.length){d.range2=this.cp(m);if(r.length){d.range2[0]=this.lJ(r)}if(b.length){d.range2[1]=this.K1(b)}d.values2=this[this.axisAlgorithm](d.range2[0],d.range2[1],5,this.isGraphTime,this.axisWilkinsonLoose);var a=[];for(var f=0;f<d.values2.length;f++){a.push(d.values2[f].toString())}d.maxValueStr2=this.pQ(a);d.maxValueStrLen2=this.pb(d.maxValueStr2,this.xAxisTextFont);d.minAxisY2=e.length?d.range2[0]:Math.min(d.range2[0],d.values2[0]);d.maxAxisY2=p.length?d.range2[1]:Math.max(d.range2[1],d.values2[d.values2.length-1]);d.units2=(d.height||this.featureTypeDefault)/((d.maxAxisY2-d.minAxisY2)*1.05);d.brew2=this.dl(d.colorSpectrum||this.colorSpectrum,d.minAxisY2,d.maxAxisY2,d.colorSpectrumZeroValue||this.colorSpectrumZeroValue,d.colorSpectrumBreaks||this.colorSpectrumBreaks,true)}}}else{if(d.type.match(/bar|heatmap/)){d.range=s.range;d.values=s.values;d.valuesStr=s.valuesStr;d.minAxisY=d.setMinY!=null?d.setMinY:Math.min(d.range[0],d.values[0]);d.maxAxisY=d.setMaxY!=null?d.setMaxY:Math.max(d.range[1],d.values[d.values.length-1]);d.units=(d.height||this.featureTypeDefault)/((d.maxAxisY-d.minAxisY)*1.05);d.brew=this.dl(d.colorSpectrum||this.colorSpectrum,d.minAxisY,d.maxAxisY,d.colorSpectrumZeroValue||this.colorSpectrumZeroValue,d.colorSpectrumBreaks||this.colorSpectrumBreaks,true)}}}};this.Mh=function(){this.zl("xAxis");this.genomeResolution=this.xAxisUnit>this.sequenceFontSize?"high":this.xAxisUnit*5>this.sequenceFontSize?"medium":"low"};this.a4=function(){this.left=this.Nz();this.right=this.A5();if(this.featureStaggered){if(this.width){this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight)}else{this.width=this.marginLeft+this.left+this.x+this.right+this.marginRight}}else{if(this.width){this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight)}else{this.width=this.marginLeft+this.left+this.x+this.right+this.marginRight}}};this.UQ=function(){this.trackNameFont=this.trackNameFontStyle+" "+this.trackNameFontSize+"px "+this.fontName;this.featureNameFont=this.featureNameFontStyle+" "+this.featureNameFontSize+"px "+this.fontName;this.sequenceFont=(this.sequenceFontSize)+"px "+this.fontName;if(!this.wireColor.match(/,0.1\)$/)){this.wireColor=this.wireColor.replace(/\)$/,",0.1)")}};this.FZ=function(){this.UQ();this.oY();this.a4();this.Mh();this.yj();this.CQ();this.pX();this.C8();this.dp();this.zg();this.p3()};this.Oy=function(){this.FZ()};this.sS=function(){this.Oy()}};CanvasXpress.prototype.Circular=function(){this.ru=function(b){if(!this.circularDebuggingCounter){this.circularDebuggingCounter=0}if(this.debug){var f=this.b9(this.colors[this.circularDebuggingCounter%this.colors.length],0.5,true);var a=-Math.PI;var d=a+(2*Math.PI);this.To({p:["drawShape","circle",this.cx,this.cy,this.currentRadius*2,this.currentRadius*2,false,f,"open"],t:"Debug"});this.To({p:["drawArcText",b,this.cx,this.cy,this.currentRadius,a,d,this.rAxisTextFont,f,false,false,true],t:"Debug"});this.circularDebuggingCounter++}};this.Qa=function(){var c=this;var b=function(){c.x=c.width-(c.marginLeft+c.left+c.right+c.marginRight);c.y=c.height-(c.marginTop+c.top+c.bottom+c.marginBottom);c.r=(Math.min(c.x,c.y)/2);c.padX=c.x>c.y?(c.x-c.y)/2:0;c.padY=c.x>c.y?0:(c.y-c.x)/2};if(!this.panningX){this.panningX=0}if(!this.panningY){this.panningY=0}b();if(this.showLegend&&!this.legendInside&&this.showLegendCircular){if(this.legendPosition=="top"){if(this.padY<this.legend.height){this.top+=this.legend.height}b()}else{if(this.legendPosition=="bottom"){if(this.padY<this.legend.height){this.bottom+=this.legend.height}b()}else{if(this.legendPosition.match(/left/i)){if((this.left+this.padX)<this.legend.width){this.left+=this.legend.width}b()}else{if((this.right+this.padX)<this.legend.width){this.right+=this.legend.width}b()}}}}var a=this.circularHeatmap?this.sE():0;if(this.left<a){this.left+=a;b()}this.cx=this.marginLeft+this.left+this.r+this.padX+this.panningX;this.cy=this.marginTop+this.top+this.r+this.padY+this.panningY;this.r*=this.zoom;this.d=this.r*2};this.W7=function(){if(this.autoScaleFont){var a=Math.min(this.width,this.height)*(1-this.percentAspectRatioPlotArea);this.gV(a/5,"varTextFont");this.gV(a/5,"varTitleFont");this.gV(a/4,"smpTextFont");this.gV(a/4,"smpTitleFont");this.gV(a/4,"overlayTextFont");this.lV("NA",a/4,"r")}};this.v5=function(){if(!this.showIdeogram&&this.segregateSamplesBy&&this.segregateSamplesBy.length&&this.circularType!="sunburst"&&this.circularType!="bubble"&&this.circularOverlayLevelOrientation=="perpendicular"){return this.data.x&&this.data.x.hasOwnProperty(this.segregateSamplesBy[0])?this.meta.data.x[this.segregateSamplesBy[0]].maxLevLen:0}else{return 0}};this.wB=function(){if(this.showSampleNames&&this.circularType!="sunburst"&&this.circularType!="bubble"&&!this.yAxis.length){if(this.circularSampleLabelOrientation=="circular"&&!this.rAxisIndices.length){return this.rk(this.smpTextFont)+this.margin}else{if(this.meta.data.y.maxSmpChr>this.maxSmpStringLen){return this.pb(this.meta.data.y.maxSmpStr.substring(0,this.maxSmpStringLen),this.smpTextFont)+this.margin}else{return this.pb(this.meta.data.y.maxSmpStr,this.smpTextFont)+this.margin}}}else{return 0}};this.ol=function(){if(this.showVariableNames&&this.showIdeogram){if(this.meta.data.y.maxVarChr>this.maxVarStringLen){return this.pb(this.meta.data.y.maxVarStr.substring(0,this.maxVarStringLen),this.varTextFont)+this.margin}else{return this.pb(this.meta.data.y.maxVarStr,this.varTextFont)+this.margin}}else{return 0}};this.OZ=function(){return this.pb(this.xAxisMaxStrLength,this.rAxisTextFont)};this.wR=function(){if(this.rAxisTickFormat){return this.pb(this.sV(this.rAxisMax,"rAxis"),this.rAxisTextFont)}else{return this.pb(this.rAxisMaxStrLength,this.rAxisTextFont)}};this.HZ=function(){return this.rAxisPercentShow?this.pb("100%",this.rAxisTextFont):0};this.l6=function(){if(this.circularType!="normal"||!this.xAxisShow||this.circularArc<270){return 0}else{if(this.xAxisShow){return this.margin+this.WJ(this.r*this.circularCenterProportion*2,this.OZ())}else{return 0}}};this.XJ=function(){var a=0;if(!this.showIdeogram&&this.rAxisPercentShow&&(this.rAxisIndices.length>0||(this.circularType=="chord"&&this.chordScaleShow))){a=(this.HZ()/2)+(this.margin*2)}return a};this.dS=function(a){var b=0;if(this.showIdeogram){b+=(this.rAxisTextFontSize+this.margin)+(this.margin*2*(a?0:1))}else{if((this.rAxisShow&&this.rAxisIndices.length>0)||(this.circularType=="chord"&&this.chordScaleShow)){if(this.rAxisLabelOrientation!="circular"&&this.circularType!="chord"){b+=this.rAxisTextFontSize+(this.margin*4)}else{b+=this.wR()+(this.margin*4)}}}return b};this.x1=function(){return this.smpDendrogram&&this.showSmpDendrogram?this.dendrogramHeight+this.margin:0};this.qC=function(){return this.showIdeogram?this.circularOverlayThickness+this.margin:0};this.Ao=function(){var a=0;if(this.segregateSamplesBy.length>0&&this.circularType!="sunburst"&&this.circularType!="bubble"&&!this.showIdeogram){a+=this.circularOverlayThickness}if(this.showOverlays&&this.smpOverlays.length>0&&this.circularType!="sunburst"&&this.circularType!="bubble"&&!this.showIdeogram){if(!this.rAxisIndices.length){for(var b=0;b<this.smpOverlays.length;b++){var c=this.smpOverlays[b];if(c!="-"){a+=this.circularOverlayThickness}else{a+=this.margin}}}else{if(this.showOverlays&&this.varOverlays.length>0&&this.circularType!="sunburst"&&this.circularType!="chord"&&this.circularType!="bubble"&&this.showIdeogram){for(var b=0;b<this.varOverlays.length;b++){var c=this.varOverlays[b];if(!this.rAxisIndices.length){if(c!="-"){a+=this.circularOverlayThickness}else{a+=this.margin}}}}}}return a+(a>0?this.margin:0)};this.Xf=function(){var a=0;if(this.circularType!="sunburst"&&this.circularType!="chord"&&this.circularType!="bubble"&&!this.yAxis.length){if(this.showSampleNames&&!this.rAxisIndices.length&&!this.showIdeogram){if(this.circularSampleLabelOrientation=="circular"){a+=this.smpTextFontSize+this.margin}else{a+=this.wB()}}else{if(this.showSampleNames&&this.rAxisIndices.length>0&&!this.showIdeogram){a+=this.wB()+this.circularAnchorLength+this.margin}}}else{if(this.showIdeogram&&this.showVariableNames){a+=this.ol()+this.circularAnchorLength+this.margin}}return a};this.ey=function(){var a=0;if((this.showIdeogram&&this.showVariableNames)||(!this.showIdeogram&&this.showSampleNames&&this.rAxisIndices.length>0&&!this.yAxis.length)){a+=this.circularAnchorLength+this.margin}return a};this.kk=function(){var d=this;var a=this.TU(this.circularTrackOrder);var e=function(f){if(d.showIdeogram){if(d.data.z&&d.data.z.hasOwnProperty(f)){if(!d.varOverlays.includes(f)){d.varOverlays.push(f)}return true}}else{if(d.data.x&&d.data.x.hasOwnProperty(f)){if(!d.smpOverlays.includes(f)){d.smpOverlays.push(f)}return true}}return false};var b=this.v5();for(var c=0;c<a.length;c++){switch(a[c]){case"-":b+=this.margin;break;case"percent":b+=this.XJ();break;case"chromosomes":case"scale":b+=this.dS(a[c]=="chromosomes");break;case"dendrogram":b+=this.x1();break;case"ideogram":b+=this.qC();break;case"overlays":b+=this.Ao();break;case"labels":b+=this.Xf();break;case"anchors":case"anchors2":b+=this.ey();break;case"data":b+=0;break;default:if(e(a[c])){b+=this.circularOverlayThickness+this.margin}break}}return b};this.mz=function(){if(!CanvasXpress.chromosomes[this.ideogram].hasOwnProperty("max")){CanvasXpress.chromosomes[this.ideogram].max={}}else{return}var d=CanvasXpress.chromosomes[this.ideogram];for(var b=0;b<d.order.length;b++){var e=d.data[d.order[b]];var a=e.length-1;d.max[d.order[b]]=d.data[d.order[b]][a][1]}};this.uD=function(){this.circularSampleData=!this.showIdeogram?{}:false;this.circularSampleIndices=!this.showIdeogram?[]:false;if(!this.showIdeogram){var n=this;var b={};var t=function(s,f){var i=s;var h=n.Za(s,2);var u=n.Za((h+0.01)%(Math.PI*2),2);var j=n.Za((h+0.02)%(Math.PI*2),2);var d=0;while(b[h]||b[u]||b[j]){s=(s+0.01)%(Math.PI*2);h=n.Za((h+0.01)%(Math.PI*2),2);u=n.Za((u+0.01)%(Math.PI*2),2);j=n.Za((j+0.01)%(Math.PI*2),2);d++;if(d>8){return Number.NaN}}b[h]=f;b[u]=f;b[j]=f;return s-i};var B=this.data.y.smps;var w=this.data.y.data;for(var g=0;g<this.circularArcSectorSampleIndices.length;g++){var o=[];if(this.rAxisIndices.length>0){w=this.data.y.data[this.rAxisIndices[0]];o=this.TU(this.circularArcSectorSampleIndices[g]).sort(function(f,d){return w[f]-w[d]})}else{o=this.circularArcSectorSampleIndices[g]}var A=this.circularDataPosition=="absolute"?this.rAxisUnit:this.circularArcSectorMax[g]*this.rAxisUnit/o.length;var k=this.rAxisIndices.length?0:A/2;var p=this.rAxisIndices.length?0:this.rAxisIndices.length>0?this.rAxisUnit/2:0;for(var e=0;e<o.length;e++){var c=B[o[e]];this.circularSampleIndices.push(o[e]);var y=this.rAxisUnit*(this.rAxisIndices.length>0?w[o[e]]:e);var q=(this.circularArcSectorDims[g][0]+y)%(Math.PI*2);var a=(this.circularArcSectorDims[g][0]+y-p)%(Math.PI*2);var m=t(a,c);this.circularSampleData[c]={idx:o[e],seg:g,raw:a,mod:(!isNaN(m)?a+m:Number.NaN),dat:[a,a+A,a+k,q]}}}}};this.Dt=function(){this.circularVariableData=this.showIdeogram?{}:false;this.circularVariableIndices=this.showIdeogram?[]:false;if(this.showIdeogram){var k=this;var e={};var M={};var d=function(u,b){var i=u;var c=k.Za(u,2);var v=k.Za((c+0.01)%(Math.PI*2),2);var j=k.Za((c+0.02)%(Math.PI*2),2);var h=0;var a=0;while(e[c]||e[v]||e[j]){u=(u+0.01)%(Math.PI*2);c=k.Za((c+0.01)%(Math.PI*2),2);v=k.Za((v+0.01)%(Math.PI*2),2);j=k.Za((j+0.01)%(Math.PI*2),2);a++;if(a>8){return Number.NaN}}e[c]=b;e[v]=b;e[j]=b;return u-i};var o=this.data.y;var n=this.data.z;var N=n[this.ideogramChromosome];var t=[];for(var J=0;J<N.length;J++){t.push(N[J].toString().match(/x/i)?23:N[J].toString().match(/y/i)?24:N[J])}var F=n[this.ideogramChromosomePosition];var A=[];for(var J=0;J<this.varIndices.length;J++){var C=this.varIndices[J];A.push(o.vars[C])}var A=this.TU(o.vars).sort(function(f,c){var l=k.tU(f);var h=k.tU(c);return t[l]-t[h]||F[l]-F[h]});for(var J=0;J<A.length;J++){var H=A[J];var s=this.tU(H);this.circularVariableIndices.push(s);var G=this.circularArcSectorRangeMap[N[s]];if(!M.hasOwnProperty(N[s])){M[N[s]]=0}M[N[s]]++;var D=(this.circularArcSectorDims[G][0]+(this.rAxisUnit*F[s]))%(Math.PI*2);var L=d(D,H);this.circularVariableData[H]={idx:s,seg:G,chr:N[s],raw:D,mod:!isNaN(L)?D+L:Number.NaN}}var g=Math.PI*2;for(var s in M){var G=this.circularArcSectorRangeMap[s];var B=this.circularDataPosition=="absolute"?this.rAxisUnit:this.circularArcSectorMax[G]*this.rAxisUnit/M[s];var K=B/2;var P=this.circularArcSectorDims[G][0];var E=0;for(var J=0;J<A.length;J++){var H=A[J];var I=this.circularVariableData[H].idx;var O=this.circularDataPosition=="absolute"?P+(this.rAxisUnit*F[I]):P+(B*E);if(N[I]==s){this.circularVariableData[H].dat=[O,(O+B),(O+K)];E++}}}}};this.bv=function(){if(this.circularArc>360){this.circularArc=360}else{if(this.circularArc<90){this.circularArc=90}}this.rAxisIndices=this.rAxis?this.tU(this.rAxis):[];this.circularArcSectorCenter=this.l6();var h=this.circularArc<270?1:0;var w=this.circularType!="normal"||this.circularArc<270?0:this.xAxisShow?((this.circularArcSectorSeparation+this.circularArcSectorCenter)*Math.PI/360):0;this.circularStart=(Math.PI*1.5)+w+this.MC(this.circularRotate);this.circularArcSector=[];this.circularArcSectorSampleIndices=[];this.circularArcSectorRange=[];this.circularArcSectorMin=[];this.circularArcSectorMax=[];this.circularArcSectorValues=[];this.circularArcSectorRangeMap={};this.circularArcSectorDims=[];this.circularArcSectorNumber=0;this.rAxisUnit=1;this.maxRadiusFactor=1;this.maxRadiusFactorInv=1;if(this.circularType=="sunburst"){var u=this.Zs(this.hierarchy);this.circularArcSectorMin.push(0);this.circularArcSectorMax.push(u[0].value);this.rAxisUnit=this.MC((this.circularArc-(this.circularArcSectorSeparation+this.circularArcSectorCenter))/u[0].value);this.circularArcSectorRange.push(u[0].value);this.circularSunburst=u}else{if(this.circularType=="chord"){var v=this.circularStart;var J=this.circularChord;this.rAxisUnit=J.unit;for(var G=0;G<J.segments.length;G++){this.circularArcSector.push(J.segments[G].value);this.circularArcSectorRangeMap[J.segments[G].name]=G;this.circularArcSectorMin[G]=0;this.circularArcSectorMax[G]=J.segments[G].value;this.circularArcSectorRange.push(J.segments[G].value);this.circularArcSectorDims.push([(v+J.segments[G].start)%(Math.PI*2),(v+J.segments[G].end)%(Math.PI*2)])}}else{if(this.circularType=="bubble"){this.Jx()}else{if(this.showIdeogram){this.mz();var D=CanvasXpress.chromosomes[this.ideogram];var q=0;var C=D.order.length;for(var G=0;G<C;G++){var J=D.order[G];var I=D.data[J];var A=D.max[J];this.circularArcSector.push(J);this.circularArcSectorRangeMap[J]=G;this.circularArcSectorMin[G]=0;this.circularArcSectorMax[G]=A;this.circularArcSectorRange[G]=A;q+=A}this.rAxisUnit=this.MC((this.circularArc-((this.circularArcSectorSeparation*(C-h))+this.circularArcSectorCenter))/q);this.circularArcSectorNumber=C;var v=this.circularStart;for(var G=0;G<C;G++){var H=this.rAxisUnit*this.circularArcSectorRange[G];this.circularArcSectorDims.push([v%(Math.PI*2),(v+H)%(Math.PI*2)]);v+=H+this.MC(this.circularArcSectorSeparation)}this.circularEnd=(v-this.MC(this.circularArcSectorSeparation))%(Math.PI*2)}else{if(this.segregateSamplesBy.length){var b=[];var F=[];var a=this.JA(this.segregateSamplesBy[0],this.smpIndices).sort();for(var G=0;G<a.length;G++){this.circularArcSector.push(a[G]);this.circularArcSectorRangeMap[a[G]]=G;var g=this.MJ(this.segregateSamplesBy[0],a[G]);this.circularArcSectorSampleIndices.push(g);b=b.concat(g)}for(var G=0;G<b.length;G++){if(this.hiddenSmps[b[G]]){F.push(true)}else{F.push(false)}}this.smpIndices=b;this.hiddenSmps=F;if(this.rAxisIndices.length>0){var p={};var j=0;for(var G=0;G<this.data.y.smps.length;G++){var v=this.Mk(G,"x",this.segregateSamplesBy[0]);if(!p[v]){p[v]=[]}p[v].push(this.data.y.data[this.rAxisIndices[0]][G])}for(var v in p){var G=this.circularArcSectorRangeMap[v];var f=this.cp(p[v]);var x=this[this.axisAlgorithm](f[0],f[1],5);var B=this.setMinR!=null?this.setMinR:f[0]<x[0]?f[0]:x[0];var E=this.setMaxR!=null?this.setMaxR:f[1]>x[x.length-1]?f[1]:x[x.length-1];this.circularArcSectorMin[G]=B;this.circularArcSectorMax[G]=E;this.circularArcSectorValues[G]=x;j+=(E-B);this.circularArcSectorRange[G]=E-B}this.rAxisUnit=this.MC((this.circularArc-((this.circularArcSectorSeparation*(this.circularArcSectorSampleIndices.length-h))+this.circularArcSectorCenter))/j)}else{this.rAxisUnit=this.MC((this.circularArc-((this.circularArcSectorSeparation*(this.circularArcSectorSampleIndices.length-h))+this.circularArcSectorCenter))/this.data.y.smps.length);var v=this.circularStart;for(var G=0;G<this.circularArcSectorSampleIndices.length;G++){this.circularArcSectorMin[G]=0;this.circularArcSectorMax[G]=this.circularArcSectorSampleIndices[G].length;this.circularArcSectorRange[G]=this.circularArcSectorSampleIndices[G].length}}var v=this.circularStart;for(var k=0;k<a.length;k++){var y=a[k];var G=this.circularArcSectorRangeMap[y];var z=this.rAxisIndices.length>0?this.circularArcSectorRange[G]:this.circularArcSectorSampleIndices[G].length;var H=this.rAxisUnit*z;this.circularArcSectorDims.push([v%(Math.PI*2),(v+H)%(Math.PI*2)]);v+=H+this.MC(this.circularArcSectorSeparation)}this.circularEnd=(v-this.MC(this.circularArcSectorSeparation))%(Math.PI*2)}else{this.circularArcSector=false;this.circularArcSectorSampleIndices=[this.smpIndices];if(this.rAxisIndices.length>0){var f=this.cp(this.data.y.data[this.rAxisIndices[0]]);var x=this[this.axisAlgorithm](f[0],f[1],5);var B=this.setMinR!=null?this.setMinR:f[0]<x[0]?f[0]:x[0];var E=this.setMaxR!=null?this.setMaxR:f[1]>x[x.length-1]?f[1]:x[x.length-1];this.circularArcSectorMin.push(B);this.circularArcSectorMax.push(E);this.circularArcSectorValues.push(x);this.rAxisUnit=this.MC((this.circularArc-(this.circularArcSectorSeparation+this.circularArcSectorCenter))/(E-B));this.circularArcSectorRange.push(E-B)}else{this.rAxisUnit=this.MC((this.circularArc-(this.circularArcSectorSeparation+this.circularArcSectorCenter))/this.data.y.smps.length);var v=this.circularStart;for(var G=0;G<this.circularArcSectorSampleIndices.length;G++){this.circularArcSectorMin[G]=0;this.circularArcSectorMax[G]=this.circularArcSectorSampleIndices[G].length;this.circularArcSectorRange[G]=this.circularArcSectorSampleIndices[G].length}}var H=this.rAxisUnit*(this.rAxisIndices.length>0?this.circularArcSectorRange[0]:this.smpIndices.length);this.circularArcSectorDims.push([this.circularStart%(Math.PI*2),(this.circularStart+H)%(Math.PI*2)]);this.circularEnd=(this.circularStart+H)%(Math.PI*2)}}}}}this.circularArcSectorNumber=this.showIdeogram?CanvasXpress.chromosomes[this.ideogram].order.length:this.circularType=="chord"?this.circularChord.segments.length:this.circularArcSectorSampleIndices.length;this.currentRadius=this.r*1;if(this.circularArcSectorRadius&&this.circularArcSectorRadius.length>0){for(var G=this.circularArcSectorRadius.length;G<this.circularArcSectorNumber;G++){this.circularArcSectorRadius.push(1)}this.maxRadiusFactor=this.K1(this.circularArcSectorRadius)}else{for(var G=0;G<this.circularArcSectorNumber;G++){this.circularArcSectorRadius.push(1)}}if(this.maxRadiusFactor!=1){for(var G=0;G<this.circularArcSectorNumber;G++){this.circularArcSectorRadius[G]/=this.maxRadiusFactor}}this.maxRadiusFactorInv=1/this.maxRadiusFactor;this.Dt();this.uD()};this.DX=function(){this.circularTracksVarIndices=[];this.circularTracksSmpIndices=[];this.circularTrackLength=[];this.circularTrackMap={};if(this.rAxisIndices.length>0){this.circularTracksVarIndices.push([this.rAxisIndices[0]])}if(this.circularType=="sunburst"||this.circularType=="bubble"){this.xAxisIndices[0]=this.tU(this.xAxis[0]);this.circularTracksVarIndices.push(this.xAxisIndices[0]);this.circularTrackGraphWeight[0]=1;this.circularTrackNumber=1}else{if(this.circularType=="chord"){this.circularTracksVarIndices.push(this.varIndices);this.circularTrackGraphWeight[0]=1;this.circularTrackNumber=1}else{var c;var p;if(this.circularTrackOrder.length>0){if(this.showIdeogram&&this.segregateSamplesBy.length>0){p=this.meta.data.x[this.segregateSamplesBy[0]].order}else{if(this.circularTrackName.length>0){p=this.Ry(this.circularTrackName)}}if(p){for(var m=0;m<this.circularTrackOrder.length;m++){if(p.hasOwnProperty(this.circularTrackOrder[m])){if(!c){c={}}c[this.circularTrackOrder[m]]=true}}}}if(this.showIdeogram){if(this.segregateSamplesBy.length>0){var a={};for(var m=0;m<this.data.x[this.segregateSamplesBy[0]].length;m++){var g=this.Mk(m,"x",this.segregateSamplesBy[0]);if(!a[g]){if(c){if(c.hasOwnProperty(g)){this.circularTrackMap[g]=this.circularTracksSmpIndices.length;this.circularTracksSmpIndices.push(this.MJ(this.segregateSamplesBy[0],g))}}else{this.circularTrackMap[g]=this.circularTracksSmpIndices.length;this.circularTracksSmpIndices.push(this.MJ(this.segregateSamplesBy[0],g))}a[g]=true}}}else{var b=[];for(var m=0;m<this.smpIndices.length;m++){b.push(this.smpIndices[m])}this.circularTracksSmpIndices.push(b)}}else{if(this.circularTrackName.length>0){var a={};for(var m=0;m<this.xAxis.length;m++){var r=this.tU(this.xAxis[m]);if(this.rAxisIndices.length>0&&r==this.rAxisIndices[0]){continue}var g=this.circularTrackName[m];if(!a[g]){if(c){if(c.hasOwnProperty(g)){this.circularTrackMap[g]=this.circularTracksVarIndices.length;var f=[];for(var k=0;k<this.xAxis.length;k++){var n=this.tU(this.xAxis[k]);if(this.data.y.vars[n]==g){f.push(k)}}this.circularTracksVarIndices.push(f)}}else{this.circularTrackMap[g]=this.circularTracksVarIndices.length;var f=[];var n=0;for(var k=0;k<this.circularTrackName.length;k++){if(this.circularTrackName[k]==g){n=this.tU(this.xAxis[k]);f.push(n)}}this.circularTracksVarIndices.push(f)}a[g]=true}}}else{var b=[];for(var m=0;m<this.varIndices.length;m++){if(this.rAxisIndices.length>0&&m==this.rAxisIndices[0]){continue}b.push(this.varIndices[m])}this.circularTracksVarIndices.push(b)}}this.circularTrackNumber=this.showIdeogram?this.circularTracksSmpIndices.length:this.circularTracksVarIndices.length;if(this.circularTrackGraphType.length<this.circularTrackNumber){for(var m=this.circularTrackGraphType.length;m<this.circularTrackNumber;m++){this.circularTrackGraphType.push(this.showIdeogram?"heatmap":this.circularType=="radar"?"line":"dot")}}if(this.circularTrackGraphWeight&&this.circularTrackGraphWeight.length>0){while(this.circularTrackGraphWeight.length!=this.circularTrackNumber){if(this.circularTrackGraphWeight.length>this.circularTrackNumber){this.circularTrackGraphWeight.pop()}else{this.circularTrackGraphWeight.push(this.circularTrackGraphWeight[this.circularTrackGraphWeight.length-1])}}for(var m=0;m<this.circularTrackNumber;m++){if(this.rAxisShow&&this.rAxisIndices.length>0&&m==this.rAxisIndices[0]){this.circularTrackGraphWeight[m]=0}}}else{this.circularTrackGraphWeight=[];for(var m=0;m<this.circularTrackNumber;m++){if(this.rAxisShow&&this.rAxisIndices.length>0&&m==this.rAxisIndices[0]){this.circularTrackGraphWeight.push(0)}else{this.circularTrackGraphWeight.push(1)}}}var q=0;for(var m=0;m<this.circularTrackGraphWeight.length;m++){if(!this.showIdeogram){if(this.circularTracksVarIndices[m].length<1){continue}}else{if(this.circularTracksSmpIndices[m].length<1){continue}}q+=parseFloat(this.circularTrackGraphWeight[m])}if(q==0){q=1}for(var m=0;m<this.circularTrackGraphWeight.length;m++){this.circularTrackGraphWeight[m]/=q}}}var h=this.kk();var o=this.circularCenterProportion*this.r;var d=this.circularTrackSeparation*(this.circularTrackNumber-(this.rAxisIndices.length>0?2:1));var e=this.r-(h+o+d);for(var m=0;m<this.circularTrackNumber;m++){if(!this.showIdeogram){if(this.circularTracksVarIndices[m].length<1){this.circularTrackLength.push(0)}else{this.circularTrackLength.push(this.circularTrackGraphWeight[m]*e)}}else{if(this.circularTracksSmpIndices[m].length<1){this.circularTrackLength.push(0)}else{this.circularTrackLength.push(this.circularTrackGraphWeight[m]*e)}}}};this.hP=function(){var d=this;var a=this.TU(this.circularTrackOrder);var e=function(f){return d.showIdeogram?d.varOverlays.includes(f):d.smpOverlays.includes(f)};var c=function(g){if(d.showIdeogram){var f=d.meta.data.x[d.segregateSamplesBy[0]];return f.levels.includes(g)&&f.order&&f.order.hasOwnProperty(g)}else{if(d.circularTrackName.length>0){return d.circularTrackName.includes(g)}}};this.circularTrackInfo=[];for(var b=0;b<a.length;b++){switch(a[b]){case"-":this.currentRadius-=this.margin;break;case"percent":this.vQ();break;case"chromosomes":case"scale":this.Eg(a[b]=="chromosomes");break;case"dendrogram":this.aJ();break;case"ideogram":this.QB();break;case"overlays":this.ji();break;case"labels":this.Vq();this.io();break;case"anchors":case"anchors2":this.J2(a[b]);break;case"data":switch(this.circularType){case"sunburst":this.bc();break;case"chord":this.pW();break;case"bubble":this.Q3();break;default:this.Nj();break}break;default:if(e(a[b])){if(this.showIdeogram){this.rb(a[b])}else{this.IB(a[b])}this.currentRadius-=this.margin}else{if(c(a[b])){this.EB(a[b])}}break}this.circularTrackInfo.push(this.currentRadius)}this.J6()};this.J6=function(){if(this.circularType!="sunburst"&&this.circularType!="chord"&&this.circularType!="bubble"&&this.circularType!="radar"){var f=this.circularArcSectorRange.length-1;var h=this.circularArcSectorDims[f][1]%(Math.PI*2);var j=this.circularArcSectorDims[0][0]%(Math.PI*2);var d=this.circularArcSectorRadius[0];for(var g=0;g<this.circularTrackInfo.length;g++){var c,b;if(g==0){c=Math.max(0,this.r-(this.circularTrackInfo[g]+this.margin));b="Track:"+g+":Drag "+this.circularTrackOrder[g]+" in";this.To({p:["drawShape","arc2",this.cx,this.cy,c,this.r*d,false,"rgba(0,0,0,0)","open",false,0.1,false,false,h,j],i:[b],t:"Axes"})}else{c=Math.max(0,this.circularTrackInfo[g-1]-(this.circularTrackInfo[g]+this.margin));b="Track:"+g+":Drag "+this.circularTrackOrder[g]+" in/out";this.To({p:["drawShape","arc2",this.cx,this.cy,c,this.circularTrackInfo[g-1]*d,false,"rgba(0,0,0,0)","open",false,0.1,false,false,h,j],i:[b],t:"Axes"})}}}};this.vQ=function(){var n=this.rAxisTicksTransparency==1?this.rAxisTicksColor:this.b9(this.rAxisTicksColor,this.rAxisTicksTransparency,false,false,true);var g=this.rAxisTicksWidth;if(!this.showIdeogram&&this.rAxisPercentShow&&(this.rAxisIndices.length>0||(this.circularType=="chord"&&this.chordScaleShow))){this.ru("drawCircularPercentRadialAxis");var z=this.HZ();var l="1px "+this.fontName;this.currentRadius-=(this.circularScalesAlign=="outside"?(this.margin*2):z/2);var d=this.currentRadius-((this.circularScalesAlign=="outside"?(-this.margin*3):0));var c=this.currentRadius-((this.circularScalesAlign=="outside"?(-this.margin*3):0)+this.margin*1);for(var A=0;A<this.circularArcSectorRange.length;A++){var p=this.circularArcSectorRadius[A];var B=this.circularArcSectorDims[A][0];var e=(this.circularArcSectorDims[A][1]-this.circularArcSectorDims[A][0])<0?(this.circularArcSectorDims[A][1]-this.circularArcSectorDims[A][0])+(Math.PI*2):this.circularArcSectorDims[A][1]-this.circularArcSectorDims[A][0];var q=e<0.003?[0.5]:e<0.03?[0,1]:e<0.15?[0,0.5,1]:[0,0.2,0.4,0.6,0.8,1];var f=e<0.003?1:e<0.03?0.2:e<0.15?0.1:0.02;var u=e<0.003?1:e<0.03?1:e<0.15?5:10;for(var w=0;w<q.length;w++){var h=(B+(e*q[w]))%(Math.PI*2);var C=(q[w]*100)+"%";var o=((this.currentRadius*p)*Math.cos(h))+this.cx;var m=((this.currentRadius*p)*Math.sin(h))+this.cy;for(var v=0;v<u;v++){if(q[w]<1||v==0){var s=h+(v*f*e);var b=d*p*Math.cos(s)+this.cx;var t=d*p*Math.sin(s)+this.cy;var a=c*p*Math.cos(s)+this.cx;var r=c*p*Math.sin(s)+this.cy;this.To({p:["drawLine","lineR",b,t,a,r,n,g],b:[this.cx,this.cy],t:"Axes"})}}if(h>=(Math.PI*1.5)||h<=Math.PI/2){this.To({p:["drawText",C,o,m,this.rAxisTextFont,this.rAxisTextColor,this.circularScalesAlign=="outside"?"right":"left","middle",h],b:[this.cx,this.cy,l],t:"Axes"})}else{this.To({p:["drawText",C,o,m,this.rAxisTextFont,this.rAxisTextColor,this.circularScalesAlign=="outside"?"left":"right","middle",h+Math.PI],b:[this.cx,this.cy,l],t:"Axes"})}}}this.currentRadius-=(this.circularScalesAlign=="outside"?z+this.margin:(this.margin*2))}};this.Eg=function(H){var A=this.rAxisTicksTransparency==1?this.rAxisTicksColor:this.b9(this.rAxisTicksColor,this.rAxisTicksTransparency,false,false,true);var X=this.rAxisTicksWidth;if(this.showIdeogram){this.ru("drawCircularRadialAxis");var U=this.circularScalesAlign=="outside";var B=H?0:1;this.currentRadius-=(U?(this.margin*2*B):this.rAxisTextFontSize);var V=this.currentRadius-((U?(-this.margin*3):this.margin)+(this.margin*(U?1:0)));var v=this.currentRadius-((U?(-this.margin*3):this.margin)+(this.margin*(U?2:1)));for(var ab=0;ab<this.circularArcSectorRange.length;ab++){var ae=this.circularArcSectorRadius[ab];var Q=this.circularArcSectorDims[ab][0];var ad=this.circularArcSector[ab].toString();var W=(this.circularArcSectorDims[ab][0]+(this.rAxisUnit*this.circularArcSectorRange[ab]*0.5))%(Math.PI*2);var S=U?0:this.rAxisTextFontSize;this.To({p:["drawArcText",ad,this.cx,this.cy,(this.currentRadius*ae)+S,W-(this.rAxisUnit*this.rAxisTextFontSize/7),this.rAxisUnit*this.rAxisTextFontSize/3.5,this.rAxisTextFont,this.rAxisTextColor,false,false,true],i:["ChrLbl"+ab],t:"Axes"});if(!H){var P=[0,0.2,0.4,0.6,0.8,1];for(var Z=0;Z<P.length;Z++){var R=(Q+((this.circularArcSectorRange[ab]*P[Z])*this.rAxisUnit))%(Math.PI*2);var t=(V*ae*Math.cos(R))+this.cx;var l=(V*ae*Math.sin(R))+this.cy;var p=(v*ae*Math.cos(R))+this.cx;var h=(v*ae*Math.sin(R))+this.cy;this.To({p:["drawLine","lineR",t,l,p,h,A,X],b:[this.cx,this.cy],t:"Axes"})}}}if(H){this.currentRadius-=(U?this.rAxisTextFontSize+this.margin:this.margin)}else{this.currentRadius-=(U?this.rAxisTextFontSize+this.margin:(this.margin*3))}}else{if((this.rAxisShow&&this.rAxisIndices.length>0)||(this.circularType=="chord"&&this.chordScaleShow)){this.ru("drawCircularRadialAxis");if(this.circularType=="radar"&&this.circularArcSectorRange.length==1&&this.circularArcSectorRange[0]==Math.PI*2){var f=this.rAxisUnit;var U=this.circularScalesAlign=="outside";this.currentRadius-=(U?(this.margin*3):this.rAxisTextFontSize);var J=this.circularArcSectorDims[0][0]%(Math.PI*2);var L=this.MC(this.circularArc/8);var E=360/this.circularArc;var g=E*this.currentRadius-this.margin;var n=E*this.currentRadius+this.margin;var aa=[];for(var ab=0;ab<9;ab++){aa.push((J+(ab*L))%(Math.PI*2))}var I=[];for(var ab=0;ab<aa.length;ab++){var u=aa[ab];I.push(45*ab)}for(var Z=0;Z<aa.length;Z++){var z=this.pb(I[Z].toString(),this.rAxisTextFont);var u=aa[Z];var F=U?0:(this.rAxisTextFontSize/2)+this.margin;var M=(g*f*Math.cos(u))+this.cx;var w=(g*f*Math.sin(u))+this.cy;this.To({p:["drawLine","line",M,w,this.cx,this.cy,A,X],b:[this.cx,this.cy],t:"Axes"});if(this.rAxisGridMajorShow){var t=(g*f*Math.cos(u))+this.cx;var l=(g*f*Math.sin(u))+this.cy;var p=(n*f*Math.cos(u))+this.cx;var h=(n*f*Math.sin(u))+this.cy;this.To({p:["drawLine","lineR",t,l,p,h,A,X],b:[this.cx,this.cy],t:"Axes"})}if(I[Z]||this.circularArc!=360){this.To({p:["drawArcText",I[Z],this.cx,this.cy,this.currentRadius+F,u-(f*z/7),f*z/3.5,this.rAxisTextFont,this.rAxisTextColor,false,false,true],i:["RadialSeg:"+ab+":"+Z],t:"Axes"})}}this.currentRadius-=(this.circularScalesAlign=="outside"?this.rAxisTextFontSize+this.margin:(this.margin*4))}else{if(this.rAxisLabelOrientation!="circular"&&this.circularType!="chord"){var f=this.rAxisUnit;var U=this.circularScalesAlign=="outside";this.currentRadius-=(U?(this.margin*3):this.rAxisTextFontSize);var V=this.currentRadius-((U?(-this.margin*3):this.margin)+(this.margin*(U?0:-2)));var d=this.currentRadius-((U?(-this.margin*3):this.margin)+(this.margin*-1));var v=this.currentRadius-((U?(-this.margin*3):this.margin)+(this.margin*(U?-2:0)));var o=this.yAxis.length?true:false;for(var ab=0;ab<this.circularArcSectorRange.length;ab++){var b=this.circularArcSectorRadius[ab];var K=this.circularArcSectorDims[ab][0];var T=(this.circularArcSectorDims[ab][1]-this.circularArcSectorDims[ab][0])<0?(this.circularArcSectorDims[ab][1]-this.circularArcSectorDims[ab][0])+(Math.PI*2):this.circularArcSectorDims[ab][1]-this.circularArcSectorDims[ab][0];var P=this[this.axisAlgorithm](this.circularArcSectorMin[ab],this.circularArcSectorMax[ab],this.rAxisTicks,this.isGraphTime,this.axisWilkinsonLoose);var D=(P[1]-P[0])/this.rAxisTicks;for(var Z=0;Z<P.length;Z++){if(P[Z]<=this.circularArcSectorMax[ab]){var z=this.rAxisTickFormat?this.pb(this.sV(P[Z],"rAxis"),this.rAxisTextFont):this.pb(P[Z].toString(),this.rAxisTextFont);var u=(K+(this.rAxisUnit*P[Z]))%(Math.PI*2);var G=this.rAxisTickFormat?this.sV(P[Z],"rAxis"):P[Z];var F=U?0:(this.rAxisTextFontSize/2)+this.margin;if(this.circularType=="radar"){var M=(V*b*Math.cos(u))+this.cx;var w=(V*b*Math.sin(u))+this.cy;this.To({p:["drawLine","line",M,w,this.cx,this.cy,A,X],b:[this.cx,this.cy],t:"Axes"})}if(this.rAxisGridMajorShow&&(T>0.15||Z==parseInt(P.length/2)||o)){var t=(V*b*Math.cos(u))+this.cx;var l=(V*b*Math.sin(u))+this.cy;var p=(v*b*Math.cos(u))+this.cx;var h=(v*b*Math.sin(u))+this.cy;this.To({p:["drawLine","lineR",t,l,p,h,A,X],b:[this.cx,this.cy],t:"Axes"})}else{if(this.rAxisGridMajorShow&&T>0.003){var t=(d*b*Math.cos(u))+this.cx;var l=(d*b*Math.sin(u))+this.cy;var p=(v*b*Math.cos(u))+this.cx;var h=(v*b*Math.sin(u))+this.cy;this.To({p:["drawLine","lineR",t,l,p,h,A,X],b:[this.cx,this.cy],t:"Axes"})}}if(this.rAxisGridMinorShow&&T>0.03){for(var Y=1;Y<this.rAxisTicks;Y++){if(P[Z]+(D*Y)<this.circularArcSectorMax[ab]){var ac=(K+(this.rAxisUnit*(P[Z]+(D*Y))))%(Math.PI*2);var t=(d*b*Math.cos(ac))+this.cx;var l=(d*b*Math.sin(ac))+this.cy;var p=(v*b*Math.cos(ac))+this.cx;var h=(v*b*Math.sin(ac))+this.cy;this.To({p:["drawLine","lineR",t,l,p,h,A,X],b:[this.cx,this.cy],t:"Axes"})}}}if(T>0.15||Z==parseInt(P.length/2)||o){this.To({p:["drawArcText",G,this.cx,this.cy,(this.currentRadius*b)+F,u-(f*z/7),f*z/3.5,this.rAxisTextFont,this.rAxisTextColor,false,false,true],i:["RadialSeg:"+ab+":"+Z],t:"Axes"})}}}}this.currentRadius-=(this.circularScalesAlign=="outside"?this.rAxisTextFontSize-(this.margin*2):(this.margin*1))}else{var C=this.wR();var U=this.circularScalesAlign=="outside";this.currentRadius-=(U?(this.margin*3):C-this.margin);var V=this.currentRadius-((U?(-this.margin*3):this.margin)+(this.margin*(U?2:0)));var d=this.currentRadius-((U?(-this.margin*3):this.margin)+(this.margin*1));var v=this.currentRadius-((U?(-this.margin*3):this.margin)+(this.margin*(U?0:2)));var e="1px "+this.fontName;for(var ab=0;ab<this.circularArcSectorRange.length;ab++){var b=this.circularArcSectorRadius[ab];var K=this.circularArcSectorDims[ab][0]+(Math.PI*2);var P=this[this.axisAlgorithm](this.circularArcSectorMin[ab],this.circularArcSectorMax[ab],this.rAxisTicks,this.isGraphTime,this.axisWilkinsonLoose);var D=(P[1]-P[0])/this.rAxisTicks;for(var Z=0;Z<P.length;Z++){if(P[Z]<=this.circularArcSectorMax[ab]){var u=(K+(this.rAxisUnit*P[Z]))%(Math.PI*2);var G=this.rAxisTickFormat?this.sV(P[Z],"rAxis"):P[Z];var O=((this.currentRadius*b)*Math.cos(u))+this.cx;var N=((this.currentRadius*b)*Math.sin(u))+this.cy;if(this.rAxisGridMinorShow){for(var Y=0;Y<this.rAxisTicks;Y++){if(P[Z]+(D*Y)<this.circularArcSectorMax[ab]){var ac=(K+(this.rAxisUnit*(P[Z]+(D*Y))))%(Math.PI*2);var t=(d*b*Math.cos(ac))+this.cx;var l=(d*b*Math.sin(ac))+this.cy;var p=(v*b*Math.cos(ac))+this.cx;var h=(v*b*Math.sin(ac))+this.cy;this.To({p:["drawLine","lineR",t,l,p,h,A,X],b:[this.cx,this.cy],t:"Axes"})}}}if(this.rAxisGridMajorShow){var t=(V*b*Math.cos(u))+this.cx;var l=(V*b*Math.sin(u))+this.cy;var p=(v*b*Math.cos(u))+this.cx;var h=(v*b*Math.sin(u))+this.cy;this.To({p:["drawLine","lineR",t,l,p,h,A,X],b:[this.cx,this.cy],t:"Axes"})}if(u>=(Math.PI*1.5)||u<=Math.PI/2){this.To({p:["drawText",G,O,N,this.rAxisTextFont,this.rAxisTextColor,U?"right":"left","middle",u],b:[this.cx,this.cy,e],t:"Axes"})}else{this.To({p:["drawText",G,O,N,this.rAxisTextFont,this.rAxisTextColor,U?"left":"right","middle",u+Math.PI],b:[this.cx,this.cy,e],t:"Axes"})}}}}this.currentRadius-=(this.circularScalesAlign=="outside"?C+this.margin:(this.margin*4))}}}}};this.nA=function(a){if(this.circularArc==360&&this.xAxisShow){var b=(this.circularOverlayThickness-this.overlayTextFontSize)/2;var c=this.currentRadius*this.circularArcSectorRadius[0];this.To({p:["drawArcText",a,this.cx,this.cy,c-b,this.circularEnd,this.circularStart-this.circularEnd,this.overlayTextFont,this.overlayTextColor,false,false,true],t:"Labels"})}};this.aJ=function(){if(this.smpDendrogram&&this.showSmpDendrogram){this.ru("drawCircularDendrogram");this.N8();this.currentRadius-=(this.dendrogramHeight+this.margin)}};this.QB=function(){if(this.showIdeogram){this.ru("drawCircularIdeogram");var k=CanvasXpress.chromosomes[this.ideogram];var g=function(b){switch(b){case"gneg":return"rgb(255,255,255)";case"gpos25":return"rgb(181,181,181)";case"gpos50":return"rgb(128,128,128)";case"gpos75":return"rgb(63,63,63)";case"gpos100":return"rgb(0,0,0)";case"acen":return"rgb(255,0,0)";case"stalk":return"rgb(0,0,255)";case"gvar":return"rgb(0,255,0)";default:return"rgb(255,255,0)"}};var v=this.circularStart%(Math.PI*2);for(var l=0;l<this.circularArcSectorRange.length;l++){var p=this.circularArcSector[l].toString();var d=this.circularArcSectorRange[this.circularArcSectorRangeMap[p]]*this.rAxisUnit;var u=[v,v+d];var a=this.currentRadius*this.circularArcSectorRadius[l];for(var h=0;h<k.data[p].length;h++){var q=k.data[p][h];var o=(q[1]-q[0])*this.rAxisUnit;var m=g(q[3]);this.To({p:["drawShape","arc2",this.cx,this.cy,this.circularOverlayThickness,a,m,m,false,false,this.outlineWidth,false,false,v,v+o],t:"smpOverlays"});v+=o}this.To({p:["drawShape","arc2",this.cx,this.cy,this.circularOverlayThickness,a,false,"black","open",false,this.outlineWidth,false,false,u[0],u[1]],i:["Chr - "+p],t:"smpOverlays"});v+=this.MC(this.circularArcSectorSeparation)}this.nA(this.ideogram);this.currentRadius-=this.circularOverlayThickness+this.margin}};this.y5=function(b,a){if(b.type=="Numeric"){return this.PW(b.colorBrew,a)}else{return b.colors[b.order[a]]}};this.Fp=function(b){for(var a=0;a<this.smpOverlays.length;a++){if(this.smpOverlays[a]==b){return a}}return -1};this.Mp=function(b){for(var a=0;a<this.varOverlays.length;a++){if(this.varOverlays[a]==b){return a}}return -1};this.rD=function(){if(this.segregateSamplesBy.length>0&&this.circularType!="sunburst"&&this.circularType!="bubble"&&!this.showIdeogram){this.ru("drawCircularSampleSegregation");var C=this.v5();var G=this.meta.data;var A=this.circularStart%(Math.PI*2);var M=this.segregateSamplesBy[0];var L=(this.circularOverlayThickness-this.overlayTextFontSize)/2;var D=this.rAxisIndices.length>0&&this.circularArc==360?0.033:0;var I=this.JA(M,this.smpIndices).sort();for(var K=0;K<I.length;K++){var Q=this.circularArcSectorRadius[K];var B=this.currentRadius*Q;var E=I[K];var H=this.E7(B/2,this.pb(E,this.overlayTextFont));var P=this.y5(G.x[M],E);var F=this.rAxisIndices.length>0?this.circularArcSectorRange[this.circularArcSectorRangeMap[E]]:(this.MJ(M,E)).length;var N=this.rAxisUnit*F;var x=this.ID(false,false,"Property:"+M+":"+I[K]+":x");this.To({p:["drawShape","arc2",this.cx,this.cy,this.circularOverlayThickness,B-C,P,P,false,false,this.outlineWidth,false,false,A-D,A+N+D],i:["SmpOvrSgr-"+0+"-"+E],t:"smpOverlays",h:x});if(this.circularOverlayLevelOrientation=="perpendicular"){var v=((A-D)+(N/2))%(Math.PI*2);var y=((B+this.margin-C)*Math.cos(v))+this.cx;var O=((B+this.margin-C)*Math.sin(v))+this.cy;if(v>(Math.PI*1.5)||v<Math.PI/2){this.To({p:["drawText",E,y,O,this.overlayTextFont,this.overlayTextColor,"left","middle",v],i:["SmpOvrSgrLab-"+0+"-"+E],t:"smpOverlays",h:x})}else{this.To({p:["drawText",E,y,O,this.overlayTextFont,this.overlayTextColor,"right","middle",v+Math.PI],i:["SmpOvrSgrLab-"+0+"-"+E],t:"smpOverlays",h:x})}}else{if(E.match(/\n/)){var u=E.split(/\n/);var b=this.circularOverlayThickness/(u.length+2);var f=b*u.length;var w=L-(f/2)+(this.overlayTextFontSize/2);var v=((A-D)+(N/2))%(Math.PI*2);var d=v>Math.PI*0.9;for(var J=0;J<u.length;J++){this.To({p:["drawArcText",u[J],this.cx,this.cy,B-w,A,N,this.overlayTextFont,this.overlayTextColor,false,false,d],i:["SmpOvrSgrLab-"+0+"-"+E],t:"smpOverlays",h:x});w+=b}}else{var v=((A-D)+(N/2))%(Math.PI*2);var d=v>Math.PI*0.9;this.To({p:["drawArcText",E,this.cx,this.cy,B-L,A,N,this.overlayTextFont,this.overlayTextColor,false,false,d],i:["SmpOvrSgrLab-"+0+"-"+E],t:"smpOverlays",h:x})}}A+=N+this.MC(this.circularArcSectorSeparation)}this.nA(M);this.currentRadius-=(this.circularOverlayThickness+C);return true}};this.IB=function(u){if(this.segregateSamplesBy&&this.segregateSamplesBy.length&&u==this.segregateSamplesBy[0]){this.rD()}else{if(this.showOverlays&&this.smpOverlays.length>0&&this.circularType=="chord"){if(!this.rAxisIndices.length&&((this.data.x&&this.data.x[u])||u=="-")){this.ru("drawCircularSampleOverlay");var w=this.meta.data;var p=this.circularStart;var f=this.circularChord;if(u!="-"){for(var z=0;z<f.segments.length;z++){var b=(p+f.segments[z].start);var d=(p+f.segments[z].end);var g=(this.circularOverlayThickness-this.overlayTextFontSize)/2;var B=this.Mk(z,"x",u);var l=this.y5(w.x[u],B);var h=this.ID(false,false,"Property:"+u+":"+B+":x");var t=this.To({p:["drawShape","arc2",this.cx,this.cy,this.circularOverlayThickness,this.currentRadius,l,l,false,false,false,false,false,b,d],i:["SmpOvr-"+f.segments[z].idx+":"+f.segments[z].name+" ("+f.segments[z].value+")"],t:"smpOverlays",h:h});this.To({p:["drawArcText",B,this.cx,this.cy,this.currentRadius-g,b,d-b,this.overlayTextFont,this.vN(l),false,false,true],i:["OvrLbl"+z],g:t,t:"Labels",h:h})}this.nA(u);this.currentRadius-=this.circularOverlayThickness}else{this.currentRadius-=this.margin}}}else{if(this.showOverlays&&this.smpOverlays.length>0&&this.circularType!="sunburst"&&this.circularType!="bubble"&&!this.showIdeogram){if(!this.rAxisIndices.length&&((this.data.x&&this.data.x[u])||u=="-")){this.ru("drawCircularSampleOverlay");var w=this.meta.data;var p=this.circularStart%(Math.PI*2);var A=this.rAxisUnit;var g=(this.circularOverlayThickness-this.overlayTextFontSize)/2;var z=this.Fp(u);if(u!="-"){for(var y=0;y<this.circularArcSectorSampleIndices.length;y++){var D=this.circularArcSectorRadius[y];var q=this.currentRadius*D;for(var x=0;x<this.circularArcSectorSampleIndices[y].length;x++){var n=this.Mk(this.circularArcSectorSampleIndices[y][x],"x",u);var C=this.y5(w.x[u],n);var h=this.ID(false,false,"Property:"+u+":"+n+":x");var t=this.To({p:["drawShape","arc2",this.cx,this.cy,(this.circularOverlayThickness*D),q,C,C,false,false,this.outlineWidth,false,false,p,p+A],i:["SmpOvr-"+this.circularArcSectorSampleIndices[y][x]+"-"+z],t:"smpOverlays",h:h});this.To({p:["drawArcText",n,this.cx,this.cy,this.currentRadius-g,p,A,this.overlayTextFont,this.vN(C),false,false,true],i:["OvrLbl"+this.circularArcSectorSampleIndices[y][x]+"-"+z],g:t,t:"Labels",h:h});console.log("drawCircularSampleOverlay",u,n,p,A);p+=A}p+=this.MC(this.circularArcSectorSeparation)}this.nA(u);this.currentRadius-=this.circularOverlayThickness}else{this.currentRadius-=this.margin}}}}}};this.rb=function(a){if(this.showOverlays&&this.varOverlays.length>0&&this.circularType!="sunburst"&&this.circularType!="chord"&&this.circularType!="bubble"&&this.showIdeogram){if((this.data.z&&this.data.z[a])||a=="-"){this.ru("drawCircularVariableOverlay");var g=this.meta.data;var l=this.currentRadius;var h=this.Mp(a);if(a!="-"){for(var e=0;e<this.circularVariableIndices.length;e++){var n=this.circularVariableIndices[e];var f=this.data.y.vars[n];var k=this.circularVariableData[f].dat[0];var d=this.circularVariableData[f].dat[1];var m=this.circularVariableData[f].seg;var j=this.circularArcSectorRadius[m];var c=this.Mk(this.circularVariableData[f].idx,"z",a);var b=this.y5(g.z[a],c);this.To({p:["drawShape","arc2",this.cx,this.cy,(this.circularOverlayThickness*j),(l*j),b,b,false,false,this.outlineWidth,false,false,k,d],i:["VarOvr-"+this.circularVariableData[f].idx+"-"+h],t:"varOverlays"})}this.nA(a);this.currentRadius-=this.circularOverlayThickness}else{this.currentRadius-=this.margin}}}};this.ji=function(){var b=this.rD();if(!this.rAxisIndices.length){for(var a=0;a<this.smpOverlays.length;a++){var c=this.smpOverlays[a];this.IB(c);b=true}if(this.showIdeogram){for(var a=0;a<this.varOverlays.length;a++){var c=this.varOverlays[a];this.rb(c);b=true}}}this.currentRadius-=(b?this.margin:0)};this.io=function(){if(this.circularType!="sunburst"&&this.circularType!="chord"&&this.circularType!="bubble"){var p=this.guidesShow&&this.guidesLineType=="dotted"?"dottedLineR":"lineR";var d=this.circularLabelsAlign=="outside";var w="1px "+this.fontName;if(this.showSampleNames&&!this.rAxisIndices.length&&!this.showIdeogram){this.ru("drawCircularSampleLabels");var o=this.rAxisUnit;if(this.circularSampleLabelOrientation=="circular"){var z=this.circularStart;for(var m=0;m<this.circularArcSectorSampleIndices.length;m++){var v=this.circularArcSectorRadius[m];var b=this.currentRadius*v;for(var h=0;h<this.circularArcSectorSampleIndices[m].length;h+=this.smpLabelInterval){var f=this.data.y.smps[this.circularArcSectorSampleIndices[m][h]];var q=this.xl(f);this.To({p:["drawArcText",f,this.cx,this.cy,b,z,o,this.smpTextFont,q,false,false,true],i:["Smp-"+this.smpIndices[this.circularArcSectorSampleIndices[m][h]]],t:"Labels"});z+=(o*this.smpLabelInterval)}z+=this.MC(this.circularArcSectorSeparation)}this.currentRadius-=this.smpTextFontSize+this.margin}else{var z=this.circularStart+(o/2);var n=this.wB();this.currentRadius-=(d?0:n-this.margin);for(var m=0;m<this.circularArcSectorSampleIndices.length;m++){var v=this.currentRadius*this.circularArcSectorRadius[m];for(var h=0;h<this.circularArcSectorSampleIndices[m].length;h+=this.smpLabelInterval){var g=this.circularArcSectorSampleIndices[m][h];var f=this.data.y.smps[g].length>this.maxTextSize?this.data.y.smps[g].substring(0,this.maxTextSize-3)+"...":this.data.y.smps[g];var q=this.xl(this.data.y.smps[g]);var b=z%(Math.PI*2);var u=(v*Math.cos(z))+this.cx;var t=(v*Math.sin(z))+this.cy;if(b>(Math.PI*1.5)||b<Math.PI/2){this.To({p:["drawText",f,u,t,this.smpTextFont,q,d?"right":"left","middle",z],i:["Smp-"+g],b:[this.cx,this.cy,w],t:"Labels"})}else{this.To({p:["drawText",f,u,t,this.smpTextFont,q,d?"left":"right","middle",z+Math.PI],i:["Smp-"+g],b:[this.cx,this.cy,w],t:"Labels"})}if(this.guidesShow||this.circularType=="radar"){var u=((v-this.circularOverlayThickness)*Math.cos(z))+this.cx;var t=((v-this.circularOverlayThickness)*Math.sin(z))+this.cy;this.To({p:["drawLine",p,this.cx,this.cy,u,t,this.guidesColor,this.guidesWidth+0.7,"butt"],b:[this.cx,this.cy],t:"Labels"})}z+=(o*this.smpLabelInterval)}z+=this.MC(this.circularArcSectorSeparation)}this.currentRadius-=(d?n:this.margin)}}else{if(this.showSampleNames&&this.rAxisIndices.length>0&&!this.showIdeogram&&!this.yAxis.length){this.Ii()}}}};this.Vq=function(){if(this.showIdeogram&&this.showVariableNames){this.Ii(true)}};this.Ii=function(c){this.ru("drawCircularLabels");var t=this.rAxisTicksTransparency==1?this.rAxisTicksColor:this.b9(this.rAxisTicksColor,this.rAxisTicksTransparency,false,false,true);var n=this.rAxisTicksWidth;var l=this.circularLabelsAlign=="outside";var F=c?this.ol():this.wB();var q="1px "+this.fontName;this.currentRadius-=(l?this.circularAnchorLength:F-(this.margin*2))+this.margin;var r=c?this.data.y.vars:this.data.y.smps;var G=c?0:this.rAxisUnit/2;var I=c?this.circularVariableData:this.circularSampleData;var H=c?this.varTextFont:this.smpTextFont;var A=1/this.maxRadiusFactor;for(var D=0;D<r.length;D++){var x=r[D];if(I[x]){var L=I[x].idx;var o=I[x].raw+G;var j=I[x].mod+G;var w=I[x].seg;var v=this.circularArcSectorRadius[w];var s=this.currentRadius*v;var O=l?this.circularAnchorLength+this.margin:-this.circularAnchorLength;var E=((s+O)*Math.cos(o))+this.cx;var g=((s+O)*Math.sin(o))+this.cy;var N=l?this.circularAnchorLength+(this.margin/2):(this.margin/2)-this.circularAnchorLength;var C=((s+N)*Math.cos(o))+this.cx;var e=((s+N)*Math.sin(o))+this.cy;if(!isNaN(j)){var M=l?this.margin:-this.margin;var K=l?(this.margin/2):(-this.margin/2);var B=((s+M)*Math.cos(j))+this.cx;var b=((s+M)*Math.sin(j))+this.cy;var z=((s+K)*Math.cos(j))+this.cx;var a=((s+K)*Math.sin(j))+this.cy;this.To({p:["drawLine","lineR",E,g,C,e,t,n],b:[this.cx,this.cy],t:"Labels"});this.To({p:["drawLine","lineR",C,e,B,b,t,n],b:[this.cx,this.cy],t:"Labels"});this.To({p:["drawLine","lineR",B,b,z,a,t,n],b:[this.cx,this.cy],t:"Labels"});var p=c?this.xy(x):this.xl(x);var u=(s*Math.cos(j))+this.cx;var J=(s*Math.sin(j))+this.cy;var m=this.UW(H,v!=1?A:1);if(j>(Math.PI*1.5)||j<Math.PI/2){this.To({p:["drawText",x,u,J,m,p,l?"right":"left","middle",j],i:[(c?"Var-":"Smp-")+L],b:[this.cx,this.cy,q],t:"Labels"})}else{this.To({p:["drawText",x,u,J,m,p,l?"left":"right","middle",j+Math.PI],i:[(c?"Var-":"Smp-")+L],b:[this.cx,this.cy,q],t:"Labels"})}}else{this.To({p:["drawLine","lineR",E,g,C,e,t,n],b:[this.cx,this.cy],t:"Labels"})}}}this.currentRadius-=(l?F-this.margin:this.circularAnchorLength)+this.margin};this.J2=function(z){if((this.showIdeogram&&this.showVariableNames)||(!this.showIdeogram&&this.showSampleNames&&this.rAxisIndices.length>0&&!this.yAxis.length)){this.ru("drawCircularAnchors");var j=this.showIdeogram&&this.showVariableNames?true:false;var g=j?this.data.y.vars:this.data.y.smps;var s=j?0:this.rAxisUnit/2;var v=j?this.circularVariableData:this.circularSampleData;var m=z=="anchors2"?this.circularAnchorsAlign=="outside":this.circularAnchorsAlign=="inside";for(var r=0;r<g.length;r++){var n=g[r];if(v[n]){var w=v[n].idx;var f=v[n].raw+s;var e=z=="anchors2"?v[n].raw:v[n].mod+s;var u=this.rAxisIndices.length>0?v[n].dat[0]:v[n].dat[2];var l=v[n].seg;var k=this.currentRadius*this.circularArcSectorRadius[l];if(!isNaN(e)){var t=(k*Math.cos(m?e:u))+this.cx;var c=(k*Math.sin(m?e:u))+this.cy;var q=((k-this.circularAnchorLength)*Math.cos(m?u:e))+this.cx;var b=((k-this.circularAnchorLength)*Math.sin(m?u:e))+this.cy;this.To({p:["drawLine","beziery",t,c,q,b,this.circularAnchorColor,this.outlineWidth],b:[this.cx,this.cy],t:"Anchors"})}else{var o=((k-this.circularAnchorLength)*Math.cos(m?u:e))+this.cx;var a=((k-this.circularAnchorLength)*Math.sin(m?u:e))+this.cy;this.To({p:["drawShape","sphere",o,a,1,1,this.circularAnchorColor,this.circularAnchorColor],b:[this.cx,this.cy],t:"Anchors"})}}}this.currentRadius-=(this.circularAnchorLength+this.margin)}};this.Nj=function(){for(var b=0;b<this.circularTrackNumber;b++){if(this.rAxisIndices.length>0&&b==this.rAxisIndices[0]){continue}if(!this.showIdeogram){if(this.circularTracksVarIndices[b].length<1){continue}}else{if(this.circularTracksSmpIndices[b].length<1){continue}}if(this.Nv(this.circularTrackMap).length>0){for(var a in this.circularTrackMap){if(this.circularTrackMap[a]==b){this.EB(a);break}}}else{this.EB()}}};this.EB=function(d){var b=this.varIndices;var c=this.smpIndices;var e=d?this.circularTrackMap[d]:0;if(!this.showIdeogram){if(this.circularTracksVarIndices[e].length<1){return}}else{if(this.circularTracksSmpIndices[e].length<1){return}}var a=this.circularTrackLength[e];var f=this.circularTrackGraphType[e];if(!this.showIdeogram){this.FE(this.circularTracksVarIndices[e])}else{this.tM(this.circularTracksSmpIndices[e])}if(this.circularType!="chord"){this.DT(false,true,f=="stacked")}this.xAxisUnit=a/this.xAxisRange;if(this.yAxis.length){this.yAxisUnit=a/this.yAxisRange}this.KQ(a,f,e);this.Cn(a,f);this.NR();this.currentRadius-=(a+this.circularTrackSeparation);if(!this.showIdeogram){this.FE(b)}else{this.tM(c)}this.varIndices=b;this.smpIndices=c};this.yE=function(){var b=[];for(var a=0;a<this.xAxisValues.length;a++){var c=parseFloat(this.xAxisValues[a]);if(c>=this.xAxisMin&&c<=this.xAxisMax){b.push(c)}}return b};this.tf=function(){var b=[];for(var a=0;a<this.yAxisValues.length;a++){var c=parseFloat(this.yAxisValues[a]);if(c>=this.yAxisMin&&c<=this.yAxisMax){b.push(c)}}return b};this.KQ=function(J,H,b){if(this.circularType!="sunburst"&&this.circularType!="chord"&&this.circularType!="bubble"){var K=Math.min(this.width,this.height)*(1-this.percentAspectRatioPlotArea);var F=this.circularArc==360?this.circularArcSectorNumber-1:this.circularType=="radar"||this.circularType=="sunburst"?0:1;var I=this.circularArcSectorDims[0][0]%(Math.PI*2);var D=this.circularArcSectorDims[F][1]%(Math.PI*2);var L=this.currentRadius;var E=this.circularArcSectorRadius[0];var C=this.rAxisTextFontSize/(this.circularType=="radar"?1:2);var B=K<500?this.rAxisTextFont.replace(this.rAxisTextFontSize,C):this.rAxisTextFont;if(H=="heatmap"&&!this.rAxisIndices.length){var o=this.showIdeogram?this.smpIndices:this.varIndices;var u=J/o.length;var M="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");for(var G=0;G<o.length;G++){var v=this.colors[o[G]%this.colors.length];var s=I-D;while(s<0){s+=Math.PI*2}if(I>D){s=-s}L-=u;this.To({p:["drawArcText",M[G],this.cx,this.cy,(L*E)+(u/2)+C,I,s,this.rAxisTextFont,v,false,false,true],i:["AxisVal:"+b+":"+G],t:"Axes"})}}else{if(this.circularType!="sunburst"&&this.circularType!="chord"&&this.circularType!="bubble"){var A=this.rAxisIndices.length>0&&this.circularArc==360?0.033:0;var t=H=="scatter"?this.tf():this.yE();for(var G=0;G<t.length;G++){var g=H=="scatter"?L-((this.yAxisMax-t[G])*this.yAxisUnit):L-((this.xAxisMax-t[G])*this.xAxisUnit);for(var F=0;F<this.circularArcSectorNumber;F++){var M=this.circularArcSectorRadius[F];if(F==0){if(this.circularArc==360||this.circularType=="normal"){var J=I-D;while(J<0){J+=Math.PI*2}this.To({p:["drawArcText",t[G],this.cx,this.cy,(g*E)+C,D,J,B,this.rAxisTextColor,false,false,true],i:["AxisVal:"+b+":"+G],t:"Axes"})}else{var J=this.circularArcSectorDims[0][1]-this.circularArcSectorDims[0][0];while(J<0){J+=Math.PI*2}this.To({p:["drawArcText",t[G],this.cx,this.cy,(g*E)+C,I,J,B,this.rAxisTextColor,false,false,true],i:["AxisVal:"+b+":"+G],t:"Axes"})}}if(G!=0&&G!=t.length-1&&this.rAxisGridMajorShow){if(this.circularArc==360&&this.circularType!="normal"){var N=(this.rAxisGridMajorLineType=="line"||this.rAxisGridMajorLineType=="solid")?"circle":this.rAxisGridMajorLineType+"Circle";this.To({p:["drawShape",N,this.cx,this.cy,g*M*2,g*M*2,false,this.rAxisGridMajorColor,"open",false,this.rAxisGridMajorWidth],t:"Axes"})}else{var N=(this.rAxisGridMajorLineType=="line"||this.rAxisGridMajorLineType=="solid")?"arc":this.rAxisGridMajorLineType+"Arc";this.To({p:["drawLine",N,this.cx,this.cy,g*M,g*M,this.rAxisGridMajorColor,this.rAxisGridMajorWidth,false,this.circularArcSectorDims[F][0]-A,this.circularArcSectorDims[F][1]+A],t:"Axes"})}}}}}}}};this.NR=function(){if(this.circularType!="sunburst"&&this.circularType!="chord"&&this.circularType!="bubble"){if(this.circularType=="radar"&&this.circularArc==360){var i=this.currentRadius*2;this.To({p:["drawShape","circle",this.cx,this.cy,i,i,false,this.foreground,"open",false,this.oulineWidth],t:"Axes"})}else{var k=this.currentRadius;var b=this.rAxisIndices.length>0&&this.circularArc==360?0.033:0;var o=this.yE();var n=k-((this.xAxisMax-o[0])*this.xAxisUnit);var m=k-((this.xAxisMax-o[o.length-1])*this.xAxisUnit);var f=m-n;for(var g=0;g<this.circularArcSectorNumber;g++){var q=this.circularArcSectorDims[g][0]-b;var h=this.circularArcSectorDims[g][1]+b;var l=this.circularArcSectorRadius[g];this.To({p:["drawShape","arc2",this.cx,this.cy,f*l,k*l,false,this.foreground,"open",false,this.oulineWidth,false,false,q,h],t:"Axes"})}}}};this.bc=function(){this.ru("drawCircularSunburst");var e=this;var a=this.circularTrackLength[0];var c=function(q,s){if(q.children){var m=0.002;for(var o=0;o<q.children.length;o++){var g=q.children[o];var h=g.depth*d;var t=g.value*e.rAxisUnit;var w,i,n,k,r,l,p,v,u;if((e.hierarchy.length==0||g.depth<e.hierarchy.length)&&g.name){if(m>=0.002){n=e.pb(g.name,e.smpTextFont)+(e.margin*2);k=t*((e.currentRadius-a)+h+f);w=e.SS(g.color);r=e.V4(w);p=e.ID(false,g.idx[0]);i=e.To({p:["drawShape","arc2",e.cx,e.cy,d,(e.currentRadius-a)+h+d,w,r,false,false,false,false,false,s,s+t],i:["Sunburst:"+g.tooltip,g.idx],t:"Data",h:p});if(k>n){if(d>e.smpTextFontSize){e.To({p:["drawArcText",g.name,e.cx,e.cy,(e.currentRadius-a)+h+f,s,t,e.smpTextFont,e.smpTextColor,false,false,true],i:["SunburstLabel:"+g.tooltip,g.idx],g:i,t:"Labels",h:p})}}else{if(d>n){if(k>e.smpTextFontSize){l=(s+(t/2))%(Math.PI*2);v=(((e.currentRadius-a)+h+f-(n/2))*Math.cos(l))+e.cx;u=(((e.currentRadius-a)+h+f-(n/2))*Math.sin(l))+e.cy;if(l>(Math.PI*1.5)||l<Math.PI/2){e.To({p:["drawText",g.name,v,u,e.smpTextFont,e.smpTextColor,"center","middle",l],i:["SunburstLabel:"+g.tooltip,g.idx],g:i,b:[e.cx,e.cy],t:"Labels",h:p})}else{e.To({p:["drawText",g.name,v,u,e.smpTextFont,e.smpTextColor,"center","middle",l+Math.PI],i:["SunburstLabel:"+g.tooltip,g.idx],g:i,b:[e.cx,e.cy],t:"Labels",h:p})}}}}m=0}if(g.children){c(g,s)}s+=t;m+=t}}}};var b=this.circularStart;var d=a/Math.max(this.hierarchy.length,1);var f=(d+this.smpTextFontSize)/2;c(this.circularSunburst[0],b)};this.pW=function(){this.ru("drawCircularChord");var o=this.circularStart;var j=this.circularChord;var k=(this.chordThickness-this.smpTextFontSize)/2;var r=[];for(var v=0;v<j.segments.length;v++){j.segments[v].ribbons={};var b=(o+j.segments[v].start);var d=(o+j.segments[v].end);var m=j.segments[v].color;var n=j.segments[v].name;var p=this.To({p:["drawShape","arc2",this.cx,this.cy,this.chordThickness,this.currentRadius,this.SS(m),this.V4(m),false,false,false,false,false,b,d],i:["Chord:"+j.segments[v].idx+":"+j.segments[v].name+" ("+j.segments[v].value+")",[j.segments[v].idx]],t:"Data",h:this.ID(j.segments[v].idx)});j.segments[v].ribbons[p]=true;if(this.showSampleNames){p=this.To({p:["drawArcText",n,this.cx,this.cy,this.currentRadius-k,b,d-b,this.smpTextFont,this.smpTextColor,false,false,true],i:["ChordLbl"+v],g:p,t:"Labels",h:this.ID(j.segments[v].idx)});j.segments[v].ribbons[p]=true}}this.currentRadius-=this.chordThickness;for(var v=0;v<j.chords.length;v++){var q=(o+j.chords[v].source.start);var y=(o+j.chords[v].source.end);var c=(o+j.chords[v].target.start);var l=(o+j.chords[v].target.end);var x=this.cx+(this.currentRadius*Math.cos(q));var h=this.cy+(this.currentRadius*Math.sin(q));var w=this.cx+(this.currentRadius*Math.cos(l));var g=this.cy+(this.currentRadius*Math.sin(l));var u=this.cx+(this.currentRadius*Math.cos(c));var f=this.cy+(this.currentRadius*Math.sin(c));var t=this.cx+(this.currentRadius*Math.cos(y));var e=this.cy+(this.currentRadius*Math.sin(y));var m;switch(this.chordColor){case"source":case"target":m=j.chords[v][this.chordColor].color;break;case"smallest":m=j.chords[v].source.value>j.chords[v].target.value?j.chords[v].source.color:j.chords[v].target.color;break;case"largest":m=j.chords[v].source.value<j.chords[v].target.value?j.chords[v].source.color:j.chords[v].target.color;break}var a=["Connect:"+j.segments[j.chords[v].source.idx].name+" ("+j.segments[j.chords[v].source.idx].value+") -- "+j.segments[j.chords[v].target.idx].name+" ("+j.segments[j.chords[v].target.idx].value+")",[j.chords[v].source.idx,j.chords[v].target.idx]];var p=this.To({p:["drawShape","arch",[x,this.cx,w,u,this.cx,t],[h,this.cy,g,f,this.cy,e],[q,y,c,l],[this.currentRadius,this.currentRadius],this.b9(m,0.67,true),this.b9(this.foreground,0.33,true)],i:a,t:"Data",h:this.ID(j.chords[v].source.idx)||this.ID(j.chords[v].target.idx)});j.segments[j.chords[v].source.idx].ribbons[p]=true;j.segments[j.chords[v].target.idx].ribbons[p]=true}};this.Q3=function(){var K=this;var A=function(){var b={};for(var a in K.hiddenLegends){if(K.hiddenLegends[a]){b[a.split(":")[2]]=true}}return b};var J=function(c,d,a){var i=K.hierarchy[0];if(d==0){return c[i].colors[c[i].order[a.data.name]]}else{return K.bubbleOutlineColor}};this.ru("drawCircularBubble");var S=Math.max(this.top,this.right);var M=this.data.bubble.plot.diameter/2;var ab=this.marginLeft+this.marginRight+this.left+this.x-this.right;var Z=this.marginTop+this.marginBottom+this.bottom+this.y-this.top;var t=(ab>Z?this.marginLeft+this.left+((this.x-this.y)/2):this.marginLeft+this.left)+this.panningX;var n=(Z>ab?this.marginTop+this.top+((this.y-this.x))/2:this.marginTop+this.top)+this.panningY;var N=[];if(this.hierarchy.length>1){var e=this.data.bubble.root;var f=this.Y1(e.x,e.y,M,M,this.MC(this.circularRotate));this.To({p:["drawShape","circle",(t+f[0])*this.zoom,(n+f[1])*this.zoom,e.r*2*this.zoom,e.r*2*this.zoom,this.b9(this.bubbleColor,0.33,true),this.bubbleOutlineColor],b:[this.cx,this.cy,0,0],t:"Data"});var Q=A();var D=e.children;var X=this.meta.data.x;var ae;var F={};for(var ad=0;ad<D.length;ad++){var L=D[ad].descendants();if(this.colorBy==this.hierarchy[0]){ae=Q.hasOwnProperty(D[ad].data.name)}else{if(this.colorBy==this.hierarchy[1]&&this.hierarchy.length>=2){for(var ac=0;ac<L.length;ac++){var ai=L[ac];if(ai.depth==2&&Q.hasOwnProperty(ai.data.name)){var R=ai.descendants();for(var aa=0;aa<R.length;aa++){F[R[aa].id.toString()]=true}break}else{if(ai.depth>2){break}}}}}for(var ac=0;ac<L.length;ac++){var ai=L[ac];if(ai.children){var V=this.Y1(ai.x,ai.y,M,M,this.MC(this.circularRotate));var P=(t+V[0])*this.zoom;var O=(n+V[1])*this.zoom;var af=ai.r*2*this.zoom;var U=["Bubble"+(ai.data.idx||-ac)+":"+(ai.data.name||ai.parent.data.name)+":"+ai.value];var ah=this.colorBy&&X&&X.hasOwnProperty(this.colorBy)&&X[this.colorBy].order.hasOwnProperty(ai.data.name)?X[this.colorBy].colors[X[this.colorBy].order[ai.data.name]]:ai.parent&&ai.parent.color?ai.parent.color:this.bubbleColor;var aj=J(X,ac,ai);if(!ai.label){ai.label={x:0,y:0}}var T=this.bubbleLabel=="auto"?-(ai.r+(this.smpTextFontSize*0.35)):0;switch(this.bubbleLabelPosition){case"top":T=-(ai.r+(this.smpTextFontSize*0.35));break;case"bottom":T=(ai.r+(this.smpTextFontSize*0.5));break}var ag=this.To({p:["drawShape","circle",P,O,af,af,ai.depth==this.hierarchy.length?ah:this.b9(ah,0.33,true),aj],i:U,h:ae||F.hasOwnProperty(ai.id),b:[this.cx,this.cy,0,0],t:"Data"});if(ai.depth>0){var W={p:["drawText",(ai.data.name||ai.parent.data.name),P+ai.label.x,(O+T)+ai.label.y,this.smpTextFont,this.smpTextColor,"center","middle"],i:[U[0]+":Label"],h:ae||F.hasOwnProperty(ai.id),b:[this.cx,this.cy,0,0],t:"Labels"};var Y=false;if(ai.label.x||ai.label.y){var w;if(ai.label.y<0){w=ai.label.x>0?-Math.PI/2:Math.PI/2}else{w=ai.label.x>0?Math.PI/2:-Math.PI/2}var H=(this.pb((ai.data.name||ai.parent.data.name),this.smpTextFont)/2)+this.margin;var I=(this.smpTextFontSize/2);var C=P+ai.label.x;var B=(O+T)+ai.label.y;var G=this.C3("line",[C,B,P,O],[C-H,B-I,C+H,B+I]);var v=this.mm(G[2],G[3],P,O,0,af/1.9,"line");var u=[(v[0]+v[2])*0.5,(v[1]+v[3])*0.5];var g=Math.atan2(v[3]-v[1],v[2]-v[0])+w;var E=[u[0]+30*Math.cos(g),u[1]+30*Math.sin(g)];if(this.bubbleLabelLineType=="line"){Y={p:["drawLine","line",v[0],v[1],v[2],v[3],this.smpTextColor,1,false,false,false,false,false,false,false,"arrow"],h:ae||F.hasOwnProperty(ai.id),t:"Labels"}}else{Y={p:["drawLine","arch",[v[0],E[0],v[2]],[v[1],E[1],v[3]],false,false,this.smpTextColor,1,false,false,false,false,false,false,false,"arrow"],h:ae||F.hasOwnProperty(ai.id),t:"Labels"}}}switch(this.bubbleLabel){case"auto":if(this.pb((ai.data.name||ai.parent.data.name),this.smpTextFont)<af){if(ai.depth==this.hierarchy.length){N.push({p:["drawText",(ai.data.name||ai.parent.data.name),P+ai.label.x,O+ai.label.y,this.smpTextFont,this.smpTextColor,"center","middle"],i:[U[0]+":Label"],h:ae||F.hasOwnProperty(ai.id),b:[this.cx,this.cy,0,0],t:"Labels"})}else{N.push(W)}}break;case"first":if(ai.depth==1){N.push(W)}else{if(ai.depth==this.hierarchy.length){if(this.pb((ai.data.name||ai.parent.data.name),this.smpTextFont)<af){N.push({p:["drawText",(ai.data.name||ai.parent.data.name),P+ai.label.x,O+ai.label.y,this.smpTextFont,this.smpTextColor,"center","middle"],i:[U[0]+":Label"],h:ae||F.hasOwnProperty(ai.id),b:[this.cx,this.cy,0,0],t:"Labels"})}}}break;case"last":if(ai.depth==this.hierarchy.length){N.push(W)}break;case"all":N.push(W);break;case"none":break}if(Y){N.push(Y)}}ai.color=ah}}}for(var ad=0;ad<N.length;ad++){this.To(N[ad])}}else{var L=this.data.bubble.plot.descendants();for(var ad=0;ad<L.length;ad++){var ai=L[ad];if(!ai.children){var V=this.Y1(ai.x,ai.y,M,M,this.MC(this.circularRotate));var P=(t+V[0])*this.zoom;var O=(n+V[1])*this.zoom;var af=ai.r*2*this.zoom;var U=["Bubble"+(ai.data.idx||-ad)+":"+ai.data.name+":"+ai.value];var ah=this.colorBy?this.wn(this.xAxis[0],ai.data.idx,"colorBy"):this.colors[ad%this.colors.length];var ag=this.To({p:["drawShape","circle",P,O,af,af,this.SS(ah),this.V4(ah)],i:U,b:[this.cx,this.cy,0,0],t:"Data"});U[0]+=":Label";if(this.pb(ai.data.name,this.smpTextFont)<af){this.To({p:["drawText",ai.data.name,P,O,this.smpTextFont,this.smpTextColor,"center","middle"],i:U,g:ag,b:[this.cx,this.cy,0,0],t:"Labels"})}}}}};this.Cn=function(u,X,h){this.ru("drawCircularOtherData");var K=this;var e=function(){var j=f.length;var a=K.margin;return j>=200?a/1.6:j>=100?a/1.2:j>=50?a*1:j>=25?a*1.2:a*1.4};var L=function(k,a){return K.showIdeogram?K.Cb(k,a,false,K.rAxisTransform,K.rAxisFloorValue,K.rAxisCeilValue,K.rAxisFactorValue):K.Cb(a,k,false,K.rAxisTransform,K.rAxisFloorValue,K.rAxisCeilValue,K.rAxisFactorValue)};var C=function(k,a){return K.showIdeogram?[k,a]:[a,k]};var q=this.currentRadius;var p=this.showIdeogram?this.circularVariableData:this.circularSampleData;var o=this.showIdeogram?this.circularVariableIndices:this.circularSampleIndices;var f=this.showIdeogram?this.data.y.vars:this.data.y.smps;var d=this.showIdeogram?this.data.y.smps:this.data.y.vars;var T=this.showIdeogram?this.smpIndices:this.varIndices;var Q=this.showIdeogram?this.varIndices:this.smpIndices;var I=this.l4(Q);switch(X){case"bar":var z=this.xAxisMin<0?Math.abs(this.xAxisMin)*this.xAxisUnit:0;for(var W=0;W<o.length;W++){var G=o[W];if(I.hasOwnProperty(G)){var S=f[G];var F=p[S].dat[0];var s=(p[S].dat[1]-p[S].dat[0])/T.length;var Y=p[S].seg;var c=this.circularArcSectorRadius[Y];for(var V=0;V<T.length;V++){var r=T[V];var A=(L(G,r)-this.xAxisMin)*this.xAxisUnit*c;var P=this.colors[r%this.colors.length];var n=this.b9(P,0.67,true);var g=((this.currentRadius+z+1)*c)-((u*c)-A);var t=F+s;if(A<0){this.To({p:["drawShape","arc2",this.cx,this.cy,-A,g-A,n,P,false,false,false,false,false,F,t],i:C(G,r),t:"Data",h:this.ID(r,G)})}else{this.To({p:["drawShape","arc2",this.cx,this.cy,A,g,n,P,false,false,false,false,false,F,t],i:C(G,r),t:"Data",h:this.ID(r,G)})}F+=s}}}break;case"dot":var b=e();for(var W=0;W<o.length;W++){var G=o[W];if(I.hasOwnProperty(G)){var S=f[G];var B=this.rAxisIndices.length>0?p[S].dat[0]:p[S].dat[2];var Y=p[S].seg;var c=this.circularArcSectorRadius[Y];for(var V=0;V<T.length;V++){var r=T[V];var A=(this.xAxisMax-L(G,r))*(this.xAxisUnit*c);var P=this.colors[r%this.colors.length];var n=this.b9(P,0.67,true);var N=this.cx+((q*c)-A)*Math.cos(B);var M=this.cy+((q*c)-A)*Math.sin(B);this.To({p:["drawShape","circle",N,M,b,b,n,P],i:C(G,r),b:[this.cx,this.cy],t:"Data",h:this.ID(r,G)})}}}break;case"scatter":var b=e();for(var W=0;W<o.length;W++){var G=o[W];if(I.hasOwnProperty(G)){var S=f[G];var B=p[S].dat[3];var Y=p[S].seg;var c=this.circularArcSectorRadius[Y];for(var V=0;V<T.length;V++){var r=this.tU(this.yAxis[0]);var A=(this.yAxisMax-L(G,r))*(this.yAxisUnit*c);var P=this.colorBy?this.wn(r,G,"colorBy"):this.colors[(r-1)%this.colors.length];var n=this.b9(P,0.67,true);var l=this.sizeBy?this.wn(r,G,"sizeBy"):b;var N=this.cx+((q*c)-A)*Math.cos(B);var M=this.cy+((q*c)-A)*Math.sin(B);this.To({p:["drawShape","circle",N,M,l,l,n,P],i:C(G,r),b:[this.cx,this.cy],t:"Data",h:this.ID(r,G)})}}}break;case"heatmap":var g=u/T.length;for(var W=0;W<o.length;W++){var G=o[W];if(I.hasOwnProperty(G)){var S=f[G];var F=p[S].dat[0];var t=p[S].dat[1];var Y=p[S].seg;var c=this.circularArcSectorRadius[Y];var m=0;for(var V=0;V<T.length;V++){var r=T[V];var A=L(G,r);var n=!isNaN(A)?this.PW(false,A):this.missingDataColor;var P=this.b9(n,0.67,true);this.To({p:["drawShape","arc2",this.cx,this.cy,(g*c),((q*c)-m),n,P,false,false,false,false,false,F,t],i:C(G,r),t:"Data",h:this.ID(r,G)});m+=(g*c)}}}break;case"stacked":for(var W=0;W<o.length;W++){var G=o[W];if(I.hasOwnProperty(G)){var S=f[G];var F=p[S].dat[0];var t=p[S].dat[1];var Y=p[S].seg;var c=this.circularArcSectorRadius[Y];var m=0;for(var V=0;V<T.length;V++){var r=T[V];var A=L(G,r);var P=this.colors[r%this.colors.length];var n=this.b9(P,0.67,true);var g=A*this.xAxisUnit*c;this.To({p:["drawShape","arc2",this.cx,this.cy,g,((q-u)*c)+(g+m)+1,n,P,false,false,false,false,false,F,t],i:C(G,r),t:"Data",h:this.ID(r,G)});m+=g}}}break;case"area":case"line":var R=[];var w=(q-u)+2;var b=e();for(var V=0;V<T.length;V++){R[V]={x:[],y:[],c:this.foreground,a:[],s:[],m:[],w:[],l:[]};var r=T[V];var n=this.colors[r%this.colors.length];for(var W=0;W<o.length;W++){var G=o[W];if(I.hasOwnProperty(G)){var S=f[G];var B=this.rAxisIndices.length>0?p[S].dat[0]:p[S].dat[2];var Y=p[S].seg;var c=this.circularArcSectorRadius[Y];var A=(this.xAxisMax-L(G,r))*(this.xAxisUnit*c);R[V].x.push(this.cx+((q*c)-A)*Math.cos(B));R[V].y.push(this.cy+((q*c)-A)*Math.sin(B));R[V].c=n;R[V].a.push(C(G,r));R[V].s.push(p[S].seg);R[V].m.push(B);R[V].w.push(c);R[V].l.push(d[Q[r]]);if(X=="line"){var O=R[V].l.length-1;this.To({p:["drawShape","circle",R[V].x[O],R[V].y[O],b,b,n,n],i:C(G,r),b:[this.cx,this.cy],t:"Data",h:this.ID(r,G)})}}}}if(X=="line"){for(var V=0;V<T.length;V++){var J=null;var Z=R[V];var v=Z.s[0];for(var U=1;U<R[V].x.length;U++){if(Z.s[U]==v){var H=this.To({p:["drawLine","line",Z.x[U-1],Z.y[U-1],Z.x[U],Z.y[U],Z.c],i:["Line:"+Z.l[U]+":"+T[V]],g:J,b:[this.cx,this.cy,this.cx,this.cy],t:"Data",h:this.ID(T[V],Z.l[U])});if(U==R[V].x.length-1&&this.circularArc==360&&!this.segregateSamplesBy.length){this.To({p:["drawLine","line",Z.x[U],Z.y[U],Z.x[0],Z.y[0],Z.c],i:["Line:"+Z.l[0]+":"+T[V]],g:J,b:[this.cx,this.cy,this.cx,this.cy],t:"Data",h:this.ID(T[V],Z.l[0])})}}else{J=null}v=Z.s[U];if(!J){J=H}}}}else{if(X=="area"){for(var V=0;V<T.length;V++){var Z=R[V];var v=Z.s[0];var D=[[],[]];var E=[[],[]];var N,M;for(var U=0;U<R[V].x.length;U++){if(Z.s[U]==v){N=this.cx+(w*Z.w[U])*Math.cos(Z.m[U]);M=this.cy+(w*Z.w[U])*Math.sin(Z.m[U]);E[0].unshift(N);E[1].unshift(M);D[0].push(Z.x[U]);D[1].push(Z.y[U])}else{if(this.circularArc!=360||this.segregateSamplesBy.length){while(E[0].length>0){D[0].push(E[0].shift());D[1].push(E[1].shift())}}this.To({p:["drawShape","path",D[0],D[1],false,false,this.b9(Z.c,0.25,true),Z.c],i:["Area:"+Z.l[U]+":"+T[V]],b:[this.cx,this.cy],t:"Data",h:this.ID(T[V],Z.l[U])});v=Z.s[U];N=this.cx+(w*Z.w[U])*Math.cos(Z.m[U]);M=this.cy+(w*Z.w[U])*Math.sin(Z.m[U]);E[0].unshift(N);E[1].unshift(M);D=[[],[]];D[0].push(Z.x[U]);D[1].push(Z.y[U])}}if(this.circularArc!=360||this.segregateSamplesBy.length){while(E[0].length>0){D[0].push(E[0].shift());D[1].push(E[1].shift())}}this.To({p:["drawShape","path",D[0],D[1],false,false,this.b9(Z.c,0.25,true),Z.c],i:["Area:"+Z.l[U-1]+":"+T[V]],b:[this.cx,this.cy],t:"Data",h:this.ID(T[V],Z.l[U-1])})}}}break}};this.WY=function(t){var l=this;var s=this.rAxisUnit;var i=this.currentRadius;var n=function(e){var w=l.circularArcSectorRangeMap[e[1]];var z=l.circularArcSectorRangeMap[e[3]];if(w!=null&&z!=null){var c=l.circularArcSectorMin[w];var C=l.circularArcSectorMin[z];if(e[2]>=l.circularArcSectorMin[w]&&e[2]<=l.circularArcSectorMax[w]&&e[4]>=l.circularArcSectorMin[z]&&e[4]<=l.circularArcSectorMax[z]){var y,B,x,A;y=l.circularArcSectorDims[w][0]+((e[2]+c-l.circularArcSectorMin[w])*l.rAxisUnit);B=l.circularArcSectorDims[z][0]+((e[4]+C-l.circularArcSectorMin[z])*l.rAxisUnit);if(e[5]!=null||e[6]!=null){x=l.circularArcSectorDims[w][0]+((Math.min(e[2]+(e[5]||0),l.circularArcSectorMax[w])+c-l.circularArcSectorMin[w])*l.rAxisUnit);A=l.circularArcSectorDims[z][0]+((Math.min(e[4]+(e[6]||0),l.circularArcSectorMax[z])+C-l.circularArcSectorMin[z])*l.rAxisUnit);return[y,B,x,A]}return[y,B]}}return false};if(!this.rAxisIndices.length&&!this.showIdeogram){var k=this.circularSampleData[t[t.length==2?0:1]];var m=this.circularSampleData[t[t.length==2?1:2]];var a=k&&k.dat?k.dat[0]:false;var h=m&&m.dat?m.dat[0]:false;if(a&&h){var v=this.circularArcSectorRadius[k.seg];var u=this.circularArcSectorRadius[m.seg];var r=this.cx+(i*Math.cos(a));var g=this.cy+(i*Math.sin(a));var q=this.cx+(i*Math.cos(h+s));var f=this.cy+(i*Math.sin(h+s));var p=this.cx+(i*Math.cos(h));var d=this.cy+(i*Math.sin(h));var o=this.cx+(i*Math.cos(a+s));var b=this.cy+(i*Math.sin(a+s));return[r,g,q,f,p,d,o,b,a,a+s,h,h+s,v,u]}}else{if((this.segregateSamplesBy.length>0&&this.data.x[this.segregateSamplesBy[0]])||this.showIdeogram){var j=n(t);if(j){var r,g,q,f,p,d,o,b,v,u;if(j.length>2){if(this.showIdeogram){v=this.circularArcSectorRadius[this.circularArcSectorRangeMap[t[1]]];u=this.circularArcSectorRadius[this.circularArcSectorRangeMap[t[3]]]}else{v=1;u=1}r=this.cx+(i*v*Math.cos(j[0]));g=this.cy+(i*v*Math.sin(j[0]));q=this.cx+(i*u*Math.cos(j[3]));f=this.cy+(i*u*Math.sin(j[3]));p=this.cx+(i*u*Math.cos(j[1]));d=this.cy+(i*u*Math.sin(j[1]));o=this.cx+(i*v*Math.cos(j[2]));b=this.cy+(i*v*Math.sin(j[2]));return[r,g,q,f,p,d,o,b,j[0],j[2],j[1],j[3],u,v]}else{r=this.cx+(i*Math.cos(j[0]));g=this.cy+(i*Math.sin(j[0]));q=this.cx+(i*Math.cos(j[1]));f=this.cy+(i*Math.sin(j[1]));return[r,g,q,f]}}else{alert("Oooops! Something went wrong in the connection between "+t[1]+" and"+t[3]+"!")}}}return false};this.bG=function(){this.currentRadius+=this.margin*0.66;if(this.showCircularConnections&&this.circularConnections.length){this.ru("drawCircularConnections");var k=function(b){if(b.length>3){return b[1]+"["+b[2]+"] "+b[5]+" - "+b[3]+"["+b[4]+"] "+b[6]}else{if(b.length==2){return b[0]+" - "+b[1]}else{return b[1]+" - "+b[2]}}};var j=this.rAxisUnit;for(var g=0;g<this.circularConnections.length;g++){var m=this.WY(this.circularConnections[g]);var d=k(this.circularConnections[g]);var h=this.b9((this.circularConnections[g].length==2?this.colors[g%this.colors.length]:this.circularConnections[g][0]),this.circularConnectionsTransparency,true);var a=this.b9(this.foreground,0.33,true);if(m.length>4){this.To({p:["drawShape","arch",[m[0],this.cx,m[2],m[4],this.cx,m[6]],[m[1],this.cy,m[3],m[5],this.cy,m[7]],[m[8],m[9],m[10],m[11]],[this.currentRadius*m[12],this.currentRadius*m[13]],h,a,"solid"],i:["Connect:"+d],t:"Connections"})}else{this.To({p:["drawLine","arch",[m[0],this.cx,m[2]],[m[1],this.cy,m[3]],false,false,h,a],i:["Connect:"+d],t:"Connections"})}}}};this.sE=function(){return this.heatmapIndicatorHeight+this.meta.def.colorBrew.maxLevLen+this.legendTextMargin};this.Tp=function(){if(this.circularHeatmap){this.bP(this.left-this.sE(),this.top,this.meta.def.colorBrew,"",true)}};this.JE=function(){this.BY();this.Fg();if(this.segregateSamplesBy.length>0&&this.smpOverlays.includes(this.segregateSamplesBy[0])){var b=[];for(var a=0;a<this.smpOverlays.length;a++){if(this.smpOverlays[a]!=this.segregateSamplesBy[0]){b.push(this.smpOverlays[a])}}this.smpOverlays=b}this.segregateSamplesByTemp=this.TU(this.segregateSamplesBy);if(this.circularType=="sunburst"||this.circularType=="chord"||this.circularType=="bubble"){this.segregateSamplesBy=[]}if(this.smpOverlayProperties){for(var c in this.smpOverlayProperties){if(this.smpOverlayProperties[c].hasOwnProperty("scheme")){this.Ix(this.smpOverlayProperties[c].scheme,c,"x",true)}}}};this.NZ=function(){if(!this.rAxis.length){if(this.samplesClustered){this.Jz(false,true)}if(this.samplesKmeaned){this.qH(false,true)}if(this.segregateSamplesBy.length>0&&this.meta.tree&&this.meta.tree.samples&&this.showSmpDendrogram){if(this.segregateSamplesBy[0]&&!this.smpOverlays.includes(this.segregateSamplesBy[0])){this.smpOverlays.unshift(this.segregateSamplesBy[0]);this.tmpSegregateSamplesBy=this.segregateSamplesBy;this.tmpShowSmpOverlaysLegend=this.showSmpOverlaysLegend}this.segregateSamplesBy=[];this.showSmpOverlaysLegend=true}else{if(this.tmpSegregateSamplesBy&&!this.showSmpDendrogram){this.segregateSamplesBy=this.tmpSegregateSamplesBy}}}};this.ws=function(){if(this.circularType!="normal"){if(this.circularType.match(/bubble|sunburst/)&&this.hierarchy.length>1&&!this.colorBy){this.colorBy=this.hierarchy[0]}}else{if(this.circularTrackGraphType.length){for(var a=0;a<this.circularTrackGraphType.length;a++){if(this.circularTrackGraphType[a]=="heatmap"){this.circularHeatmap=true}}}else{if(this.showIdeogram){this.circularHeatmap=true}}}if(this.showLegend&&!this.legendInside){if(this.circularType.match(/bubble|sunburst/)){this.showLegendCircular=this.hierarchy.length>1||this.colorBy}else{this.showLegendCircular=true}}};this.xi=function(){this.circularArcSectorSeparationTemp=this.circularArcSectorSeparation;this.circularCenterProportionTemp=this.circularCenterProportion;this.circularArcTemp=this.circularArc;this.outlineWidthTemp=this.outlineWidth;this.lineThicknessTemp=this.lineThickness;this.outlineWidth=0.5;this.lineThickness=0.5;if(this.circularType!="normal"){if(this.circularType.match(/bubble|sunburst/)&&this.hierarchy.length>1&&!this.colorBy){this.colorBy=this.hierarchy[0]}if(this.circularType=="radar"||this.circularType=="bubble"){this.circularCenterProportion=0;this.circularArcSectorSeparation=0;if(this.circularType=="bubble"){this.circularArc=360}}else{if(this.circularType=="chord"){this.circularArcSectorSeparation=3;this.circularCenterProportion=0}else{if(this.circularType=="sunburst"){this.circularArcSectorSeparation=0}}}}};this.NS=function(){this.circularArcSectorSeparation=this.circularArcSectorSeparationTemp;this.circularCenterProportion=this.circularCenterProportionTemp;this.circularArc=this.circularArcTemp;this.segregateSamplesBy=this.segregateSamplesByTemp;this.outlineWidth=this.outlineWidthTemp;this.lineThickness=this.lineThicknessTemp;this.outlineWidth=this.outlineWidthTemp;this.lineThickness=this.lineThicknessTemp};this.p2=function(){this.NZ();this.JE();this.xi();this.ws();this.U6();this.Qa();this.W7();this.o1();this.mU()};this.oo=function(){this.bv();this.DX();this.hP();this.bG();this.On();this.Tp();this.p3()};this.c8=function(){this.NS()};this.ib=function(){this.p2();this.oo();this.c8()};this.Qo=function(){this.ib()}};CanvasXpress.prototype.Map=function(){this.Nx=function(g,f){var a=function(h){return h};var d=function(j){if(j==null){return a}var l,n,m=j.scale[0],k=j.scale[1],i=j.translate[0],h=j.translate[1];return function(p,r){if(!r){l=n=0}var q=2,s=p.length,o=new Array(s);o[0]=(l+=p[0])*m+i;o[1]=(n+=p[1])*k+h;while(q<s){o[q]=p[q],++q}return o}};var c=function(o,m){var l,h=o.length,k=h-m;while(k<--h){l=o[k],o[k++]=o[h],o[h]=l}};function e(m,k){var l=k.id,j=k.bbox,h=k.properties==null?{}:k.properties,i=b(m,k);return l==null&&j==null?{type:"Feature",properties:h,geometry:i}:j==null?{type:"Feature",id:l,properties:h,geometry:i}:{type:"Feature",id:l,bbox:j,properties:h,geometry:i}}function b(q,j){var l=d(q.transform),h=q.arcs;function i(t,u){if(u.length){u.pop()}for(var o=h[t<0?~t:t],s=0,v=o.length;s<v;++s){u.push(l(o[s],s))}if(t<0){c(u,v)}}function p(o){return l(o)}function r(t){var s=[];for(var o=0,u=t.length;o<u;++o){i(t[o],s)}if(s.length<2){s.push(s[0])}return s}function k(s){var o=r(s);while(o.length<4){o.push(o[0])}return o}function n(o){return o.map(k)}function m(u){var s=u.type,t;switch(s){case"GeometryCollection":return{type:s,geometries:u.geometries.map(m)};case"Point":t=p(u.coordinates);break;case"MultiPoint":t=u.coordinates.map(p);break;case"LineString":t=r(u.arcs);break;case"MultiLineString":t=u.arcs.map(r);break;case"Polygon":t=n(u.arcs);break;case"MultiPolygon":t=u.arcs.map(n);break;default:return null}return{type:s,coordinates:t}}return m(j)}return f.type==="GeometryCollection"?{type:"FeatureCollection",features:f.geometries.map(function(h){return e(g,h)})}:e(g,f)};this.w7=function(){var r,t,u,v,d,e,f,h,m=10,l=m,i=90,g=360,k,j,c,b,q=2.5,w=0.000001;function p(C,z,A){C=+C,z=+z,A=(B=arguments.length)<2?(z=C,C=0,1):B<3?1:+A;var y=-1,B=Math.max(0,Math.ceil((z-C)/A))|0,x=new Array(B);while(++y<B){x[y]=C+y*A}return x}function o(A,z,x){var B=p(A,z-w,x).concat(z);return function(y){return B.map(function(C){return[y,C]})}}function n(B,A,z){var y=p(B,A-w,z).concat(A);return function(x){return y.map(function(C){return[C,x]})}}function s(){return{type:"MultiLineString",coordinates:a()}}function a(){return p(Math.ceil(v/i)*i,u,i).map(c).concat(p(Math.ceil(h/g)*g,f,g).map(b)).concat(p(Math.ceil(t/m)*m,r,m).filter(function(y){return Math.abs(y%i)>w}).map(k)).concat(p(Math.ceil(e/l)*l,d,l).filter(function(x){return Math.abs(x%g)>w}).map(j))}s.lines=function(){return a().map(function(x){return{type:"LineString",coordinates:x}})};s.outline=function(){return{type:"Polygon",coordinates:[c(v).concat(b(f).slice(1),c(u).reverse().slice(1),b(h).reverse().slice(1))]}};s.extent=function(x){if(!arguments.length){return s.extentMinor()}return s.extentMajor(x).extentMinor(x)};s.extentMajor=function(x){if(!arguments.length){return[[v,h],[u,f]]}v=+x[0][0],u=+x[1][0];h=+x[0][1],f=+x[1][1];if(v>u){x=v,v=u,u=x}if(h>f){x=h,h=f,f=x}return s.precision(q)};s.extentMinor=function(x){if(!arguments.length){return[[t,e],[r,d]]}t=+x[0][0],r=+x[1][0];e=+x[0][1],d=+x[1][1];if(t>r){x=t,t=r,r=x}if(e>d){x=e,e=d,d=x}return s.precision(q)};s.step=function(x){if(!arguments.length){return s.stepMinor()}return s.stepMajor(x).stepMinor(x)};s.stepMajor=function(x){if(!arguments.length){return[i,g]}i=+x[0],g=+x[1];return s};s.stepMinor=function(x){if(!arguments.length){return[m,l]}m=+x[0],l=+x[1];return s};s.precision=function(x){if(!arguments.length){return q}q=+x;k=o(e,d,10);j=n(t,r,q);c=o(h,f,10);b=n(v,u,q);return s};s.extentMajor([[-180,-90+w],[180,90-w]]).extentMinor([[-180,-80-w],[180,80+w]]);return s()};this.zQ=function(){if(this.mapConfigFeatures){var p=this.meta.map.geojson;var h=p.features;for(var o=0;o<h.length;o++){var g=h[o];if(this.mapConfigFeatures.hasOwnProperty(o)&&this.mapConfigFeatures[o].translate&&this.mapConfigFeatures[o].scale){if(g.geometry){var l=g.geometry.coordinates;var q=g.geometry.type;var a=[Number(this.mapConfigFeatures[o].translate[0]),Number(this.mapConfigFeatures[o].translate[1])];var u=[Number(this.mapConfigFeatures[o].scale[0]),Number(this.mapConfigFeatures[o].scale[1])];switch(q){case"Polygon":for(var e=0;e<l[0].length-1;e++){if(!isNaN(l[0][e][0])&&!isNaN(l[0][e][1])){var m=l[0][e][0]+a[0]>90?((l[0][e][0]+a[0])-180)*u[0]:l[0][e][0]+a[0]<-90?((l[0][e][0]+a[0])+180)*u[0]:(l[0][e][0]+a[0])*u[0];var n=l[0][e][1]+a[1]>180?((l[0][e][1]+a[1])-360)*u[1]:l[0][e][1]+a[1]<-180?((l[0][e][1]+a[1])+360)*u[1]:(l[0][e][1]+a[1])*u[1];l[0][e][0]=m;l[0][e][1]=n}}break;case"MultiPolygon":for(var e=0;e<l.length;e++){for(var d=0;d<l[e].length;d++){for(var b=0;b<l[e][d].length-1;b++){if(!isNaN(l[e][d][b][0])&&!isNaN(l[e][d][b][1])){var m=(l[e][d][b][0]+a[0])*u[0];var n=l[e][d][b][1]+a[1]>180?NaN:(l[e][d][b][1]+a[1])*u[1];l[e][d][b][0]=m;l[e][d][b][1]=n}}}}break}}}}}};this.pR=function(){var x=this.meta.map.geojson;var n=x.features;var C=Number.MAX_VALUE;var z=Number.MAX_VALUE;var A=-Number.MAX_VALUE;var y=-Number.MAX_VALUE;var g=this.layoutComb?this.layoutWidth:this.width;var q=this.layoutComb?this.layoutHeight:this.height;for(var h=0;h<n.length;h++){var v=n[h];if(v.hidden){continue}if(v.geometry){var B=v.geometry.coordinates;var l=v.geometry.type;var o=v.coordinates=[];switch(l){case"Polygon":o[0]=[];o[0][0]=[];if(this.mapProjection!="orthographic"){for(var u=0;u<B[0].length-1;u++){if(!isNaN(B[0][u][0])&&!isNaN(B[0][u][1])){o[0][0].push([B[0][u][1],B[0][u][0]]);C=Math.min(C,B[0][u][0]);z=Math.min(z,B[0][u][1]);A=Math.max(A,B[0][u][0]);y=Math.max(y,B[0][u][1])}}}break;case"MultiPolygon":if(this.mapProjection!="orthographic"){for(var u=0;u<B.length;u++){o[u]=[];for(var s=0;s<B[u].length;s++){o[u][s]=[];for(var r=0;r<B[u][s].length-1;r++){if(!isNaN(B[u][s][r][0])&&!isNaN(B[u][s][r][1])){o[u][s].push([B[u][s][r][1],B[u][s][r][0]]);C=Math.min(C,B[u][s][r][0]);z=Math.min(z,B[u][s][r][1]);A=Math.max(A,B[u][s][r][0]);y=Math.max(y,B[u][s][r][1])}}}}}break}}}if(this.mapProjection=="orthographic"){C=-180;z=-90;A=180;y=90}var D=this.qW([y,C],true);var E=this.qW([z,A],true);var a=Math.min(g/(E[0]-D[0]),q/(E[1]-D[1]))*512;var b=Number.parseFloat(Math.log(a/256)/Math.LN2).toFixed(1)-0.2;var e=this.qW([y,A],true);var m=this.qW([z,C],true);var d=this.Af([(e[0]+m[0])/2,(e[1]+m[1])/2]);this.meta.map.geojson.geometry={minX:C,minY:z,maxX:A,maxY:y};this.meta.map.geojson.global={minX:C,minY:z,maxX:A,maxY:y,center:d,scale:a,zoom:b}};this.Yy=function(a){if(this.graphType=="Map"&&this.meta.map){var e=this.meta.map.geojson;var i=e.geometry;var o=this.layoutComb?this.layoutWidth:this.width;var f=this.layoutComb?this.layoutHeight:this.height;if(!i.zoom||!i.center||a){e.zoom=1;e.center=[0,0];e.translate=[0,0];i.zoom=1;i.center=[0,0];var q=[i.maxY,i.minX];var p=[i.minY,i.maxX];var m=[i.maxY,i.maxX];var b=[i.minY,i.minX];var k=this.qW(q,true);var l=this.qW(p,true);var c=Math.min(o/(l[0]-k[0]),f/(l[1]-k[1]))*512;i.zoom=Number.parseFloat(Math.log(c/256)/Math.LN2).toFixed(1)-0.2;var d=this.qW(m,true);var n=this.qW(b,true);i.center=this.Af([(d[0]+n[0])/2,(d[1]+n[1])/2],true)}if(!i.initial||a){i.initial={zoom:this.TU(i.zoom),center:this.TU(i.center),canvas:this.TU([o,f])};if((i.maxX-i.minX)/(i.maxY-i.minY)>1){}else{}}}};this.Tu=function(){if(this.graphType=="Map"&&this.meta.map&&this.mapProjection=="orthographic"){var a=this.meta.map.geojson.translate[0];var e=this.meta.map.geojson.translate[1];this.meta.map.geojson.translate=[0,0];var b=this.layoutComb?this.layoutWidth:this.width;var c=this.layoutComb?this.layoutHeight:this.height;var d=this.qW([0,0],true);if(isNaN(d[0])&&isNaN(d[1])){this.meta.map.geojson.translate=[a,e]}else{this.meta.map.geojson.translate=[Math.round(d[0]-(b/2)),Math.round(d[1]-(c/2))]}}};this.Ny=function(){var b=this.meta.map.geojson;var a=this.layoutComb?this.layoutWidth:this.width;var c=this.layoutComb?this.layoutHeight:this.height;b.zoom=this.mapConfig&&this.mapConfig.zoom&&!b.isZoomed?this.mapConfig.zoom:b.geometry.zoom*this.zoom;var g=this.mapConfig&&this.mapConfig.center&&!b.isZoomed?this.mapConfig.center:[b.geometry.center[1],b.geometry.center[0]];if(this.mapProjection=="orthographic"&&(this.panningX||this.panningY)&&this.geoProjection){g=this.geoProjection.rotate();g[0]+=this.panningX*this.rotationSensitivity/a/4;g[1]-=this.panningY*this.rotationSensitivity/c/4;this.panningX=0;this.panningY=0;this.geoProjection.rotate(g)}var f=this.qW(g);var e=this.mapProjection=="orthographic"?[Math.round(f[0]+b.center[0]-(a/2)),Math.round(f[1]+b.center[1]-(c/2))]:[Math.round(f[0]+b.center[0]-((a/2)+this.panningX)),Math.round(f[1]+b.center[1]-((c/2)+this.panningY))];b.center=e;var d=a*0.1;var i=c*0.1;b.bounds={min:[Math.round(-d),Math.round(-i)],max:[Math.round(a+d),Math.round(c+i)]};this.Tu()};this.FA=function(){if(this.useLeaflet&&window.L){if(!this.leafletMap){var a=window.L.map("leaflet-"+this.target,{attributionControl:false,zoomControl:false,prefix:"",zoomSnap:0.1,zoomDelta:0.1,maxZoom:18});switch(this.leafletTileType){case"satellite":L.tileLayer("https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{crossOrigin:""}).addTo(a);break;case"terrain":L.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{crossOrigin:""}).addTo(a);break;case"labels":L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{crossOrigin:""}).addTo(a);break;case"street":L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{crossOrigin:""}).addTo(a);break}this.leafletMap=a}this.Ie()}};this.Ie=function(){if(this.useLeaflet&&this.leafletMap){var i=this.leafletMap;var e=this.layoutComb?this.layoutWidth:this.width;var c=this.layoutComb?this.layoutHeight:this.height;var j=this.meta.map.geojson;var g=j.zoom;var f=this.mapConfig&&this.mapConfig.center&&!j.isZoomed?this.mapConfig.center:[j.geometry.center[1],j.geometry.center[0]];var a=this.qW(f);var b=this.mapProjection=="orthographic"?[Math.round(a[0]+j.center[0]-(e/2)),Math.round(a[1]+j.center[1]-(c/2))]:[Math.round(a[0]+j.center[0]-((e/2)+this.panningX)),Math.round(a[1]+j.center[1]-((c/2)+this.panningY))];var d=this.Af([b[0]+(e/2),b[1]+(c/2)]);this.leafletMap.setView([d[1],d[0]],g);setTimeout(function(){i.invalidateSize(true)},50)}};this.zv=function(){if(this.graphType=="Map"&&this.meta.map){var a=this.layoutComb?this.layoutWidth:this.width;var b=this.layoutComb?this.layoutHeight:this.height;var d=this.meta.map.geojson.geometry;if(d.initial){var e=d.initial.canvas;return a!=e[0]||b!=e[1]}else{return true}}};this.qW=function(h,j){var k=h[1]*this.mapRadian;var i=h[0]*this.mapRadian;var r=256*Math.pow(2,this.meta.map.geojson.zoom||1);var n=this.meta.map.geojson.translate||[0,0];var a=this.meta.map.geojson.center||[0,0];if(this.mapProjection=="albers"){var e=this.mapMeanPhi*(k-this.mapCentralMeridianRad);var d=Math.sqrt(this.mapC-2*this.mapMeanPhi*Math.sin(i))/this.mapMeanPhi;k=d*Math.sin(e);i=this.mapP0-d*Math.cos(e)}else{if(this.mapProjection=="orthographic"){if(this.geoPath){var d=this.geoPath({type:"Point",coordinates:[h[1],h[0]]});if(d.length){return[d[0][0][0],d[0][0][1]]}else{return[NaN,NaN]}}if(!j&&Math.cos(i)*Math.cos(k)<=0){return[NaN,NaN]}k=Math.cos(i)*Math.sin(k);i=Math.sin(i)}else{var f=85*this.mapRadian;var g=Math.max(Math.min(f,i),-f);var o=Math.sin(g);i=Math.log((1+o)/(1-o))/2}}k=r*(this.mapUnits*k+0.5);i=r*(-this.mapUnits*i+0.5);return this.mapProjection=="orthographic"?[k-n[0],i-n[1]]:[k-a[0],i-a[1]]};this.Af=function(a){var j=a[0];var i=a[1];var k=256*Math.pow(2,this.meta.map.geojson.zoom||1);var e=function(c){return c>1?Math.PI/2:c<-1?-Math.PI/2:Math.asin(c)};j=(j/k-0.5)/this.mapUnits;i=(i/k-0.5)/-this.mapUnits;if(this.mapProjection=="albers"){var b=Math.atan(j/(this.mapP0-i));var a=Math.sqrt(j*i+Math.pow(this.mapP0-i,2));j=(this.mapCentralMeridianRad+b/this.mapMeanPhi)*this.mapDegrees;i=(Math.asin((this.mapC-a*a*this.mapMeanPhi*this.mapMeanPhi)/(2*this.mapMeanPhi)))*this.mapDegrees}else{if(this.mapProjection=="orthographic"){var h=Math.sqrt((j*j)+(i*i));var g=e(h);var f=Math.sin(g);var d=Math.cos(g);j=Math.atan2(j*f,h*d)*this.mapDegrees;i=e(h&&i*f/h)*this.mapDegrees}else{j=j*this.mapDegrees;i=(2*Math.atan(Math.exp(i))-(Math.PI/2))*this.mapDegrees}}return[j,i]};this.eF=function(k,i){if(this.meta.map){var l=this.layoutComb?this.layoutParams[0].width:this.width;var b=this.layoutComb?this.layoutParams[0].height:this.height;var a=this.meta.map.geojson;var d=this.mapConfig&&this.mapConfig.center&&!a.isZoomed?this.mapConfig.center:a.geometry.center;var f=a.zoom;var m=Math.pow(2,f);k=((l/2)+((k-(l/2))*(1-1/m)));i=((b/2)+((i-(b/2))*(1-1/m)));var e=this.mapProjection=="orthographic"?this.Af([k+a.translate[0],i+a.translate[1]]):this.Af([k+a.center[0],i+a.center[1]]);return this.mapProjection=="orthographic"?[Number(e[1]+Number(d[1])),Number(e[0]+Number(d[0]))]:e}};this.bT=function(o,n){var s=this.meta.map.geojson;var h=s.features;for(var g=0;g<h.length;g++){if(h[g].hidden){continue}var m=h[g].coordinates;if(m){var b=h[g].parts=[];for(var f=0;f<m.length;f++){b[f]=[];for(var e=0;e<m[f].length;e++){b[f][e]=[];for(var d=0;d<m[f][e].length;d++){var r=m[f][e][d];var a=this.mapProjection=="orthographic"?this.qW(this.Dg(r)):this.qW(r);b[f][e].push([Math.round(a[0]),Math.round(a[1])])}}}}}};this.aA=function(e,i,d,h){var g=this.MC(h-i);e=this.MC(e);d=this.MC(d);i=this.MC(i);var b=Math.cos(d)*Math.cos(g);var a=Math.cos(d)*Math.sin(g);var c=Math.atan2(Math.sin(e)+Math.sin(d),Math.sqrt((Math.cos(e)+b)*(Math.cos(e)+b)+a*a));var f=i+Math.atan2(a,Math.cos(e)+b);return[this.wN(c),this.wN(f)]};this.Dg=function(j,a){var e=j[0]*this.mapRadian;var h=j[1]*this.mapRadian;var c=Math.cos(e);var f=Math.cos(h)*c;var b=Math.sin(h)*c;var k=Math.sin(e);var i,g,d;if(a){i=this.mapCosLat*this.mapCosLng*f+this.mapSinLng*b+this.mapSinLat*this.mapCosLng*k;g=-this.mapCosLat*this.mapSinLng*f+this.mapCosLng*b-this.mapSinLat*this.mapSinLng*k;d=-this.mapSinLat*f+this.mapCosLat*k}else{i=this.mapCosLat*this.mapCosLng*f+this.mapCosLat*this.mapSinLng*b+this.mapSinLat*k;g=-this.mapSinLng*f+this.mapCosLng*b;d=-this.mapSinLat*this.mapCosLng*f-this.mapSinLat*this.mapSinLng*b+this.mapCosLat*k}return[Math.asin(d)*this.mapDegrees,Math.atan2(g,i)*this.mapDegrees]};this.i8=function(){var g=function(e,b){var a=0;if(e[0]<b.min[0]){a|=1}else{if(e[0]>b.max[0]){a|=2}}if(e[1]<b.min[1]){a|=4}else{if(e[1]>b.max[1]){a|=8}}e[2]=a};var A=function(B,l,i,e){var D=l[0]-B[0];var C=l[1]-B[1];var j=e.min;var m=e.max;var q,k;if(i&8){q=B[0]+D*(m[1]-B[1])/C;k=m[1]}else{if(i&4){q=B[0]+D*(j[1]-B[1])/C;k=j[1]}else{if(i&2){q=m[0];k=B[1]+C*(m[0]-B[0])/D}else{if(i&1){q=j[0];k=B[1]+C*(j[0]-B[0])/D}}}}return[q,k,true]};var w=this.meta.map.geojson;var o=w.features;var f=this.TU(w.bounds);f.min[0]-=3;f.min[1]-=3;f.max[0]+=3;f.max[1]+=3;for(var u=0;u<o.length;u++){if(o[u].hidden){continue}var n=o[u].parts;if(n){var c=[1,4,2,8];for(var t=0;t<n.length;t++){for(var s=0;s<n[t].length;s++){for(var r=0;r<n[t][s].length;r++){g(n[t][s][r],f)}}}for(var t=0;t<n.length;t++){for(var s=0;s<n[t].length;s++){for(var x=0;x<c.length;x++){var d=[];var v=n[t][s].length;var p=v-1;for(var r=0;r<v;r++){var z=n[t][s][r];var y=n[t][s][p];if(!(z[2]&c[x])){if(y[2]&c[x]){var h=A(y,z,c[x],f);g(h,f);d.push(h)}d.push(z)}else{if(!(y[2]&c[x])){var h=A(y,z,c[x],f);g(h,f);d.push(h)}}p=r}n[t][s]=d}}}}}};this.vT=function(){var h=function(p,k){var j=k[0]-p[0];var i=k[1]-p[1];return j*j+i*i};var b=function(q,k){var s=[q[0]];var j=q.length;var r=0;for(var p=1;p<j;p++){if(h(q[p],q[r])>k){s.push(q[p]);r=p}}if(r<j-1){s.push(q[j-1])}return s};var c=function(j,s,r){var q=s[0];var k=s[1];var w=r[0]-q;var v=r[1]-k;var i=w*w+v*v;var u;if(i>0){u=((j[0]-q)*w+(j[1]-k)*v)/i;if(u>1){q=r[0];k=r[1]}else{if(u>0){q+=w*u;k+=v*u}}}w=j[0]-q;v=j[1]-k;return w*w+v*v};var a=function(v,k,j,s,u){var q=0;var t;var r;for(var p=s+1;p<=u-1;p++){r=c(v[p],v[s],v[u]);if(r>q){t=p;q=r}}if(q>j){k[t]=1;a(v,k,j,s,t);a(v,k,j,t,u)}};var l=function(r,k){var j=r.length;var q=typeof Uint8Array!==undefined+""?Uint8Array:Array;var t=new q(j);t[0]=t[j-1]=1;a(r,t,k,0,j-1);var s=[];for(var p=0;p<j;p++){if(t[p]){s.push(r[p])}}return s};var o=function(k,i){if(!i||!k.length){return k.slice()}var j=i*i;k=b(k,j);k=l(k,j);return k};var n=this.meta.map.geojson;var m=n.features;for(var g=0;g<m.length;g++){if(m[g].hidden){continue}var f=m[g].parts;if(f){for(var e=0;e<f.length;e++){for(var d=0;d<f[e].length;d++){f[e][d]=o(f[e][d],1)}}}}};this.J7=function(){if(this.mapGraticuleShow){var h=this.w7();var l=this.mapProjection=="orthographic"?this.geoPath(this.geoGraticule):h.coordinates;var a=0;var d=this.mapGraticuleType=="dashed"?"dashedSpline":"spline";for(var f=0;f<l.length;f++){var b=[];var m=[];for(var e=0;e<l[f].length;e++){var o=l[f][e];var p=this.mapProjection=="orthographic"?o:this.qW([o[1],o[0]]);if(isNaN(p[0])||isNaN(p[1])){if(b.length){this.To({p:["drawLine",d,b,m,false,false,"black","0.1"],i:["Graticule:"+a++],t:"Axes"});b=[];m=[]}}else{b.push(p[0]);m.push(p[1])}}if(b.length){this.To({p:["drawLine",d,b,m,false,false,"black","0.1"],i:["Graticule:"+a++],t:"Axes"})}}}};this.bC=function(F){var r=null;var t=F.properties.varId?this.Fd(F.properties.varId,this.varIndices):[];var l=this.meta.map.geojson;var d=this.yV(this.colorBy);var s=this.colorBy&&d>=0?d:this.colorBy&&t.length?t[0]:-1;var m=this.sizeBy?this.yV(this.sizeBy):-1;var E=this.sizeBy&&m>=0&&t.length?this.data.y.data[t[0]][m]:0;var e=this.colorBy&&t.length&&d>=0?this.wn(t[0],s,"colorBy"):this.colorBy&&t.length?this.wn(s,null,"colorBy"):this.colorBy&&F.id!=null&&this.eb(F.id)?this.wn(F.id,null,"colorBy"):this.mapColor;var A=this.sizeBy&&t.length&&m>=0?this.wn(t[0],m,"sizeBy"):0;var g=this.mapProjection=="orthographic"?this.geoPath({type:"FeatureCollection",features:[F]}):F.parts;var o=this.decorations&&this.decorations.pie;if(this.useLeaflet){e=this.b9(e,(l.zoom>this.leafletZoomAlphaColor?0:this.leafletAlpha),true)}if(g&&!F.hidden){var q,n;var D=this.isUSAMap?CanvasXpress.usa[F.properties.key]:this.isWorldMap?CanvasXpress.countries[F.properties.key]:false;if(D&&E){var B=D.length;var x=this.qW([D[B-2],D[B-1]]);if(this.isUSAMap&&this.mapProjection=="albers"){if(F.properties.key=="AK"){x=this.qW([27.5,-112])}else{if(F.properties.key=="HI"){x=this.qW([26.5,-104])}}}q=x[0];n=x[1]}var G=["MapKey:"+F.properties.key,[Math.max(0,d)]];var a=!this.isDOE||(this.isDOE&&this.data.l.doe.includes(t[0]))?this.SS(e,G):"rgba(0,0,0,0)";var z=this.mapOutlineColor=="useBackground"?this.background:this.V4(this.mapOutlineColor,G);var b=!this.colorBy?false:this.data.z&&this.data.z.hasOwnProperty(this.colorBy)&&this.hiddenLegends["Property:"+this.colorBy+":"+this.data.z[this.colorBy][s]+":z"]?true:false;if(this.mapProjection=="orthographic"){for(var y=0;y<g.length;y++){var h=[];var w=[];for(var v=0;v<g[y].length;v++){var f=g[y][v];if(!isNaN(f[0])||!isNaN(f[1])){h.push(f[0]);w.push(f[1])}else{if(h.length&&w.length){var p=this.To({p:["drawShape","polygon",h,w,false,false,a,z],i:G,g:r,t:"Data",h:b});if(r==null){r=p}h=[];w=[]}}}if(h.length&&w.length){var p=this.To({p:["drawShape","polygon",h,w,false,false,a,z],i:G,g:r,t:"Data",h:b});if(r==null){r=p}}}}else{for(var y=0;y<g.length;y++){for(var v=0;v<g[y].length;v++){var h=[];var w=[];for(var u=0;u<g[y][v].length;u++){var f=g[y][v][u];if(!isNaN(f[0])||!isNaN(f[1])){h.push(f[0]);w.push(f[1])}else{if(h.length&&w.length){var p=this.To({p:["drawShape","polygon",h,w,false,false,a,z],i:G,g:r,t:"Data",h:b});if(r==null){r=p}h=[];w=[]}}}if(h.length&&w.length){var p=this.To({p:["drawShape","polygon",h,w,false,false,a,z],i:G,g:r,t:"Data",h:b});if(r==null){r=p}}}}}if(this.sizeBy&&q&&n&&E&&!o){this.To({p:["drawShape","circle",q,n,A*1.2,A*1.2,"rgba(255,0,0,0.6)",this.mapOutlineColor],t:"Data"})}}if(this.motionBy){var C=this.left+this.x;var c=this.top+this.y+(this.margin*2);this.To({p:["drawText",this.motionObject.current,C,c,this.motionCurrentFont,this.motionCurrentColor,"right","bottom"],t:"Data"})}};this.HX=function(o){var a=o.properties.varId?this.Fd(o.properties.varId,this.varIndices):[];var n=this.sizeBy?this.yV(this.sizeBy):-1;var e=this.sizeBy&&a.length&&n>=0?this.wn(a[0],n,"sizeBy"):0;var b=this.cV();var j=this.jT();if(o.parts){var h=this.isUSAMap?CanvasXpress.usa[j[o.properties.key]]:this.isWorldMap?CanvasXpress.countries[b[o.properties.key]]:false;if(h&&!o.hidden&&this.decorations&&this.decorations.pie&&this.decorations.pie[0]&&a[0]){var p=h.length;var g=this.qW([h[p-2],h[p-1]]);var d=false;if(this.isUSAMap&&this.mapProjection=="albers"){if(j[o.properties.key]=="AK"){g=this.qW([27.5,-112])}else{if(j[o.properties.key]=="HI"){g=this.qW([26.5,-104])}}}if(this.isUSAMap&&this.decorations&&this.decorations.pie){switch(j[o.properties.key]){case"CT":d=this.qW([h[p-2]-1.8,h[p-1]+1.4]);break;case"DE":d=this.qW([h[p-2]-3.5,h[p-1]+2.4]);break;case"DC":d=this.qW([h[p-2]-5.8,h[p-1]+2.5]);break;case"MD":d=this.qW([h[p-2],h[p-1]+0.6]);break;case"NJ":d=this.qW([h[p-2]-2.2,h[p-1]+1.3]);break;case"RI":d=this.qW([h[p-2]-0.7,h[p-1]+2.8]);break;case"VT":d=this.qW([h[p-2]+2,h[p-1]]);break;case"MA":d=this.qW([h[p-2]+0.8,h[p-1]+3.5]);break}}}if(this.decorations&&this.decorations.pie&&this.decorations.pie[0]&&a[0]&&g){var m=[];var q=[a[0]];for(var l=0;l<this.decorations.pie[0].idxs.length;l++){m.push(this.data.y.data[a[0]][this.decorations.pie[0].idxs[l]]);q.push(this.decorations.pie[0].idxs[l])}var f=this.decorations.pie[0].colors||false;var c=this.sizeBy?e:((this.decorations.pie[0].size||3)*this.meta.map.geojson.zoom)+(this.meta.map.geojson.zoom>4?5:0);var k=this.sn(m,false,f);if(d){this.To({p:["drawLine","solid",d[0],d[1],g[0],g[1]],t:"Decorations"});this.vK(k,d[0],d[1],c,[q])}else{this.vK(k,g[0],g[1],c,[q])}}}};this.SB=function(){if(this.decorations&&this.decorations.connections){var g=this;var j=function(t,y,s,x){var w=g.MC(x-y);t=g.MC(t);s=g.MC(s);y=g.MC(y);var i=Math.cos(s)*Math.cos(w);var c=Math.cos(s)*Math.sin(w);var m=Math.atan2(Math.sin(t)+Math.sin(s),Math.sqrt((Math.cos(t)+i)*(Math.cos(t)+i)+c*c));var v=y+Math.atan2(c,Math.cos(t)+i);return[g.wN(m),g.wN(v)]};for(var f=0;f<this.decorations.connections.length;f++){var h=this.decorations.connections[f];if(h.source&&h.source.length==2&&h.target&&h.target.length==2){var u=this.qW(h.source);var l=u[0];var k=u[1];var q=this.qW(h.target);var e=q[0];var d=q[1];var r="markerCon"+f;var a=h.color||"red";if(h.type.match(/spline/)){var o=j(h.source[0],h.source[1],h.target[0],h.target[1]);var b=this.qW(o);var p=b[0];var n=b[1];this.To({p:["drawLine",h.type,[l,p,e],[k,n,d],false,false,a],i:["Connection:"+r],t:"Decorations"})}else{this.To({p:["drawLine",h.type,l,k,e,d,a],i:["Connection:"+r],t:"Decorations"})}}}}};this.Ve=function(){if(this.decorations&&this.decorations.marker){for(var f=0;f<this.decorations.marker.length;f++){var e=this.decorations.marker[f];var g=this.meta.map.geojson.zoom?this.meta.map.geojson.zoom:1;if((e.lat&&e.lng)||(e.Lat&&e.Lng)||(e.latitude&&e.longitude)||(e.Latitude&&e.Longitude)||(e.coords&&e.coords.length==2)){var h=e.lat||e.Lat||e.latitude||e.Latitude||e.coords[0];var j=e.lng||e.Lng||e.longitude||e.Longitude||e.coords[1];var d=this.qW([h,j]);var p=d[0];var l=d[1];var b=(e.size||this.margin)*g;var o="markerPos"+f;var n=this.To({p:["drawShape",e.shape||"drop",p,l,b,b,e.color||"red",this.mapOutlineColor],i:["Marker:"+o+":[ "+h+", "+j+" ]"],t:"Decorations"});if(e.label||e.text){this.To({p:["drawText",e.label||e.text,p,l,this.font,this.fontColor,"center","middle"],i:["Marker:"+o+"-text:[ "+h+", "+j+" ]"],g:n,t:"Decorations"})}}}}else{if(this.markerBy&&this.data.x.hasOwnProperty(this.markerBy)){var r=function(m,t){var u="";for(var s in m){u+="<b>"+s+"</b>&#58;"+m[s][t]+"<br>"}return u.replace(/<br>$/,"")};var k=this.data.x;var g=this.meta.map.geojson.zoom?this.meta.map.geojson.zoom:1;for(var f=0;f<k[this.markerBy].length;f++){var h=k.lat?k.lat[f]:k.Lat?k.Lat[f]:k.latitude?k.latitude[f]:k.Latitude?k.Latitude[f]:false;var j=k.lng?k.lng[f]:k.Lng?k.Lng[f]:k.longitude?k.longitude[f]:k.Longitude?k.Longitude[f]:false;if(h!=null&&j!=null){var d=this.qW([h,j]);var p=d[0];var l=d[1];var b;if(this.sizeBy){b=this.wn(0,f,"sizeBy")*this.mapMarkerShapeScaleFactor}else{b=k.size?k.size[f]*g*this.mapMarkerShapeScaleFactor:this.margin*g*this.mapMarkerShapeScaleFactor}var q=k.shape?k.shape[f]:this.mapMarkerShape;var c=k.color?this.u5(k.color[f]):this.wn(0,f,"markerBy");var o="markerBy"+f;if(this.motionBy){if(this.motionObject.type=="Numeric"&&this.motionObject.current!=this.motionObject.min){if(!this.smpIndices.includes(f)){continue}}else{var a=k[this.motionBy][f];if(a!=this.motionObject.current){continue}}}else{if(!this.smpIndices.includes(f)){continue}}this.To({p:["drawShape",q,p,l,b,b,c,this.mapOutlineColor],i:["Marker:"+o+":"+r(k,f)],t:"Decorations"})}}}}};this.tN=function(){if(this.mapProjection=="orthographic"){var a=this.layoutComb?this.layoutWidth:this.width;var c=this.layoutComb?this.layoutHeight:this.height;var b=c*0.86*this.zoom;this.To({p:["drawShape","circle",a/2,c/2,b,b,false,this.mapOutlineColor,"open"],t:"Axes"});this.meta.map.geojson.center=[0,0]}};this.vj=function(){if(this.layoutComb){this.x=this.layoutWidth-(this.marginLeft+this.left+this.right+this.marginRight);this.y=this.layoutHeight-(this.marginTop+this.top+this.bottom+this.marginBottom)}else{this.x=this.width-(this.marginLeft+this.left+this.right+this.marginRight);this.y=this.height-(this.marginTop+this.top+this.bottom+this.marginBottom+(this.motionBy?40:0));if(this.motionBy&&!this.reproducing){this.py()}else{this.Io()}}};this.ot=function(){if(this.colorBy&&!this.colorBy.match(/variable|sample/i)&&this.meta.data.z&&this.meta.data.z[this.colorBy]&&this.meta.data.z[this.colorBy].colors&&this.colors.length<this.meta.data.z[this.colorBy].colors.length){this.colors=this.meta.data.z[this.colorBy].colors}};this.IF=function(){var p=this;var a={};var h=this.meta.map.geojson?this.meta.map.geojson.features:false;var n=function(){var t=function(k){var x={};for(var w=0;w<k.length;w++){x[k[w]]=true}return Object.keys(x).length==k.length};var v=false;if(h){v={data:{},meta:{},cxid:false,n:0};for(var s=0;s<h.length;s++){var u=h[s].properties;u.varId=[s];for(var j in u){if(u.hasOwnProperty(j)){if(!v.data.hasOwnProperty(j)){v.data[j]=[];v.meta[j]=false}v.data[j].push(u[j])}}}for(var j in v.meta){v.meta[j]=t(v.data[j]);if(v.meta[j]){v.n=v.data[j].length}}if(v.meta.hasOwnProperty("NAME_1")&&v.meta.NAME_1){v.cxid="NAME_1"}else{for(var j in v.meta){if(v.meta[j]&&!p.eb(v.data[j])){v.cxid=j;break}}if(!v.cxid){for(var j in v.meta){if(v.meta[j]){v.cxid=j;break}}}}for(var s=0;s<h.length;s++){h[s].properties.key=v.data[v.cxid][s];a[v.data[v.cxid][s]]=[s]}}return v};var q=function(z,D,t){var A={};var E=function(i){for(var j in a){A[i[j]]=a[j][0]}};var s=function(j,i){return A.hasOwnProperty(j)?A[j]:i[j]?A[i[j]]:-1};if(t&&!p.isExample){if(p.meta.data.y.vars.match(/World|USA/i)){E(p.meta.data.y.vars=="World"?z:D);for(var x=0;x<p.data.y.vars.length;x++){var C=p.data.y.vars[x];var B=s(C,p.meta.data.y.vars=="World"?z:D);if(B!=-1){for(var w=0;w<p.data.y.smps.length;w++){var y=p.data.y.smps[w];if(!t.data.hasOwnProperty(y)){t.data[y]=[]}t.data[y][B]=p.data.y.data[x][w]}if(p.data.z){for(var v in p.data.z){if(!t.data.hasOwnProperty(v)){t.data[v]=[]}t.data[v][B]=p.data.z[v][x]}}}}return true}else{if(p.meta.data.y.smps.match(/World|USA/i)){E(p.meta.data.y.smps=="World"?z:D);for(var x=0;x<p.data.y.smps.length;x++){var C=p.data.y.smps[x];var B=s(C,p.meta.data.y.smps=="World"?z:D);if(B!=-1){for(var w=0;w<p.data.y.vars.length;w++){var y=p.data.y.vars[w];if(!t.data.hasOwnProperty(y)){t.data[y]=[]}t.data[y][B]=p.data.y.data[w][x]}if(p.data.z){for(var v in p.data.z){if(!t.data.hasOwnProperty(v)){t.data[v]=[]}t.data[v][B]=p.data.z[v][x]}}}}return true}}}return false};var r=this.cV();var c=this.jT();var l=n();var m=q(r,c,l);if(this.isExample){this.$(this.target).style.display="block";var g={y:{vars:[],smps:["Order"],data:[]},z:{}};for(var f=0;f<l.n;f++){var b=l.data[l.cxid][f];g.y.data.push([f]);g.y.vars.push(b)}for(var d in l.data){if(d!=l.cxid){g.z[d]=l.data[d]!=null?l.data[d]:null}}}else{if(m){var g={y:{vars:[],smps:[],data:[]},z:{}};for(var f=0;f<l.n;f++){g.y.vars.push(l.data[l.cxid][f])}if(this.meta.data.y.vars.match(/World|USA/i)){for(var f=0;f<this.data.y.smps.length;f++){g.y.smps.push(this.data.y.smps[f]);for(var e=0;e<l.n;e++){if(f==0){g.y.data[e]=[]}g.y.data[e][f]=l.data[this.data.y.smps[f]][e]}}if(this.meta.data.y.vars.match(/World/i)){this.isWorldMap=true}else{if(this.meta.data.y.vars.match(/USA/i)){this.isUSAMap=true}}}else{if(this.meta.data.y.smps.match(/World|USA/i)){for(var f=0;f<this.data.y.vars.length;f++){g.y.smps.push(this.data.y.vars[f]);for(var e=0;e<l.n;e++){if(f==0){g.y.data[e]=[]}g.y.data[e][f]=l.data[this.data.y.vars[f]][e]}}if(this.meta.data.y.smps.match(/World/i)){this.isWorldMap=true}else{if(this.meta.data.y.smps.match(/USA/i)){this.isUSAMap=true}}}}for(var d in l.data){if(d!=l.cxid){g.z[d]=l.data[d]!=null?l.data[d]:null}}}else{var g={y:{vars:[],smps:this.data.y.smps,data:[]},z:{}};for(var f=0;f<l.n;f++){g.y.vars.push(l.data[l.cxid][f]);g.y.data[f]=this.data.y.data[f]||[]}for(var d in l.data){if(d!=l.cxid){g.z[d]=l.data[d]!=null?l.data[d]:null}}if(this.data.x){g.x=this.data.x}}}this.xAxis=this.TU(g.y.vars);this.updateData(g,false,true);this.mU();this.mapVarIds=a};this.oM=function(){this.mapSmpIndices=[];if(this.mapSmps.length==0){this.mapSmps.push(this.data.y.smps[0])}for(var c=0;c<this.mapSmps.length;c++){var a=this.yV(this.mapSmps[c]);if(a>-1){this.mapSmpIndices.push(a)}}if(this.decorations&&this.decorations.pie){var b=this.decorations.pie[0];if(b.smps){b.idxs=[];for(var c=0;c<b.smps.length;c++){var a=this.yV(b.smps[c]);if(a>-1){b.idxs.push(a)}}}}};this.qk=function(){this.mapPI=Math.PI;this.mapPI2=Math.PI*2;this.mapPIhlf=Math.PI/2;this.mapRadian=Math.PI/180;this.mapDegrees=180/Math.PI;this.mapUnits=0.5/Math.PI;this.mapLatitudeOriginRad=this.mapLatitudeOrigin*this.mapRadian;this.mapCentralMeridianRad=this.mapCentralMeridian*this.mapRadian;this.mapStandardParallel1Rad=this.mapStandardParallel1*this.mapRadian;this.mapStandardParallel2Rad=this.mapStandardParallel2*this.mapRadian;this.mapSinPhi1=Math.sin(this.mapStandardParallel1Rad);this.mapCosPhi1=Math.cos(this.mapStandardParallel1Rad);this.mapMeanPhi=(Math.sin(this.mapStandardParallel1Rad)+Math.sin(this.mapStandardParallel2Rad))/2;this.mapC=(this.mapCosPhi1*this.mapCosPhi1)+(2*this.mapMeanPhi*this.mapSinPhi1);this.mapP0=Math.sqrt(this.mapC-(2*this.mapMeanPhi*Math.sin(this.mapLatitudeOriginRad)))/this.mapMeanPhi;this.mapRotationLat=this.mapConfig&&this.mapConfig.center?this.mapConfig.center[1]%360*this.mapRadian:0;this.mapRotationLng=this.mapConfig&&this.mapConfig.center?(-this.mapConfig.center[0]+90)%360*this.mapRadian:0;this.mapCosLat=Math.cos(this.mapRotationLat);this.mapSinLat=Math.sin(this.mapRotationLat);this.mapCosLng=Math.sin(this.mapRotationLng);this.mapSinLng=Math.cos(this.mapRotationLng)};this.a7=function(a){if(this.meta.map){this.qk();if(!a){this.pR();this.Yy()}else{if(this.zv()){this.Yy(true)}}this.Ny();this.bT();this.i8();this.vT()}};this.mq=function(){if(this.meta.map){this.legendInside=true;this.FA();if(this.meta.map.geojson){if(!this.layoutValid){this.To({p:["setClipArea"],t:"Data"})}this.J7();for(var a=0;a<this.meta.map.geojson.features.length;a++){this.bC(this.meta.map.geojson.features[a])}if(this.decorations&&this.decorations.pie&&this.decorations.pie[0]&&!this.layoutValid){for(var a=0;a<this.meta.map.geojson.features.length;a++){this.HX(this.meta.map.geojson.features[a])}}if(!this.layoutValid){this.To({p:["resetClipArea"],t:"Data"})}this.tN();this.On();this.SB();this.Ve();this.p3()}}};this.b7=function(){this.cN(this.hiddenMapFeatures,true);this.cN(this.visibleMapFeatures,false,this.visibleMapFeatures.length);this.a7(this.layoutValid?false:this.mapInitialized);if(!this.mapInitialized){this.IF();this.oM();this.mapInitialized=true}this.U6();this.vj();this.r2();this.ot();this.mq()};this.Sl=function(){if(!this.meta.hasOwnProperty("map")){this.meta.map={}}if(!this.meta.map.hasOwnProperty("geojson")){if(window[this.mapId]&&window[this.mapId].hasOwnProperty("objects")){var a=window[this.mapId];var c=Object.keys(a.objects);var b=c[c.length-1];var d=a.objects[b];this.meta.map.geojson=this.Nx(a,d)}else{if(window[this.mapId]){this.meta.map.geojson=window[this.mapId]}else{if(this.meta.config.user.topoJSON){window[this.mapId]=this.meta.config.user.topoJSON;this.meta.map.geojson=window[this.mapId]}else{if(!this.meta.config.user.topoJSON){this.mapId="dummyMap";window[this.mapId]=CanvasXpress.geojson;this.meta.map.geojson=window[this.mapId]}}}}this.zQ();this.RY()}if(this.layoutValid){this.X9(this.drawMap)}else{this.b7()}};this.Orthographic();this.oc=function(){this.Sl()}};CanvasXpress.prototype.Orthographic=function(){this.JM=function(){var at=0.000001,ay=at*at,J=Math.PI,bl=2*J,aX=J/2,Q=J/180,al=180/J;var aa=this;var af=Math.abs;function az(bm){return bm>0?1:bm<0?-1:0}function k(bn,bm,bo){return(bm[0]-bn[0])*(bo[1]-bn[1])-(bm[1]-bn[1])*(bo[0]-bn[0])}function bi(bm){return bm>1?0:bm<-1?J:Math.acos(bm)}function ap(bm){return bm>1?aX:bm<-1?-aX:Math.asin(bm)}function T(bm){return(bm=Math.sin(bm/2))*bm}function bg(){}function ah(bm){return bm}var M={};function aD(){}aD.prototype={s:0,t:0,add:function(bm){aR(bm,this.t,aJ);aR(aJ.s,this.s,this);if(this.s){this.t+=aJ.t}else{this.s=aJ.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var aJ=new aD();function aR(bp,bo,br){var bn=br.s=bp+bo,bm=bn-bp,bq=bn-bm;br.t=bp-bq+(bo-bm)}function I(bq){var bs=bq.length,bn,bp=-1,bo=0,bm,br;while(++bp<bs){bo+=bq[bp].length}bm=new Array(bo);while(--bs>=0){br=bq[bs];bn=br.length;while(--bn>=0){bm[--bo]=br[bn]}}return bm}function S(br,bo,bp){br=+br,bo=+bo,bp=(bq=arguments.length)<2?(bo=br,br=0,1):bq<3?1:+bp;var bn=-1,bq=Math.max(0,Math.ceil((bo-br)/bp))|0,bm=new Array(bq);while(++bn<bq){bm[bn]=br+bn*bp}return bm}function aI(bo,bn){var bm=1,bq=arguments.length,bp;while(++bm<bq){bo[bp=arguments[bm]]=O(bo,bn,bn[bp])}return bo}function O(bn,bm,bo){return function(){var bp=bo.apply(bm,arguments);return bp===bm?bn:bp}}M.stream=function(bm,bn){if(bm&&ax.hasOwnProperty(bm.type)){ax[bm.type](bm,bn)}else{ao(bm,bn)}};function ao(bn,bm){if(bn&&a5.hasOwnProperty(bn.type)){a5[bn.type](bn,bm)}}var ax={Feature:function(bm,bn){ao(bm.geometry,bn)},FeatureCollection:function(bm,bp){var bo=bm.features,bn=-1,bq=bo.length;while(++bn<bq){ao(bo[bn].geometry,bp)}}};var a5={Sphere:function(bm,bn){bn.sphere()},Point:function(bm,bn){bm=bm.coordinates;bn.point(bm[0],bm[1],bm[2])},MultiPoint:function(bm,bo){var bp=bm.coordinates,bn=-1,bq=bp.length;while(++bn<bq){bm=bp[bn],bo.point(bm[0],bm[1],bm[2])}},LineString:function(bm,bn){A(bm.coordinates,bn,0)},MultiLineString:function(bm,bo){var bp=bm.coordinates,bn=-1,bq=bp.length;while(++bn<bq){A(bp[bn],bo,0)}},Polygon:function(bm,bn){ae(bm.coordinates,bn)},MultiPolygon:function(bm,bo){var bp=bm.coordinates,bn=-1,bq=bp.length;while(++bn<bq){ae(bp[bn],bo)}},GeometryCollection:function(bm,bp){var bo=bm.geometries,bn=-1,bq=bo.length;while(++bn<bq){ao(bo[bn],bp)}}};function A(bp,bo,bm){var bn=-1,br=bp.length-bm,bq;bo.lineStart();while(++bn<br){bq=bp[bn],bo.point(bq[0],bq[1],bq[2])}bo.lineEnd()}function ae(bo,bn){var bm=-1,bp=bo.length;bn.polygonStart();while(++bm<bp){A(bo[bm],bn,1)}bn.polygonEnd()}M.area=function(bm){P=0;M.stream(bm,aq);return P};var P,aF=new aD();var aq={sphere:function(){P+=4*J},point:bg,lineStart:bg,lineEnd:bg,polygonStart:function(){aF.reset();aq.lineStart=i},polygonEnd:function(){var bm=2*aF;P+=bm<0?4*J+bm:bm;aq.lineStart=aq.lineEnd=aq.point=bg}};function i(){var bq,br,bo,bn,bm;aq.point=function(bs,bt){aq.point=bp;bo=(bq=bs)*Q,bn=Math.cos(bt=(br=bt)*Q/2+J/4),bm=Math.sin(bt)};function bp(bx,by){bx*=Q;by=by*Q/2+J/4;var bz=bx-bo,bt=bz>=0?1:-1,bw=bt*bz,bu=Math.cos(by),bs=Math.sin(by),bv=bm*bs,bB=bn*bu+bv*Math.cos(bw),bA=bv*bt*Math.sin(bw);aF.add(Math.atan2(bA,bB));bo=bx,bn=bu,bm=bs}aq.lineEnd=function(){bp(bq,br)}}function s(bm){var bn=bm[0],bo=bm[1],bp=Math.cos(bo);return[bp*Math.cos(bn),bp*Math.sin(bn),Math.sin(bo)]}function aM(bn,bm){return bn[0]*bm[0]+bn[1]*bm[1]+bn[2]*bm[2]}function j(bn,bm){return[bn[1]*bm[2]-bn[2]*bm[1],bn[2]*bm[0]-bn[0]*bm[2],bn[0]*bm[1]-bn[1]*bm[0]]}function aK(bn,bm){bn[0]+=bm[0];bn[1]+=bm[1];bn[2]+=bm[2]}function N(bm,bn){return[bm[0]*bn,bm[1]*bn,bm[2]*bn]}function aH(bn){var bm=Math.sqrt(bn[0]*bn[0]+bn[1]*bn[1]+bn[2]*bn[2]);bn[0]/=bm;bn[1]/=bm;bn[2]/=bm}function aG(bm){return[Math.atan2(bm[1],bm[0]),ap(bm[2])]}function ar(bn,bm){return af(bn[0]-bm[0])<at&&af(bn[1]-bm[1])<at}M.bounds=function(){var bp,bE,bn,bD,bq,bv,bH,br,bu,bs,bw;var bm={point:bz,lineStart:bx,lineEnd:bB,polygonStart:function(){bm.point=bA;bm.lineStart=bt;bm.lineEnd=by;bu=0;aq.polygonStart()},polygonEnd:function(){aq.polygonEnd();bm.point=bz;bm.lineStart=bx;bm.lineEnd=bB;if(aF<0){bp=-(bn=180),bE=-(bD=90)}else{if(bu>at){bD=90}else{if(bu<-at){bE=-90}}}bw[0]=bp,bw[1]=bn}};function bz(bI,bJ){bs.push(bw=[bp=bI,bn=bI]);if(bJ<bE){bE=bJ}if(bJ>bD){bD=bJ}}function bo(bM,bP){var bI=s([bM*Q,bP*Q]);if(br){var bO=j(br,bI),bQ=[bO[1],-bO[0],0],bL=j(bQ,bO);aH(bL);bL=aG(bL);var bR=bM-bq,bS=bR>0?1:-1,bN=bL[0]*al*bS,bK=af(bR)>180;if(bK^(bS*bq<bN&&bN<bS*bM)){var bJ=bL[1]*al;if(bJ>bD){bD=bJ}}else{if(bN=(bN+360)%360-180,bK^(bS*bq<bN&&bN<bS*bM)){var bJ=-bL[1]*al;if(bJ<bE){bE=bJ}}else{if(bP<bE){bE=bP}if(bP>bD){bD=bP}}}if(bK){if(bM<bq){if(bC(bp,bM)>bC(bp,bn)){bn=bM}}else{if(bC(bM,bn)>bC(bp,bn)){bp=bM}}}else{if(bn>=bp){if(bM<bp){bp=bM}if(bM>bn){bn=bM}}else{if(bM>bq){if(bC(bp,bM)>bC(bp,bn)){bn=bM}}else{if(bC(bM,bn)>bC(bp,bn)){bp=bM}}}}}else{bz(bM,bP)}br=bI,bq=bM}function bx(){bm.point=bo}function bB(){bw[0]=bp,bw[1]=bn;bm.point=bz;br=null}function bA(bI,bJ){if(br){var bK=bI-bq;bu+=af(bK)>180?bK+(bK>0?360:-360):bK}else{bv=bI,bH=bJ}aq.point(bI,bJ);bo(bI,bJ)}function bt(){aq.lineStart()}function by(){bA(bv,bH);aq.lineEnd();if(af(bu)>at){bp=-(bn=180)}bw[0]=bp,bw[1]=bn;br=null}function bC(bJ,bI){return(bI-=bJ)<0?bI+360:bI}function bG(bJ,bI){return bJ[0]-bI[0]}function bF(bI,bJ){return bJ[0]<=bJ[1]?bJ[0]<=bI&&bI<=bJ[1]:bI<bJ[0]||bJ[1]<bI}return function(bM){bD=bn=-(bp=bE=Infinity);bs=[];M.stream(bM,bm);var bP=bs.length;if(bP){bs.sort(bG);for(var bL=1,bK=bs[0],bJ,bI=[bK];bL<bP;++bL){bJ=bs[bL];if(bF(bJ[0],bK)||bF(bJ[1],bK)){if(bC(bK[0],bJ[1])>bC(bK[0],bK[1])){bK[1]=bJ[1]}if(bC(bJ[0],bK[1])>bC(bK[0],bK[1])){bK[0]=bJ[0]}}else{bI.push(bK=bJ)}}var bO=-Infinity,bN;for(var bP=bI.length-1,bL=0,bK=bI[bP],bJ;bL<=bP;bK=bJ,++bL){bJ=bI[bL];if((bN=bC(bK[1],bJ[0]))>bO){bO=bN,bp=bJ[0],bn=bK[1]}}}bs=bw=null;return bp===Infinity||bE===Infinity?[[NaN,NaN],[NaN,NaN]]:[[bp,bE],[bn,bD]]}}();M.centroid=function(bo){Z=Y=G=n=a9=E=m=a8=C=l=a6=0;M.stream(bo,ak);var bn=C,bq=l,bp=a6,bm=bn*bn+bq*bq+bp*bp;if(bm<ay){bn=E,bq=m,bp=a8;if(Y<at){bn=G,bq=n,bp=a9}bm=bn*bn+bq*bq+bp*bp;if(bm<ay){return[NaN,NaN]}}return[Math.atan2(bq,bn)*al,ap(bp/Math.sqrt(bm))*al]};var Z,Y,G,n,a9,E,m,a8,C,l,a6;var ak={sphere:bg,point:X,lineStart:bc,lineEnd:bb,polygonStart:function(){ak.lineStart=h},polygonEnd:function(){ak.lineStart=bc}};function X(bm,bn){bm*=Q;var bo=Math.cos(bn*=Q);a0(bo*Math.cos(bm),bo*Math.sin(bm),Math.sin(bn))}function a0(bm,bo,bn){++Z;G+=(bm-G)/Z;n+=(bo-n)/Z;a9+=(bn-a9)/Z}function bc(){var bm,bn,bp;ak.point=function(bq,br){bq*=Q;var bs=Math.cos(br*=Q);bm=bs*Math.cos(bq);bn=bs*Math.sin(bq);bp=Math.sin(br);ak.point=bo;a0(bm,bn,bp)};function bo(bs,bt){bs*=Q;var bw=Math.cos(bt*=Q),bq=bw*Math.cos(bs),bv=bw*Math.sin(bs),bu=Math.sin(bt),br=Math.atan2(Math.sqrt((br=bn*bu-bp*bv)*br+(br=bp*bq-bm*bu)*br+(br=bm*bv-bn*bq)*br),bm*bq+bn*bv+bp*bu);Y+=br;E+=br*(bm+(bm=bq));m+=br*(bn+(bn=bv));a8+=br*(bp+(bp=bu));a0(bm,bn,bp)}}function bb(){ak.point=X}function h(){var bq,br,bm,bn,bp;ak.point=function(bs,bt){bq=bs,br=bt;ak.point=bo;bs*=Q;var bu=Math.cos(bt*=Q);bm=bu*Math.cos(bs);bn=bu*Math.sin(bs);bp=Math.sin(bt);a0(bm,bn,bp)};ak.lineEnd=function(){bo(bq,br);ak.lineEnd=bb;ak.point=X};function bo(bx,by){bx*=Q;var bv=Math.cos(by*=Q),bB=bv*Math.cos(bx),bA=bv*Math.sin(bx),bz=Math.sin(by),bw=bn*bz-bp*bA,bu=bp*bB-bm*bz,bt=bm*bA-bn*bB,bs=Math.sqrt(bw*bw+bu*bu+bt*bt),bE=bm*bB+bn*bA+bp*bz,bD=bs&&-bi(bE)/bs,bC=Math.atan2(bs,bE);C+=bD*bw;l+=bD*bu;a6+=bD*bt;Y+=bC;E+=bC*(bm+(bm=bB));m+=bC*(bn+(bn=bA));a8+=bC*(bp+(bp=bz));a0(bm,bn,bp)}}function bf(bn,bm){function bo(bp,bq){return bp=bn(bp,bq),bm(bp[0],bp[1])}if(bn.invert&&bm.invert){bo.invert=function(bp,bq){return bp=bm.invert(bp,bq),bp&&bn.invert(bp[0],bp[1])}}return bo}function o(){return true}function aB(bs,bn,bw,bu,bp){var bv=[],bq=[];bs.forEach(function(bE){if((bH=bE.length-1)<=0){return}var bH,bG=bE[0],bF=bE[bH];if(ar(bG,bF)){bp.lineStart();for(var bD=0;bD<bH;++bD){bp.point((bG=bE[bD])[0],bG[1])}bp.lineEnd();return}var bC=new au(bG,bE,null,true),bB=new au(bG,null,bC,false);bC.o=bB;bv.push(bC);bq.push(bB);bC=new au(bF,bE,null,false);bB=new au(bF,null,bC,true);bC.o=bB;bv.push(bC);bq.push(bB)});bq.sort(bn);a7(bv);a7(bq);if(!bv.length){return}for(var br=0,by=bw,bo=bq.length;br<bo;++br){bq[br].e=by=!by}var bm=bv[0],bz,bx;while(1){var bt=bm,bA=true;while(bt.v){if((bt=bt.n)===bm){return}}bz=bt.z;bp.lineStart();do{bt.v=bt.o.v=true;if(bt.e){if(bA){for(var br=0,bo=bz.length;br<bo;++br){bp.point((bx=bz[br])[0],bx[1])}}else{bu(bt.x,bt.n.x,1,bp)}bt=bt.n}else{if(bA){bz=bt.p.z;for(var br=bz.length-1;br>=0;--br){bp.point((bx=bz[br])[0],bx[1])}}else{bu(bt.x,bt.p.x,-1,bp)}bt=bt.p}bt=bt.o;bz=bt.z;bA=!bA}while(!bt.v);bp.lineEnd()}}function a7(bq){if(!(bp=bq.length)){return}var bp,bo=0,bn=bq[0],bm;while(++bo<bp){bn.n=bm=bq[bo];bm.p=bn;bn=bm}bn.n=bm=bq[0];bm.p=bn}function au(bn,bo,bm,bp){this.x=bn;this.z=bo;this.o=bm;this.e=bp;this.v=false;this.n=this.p=null}function a(bm,bp,bn,bo){return function(bF,bu){var by=bp(bu),bt=bF.invert(bo[0],bo[1]);var bH={point:bC,lineStart:bA,lineEnd:bG,polygonStart:function(){bH.point=br;bH.lineStart=bv;bH.lineEnd=bB;bD=[];bz=[]},polygonEnd:function(){bH.point=bC;bH.lineStart=bA;bH.lineEnd=bG;bD=I(bD);var bI=q(bt,bz);if(bD.length){if(!bs){bu.polygonStart(),bs=true}aB(bD,aU,bI,bn,bu)}else{if(bI){if(!bs){bu.polygonStart(),bs=true}bu.lineStart();bn(null,null,1,bu);bu.lineEnd()}}if(bs){bu.polygonEnd(),bs=false}bD=bz=null},sphere:function(){bu.polygonStart();bu.lineStart();bn(null,null,1,bu);bu.lineEnd();bu.polygonEnd()}};function bC(bJ,bK){var bI=bF(bJ,bK);if(bm(bJ=bI[0],bK=bI[1])){bu.point(bJ,bK)}}function bw(bJ,bK){var bI=bF(bJ,bK);by.point(bI[0],bI[1])}function bA(){bH.point=bw;by.lineStart()}function bG(){bH.point=bC;by.lineEnd()}var bD;var bE=ac(),bq=bp(bE),bs=false,bz,bx;function br(bJ,bK){bx.push([bJ,bK]);var bI=bF(bJ,bK);bq.point(bI[0],bI[1])}function bv(){bq.lineStart();bx=[]}function bB(){br(bx[0][0],bx[0][1]);bq.lineEnd();var bK=bq.clean(),bM=bE.buffer(),bL,bN=bM.length;bx.pop();bz.push(bx);bx=null;if(!bN){return}if(bK&1){bL=bM[0];var bN=bL.length-1,bJ=-1,bI;if(bN>0){if(!bs){bu.polygonStart(),bs=true}bu.lineStart();while(++bJ<bN){bu.point((bI=bL[bJ])[0],bI[1])}bu.lineEnd()}return}if(bN>1&&bK&2){bM.push(bM.pop().concat(bM.shift()))}bD.push(bM.filter(ai))}return bH}}function ai(bm){return bm.length>1}function ac(){var bn=[],bm;return{lineStart:function(){bn.push(bm=[])},point:function(bo,bp){bm.push([bo,bp])},lineEnd:bg,buffer:function(){var bo=bn;bn=[];bm=null;return bo},rejoin:function(){if(bn.length>1){bn.push(bn.pop().concat(bn.shift()))}}}}function aU(bn,bm){return((bn=bn.x)[0]<0?bn[1]-aX-at:aX-bn[1])-((bm=bm.x)[0]<0?bm[1]-aX-at:aX-bm[1])}var c=a(o,bj,aw,[-J,-J/2]);function bj(bp){var bo=NaN,bm=NaN,bq=NaN,bn;return{lineStart:function(){bp.lineStart();bn=1},point:function(bs,br){var bt=bs>0?J:-J,bu=af(bs-bo);if(af(bu-J)<at){bp.point(bo,bm=(bm+br)/2>0?aX:-aX);bp.point(bq,bm);bp.lineEnd();bp.lineStart();bp.point(bt,bm);bp.point(bs,bm);bn=0}else{if(bq!==bt&&bu>=J){if(af(bo-bq)<at){bo-=bq*at}if(af(bs-bt)<at){bs-=bt*at}bm=B(bo,bm,bs,br);bp.point(bq,bm);bp.lineEnd();bp.lineStart();bp.point(bt,bm);bn=0}}bp.point(bo=bs,bm=br);bq=bt},lineEnd:function(){bp.lineEnd();bo=bm=NaN},clean:function(){return 2-bn}}}function B(bs,bn,bq,bm){var br,bp,bo=Math.sin(bs-bq);return af(bo)>at?Math.atan((Math.sin(bn)*(bp=Math.cos(bm))*Math.sin(bq)-Math.sin(bm)*(br=Math.cos(bn))*Math.sin(bs))/(br*bp*bo)):(bn+bm)/2}function aw(br,bq,bp,bo){var bn;if(br==null){bn=bp*aX;bo.point(-J,bn);bo.point(0,bn);bo.point(J,bn);bo.point(J,0);bo.point(J,-bn);bo.point(0,-bn);bo.point(-J,-bn);bo.point(-J,0);bo.point(-J,bn)}else{if(af(br[0]-bq[0])>at){var bm=br[0]<bq[0]?J:-J;bn=bp*bm/2;bo.point(-bm,bn);bo.point(0,bn);bo.point(bm,bn)}else{bo.point(bq[0],bq[1])}}}function q(bD,bx){var bK=bD[0],bN=bD[1],bm=[Math.sin(bK),-Math.cos(bK),0],bw=0,bI=0;aF.reset();for(var bH=0,bB=bx.length;bH<bB;++bH){var br=bx[bH],bC=br.length;if(!bC){continue}var bq=br[0],bn=bq[0],bM=bq[1]/2+J/4,bG=Math.sin(bM),bA=Math.cos(bM),bF=1;while(true){if(bF===bC){bF=0}bD=br[bF];var by=bD[0],bp=bD[1]/2+J/4,bu=Math.sin(bp),bJ=Math.cos(bp),bz=by-bn,bv=bz>=0?1:-1,bO=bv*bz,bo=bO>J,bE=bG*bu;aF.add(Math.atan2(bE*bv*Math.sin(bO),bA*bJ+bE*Math.cos(bO)));bw+=bo?bz+bv*bl:bz;if(bo^bn>=bK^by>=bK){var bs=j(s(bq),s(bD));aH(bs);var bt=j(bm,bs);aH(bt);var bL=(bo^bz>=0?-1:1)*ap(bt[2]);if(bN>bL||bN===bL&&(bs[0]||bs[1])){bI+=bo^bz>=0?1:-1}}if(!bF++){break}bn=by,bG=bu,bA=bJ,bq=bD}}return(bw<-at||bw<at&&aF<-at)^bI&1}function ag(bq){var br=Math.cos(bq),bp=br>0,bs=af(br)>at,bt=z(bq,6*Q);return a(bo,bu,bt,bp?[0,-bq]:[-J,bq-J]);function bo(bv,bw){return Math.cos(bv)*Math.cos(bw)>br}function bu(bA){var bz,by,bv,bx,bw;return{lineStart:function(){bx=bv=false;bw=1},point:function(bC,bG){var bF=[bC,bG],bE,bB=bo(bC,bG),bH=bp?bB?0:bm(bC,bG):bB?bm(bC+(bC<0?J:-J),bG):0;if(!bz&&(bx=bv=bB)){bA.lineStart()}if(bB!==bv){bE=bn(bz,bF);if(ar(bz,bE)||ar(bF,bE)){bF[0]+=at;bF[1]+=at;bB=bo(bF[0],bF[1])}}if(bB!==bv){bw=0;if(bB){bA.lineStart();bE=bn(bF,bz);bA.point(bE[0],bE[1])}else{bE=bn(bz,bF);bA.point(bE[0],bE[1]);bA.lineEnd()}bz=bE}else{if(bs&&bz&&bp^bB){var bD;if(!(bH&by)&&(bD=bn(bF,bz,true))){bw=0;if(bp){bA.lineStart();bA.point(bD[0][0],bD[0][1]);bA.point(bD[1][0],bD[1][1]);bA.lineEnd()}else{bA.point(bD[1][0],bD[1][1]);bA.lineEnd();bA.lineStart();bA.point(bD[0][0],bD[0][1])}}}}if(bB&&(!bz||!ar(bz,bF))){bA.point(bF[0],bF[1])}bz=bF,bv=bB,by=bH},lineEnd:function(){if(bv){bA.lineEnd()}bz=null},clean:function(){return bw|(bx&&bv)<<1}}}function bn(bW,bU,bz){var by=s(bW),bw=s(bU);var bD=[1,0,0],bB=j(by,bw),bG=aM(bB,bB),bS=bB[0],bM=bG-bS*bS;if(!bM){return !bz&&bW}var bP=br*bG/bM,bO=-br*bS/bM,bX=j(bD,bB),bN=N(bD,bP),bL=N(bB,bO);aK(bN,bL);var bI=bX,bH=aM(bN,bI),bA=aM(bI,bI),bF=bH*bH-bA*(aM(bN,bN)-1);if(bF<0){return}var bJ=Math.sqrt(bF),bK=N(bI,(-bH-bJ)/bA);aK(bK,bN);bK=aG(bK);if(!bz){return bK}var bx=bW[0],bv=bU[0],bV=bW[1],bT=bU[1],bC;if(bv<bx){bC=bx,bx=bv,bv=bC}var bQ=bv-bx,bY=af(bQ-J)<at,bR=bY||bQ<at;if(!bY&&bT<bV){bC=bV,bV=bT,bT=bC}if(bR?bY?bV+bT>0^bK[1]<(af(bK[0]-bx)<at?bV:bT):bV<=bK[1]&&bK[1]<=bT:bQ>J^(bx<=bK[0]&&bK[0]<=bv)){var bE=N(bI,(-bH+bJ)/bA);aK(bE,bN);return[bK,aG(bE)]}}function bm(bv,by){var bx=bp?bq:J-bq,bw=0;if(bv<-bx){bw|=1}else{if(bv>bx){bw|=2}}if(by<-bx){bw|=4}else{if(by>bx){bw|=8}}return bw}}function aW(bn,bp,bm,bo){return function(bD){var bz=bD.a,bw=bD.b,br=bz.x,bC=bz.y,bv=bw.x,bu=bw.y,bt=0,bs=1,bB=bv-br,bA=bu-bC,bq;bq=bn-br;if(!bB&&bq>0){return}bq/=bB;if(bB<0){if(bq<bt){return}if(bq<bs){bs=bq}}else{if(bB>0){if(bq>bs){return}if(bq>bt){bt=bq}}}bq=bm-br;if(!bB&&bq<0){return}bq/=bB;if(bB<0){if(bq>bs){return}if(bq>bt){bt=bq}}else{if(bB>0){if(bq<bt){return}if(bq<bs){bs=bq}}}bq=bp-bC;if(!bA&&bq>0){return}bq/=bA;if(bA<0){if(bq<bt){return}if(bq<bs){bs=bq}}else{if(bA>0){if(bq>bs){return}if(bq>bt){bt=bq}}}bq=bo-bC;if(!bA&&bq<0){return}bq/=bA;if(bA<0){if(bq>bs){return}if(bq>bt){bt=bq}}else{if(bA>0){if(bq<bt){return}if(bq<bs){bs=bq}}}if(bt>0){bD.a={x:br+bt*bB,y:bC+bt*bA}}if(bs<1){bD.b={x:br+bs*bB,y:bC+bs*bA}}return bD}}var r=1000000000;M.clipExtent=function(){var bo,br,bn,bp,bs,bq,bm={stream:function(bt){if(bs){bs.valid=false}bs=bq(bt);bs.valid=true;return bs},extent:function(bt){if(!arguments.length){return[[bo,br],[bn,bp]]}bq=av(bo=+bt[0][0],br=+bt[0][1],bn=+bt[1][0],bp=+bt[1][1]);if(bs){bs.valid=false,bs=null}return bm}};return bm.extent([[0,0],[960,500]])};function av(bn,bq,bm,bo){return function(by){var bu=by,bD=ac(),bv=aW(bn,bq,bm,bo),bL,bE,bB;var bP={point:bK,lineStart:bH,lineEnd:bN,polygonStart:function(){by=bD;bL=[];bE=[];bM=true},polygonEnd:function(){by=bu;bL=I(bL);var bR=bG([bn,bo]),bQ=bM&&bR,bS=bL.length;if(bQ||bS){by.polygonStart();if(bQ){by.lineStart();bC(null,null,1,by);by.lineEnd()}if(bS){aB(bL,br,bR,bC,by)}by.polygonEnd()}bL=bE=bB=null}};function bG(bQ){var bY=0,bR=bE.length,bW=bQ[1];for(var bU=0;bU<bR;++bU){for(var bT=1,bZ=bE[bU],bS=bZ.length,bX=bZ[0],bV;bT<bS;++bT){bV=bZ[bT];if(bX[1]<=bW){if(bV[1]>bW&&k(bX,bV,bQ)>0){++bY}}else{if(bV[1]<=bW&&k(bX,bV,bQ)<0){--bY}}bX=bV}}return bY!==0}function bC(bV,bU,bT,bS){var bR=0,bQ=0;if(bV==null||(bR=bp(bV,bT))!==(bQ=bp(bU,bT))||bs(bV,bU)<0^bT>0){do{bS.point(bR===0||bR===3?bn:bm,bR>1?bo:bq)}while((bR=(bR+bT+4)%4)!==bQ)}else{bS.point(bU[0],bU[1])}}function bF(bQ,bR){return bn<=bQ&&bQ<=bm&&bq<=bR&&bR<=bo}function bK(bQ,bR){if(bF(bQ,bR)){by.point(bQ,bR)}}var bJ,bz,bI,bO,bx,bw,bA,bM;function bH(){bP.point=bt;if(bE){bE.push(bB=[])}bA=true;bw=false;bO=bx=NaN}function bN(){if(bL){bt(bJ,bz);if(bI&&bw){bD.rejoin()}bL.push(bD.buffer())}bP.point=bK;if(bw){by.lineEnd()}}function bt(bQ,bT){bQ=Math.max(-r,Math.min(r,bQ));bT=Math.max(-r,Math.min(r,bT));var bS=bF(bQ,bT);if(bE){bB.push([bQ,bT])}if(bA){bJ=bQ,bz=bT,bI=bS;bA=false;if(bS){by.lineStart();by.point(bQ,bT)}}else{if(bS&&bw){by.point(bQ,bT)}else{var bR={a:{x:bO,y:bx},b:{x:bQ,y:bT}};if(bv(bR)){if(!bw){by.lineStart();by.point(bR.a.x,bR.a.y)}by.point(bR.b.x,bR.b.y);if(!bS){by.lineEnd()}bM=false}else{if(bS){by.lineStart();by.point(bQ,bT);bM=false}}}}bO=bQ,bx=bT,bw=bS}return bP};function bp(bu,bt){return af(bu[0]-bn)<at?bt>0?0:3:af(bu[0]-bm)<at?bt>0?2:1:af(bu[1]-bq)<at?bt>0?1:0:bt>0?3:2}function br(bu,bt){return bs(bu.x,bt.x)}function bs(bw,bu){var bv=bp(bw,1),bt=bp(bu,1);return bv!==bt?bv-bt:bv===0?bu[1]-bw[1]:bv===1?bw[0]-bu[0]:bv===2?bw[1]-bu[1]:bu[0]-bw[0]}}function a3(bp){var bo=0,bn=J/3,bm=e(bp),bq=bm(bo,bn);bq.parallels=function(br){if(!arguments.length){return[bo/J*180,bn/J*180]}return bm(bo=br[0]*J/180,bn=br[1]*J/180)};return bq}function L(bo,bm){var bp=Math.sin(bo),bs=(bp+Math.sin(bm))/2,br=1+bp*(2*bs-bp),bq=Math.sqrt(br)/bs;function bn(bt,bv){var bu=Math.sqrt(br-2*bs*Math.sin(bv))/bs;return[bu*Math.sin(bt*=bs),bq-bu*Math.cos(bt)]}bn.invert=function(bu,bv){var bt=bq-bv;return[Math.atan2(bu,bt)/bs,ap((br-(bu*bu+bt*bt)*bs*bs)/(2*bs))]};return bn}(M.conicEqualArea=function(){return a3(L)}).raw=L;M.albers=function(){return M.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};M.albersUsa=function(){var bn=M.albers();var br=M.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var bo=M.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var bt,bm={point:function(bv,bw){bt=[bv,bw]}},bq,bs,bp;function bu(bw){var bv=bw[0],bx=bw[1];bt=null;(bq(bv,bx),bt)||(bs(bv,bx),bt)||bp(bv,bx);return bt}bu.invert=function(by){var bw=bn.scale(),bx=bn.translate(),bv=(by[0]-bx[0])/bw,bz=(by[1]-bx[1])/bw;return(bz>=0.12&&bz<0.234&&bv>=-0.425&&bv<-0.214?br:bz>=0.166&&bz<0.234&&bv>=-0.214&&bv<-0.115?bo:bn).invert(by)};bu.stream=function(bx){var bw=bn.stream(bx),by=br.stream(bx),bv=bo.stream(bx);return{point:function(bz,bA){bw.point(bz,bA);by.point(bz,bA);bv.point(bz,bA)},sphere:function(){bw.sphere();by.sphere();bv.sphere()},lineStart:function(){bw.lineStart();by.lineStart();bv.lineStart()},lineEnd:function(){bw.lineEnd();by.lineEnd();bv.lineEnd()},polygonStart:function(){bw.polygonStart();by.polygonStart();bv.polygonStart()},polygonEnd:function(){bw.polygonEnd();by.polygonEnd();bv.polygonEnd()}}};bu.precision=function(bv){if(!arguments.length){return bn.precision()}bn.precision(bv);br.precision(bv);bo.precision(bv);return bu};bu.scale=function(bv){if(!arguments.length){return bn.scale()}bn.scale(bv);br.scale(bv*0.35);bo.scale(bv);return bu.translate(bn.translate())};bu.translate=function(bx){if(!arguments.length){return bn.translate()}var bw=bn.scale(),bv=+bx[0],by=+bx[1];bq=bn.translate(bx).clipExtent([[bv-0.455*bw,by-0.238*bw],[bv+0.455*bw,by+0.238*bw]]).stream(bm).point;bs=br.translate([bv-0.307*bw,by+0.201*bw]).clipExtent([[bv-0.425*bw+at,by+0.12*bw+at],[bv-0.214*bw-at,by+0.234*bw-at]]).stream(bm).point;bp=bo.translate([bv-0.205*bw,by+0.212*bw]).clipExtent([[bv-0.214*bw+at,by+0.166*bw+at],[bv-0.115*bw-at,by+0.234*bw-at]]).stream(bm).point;return bu};return bu.scale(1070)};var aZ,aL,aQ={point:bg,lineStart:bg,lineEnd:bg,polygonStart:function(){aL=0;aQ.lineStart=p},polygonEnd:function(){aQ.lineStart=aQ.lineEnd=aQ.point=bg;aZ+=af(aL/2)}};function p(){var bp,bm,bn,bo;aQ.point=function(br,bs){aQ.point=bq;bp=bn=br,bm=bo=bs};function bq(br,bs){aL+=bo*br-bn*bs;bn=br,bo=bs}aQ.lineEnd=function(){bq(bp,bm)}}var W,y,V,x;var an={point:u,lineStart:bg,lineEnd:bg,polygonStart:bg,polygonEnd:bg};function u(bm,bn){if(bm<W){W=bm}if(bm>V){V=bm}if(bn<y){y=bn}if(bn>x){x=bn}}function g(){var bo=aE(4.5),bn=[];var bt={point:bm,lineStart:function(){bt.point=bs},lineEnd:br,polygonStart:function(){bt.lineEnd=bp},polygonEnd:function(){bt.lineEnd=br;bt.point=bm},pointRadius:function(bu){bo=aE(bu);return bt},result:function(){if(bn.length){var bu=bn.join("");bn=[];return bu}}};function bm(bu,bv){bn.push("M",bu,",",bv,bo)}function bs(bu,bv){bn.push("M",bu,",",bv);bt.point=bq}function bq(bu,bv){bn.push("L",bu,",",bv)}function br(){bt.point=bm}function bp(){bn.push("Z")}return bt}function aE(bm){return"m0,"+bm+"a"+bm+","+bm+" 0 1,1 0,"+-2*bm+"a"+bm+","+bm+" 0 1,1 0,"+2*bm+"z"}var aT={point:ad,lineStart:aP,lineEnd:f,polygonStart:function(){aT.lineStart=aY},polygonEnd:function(){aT.point=ad;aT.lineStart=aP;aT.lineEnd=f}};function ad(bm,bn){G+=bm;n+=bn;++a9}function aP(){var bm,bn;aT.point=function(bp,bq){aT.point=bo;ad(bm=bp,bn=bq)};function bo(bp,bt){var br=bp-bm,bq=bt-bn,bs=Math.sqrt(br*br+bq*bq);E+=bs*(bm+bp)/2;m+=bs*(bn+bt)/2;a8+=bs;ad(bm=bp,bn=bt)}}function f(){aT.point=ad}function aY(){var bp,bm,bn,bo;aT.point=function(br,bs){aT.point=bq;ad(bp=bn=br,bm=bo=bs)};function bq(br,bv){var bt=br-bn,bs=bv-bo,bu=Math.sqrt(bt*bt+bs*bs);E+=bu*(bn+br)/2;m+=bu*(bo+bv)/2;a8+=bu;bu=bo*br-bn*bv;C+=bu*(bn+br);l+=bu*(bo+bv);a6+=bu*3;ad(bn=br,bo=bv)}aT.lineEnd=function(){bq(bp,bm)}}M.render=[];function aO(bn){var bq=4.5;var bt={point:bm,lineStart:function(){bt.point=bs},lineEnd:br,polygonStart:function(){bt.lineEnd=bo},polygonEnd:function(){bt.lineEnd=br;bt.point=bm},pointRadius:function(bu){bq=bu;return bt},result:bg};function bm(bu,bv){M.render.push([[bu,bv]])}function bs(bu,bv){M.render.push([]);M.render[M.render.length-1].push([bu,bv]);bt.point=bp}function bp(bu,bv){M.render[M.render.length-1].push([bu,bv])}function br(){bt.point=bm}function bo(){}return bt}function w(bs){var bp=0.5,br=Math.cos(30*Q),bt=16;function bo(bu){return(bt?bq:bm)(bu)}function bm(bu){return be(bu,function(bv,bw){bv=bs(bv,bw);bu.point(bv[0],bv[1])})}function bq(bA){var bD,bO,bK,bB,bN,bE,bw,bv,bM,bx,bP,bC,bG;var by={point:bJ,lineStart:bF,lineEnd:bL,polygonStart:function(){bA.polygonStart();by.lineStart=bz},polygonEnd:function(){bA.polygonEnd();by.lineStart=bF}};function bJ(bQ,bR){bQ=bs(bQ,bR);bA.point(bQ[0],bQ[1])}function bF(){bM=NaN;by.point=bu;bA.lineStart()}function bu(bQ,bR){var bT=s([bQ,bR]),bS=bs(bQ,bR);bn(bM,bx,bv,bP,bC,bG,bM=bS[0],bx=bS[1],bv=bQ,bP=bT[0],bC=bT[1],bG=bT[2],bt,bA);bA.point(bM,bx)}function bL(){by.point=bJ;bA.lineEnd()}function bz(){bF();by.point=bI;by.lineEnd=bH}function bI(bQ,bR){bu(bD=bQ,bO=bR),bK=bM,bB=bx,bN=bP,bE=bC,bw=bG;by.point=bu}function bH(){bn(bM,bx,bv,bP,bC,bG,bK,bB,bD,bN,bE,bw,bt,bA);by.lineEnd=bL;bL()}return by}function bn(bO,bA,bw,bW,bD,bL,bN,bz,bv,bU,bC,bJ,bT,bB){var bH=bN-bO,bG=bz-bA,bV=bH*bH+bG*bG;if(bV>4*bp&&bT--){var bS=bW+bU,bR=bD+bC,bQ=bL+bJ,bK=Math.sqrt(bS*bS+bR*bR+bQ*bQ),bP=Math.asin(bQ/=bK),bu=af(af(bQ)-1)<at||af(bw-bv)<at?(bw+bv)/2:Math.atan2(bR,bS),bI=bs(bu,bP),bM=bI[0],by=bI[1],bx=bM-bO,bF=by-bA,bE=bG*bx-bH*bF;if(bE*bE/bV>bp||af((bH*bx+bG*bF)/bV-0.5)>0.3||bW*bU+bD*bC+bL*bJ<br){bn(bO,bA,bw,bW,bD,bL,bM,by,bu,bS/=bK,bR/=bK,bQ,bT,bB);bB.point(bM,by);bn(bM,by,bu,bS,bR,bQ,bN,bz,bv,bU,bC,bJ,bT,bB)}}}bo.precision=function(bu){if(!arguments.length){return Math.sqrt(bp)}bt=(bp=bu*bu)>0&&16;return bo};return bo}M.path=function(){var bs=4.5,bn,bp,bq,bm,bo;function bt(bu){M.render=[];if(bu){if(typeof bs==="function"){bm.pointRadius(+bs.apply(this,arguments))}if(!bo||!bo.valid){bo=bq(bm)}M.stream(bu,bo)}return M.render;return bm.result()}bt.area=function(bu){aZ=0;M.stream(bu,bq(aQ));return aZ};bt.centroid=function(bu){G=n=a9=E=m=a8=C=l=a6=0;M.stream(bu,bq(aT));return a6?[C/a6,l/a6]:a8?[E/a8,m/a8]:a9?[G/a9,n/a9]:[NaN,NaN]};bt.bounds=function(bu){V=x=-(W=y=Infinity);M.stream(bu,bq(an));return[[W,y],[V,x]]};bt.projection=function(bu){if(!arguments.length){return bn}bq=(bn=bu)?bu.stream||U(bu):ah;return br()};bt.context=function(bu){if(!arguments.length){return bp}bm=(bp=bu)==null?new g():new aO(bu);if(typeof bs!=="function"){bm.pointRadius(bs)}return br()};bt.pointRadius=function(bu){if(!arguments.length){return bs}bs=typeof bu==="function"?bu:(bm.pointRadius(+bu),+bu);return bt};function br(){bo=null;return bt}return bt.projection(M.albersUsa()).context(null)};function U(bn){var bm=w(function(bo,bp){return bn([bo*al,bp*al])});return function(bo){return bh(bm(bo))}}M.transform=function(bm){return{stream:function(bp){var bo=new K(bp);for(var bn in bm){bo[bn]=bm[bn]}return bo}}};function K(bm){this.stream=bm}K.prototype={point:function(bm,bn){this.stream.point(bm,bn)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function be(bn,bm){return{point:bm,sphere:function(){bn.sphere()},lineStart:function(){bn.lineStart()},lineEnd:function(){bn.lineEnd()},polygonStart:function(){bn.polygonStart()},polygonEnd:function(){bn.polygonEnd()}}}M.projection=aV;M.projectionMutator=e;function aV(bm){return e(function(){return bm})()}function e(bA){var bq,bF,bu,bC=w(function(bK,bL){bK=bq(bK,bL);return[bK[0]*bD+bt,br-bK[1]*bD]}),bD=150,by=480,bx=250,bB=0,bo=0,bE=0,bv=0,bp=0,bt,br,bJ=c,bG=ah,bm=null,bn=null,bs;function bI(bK){bK=bu(bK[0]*Q,bK[1]*Q);return[bK[0]*bD+bt,br-bK[1]*bD]}function bz(bK){bK=bu.invert((bK[0]-bt)/bD,(br-bK[1])/bD);return bK&&[bK[0]*al,bK[1]*al]}bI.stream=function(bK){if(bs){bs.valid=false}bs=bh(bJ(bF,bC(bG(bK))));bs.valid=true;return bs};bI.clipAngle=function(bK){if(!arguments.length){return bm}bJ=bK==null?(bm=bK,c):ag((bm=+bK)*Q);return bw()};bI.clipExtent=function(bK){if(!arguments.length){return bn}bn=bK;bG=bK?av(bK[0][0],bK[0][1],bK[1][0],bK[1][1]):ah;return bw()};bI.scale=function(bK){if(!arguments.length){return bD}bD=+bK;return bH()};bI.translate=function(bK){if(!arguments.length){return[by,bx]}by=+bK[0];bx=+bK[1];return bH()};bI.center=function(bK){if(!arguments.length){return[bB*al,bo*al]}bB=bK[0]%360*Q;bo=bK[1]%360*Q;return bH()};bI.rotate=function(bK){if(!arguments.length){return[bE*al,bv*al,bp*al]}bE=bK[0]%360*Q;bv=bK[1]%360*Q;bp=bK.length>2?bK[2]%360*Q:0;return bH()};aI(bI,bC,"precision");function bH(){bu=bf(bF=aj(bE,bv,bp),bq);var bK=bq(bB,bo);bt=by-bK[0]*bD;br=bx+bK[1]*bD;return bw()}function bw(){if(bs){bs.valid=false,bs=null}return bI}return function(){bq=bA.apply(this,arguments);bI.invert=bq.invert&&bz;return bH()}}function bh(bm){return be(bm,function(bn,bo){bm.point(bn*Q,bo*Q)})}function bk(bm,bn){return[bm,bn]}(M.equirectangular=function(){return aV(bk)}).raw=bk.invert=bk;M.rotation=function(bn){bn=aj(bn[0]%360*Q,bn[1]*Q,bn.length>2?bn[2]*Q:0);function bm(bo){bo=bn(bo[0]*Q,bo[1]*Q);return bo[0]*=al,bo[1]*=al,bo}bm.invert=function(bo){bo=bn.invert(bo[0]*Q,bo[1]*Q);return bo[0]*=al,bo[1]*=al,bo};return bm};function d(bm,bn){return[bm>J?bm-bl:bm<-J?bm+bl:bm,bn]}d.invert=bk;function aj(bm,bn,bo){return bm?bn||bo?bf(aN(bm),aA(bn,bo)):aN(bm):bn||bo?aA(bn,bo):d}function aC(bm){return function(bn,bo){return bn+=bm,[bn>J?bn-bl:bn<-J?bn+bl:bn,bo]}}function aN(bm){var bn=aC(bm);bn.invert=aC(-bm);return bn}function aA(bn,br){var bm=Math.cos(bn),bs=Math.sin(bn),bp=Math.cos(br),bq=Math.sin(br);function bo(bv,bw){var bz=Math.cos(bw),bt=Math.cos(bv)*bz,by=Math.sin(bv)*bz,bx=Math.sin(bw),bu=bx*bm+bt*bs;return[Math.atan2(by*bp-bu*bq,bt*bm-bx*bs),ap(bu*bp+by*bq)]}bo.invert=function(bv,bw){var bz=Math.cos(bw),bt=Math.cos(bv)*bz,by=Math.sin(bv)*bz,bx=Math.sin(bw),bu=bx*bp-by*bq;return[Math.atan2(by*bp+bx*bq,bt*bm+bu*bs),ap(bu*bm-bt*bs)]};return bo}M.circle=function(){var bn=[0,0],bq,bm=6,bo;function bp(){var br=typeof bn==="function"?bn.apply(this,arguments):bn,bt=aj(-br[0]*Q,-br[1]*Q,0).invert,bs=[];bo(null,null,1,{point:function(bu,bv){bs.push(bu=bt(bu,bv));bu[0]*=al,bu[1]*=al}});return{type:"Polygon",coordinates:[bs]}}bp.origin=function(br){if(!arguments.length){return bn}bn=br;return bp};bp.angle=function(br){if(!arguments.length){return bq}bo=z((bq=+br)*Q,bm*Q);return bp};bp.precision=function(br){if(!arguments.length){return bm}bo=z(bq*Q,(bm=+br)*Q);return bp};return bp.angle(90)};function z(bm,bn){var bp=Math.cos(bm),bo=Math.sin(bm);return function(bw,bv,bu,bt){var bs=bu*bn;if(bw!=null){bw=a4(bp,bw);bv=a4(bp,bv);if(bu>0?bw<bv:bw>bv){bw+=bu*bl}}else{bw=bm+bu*bl;bv=bm-0.5*bs}for(var bq,br=bw;bu>0?br>bv:br<bv;br-=bs){bt.point((bq=aG([bp,-bo*Math.cos(br),-bo*Math.sin(br)]))[0],bq[1])}}}function a4(bo,bm){var bn=s(bm);bn[0]-=bo;aH(bn);var bp=bi(-bn[1]);return((-bn[2]<0?-bp:bp)+2*Math.PI-at)%(2*Math.PI)}M.distance=function(bw,bt){var bn=(bt[0]-bw[0])*Q,bv=bw[1]*Q,bs=bt[1]*Q,bm=Math.sin(bn),bu=Math.cos(bn),br=Math.sin(bv),bp=Math.cos(bv),bq=Math.sin(bs),bo=Math.cos(bs),bx;return Math.atan2(Math.sqrt((bx=bo*bm)*bx+(bx=bp*bq-br*bo*bu)*bx),br*bq+bp*bo*bu)};M.graticule=function(){var bC,bE,bF,bG,bp,bq,br,bt,by=10,bx=by,bu=90,bs=360,bw,bv,bo,bn,bB=2.5;function bA(bJ,bI,bH){var bK=S(bJ,bI-at,bH).concat(bI);return function(bL){return bK.map(function(bM){return[bL,bM]})}}function bz(bK,bJ,bI){var bH=S(bK,bJ-at,bI).concat(bJ);return function(bL){return bH.map(function(bM){return[bM,bL]})}}function bD(){return{type:"MultiLineString",coordinates:bm()}}function bm(){return S(Math.ceil(bG/bu)*bu,bF,bu).map(bo).concat(S(Math.ceil(bt/bs)*bs,br,bs).map(bn)).concat(S(Math.ceil(bE/by)*by,bC,by).filter(function(bH){return af(bH%bu)>at}).map(bw)).concat(S(Math.ceil(bq/bx)*bx,bp,bx).filter(function(bH){return af(bH%bs)>at}).map(bv))}bD.lines=function(){return bm().map(function(bH){return{type:"LineString",coordinates:bH}})};bD.outline=function(){return{type:"Polygon",coordinates:[bo(bG).concat(bn(br).slice(1),bo(bF).reverse().slice(1),bn(bt).reverse().slice(1))]}};bD.extent=function(bH){if(!arguments.length){return bD.minorExtent()}return bD.majorExtent(bH).minorExtent(bH)};bD.majorExtent=function(bH){if(!arguments.length){return[[bG,bt],[bF,br]]}bG=+bH[0][0],bF=+bH[1][0];bt=+bH[0][1],br=+bH[1][1];if(bG>bF){bH=bG,bG=bF,bF=bH}if(bt>br){bH=bt,bt=br,br=bH}return bD.precision(bB)};bD.minorExtent=function(bH){if(!arguments.length){return[[bE,bq],[bC,bp]]}bE=+bH[0][0],bC=+bH[1][0];bq=+bH[0][1],bp=+bH[1][1];if(bE>bC){bH=bE,bE=bC,bC=bH}if(bq>bp){bH=bq,bq=bp,bp=bH}return bD.precision(bB)};bD.step=function(bH){if(!arguments.length){return bD.minorStep()}return bD.majorStep(bH).minorStep(bH)};bD.majorStep=function(bH){if(!arguments.length){return[bu,bs]}bu=+bH[0],bs=+bH[1];return bD};bD.minorStep=function(bH){if(!arguments.length){return[by,bx]}by=+bH[0],bx=+bH[1];return bD};bD.precision=function(bH){if(!arguments.length){return bB}bB=+bH;bw=bA(bq,bp,90);bv=bz(bE,bC,bB);bo=bA(bt,br,90);bn=bz(bG,bF,bB);return bD};return bD.majorExtent([[-180,-90+at],[180,90-at]]).minorExtent([[-180,-80-at],[180,80+at]])};M.greatArc=function(){function bo(bt){return bt.source}function bp(bt){return bt.target}var bq=bo,bn,br=bp,bs;function bm(){return{type:"LineString",coordinates:[bn||bq.apply(this,arguments),bs||br.apply(this,arguments)]}}bm.distance=function(){return M.distance(bn||bq.apply(this,arguments),bs||br.apply(this,arguments))};bm.source=function(bt){if(!arguments.length){return bq}bq=bt,bn=typeof bt==="function"?null:bt;return bm};bm.target=function(bt){if(!arguments.length){return br}br=bt,bs=typeof bt==="function"?null:bt;return bm};bm.precision=function(){return arguments.length?bm:0};return bm};M.interpolate=function(bn,bo){function bm(bs,bD,br,bB){var bv=Math.cos(bD),bC=Math.sin(bD),bt=Math.cos(bB),bA=Math.sin(bB),bx=bv*Math.cos(bs),bq=bv*Math.sin(bs),bw=bt*Math.cos(br),bp=bt*Math.sin(br),bz=2*Math.asin(Math.sqrt(T(bB-bD)+bv*bt*T(br-bs))),bu=1/Math.sin(bz);var by=bz?function(bG){var bJ=Math.sin(bG*=bz)*bu,bF=Math.sin(bz-bG)*bu,bE=bF*bx+bJ*bw,bI=bF*bq+bJ*bp,bH=bF*bC+bJ*bA;return[Math.atan2(bI,bE)*al,Math.atan2(bH,Math.sqrt(bE*bE+bI*bI))*al]}:function(){return[bs*al,bD*al]};by.distance=bz;return by}return bm(bn[0]*Q,bn[1]*Q,bo[0]*Q,bo[1]*Q)};M.length=function(bm){F=0;M.stream(bm,aS);return F};var F;var aS={sphere:bg,point:bg,lineStart:ab,lineEnd:bg,polygonStart:bg,polygonEnd:bg};function ab(){var bo,bm,bn;aS.point=function(bq,br){bo=bq*Q,bm=Math.sin(br*=Q),bn=Math.cos(br);aS.point=bp};aS.lineEnd=function(){aS.point=aS.lineEnd=bg};function bp(bq,bt){var bs=Math.sin(bt*=Q),bv=Math.cos(bt),br=af((bq*=Q)-bo),bu=Math.cos(br);F+=Math.atan2(Math.sqrt((br=bv*Math.sin(br))*br+(br=bn*bs-bm*bv*bu)*br),bm*bs+bn*bv*bu);bo=bq,bm=bs,bn=bv}}function am(bo,bn){function bm(bq,br){var bs=Math.cos(bq),bt=Math.cos(br),bp=bo(bs*bt);return[bp*bt*Math.sin(bq),bp*Math.sin(br)]}bm.invert=function(bp,bu){var bq=Math.sqrt(bp*bp+bu*bu),bt=bn(bq),br=Math.sin(bt),bs=Math.cos(bt);return[Math.atan2(bp*br,bq*bs),Math.asin(bq&&bu*br/bq)]};return bm}var bd=am(function(bm){return Math.sqrt(2/(1+bm))},function(bm){return 2*Math.asin(bm/2)});(M.azimuthalEqualArea=function(){return aV(bd)}).raw=bd;var b=am(function(bm){var bn=Math.acos(bm);return bn&&bn/Math.sin(bn)},ah);(M.azimuthalEquidistant=function(){return aV(b)}).raw=b;function ba(bo,bm){var br=Math.cos(bo),bp=function(bt){return Math.tan(J/4+bt/2)},bs=bo===bm?Math.sin(bo):Math.log(br/Math.cos(bm))/Math.log(bp(bm)/bp(bo)),bq=br*Math.pow(bp(bo),bs)/bs;if(!bs){return R}function bn(bt,bv){if(bq>0){if(bv<-aX+at){bv=-aX+at}}else{if(bv>aX-at){bv=aX-at}}var bu=bq/Math.pow(bp(bv),bs);return[bu*Math.sin(bs*bt),bq-bu*Math.cos(bs*bt)]}bn.invert=function(bu,bw){var bt=bq-bw,bv=az(bs)*Math.sqrt(bu*bu+bt*bt);return[Math.atan2(bu,bt)/bs,2*Math.atan(Math.pow(bq/bv,1/bs))-aX]};return bn}(M.conicConformal=function(){return a3(ba)}).raw=ba;function H(bo,bm){var bq=Math.cos(bo),br=bo===bm?Math.sin(bo):(bq-Math.cos(bm))/(bm-bo),bp=bq/br+bo;if(af(br)<at){return bk}function bn(bs,bu){var bt=bp-bu;return[bt*Math.sin(br*bs),bp-bt*Math.cos(br*bs)]}bn.invert=function(bt,bu){var bs=bp-bu;return[Math.atan2(bt,bs)/br,bp-az(br)*Math.sqrt(bt*bt+bs*bs)]};return bn}(M.conicEquidistant=function(){return a3(H)}).raw=H;var t=am(function(bm){return 1/bm},Math.atan);(M.gnomonic=function(){return aV(t)}).raw=t;function R(bm,bn){return[bm,Math.log(Math.tan(J/4+bn/2))]}R.invert=function(bm,bn){return[bm,2*Math.atan(Math.exp(bn))-aX]};function a2(br){var bm=aV(br),bq=bm.scale,bp=bm.translate,bn=bm.clipExtent,bo;bm.scale=function(){var bs=bq.apply(bm,arguments);return bs===bm?bo?bm.clipExtent(null):bm:bs};bm.translate=function(){var bs=bp.apply(bm,arguments);return bs===bm?bo?bm.clipExtent(null):bm:bs};bm.clipExtent=function(bu){var bt=bn.apply(bm,arguments);if(bt===bm){if(bo=bu==null){var bs=J*bq(),bv=bp();bn([[bv[0]-bs,bv[1]-bs],[bv[0]+bs,bv[1]+bs]])}}else{if(bo){bt=null}}return bt};return bm.clipExtent(null)}(M.mercator=function(){return a2(R)}).raw=R;var a1=am(function(){return 1},Math.asin);(M.orthographic=function(){return aV(a1)}).raw=a1;var D=am(function(bm){return 1/(1+bm)},function(bm){return 2*Math.atan(bm)});(M.stereographic=function(){return aV(D)}).raw=D;function v(bm,bn){return[Math.log(Math.tan(J/4+bn/2)),-bm]}v.invert=function(bm,bn){return[-bn,2*Math.atan(Math.exp(bm))-aX]};(M.transverseMercator=function(){var bn=a2(v),bm=bn.center,bo=bn.rotate;bn.center=function(bp){return bp?bm([-bp[1],bp[0]]):(bp=bm(),[bp[1],-bp[0]])};bn.rotate=function(bp){return bp?bo([bp[0],bp[1],bp.length>2?bp[2]+90:90]):(bp=bo(),[bp[0],bp[1],bp[2]-90])};return bo([0,0,90])}).raw=v;return M};this.lK=function(a){return this.geoProjection.invert(a)};this.vG=function(a){return this.geoPath(a)};this.r2=function(){this.mapObject=this.d3Geo();var f=this.meta.map.geojson.global;var h=this.marginLeft+this.offsetX+this.left+(this.x/2);var g=this.marginTop+this.offsetY+this.top+(this.y/2);var d=this.layoutComb?this.layoutWidth:this.width;var b=this.layoutComb?this.layoutHeight:this.height;var e=this.eventMapZoom?this.eventMap.zom:this.mapConfig&&this.mapConfig.zoom?this.mapConfig.zoom:this.mapProjection=="orthographic"?this.zoom:f.zoom;var a=this.mapProjection=="orthographic"&&this.geoProjection?this.geoProjection.rotate():this.eventMapCenter?this.eventMapCenter:this.mapConfig&&this.mapConfig.center?[-this.mapConfig.center[0],-this.mapConfig.center[1]]:[f.center[0],f.center[1]];var c=this.meta.canvas.ctx.canvas.getContext("2d");this.geoGraticule=this.mapObject.graticule()();this.geoCanvasScale=this.mapProjection=="mercator"?[this.y*e/(2*Math.PI)]:this.mapProjection=="orthographic"?b/2*0.86:Math.min(this.x,this.y)/2;this.geoCanvasCenter=this.mapProjection=="orthographic"?[d/2,b/2]:[h,g];switch(this.mapProjection){case"mercator":this.geoProjection=this.mapObject.mercator().center(a).scale(this.geoCanvasScale).translate(this.geoCanvasCenter);break;case"albers":this.geoProjection=this.mapObject.albers().center(a).scale(this.geoCanvasScale*e).translate(this.geoCanvasCenter).clipAngle(90).precision(0.5);break;case"orthographic":this.geoProjection=this.mapObject.orthographic().scale(this.geoCanvasScale*e).translate(this.geoCanvasCenter).clipAngle(90).precision(0.5).rotate(a);break}this.geoPath=this.mapObject.path().projection(this.geoProjection).context(c)}};CanvasXpress.images={"01":"https://www.canvasxpress.org/assets/images/core/01.png","02":"https://www.canvasxpress.org/assets/images/core/02.png","03":"https://www.canvasxpress.org/assets/images/core/03.png","04":"https://www.canvasxpress.org/assets/images/core/04.png","05":"https://www.canvasxpress.org/assets/images/core/05.png","06":"https://www.canvasxpress.org/assets/images/core/06.png","07":"https://www.canvasxpress.org/assets/images/core/07.png","08":"https://www.canvasxpress.org/assets/images/core/08.png","10":"https://www.canvasxpress.org/assets/images/core/10.png","11":"https://www.canvasxpress.org/assets/images/core/11.png","15":"https://www.canvasxpress.org/assets/images/core/15.png","23":"https://www.canvasxpress.org/assets/images/core/23.png","29":"https://www.canvasxpress.org/assets/images/core/29.png","30":"https://www.canvasxpress.org/assets/images/core/30.png","31":"https://www.canvasxpress.org/assets/images/core/31.png","32":"https://www.canvasxpress.org/assets/images/core/32.png","36":"https://www.canvasxpress.org/assets/images/core/36.png","46":"https://www.canvasxpress.org/assets/images/core/46.png","47":"https://www.canvasxpress.org/assets/images/core/47.png","48":"https://www.canvasxpress.org/assets/images/core/48.png","49":"https://www.canvasxpress.org/assets/images/core/49.png","50":"https://www.canvasxpress.org/assets/images/core/50.png","54":"https://www.canvasxpress.org/assets/images/core/54.png","56":"https://www.canvasxpress.org/assets/images/core/56.png","58":"https://www.canvasxpress.org/assets/images/core/58.png","59":"https://www.canvasxpress.org/assets/images/core/59.png","60":"https://www.canvasxpress.org/assets/images/core/60.png","61":"https://www.canvasxpress.org/assets/images/core/61.png","62":"https://www.canvasxpress.org/assets/images/core/62.png","63":"https://www.canvasxpress.org/assets/images/core/63.png","67":"https://www.canvasxpress.org/assets/images/core/67.png","68":"https://www.canvasxpress.org/assets/images/core/68.png","69":"https://www.canvasxpress.org/assets/images/core/69.png","71":"https://www.canvasxpress.org/assets/images/core/71.png","99":"https://www.canvasxpress.org/assets/images/core/99.png",canvasXpress:"data:image/png;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",cytoplasm:"https://www.canvasxpress.org/assets/images/core/cytoplasm.png",epr:"https://www.canvasxpress.org/assets/images/core/epr.png",extracellular:"https://www.canvasxpress.org/assets/images/core/extracellular.png",lisosome:"https://www.canvasxpress.org/assets/images/core/lisosome.png",lysosome:"https://www.canvasxpress.org/assets/images/core/lysosome.png",microsome:"https://www.canvasxpress.org/assets/images/core/microsome.png",mitochondria:"https://www.canvasxpress.org/assets/images/core/mitochondria.png",mitochondria2:"https://www.canvasxpress.org/assets/images/core/mitochondria2.png",nucleous:"https://www.canvasxpress.org/assets/images/core/nucleous.png",nucleus:"https://www.canvasxpress.org/assets/images/core/nucleus.png",peroxisome:"https://www.canvasxpress.org/assets/images/core/peroxisome.png"};CanvasXpress.icons={classes:{cxaw:"{l:10;w:3px;s:#5369ff;f:#ffffff;}",cl54:"{f:#1F457E;}",cl55:"{f:#C72037;}",cxc0:"{w:0px;f:#999999;}",cl26:"{f:#0365C0;}",clt11:"{f:#E11640;}",cxtn30:"{n: 30px sans-serif;}",clang0:"{f:#DD1B16;}",cxb0:" {w:0px;f:#000000;}",cxa1:" {l:10;w:3px;f:none;s:#5369ff;}",cxab:"{s:#5369ff;f:#292929;}",cl8:"{f:#3D5CA9;}",cl20:"{f:#F2F2F2;}",cxtn160:"{n: 160px sans-serif;}",cl58:"{f:#FFFFFF;}",cxtn10:"{n: 10px sans-serif;}",clt13:"{f:#FE897F;}",cxti85:"{n: italic 85px Georgia;}",cxtn140:"{n: 140px sans-serif;}",cl33:"{f:#7FFE1A;}",clp3:"{f:#f85756;}",cxblackb:"{s:#000000;f:#000000;w:15px;}",clt17:"{f:#FEDFB2;}",cl22:"{f:#424242;}",cxa:" {l:10;w:4px;f:none;s:#5369ff;}",cxts100:"{n: italic 100px Brush Script MT;}",cxwhite:" {s:#ffffff;w:2px;}",clstr2:"{f:#7D353B;}",clt3:"{f:#80D3FA;}",cxr0:"{w:0px;f:#cc0000;}",cxb2:"{l:10;w:1px;f:#292929;s:#292929;}",cl13:"{f:#0000FE;}",cxtn70:"{n: 70px sans-serif;}",cl9:"{f:#0691CC;}",clvg:"{f:#40B27F;s:#40B27F;}",cxrr:"{s:#ff0000;f:#ff0000;}",cxti100:"{n: italic 100px Georgia;}",clp5:"{f:#002351;}",cxtn100:"{n: 100px sans-serif;}",cl2:"{f:#F7981C;}",clang1:"{f:#A6120D;}",cl34:"{f:#0DDA83;}",clnjs2:"{f:#ffffff;}",clp4:"{f:#ffc471;}",cl35:"{f:#FDEE01;}",cxyy:"{s:#ffff00;f:#ffff00;}",cxb:"{l:10;w:4px;f:none;s:#292929;}",clang3:"{f:#B3B3B3;}",cxa2:" {l:10;w:1px;f:#5369ff;s:#5369ff;}",clr:"{f:#2369BE;}",cl27:"{f:#164F86;}",clsh:"{f:#1691DC;}",cxwhiteb:" {s:#ffffff;w:15px;f:none;}",cl6:"{f:#7B3691;}",cxts70:"{n: italic 70px Brush Script MT;}",cl53:"{f:#EB9129;}",cxc:"{l:10;w:4px;f:none;s:#999999;}",cxbw:"{l:10;w:3px;s:#292929;f:#ffffff}",cxblack:"{s:#000000;f:#000000;w:0.5px;}",cxred:"{s:#ff0000;w:10px;}",cxtn50:"{n: 50px sans-serif;}",cxtn40:"{n: 40px sans-serif;}",clt8:"{f:#CE93D7;}",cl18:"{f:#FFF;}",clt5:"{f:#29B6F5;}",cxa0:" {w:0px;f:#5369ff;}",cl15:"{f:#00FEFE;}",clt15:"{f:#F91642;}",clt4:"{f:#4FC2F6;}",clt9:"{f:#BA68C8;}",cxtbw100:"{n: bold 100px sans-serif;s:#ffffff;f:#ffffff;}",cxbb:"{s:#292929;f:#292929;}",cxr:" {l:10;w:4px;f:none;s:#ff0000;}",cl14:"{f:#00FE00;}",cl19:"{f:#00608F;}",cxtb100:"{n: bold 100px sans-serif;}",cl21:"{f:#FFFFFF;}",cxblue:"{s:#5369ff;w:5px;}",clt14:"{f:#FE5252;}",cxtxr:"{f:none;s:#ff0000;w:4px;}",cl1:"{f:#F7BA15;}",cxtn120:"{n: 120px sans-serif;}",clnjs0:"{f:#539E43;}",cxbc:"{s:#292929;f:#999999;}",cxts200:"{n: italic 200px Brush Script MT;}",cxa3:" {l:10;w:1px;f:none;s:#5369ff;}",clp1:"{f:#00a0d2;}",clt20:"{f:#FEA725;}",cxw0:" {w:0px;f:#ffffff;}",cl17:"{f:#FEFE00;}",cl31:"{f:#0000CB;}",clt7:"{f:#E0BDE7;}",cxxx:" {s:#ffffff;w:15px;f:none;}",cxts60:"{n: italic 60px Brush Script MT;}",cxtxw:"{f:none;s:#ffffff;w:4px;}",cxcc:"{s:#999999;f:#999999;}",cxtxa:"{f:none;s:#5369ff;w:4px;}",cl52:"{f:#5B879B;}",cxts80:"{n: italic 80px Brush Script MT;}",cl7:"{f:#462D8F;}",clvb:"{f:#34485B;s:#34485B;}",cxbms:"{s:#BE2BBB;f:#BE2BBB;}",clt12:"{f:#FEC8C4;}",cl40:"{f:#F7BA15;}",clphp0:"{fill-rule:evenodd;clip-rule:evenodd;f:#6884BA;}",cl28:"{f:#002452;}",cl50:"{f:#7199A6;}",cl25:"{f:#51A7F9;}",clstr3:"{f:#BD4043;}",cxts150:"{n: italic 150px Brush Script MT;}",cl3:"{f:#EF5522;}",cl24:"{f:#A8D6FF;}",cxtn20:"{n: 20px sans-serif;}",cl37:"{f:#E24520;}",clt1:"{f:#269BCF;}",cxts90:"{n: italic 90px Brush Script MT;}",clstr1:"{f:#FF4B4B;}",cl11:"{f:#CCDC38;}",cl56:"{f:#E8762D;}",cxorange:"{w:3px;s:#E26E38;f:#E26E38}",clrx:"{f:#00D8FF;}",clt19:"{f:#FEB64C;}",cxaa:"{s:#5369ff;f:#5369ff;}",cl41:"{f:#F6EA38;}",cl16:"{f:#FE00FE;}",clt6:"{f:#B12F83;}",cl0:"{f:#F6EA38;}",cl51:"{f:#5C6692;}",clang2:"{f:#FFFFFF;}",cl32:"{f:#0080FF;}",clnjs1:"{f:#333333;}",cxtn90:"{n: 90px sans-serif;}",clt10:"{f:#AA47BC;}",clp2:"{f:#0465c0;}",clt0:"{f:#FFFFFF;}",cl10:"{f:#64AD45;}",cxac:"{s:#5369ff;f:#999999;}",cl12:"{f:#FE0000;}",cxb3:"{l:10;w:1px;f:none;s:#292929;}",clt2:"{f:#B3E5FC;}",clt18:"{f:#FECB7F;}",clt16:"{f:#FE9D0C;}",cl23:"{f:#000643;}",cxwb:"{l:10;w:3px;s:#ffffff;f:#000000;}",cl30:"{f:#000040;}",cxtn180:"{n: 180px sans-serif;}",cxnc:"{s:none;f:none;}",cl5:"{f:#AC1E47;}",cxww:"{s:#ffffff;f:#ffffff;}",cxblueb:"{s:#5369ff;w:15px;f:none;}",cxtxb:"{f:none;s:#000000;w:4px;}",cxtn60:"{n: 60px sans-serif;}",clphp1:"{fill-rule:evenodd;clip-rule:evenodd;}",cl57:"{f:#EC1E24;}",cxg:"{s:#999999;w:15px;f:none;}",cl36:"{f:#FFAB00;}",cl4:"{f:#EB3323;}",cxtn80:"{n: 80px sans-serif;}"},use:{dt_cdfremove:["p_cg2axes","p_cg2fitcdf","v_cancelsmall"],gc_ghcell:["p_cghdata1","p_cghdata2","p_cghaxes","h_hcell"],ar_bl:["ar_bl"],ar_tm:["ar_tm"],c_rails:["c_rails"],m_zzz:["dummy"],v_cancel2w:["v_cancel2w"],gc_gohorizontal:["p_cg1axeshorizontal","p_cg1datahorizontal"],ch_cctrl2:["ch_cctrl2"],g_linearfit:["g_linearfit"],dt_quantregremove:["p_cg2axes","p_cg2fitquantreg","p_cg2datacor","v_cancelsmall"],ly_doe:["ly_doe"],chte_striketrough:["chte_striketrough"],ch_ly:["ch_ly"],ar_hs:["ar_hs"],ch_sat:["ch_sat"],cd_upload:["cd_upload"],dt_denfilled:["p_cg2axes","p_cg2fitden2"],lg_h:["lg_h","lg_l"],c_stata:["c_stata"],ch_cctrl:["ch_cctrl"],wp_data:["wp_data"],p_g3axestitles:["p_g3","p_g3axestitles"],op_thumbup2:["op_thumbup2"],ps_zzz:["dummy"],wp_arguments:["wp_arguments"],chte_superscript:["chte_superscript"],v_cancelsmall:["v_cancelsmall"],cl_verticalk:["cl_verticalbg","cl_vertical"],dt_cdf:["p_cg2axes","p_cg2fitcdf"],p_g3axes:["p_g3","p_g3axes"],cr_zzz:["dummy"],sr_aad:["sr_aad"],ch_ox2:["ch_ox2"],dt_zzz:["dummy"],ar_tls:["ar_tls"],b_gsswitch:["b_gsswitch","ar_dctrs2","ar_dcbls2"],wp_send:["wp_send"],m_body:["m_body"],lg_g1:["lg_g1","lg_l"],ly_doeremove:["ly_doe","v_cancelsmall"],gr_style:["gr_style"],ch_li:["ch_li"],dtt_pivotremove:["dtt_pivot","v_cancelsmall"],ps_toloc:["ps_toloc"],v_play:["v_play"],v_stop:["v_stop"],mr_zzz:["dummy"],fp_pinremove:["fp_pin","v_cancelsmall"],dps_inout:["dps_inout"],chte_fontcolor:["chte_fontcolor"],chte_outdent:["chte_outdent"],tm_zzz:["dummy"],ps_toloc2:["ps_toloc2"],c_wallstreetjournal:["c_wallstreetjournal"],wp_list:["wp_list"],chte_spacing:["chte_spacing"],sp_closer:["sp_closer"],c_nodejs:["c_nodejs"],wp_multilayer:["wp_multilayer"],gd_g1line:["p_cg1axesvertical","p_cg1datavertical","p_dgline"],wp_threebars4:["wp_threebars4"],wp_oveview:["wp_oveview"],dt_kmremove:["p_cg2axes","p_cg2fitkm","v_cancelsmall"],p_g2citation:["p_g2","p_g2citation"],g_violin:["g_violin"],g_tree:["g_tree"],fp_pin:["fp_pin"],ch_oaa:["ch_oaa"],dtt_transpose:["dtt_transpose"],g_dotplot:["g_dotplot"],sl_lightbulbon:["sl_lightbulbon"],sw_updown:["sw_up","sw_down"],g_scatter2d:["g_scatter2d"],at_shd:["at_shd"],dtp_range:["dt_range"],ch_oy1:["ch_oy1"],b_bbodywindow:["b_body2","b_window","b_pail"],tx_shadow:["tx_shadow"],sp_spacing:["sp_spacing"],c_zzz:["dummy"],c_rr:["c_rr"],b_bzzz:["dummy"],sl_lightbulboff:["sl_lightbulboff"],a_distributever:["a_distributever"],op_chat2:["op_chat2"],ly_zzz:["dummy"],at_palette:["at_palette"],g_dotline:["g_dotline"],bx_typerange:["bx_typerange"],dt_contourdata:["g_contour2","p_cg2data"],at_colshpsze:["at_colshpsze"],v_cancel:["v_cancel"],bx_medianc:["bx_medianc"],g_histogram:["g_histogram"],z_in:["z_in"],g_genome:["g_genome"],gc_gg1:["p_cg1axesvertical","p_cg1datavertical"],v_cancel2b:["v_cancel2b"],bx_data:["bx_data"],v_cancel2:["v_cancel2"],bx_violinbp:["bx_violinbp"],ar_blm:["ar_blm"],a_movefront:["a_movefront"],ch_lj:["ch_lj"],lg_l:[],dt_denfilledline:["p_cg2axes","p_cg2fitden2","ln_stylesolidver"],bx_meanc:["bx_meanc"],p_g2axistitley:["p_g2","p_g2axistitley"],p_g1samplelabels:["p_g1","p_g1samplelabels"],ch_coption:["ch_coption"],g_circular:["g_circular"],ar_ls:["ar_ls"],fp_pencil:["fp_pencil"],a_alignbottom:["a_alignbottom"],p_g1titlesubtitle:["p_g1","p_g1titlesubtitle"],rt_zzz:["dummy"],c_vuec:["c_vuec"],ch_lf:["ch_lf"],dps_toinside:["dps_toinside"],dps_collapse:["dps_collapse"],ga_zzz:["dummy"],sv_pictures:["sv_pictures"],op_thumbdown:["op_thumbdown"],op_copilot:["op_copilot"],o_ghsmpsp:["o_ghsmps","ch_ocodemed"],ps_topright:["ps_topright"],sl_eopen:["e_open"],sv_zzz:["dummy"],sp_thickness2:["sp_thickness2"],g_sunburst:["g_sunburst"],sl_checkboxon:["sl_checkboxon"],ch_lh:["ch_lh"],p_g2zzz:["dummy"],dt_contourremove:["g_contour","v_cancelsmall"],wp_userinterface2:["wp_userinterface2"],dt_histstag:["p_cg2axes","p_cg2datahist","p_cg2datahiststag"],g_venn:["g_venn"],ch_lp:["ch_lp"],b_bbody:["b_body","b_pail"],ch_ccommand:["ch_ccommand"],z_zoomw:["z_zoomw"],dps_expand3:["dps_expand3"],wp_events2:["wp_events2"],tx_zzz:["dummy"],gr_stylesolid:["gr_stylesolid"],at_pat:["at_pat"],c_opensource:["c_opensource"],ln_styledashed:["ln_styledashed"],ar_t:["ar_t"],m_right:["m_body","m_right"],g_parallelcoordinates:["g_parallelcoordinates"],dps_expand2:["dps_expand2"],z_zoom:["z_zoom"],ar_minmax:["ar_minmax"],a_distributehor:["a_distributehor"],c_rrc:["c_rrc"],ch_spercent:["ch_spercent"],bx_violin:["bx_violin"],p_g1subtitle:["p_g1","p_g1subtitle"],ch_splus:["ch_splus"],n_zzz:["dummy"],rt_c2:["rt_c2"],ch_lg:["ch_lg"],g_kaplanmeier:["g_kaplanmeier"],ch_ofloor:["ch_ofloor"],sh_square:["sh_square"],bx_type:["bx_type"],chte_highlightcolor:["chte_highlightcolor"],at_trn:["at_trn"],a_alignleft:["a_alignleft"],c_react:["c_react"],op_config:["op_config"],sp_farther:["sp_farther"],dps_collapsew:["dps_collapsew"],lg_zzz:["dummy"],ch_lx:["ch_lx"],c_canvasxpress:["c_canvasxpress"],dtt_zzz:["dummy"],dt_corremove:["p_cg2axes","p_cg2fitcor","p_cg2datacor","v_cancelsmall"],wp_datawrangling2:["wp_datawrangling2"],v_cancel2g:["v_cancel2g"],chte_clearformat:["chte_clearformat"],mr_all:["mr_all"],dtp_zzz:["dummy"],ch_osqrt:["ch_osqrt"],at_sze:["at_sze"],sl_check:["sl_check"],c_jsfiddle:["c_jsfiddle"],ar_rs:["ar_rs"],fp_funnel:["fp_funnel"],at_shp:["at_shp"],c_phpc:["c_phpc"],ar_b:["ar_b"],fr_third:["fr_third"],ch_oy2:["ch_oy2"],dt_cor:["p_cg2axes","p_cg2fitcor","p_cg2datacor"],p_g3axistitlez:["p_g3","p_g3axistitlez"],wp_tabpanel:["wp_tabpanel"],ps_bottomleft:["ps_bottomleft"],bx_wishkers:["bx_wishkers"],g_upset:["g_upset"],c_pythonc:["c_pythonc"],o_ghvars:["o_ghvars"],g_functions:["g_functions"],p_g1axis1:["p_g1","p_g1axis1"],c_cxplot:["c_cxplot"],cd_folder:["cd_folder"],op_chat:["op_chat"],g_hexplotbinplot:["g_hexplotbinplot"],p_ghcitation:["p_gh","p_ghcitation"],p_g3axistitley:["p_g3","p_g3axistitley"],ch_calt:["ch_calt"],sr_zzz:["dummy"],v_zzz:["dummy"],p_ghsampletitle:["p_gh","p_ghsampletitle"],wp_por:["wp_por"],ch_olin:["ch_olin"],ar_vs:["ar_vs"],v_last:["v_last"],c_rcode:["c_rcode"],wp_initialization:["wp_initialization"],ch_oai:["ch_oai"],g_density:["g_density"],sr_19:["sr_19"],ch_lr:["ch_lr"],wp_constructor:["wp_constructor"],ar_tlm:["ar_tlm"],fr_fourth:["fr_fourth"],wp_audittrail4:["wp_audittrail4"],c_jupyter:["c_jupyter"],gr_g2xy:["gr_g2xy"],ch_lu:["ch_lu"],ch_ln:["ch_ln"],g_chord:["g_chord"],wp_broadcast:["wp_broadcast"],bx_meanb:["bx_meanb"],wp_threebars:["wp_threebars"],tm_history:["tm_history"],ch_lt:["ch_lt"],c_shiny:["c_shiny"],fr_threefourth:["fr_threefourth"],g_tcga:["g_map"],gd_g1marker:["p_cg1axesvertical","p_cg1datavertical","p_dgmarker"],g_gantt:["g_gantt"],g_stackedpercentline:["g_stackedpercentline"],dt_loess:["p_cg2axes","p_cg2fitcdf","p_cg2datacor"],ch_ox1:["ch_ox1"],dp_binned:["dp_binned"],at_sch:["at_sch"],dt_loessremove:["p_cg2axes","p_cg2fitcdf","p_cg2datacor","v_cancelsmall"],ch_ls:["ch_ls"],ch_olinsmall:["ch_olinsmall"],ar_cross:["ar_cross"],p_g1axistitle1:["p_g1","p_g1axistitle1"],dt_quantreg:["p_cg2axes","p_cg2fitquantreg","p_cg2datacor"],fr_one:["fr_one"],sv_diskjson:["sv_diskjson"],g_streamgraph:["g_streamgraph"],v_forward:["v_forward"],dp_binl:["dp_binl"],ch_oz:["ch_oz"],gr_styledotted:["gr_styledotted"],sr_azi:["sr_azi"],ch_oceil:["ch_oceil"],rt_ac2:["rt_ac2"],fr_sixth:["fr_sixth"],dt_denfit:["p_cg2axes","p_cg2fitden","p_cg2dataden"],i_zzz:["dummy"],b_grvb:["b_grvb"],dp_bin:["dp_bin"],v_previous:["v_previous"],ga_axisx:["ga_axisx"],wp_pcr:["wp_pcr"],ch_capple:["ch_capple"],ch_la:["ch_la"],dummy:[],dt_qqremove:["p_cg2axes","p_cg2fitqq","v_cancelsmall"],at_ellipse:["at_ellipse"],sp_thinner:["sp_thinner"],dps_resize:["dps_resize"],chte_list:["chte_list"],gc_ghsample:["p_cghdata1","p_cghdata2","p_cghaxes","h_hsample"],g_splom:["g_splom"],p_g3citation:["p_g3","p_g3citation"],g_oncoprint:["g_oncoprint"],gr_g2z:["gr_g2z"],wp_lightning:["wp_lightning"],wp_fileformat:["wp_fileformat"],p_g1title:["p_g1","p_g1title"],at_motion:["at_motion"],ar_bm:["ar_bm"],sl_checkboxoff:["sl_checkboxoff"],ar_tl:["ar_tl"],p_g2axestitles:["p_g2","p_g2axestitles"],dps_zzz:["dummy"],dt_denremove:["p_cg2axes","p_cg2fitden","v_cancelsmall"],ch_cshift2:["ch_cshift2"],fp_zzz:["dummy"],p_g2axes:["p_g2","p_g2axes"],a_group:["a_group"],ch_szzz:["dummy"],chte_numbering:["chte_numbering"],c_angular:["c_angular"],dt_contourlines:["g_contour3"],cl_horizontal:["cl_horizontal"],sh_hexagon:["sh_hexagon"],p_ghzzz:["dummy"],ch_creturn:["ch_creturn"],sw_zzz:["dummy"],wp_layout:["wp_layout"],wp_audittrail:["wp_audittrail"],chte_baselinebottom:["chte_baselinebottom"],g_bullet:["g_bullet"],ly_segregate:["ly_segregate"],wp_documentation:["wp_documentation"],a_moveback:["a_moveback"],wp_link:["wp_link"],g_network:["g_network"],gc_gg2:["p_cg2axes","p_cg2data"],ln_zzz:["dummy"],dp_binr:["dp_binr"],ar_dctrs:["ar_dctrs"],o_g1:["o_g1"],dtp_max:["dt_max"],gc_ggh:["p_cghdata1","p_cghdata2","p_cghaxes"],fr_fivesixth:["fr_fivesixth"],ch_oitalic:["ch_oitalic"],dt_den:["p_cg2axes","p_cg2fitden"],cd_lines:["cd_doc","cd_lines"],ch_ocodemed:["ch_ocodemed"],sw_down:["sw_down"],c_tableau:["c_tableau"],ch_omean:["ch_omean"],c_excel:["c_excel"],ch_lzzz:["dummy"],op_redo:["op_redo"],p_g1:["p_g1"],lg_legend:["lg_legend"],chte_aligncenter:["chte_aligncenter"],ch_ofx:["ch_ofx"],wp_dom:["wp_dom"],ch_oe:["ch_oe"],ar_bls:["ar_bls"],chte_baselinemiddle:["chte_baselinemiddle"],o_ghvarsp:["o_ghvars","ch_ocodemed"],g_treemap:["g_treemap"],wp_instances:["wp_instances"],dp_jittered:["dp_jittered"],n_edges:["n_edges"],cr_normal:["cr_normal"],g_line:["g_line"],ln_stylesolid:["ln_stylesolid"],g_lollipop:["g_lollipop"],wp_pc:["wp_pc"],g_tagcloud:["g_tagcloud"],chte_baselinetop:["chte_baselinetop"],wp_softwaredesign:["wp_softwaredesign"],ar_h:["ar_h"],ar_perp:["ar_l","ar_t","ar_r","ar_b"],ch_lb:["ch_lb"],p_ghtitlesubtitle:["p_gh","p_ghtitlesubtitle"],p_ghsamplelabels:["p_gh","p_ghsamplelabels"],sr_zad:["sr_zad"],wp_zzz:["dummy"],g_map:["g_map"],g_remotegraphs:["g_remotegraphs"],dt_contour:["g_contour"],b_btype:["b_type"],c_php:["c_php"],ch_ld:["ch_ld"],b_gzzz:["dummy"],ch_lw:["ch_lw"],c_jupyterc:["c_jupyterc"],b_bgradient:["b_bodygradient","b_pail"],gr_styledashed:["gr_styledashed"],b_gsori:["b_gsori","ar_dctrs2","ar_dcbls2"],m_double:["m_body","m_left","m_double"],gr_g1:["gr_g1"],ch_cdelete:["ch_cdelete"],ps_right:["ps_right"],cl_zzz:["dummy"],dtp_min:["dt_min"],dps_height:["dps_height"],b_grhr:["b_grhr"],sv_diskremove:["sv_disk","v_cancelsmall"],fr_fourfifth:["fr_fourfifth"],c_codepen:["c_codepen"],ga_axisxy:["ga_axisxy"],ps_topleft:["ps_topleft"],p_g3axisx:["p_g3","p_g3axisx"],wp_audittrail3:["wp_audittrail3"],g_meter:["g_meter"],cr_bezier:["cr_bezier"],p_ghsubtitle:["p_gh","p_ghsubtitle"],chte_underlined:["chte_underlined"],ar_lm:["ar_lm"],ch_oy:["ch_oy"],o_g1p:["o_g1","ch_ocodemed"],o_gzzz:["dummy"],wp_installation:["wp_installation"],c_nodejsc:["c_nodejsc"],wp_refactor:["wp_refactor"],c_r:["c_r"],sv_disk:["sv_disk"],ch_onlog2:["ch_onlog2"],dps_tooutside:["dps_tooutside"],ch_olog:["ch_olog"],g_bubble:["g_bubble"],ch_lv:["ch_lv"],p_g2:["p_g2"],ar_trm:["ar_trm"],ch_ll:["ch_ll"],c_github:["c_github"],mr_right:["mr_all","mr_right"],c_rrcode:["c_rrcode"],cr_cumulative:["cr_cumulative"],bx_violint:["bx_violint"],op_refresh:["op_refresh"],p_g1axes:["p_g1","p_g1axes"],i_h:["i_left","i_right","i_labels"],p_g1axestitles:["p_g1","p_g1axestitles"],g_dumbbell:["g_dumbbell"],tx_format:["tx_format"],ch_cesc:["ch_cesc"],p_g2title:["p_g2","p_g2title"],ch_cshift:["ch_cshift"],g_pie:["g_pie"],tb_table:["tb_table"],rt_c:["rt_c"],g_nonlinearfit:["g_nonlinearfit"],v_pause:["v_pause"],tb_stripped:["tb_stripped"],v_next:["v_next"],ps_bottomright:["ps_bottomright"],v_first:["v_first"],ar_perpm:["ar_lm","ar_tm","ar_rm","ar_bm"],ch_olog10:["ch_olog10"],c_shinyc:["c_shinyc"],bx_notched:["bx_notched"],b_grvt:["b_grvt"],chte_alignjustify:["chte_alignjustify"],at_col2:["at_col2"],ch_ologsmall:["ch_ologsmall"],dps_square:["dps_square"],a_aligntop:["a_aligntop"],wp_userinterface:["wp_userinterface"],ch_oe2:["ch_oe2"],sw_up:["sw_up"],op_more:["op_more"],c_angularc:["c_angularc"],g_stackedpercent:["g_stackedpercent"],ch_czzz:["dummy"],sp_thickness:["sp_thickness"],tb_app:["tb_app"],gd_g2marker:["p_cg2axes","p_cg2data","p_dgmarker"],chte_subscript:["chte_subscript"],bx_wishkersd:["bx_wishkersd"],b_grc:["b_grc"],wp_license:["wp_license"],bx_zzz:["dummy"],tx_tonumeric:["tx_tonumeric"],sv_video:["sv_video"],ar_dcbls:["ar_dcbls"],ar_l:["ar_l"],dt_histremove:["p_cg2axes","p_cg2datahist","v_cancelsmall"],dt_contourfilledlines:["p_cg2contourfilledlines"],dps_width:["dps_width"],g_arealine:["g_arealine"],cl_horizontalk:["cl_horizontalbg","cl_horizontal"],ar_perps:["ar_ls","ar_ts","ar_rs","ar_bs"],c_rc:["c_rc"],dtt_pivot:["dtt_pivot"],dp_zzz:["dummy"],wp_interactiveplots:["wp_interactiveplots"],p_g3subtitle:["p_g3","p_g3subtitle"],ch_sminus:["ch_sminus"],wp_scale:["wp_scale"],g_scatterbubble2d:["g_scatterbubble2d"],p_g2axistitlex:["p_g2","p_g2axistitlex"],dtp_count:["dt_count"],ly_splomremove:["g_splom","v_cancelsmall"],c_streamlitc:["c_streamlitc"],b_bbodygradient:["b_bodygradient","b_windowbg2","b_pail"],cd_select:["cd_select"],dt_km:["p_cg2axes","p_cg2fitkm"],ar_tr:["ar_tr"],sh_oval:["sh_oval"],dtp_exact:["dt_exact"],ly_splom:["ly_splom"],dt_hist:["p_cg2axes","p_cg2datahist"],b_bwindowsolid:["b_body","b_windowbg","b_pail"],g_graph:["g_graph"],i_hist:["i_hist"],op_question:["op_question"],wp_development:["wp_development"],g_barline:["g_barline"],ch_sampersand:["ch_sampersand"],wp_cloud:["wp_cloud"],gc_ghvariable:["p_cghdata1","p_cghdata2","p_cghaxes","h_hvariable"],z_out:["z_out"],p_g1axis2:["p_g1","p_g1axis2"],n_nodes:["n_nodes"],wp_examples:["wp_examples"],gc_gerrors:["p_cg1axesvertical","p_cg1dataverticalshort","p_cg1errors"],bx_wishkerss:["bx_wishkerss"],b_bwindow:["b_body","b_window","b_pail"],tm_time:["tm_time"],p_g3titlesubtitle:["p_g3","p_g3titlesubtitle"],dp_binc:["dp_binc"],g_donnut:["g_donnut"],g_density2:["g_density2"],op_zzz:["dummy"],ar_ts:["ar_ts"],ch_of:["ch_of"],op_thumbdown2:["op_thumbdown2"],dps_collapse2:["dps_collapse2"],ln_style:["ln_style"],c_economist:["c_economist"],gd_gzzz:["dummy"],rt_ac:["rt_ac"],ch_oe10:["ch_oe10"],a_order:["a_order"],p_g2axisy:["p_g2","p_g2axisy"],gr_g2x:["gr_g2x"],dps_expandw:["dps_expandw"],wp_po:["wp_po"],ar_brs:["ar_brs"],c_ggplot:["c_ggplot"],p_g2titlesubtitle:["p_g2","p_g2titlesubtitle"],ch_ssum:["ch_ssum"],fr_half:["fr_half"],ar_br:["ar_br"],ar_diag:["ar_tl","ar_tr","ar_br","ar_bl"],ch_lo:["ch_lo"],c_reactc:["c_reactc"],tb_row:["tb_row"],ar_zzz:["dummy"],gr_zzz:["dummy"],dt_binremove:["p_cg2axes","p_cg2bin","v_cancelsmall"],sv_image:["sv_image"],g_contour:["g_contour"],p_g3axisy:["p_g3","p_g3axisy"],ar_r:["ar_r"],c_solarized:["c_solarized"],ch_oparens:["ch_oparens"],ch_olog2:["ch_olog2"],chte_picture:["chte_picture"],op_dice:["op_dice"],ar_bs:["ar_bs"],dt_bin:["p_cg2axes","p_cg2bin"],g_radar:["g_radar"],chte_linespacing:["chte_linespacing"],cd_zzz:["dummy"],sp_thicker:["sp_thicker"],v_minus:["v_minus"],at_col:["at_col"],ch_cesc2:["ch_cesc2"],g_area:["g_area"],cl_vertical:["cl_vertical"],wp_code:["wp_code"],ch_snumber:["ch_snumber"],p_g1axistitle2:["p_g1","p_g1axistitle2"],g_stackedline:["g_stackedline"],wp_threebars2:["wp_threebars2"],ch_ocode:["ch_ocode"],c_python:["c_python"],dt_qq:["p_cg2axes","p_cg2fitqq"],at_zzz:["dummy"],b_grhl:["b_grhl"],wp_broadcast2:["wp_broadcast2"],sr_az:["sr_az"],ch_onlog10:["ch_onlog10"],wp_softwaredesign2:["wp_softwaredesign2"],a_moveforward:["a_moveforward"],dps_expand:["dps_expand"],ar_trs:["ar_trs"],p_gh:["p_gh"],ln_styledotted:["ln_styledotted"],g_correlation:["g_correlation"],sl_zzz:["dummy"],ch_oquantile:["ch_oquantile"],wp_fileformat2:["wp_fileformat2"],g_zzz:["dummy"],a_zzz:["dummy"],ch_oiter:["ch_oiter"],g_boxplot:["g_boxplot"],sl_eremove:["e_open","v_cancelsmall"],bx_mean:["bx_mean"],g_layout:["g_layout"],cd_doc:["cd_doc"],ar_v:["ar_v"],chte_alignright:["chte_alignright"],dt_kmconf:["p_cg2fitkmconf","p_cg2axes","p_cg2fitkm"],bx_medianw:["bx_medianw"],wp_datawrangling:["wp_datawrangling"],wp_audittrail2:["wp_audittrail2"],p_g3axistitlex:["p_g3","p_g3axistitlex"],tx_tostring:["tx_tostring"],ps_toloc3:["ps_toloc3"],p_g3axisz:["p_g3","p_g3axisz"],bx_violinu:["bx_violinu"],p_g2subtitle:["p_g2","p_g2subtitle"],cd_linesindent:["cd_doc","cd_linesindent"],chte_zzz:["dummy"],c_paultol:["c_paultol"],wp_warning:["wp_warning"],gc_govertical:["p_cg1axesvertical","p_cg1datavertical"],ch_ox:["ch_ox"],g_dashboard:["g_dashboard"],ch_lq:["ch_lq"],wp_threebars3:["wp_threebars3"],wp_events:["wp_events"],p_g1zzz:["dummy"],wp_events3:["wp_events3"],m_zlasso:["m_zlasso"],bx_connect:["bx_connect"],dt_denfithist:["p_cg2axes","p_cg2fitden","p_cg2datadenhist"],a_alignright:["a_alignright"],ln_stylesolidver:["ln_stylesolidver"],op_copilot2:["op_copilot2"],gr_g2y:["gr_g2y"],g_waterfall:["g_waterfall"],fr_zzz:["dummy"],p_ghtitle:["p_gh","p_ghtitle"],m_left:["m_body","m_left"],chte_alignleft:["chte_alignleft"],sv_svg:["sv_svg"],dt_contourfilled:["p_cg2contourfilled"],gd_g2line:["p_cg2axes","p_cg2data","p_dgline"],ps_center:["ps_center"],sp_heightness:["sp_heightness"],fr_twothird:["fr_twothird"],g_graph2:["g_graph2"],sl_radioon:["sl_radioon"],mr_left:["mr_all","mr_left"],dt_loessconf:["p_cg2fitcorconf","p_cg2axes","p_cg2fitcdf","p_cg2datacor"],p_g3title:["p_g3","p_g3title"],b_bwindowgradient:["b_body","b_windowgradient","b_pail"],p_ghvariabletitle:["p_gh","p_ghvariabletitle"],ch_oinfo:["ch_oinfo"],o_ghsmps:["o_ghsmps"],ch_ocodesmall:["ch_ocodesmall"],v_cancel3:["v_cancel3"],gc_ghspace:["p_cghdata1","p_cghdata2","p_cghaxes","h_hspace"],gc_gg3:["p_cg3axes","p_cg3data"],bx_wishkersn:["bx_wishkersn"],wp_user:["wp_user"],ch_lm:["ch_lm"],ar_diagm:["ar_tlm","ar_trm","ar_brm","ar_blm"],a_movebackward:["a_movebackward"],ar_brm:["ar_brm"],ps_top:["ps_top"],p_g2axisx:["p_g2","p_g2axisx"],g_bar:["g_bar"],v_backward:["v_backward"],sh_zzz:["dummy"],ch_le:["ch_le"],ar_diags:["ar_tls","ar_trs","ar_brs","ar_bls"],dt_corconf:["p_cg2fitcorconf","p_cg2axes","p_cg2fitcor","p_cg2datacor"],gc_gzzz:["dummy"],mr_bottom:["mr_all","mr_bottom"],wp_configuration:["wp_configuration"],bx_typewishkers:["bx_typewishkers"],m_wheel:["m_body","m_wheel"],ly_layout:["ly_layout"],gc_goverticalhorizontal:["p_cg1dataverticalhorizontal"],ch_ozzz:["dummy"],g_stacked:["g_stacked"],c_vue:["c_vue"],bx_violinc:["bx_violin","v_cancelsmall"],fr_fifth:["fr_fifth"],op_cancel:["op_cancel"],p_ghvariablelabels:["p_gh","p_ghvariablelabels"],sl_radiooff:["sl_radiooff"],p_g3:["p_g3"],ps_bottom:["ps_bottom"],op_undo:["op_undo"],sl_eclose:["e_close"],bx_median:["bx_median"],g_heatmap:["g_heatmap"],ch_lz:["ch_lz"],tb_col:["tb_col"],ch_lk:["ch_lk"],ga_axisxyz:["ga_axisxyz"],cd_json:["cd_json"],tb_zzz:["dummy"],g_scatter3d:["g_scatter3d"],tx_stringnumeric:["tx_stringnumeric"],g_fish:["g_fish"],b_gstype:["b_gstype","ar_dctrs2","ar_dcbls2"],c_streamlit:["c_streamlit"],wp_marker:["wp_marker"],ch_lc:["ch_lc"],v_plus:["v_plus"],c_railsc2:["c_railsc2"],g_facet:["g_facet"],ps_left:["ps_left"],gr_major:["gr_major"],g_sankey:["g_sankey"],dt_denfitfilled:["p_cg2axes","p_cg2fitden2","p_cg2dataden"],fp_funnelremove:["fp_funnel","v_cancelsmall"],lg_g2:["lg_g2","lg_l"],p_g1citation:["p_g1","p_g1citation"],mr_top:["mr_all","mr_top"],sr_aai:["sr_aai"],c_railsc:["c_railsc"],sp_zzz:["dummy"],ch_oa:["ch_oa"],cd_params:["cd_doc","cd_params"],ar_rm:["ar_rm"],wp_transparency:["wp_transparency"],g_ridgeline:["g_ridgeline"],p_g1sampletitle:["p_g1","p_g1sampletitle"],chte_indent:["chte_indent"],op_thumbup:["op_thumbup"],gr_minor:["gr_minor"]},gradients:{b_grhr:"<l id='hr-grad'><s o='5%'c='white'/><s o='95%'c='black'/></l>",c_canvasxpress:"<l id='cx-grad1'u='userSpaceOnUse'x1='31.3462'y1='420.1643'x2='31.3462'y2='450.9281'q='matrix(1 0 0 1 0 -398)'><s o='0's='stop-color:#FFD385'/><s o='1's='stop-color:#FFAE54'/></l><l id='cx-grad2'u='userSpaceOnUse'x1='36.3'y1='428.6523'x2='36.3'y2='452.6173'q='matrix(1 0 0 1 0 -398)'><s o='0's='stop-color:#FE6969'/><s o='1's='stop-color:#ED0C0C'/></l><l id='cx-grad3'u='userSpaceOnUse'x1='49.85'y1='433.0864'x2='49.85'y2='452.6595'q='matrix(1 0 0 1 0 -398)'><s o='0's='stop-color:#00B1DD'/><s o='1's='stop-color:#0081BD'/></l>",b_gsswitch:"<l id='gs-grad'q='rotate(90)'><s o='5%'c='black'/><s o='95%'c='white'/></l>",b_btype:"<l id='bl-grad'q='rotate(90)'><s o='5%'c='black'/><s o='95%'c='white'/></l>",at_shd:"<l id='s-grad'u='userSpaceOnUse'x1='50'y1='16.5161'x2='50'y2='46.4412'q='matrix(1 0 0 -1 0 102)'><s  o='0's='stop-color:#ADADAD'/><s o='1's='stop-color:#6B6B6B'/></l>",b_grvt:"<l id='vt-grad'q='rotate(90)'><s o='5%'c='black'/><s o='95%'c='white'/></l>",b_bwindowgradient:"<l id='w-grad'q='rotate(90)'><s o='5%'c='black'/><s o='95%'c='white'/></l>",i_hist:"<l id='l-grad'><s o='5%'c='white'/><s o='95%'c='black'/></l>",c_excel:"<l id='excel-grad1'u='userSpaceOnUse'x1='10.4295'y1='93.4497'x2='91.2468'y2='8.6135'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#DEF1DF'/><s o='1's='stop-color:#DBEBC3'/></l><l id='excel-grad2'u='userSpaceOnUse'x1='32.8982'y1='23.8811'x2='83.8607'y2='82.2735'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#06A817'/><s o='1's='stop-color:#003700'/></l><l id='excel-grad3'u='userSpaceOnUse'x1='4.0159'y1='98.7549'x2='102.7326'y2='-1.6166'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#06A817'/><s o='1's='stop-color:#003700'/></l><l id='excel-grad4'u='userSpaceOnUse'x1='19.1737'y1='87.3007'x2='78.6131'y2='23.2007'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#06A817'/><s o='1's='stop-color:#003700'/></l><l id='excel-grad5'u='userSpaceOnUse'x1='19.1737'y1='87.3007'x2='78.6131'y2='23.2007'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#06A817'/><s o='1's='stop-color:#003700'/></l><l id='exel-grad6'u='userSpaceOnUse'x1='47.2828'y1='36.174'x2='78.5223'y2='49.075'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#06A817'/><s o='1's='stop-color:#003700'/></l>",c_rrc:"<l id='rr-grad'u='userSpaceOnUse'x1='0'y1='53.205'x2='100'y2='53.205'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#BDBFC2'/><s o='1's='stop-color:#828287'/></l>",b_bgradient:"<l id='b-grad'q='rotate(90)'><s o='5%'c='black'/><s o='95%'c='white'/></l>",b_gstype:"<l id='gt-grad'q='rotate(90)'><s o='5%'c='black'/><s o='95%'c='white'/></l><r id='gt-gradr'><s o='5%'c='white'/><s o='95%'c='black'/></r>",c_pythonc:"<l id='py-a'x1='19.075'y1='18.782'x2='34.898'y2='34.658'u='userSpaceOnUse'q='matrix(3.065065,0,0,3.065065,-48.122185,-48.13158)'><s c='#387EB8'></s><s o='1'c='#366994'></s></l><l id='py-b'x1='28.809'y1='28.882'x2='45.803'y2='45.163'u='userSpaceOnUse'q='matrix(3.065065,0,0,3.065065,-48.122185,-48.13158)'><s c='#FFE052'></s><s o='1'c='#FFC331'></s></l>",tx_shadow:"<l id='ts-grad'u='userSpaceOnUse'x1='67.7304'y1='44.903'x2='45.4561'y2='20.9231'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#ADADAD'/><s o='1's='stop-color:#6B6B6B'/></l>",b_grvb:"<l id='vb-grad'q='rotate(90)'><s o='5%'c='white'/><s o='95%'c='black'/></l>",c_wallstreetjournal:"<l id='WS-gradient'q='rotate(90)'><s o='0'c='#ece4d9'/><s o='1'c='#c1b398'/></l>",b_gsori:"<l id='go-gradv'q='rotate(90)'><s o='5%'c='black'/><s o='95%'c='white'/></l><l id='go-gradh'><s o='5%'c='black'/><s o='95%'c='white'/></l>",b_grc:"<r id='rad-grad'><s o='5%'c='white'/><s o='95%'c='black'/></r>",b_bbodygradient:"<l id='b-grad'q='rotate(90)'><s o='5%'c='black'/><s o='95%'c='white'/></l>",b_grhl:"<l id='hl-grad'><s o='5%'c='black'/><s o='95%'c='white'/></l>",c_rc:"<l id='rc-grad'u='userSpaceOnUse'x1='0'y1='53.205'x2='100'y2='53.205'q='matrix(1 0 0 -1 0 102)'><s o='0's='stop-color:#BDBFC2'/><s o='1's='stop-color:#828287'/></l>",i_h:"<l id='l-grad'><s o='5%'c='white'/><s o='95%'c='black'/></l><l id='r-grad'><s o='5%'c='black'/><s o='95%'c='white'/></l>"},symbols:{p_cg2fitden:"<g c='cxa'><p d='M15,90 C50,67 38,0 55,3 71,0 72,90 95,90'/></g>",chte_baselinebottom:"<p c='cxtxb'd='M42,72 L50,80 L58,72 M50,80 L50,50'></p><g c='cxa'><l x1='2'y1='98'x2='98'y2='98'/></g>",ly_segregate:"<g c='cxa'><r x='2'y='2'w='43'h='43'/><r x='53'y='2'w='43'h='43'/><r x='2'y='53'w='43'h='43'/><r x='53'y='53'w='43'h='43'/></g><g c='cxbb'><r x='9'y='20'w='10'h='21'/><r x='28'y='10'w='10'h='31'/><r x='60'y='15'w='10'h='26'/><r x='79'y='31'w='10'h='10'/><r x='9'y='81'w='10'h='11'/><r x='28'y='63'w='10'h='29'/><r x='60'y='73'w='10'h='19'/><r x='79'y='79'w='10'h='13'/></g>",ch_creturn:"<t c='cxtn80'x='5'y='90'>&#8629;</t>",cd_json:"<g c='cxb'><y q='89,40 89,30 59,30 59,2 13,2 13,40'/><y q='13,90 13,98 89,98 89,90'/><l x1='90'y1='29'x2='59'y2='1'/><r x='2'y='40'w='96'h='50'/></g><g c='cxaa'><t c='cxtn30'x='10'y='-30'tr='rotate(90)'>&#8963;</t><t c='cxtn30'x='-34'y='44'tr='rotate(-90)'>&#8963;</t><t c='cxtn30'x='10'y='75'>JSON</t></g>",ga_axisxyz:"<g c='cxb'><l x1='15'y1='2'x2='15'y2='98'/><l x1='15'y1='2'x2='0'y2='17'/><l x1='15'y1='2'x2='30'y2='17'/><l x1='2'y1='85'x2='98'y2='85'/><l x1='83'y1='70'x2='98'y2='85'/><l x1='83'y1='100'x2='98'y2='85'/><l x1='2'y1='98'x2='70'y2='30'/><l x1='55'y1='30'x2='70'y2='30'/><l x1='70'y1='45'x2='70'y2='30'/></g><t c='cxtn30 cxaa'x='30'y='25'>X</t><t c='cxtn30 cxaa'x='65'y='70'>Y</t><t c='cxtn30 cxaa'x='75'y='25'>Z</t>",sh_hexagon:"<p c='cxa'd='M50,10 L90,30 L90,70 L50,90 L10,70 L10,30 Z'/>",b_pail:"<p c='cxbw'd='M95,70l-15,15a6,6,0,0,1-9,0L45,65l25-25,25,25A6,6,0,0,1,95,70Z'/><g c='cxb'><p d='M70,40h6a9,9,0,0,1,9,9h0a9,9,0,0,1-9,9H65'/><c cx='40'cy='72'r='2'/></g>",cl_horizontal:"<g c='cxa'><l y1='6'x1='75'y2='6'x2='90'/><l y1='14'x1='75'y2='14'x2='90'/><l y1='6'x1='75'y2='14'x2='75'/><l y1='22'x1='65'y2='22'x2='90'/><l y1='30'x1='65'y2='30'x2='90'/><l y1='22'x1='65'y2='30'x2='65'/><l y1='10'x1='75'y2='10'x2='50'/><l y1='26'x1='65'y2='26'x2='50'/><l y1='10'x1='50'y2='26'x2='50'/><l y1='38'x1='50'y2='38'x2='90'/><l y1='46'x1='65'y2='46'x2='90'/><l y1='54'x1='65'y2='54'x2='90'/><l y1='46'x1='65'y2='54'x2='65'/><l y1='50'x1='65'y2='50'x2='50'/><l y1='38'x1='50'y2='50'x2='50'/><l y1='62'x1='65'y2='62'x2='90'/><l y1='70'x1='65'y2='70'x2='90'/><l y1='62'x1='65'y2='70'x2='65'/><l y1='44'x1='40'y2='44'x2='50'/><l y1='66'x1='40'y2='66'x2='65'/><l y1='44'x1='40'y2='66'x2='40'/><l y1='78'x1='55'y2='78'x2='90'/><l y1='86'x1='75'y2='86'x2='90'/><l y1='94'x1='75'y2='94'x2='90'/><l y1='86'x1='75'y2='94'x2='75'/><l y1='90'x1='55'y2='90'x2='75'/><l y1='78'x1='55'y2='90'x2='55'/><l y1='84'x1='25'y2='84'x2='55'/><l y1='55'x1='25'y2='55'x2='40'/><l y1='55'x1='25'y2='84'x2='25'/><l y1='18'x1='10'y2='18'x2='50'/><l y1='70'x1='10'y2='70'x2='25'/><l y1='18'x1='10'y2='70'x2='10'/><l y1='44'x1='10'y2='44'x2='0'/></g><g c='cxb'><r y='5'x='96'w='2'h='2'/><r y='13'x='96'w='2'h='2'/><r y='21'x='96'w='2'h='2'/><r y='29'x='96'w='2'h='2'/><r y='37'x='96'w='2'h='2'/><r y='45'x='96'w='2'h='2'/><r y='53'x='96'w='2'h='2'/><r y='61'x='96'w='2'h='2'/><r y='69'x='96'w='2'h='2'/><r y='78'x='96'w='2'h='2'/><r y='86'x='96'w='2'h='2'/><r y='94'x='96'w='2'h='2'/></g>",p_cg1datavertical:"<g c='cxcc'><r x='20'y='57'w='16'h='30'/><r x='48'y='7'w='16'h='80'/><r x='76'y='27'w='16'h='60'/></g>",c_streamlit:"<p c='cxc'd='M 49.877 55.433 L 32.936 46.478 L 3.529 30.934 C 3.502 30.908 3.448 30.908 3.421 30.908 C 2.347 30.398 1.248 31.472 1.649 32.546 L 16.634 70.763 L 16.637 70.771 C 16.652 70.809 16.666 70.846 16.682 70.884 C 17.297 72.309 18.639 73.19 20.1 73.536 C 20.223 73.563 20.312 73.587 20.46 73.617 C 20.607 73.649 20.814 73.695 20.99 73.709 C 21.02 73.711 21.047 73.711 21.077 73.714 L 21.098 73.714 C 21.119 73.717 21.141 73.717 21.163 73.719 L 21.192 73.719 C 21.21 73.722 21.232 73.722 21.251 73.722 L 21.286 73.722 C 21.308 73.724 21.328 73.724 21.35 73.724 C 40.327 75.793 59.473 75.793 78.449 73.724 C 78.678 73.724 78.9 73.714 79.115 73.692 C 79.185 73.684 79.252 73.676 79.319 73.667 C 79.328 73.665 79.337 73.665 79.346 73.662 C 79.392 73.656 79.438 73.648 79.483 73.64 C 79.551 73.633 79.617 73.619 79.685 73.605 C 79.819 73.576 79.88 73.555 80.062 73.491 C 80.244 73.43 80.546 73.32 80.736 73.229 C 80.925 73.137 81.057 73.05 81.215 72.95 C 81.411 72.827 81.596 72.701 81.786 72.559 C 81.867 72.497 81.924 72.457 81.982 72.401 L 81.949 72.382 L 49.877 55.433 Z'></p><p c='cxb'd='M 96.275 30.935 L 96.248 30.935 L 66.83 46.478 L 83.183 70.834 L 98.129 32.547 L 98.129 32.492 C 98.505 31.365 97.351 30.345 96.275 30.935'></p><p c='cxa'd='M 51.445 23.545 C 50.693 22.447 49.056 22.447 48.331 23.545 L 32.936 46.478 L 49.877 55.433 L 81.982 72.401 C 82.184 72.203 82.346 72.01 82.517 71.807 C 82.758 71.509 82.985 71.191 83.182 70.833 L 66.829 46.478 L 51.445 23.545 Z'></p>",b_gstype:"<g c='cxa'><r fill='url(\"#gt-grad\")'x='1'y='1'w='42'h='42'/><r fill='url(\"#gt-gradr\")'x='57'y='57'w='42'h='42'/></g>",dp_binr:"<g c='cxb'><c cx='50'cy='3'r='2.5'/><c cx='50'cy='18'r='2.5'/><c cx='50'cy='33'r='2.5'/><c cx='57'cy='33'r='2.5'/><c cx='50'cy='50'r='2.5'/><c cx='57'cy='50'r='2.5'/><c cx='64'cy='50'r='2.5'/><c cx='50'cy='65'r='2.5'/><c cx='57'cy='65'r='2.5'/><c cx='50'cy='80'r='2.5'/><c cx='50'cy='97'r='2.5'/></g>",p_cg2fitden2:"<g c='cxac'><p d='M15,90 C50,67 38,0 55,3 71,0 72,90 95,90'/></g>",g_network:"<g c='cxa'><l x1='18.9'y1='15.4'x2='41.7'y2='31.3'/><l x1='21.6'y1='75.8'x2='43.5'y2='53.1'/><l x1='56.7'y1='76.6'x2='55.9'y2='57.1'/><l x1='84.3'y1='60.8'x2='69.5'y2='50.2'/><l x1='78'y1='13.9'x2='66.4'y2='28.2'/><c cx='55.3'cy='40.9'r='16.9'/></g><g c='cxb'><c cx='82.3'cy='8.6'r='6.8'/><c cx='89.9'cy='64.7'r='6.8'/><c cx='16.9'cy='80.6'r='6.8'/><c cx='12.2'cy='10.7'r='8.9'/><c cx='57.1'cy='87.5'r='10.8'/></g>",g_scatter3d:"<g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/><l x1='32.5'y1='100'x2='32.5'y2='86'/><l x1='56'y1='100'x2='56'y2='86'/><l x1='79.4'y1='100'x2='79.4'y2='86'/><l x1='11.9'y1='86'x2='74.5'y2='26.6'/></g><g c='cxb'><l x1='28.9'y1='15.6'x2='32.5'y2='15.6'/><l x1='50'y1='15.6'x2='53.7'y2='15.6'/><l x1='78.3'y1='46.7'x2='81.9'y2='46.7'/><l x1='61.2'y1='59.8'x2='64.8'y2='59.8'/><l x1='74.5'y1='68.3'x2='78.2'y2='68.3'/><l x1='48'y1='71.8'x2='51.4'y2='71.8'/><l x1='39'y1='29.4'x2='42.7'y2='29.4'/><y q='72.1 4.9 81.5 4.9 81.5 19.5 72.1 19.5'/><l x1='74.5'y1='11.8'x2='81.5'y2='11.8'/><y q='92.5 4.9 85.8 4.9 85.8 19.5 92.5 19.5'/><l x1='94'y1='5.9'x2='94'y2='18.5'/></g>",tx_stringnumeric:"<t c='cxtn60'x='0'y='65'>a</t><t c='cxtn60'x='65'y='70'>#</t><g c='cxaa'><t c='cxtn60'x='30'y='40'>&#10554;</t><t c='cxtn60'x='30'y='100'>&#10555;</t></g>",a_moveback:"<g c='cxb'><r x='2'y='2'w='30'h='30'/><r x='68'y='68'w='30'h='30'/></g><g c='cxa'><y q='32,17 82,17 82,67'/><y q='17,32 17,82 67,82'/></g>",p_g2axestitles:"<g c='cxblue'><r x='40'y='85'w='30'h='2'/><r x='0'y='25'w='3'h='25'/></g>",bx_median:"<g c='cxb'><r x='30'y='20'w='40'h='60'/><l x1='30'y1='2'x2='70'y2='2'/><l x1='50'y1='2'x2='50'y2='20'/><l x1='30'y1='98'x2='70'y2='98'/><l x1='50'y1='98'x2='50'y2='80'/></g><g c='cxa'><l x1='30'y1='50'x2='70'y2='50'/></g>",ar_bm:"<p c='cxtxb'd='M38,71 L50,83 L62,71 M50,83 L50,17'/>",at_motion:"<g c='cxb'><r x='22'y='35'w='20'h='30'/><r x='2'y='35'w='10'h='30'/></g><g c='cxa'><y q='98,50 68,85 68,65 53,65 53,35,68,35 68,15 98,50'/></g>",sl_checkboxoff:"<r c='cxb'x='15'y='15'w='70'h='70'rx='5'/>",op_undo:"<g c='cxa'><p d='M5.5,31.5l39.8-29V16h1.1c26.2-0.4,47.8,20.6,48.1,46.8c0,0,0,0.1,0,0.1c0,13.2-5.7,25.7-15.5,34.5c3.4-5.4,5.3-11.6,5.3-18C84.1,60,68.1,44.5,48.7,44.8c0,0,0,0,0,0c-1.1,0-2.2,0-3.4,0.2v15.6L5.5,31.5z'/></g>",p_g1title:"<g c='cxblue'><r x='45'y='0'w='20'h='2'/></g>",ps_bottom:"<p c='cxtxb'd='M42,62 L50,70 L58,62 M50,70 L50,30'/><g c='cxa'><r x='40'y='78'w='20'h='20'rx='2'/></g>",ch_lk:"<t c='cxtb100'x='15'y='85'>K</t>",a_group:"<g c='cxb'><y q='42,57 27,57 27,27 57,27 57,42'/><r x='42'y='42'w='30'h='30'/></g><g c='cxa'><l x1='18'y1='10'x2='82'y2='10'stroke-dashoffset='-3'stroke-dasharray='8'/><l x1='18'y1='90'x2='82'y2='90'stroke-dashoffset='-3'stroke-dasharray='8'/><l x1='10'y1='18'x2='10'y2='82'stroke-dashoffset='-3'stroke-dasharray='8'/><l x1='90'y1='18'x2='90'y2='82'stroke-dashoffset='-3'stroke-dasharray='8'/><r x='2'y='2'w='16'h='15'/><r x='2'y='82'w='16'h='15'/><r x='82'y='2'w='16'h='15'/><r x='82'y='82'w='16'h='15'/></g>",ar_dctrs2:"<t c='cxtn60 cxaa'x='51'y='-22'tr='rotate(45)'>&#10554;</t><t c='cxtn60 cxaa'x='-90'y='-22'tr='rotate(45) scale(-1,1)'>&#10554;</t>",tb_col:"<g c='cxcc'><r x='34'y='26'w='32'h='70'/></g><g c='cxb'><l x1='2'y1='26'x2='98'y2='26'/><l x1='2'y1='50'x2='98'y2='50'/><l x1='2'y1='74'x2='98'y2='74'/><l x1='34'y1='26'x2='34'y2='98'/><l x1='66'y1='26'x2='66'y2='98'/></g><g c='cxa'><r x='2'y='2'w='96'h='96'/><r x='12'y='12'w='3'h='3'/><r x='24'y='12'w='3'h='3'/><r x='36'y='12'w='3'h='3'/></g>",p_g2axes:"<g c='cxblue'><l x1='25'y1='65'x2='95'y2='65'/><l x1='25'y1='65'x2='25'y2='75'/><l x1='45'y1='65'x2='45'y2='75'/><l x1='65'y1='65'x2='65'y2='75'/><l x1='85'y1='65'x2='85'y2='75'/><l x1='25'y1='15'x2='25'y2='75'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/></g>",ch_lz:"<t c='cxtb100'x='15'y='85'>Z</t>",g_heatmap:"<g c='cxcc'><r x='64.5'y='50'w='28.8'h='20.3'/><r x='64.5'y='69.5'w='28.8'h='20.3'/><r x='35.6'y='30.2'w='28.8'h='20.3'/><r x='6.7'y='10.9'w='28.8'h='20.3'/><r x='6.8'y='69.5'w='28.8'h='20.3'/></g><g c='cxbb'><r x='64.4'y='10.3'w='28.8'h='20.3'/><r x='35.6'y='49.9'w='28.8'h='20.3'/><r x='6.7'y='30.2'w='28.8'h='20.3'/></g><g c='cxa'><l x1='100'y1='50'y2='50'x2='0'/><l x1='93.3'x2='93.3'y2='96.2'y1='3.8'/><l x1='64.4'x2='64.4'y2='96.2'y1='3.8'/><l x1='6.7'x2='6.7'y2='96.2'y1='3.8'/><l x1='35.6'x2='35.6'y2='96.2'y1='3.8'/><l x1='100'y1='69.8'y2='69.8'x2='0'/><l x1='100'y1='89.4'y2='89.4'x2='0'/><l x1='100'y1='10.9'y2='10.9'x2='0'/><l x1='100'y1='30.6'y2='30.6'x2='0'/></g>",ch_oa:"<t c='cxtb100'x='25'y='75'>a</t>",p_cg1errors:"<g c='cxa'><l x1='20'y1='42'x2='36'y2='42'/><l x1='28'y1='42'x2='28'y2='67'/><l x1='48'y1='2'x2='64'y2='2'/><l x1='56'y1='2'x2='56'y2='27'/><l x1='76'y1='22'x2='92'y2='22'/><l x1='84'y1='22'x2='84'y2='47'/></g>",p_g1:"<g c='cxc'><r x='45'y='0'w='20'h='2'/><r x='50'y='10'w='10'h='2'/><r x='38'y='40'w='5'h='20'/><r x='56'y='20'w='5'h='40'/><l x1='25'y1='65'x2='85'y2='65'/><r x='0'y='25'w='3'h='25'/><l x1='25'y1='15'x2='25'y2='65'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/><r x='97'y='25'w='3'h='25'/><l x1='75'y1='15'x2='75'y2='65'/><l x1='75'y1='25'x2='85'y2='25'/><l x1='75'y1='45'x2='85'y2='45'/><l x1='75'y1='65'x2='85'y2='65'/><r x='38'y='75'w='5'h='2'/><r x='56'y='75'w='5'h='2'/><r x='35'y='85'w='30'h='2'/><r x='75'y='95'w='20'h='2'/></g>",lg_legend:"<g c='cxa'><r x='2'y='2'w='96'h='96'/><r x='18'y='20'w='2'h='2'/><r x='18'y='50'w='2'h='2'/><r x='18'y='80'w='2'h='2'/></g><g c='cxaa'><t c='cxtn20'x='30'y='28'>Good</t><t c='cxtn20'x='30'y='58'>Better</t><t c='cxtn20'x='30'y='88'>Best!</t></g>",sr_aai:"<p c='cxtxa'd='M80,2 L98,17 L80,33 M98,17 L2,17'/><t c='cxtn60'x='0'y='90'>a</t><t c='cxtn100'x='35'y='90'>a</t>",mr_top:"<g c='cxa'><l x1='2'y1='25'x2='98'y2='25'/></g>",p_g1citation:"<g c='cxblue'><r x='75'y='95'w='20'h='2'/></g>",op_redo:"<g c='cxa'><p d='M94.5,31.5l-39.8-29V16h-1.1C27.4,15.6,5.8,36.6,5.5,62.8c0,0,0,0.1,0,0.1c0,13.2,5.7,25.7,15.5,34.5c-3.4-5.4-5.3-11.6-5.3-18C16,60,31.9,44.5,51.4,44.8c0,0,0,0,0,0c1.1,0,2.3,0,3.4,0.2v15.6L94.5,31.5z'/></g>",chte_baselinemiddle:"<p c='cxtxb'd='M42,32 L50,40 L58,32 M50,40 L50,10'></p><p c='cxtxb'd='M42,68 L50,60 L58,68 M50,90 L50,60'></p><g c='cxa'><l x1='2'y1='50'x2='98'y2='50'/></g>",p_g1sampletitle:"<g c='cxblue'><r x='35'y='85'w='30'h='2'/></g>",gr_minor:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/></g><g c='cxb'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/><l x1='4'y1='14'x2='98'y2='14'/><l x1='4'y1='26'x2='98'y2='26'/><l x1='4'y1='38'x2='98'y2='38'/><l x1='4'y1='50'x2='98'y2='50'/><l x1='4'y1='62'x2='98'y2='62'/><l x1='4'y1='74'x2='98'y2='74'/><l x1='4'y1='86'x2='98'y2='86'/></g>",op_thumbup:"<p c='cxa'd='M 24.324 44.289 L 24.324 89.936 C 24.324 93.088 21.769 95.642 18.618 95.642 L 7.206 95.642 C 4.055 95.642 1.5 93.088 1.5 89.936 L 1.5 49.995 C 1.5 46.844 4.055 44.289 7.206 44.289 L 24.324 44.289 C 36.929 44.289 47.147 34.071 47.147 21.466 L 47.147 15.76 C 47.147 6.975 56.657 1.484 64.265 5.877 C 67.796 7.915 69.971 11.683 69.971 15.76 L 69.971 44.289 L 87.088 44.289 C 93.391 44.289 98.5 49.398 98.5 55.701 L 92.794 84.23 C 91.108 91.421 86.456 96.074 81.382 95.642 L 41.441 95.642 C 31.987 95.642 24.324 87.978 24.324 78.524'/>",ch_oe:"<t c='cxts200'x='10'y='85'>e</t>",g_ridgeline:"<g c='cxcc'><p d='M 11.5 35.4 C 11.5 35.4 27.1 2.1 30.9 2.1 C 43.1 2.1 53.7 32.3 59.5 35.4'/><p d='M 22.6 66.7 C 22.6 66.7 35.9 32 40.4 26.5 C 45.1 20.4 53.9 42 68.9 65.8'/><p d='M 42.3 98 C 42.3 98 53.1 62.5 59.2 55.9 C 67 47.3 82.5 85.5 86.4 91.6 C 87.2 93.8 88.3 95.8 88.9 98'/></g><g c='cxb'><p d='M 11.5 35.4 C 11.5 35.4 27.1 2.1 30.9 2.1 C 43.1 2.1 53.7 32.3 59.5 35.4'/><p d='M 22.6 66.7 C 22.6 66.7 35.9 32 40.4 26.5 C 45.1 20.7 53.9 42.3 68.9 65.8'/><p d='M 42.3 98 C 42.3 98 52.8 62.5 58.9 55.9 C 66.7 47.3 82.2 85.5 86.4 91.6 C 87.2 93.8 88.3 95.8 88.9 98'/></g><g c='cxa'><l y1='35.4'x2='94'y2='35.4'x1='6'/><l y1='66.7'x2='94'y2='66.7'x1='6'/><l y1='97.9'x2='94'y2='97.9'x1='6'/></g>",ch_ofx:"<t c='cxti100'x='16'y='75'>fx</t>",cd_params:"<g c='cxaa'><t c='cxtn40'x='10'y='20'>...</t><t c='cxtn40'x='10'y='40'>...,</t><t c='cxtn40'x='10'y='80'>{ }</t></g>",chte_aligncenter:"<g c='cxb'><l y1='2'x1='2'y2='2'x2='98'/><l y1='34'x1='20'y2='34'x2='80'/><l y1='66'x1='2'y2='66'x2='98'/><l y1='98'x1='20'y2='98'x2='80'/></g>",ar_rm:"<p c='cxtxb'd='M71,38 L83,50 L71,62 M83,50 L17,50'/>",g_facet:"<g c='cxb'><l x1='10.2'y1='28'x2='10.2'y2='14.3'/><l x1='19.5'y1='28'x2='19.5'y2='9.1'/><l x1='10.2'y1='62.6'x2='10.2'y2='53.1'/><l x1='19.5'y1='62.6'x2='19.5'y2='48.9'/><l x1='10.2'y1='97.2'x2='10.2'y2='79.7'/><l x1='19.5'y1='97.2'x2='19.5'y2='79.7'/><l x1='89.7'y1='28'x2='89.7'y2='14.3'/><l x1='80.4'y1='28'x2='80.4'y2='9.1'/><l x1='89.7'y1='62.6'x2='89.7'y2='53.1'/><l x1='80.4'y1='62.6'x2='80.4'y2='48.9'/><l x1='89.7'y1='97.2'x2='89.7'y2='84.5'/><l x1='80.4'y1='97.2'x2='80.4'y2='90.3'/><l x1='45.3'y1='28'x2='45.3'y2='18.5'/><l x1='54.6'y1='28'x2='54.6'y2='9.1'/><l x1='45.3'y1='62.6'x2='45.3'y2='45.1'/><l x1='54.6'y1='62.6'x2='54.6'y2='55.7'/><l x1='45.3'y1='97.2'x2='45.3'y2='79.7'/><l x1='54.6'y1='97.2'x2='54.6'y2='84'/></g><g c='cxa'><r x='2.3'y='2.8'w='25.2'h='25.2'/><r x='2.3'y='37.3'w='25.2'h='25.2'/><r x='2.3'y='71.9'w='25.2'h='25.2'/><r x='72.5'y='2.8'w='25.2'h='25.2'/><r x='72.5'y='37.3'w='25.2'h='25.2'/><r x='72.5'y='71.9'w='25.2'h='25.2'/><r x='37.4'y='2.8'w='25.2'h='25.2'/><r x='37.4'y='37.3'w='25.2'h='25.2'/><r x='37.4'y='71.9'w='25.2'h='25.2'/></g>",ch_lc:"<t c='cxtb100'x='15'y='85'>C</t>",v_plus:"<c c='cxb'cx='50'cy='50'r='48'/><t c='cxtb100'x='20'y='77'>+</t>",ch_oitalic:"<t c='cxti100'x='30'y='85'>I</t>",o_g1:"<g c='cxc'><l x1='2'y1='40'x2='98'y2='40'/><l x1='2'y1='24'x2='8'y2='24'/><l x1='2'y1='12'x2='8'y2='12'/><l x1='10'y1='2'x2='10'y2='40'/><l x1='90'y1='24'x2='98'y2='24'/><l x1='90'y1='12'x2='98'y2='12'/><l x1='90'y1='2'x2='90'y2='40'/><r x='20'y='55'w='20'h='2'/><r x='60'y='55'w='20'h='2'/></g><g c='cxcc'><r x='25'y='35'w='15'h='10'/><r x='60'y='10'w='15'h='30'/></g><g c='cxa'><r x='15'y='68'w='70'h='28'/><l x1='15'y1='82'x2='85'y2='82'/><l x1='50'y1='68'x2='50'y2='96'/><r x='95'y='75'w='2'h='2'/><r x='95'y='89'w='2'h='2'/></g>",wp_marker:"<g c='cxa'><p d='M90.7,42.2C90.7,64.7,50,96.8,50,96.8S9.3,64.7,9.3,42.2C9.9,19.8,28.6,2,51,2.6c21.6,0.6,39,18,39.6,39.6H90.7z'/></g><g c='cxb'><c cx='49.9'cy='34.5'r='12.7'/></g>",c_excel:"<r fill='url(\"#excel-grad1\")'x='3'y='3'w='93.2'h='93.2'/><polygon fill='url(\"#excel-grad2\")'q='84.6,24.5 61.1,24.5 17.9,71.3 41.5,71.3 59.8,71.3 50.6,61.4'/><p fill='url(\"#excel-grad3\")'d='M93.2,6.8v86.5H6.8V6.8H93.2 M100,0H0v100h100V0z'/><polygon fill='url(\"#excel-grad4\")'q='90.2,78.7 66.6,78.7 16.6,24.5 40.2,24.5'/><polygon fill='url(\"#excel-grad5\")'q='90.2,78.7 66.6,78.7 16.6,24.5 40.2,24.5'/><polygon fill='url(\"#exel-grad6\")'q='75.1,62.4 84.6,50.7 64.3,50.7'/>",ch_omean:"<r x='20'y='2'w='68'h='6'/><t c='cxtn100'x='20'y='90'>X</t>",lg_g2:"<g c='cxc'><l x1='10'y1='10'x2='10'y2='98'/><l x1='2'y1='90'x2='98'y2='90'/><l x1='2'y1='70'x2='10'y2='70'/><l x1='2'y1='50'x2='10'y2='50'/><l x1='2'y1='30'x2='10'y2='30'/><l x1='30'y1='90'x2='30'y2='98'/><l x1='50'y1='90'x2='50'y2='98'/><l x1='70'y1='90'x2='70'y2='98'/><l x1='90'y1='90'x2='90'y2='98'/></g><g c='cxcc'><r x='26'y='20'w='2'h='2'/><r x='36'y='40'w='2'h='2'/><r x='46'y='70'w='2'h='2'/><r x='56'y='80'w='2'h='2'/><r x='66'y='60'w='2'h='2'/><r x='27'y='80'w='2'h='2'/><r x='20'y='60'w='2'h='2'/><r x='76'y='75'w='2'h='2'/></g>",c_tableau:"<r x='47.5'c='cl50'w='5'h='20.3'/><r x='39.8'y='7.6'c='cl50'w='20.3'h='5'/><r x='47.5'y='79.7'c='cl51'w='5'h='20.3'/><r x='39.8'y='87.3'c='cl51'w='20.3'h='5'/><r x='79.7'y='47.5'c='cl51'w='20.3'h='5'/><r x='87.3'y='39.8'c='cl51'w='5'h='20.3'/><r y='47.5'c='cl50'w='20.3'h='5'/><r x='7.6'y='39.8'c='cl50'w='5'h='20.3'/><r x='74.2'y='9.7'c='cl52'w='5'h='31.2'/><r x='61.2'y='22.8'c='cl52'w='31.2'h='5'/><r x='20.7'y='9.7'c='cl53'w='5'h='31.2'/><r x='7.7'y='22.8'c='cl53'w='31.2'h='5'/><r x='74.2'y='59.1'c='cl54'w='5'h='31.2'/><r x='61.2'y='72.2'c='cl54'w='31.2'h='5'/><r x='20.7'y='59.1'c='cl55'w='5'h='31.2'/><r x='7.7'y='72.2'c='cl55'w='31.2'h='5'/><r x='47.5'y='32.6'c='cl56'w='5'h='34.7'/><r x='32.6'y='47.5'c='cl56'w='34.7'h='5'/>",g_sankey:"<g c='cxcc'><p d='M 88.1 57.9 L 88.1 57.9 C 76.8 57.9 66.1 52.9 58.7 44.3 L 42.4 25.1 C 35 16.5 24.3 11.6 13 11.6 L 12 11.6 L 12 42.1 L 13 42.1 C 24.3 42.2 35.1 47.1 42.4 55.8 L 58.7 74.9 C 66.1 83.6 76.8 88.5 88.1 88.5 L 88.1 88.5 L 88.1 57.9'/></g><g c='cxb'><r x='2'y='11.5'w='10'h='30.6'/><r x='88.1'y='57.9'w='10'h='30.6'/><p d='M 12 11.6 L 12 11.6 C 23.4 11.6 34.1 16.5 41.4 25.1 L 57.8 44.3 C 65.1 52.9 75.9 57.9 87.2 57.9 L 88.1 57.9'/><p d='M 12 42.1 L 12 42.1 C 23.4 42.2 34.1 47.1 41.4 55.8 L 57.8 74.9 C 65.1 83.6 75.9 88.5 87.2 88.5 L 88.1 88.5'/></g><g c='cxa'><r x='2'y='57.9'w='10'h='30.6'/><r x='88.1'y='11.5'w='10'h='30.6'/><p d='M 12 57.9 L 12 57.9 C 23.4 57.9 34.1 52.9 41.4 44.3 L 57.8 25.1 C 65.1 16.5 75.9 11.6 87.2 11.6 L 88.1 11.6 L 88.1 42.1 L 87.2 42.1 C 75.8 42.2 65.1 47.1 57.8 55.8 L 41.4 74.9 C 34.1 83.6 23.4 88.5 12 88.5 L 12 88.5 L 12 57.9'/></g>",cd_lines:"<g c='cxa'><l x1='10'y1='10'x2='40'y2='10'/><l x1='10'y1='18'x2='40'y2='18'/><l x1='10'y1='26'x2='40'y2='26'/><l x1='10'y1='34'x2='70'y2='34'/><l x1='10'y1='42'x2='60'y2='42'/><l x1='10'y1='50'x2='50'y2='50'/><l x1='10'y1='58'x2='50'y2='58'/><l x1='10'y1='66'x2='50'y2='66'/><l x1='10'y1='74'x2='50'y2='74'/><l x1='10'y1='82'x2='60'y2='82'/><l x1='10'y1='90'x2='70'y2='90'/></g>",gr_major:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/></g><g c='cxa'><l cx1='4'y1='18'x2='98'y2='18'/><l x1='4'y1='38'x2='98'y2='38'/><l x1='4'y1='58'x2='98'y2='58'/><l x1='4'y1='78'x2='98'y2='78'/></g>",dt_exact:"<g c='cxaa'><r x='8'y='86'w='10'h='7'/><r x='88'y='6'w='10'h='87'/></g><g c='cxb'><l x1='2'y1='98'x2='100'y2='98'/><l x1='2'y1='2'x2='2'y2='98'/></g><g c='cxcc'><r x='28'y='66'w='10'h='27'/><r x='48'y='46'w='10'h='47'/><r x='68'y='26'w='10'h='67'/></g>",ps_left:"<p c='cxtxb'd='M38,42 L30,50 L38,58 M70,50 L30,50'/><g c='cxa'><r x='2'y='40'w='20'h='20'rx='2'/></g>",ch_ocodemed:"<t c='cxtn80'x='20'y='-30'tr='rotate(90)'>&#8963;</t><t c='cxtn80'x='-82'y='70'tr='rotate(-90)'>&#8963;</t>",sw_down:"<g c='cxb'><p d='M0,15 C90,10 10,90 100,85'/><l x1='83'y1='75'x2='98'y2='85'/><l x1='83'y1='95'x2='98'y2='85'/></g>",ch_oceil:"<t c='cxtn60'x='5'y='70'>ceil</t>",sr_azi:"<p c='cxtxa'd='M12,80 L27,98 L42,80 M27,98 L27,2'/><t c='cxtn60'x='50'y='45'>A</t><t c='cxtn60'x='50'y='95'>Z</t>",gr_styledotted:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/></g><g c='cxa'><l x1='4'y1='23'x2='98'y2='23'stroke-dasharray='5'/><l x1='4'y1='48'x2='98'y2='48'stroke-dasharray='5'/><l x1='4'y1='73'x2='98'y2='73'stroke-dasharray='5'/></g>",ps_top:"<p c='cxtxb'd='M42,38 L50,30 L58,38 M50,70 L50,30'/><g c='cxa'><r x='40'y='2'w='20'h='20'rx='2'/></g>",ch_lm:"<t c='cxtb100'x='8'y='85'>M</t>",a_movebackward:"<g c='cxb'><r x='2'y='2'w='40'h='40'/></g><g c='cxa'><y q='42,22 98,22 98,98 22,98 22,42'/></g>",bx_wishkersn:"<g c='cxb'><r x='35'y='30'w='30'h='40'/><l x1='35'y1='51'x2='65'y2='51'/></g>",rt_ac2:"<g c='cxb'><p d='M 18 18 A 45 45 45 0 1 95 50'/><l x1='18'y1='0'x2='18'y2='18'/><l x1='36'y1='18'x2='16'y2='18'/><p d='M 82 82 A 45 45 225 0 1 5 50'/><l x1='64'y1='82'x2='84'y2='82'/><l x1='82'y1='100'x2='82'y2='82'/></g>",ar_cross:"<p c='cxb'd='M98,50 L2,50 M50,98 L50,2'/>",mr_left:"<g c='cxa'><l x1='25'y1='2'x2='25'y2='98'/></g>",sl_radioon:"<c c='cxaa'cx='50'cy='50'r='35'/><c c='cxww'cx='50'cy='50'r='10'/>",g_graph2:"<g c='cxb0'><r x='23.2'y='56'w='15.1'h='30.1'/><r x='50'y='42.5'w='15.1'h='43.6'/><r x='76.7'y='30.4'w='15.1'h='55.6'/></g><g c='cxtxb'><l x1='11.9'y1='0.5'x2='11.9'y2='100'/><l x1='99.4'y1='86.1'y2='86.1'x2='0'/><l y1='62.7'x2='11.9'y2='62.7'x1='0'/><l y1='39.4'x2='11.9'y2='39.4'x1='0'/><l y1='16.1'x2='11.9'y2='16.1'x1='0'/><y q='23.2 42.5 49.7 19.6 59.5 28.6 89.1 0.5'/></g>",ps_center:"<g c='cxa'><r x='40'y='40'w='20'h='20'rx='2'/></g>",sp_heightness:"<p c='cxtxa'd='M58,42 L66,50 L58,58 M42,42 L34,50 L42,58 M66,50 L34,50'/><g c='cxb'><r x='2'y='40'w='26'h='56'/><r x='72'y='2'w='26'h='96'/></g>",o_ghsmps:"<g c='cxc'><r y='15'x='58'h='70'w='40'/><l y1='15'x1='78'y2='85'x2='78'/><l y1='50'x1='98'y2='50'x2='58'/><r y='95'x='94'w='2'h='4'/><r y='95'x='74'w='2'h='4'/><r y='20'x='45'w='2'h='20'/><r y='60'x='45'w='2'h='20'/></g><g c='cxa'><r y='15'x='4'w='28'h='70'/><l y1='15'x1='18'y2='85'x2='18'/><l y1='50'x1='32'y2='50'x2='4'/><r y='2'x='25'w='2'h='2'/><r y='2'x='11'w='2'h='2'/></g>",dp_binl:"<g c='cxb'><c cx='50'cy='3'r='2.5'/><c cx='50'cy='18'r='2.5'/><c cx='50'cy='33'r='2.5'/><c cx='43'cy='33'r='2.5'/><c cx='50'cy='50'r='2.5'/><c cx='43'cy='50'r='2.5'/><c cx='36'cy='50'r='2.5'/><c cx='50'cy='65'r='2.5'/><c cx='43'cy='65'r='2.5'/><c cx='50'cy='80'r='2.5'/><c cx='50'cy='97'r='2.5'/></g>",sv_diskjson:"<g c='cxa'><y q='98,25 98,98 2,98 2,2 75,2 98,25'/></g><g c='cxb'><r x='27'y='58'w='50'h='40'/><r x='32'y='2'w='40'h='30'/><r x='55'y='12'w='5'h='10'/></g><g c='cxaw'><r x='2'y='40'w='96'h='50'/></g><g c='cxaa'><t c='cxtn30'x='10'y='75'>JSON</t></g>",p_ghvariabletitle:"<g c='cxblue'><r x='50'y='85'w='30'h='2'/></g>",ch_oinfo:"<t c='cxts150 cxaa'x='20'y='85'>i</t>",p_g1axistitle1:"<g c='cxblue'><r x='0'y='25'w='3'h='25'/></g>",b_windowbg2:"<y c='cxaw'q='65,45 65,30 48,30 48,15 15,15 15,83 68,83 45,65 65,45'/>",g_stacked:"<g c='cxcc'><r x='76.7'y='47.3'w='14.9'h='25.8'/><r x='49.7'y='39.1'w='14.9'h='25.8'/><r x='23.2'y='61.7'w='14.9'h='14.9'/></g><g c='cxbb'><r x='22.4'y='73.1'w='14.9'h='12.9'/><r x='49.7'y='64.9'w='14.9'h='21.1'/><r x='76.7'y='73.1'w='14.9'h='12.9'/></g><g c='cxb'><r x='22.4'y='50'w='15.6'h='36'/><r x='49.4'y='15.6'w='15.6'h='70.4'/><r x='76.4'y='27.4'w='15.6'h='58.5'/><l x1='50'y1='39.1'x2='64.9'y2='39.1'/><l x1='50'y1='64.9'x2='64.9'y2='64.9'/><l x1='76.7'y1='47.3'x2='91.6'y2='47.3'/><l x1='76.7'y1='73.1'x2='91.6'y2='73.1'/><l x1='22.4'y1='62.6'x2='37.9'y2='62.6'/><l x1='22.4'y1='73.1'x2='37.9'y2='73.1'/></g><g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g>",sp_thinner:"<p c='cxtxa'd='M30,42 L22,50 L30,58 M62,50 L22,50'/><g c='cxa'><r x='2'y='2'w='10'h='96'/></g><g c='cxb'><r x='72'y='2'w='26'h='96'/></g>",at_ellipse:"<g c='cxa'><p d='M31,2 Q 48,3 56,19 59,35 56,53 48,69 31,71 13,69 6,53 2,36 6,19 13,3 31,2'/><p d='M41,37 Q 56,27 74,36 90,44 97,68 98,86 88,94 74,98 60,94 44,86 36,70 31,52 41,37'/></g><g c='cxb'><c cx='20'cy='18'r='2'/><c cx='12'cy='27'r='2'/><c cx='15'cy='40'r='2'/><c cx='45'cy='52'r='2'/><c cx='25'cy='52'r='2'/><c cx='45'cy='23'r='2'/><c cx='36'cy='15'r='2'/><c cx='31'cy='26'r='2'/><c cx='30'cy='42'r='2'/></g><g c='cxb'><c cx='60'cy='63'r='2'/><c cx='52'cy='70'r='2'/><c cx='75'cy='85'r='2'/><c cx='85'cy='82'r='2'/><c cx='65'cy='82'r='2'/><c cx='80'cy='73'r='2'/><c cx='70'cy='43'r='2'/><c cx='75'cy='56'r='2'/><c cx='85'cy='62'r='2'/></g>",bx_typewishkers:"<g c='cxb'><r x='40'y='30'w='20'h='40'/><l x1='40'y1='51'x2='60'y2='51'/><l x1='40'y1='2'x2='60'y2='2'/><l x1='50'y1='2'x2='50'y2='30'/><l x1='50'y1='70'x2='50'y2='98'/><l x1='40'y1='98'x2='60'y2='98'/></g>",m_wheel:"<g c='cxaa'><p d='M50,25 Q 55,25 55,30 L55,40 Q 55,45 50,45 Q 45,45 45,40 L45,30 Q 45,25 50,25'/></g>",ly_layout:"<g c='cxa'><r x='2'y='2'w='26'h='26'/><r x='36'y='2'w='26'h='26'/><r x='69'y='2'w='26'h='26'/><r x='2'y='36'w='26'h='26'/><r x='36'y='36'w='26'h='26'/><r x='69'y='36'w='26'h='26'/><r x='2'y='69'w='26'h='26'/><r x='36'y='69'w='26'h='26'/><r x='69'y='69'w='26'h='26'/></g><g c='cxb'><r x='9'y='8'w='2'h='16'/><r x='19'y='10'w='2'h='14'/><r x='43'y='14'w='2'h='10'/><r x='53'y='18'w='2'h='6'/><r x='76'y='16'w='2'h='8'/><r x='86'y='9'w='2'h='15'/><r x='9'y='42'w='2'h='16'/><r x='19'y='50'w='2'h='8'/><r x='43'y='52'w='2'h='6'/><r x='53'y='48'w='2'h='10'/><r x='76'y='43'w='2'h='15'/><r x='86'y='49'w='2'h='9'/><r x='9'y='83'w='2'h='8'/><r x='19'y='76'w='2'h='15'/><r x='43'y='79'w='2'h='12'/><r x='53'y='84'w='2'h='7'/><r x='76'y='81'w='2'h='10'/><r x='86'y='85'w='2'h='6'/></g>",wp_configuration:"<g c='cxa'><p d='M 97.2 61 L 97.2 39 L 83.5 39 C 83 37.3 82.3 35.7 81.4 34.1 L 91.2 24.4 L 75.6 8.8 L 65.9 18.5 C 64.3 17.7 62.7 17 61 16.4 L 61 2.8 L 39 2.8 L 39 16.4 C 37.3 17 35.7 17.7 34.1 18.5 L 24.4 8.8 L 8.8 24.4 L 18.5 34.1 C 17.7 35.7 17 37.3 16.4 39 L 2.8 39 L 2.8 61 L 16.4 61 C 17 62.7 17.7 64.3 18.5 65.9 L 8.8 75.6 L 24.4 91.2 L 34.1 81.5 C 35.7 82.3 37.3 83 39 83.5 L 39 97.3 L 61 97.3 L 61 83.5 C 62.7 82.9 64.3 82.3 65.9 81.4 L 75.6 91.2 L 91.2 75.6 L 81.5 65.9 C 82.3 64.3 83 62.7 83.5 61 Z'/></g><g c='cxb'><c cx='50'cy='50'r='18.5'/></g>",p_g3:"<g c='cxc'><r x='45'y='0'w='30'h='2'/><r x='50'y='10'w='20'h='2'/><r x='35'y='30'w='4'h='4'/><r x='85'y='40'w='4'h='4'/><r x='40'y='85'w='30'h='2'/><r x='0'y='25'w='3'h='25'/><l x1='55'y1='55'x2='65'y2='47'/><l x1='25'y1='65'x2='95'y2='65'/><l x1='25'y1='65'x2='25'y2='75'/><l x1='45'y1='65'x2='45'y2='75'/><l x1='65'y1='65'x2='65'y2='75'/><l x1='85'y1='65'x2='85'y2='75'/><l x1='25'y1='15'x2='25'y2='75'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/><l x1='25'y1='65'x2='75'y2='25'/><l x1='45'y1='50'x2='45'y2='60'/><l x1='65'y1='33'x2='65'y2='43'/><r x='75'y='95'w='20'h='2'/></g>",sl_radiooff:"<c c='cxb'cx='50'cy='50'r='35'/>",op_cancel:"<g c='cxa'><c cx='50'cy='50'r='48'/></g><g c='cxb'><l x1='25'y1='25'x2='75'y2='75'/><l x1='75'y1='25'x2='25'y2='75'/></g>",p_ghvariablelabels:"<g c='cxblue'><r x='40'y='75'w='15'h='2'/><r x='74'y='75'w='15'h='2'/></g>",p_cg1dataverticalshort:"<g c='cxcc'><r x='20'y='67'w='16'h='20'/><r x='48'y='27'w='16'h='60'/><r x='76'y='47'w='16'h='40'/></g>",gr_g2z:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/></g><g c='cxa'><l x1='4'y1='97'x2='70'y2='30'/><l x1='30'y1='97'x2='96'y2='30'/><l x1='56'y1='97'x2='122'y2='30'/><l x1='82'y1='97'x2='148'y2='30'/></g>",p_g3citation:"<g c='cxblue'><r x='75'y='95'w='20'h='2'/></g>",g_splom:"<g c='cxcc'><r x='2.3'y='2.9'w='18.4'h='18.4'/><r x='79.3'y='78.7'w='18.4'h='18.4'/><r x='53.7'y='53.4'w='18.4'h='18.4'/><r x='28'y='28.2'w='18.4'h='18.4'/></g><g c='cxa'><r x='2.3'y='2.9'w='18.4'h='18.4'/><r x='2.3'y='28.2'w='18.4'h='18.4'/><r x='2.3'y='53.4'w='18.4'h='18.4'/><r x='2.3'y='78.7'w='18.4'h='18.4'/><r x='79.3'y='2.9'w='18.4'h='18.4'/><r x='79.3'y='28.2'w='18.4'h='18.4'/><r x='79.3'y='53.4'w='18.4'h='18.4'/><r x='79.3'y='78.7'w='18.4'h='18.4'/><r x='53.7'y='2.9'w='18.4'h='18.4'/><r x='53.7'y='28.2'w='18.4'h='18.4'/><r x='53.7'y='53.4'w='18.4'h='18.4'/><r x='53.7'y='78.7'w='18.4'h='18.4'/><r x='28'y='2.9'w='18.4'h='18.4'/><r x='28'y='28.2'w='18.4'h='18.4'/><r x='28'y='53.4'w='18.4'h='18.4'/><r x='28'y='78.7'w='18.4'h='18.4'/></g><g c='cxb'><r x='2.3'y='2.9'w='18.4'h='18.4'/><r x='79.3'y='78.7'w='18.4'h='18.4'/><r x='53.7'y='53.4'w='18.4'h='18.4'/><r x='28'y='28.2'w='18.4'h='18.4'/></g>",ch_le:"<t c='cxtb100'x='15'y='85'>E</t>",ga_axisx:"<g c='cxb'><l x1='2'y1='50'x2='98'y2='50'/><l x1='2'y1='50'x2='17'y2='35'/><l x1='2'y1='50'x2='17'y2='65'/><l x1='98'y1='50'x2='83'y2='35'/><l x1='98'y1='50'x2='83'y2='65'/></g><t c='cxtn40 cxaa'x='38'y='38'>X</t>",wp_pcr:"<g c='cxr'><p d='M22.4,39.6h55.1c4.2,0,7.7,3.4,7.7,7.7v43.3c0,4.2-3.4,7.7-7.7,7.7H22.4c-4.2,0-7.7-3.4-7.7-7.7V47.2C14.8,43,18.2,39.6,22.4,39.6z'/><p d='M25.8,39.6V26C25.8,12.6,36.6,1.8,50,1.8l0,0'/><p d='M74.2,39.6V26C74.2,12.6,63.4,1.8,50,1.8l0,0'/></g><g c='cxr'><c cx='50'cy='63.1'r='9.2'/><l x1='50'y1='72.3'x2='50'y2='83.9'/></g>",p_g2axisx:"<g c='cxblue'><l x1='25'y1='65'x2='95'y2='65'/><l x1='25'y1='65'x2='25'y2='75'/><l x1='45'y1='65'x2='45'y2='75'/><l x1='65'y1='65'x2='65'y2='75'/><l x1='85'y1='65'x2='85'y2='75'/></g>",b_grvb:"<g c='cxa'><r fill='url(\"#vb-grad\")'x='0'y='0'w='100'h='100'/></g>",g_bar:"<g c='cxb'><r x='23.4'y='55.7'w='15.2'h='30.3'/><r x='50.3'y='15.6'w='15.2'h='70.4'/><r x='77.2'y='30.1'w='15.2'h='56'/></g><g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g>",dp_bin:"<g c='cxb'><c cx='19'cy='3'r='2.5'/><c cx='19'cy='18'r='2.5'/><c cx='19'cy='33'r='2.5'/><c cx='12'cy='33'r='2.5'/><c cx='19'cy='50'r='2.5'/><c cx='12'cy='50'r='2.5'/><c cx='5'cy='50'r='2.5'/><c cx='19'cy='65'r='2.5'/><c cx='12'cy='65'r='2.5'/><c cx='19'cy='80'r='2.5'/><c cx='19'cy='97'r='2.5'/><c cx='50'cy='3'r='2.5'/><c cx='46.5'cy='18'r='2.5'/><c cx='53.5'cy='18'r='2.5'/><c cx='43'cy='33'r='2.5'/><c cx='50'cy='33'r='2.5'/><c cx='57'cy='33'r='2.5'/><c cx='39.5'cy='50'r='2.5'/><c cx='46.5'cy='50'r='2.5'/><c cx='53.5'cy='50'r='2.5'/><c cx='60.5'cy='50'r='2.5'/><c cx='43'cy='65'r='2.5'/><c cx='50'cy='65'r='2.5'/><c cx='57'cy='65'r='2.5'/><c cx='46.5'cy='80'r='2.5'/><c cx='53.5'cy='80'r='2.5'/><c cx='50'cy='97'r='2.5'/><c cx='81'cy='3'r='2.5'/><c cx='81'cy='18'r='2.5'/><c cx='81'cy='33'r='2.5'/><c cx='88'cy='33'r='2.5'/><c cx='81'cy='50'r='2.5'/><c cx='88'cy='50'r='2.5'/><c cx='95'cy='50'r='2.5'/><c cx='81'cy='65'r='2.5'/><c cx='88'cy='65'r='2.5'/><c cx='81'cy='80'r='2.5'/><c cx='81'cy='97'r='2.5'/><c cx='81'cy='3'r='2.5'/></g>",dummy:"",ch_la:"<t c='cxtb100'x='15'y='85'>A</t>",mr_bottom:"<g c='cxa'><l x1='2'y1='77'x2='98'y2='77'/></g>",e_open:"<g c='cxa'><c cx='50'cy='50'r='15'/></g><g c='cxb'><p d='M2,50 Q 50,0 98,50 50,100 2,50'/><l x1='2'y1='25'x2='10'y2='35'/><l x1='25'y1='12'x2='30'y2='23'/><l x1='50'y1='8'x2='50'y2='20'/><l x1='75'y1='12'x2='70'y2='23'/><l x1='98'y1='25'x2='88'y2='35'/></g><g c='cxcc'><c cx='50'cy='50'r='2'/></g>",bx_medianw:"<g c='cxb'><r x='30'y='20'w='40'h='60'/><l x1='30'y1='2'x2='70'y2='2'/><l x1='50'y1='2'x2='50'y2='20'/><l x1='30'y1='98'x2='70'y2='98'/><l x1='50'y1='98'x2='50'y2='80'/></g><g c='cxaa'><r x='31'y='45'w='38'h='10'/></g>",wp_datawrangling:"<g c='cxa'><ellipse cx='40.4'cy='19.2'rx='38.3'ry='12.3'/><p d='M 40.4 47.7 C 19.3 47.7 2.2 42.2 2.2 35.4 L 2.2 19.2'/><l x1='78.8'y1='19.2'x2='78.8'y2='35.4'/><p d='M 40.4 63.8 C 19.3 63.8 2.2 58.3 2.2 51.5 L 2.2 35.3'/><p d='M 40.4 79.6 C 19.3 79.6 2.2 74.1 2.2 67.4 L 2.2 51.2'/></g><g c='cxb'><p d='M 97.8 73.8 L 97.8 62.2 L 90.6 62.2 C 90.3 61.3 89.9 60.4 89.5 59.6 L 94.6 54.4 L 86.5 46.3 L 81.4 51.4 C 80.6 51 79.7 50.6 78.8 50.3 L 78.8 43 L 67.1 43 L 67.1 50.3 C 66.2 50.6 65.3 51 64.5 51.4 L 59.3 46.3 L 51.1 54.4 L 56.3 59.6 C 55.8 60.4 55.5 61.3 55.2 62.2 L 47.9 62.2 L 47.9 73.8 L 55.2 73.8 C 55.5 74.7 55.8 75.6 56.3 76.4 L 51.1 81.6 L 59.3 89.7 L 64.5 84.6 C 65.3 85.1 66.2 85.4 67.1 85.7 L 67.1 93 L 78.7 93 L 78.7 85.7 C 79.6 85.4 80.5 85.1 81.3 84.6 L 86.5 89.7 L 94.7 81.6 L 89.5 76.4 C 89.9 75.5 90.3 74.7 90.6 73.8 Z'/><c cx='72.9'cy='68'r='7.4'/></g>",ar_v:"<p c='cxtxb'd='M35,80 L50,98 L65,80 M35,20 L50,2 L65,20 M50,98 L50,2'/>",c_rcode:"<g c='cxb'><p d='M 40.1 72.2 C 19.2 69.5 3.5 58.7 3.5 45.5 C 3.5 30.5 24.3 18.3 50.1 18.3 C 75.7 18.3 96.5 30.5 96.5 45.5 C 96.5 53.4 90.9 60.4 81.9 65.4'/><p d='M 68.7 70.6 C 64.8 71.6 60.7 72.3 56.7 72.6'/><p d='M 40.1 63.1 C 29.5 59.9 22.4 54 22.4 47.2 C 22.4 37.2 37.8 29.1 56.8 29.1 C 62.7 29.1 68.6 29.9 74.2 31.6 C 77.3 32.7 80.2 34 83 35.5'/></g><p c='cxa'd='M 80.2 62.8 C 91 60.6 95.6 47.6 88.3 39.2 C 85.6 36.1 81.5 34.3 77.4 34.3 L 40.1 34.3 L 40.1 81.7 L 56.7 81.7 L 56.7 63.1 L 63.8 63.1 L 75.9 81.7 L 92.5 81.7 Z M 70.4 54.3 L 55.9 54.3 L 55.9 43.2 L 70.4 43.2 C 74.6 42.8 77.7 47.2 75.9 51.1 C 74.9 53.2 72.8 54.5 70.4 54.3 Z'/><g c='cxaa'><t c='cxtn50'x='2'y='-5'tr='rotate(90)'>&#8963;</t><t c='cxtn50'x='-42'y='35'tr='rotate(-90)'>&#8963;</t></g>",chte_alignright:"<g c='cxb'><l y1='2'x1='2'y2='2'x2='98'/><l y1='34'x1='38'y2='34'x2='98'/><l y1='66'x1='2'y2='66'x2='98'/><l y1='98'x1='38'y2='98'x2='98'/></g>",bx_mean:"<g c='cxb'><r x='30'y='20'w='40'h='60'/><l x1='30'y1='50'x2='70'y2='50'/><l x1='30'y1='2'x2='70'y2='2'/><l x1='50'y1='2'x2='50'y2='20'/><l x1='30'y1='98'x2='70'y2='98'/><l x1='50'y1='98'x2='50'y2='80'/></g><g c='cxaa'><r x='40'y='40'w='20'h='20'/></g>",g_boxplot:"<g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g><g c='cxb'><r x='83.1'y='27.1'w='13.3'h='25.1'/><l x1='83.1'y1='39.6'x2='96.4'y2='39.6'/><l x1='90'y1='27.1'x2='90'y2='19.3'/><l x1='84.8'y1='20'x2='95.2'y2='20'/><l x1='90'y1='52.2'x2='90'y2='59.9'/><l x1='84.8'y1='59.2'x2='95.2'y2='59.2'/><l x1='89.8'y1='67.5'x2='89.8'y2='68.7'/><r x='23.1'y='18.8'w='13.3'h='25.1'/><l x1='23.1'y1='31.3'x2='36.5'y2='31.3'/><l x1='30'y1='18.8'x2='30'y2='11'/><l x1='24.8'y1='11.7'x2='35.3'y2='11.7'/><l x1='30'y1='43.9'x2='30'y2='51.7'/><l x1='24.8'y1='51'x2='35.3'y2='51'/><l x1='29.8'y1='59.2'x2='29.8'y2='60.5'/><r x='53.1'y='44.2'w='13.3'h='25.1'/><l x1='53.1'y1='56.7'x2='66.4'y2='56.7'/><l x1='60'y1='69.2'x2='60'y2='77'/><l x1='54.7'y1='76.3'x2='65.3'y2='76.3'/><l x1='60'y1='44.2'x2='60'y2='36.4'/><l x1='54.7'y1='37.1'x2='65.3'y2='37.1'/><l x1='59.8'y1='25.9'x2='59.8'y2='24.7'/></g>",cd_doc:"<g c='cxb'><y q='78,42 78,30 48,30 48,2 2,2 2,98 78,98 78,85'/><l x1='79'y1='29'x2='48'y2='1'/></g><g c='cxaa'><t c='cxtn50'x='42'y='-60'tr='rotate(90)'>&#8963;</t><t c='cxtn50'x='-82'y='90'tr='rotate(-90)'>&#8963;</t></g>",p_dgline:"<g c='cxa'><l x1='10'y1='50'x2='98'y2='50'/><l x1='10'y1='51'x2='98'y2='51'/></g>",c_paultol:"<r y='16.2'c='cl30'w='12.5'h='67.7'/><r x='12.5'y='16.2'c='cl31'w='12.5'h='67.7'/><r x='25'y='16.2'c='cl32'w='12.5'h='67.7'/><r x='50'y='16.2'c='cl33'w='12.5'h='67.7'/><r x='37.5'y='16.2'c='cl34'w='12.5'h='67.7'/><r x='62.5'y='16.2'c='cl35'w='12.5'h='67.7'/><r x='75'y='16.2'c='cl36'w='12.5'h='67.7'/><r x='87.5'y='16.2'c='cl37'w='12.5'h='67.7'/>",bx_violinu:"<g c='cxac'><p d='M50,0 Q54,12 66,18 76,28 63,36 50,40 66,49 84,55 84,67 82,81 65,86 54,90 50,100 46,90 35,86 18,81 16,67 16,55 39,50 50,40 37,36 24,28 34,18 46,12 50,0'/></g>",p_g3axisz:"<g c='cxblue'><l x1='25'y1='65'x2='75'y2='25'/><l x1='45'y1='50'x2='45'y2='60'/><l x1='65'y1='33'x2='65'y2='43'/></g>",p_g2subtitle:"<g c='cxblue'><r x='50'y='10'w='20'h='2'/></g>",cd_linesindent:"<g c='cxa'><l x1='10'y1='10'x2='40'y2='10'/><l x1='15'y1='18'x2='40'y2='18'/><l x1='15'y1='26'x2='40'y2='26'/><l x1='10'y1='34'x2='50'y2='34'/><l x1='15'y1='42'x2='40'y2='42'/><l x1='15'y1='50'x2='40'y2='50'/><l x1='10'y1='58'x2='50'y2='58'/><l x1='15'y1='66'x2='40'y2='66'/><l x1='15'y1='74'x2='40'y2='74'/><l x1='10'y1='82'x2='50'y2='82'/><l x1='15'y1='90'x2='40'y2='90'/></g>",b_windowgradient:"<g c='cxa'><y fill='url(\"#w-grad\")'q='65,45 65,30 48,30 48,15 15,15 15,83 68,83 45,65 65,45'/></g>",ch_ox:"<t c='cxti100'x='25'y='70'>x</t>",g_density:"<g c='cxb'><p d='M 11.9 86 C 11.9 86 23.5 79.2 29.4 56.8 C 35.3 34.4 38.9 2.4 47.3 3.9 C 55.8 5.3 59.3 58.7 63.9 58.7 C 69 58.7 67.8 37.7 76.8 39.5 C 85.7 41.3 96.7 86 96.7 86'/></g><g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g>",dt_range:"<g c='cxaa'><r x='8'y='46'w='10'h='9'/><r x='88'y='6'w='10'h='49'/></g><g c='cxb'><l x1='2'y1='60'x2='100'y2='60'/><l x1='2'y1='2'x2='2'y2='60'/></g><g c='cxcc'><r x='28'y='36'w='10'h='19'/><r x='48'y='26'w='10'h='29'/><r x='68'y='16'w='10'h='39'/></g><p c='cxtxa'd='M71,74 L83,86 L71,98 M29,74 L17,86 L29,98 M83,86 L17,86'/>",ch_lr:"<t c='cxtb100'x='15'y='85'>R</t>",sr_19:"<p c='cxtxb'd='M2,80 L17,98 L32,80 M17,98 L17,2'/><p c='cxtxb'd='M27,20 L42,2 L57,20 M42,98 L42,2'/><g c='cxaa'><t c='cxtn60'x='60'y='45'>1</t><t c='cxtn60'x='60'y='95'>9</t></g>",tx_tostring:"<t c='cxtn60'x='65'y='70'>#</t><g c='cxaa'><t c='cxtn60'x='30'y='40'>&#10554;</t><t c='cxtn60'x='0'y='65'>a</t></g>",p_g3axistitlex:"<g c='cxblue'><r x='40'y='85'w='30'h='2'/></g>",ps_toloc3:"<p c='cxtxb'd='M2,78 L2,98 L22,98 M78,2 L98,2 L98,22 M2,98 L98,2'/><p c='cxtxb'd='M98,78 L98,98 L78,98 M2,22 L2,2 L22,2 M2,2 L98,98'/><g c='cxaa'><r x='36'y='36'w='25'h='25'/></g>",p_g3axistitley:"<g c='cxblue'><r x='0'y='25'w='3'h='25'/></g>",p_ghcitation:"<g c='cxblue'><r x='75'y='95'w='20'h='2'/></g>",g_correlation:"<g c='cxb'><l x1='76.6'y1='22.6'x2='36.7'y2='63.9'/><l x1='23.4'y1='22.6'x2='63.3'y2='63.9'/><l x1='50'y1='22.6'x2='76.2'y2='51'/><l x1='50'y1='22.6'x2='23.8'y2='51'/><l x1='76.6'y1='22.6'x2='90.8'y2='36.8'/><l x1='23.4'y1='22.6'x2='9.9'y2='36.8'/></g><g c='cxa'><polygon q='50 22.6 1.9 22.6 1.9 28.8 50 77.4 98.1 28.8 98.1 22.6 50 22.6'/></g>",ln_styledotted:"<g c='cxa'><l x1='4'y1='50'x2='98'y2='50'stroke-dasharray='5'/></g>",p_gh:"<g c='cxc'><r x='50'y='0'w='30'h='2'/><r x='55'y='10'w='20'h='2'/><r x='30'y='20'w='68'h='45'/><l x1='30'y1='44'x2='98'y2='44'/><l x1='64'y1='20'x2='64'y2='65'/><r x='0'y='25'w='3'h='30'/><r x='15'y='25'w='3'h='10'/><r x='15'y='45'w='3'h='10'/><r x='40'y='75'w='15'h='2'/><r x='74'y='75'w='15'h='2'/><r x='50'y='85'w='30'h='2'/><r x='75'y='95'w='20'h='2'/></g>",ch_oiter:"<t c='cxts150'x='20'y='85'>i</t>",wp_por:"<g c='cxr'><p d='M22.5,39.6h55.1c4.2,0,7.7,3.4,7.7,7.7v43.3c0,4.2-3.4,7.7-7.7,7.7H22.5c-4.2,0-7.7-3.4-7.7-7.7V47.3C14.8,43,18.2,39.6,22.5,39.6z'/><p d='M73.8,21.2C71.5,9.9,61.6,1.8,50.1,1.8l0,0C36.7,1.8,25.9,12.5,25.8,25.9c0,0.1,0,0.1,0,0.2v13.5'/></g><g c='cxr'><c cx='50'cy='63.1'r='9.2'/><l x1='50'y1='72.3'x2='50'y2='83.9'/></g>",p_dgmarker:"<g c='cxaa'><r x='42'y='24'w='24'h='5'/><l x1='56'y1='25'x2='56'y2='65'/><l x1='57'y1='25'x2='57'y2='65'/></g>",p_ghsampletitle:"<g c='cxblue'><r x='0'y='25'w='3'h='30'/></g>",ch_calt:"<t c='cxtn60'x='5'y='70'>Alt</t>",ch_oquantile:"<t c='cxti100'x='15'y='75'>Q</t>",m_left:"<g c='cxaa'><p d='M50,10 Q 25,10 25,25 L25,35 45,35 45,30 Q 45,25 50,25 Z'/></g>",g_gantt:"<g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g><g c='cxb'><r x='24'y='10.6'w='29.6'h='10.5'/><r x='66'y='64.1'w='29.6'h='10.5'/><r x='43.2'y='28.5'w='20.9'h='10.5'/><r x='56.4'y='46.3'w='16.3'h='10.5'/></g>",p_cg1axesvertical:"<g c='cxb'><l x1='10'y1='2'x2='10'y2='98'/><l x1='2'y1='10'x2='10'y2='10'/><l x1='2'y1='30'x2='10'y2='30'/><l x1='2'y1='50'x2='10'y2='50'/><l x1='2'y1='70'x2='10'y2='70'/><l x1='2'y1='90'x2='98'y2='90'/><r x='23'y='98'w='10'h='2'/><r x='51'y='98'w='10'h='2'/><r x='79'y='98'w='10'h='2'/></g>",chte_alignleft:"<g c='cxb'><l y1='2'x1='2'y2='2'x2='98'/><l y1='34'x1='2'y2='34'x2='62'/><l y1='66'x1='2'y2='66'x2='98'/><l y1='98'x1='2'y2='98'x2='62'/></g>",ch_lt:"<t c='cxtb100'x='15'y='85'>T</t>",c_shiny:"<p c='cxa1'd='M 40.571 22.121 C 37.014 23.203 34.219 28.368 31.467 38.947 C 30.436 42.91 27.71 54 27.71 54.231 C 27.71 54.441 30.31 54.421 31.081 54.206 C 31.587 54.064 31.705 53.734 32.581 49.988 C 34.087 43.546 35.284 41.043 37.585 39.519 C 39.751 38.084 40.007 38.711 38.874 42.67 C 35.599 54.108 39.466 58.4 45.019 49.49 C 46.098 47.758 46.098 47.758 46.277 48.881 C 46.755 51.878 47.268 52.517 49.038 52.317 C 50.279 52.177 51.71 51.074 52.929 49.318 C 54.01 47.761 54.121 47.781 53.732 49.467 C 53.34 51.163 53.204 51.057 55.535 50.878 C 57.477 50.728 57.477 50.728 57.716 49.463 C 59.445 40.301 61.979 35.224 64.826 35.224 C 65.697 35.224 65.714 35.619 64.969 38.418 C 62.796 46.569 62.842 49.804 65.138 50.398 C 66.802 50.829 69.504 48.641 71.267 45.435 C 71.932 44.226 72.163 44.223 72.163 45.419 C 72.163 49.507 75.462 49.847 78.94 46.119 C 79.841 45.153 80.527 44.515 80.463 44.701 C 80.4 44.887 80.159 45.78 79.926 46.684 C 79.561 48.111 79.429 48.344 78.937 48.442 C 72.702 49.68 69.766 51.66 70.261 54.293 C 71.181 59.204 79.962 56.813 82.538 50.951 C 83.232 49.371 83.412 49.149 84.473 48.55 C 85.116 48.187 86.789 47.02 88.191 45.957 C 91.928 43.122 92.319 44.135 88.933 47.877 C 88.211 48.675 86.9 50.191 86.019 51.246 C 78.869 59.813 73.94 61.192 47.342 62.075 C 27.465 62.735 19.16 64.105 9.038 68.394 C 5.82 69.757 5.498 70.2 7.72 70.2 C 14.36 70.2 22.943 74.905 26.836 80.68 C 27.994 82.399 28.042 82.418 28.4 81.313 C 31.616 71.389 41.454 66.767 64.301 64.448 C 77.216 63.138 81.306 60.83 90.098 49.891 C 97.88 40.209 96.448 35.941 88.003 43.645 C 85.594 45.84 83.811 47.141 83.98 46.577 C 84.047 46.352 84.56 44.34 85.119 42.106 C 86.816 35.327 87.777 32.503 88.656 31.707 C 89.561 30.888 89.226 30.639 87.455 30.813 C 84.313 31.123 84.038 31.393 82.682 35.493 C 79.769 44.304 74.874 49.067 75.968 42.026 C 76.486 38.696 78.536 33.579 79.818 32.419 C 80.943 31.4 79.711 31.046 77.415 31.729 C 75.601 32.268 74.001 34.547 73.279 37.622 C 72.505 40.92 68.998 46.409 67.777 46.235 C 67.014 46.125 67.093 44.895 68.114 40.97 C 69.426 35.929 69.517 35.387 69.233 34.333 C 68.638 32.124 65.595 32.215 62.594 34.531 C 61.173 35.627 61.106 35.638 61.106 34.788 C 61.106 32.523 57.248 32.838 57.152 35.111 C 56.91 40.798 51.039 51.313 50.128 47.691 C 49.792 46.357 51.691 39.847 53.458 36.272 C 53.817 35.546 54.111 34.912 54.111 34.862 C 54.111 34.813 53.476 34.773 52.701 34.773 C 50.1 34.775 49.387 35.629 47.473 41.037 C 43.689 51.733 39.774 53.17 42.699 42.789 C 44.524 36.316 42.877 34.042 38.464 36.944 C 37.247 37.744 37.271 37.617 38.768 35.315 C 44.161 27.018 45.014 20.77 40.571 22.121 M 40.656 24.063 C 40.341 24.377 39.68 25.496 39.187 26.548 C 37.844 29.414 34.968 38.176 35.679 37.236 C 39.685 31.938 43.878 20.841 40.656 24.063 M 21.208 26.005 C 16.654 27.755 14.374 33.397 16.48 37.706 C 17.159 39.094 21.172 44.487 21.855 44.929 C 23.049 45.703 23.609 49.145 22.795 50.712 C 20.246 55.625 15.063 54.289 14.15 48.485 C 13.721 45.753 13.262 45.588 11.845 47.654 C 9.049 51.727 12.004 55.647 17.539 55.209 C 28.523 54.339 30.848 45.877 22.506 37.134 C 18.375 32.805 18.874 28.003 23.456 28.003 C 25.648 28.003 26.171 28.494 26.562 30.925 C 26.954 33.357 27.481 33.527 29.184 31.769 C 32.758 28.079 26.876 23.828 21.208 26.005 M 52.74 29.114 C 52.041 29.813 51.873 30.804 52.314 31.628 C 52.942 32.802 55.465 31.58 55.465 30.101 C 55.465 28.457 53.947 27.907 52.74 29.114 M 76.422 51.089 C 73.591 52.054 72.209 53.322 73.061 54.173 C 74.33 55.443 77.015 54.102 78.335 51.538 C 78.947 50.351 78.735 50.301 76.422 51.089'></p>",p_ghtitle:"<g c='cxblue'><r x='50'y='0'w='30'h='2'/></g>",tm_history:"<g c='cxa'><p d='M 12 50 A 38 38 0 1 1 31 83'/><l x1='2'y1='40'x2='12'y2='50'/><l x1='22'y1='40'x2='12'y2='50'/></g><g c='cxb'><l x1='50'y1='20'x2='50'y2='50'/><l x1='42'y1='73'x2='50'y2='50'/><c cx='50'cy='50'r='4'/></g>",i_right:"<r fill='url(\"#l-grad\")'x='50'y='25'w='48'h='50'/>",p_cg2fitkm:"<g c='cxa'><y q='10,20 35,20 35,30 55,30 55,50 75,50 75,75 95,75 95,90'/></g>",gr_g2y:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='100'y2='98'/></g><g c='cxa'><l x1='4'y1='18'x2='98'y2='18'/><l x1='4'y1='38'x2='98'y2='38'/><l x1='4'y1='58'x2='98'y2='58'/><l x1='4'y1='78'x2='98'y2='78'/></g>",ch_ls:"<t c='cxtb100'x='15'y='85'>S</t>",dp_binned:"<g c='cxb'><c cx='3'cy='3'r='2.5'/><c cx='3'cy='18'r='2.5'/><c cx='3'cy='33'r='2.5'/><c cx='3'cy='50'r='2.5'/><c cx='3'cy='65'r='2.5'/><c cx='3'cy='80'r='2.5'/><c cx='3'cy='97'r='2.5'/><c cx='86.5'cy='3'r='2.5'/><c cx='83'cy='18'r='2.5'/><c cx='90'cy='18'r='2.5'/><c cx='79.5'cy='33'r='2.5'/><c cx='86.5'cy='33'r='2.5'/><c cx='93.5'cy='33'r='2.5'/><c cx='76'cy='50'r='2.5'/><c cx='83'cy='50'r='2.5'/><c cx='90'cy='50'r='2.5'/><c cx='97'cy='50'r='2.5'/><c cx='79.5'cy='65'r='2.5'/><c cx='86.5'cy='65'r='2.5'/><c cx='93.5'cy='65'r='2.5'/><c cx='83'cy='80'r='2.5'/><c cx='90'cy='80'r='2.5'/><c cx='86.5'cy='97'r='2.5'/></g><p c='cxtxa'd='M50,44 L58,52 L50,60 M34,44 L26,52 L34,60 M58,52 L26,52'/>",ch_ox1:"<t c='cxti100'x='15'y='70'>x</t><t c='cxtn40'x='65'y='75'>1</t>",at_sch:"<c c='clt0'cx='11'cy='89'r='4.3'/><p c='clt1'd='M100,78v22l0,0H11c-6.1,0-11-5-11-11v0C0,83,5,78,11,78H100L100,78z'/><r x='80.8'y='78'c='clt2'w='19.2'h='22'/><r x='61.6'y='78'c='clt3'w='19.2'h='22'/><r x='42.5'y='78'c='clt4'w='19.2'h='22'/><r x='23.3'y='78'c='clt5'w='19.2'h='22'/><p c='clt6'd='M83.3,35.9l10.8,19.2l0,0L16.4,98.6c-5.3,3-12,1.1-15-4.2l0,0c-3-5.3-1.1-12,4.2-15L83.3,35.9L83.3,35.9z'/><r x='70.7'y='39.2'tr='matrix(0.8725 -0.4887 0.4887 0.8725 -14.2707 45.6597)'c='clt7'w='19.2'h='22'/><r x='54'y='48.5'tr='matrix(0.8725 -0.4887 0.4887 0.8725 -20.9912 38.6718)'c='clt8'w='19.2'h='22'/><r x='37.3'y='57.9'tr='matrix(0.8725 -0.4887 0.4887 0.8725 -27.6765 31.7204)'c='clt9'w='19.2'h='22'/><r x='20.6'y='67.3'tr='matrix(0.8725 -0.4887 0.4887 0.8725 -34.3969 24.7323)'c='clt10'w='19.2'h='22'/><p c='clt11'd='M47.7,7l18.8,11.4l0,0l-46,76.2c-3.1,5.2-9.9,6.9-15.1,3.7l0,0c-5.2-3.1-6.9-9.9-3.7-15.1L47.7,7L47.7,7z'/><r x='42.5'y='9.9'tr='matrix(0.5171 -0.8559 0.8559 0.5171 7.2816 54.7253)'c='clt12'w='19.2'h='22'/><r x='32.6'y='26.3'tr='matrix(0.5171 -0.8559 0.8559 0.5171 -11.5756 54.1644)'c='clt13'w='19.2'h='22'/><r x='22.7'y='42.7'tr='matrix(0.5171 -0.8559 0.8559 0.5171 -30.334 53.6064)'c='clt14'w='19.2'h='22'/><r x='12.8'y='59.1'tr='matrix(0.5171 -0.8559 0.8559 0.5171 -49.1912 53.0452)'c='clt15'w='19.2'h='22'/><c c='clt0'cx='11'cy='89'r='4.3'/><p c='clt16'd='M0,0h22l0,0v89c0,6.1-5,11-11,11h0C5,100,0,95,0,89L0,0L0,0z'/><c c='clt0'cx='11'cy='89'r='4.3'/><r x='0'c='clt17'w='22'h='19.2'/><r x='0'y='19.2'c='clt18'w='22'h='19.2'/><r x='0'y='38.3'c='clt19'w='22'h='19.2'/><r x='0'y='57.5'c='clt20'w='22'h='19.2'/>",sv_svg:"<g c='cxa'><p d='M60,7 L70,17 L90,17 Q 98,17 98,26 L98,74 Q 98,84 90,84 L10,84 Q 2,84 2,74 L2,24 Q 2,17 10,17 L30,17 L40,7 Z'/></g><g c='cxb'><c cx='50'cy='50'r='15'/><c cx='50'cy='50'r='25'/><l x1='10'y1='8'x2='25'y2='8'/><l x1='10'y1='27'x2='25'y2='27'/></g><g c='cxaw'><r x='12'y='55'w='76'h='40'rx='4'/></g><g c='cxaa'><t c='cxtn30'x='18'y='85'>SVG</t></g>",g_stackedpercentline:"<g c='cxcc'><r x='76.7'y='34.8'w='14.9'h='32.7'/><r x='49.7'y='59.1'w='14.9'h='18.2'/><r x='23.2'y='31.3'w='14.9'h='37.3'/></g><g c='cxbb'><r x='22.4'y='68.6'w='14.9'h='17.4'/><r x='49.7'y='76.7'w='14.9'h='9.3'/><r x='76.7'y='67.5'w='14.9'h='18.5'/></g><g c='cxb'><r x='22.4'y='2'w='15.6'h='84'/><r x='49.4'y='2'w='15.6'h='84'/><r x='76.4'y='2'w='15.6'h='84'/><l x1='50'y1='59.1'x2='64.9'y2='59.1'/><l x1='50'y1='76.7'x2='64.9'y2='76.7'/><l x1='76.7'y1='34.8'x2='91.6'y2='34.8'/><l x1='76.7'y1='67.5'x2='91.6'y2='67.5'/><l x1='22.4'y1='31.3'x2='37.9'y2='31.3'/><l x1='22.4'y1='68.6'x2='37.9'y2='68.6'/></g><g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/><y q='23.1 15.6 57.7 51.1 89.9 15.6'/></g>",wp_events:"<polygon c='cxa'q='79.6 23.2 2.6 2.6 23.2 79.6 39.3 56.9 79.6 97.4 97.4 79.6 56.9 39.3 79.6 23.2'style=''></polygon>",gr_g2xy:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='100'y2='98'/></g><g c='cxa'><l x1='20'y1='0'x2='20'y2='97'/><l x1='40'y1='0'x2='40'y2='97'/><l x1='60'y1='0'x2='60'y2='97'/><l x1='80'y1='0'x2='80'y2='97'/><l x1='4'y1='18'x2='98'y2='18'/><l x1='4'y1='38'x2='98'y2='38'/><l x1='4'y1='58'x2='98'y2='58'/><l x1='4'y1='78'x2='98'y2='78'/></g>",c_jupyter:"<g c='cxa'><p d='M50.3,22.2c16.2,0,30.3,5.7,37.7,14.3C80.5,15.7,57.5,5,36.7,12.5c-11.2,4-20,12.9-24.1,24.1C20,28,34.2,22.2,50.3,22.2z'/><p d='M50.3,78.8c-16.2,0-30.3-5.7-37.7-14.3c7.5,20.8,30.5,31.6,51.3,24.1c11.2-4,20-12.9,24.1-24.1C80.6,73,66.5,78.8,50.3,78.8z'/></g><g c='cxb'><c cx='77.4'cy='6.4'r='5'/><c cx='19.4'cy='93.4'r='5'/><c cx='14.6'cy='13.2'r='3.5'/><p d='M0,62.9c1.1,0,2.1-0.4,2.9-1.1c0.7-0.9,1-2.1,1-5.7V43.4h2.9v13.7C7,59.3,6.4,61.5,5,63.3C3.7,64.4,2,65,0.3,65L0,62.9z'/><p d='M24.7,54.4c0,1.6,0,2.9,0,4.1h-2.3v-2.5l0,0c-1,1.8-2.9,2.9-5,2.9c-2.4,0-5.2-1.3-5.2-6.6v-8.9h2.9v8.4c0,2.9,0.9,4.8,3.3,4.8c1.6,0,3-1,3.6-2.5c0.2-0.4,0.3-0.9,0.3-1.4v-9.3h2.9L24.7,54.4z'/><p d='M30.3,48.4c0-1.9,0-3.5,0-4.9h2.5L33,46l0,0c1.1-1.9,3.2-3,5.4-2.9c3.6,0,6.4,3.1,6.4,7.7c0,5.4-3.3,8.1-6.8,8.1c-1.9,0.1-3.6-0.8-4.7-2.4l0,0v8.2h-2.8V48.4z M33,52.4c0,0.4,0,0.8,0.1,1.1c0.5,1.9,2.1,3.2,4,3.2c2.9,0,4.6-2.4,4.6-5.7c0-3-1.6-5.7-4.5-5.7c-2,0-3.7,1.4-4.1,3.4C33.1,49,33,49.4,33,49.8L33,52.4z'/><p d='M49.8,43.4l3.3,8.9c0.3,1,0.7,2.2,0.9,3.1l0,0c0.3-0.9,0.6-2.1,0.9-3.1l3-8.8h2.9l-4.1,10.8c-0.9,3.5-2.7,6.7-5.2,9.4c-0.9,0.9-2.1,1.5-3.4,1.8l-0.7-2.3c0.9-0.3,1.7-0.7,2.4-1.3c1-0.8,1.8-1.9,2.3-3.1c0.1-0.2,0.2-0.4,0.2-0.7c0-0.2-0.1-0.5-0.2-0.7l-5.6-13.9L49.8,43.4z'/><p d='M68.4,39.1v4.3h3.9v2.1h-3.9v8.1c0,1.9,0.5,2.9,2,2.9c0.5,0,1.1-0.1,1.6-0.2v2.1c-0.8,0.3-1.6,0.4-2.4,0.4c-1.1,0-2.1-0.4-2.9-1.2c-0.7-1.1-1.1-2.5-0.9-3.9v-8.2h-2.3v-2.1h2.3v-3.6L68.4,39.1z'/><p d='M77.6,51.5c-0.2,2.7,1.7,5,4.4,5.2c0.3,0,0.5,0,0.8,0c1.4,0,2.8-0.2,4.2-0.8l0.5,2c-1.6,0.7-3.3,1-5,0.9c-3.8,0.3-7.2-2.7-7.4-6.5c0-0.4,0-0.7,0-1.1c-0.4-4,2.6-7.6,6.6-8c0.2,0,0.3,0,0.5,0c3.5,0.1,6.3,3,6.2,6.6c0,0.2,0,0.4,0,0.5c0,0.4,0,0.9,0,1.3L77.6,51.5z M85.6,49.5c0.3-2.1-1.2-4.1-3.3-4.4c-0.2,0-0.3,0-0.5,0c-2.3,0.2-4.2,2.1-4.2,4.4H85.6z'/><p d='M92.6,48.2c0-1.8,0-3.3,0-4.7H95v2.9h0.1c0.6-1.8,2.2-3,4.1-3.1c0.3,0,0.5,0,0.8,0v2.6c-0.3,0-0.6,0-0.9,0c-1.9,0.1-3.5,1.6-3.7,3.5c0,0.4,0,0.8,0,1.3v8h-2.7L92.6,48.2z'/></g>",wp_threebars3:"<g c='cxww'><r x='2'y='15'w='96'h='8'/><r x='2'y='48'w='96'h='8'/><r x='2'y='81'w='96'h='8'/></g>",ch_lu:"<t c='cxtb100'x='15'y='85'>U</t>",ch_lq:"<t c='cxtb100'x='8'y='85'>Q</t>",ln_stylesolidver:"<g c='cxa'><l x1='55'y1='2'x2='55'y2='93'/></g>",bx_meanb:"<g c='cxc'><r x='30'y='20'w='40'h='60'/><l x1='30'y1='50'x2='70'y2='50'/><l x1='30'y1='2'x2='70'y2='2'/><l x1='50'y1='2'x2='50'y2='20'/><l x1='30'y1='98'x2='70'y2='98'/><l x1='50'y1='98'x2='50'y2='80'/></g><g c='cxbb'><r x='40'y='40'w='20'h='20'/></g>",wp_threebars:"<g c='cxaa'><r x='2'y='15'w='96'h='8'/><r x='2'y='48'w='96'h='8'/><r x='2'y='81'w='96'h='8'/></g>",a_alignright:"<g c='cxb'><r x='40'y='2'w='45'h='38'rx='5'/><r x='10'y='52'w='75'h='38'rx='5'/></g><g c='cxa'><l x1='97'y1='1'x2='97'y2='99'/></g>",p_cghdata1:"<g c='cxcc'><r x='12'y='4'w='26'h='18'/><r x='12'y='70'w='26'h='18'/><r x='42'y='26'w='26'h='18'/><r x='72'y='48'w='26'h='18'/><r x='72'y='70'w='26'h='18'/></g>",bx_connect:"<g c='cxb'><r x='2'y='2'w='24'h='24'/><r x='2'y='36'w='24'h='24'/><r x='2'y='70'w='24'h='24'/><r x='74'y='2'w='24'h='24'/><r x='74'y='36'w='24'h='24'/><r x='74'y='70'w='24'h='24'/></g><g c='cxa'><l x1='14'y1='14'x2='86'y2='14'/><l x1='14'y1='48'x2='86'y2='48'/><l x1='14'y1='82'x2='86'y2='82'/></g>",wp_events3:"<polygon c='cxwb'q='79.6 23.2 2.6 2.6 23.2 79.6 39.3 56.9 79.6 97.4 97.4 79.6 56.9 39.3 79.6 23.2'style=''></polygon>",ch_ln:"<t c='cxtb100'x='15'y='85'>N</t>",g_chord:"<g c='cxb'><p d='M 84.5 65.8 C 84.5 65.8 46.1 50 83.6 32.4'/><p d='M 84.5 65.8 C 84.5 65.8 47.4 48.6 42.2 87.2'/><p d='M 15.5 65.8 C 15.5 65.8 59.1 50.7 61.5 13.8'/><p d='M 12.1 50 C 12.1 50 59.8 66.4 87.4 43'/><p d='M 15 35.2 C 15 35.2 56.8 39 25.2 79'/><p d='M 72.8 80.4 C 72.8 80.4 15.8 48.8 75.9 22.3'/></g><g c='cxa'><p d='M 2.2 50 C 2.3 86.8 42.1 109.8 74 91.3 C 75.6 90.4 77.1 89.4 78.6 88.3 L 72.7 80.4 C 49.3 97.9 15.7 83.4 12.3 54.4 C 12.2 53 12.1 51.5 12.1 50 L 2.2 50 Z'/><p d='M 15 35.2 C 25.3 11 56.6 4.3 75.9 22.3 L 82.6 15.1 C 58.3 -7.6 18.9 0.9 6 31.4 L 15 35.2 Z'/><p d='M 87.4 79.8 C 99.3 64.9 101.2 44.2 92.1 27.4 L 83.7 32.4 C 90.7 45.8 89.1 62.2 79.5 74 L 87.4 79.8 Z'/></g>",m_zlasso:"<g c='cxa'><p d='M12.4,60c-4.7-2.8-8-7.3-9.4-12.6C-0.6,31.8,17.6,14.3,43.5,8.3S93.4,10.2,97,25.8c3.6,15.6-14.6,33.1-40.5,39.2c-1.1,0.3-2.3,0.5-3.4,0.7'/><p d='M29.5,93.8c0,0,14.4-21.7,0-33.7S5.1,69.9,19.2,73.8c7.6,2.1,46.6-2.9,30.7-19c-6.8-7-20.4,5.3-20.4,5.3'/></g>",p_g3axisy:"<g c='cxblue'><l x1='25'y1='15'x2='25'y2='75'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/></g>",at_sze:"<g c='cxb'><p d='M 4 35 A 48 48 0 1 1 77 90'/><c cx='53'cy='83'r='15'/></g><g c='cxa'><p d='M 34 95 A 30 30 0 1 1 62 63'/></g>",g_contour:"<g c='cxa'><p d='M 56.1 92.7 L 21.1 92.7 C 17.4 92.8 14.3 89.8 14.3 86 L 14.3 82.1 C 14.3 80.4 13.1 79.1 11.4 79.1 L 11.4 79.1 C 9.8 79.1 8.4 77.7 8.4 76.2 L 8.4 29.7 L 14.3 29.7 L 14.3 22.2 L 20.3 22.2 L 20.3 18.4 L 25 18.4 L 25 13.3 L 29.9 13.3 L 29.9 8.7 L 33.6 8.7 L 33.6 5.8 L 37.8 5.8 L 37.8 2.8 L 50 2.8 L 50 6.6 L 62.5 6.6 L 62.5 10.9 L 69.1 10.9 L 69.1 15.7 L 74 15.7 L 74 20 L 77.5 20 L 77.5 27 L 82.5 27 L 82.5 34.9 L 86.2 34.9 L 86.2 50.9 L 90.8 50.9 L 90.8 69.8 L 86.5 69.8 L 86.5 80.1 L 82.5 80.1 L 82.5 90.6 C 82.5 91.8 81.5 92.7 80.2 92.7 L 80.2 92.7 C 78.9 92.7 77.9 93.8 77.9 95 L 77.9 95 C 77.9 96.3 76.9 97.3 75.6 97.3 L 60.8 97.3 C 59.6 97.3 58.6 96.3 58.6 95 L 58.6 95 C 58.6 93.7 57.5 92.6 56.1 92.7 Z'/><polygon q='38.4 42.7 38.4 38.9 49.9 38.9 49.9 43.2 53.7 43.2 53.7 71.1 38.4 71.1 38.4 63.2 34 63.2 34 42.7 38.4 42.7'/></g><g c='cxb'><polygon q='63 78.5 69.8 78.5 69.8 70.7 78.5 70.7 78.5 59.1 74 59.1 74 50.6 69.5 50.6 69.5 39.4 66.7 39.4 66.7 31.7 62.5 31.7 62.5 27.5 54.2 27.5 54.2 22.9 33.9 22.9 33.9 27.4 30.1 27.3 30.1 29.8 26.2 29.8 26.2 34.7 22.8 34.7 22.8 75.1 25.4 75.1 25.4 79.2 29.5 79.2 29.5 83.1 63 83.1 63 78.5'/><y q='77.9 2.9 85.9 2.9 85.9 11.4 90 11.4 90 15 93.9 15 93.9 22.9 98.2 22.9 98.2 31.2'/><y q='21.9 2.9 14 2.9 14 7.2 10.1 7.2 10.1 15.4 1.8 15.4'/></g>",ch_osqrt:"<t c='cxts70'x='0'y='60'>sqrt</t>",mr_all:"<g c='cxc'><l x1='2'y1='25'x2='98'y2='25'/><l x1='77'y1='2'x2='77'y2='98'/><l x1='2'y1='77'x2='98'y2='77'/><l x1='25'y1='2'x2='25'y2='98'/></g>",sv_image:"<g c='cxa'><p d='M60,7 L70,17 L90,17 Q 98,17 98,26 L98,74 Q 98,84 90,84 L10,84 Q 2,84 2,74 L2,24 Q 2,17 10,17 L30,17 L40,7 Z'/></g><g c='cxb'><c cx='50'cy='50'r='15'/><c cx='50'cy='50'r='25'/><l x1='10'y1='8'x2='25'y2='8'/><l x1='10'y1='27'x2='25'y2='27'/></g>",p_cghaxes:"<g c='cxb'><r x='10'y='2'w='88'h='88'/><l x1='10'y1='24'x2='98'y2='24'/><l x1='10'y1='46'x2='98'y2='46'/><l x1='10'y1='68'x2='98'y2='68'/><r x='0'y='10'w='2'h='6'/><r x='0'y='32'w='2'h='6'/><r x='0'y='54'w='2'h='6'/><r x='0'y='76'w='2'h='6'/><l x1='40'y1='2'x2='40'y2='90'/><l x1='70'y1='2'x2='70'y2='90'/><r x='20'y='98'w='10'h='2'/><r x='50'y='98'w='10'h='2'/><r x='80'y='98'w='10'h='2'/></g>",fp_funnel:"<g c='cxb'><y q='2,2 98,2 98,10 60,50 40,50 2,10 2,2'/></g><g c='cxa'><y q='60,50 60,98 40,83 40,50 60,50'/></g>",ch_olog2:"<t c='cxts70'x='5'y='60'>log</t><t c='cxtn40'x='65'y='85'>2</t>",c_jsfiddle:"<p c='cxa'd='M 86.2 45.6 C 86.2 45.5 86.2 45.3 86.2 45.2 C 86.2 24.9 64.2 12.1 46.6 22.3 C 43 24.4 39.9 27.3 37.6 30.9 C 27.5 28.5 17.4 34.9 15.2 45.1 C 1.6 49.3 -2.3 66.7 8.2 76.4 C 11.6 79.6 16.1 81.3 20.8 81.3 L 79.3 81.3 C 93.5 81.3 102.4 65.8 95.3 53.5 C 93.2 49.9 90 47.2 86.2 45.6 Z'/><g c='cxb'><p d='M 47.6 61.4 C 45 64 41.5 66.7 38.6 66.7 C 30.7 67.1 25.4 58.9 29 51.9 C 30.8 48.3 34.6 46.2 38.6 46.4 C 44.2 46.4 51.9 56.6 51.9 56.6'/><p d='M 51.9 56.6 C 51.9 56.6 59.7 66.7 65.3 66.7 C 73.2 66.3 77.6 57.6 73.4 51 C 71.6 48.3 68.6 46.5 65.3 46.4 C 63.2 46.6 61.2 47.5 59.6 49 C 58.4 49.9 57.2 50.9 56.2 51.9'/></g>",c_solarized:"<c c='cl40'cx='50'cy='50'r='24.6'/><p c='cl41'd='M74.6,50c0-13.6-11-24.6-24.6-24.6l0,0v49.2C63.5,74.6,74.5,63.6,74.6,50C74.6,50,74.6,50,74.6,50z'/><polygon c='cl40'q='50,0 45.9,20.5 54.1,20.5'/><polygon c='cl40'q='50,100 45.9,79.5 54.1,79.5\t'/><polygon c='cl41'q='100,50 79.5,45.9 79.5,54.1\t'/><polygon c='cl41'q='0,50 20.5,45.9 20.5,54.1'/><polygon c='cl40'q='93.5,25.4 73.6,31.9 77.7,39.1'/><polygon c='cl40'q='6.5,74.6 22.3,60.9 26.4,68.1'/><polygon c='cl41'q='74.6,93.5 68.1,73.6 60.9,77.7'/><polygon c='cl41'q='25.4,6.5 39.1,22.3 31.9,26.4'/><polygon c='cl41'q='75.3,6.9 61.4,22.5 68.5,26.7'/><polygon c='cl41'q='24.7,93.1 31.5,73.3 38.6,77.5'/><polygon c='cl40'q='93.1,75.3 77.5,61.4 73.3,68.5'/><polygon c='cl0'q='6.9,24.7 26.7,31.5 22.5,38.6'/>",ar_r:"<p c='cxtxb'd='M80,35 L98,50 L80,65 M98,50 L2,50'/>",g_contour3:"<g c='cxa'><p d='M 56.1 92.7 L 21.1 92.7 C 17.4 92.8 14.3 89.8 14.3 86 L 14.3 82.1 C 14.3 80.4 13.1 79.1 11.4 79.1 L 11.4 79.1 C 9.8 79.1 8.4 77.7 8.4 76.2 L 8.4 29.7 L 14.3 29.7 L 14.3 22.2 L 20.3 22.2 L 20.3 18.4 L 25 18.4 L 25 13.3 L 29.9 13.3 L 29.9 8.7 L 33.6 8.7 L 33.6 5.8 L 37.8 5.8 L 37.8 2.8 L 50 2.8 L 50 6.6 L 62.5 6.6 L 62.5 10.9 L 69.1 10.9 L 69.1 15.7 L 74 15.7 L 74 20 L 77.5 20 L 77.5 27 L 82.5 27 L 82.5 34.9 L 86.2 34.9 L 86.2 50.9 L 90.8 50.9 L 90.8 69.8 L 86.5 69.8 L 86.5 80.1 L 82.5 80.1 L 82.5 90.6 C 82.5 91.8 81.5 92.7 80.2 92.7 L 80.2 92.7 C 78.9 92.7 77.9 93.8 77.9 95 L 77.9 95 C 77.9 96.3 76.9 97.3 75.6 97.3 L 60.8 97.3 C 59.6 97.3 58.6 96.3 58.6 95 L 58.6 95 C 58.6 93.7 57.5 92.6 56.1 92.7 Z'/><polygon q='63 78.5 69.8 78.5 69.8 70.7 78.5 70.7 78.5 59.1 74 59.1 74 50.6 69.5 50.6 69.5 39.4 66.7 39.4 66.7 31.7 62.5 31.7 62.5 27.5 54.2 27.5 54.2 22.9 33.9 22.9 33.9 27.4 30.1 27.3 30.1 29.8 26.2 29.8 26.2 34.7 22.8 34.7 22.8 75.1 25.4 75.1 25.4 79.2 29.5 79.2 29.5 83.1 63 83.1 63 78.5'/><polygon q='38.4 42.7 38.4 38.9 49.9 38.9 49.9 43.2 53.7 43.2 53.7 71.1 38.4 71.1 38.4 63.2 34 63.2 34 42.7 38.4 42.7'/><y q='77.9 2.9 85.9 2.9 85.9 11.4 90 11.4 90 15 93.9 15 93.9 22.9 98.2 22.9 98.2 31.2'/><y q='21.9 2.9 14 2.9 14 7.2 10.1 7.2 10.1 15.4 1.8 15.4'/></g>",sl_check:"<t c='cxtn120'x='10'y='90'>&#10003;</t>",ch_lx:"<t c='cxtb100'x='15'y='85'>X</t>",ch_ssum:"<t c='cxtb100'x='15'y='80'>&#8721;</t>",p_g2titlesubtitle:"<g c='cxblue'><r x='45'y='0'w='30'h='2'/><r x='50'y='10'w='20'h='2'/></g>",ch_lo:"<t c='cxtb100'x='10'y='85'>O</t>",tb_row:"<g c='cxcc'><r x='2'y='50'w='96'h='24'/></g><g c='cxb'><l x1='2'y1='26'x2='98'y2='26'/><l x1='2'y1='50'x2='98'y2='50'/><l x1='2'y1='74'x2='98'y2='74'/><l x1='34'y1='26'x2='34'y2='98'/><l x1='66'y1='26'x2='66'y2='98'/></g><g c='cxa'><r x='2'y='2'w='96'h='96'/><r x='12'y='12'w='3'h='3'/><r x='24'y='12'w='3'h='3'/><r x='36'y='12'w='3'h='3'/></g>",c_canvasxpress:"<p fill='url(\"#cx-grad1\")'d='M 1.7 54.9 C 1.7 54.9 9.7 23.4 23.2 20.4 C 36.8 17.4 37.2 45.4 58.6 45.2 C 79.8 45 1.7 54.9 1.7 54.9 Z'/><p fill='url(\"#cx-grad2\")'d='M 71.8 54.9 C 71.8 54.9 59.4 26.9 50.8 27.6 C 42.2 28.4 41.8 36.3 24.2 45.1 C 6.6 53.9 1.7 54.9 1.7 54.9 L 71.8 54.9 Z'/><p fill='url(\"#cx-grad3\")'d='M 1.7 54.9 L 98 54.9 C 98 54.9 89.7 31.9 74.2 32.7 C 58.9 33.4 65.4 45.9 1.7 54.9 Z'/><g c='cxblack'><p d='M 12 71.9 C 11.5 74.2 9.4 75.7 7.2 75.5 C 3.5 75.4 1.7 72.9 1.7 69.5 C 1.4 66.6 3.6 63.9 6.6 63.7 C 6.8 63.7 7 63.7 7.1 63.7 C 9.4 63.4 11.5 65 11.8 67.3 L 9.8 67.3 C 9.5 66.1 8.4 65.2 7.1 65.3 C 4.8 65.3 3.9 67.3 3.9 69.4 C 3.9 71.7 4.7 73.6 7.2 73.6 C 8.5 73.7 9.6 72.8 9.8 71.6 L 12 71.9 Z'/><p d='M 19.6 73.2 C 19.6 73.9 19.7 74.7 19.8 75.3 L 17.7 75.3 C 17.6 75 17.6 74.7 17.6 74.4 C 17.1 75.2 16.1 75.6 15.1 75.5 C 13.7 75.7 12.3 74.7 12.1 73.2 C 12.1 73.1 12.1 73 12.1 72.9 C 12.1 70.9 13.8 70 16.2 70 L 17.5 70 L 17.5 69.4 C 17.5 68.8 17.3 68.1 16 68.1 C 14.6 68.1 14.6 68.6 14.4 69.3 L 12.4 69.3 C 12.5 67.8 13.4 66.6 16.1 66.6 C 18.4 66.6 19.7 67.4 19.7 69.4 L 19.6 73.2 Z M 17.5 71.3 L 16.4 71.3 C 14.8 71.3 14.2 71.8 14.2 72.7 C 14.2 73.4 14.6 74 15.4 74.1 C 15.5 74.1 15.5 74.1 15.6 74.1 C 17.3 74.1 17.6 72.9 17.6 71.6 L 17.5 71.3 L 17.5 71.3 Z'/><p d='M 20.7 68.9 C 20.7 68.1 20.7 67.3 20.7 66.6 L 22.8 66.6 C 22.8 67 22.8 67.4 22.8 67.9 C 23.2 66.9 24.3 66.4 25.4 66.5 C 27.1 66.5 28.3 67.6 28.3 69.8 L 28.3 75.2 L 26.2 75.2 L 26.2 70 C 26.2 69 25.8 68.2 24.7 68.2 C 23.5 68.2 22.8 69 22.8 70.6 L 22.8 75.3 L 20.7 75.3 L 20.7 68.9 Z'/><p d='M 30.7 66.7 C 31.6 69.9 32.4 72.4 32.6 73.5 L 32.6 73.5 C 32.9 72.2 33.8 69.6 34.6 66.7 L 36.7 66.7 L 33.5 75.3 L 31.3 75.3 L 28.4 66.7 L 30.7 66.7 Z'/><p d='M 44.2 73.2 C 44.2 73.9 44.2 74.7 44.3 75.3 L 42.3 75.3 C 42.2 75 42.2 74.7 42.2 74.4 C 41.6 75.2 40.6 75.6 39.6 75.5 C 38.2 75.7 36.8 74.7 36.7 73.2 C 36.7 73.1 36.7 73 36.7 72.8 C 36.7 70.8 38.2 69.9 40.7 69.9 L 42.1 69.9 L 42.1 69.4 C 42.1 68.7 41.8 68 40.5 68 C 39.3 68 39.1 68.6 39 69.2 L 36.9 69.2 C 37 67.7 38 66.5 40.6 66.5 C 43.2 66.5 44.2 67.3 44.2 69.4 L 44.2 73.2 Z M 42.2 71.3 L 41 71.3 C 39.5 71.3 38.8 71.8 38.8 72.7 C 38.8 73.4 39.3 74 40 74.1 C 40.1 74.1 40.1 74.1 40.2 74.1 C 42 74.1 42.3 72.9 42.3 71.6 L 42.2 71.3 Z'/><p d='M 46.8 72.8 C 47 73.6 47.8 74.2 48.6 74.1 C 49.7 74.1 50.1 73.7 50.1 73.1 C 50.1 72.5 49.7 72.2 48.3 71.9 C 45.5 71.2 45.1 70.3 45.1 69.2 C 45.1 68 45.9 66.6 48.5 66.6 C 51 66.6 52 67.9 52.1 69.2 L 50 69.2 C 50 68.8 49.6 68.1 48.3 68.1 C 47.1 68.1 47.1 68.6 47.1 69 C 47.1 69.4 47.4 69.7 48.8 70 C 51.7 70.7 52.1 71.7 52.1 72.9 C 52.1 74.2 50.9 75.6 48.4 75.6 C 45.9 75.6 44.8 74.4 44.6 72.8 L 46.8 72.8 Z'/><p d='M 59.2 76 L 56.4 71.8 L 56.4 71.8 L 50.8 79.8 L 48.3 79.8 L 55.1 70.2 L 51.2 64.5 L 53.8 64.5 L 56.5 68.5 L 56.5 68.5 L 60.4 62.8 L 62.8 62.8 L 57.7 69.9 L 61.7 75.9 L 59.2 76 Z'/><p d='M 63.9 74.6 L 63.9 78.7 L 61.8 78.7 L 61.8 68.9 C 61.8 68.2 61.8 67.4 61.8 66.7 L 63.8 66.7 C 63.8 67.1 63.8 67.5 63.8 67.9 C 64.4 66.9 65.3 66.5 66.4 66.6 C 68.4 66.6 70 68.2 70 70.8 C 70 73.9 68.2 75.5 66.1 75.5 C 65.1 75.6 64.4 75.2 63.9 74.6 Z M 67.9 71 C 67.9 69.4 67.2 68.3 65.9 68.3 C 64.7 68.3 63.9 69.3 63.9 71.1 C 63.9 72.9 64.4 74 65.9 74 C 67.5 74 67.9 72.8 67.9 71 L 67.9 71 Z'/><p d='M 70.3 69.2 C 70.3 68.2 70.3 67.4 70.3 66.8 L 72.2 66.8 C 72.2 67.4 72.2 67.9 72.2 68.5 C 72.7 67.3 73.8 66.6 75.1 66.6 L 75.1 68.6 C 73.4 68.6 72.2 69.2 72.2 71.5 L 72.2 75.3 L 70.3 75.3 L 70.3 69.2 Z'/><p d='M 77 71.5 C 77 72.8 77.7 73.9 79 73.9 C 79.8 74 80.5 73.5 80.8 72.8 L 82.8 72.8 C 82.3 74.6 80.7 75.7 78.9 75.5 C 76.6 75.5 74.9 73.8 74.9 71.6 C 74.9 71.4 74.9 71.3 74.9 71.1 C 74.9 68.4 76.2 66.6 79 66.6 C 81.1 66.5 82.9 68 82.9 70.1 C 82.9 70.3 82.9 70.6 82.9 70.8 C 82.9 71 82.9 71.3 82.9 71.5 L 77 71.5 L 77 71.5 Z M 80.7 70.1 C 80.7 69 80.2 68 78.9 68 C 77.5 68 77 68.9 76.8 70.1 L 80.7 70.1 Z'/><p d='M 85.2 72.8 C 85.4 73.6 86.2 74.2 87.1 74.1 C 88.1 74.1 88.5 73.7 88.5 73.1 C 88.5 72.5 88.1 72.2 86.7 71.9 C 84 71.2 83.4 70.3 83.4 69.2 C 83.4 68 84.4 66.6 86.9 66.6 C 89.4 66.6 90.3 67.9 90.4 69.2 L 88.4 69.2 C 88.3 68.8 88 68.1 86.8 68.1 C 85.5 68.1 85.5 68.6 85.5 69 C 85.5 69.4 85.8 69.7 87.4 70 C 90.2 70.7 90.6 71.7 90.6 72.9 C 90.6 74.2 89.5 75.6 87 75.6 C 84.5 75.6 83.3 74.4 83.1 72.8 L 85.2 72.8 Z'/><p d='M 93 72.8 C 93.1 73.6 93.9 74.2 94.8 74.1 C 95.9 74.1 96.2 73.7 96.2 73.1 C 96.2 72.5 95.9 72.2 94.5 71.9 C 91.7 71.2 91.2 70.3 91.2 69.2 C 91.2 68 92.1 66.6 94.7 66.6 C 97.3 66.6 98.2 67.9 98.3 69.2 L 96.2 69.2 C 96.2 68.8 95.9 68.1 94.6 68.1 C 93.3 68.1 93.3 68.6 93.3 69 C 93.3 69.4 93.6 69.7 95.1 70 C 98 70.7 98.4 71.7 98.4 72.9 C 98.4 74.2 97.2 75.6 94.7 75.6 C 92.2 75.6 91 74.4 90.8 72.8 L 93 72.8 Z'/></g>",c_python:"<g c='cxb'><p d='M 72.7 72.2 L 72.7 86.2 C 72.7 92.8 67.4 98 60.8 98 L 35.9 98 C 29.5 98 24.2 92.8 24.2 86.2 L 24.2 61.4 C 24.2 55 29.5 49.8 35.9 49.8 L 64 49.8 C 70.5 49.8 75.8 44.5 75.8 38 L 75.8 23.8 L 80.4 23.8 C 90.1 23.9 98 31.7 98.1 41.4 L 98.1 54.3 C 98.1 64.1 90.1 72.1 80.2 72 Z'/><l x1='72.8'y1='72.3'x2='50.2'y2='72.3'/></g><c c='cxbb'cx='60'cy='85.8'r='4.3'/><g c='cxa'><p d='M 27.4 27.7 L 27.4 13.7 C 27.4 7.2 32.8 1.9 39.1 1.9 L 64.1 1.9 C 70.6 1.9 76 7.2 76 13.7 L 76 38.3 C 76 44.8 70.6 50.1 64.1 50.1 L 35.7 50.1 C 29.5 50.1 24.3 55.2 24.3 61.4 L 24.3 76.2 L 19.6 76.2 C 9.9 76.2 1.9 68.3 1.8 58.5 L 1.8 45.5 C 1.8 35.6 9.9 27.7 19.6 27.7 Z'/><l x1='27.4'y1='27.7'x2='50'y2='27.7'/></g><c c='cxaa'cx='39.9'cy='14.3'r='4.3'/>",o_ghvars:"<g c='cxc'><r x='15'y='2'w='70'h='40'/><l x1='15'y1='22'x2='85'y2='22'/><l x1='50'y1='2'x2='50'y2='42'/><r x='2'y='6'w='4'h='2'/><r x='2'y='26'w='4'h='2'/><r x='20'y='55'w='20'h='2'/><r x='60'y='55'w='20'h='2'/></g><g c='cxa'><r x='15'y='68'w='70'h='28'/><l x1='15'y1='82'x2='85'y2='82'/><l x1='50'y1='68'x2='50'y2='96'/><r x='95'y='75'w='2'h='2'/><r x='95'y='89'w='2'h='2'/></g>",b_grhl:"<g c='cxa'><r fill='url(\"#hl-grad\")'x='0'y='0'w='100'h='100'/></g>",g_stackedline:"<g c='cxcc'><r x='76.7'y='51.4'w='15.1'h='34.7'/><r x='50'y='64.3'w='15.1'h='21.8'/><r x='23.2'y='71'w='15.1'h='15.1'/></g><g c='cxb'><r x='23.2'y='56'w='15.1'h='30.1'/><r x='50'y='42.5'w='15.1'h='43.6'/><r x='76.7'y='30.4'w='15.1'h='55.6'/><l x1='23.2'y1='71'x2='38.4'y2='71'/><l x1='49.7'y1='64.3'x2='65.1'y2='64.3'/><l x1='76.7'y1='51.4'x2='91.9'y2='51.4'/></g><g c='cxa'><l x1='11.9'y1='0.5'x2='11.9'y2='100'/><l x1='99.4'y1='86.1'y2='86.1'x2='0'/><l y1='62.7'x2='11.9'y2='62.7'x1='0'/><l y1='39.4'x2='11.9'y2='39.4'x1='0'/><l y1='16.1'x2='11.9'y2='16.1'x1='0'/><y q='23.2 42.5 49.7 19.6 59.5 28.6 89.1 0.5'/></g>",wp_threebars2:"<g c='cxbb'><r x='2'y='15'w='96'h='8'/><r x='2'y='48'w='96'h='8'/><r x='2'y='81'w='96'h='8'/></g>",op_chat:"<g c='cxa'><c cx='28.333'cy='50.732'r='5.563'/><c cx='50'cy='50.732'r='5.563'/><c cx='71.667'cy='50.732'r='5.563'/></g><g c='cxb'><p d='M 3 88.353 L 9.847 67.814 C -2.392 49.714 2.336 26.357 20.906 13.18 C 39.475 0.009 66.144 1.088 83.286 15.709 C 100.428 30.333 102.746 53.974 88.706 71.01 C 74.665 88.048 48.601 93.208 27.752 83.086 L 3 88.353'/></g>",cd_folder:"<g c='cxb'><p d='M83.1,36.3V22.9c0-1.3-1-2.3-2.3-2.3l0,0H28.8v-5.1c0-1.6-1.3-2.8-2.8-2.8H5.4c-1.6,0-2.8,1.3-2.8,2.8l0,0V85c0,1.3,1,2.3,2.3,2.3c0,0,0,0,0,0'/></g><g c='cxa'><p d='M79.5,87.2H4.9c-1.3,0-2.3-1-2.3-2.3c0-0.3,0-0.5,0.1-0.8l15.6-46.3c0.3-0.9,1.2-1.6,2.2-1.6h74.6c1.3,0,2.3,1,2.3,2.3c0,0.2,0,0.5-0.1,0.7L81.7,85.7C81.4,86.7,80.5,87.3,79.5,87.2z'/></g>",c_cxplot:"<g c='clp1'><p d='M 33.9 29.8 C 33.9 32.6 31.7 34.9 28.9 34.9 C 26.1 34.9 23.8 32.6 23.8 29.8 C 23.8 27 26.1 24.8 28.9 24.8 C 31.7 24.8 33.9 27 33.9 29.8 Z M 33.9 29.8'/><p d='M 55.1 36.3 C 55.1 39 52.8 41.3 49.9 41.3 C 47.2 41.3 44.9 39 44.9 36.3 C 44.9 33.4 47.2 31.1 49.9 31.1 C 52.8 31.1 55.1 33.4 55.1 36.3 Z M 55.1 36.3'/><p d='M 81.7 79.9 L 49.9 97.8 L 29.5 85.9 L 15.9 78 L 16.1 77.9 C 17.6 76.5 27.7 66.7 33.6 66 C 40.1 65.4 44.1 70.5 44.1 70.5 C 44.1 70.5 51.7 66.7 57.2 68.5 C 62.7 70.1 66.1 75.6 66.1 75.6 C 76.9 73.8 81.7 79.9 81.7 79.9 Z M 81.7 79.9'/></g><p c='clp2'd='M 76.8 24 C 76.8 26.8 74.5 29.2 71.8 29.2 C 68.9 29.2 66.6 26.8 66.6 24 C 66.6 21.3 68.9 18.9 71.8 18.9 C 74.5 18.9 76.8 21.3 76.8 24 Z M 76.8 24'/><p c='clp3'd='M 66.1 75.6 L 29.5 85.9 L 23 82.1 L 16.1 77.9 C 17.6 76.5 27.7 66.7 33.6 66 C 40.1 65.4 44.1 70.5 44.1 70.5 C 44.1 70.5 51.7 66.7 57.2 68.5 C 62.7 70.1 66.1 75.6 66.1 75.6 Z M 66.1 75.6'/><p c='clp4'd='M 44.1 70.5 L 23 82.1 L 16.1 77.9 C 17.6 76.5 27.7 66.7 33.6 66 C 40.1 65.4 44.1 70.5 44.1 70.5 Z M 44.1 70.5'/><g c='clp5'><p d='M 49.9 99.5 C 49.7 99.5 49.5 99.4 49.3 99.3 L 7.6 75.3 C 7.1 75 6.9 74.5 6.9 74.1 L 6.9 26 C 6.9 25.4 7.1 25 7.6 24.8 L 49.3 0.7 C 49.7 0.4 50.3 0.4 50.7 0.7 L 68.1 10.7 C 68.7 11.2 69 12 68.6 12.7 C 68.2 13.3 67.3 13.6 66.6 13.2 L 49.9 3.6 L 9.8 26.7 L 9.8 73.2 L 49.9 96.5 L 90.1 73.2 L 90.1 26.7 L 85.5 24.1 C 84.8 23.7 84.6 22.8 85 22.1 C 85.4 21.5 86.3 21.3 86.9 21.6 L 92.3 24.8 C 92.8 25 93.1 25.4 93.1 26 L 93.1 74.1 C 93.1 74.5 92.8 75 92.3 75.3 L 50.7 99.3 C 50.5 99.4 50.3 99.5 49.9 99.5 Z M 49.9 99.5'/><p d='M 29.6 87.8 C 29 87.8 28.3 87.2 28.2 86.5 C 28.1 85.8 28.6 85.1 29.3 84.9 L 65.5 74.4 C 71.7 72.6 78.2 74.3 82.8 78.7 C 83.1 79.1 83.3 79.5 83.2 80.1 C 83 80.6 82.7 81 82.1 81.1 C 81.7 81.3 81.1 81.1 80.8 80.8 C 76.9 77.1 71.5 75.7 66.4 77.1 L 30.1 87.8 C 30 87.8 29.7 87.8 29.6 87.8 Z M 29.6 87.8'/><p d='M 22.3 83.5 C 21.6 83.5 21 83.1 20.8 82.4 C 20.6 81.7 21 81.1 21.5 80.8 L 45.9 67.7 C 51.3 64.8 58 65.8 62.2 70.1 L 67 74.8 C 67.5 75.4 67.5 76.3 67 76.8 C 66.4 77.3 65.5 77.3 65 76.8 L 60.1 72.1 C 56.7 68.7 51.5 67.9 47.3 70.2 L 22.9 83.3 C 22.7 83.4 22.5 83.5 22.3 83.5 Z M 22.3 83.5'/><p d='M 15.1 79.4 C 14.6 79.4 14 79 13.8 78.4 C 13.6 77.9 13.8 77.2 14.3 76.8 L 27.1 66.7 C 31.1 63.6 36.4 63.5 40.4 66.4 L 44.7 69.3 C 45.1 69.6 45.3 70.1 45.2 70.5 C 45.2 71.1 44.9 71.5 44.4 71.8 C 44 72 43.5 72 43 71.6 L 38.7 68.7 C 35.8 66.6 31.8 66.7 29 69 L 16 79.1 C 15.8 79.3 15.5 79.4 15.1 79.4 Z M 15.1 79.4'/><p d='M 57.2 35.5 C 56.7 31.8 53.7 29 49.9 29 C 47.2 29 44.8 30.6 43.6 33 C 43.3 33.4 43.1 33.9 43 34.3 C 42.9 34.9 42.8 35.3 42.8 35.7 C 42.8 36 42.8 36.1 42.8 36.2 C 42.8 40.2 46 43.4 49.9 43.4 C 54 43.4 57.2 40.2 57.2 36.2 C 57.2 36 57.2 35.7 57.2 35.5 Z M 49.9 40.6 C 47.5 40.6 45.7 38.6 45.7 36.2 C 45.7 36 45.7 35.6 45.8 35.3 C 45.8 35.2 45.8 35.1 45.8 35.1 C 46.3 33.2 48.1 31.9 50 31.9 C 52 31.9 53.7 33.2 54.1 35.2 C 54.1 35.2 54.2 35.3 54.2 35.3 C 54.4 36.6 54.2 37.9 53.3 38.9 C 52.6 39.9 51.3 40.6 49.9 40.6 Z M 49.9 40.6'/><p d='M 78.3 20.9 C 77.8 20 77.3 19.3 76.5 18.6 C 75.2 17.4 73.5 16.9 71.8 16.9 C 67.7 16.9 64.5 20 64.5 24 C 64.5 24.9 64.6 25.8 65 26.5 C 65.3 27.5 65.9 28.3 66.5 29 C 68.6 31.1 71.7 31.8 74.4 30.7 C 77.2 29.6 78.9 27 78.9 24 C 78.9 23 78.7 21.9 78.3 20.9 Z M 71.8 28.4 C 70.2 28.4 68.9 27.6 68.2 26.4 C 68.1 26.3 68.1 26.3 68.1 26.2 C 67.6 25.5 67.4 24.8 67.4 24 C 67.4 22.1 68.6 20.6 70.4 19.9 C 72 19.4 74 19.9 75.1 21.4 C 75.7 22.1 76.1 23 76.1 24 C 76.1 26.4 74.1 28.4 71.8 28.4 Z M 71.8 28.4'/><p d='M 28.2 22.6 C 25.8 22.6 23.5 23.8 22.2 25.9 C 20.8 27.8 20.6 30.4 21.5 32.6 C 21.9 33.5 22.5 34.3 23.1 35 C 24.8 36.6 27.1 37.3 29.4 36.9 C 31.6 36.5 33.6 35.1 34.6 33 C 35 32.2 35.3 31.2 35.3 30.3 C 35.4 30.1 35.4 29.9 35.4 29.8 C 35.4 25.9 32.2 22.6 28.2 22.6 Z M 28.2 34.1 C 26.8 34.1 25.5 33.4 24.6 32.2 C 24.6 32.2 24.6 32.2 24.6 32.2 C 23.5 30.6 23.7 28.4 25 26.8 C 26.3 25.4 28.4 25.1 30.2 26 C 31.9 27 32.8 28.9 32.4 30.8 C 31.9 32.8 30.2 34.1 28.2 34.1 Z M 28.2 34.1'/><p d='M 8.3 43.4 C 7.7 43.4 7.1 43 6.9 42.4 C 6.8 41.8 7 41.1 7.6 40.8 L 22.7 31.9 C 23.3 31.6 23.8 31.6 24.2 31.9 C 24.7 32.1 24.9 32.6 24.9 33.1 C 24.9 33.7 24.7 34.1 24.2 34.4 L 9.1 43.2 C 8.9 43.4 8.5 43.4 8.3 43.4 Z M 8.3 43.4'/><p d='M 44.3 36.3 C 44.2 36.3 44.1 36.2 43.9 36.2 L 33.5 32.7 C 32.7 32.4 32.4 31.6 32.6 30.8 C 32.8 30.1 33.7 29.7 34.5 29.9 L 44.9 33.4 C 45.5 33.7 45.9 34.3 45.8 35.1 C 45.7 35.7 45.1 36.3 44.3 36.3 Z M 44.3 36.3'/><p d='M 76.3 21.9 C 75.7 21.9 75.1 21.6 75 20.9 C 74.7 20.4 75 19.7 75.5 19.3 L 84.5 13.1 C 84.8 12.8 85.5 12.8 85.9 13 C 86.4 13.2 86.7 13.7 86.7 14.2 C 86.8 14.8 86.5 15.2 86.1 15.5 L 77.2 21.7 C 76.8 21.9 76.6 21.9 76.3 21.9 Z M 76.3 21.9'/><p d='M 55.5 36.3 C 54.9 36.3 54.3 35.9 54.2 35.2 C 54 34.6 54.2 34 54.8 33.7 L 66 25.9 C 66.4 25.5 67 25.5 67.5 25.8 C 67.9 26 68.3 26.4 68.3 27 C 68.3 27.4 68.1 27.9 67.6 28.3 L 56.4 36 C 56.1 36.2 55.9 36.3 55.5 36.3 Z M 55.5 36.3'/></g><g><p d='M 31.1 53.6 L 29 53.6 C 28.9 53.6 28.9 53.6 28.7 53.6 C 28.6 53.7 28.6 53.9 28.5 54 C 28.4 54.2 28.3 54.4 28.1 54.6 C 27.9 54.7 27.5 54.8 27.3 54.8 C 26.9 54.8 26.6 54.7 26.3 54.4 C 26 54.1 25.9 53.6 25.9 53.2 C 25.9 52.8 25.9 52.4 25.9 52 C 25.9 51.6 26 51.1 26.3 50.7 C 26.6 50.5 26.9 50.2 27.3 50.3 C 27.5 50.2 27.9 50.3 28.1 50.5 C 28.3 50.7 28.4 50.9 28.5 51.2 C 28.6 51.3 28.6 51.4 28.7 51.4 C 28.9 51.6 28.9 51.6 29 51.6 L 31.1 51.6 C 31.2 51.6 31.3 51.4 31.4 51.4 C 31.4 51.3 31.5 51.2 31.5 51.1 C 31.5 50.9 31.4 50.6 31.2 50.2 C 31.1 49.9 30.7 49.6 30.5 49.4 C 30.1 48.9 29.6 48.7 29.2 48.5 C 28.5 48.3 27.9 48.1 27.2 48.1 C 26.6 48.1 25.8 48.4 25.1 48.7 C 24.6 48.9 24 49.4 23.7 49.9 C 23.3 50.6 23 51.2 23 51.9 C 23 52.1 23 52.3 23 52.5 C 23 52.9 23 53.1 23 53.2 C 23 54 23.3 54.6 23.7 55.2 C 24 55.7 24.6 56.2 25.1 56.5 C 25.8 56.8 26.6 56.9 27.2 56.9 C 27.8 56.9 28.3 56.8 28.9 56.7 C 29.3 56.6 29.7 56.4 30.1 56.2 C 30.4 55.9 30.6 55.7 30.8 55.4 C 31.1 55.2 31.2 55 31.3 54.6 C 31.4 54.4 31.5 54.2 31.5 54 C 31.5 53.9 31.5 53.7 31.4 53.7 C 31.3 53.6 31.2 53.6 31.1 53.6 Z M 31.1 53.6'/><p d='M 41.8 56.3 C 41.8 56.3 41.8 56.2 41.7 56.2 L 39 52.4 L 41.5 49 C 41.5 48.9 41.6 48.9 41.6 48.8 C 41.6 48.8 41.6 48.8 41.6 48.7 C 41.6 48.5 41.5 48.4 41.3 48.4 L 39.3 48.4 C 39.2 48.4 39.1 48.4 39.1 48.5 C 39 48.6 39 48.6 38.8 48.7 L 37.4 50.7 L 35.9 48.7 C 35.9 48.6 35.8 48.5 35.7 48.5 C 35.7 48.4 35.6 48.4 35.4 48.4 L 33.5 48.4 C 33.4 48.4 33.2 48.4 33.1 48.5 C 33.1 48.6 33 48.6 33 48.7 C 33 48.8 33 48.8 33.1 48.8 C 33.1 48.9 33.1 48.9 33.1 49 L 35.6 52.4 L 32.9 56.2 C 32.9 56.2 32.8 56.3 32.8 56.3 C 32.8 56.4 32.8 56.4 32.8 56.4 C 32.8 56.5 32.8 56.6 32.9 56.7 C 33 56.7 33.1 56.8 33.2 56.8 L 35.2 56.8 C 35.3 56.8 35.4 56.7 35.6 56.7 C 35.6 56.6 35.7 56.6 35.7 56.5 L 37.3 54.3 L 39 56.5 C 39 56.6 39.1 56.6 39.1 56.7 C 39.2 56.7 39.3 56.8 39.4 56.8 L 41.5 56.8 C 41.6 56.8 41.7 56.7 41.7 56.7 C 41.8 56.6 41.8 56.5 41.8 56.4 C 41.8 56.4 41.8 56.3 41.8 56.3 Z M 41.8 56.3'/><p d='M 52.4 52 C 52.4 51.4 52.4 50.9 52.1 50.3 C 52 49.9 51.8 49.6 51.5 49.2 C 51.1 48.9 50.8 48.6 50.4 48.5 C 49.9 48.3 49.5 48.1 48.9 48.3 C 48.4 48.1 48 48.3 47.5 48.6 C 47.1 48.7 46.8 49 46.4 49.4 L 46.4 48.8 C 46.4 48.7 46.4 48.6 46.3 48.5 C 46.3 48.4 46.2 48.4 46.1 48.4 L 44.2 48.4 C 44.1 48.4 44 48.4 43.9 48.5 C 43.9 48.6 43.8 48.7 43.8 48.8 L 43.8 59.5 C 43.8 59.6 43.9 59.7 43.9 59.7 C 44 59.8 44.1 59.9 44.2 59.8 L 46.2 59.8 C 46.3 59.9 46.4 59.8 46.5 59.7 C 46.5 59.7 46.6 59.6 46.6 59.5 L 46.6 55.8 C 46.9 56.2 47.2 56.5 47.6 56.6 C 48.1 56.8 48.5 56.9 48.9 56.9 C 49.5 56.9 49.9 56.8 50.4 56.7 C 50.8 56.5 51.1 56.3 51.5 55.9 C 51.8 55.6 52 55.2 52.1 54.7 C 52.4 54.2 52.4 53.7 52.4 53.2 C 52.5 53 52.5 52.8 52.5 52.5 C 52.5 52.4 52.5 52.2 52.4 52 Z M 49.6 53.1 C 49.5 53.3 49.5 53.6 49.4 54 C 49.3 54.2 49.2 54.4 48.9 54.5 C 48.7 54.7 48.4 54.7 48.1 54.7 C 47.9 54.7 47.5 54.7 47.3 54.5 C 47.1 54.4 46.9 54.2 46.8 54 C 46.6 53.7 46.6 53.5 46.6 53.2 C 46.6 53 46.6 52.9 46.6 52.6 C 46.6 52.4 46.6 52.2 46.6 52 C 46.6 51.8 46.6 51.4 46.8 51.2 C 46.9 51 47.1 50.8 47.3 50.6 C 47.7 50.3 48.4 50.3 48.9 50.6 C 49.2 50.8 49.3 51 49.4 51.2 C 49.5 51.6 49.5 51.8 49.6 52.1 C 49.6 52.4 49.6 52.8 49.6 53.1 Z M 49.6 53.1'/><p d='M 57.4 45.4 C 57.4 45.3 57.3 45.3 57.2 45.3 L 55.2 45.3 C 55.1 45.3 55 45.3 55 45.4 C 54.9 45.5 54.9 45.6 54.9 45.7 L 54.9 56.4 C 54.9 56.5 54.9 56.6 55 56.6 C 55 56.7 55.1 56.8 55.2 56.8 L 57.2 56.8 C 57.3 56.8 57.4 56.7 57.4 56.6 C 57.5 56.6 57.5 56.5 57.5 56.4 L 57.5 45.7 C 57.5 45.6 57.5 45.5 57.4 45.4 Z M 57.4 45.4'/><p d='M 68.5 51.9 C 68.5 51.1 68.3 50.5 67.9 49.9 C 67.6 49.4 67.1 48.9 66.5 48.7 C 65.1 48 63.4 48 62 48.7 C 61.4 48.9 60.9 49.4 60.6 49.9 C 60.1 50.5 60 51.1 59.9 51.9 C 59.9 52.1 59.9 52.3 59.9 52.5 C 59.9 52.9 59.9 53.1 59.9 53.3 C 60 54 60.1 54.6 60.6 55.3 C 60.9 55.8 61.4 56.3 61.9 56.5 C 63.4 57 65.1 57 66.5 56.5 C 67.2 56.3 67.6 55.8 67.9 55.3 C 68.3 54.6 68.5 54 68.5 53.3 C 68.5 53.1 68.5 52.9 68.5 52.5 C 68.5 52.3 68.5 52.1 68.5 51.9 Z M 65.6 53.2 C 65.6 53.6 65.5 54.2 65.3 54.5 C 65 54.8 64.6 55 64.2 55 C 63.9 55 63.4 54.8 63.2 54.5 C 62.9 54.2 62.8 53.6 62.8 53.2 C 62.8 53.1 62.8 52.9 62.8 52.5 C 62.8 52.3 62.8 52.1 62.8 51.9 C 62.8 51.4 62.9 51 63.2 50.7 C 63.4 50.3 63.9 50.2 64.2 50.2 C 64.6 50.2 65 50.3 65.3 50.7 C 65.5 51 65.6 51.4 65.6 51.9 C 65.7 52.3 65.7 52.8 65.6 53.2 Z M 65.6 53.2'/><p d='M 76.9 54.6 C 76.9 54.6 76.8 54.5 76.7 54.5 L 75.4 54.5 C 75.2 54.6 74.9 54.4 74.7 54.2 C 74.6 54 74.5 53.6 74.5 53.3 L 74.5 50.5 L 76.6 50.5 C 76.6 50.5 76.7 50.5 76.8 50.3 C 76.9 50.3 76.9 50.2 76.9 50.1 L 76.9 48.8 C 76.9 48.7 76.9 48.6 76.8 48.5 C 76.7 48.4 76.6 48.4 76.6 48.4 L 74.5 48.4 L 74.5 45.7 C 74.5 45.6 74.5 45.5 74.4 45.4 C 74.3 45.3 74.2 45.3 74.1 45.3 L 72.2 45.3 C 72.1 45.3 72 45.3 72 45.4 C 71.9 45.5 71.9 45.6 71.9 45.7 L 71.9 48.4 L 70.6 48.4 C 70.5 48.4 70.4 48.4 70.2 48.5 C 70.2 48.6 70.1 48.7 70.1 48.8 L 70.1 50.1 C 70.1 50.2 70.2 50.3 70.2 50.3 C 70.4 50.5 70.5 50.5 70.6 50.5 L 71.9 50.5 L 71.9 53.6 C 71.8 54.2 72 54.8 72.2 55.4 C 72.6 55.8 72.9 56.3 73.4 56.4 C 74 56.7 74.6 56.8 75.2 56.8 L 76.7 56.8 C 76.8 56.8 76.9 56.7 76.9 56.6 C 77.1 56.6 77.1 56.5 77.1 56.4 L 77.1 55 C 77.2 54.8 77.1 54.7 76.9 54.6 Z M 76.9 54.6'/></g>",p_g1axis1:"<g c='cxblue'><l x1='25'y1='15'x2='25'y2='65'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/></g>",dps_expand:"<g c='cxa'><r x='9.5'y='9.5'w='80'h='80'rx='4'/></g><t c='cxtb100'x='3'y='95'tr='scale(1,-1) translate(0,-100)'>&#8963;</t>",ch_onlog10:"<t c='cxts60'x='-2'y='60'>-log</t><t c='cxtn30'x='68'y='85'>10</t>",a_moveforward:"<g c='cxb'><y q='22,42 2,42 2,2 42,2 42,22'/></g><g c='cxa'><r x='22'y='22'w='76'h='76'/></g>",b_type:"<g c='cxcc'><y q='83,65 65,65 65,88 88,88 88,68'/></g><g c='cxa'><y q='45,15 30,15 30,2 2,2 2,45 45,45 45,15'/><l x1='30'y1='2'x2='45'y2='15'/><y q='98,15 83,15 83,2 55,2 55,45 98,45 98,15'/><y q='83,12 65,12 65,35 88,35 88,15'/><l x1='83'y1='2'x2='98'y2='15'/><y fill='url(\"#bl-grad\")'q='45,68 30,68 30,55 2,55 2,98 45,98 45,68'/><l x1='30'y1='55'x2='45'y2='68'/><y q='83,65 65,65 65,88 88,88 88,68'/><y q='98,68 83,68 83,55 55,55 55,98 98,98 98,68'/><l x1='83'y1='55'x2='98'y2='68'/></g>",sr_az:"<p c='cxtxb'd='M2,80 L17,98 L32,80 M17,98 L17,2'/><p c='cxtxb'd='M27,20 L42,2 L57,20 M42,98 L42,2'/><g c='cxaa'><t c='cxtn60'x='60'y='45'>A</t><t c='cxtn60'x='60'y='95'>Z</t></g>",ch_oy2:"<t c='cxti100'x='15'y='65'>y</t><t c='cxtn40'x='70'y='70'>2</t>",sp_thicker:"<p c='cxtxa'd='M56,42 L62,50 L56,58 M62,50 L22,50'/><g c='cxa'><r x='72'y='2'w='26'h='96'/></g><g c='cxb'><r x='2'y='2'w='10'h='96'/></g>",e_close:"<g c='cxb'><p d='M98,50 Q50,100 2,50'/><l x1='2'y1='75'x2='10'y2='65'/><l x1='25'y1='88'x2='30'y2='77'/><l x1='50'y1='92'x2='50'y2='80'/><l x1='75'y1='88'x2='70'y2='77'/><l x1='98'y1='75'x2='88'y2='65'/></g>",ar_b:"<p c='cxtxb'd='M35,80 L50,98 L65,80 M50,98 L50,2'/>",at_shp:"<g c='cxa'><y q='48,40 65,20 98,75 65,75'/></g><g c='cxb'><c cx='30'cy='70'r='27'/><y q='2,48 2,2 50,2 50,25'/></g>",g_radar:"<g c='cxcc'><polygon q='50 24.6 20.4 44.5 31.4 81.2 71.2 83.5 90.7 41.3 50 24.6'/></g><g c='cxb'><y q='50 4.5 50 53.1 97.8 39.2'/><y q='79.5 95.5 50 53.1 20.4 95.5'/><l x1='2.2'y1='39.2'x2='50'y2='53.1'/></g><g c='cxa'><polygon q='50 4.5 2.2 39.2 20.4 95.5 79.5 95.5 97.8 39.2 50 4.5'/></g>",wp_code:"<g c='cxa'><y q='29.9 77.9 2.1 50 29.9 22.1'/><y q='70 77.9 97.9 50 70 22.1'/></g><g c='cxb'><l x1='60.2'y1='12.5'x2='39.6'y2='87.5'/></g>",ch_snumber:"<t c='cxtb100'x='15'y='85'>#</t>",bx_wishkers:"<g c='cxb'><r x='2'y='30'w='20'h='40'/><l x1='2'y1='51'x2='22'y2='51'/><r x='78'y='30'w='20'h='40'/><l x1='78'y1='51'x2='98'y2='51'/></g><g c='cxa'><l x1='2'y1='2'x2='22'y2='2'/><l x1='12'y1='2'x2='12'y2='30'/><l x1='12'y1='70'x2='12'y2='98'/><l x1='2'y1='98'x2='22'y2='98'/></g><p c='cxtxa'd='M56,44 L64,52 L56,60 M40,44 L32,52 L40,60 M64,52 L32,52'/>",p_g1axistitle2:"<g c='cxblue'><r x='97'y='25'w='3'h='25'/></g>",g_area:"<polygon c='cxbc'q='11.9 86.7 53 44.1 63.3 53.7 100 12.1 100 86.3 11.9 86.7'/><g c='cxb'><y q='14.5 84.1 53 44.1 63.3 53.7 100 12.1'/><y q='11.9 47.3 40.1 18.3 53.1 31.7 78 3.5 93.7 19.6'/></g><g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g>",cl_vertical:"<g c='cxa'><l x1='6'y1='75'x2='6'y2='90'/><l x1='14'y1='75'x2='14'y2='90'/><l x1='6'y1='75'x2='14'y2='75'/><l x1='22'y1='65'x2='22'y2='90'/><l x1='30'y1='65'x2='30'y2='90'/><l x1='22'y1='65'x2='30'y2='65'/><l x1='10'y1='75'x2='10'y2='50'/><l x1='26'y1='65'x2='26'y2='50'/><l x1='10'y1='50'x2='26'y2='50'/><l x1='38'y1='50'x2='38'y2='90'/><l x1='46'y1='65'x2='46'y2='90'/><l x1='54'y1='65'x2='54'y2='90'/><l x1='46'y1='65'x2='54'y2='65'/><l x1='50'y1='65'x2='50'y2='50'/><l x1='38'y1='50'x2='50'y2='50'/><l x1='62'y1='65'x2='62'y2='90'/><l x1='70'y1='65'x2='70'y2='90'/><l x1='62'y1='65'x2='70'y2='65'/><l x1='44'y1='40'x2='44'y2='50'/><l x1='66'y1='40'x2='66'y2='65'/><l x1='44'y1='40'x2='66'y2='40'/><l x1='78'y1='55'x2='78'y2='90'/><l x1='86'y1='75'x2='86'y2='90'/><l x1='94'y1='75'x2='94'y2='90'/><l x1='86'y1='75'x2='94'y2='75'/><l x1='90'y1='55'x2='90'y2='75'/><l x1='78'y1='55'x2='90'y2='55'/><l x1='84'y1='25'x2='84'y2='55'/><l x1='55'y1='25'x2='55'y2='40'/><l x1='55'y1='25'x2='84'y2='25'/><l x1='18'y1='10'x2='18'y2='50'/><l x1='70'y1='10'x2='70'y2='25'/><l x1='18'y1='10'x2='70'y2='10'/><l x1='44'y1='10'x2='44'y2='0'/></g><g c='cxb'><r x='5'y='96'w='2'h='2'/><r x='13'y='96'w='2'h='2'/><r x='21'y='96'w='2'h='2'/><r x='29'y='96'w='2'h='2'/><r x='37'y='96'w='2'h='2'/><r x='45'y='96'w='2'h='2'/><r x='53'y='96'w='2'h='2'/><r x='61'y='96'w='2'h='2'/><r x='69'y='96'w='2'h='2'/><r x='78'y='96'w='2'h='2'/><r x='86'y='96'w='2'h='2'/><r x='94'y='96'w='2'h='2'/></g>",at_col:"<c c='cl12'cx='50'cy='34.8'r='30.3'/><c c='cl13'cx='69.7'cy='65.2'r='30.3'/><c c='cl14'cx='30.3'cy='65.2'r='30.3'/><ellipse c='cl15'cx='50'cy='65.2'rx='10.7'ry='23.1'/><p c='cl16'd='M39.4,63.3c15.7,5.9,33.1-2.1,39-17.8c1-2.8,1.7-5.7,1.9-8.7c-3.4-1.3-6.9-1.9-10.5-1.9C53.7,34.8,40.4,47.2,39.4,63.3z'/><p c='cl17'd='M60.6,63.3C44.9,69,27.5,61,21.7,45.3c-1-2.7-1.6-5.6-1.8-8.5c3.4-1.3,7-1.9,10.6-1.9C46.4,34.9,59.6,47.3,60.6,63.3z'/><p c='cl18'd='M50,65.2c3.6,0,7.2-0.7,10.6-1.9c0,0,0,0,0-0.2c-0.1-0.9-0.2-1.7-0.3-2.6c0-0.1,0-0.3,0-0.4c0-0.8-0.3-1.7-0.5-2.5v-0.3c-0.9-3.2-2.3-6.2-4.2-9c-0.3-0.4-0.5-0.8-0.8-1.1c-0.3-0.3-0.6-0.7-0.9-1.1c-0.3-0.4-0.7-0.9-1.1-1.3L52,43.8c-0.5-0.5-0.9-0.9-1.4-1.4L50,42.3c-6.2,5.3-10,12.9-10.5,21.1C42.8,64.6,46.4,65.2,50,65.2z'/>",v_minus:"<c c='cxb'cx='50'cy='50'r='48'/><t c='cxtb100'x='32'y='80'>-</t>",ps_bottomleft:"<p c='cxtxb'd='M34,58 L34,66 L42,66 M34,66 L66,34'/><g c='cxa'><r x='2'y='78'w='20'h='20'rx='2'/></g>",p_g3axistitlez:"<g c='cxblue'><l x1='55'y1='55'x2='65'y2='47'/></g>",dps_expand3:"<t c='cxtb100'x='3'y='95'tr='rotate(90, 50, 50)'>&#8963;</t>",p_g1axis2:"<g c='cxblue'><l x1='75'y1='15'x2='75'y2='65'/><l x1='75'y1='25'x2='85'y2='25'/><l x1='75'y1='45'x2='85'y2='45'/><l x1='75'y1='65'x2='85'y2='65'/></g>",z_zoomw:"<g c='cxxx'><c cx='40'cy='40'r='33'/><l x1='64'y1='64'x2='99'y2='99'/></g>",p_cg3data:"<g c='cxb'><r x='18'y='56'w='2'h='2'/><r x='26'y='32'w='2'h='2'/><r x='34'y='44'w='2'h='2'/><r x='42'y='10'w='2'h='2'/><r x='43'y='30'w='2'h='2'/><r x='50'y='80'w='2'h='2'/><r x='58'y='60'w='2'h='2'/><r x='64'y='24'w='2'h='2'/><r x='70'y='70'w='2'h='2'/><r x='74'y='48'w='2'h='2'/><r x='82'y='18'w='2'h='2'/><r x='90'y='72'w='2'h='2'/></g>",op_question:"<g c='cxa'><p d='M 41.225 97.71 L 41.225 79.611 L 59.325 79.611 L 59.325 97.71 L 41.225 97.71 Z'/></g><g c='cxb'><p d='M 57.652 73.366 L 41.225 73.366 C 41.181 70.991 41.159 69.563 41.159 69.035 C 41.159 63.712 42.042 59.336 43.798 55.907 C 45.557 52.453 49.098 48.606 54.376 44.294 C 59.654 40.007 62.821 37.19 63.831 35.848 C 65.436 33.761 66.228 31.431 66.228 28.902 C 66.228 25.383 64.822 22.368 62.006 19.841 C 59.192 17.334 55.408 16.081 50.64 16.081 C 46.043 16.081 42.195 17.397 39.094 20.016 C 36.016 22.634 33.88 26.636 32.717 32.003 L 16.114 29.935 C 16.573 22.238 19.85 15.707 25.921 10.339 C 32.01 4.977 39.971 2.291 49.87 2.291 C 60.247 2.291 68.517 5.016 74.674 10.452 C 80.807 15.883 83.885 22.193 83.885 29.43 C 83.885 33.41 82.746 37.19 80.501 40.755 C 78.235 44.314 73.421 49.177 66.03 55.312 C 62.205 58.498 59.829 61.052 58.905 62.986 C 57.981 64.919 57.566 68.372 57.652 73.366 Z'/></g>",g_barline:"<g c='cxb'><r x='23.2'y='56'w='15.1'h='30.1'/><r x='50'y='42.5'w='15.1'h='43.6'/><r x='76.7'y='30.4'w='15.1'h='55.6'/></g><g c='cxa'><l x1='11.9'y1='0.5'x2='11.9'y2='100'/><l x1='99.4'y1='86.1'y2='86.1'x2='0'/><l y1='62.7'x2='11.9'y2='62.7'x1='0'/><l y1='39.4'x2='11.9'y2='39.4'x1='0'/><l y1='16.1'x2='11.9'y2='16.1'x1='0'/><y q='23.2 42.5 49.7 19.6 59.5 28.6 89.1 0.5'/></g>",ch_lp:"<t c='cxtb100'x='15'y='85'>P</t>",gr_stylesolid:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/></g><g c='cxa'><l x1='4'y1='23'x2='98'y2='23'/><l x1='4'y1='48'x2='98'y2='48'/><l x1='4'y1='73'x2='98'y2='73'/></g>",n_nodes:"<g c='cxc'><l x1='18.9'y1='15.4'x2='41.7'y2='31.3'/><l x1='21.6'y1='75.8'x2='43.5'y2='53.1'/><l x1='56.7'y1='76.6'x2='55.9'y2='57.1'/><l x1='84.3'y1='60.8'x2='69.5'y2='50.2'/><l x1='78'y1='13.9'x2='66.4'y2='28.2'/></g><g c='cxac'><c cx='55.3'cy='40.9'r='16.9'/><c cx='82.3'cy='8.6'r='6.8'/><c cx='89.9'cy='64.7'r='6.8'/><c cx='16.9'cy='80.6'r='6.8'/><c cx='12.2'cy='10.7'r='8.9'/><c cx='57.1'cy='87.5'r='10.8'/></g>",g_graph:"<g c='cxw0'><r x='23.2'y='56'w='15.1'h='30.1'/><r x='50'y='42.5'w='15.1'h='43.6'/><r x='76.7'y='30.4'w='15.1'h='55.6'/></g><g c='cxtxw'><l x1='11.9'y1='0.5'x2='11.9'y2='100'/><l x1='99.4'y1='86.1'y2='86.1'x2='0'/><l y1='62.7'x2='11.9'y2='62.7'x1='0'/><l y1='39.4'x2='11.9'y2='39.4'x1='0'/><l y1='16.1'x2='11.9'y2='16.1'x1='0'/><y q='23.2 42.5 49.7 19.6 59.5 28.6 89.1 0.5'/></g>",sl_checkboxon:"<r c='cxaa'x='15'y='15'w='70'h='70'rx='5'/><t c='cxtn50 cxww'x='32'y='68'>&#10003;</t>",ly_splom:"<g c='cxa'><r x='25'y='2'w='15'h='15'/><r x='2'y='25'w='15'h='15'/><r x='57'y='2'w='15'h='15'/><r x='80'y='2'w='15'h='15'/><r x='57'y='25'w='15'h='15'/><r x='2'y='80'w='15'h='15'/><r x='80'y='57'w='15'h='15'/></g><g c='cxac'><r x='2'y='2'w='15'h='15'/><r x='25'y='25'w='15'h='15'/><r x='2'y='57'w='15'h='15'/><r x='25'y='80'w='15'h='15'/><r x='57'y='57'w='15'h='15'/><r x='80'y='80'w='15'h='15'/></g>",sh_oval:"<c c='cxa'cx='50'cy='50'r='38'/>",g_sunburst:"<g c='cxa'><c cx='50.1'cy='50.1'r='35.7'/><p d='M 27.5 50.1 L 2.4 50.1 C 2.4 23.8 23.8 2.4 50.1 2.4 L 50.1 41.1'/><p d='M 72.7 50.1 L 97.7 50.1 C 97.7 76.4 76.4 97.7 50.1 97.7 L 50.1 72.7'/><c cx='50.1'cy='50.1'r='22.6'/><c cx='50.1'cy='50.1'r='9'/></g><g c='cxac'><p d='M 50.1 14.3 L 50.1 2.4 C 23.8 2.4 2.4 23.8 2.4 50.1 L 14.3 50.1 C 14.3 30.3 30.3 14.3 50.1 14.3 Z'/><p d='M 50.1 85.8 L 50.1 97.7 C 76.4 97.7 97.7 76.4 97.7 50.1 L 85.8 50.1 C 85.8 69.8 69.8 85.8 50.1 85.8 Z'/></g><g c='cxb'><l x1='43.2'y1='55.9'x2='22.7'y2='73.1'/><l x1='27.4'y1='21.5'x2='36.7'y2='30.9'/><l x1='68.2'y1='63.4'x2='89.1'y2='77.2'/><l x1='68.2'y1='80.8'x2='74.1'y2='91.2'/><l x1='7.5'y1='28.7'x2='29.9'y2='39.7'/><l x1='29.9'y1='8.8'x2='34.2'y2='17.9'/></g>",cd_select:"<g c='cxa'><r y='2'x='2'w='96'h='96'stroke-dasharray='10'/></g><g c='cxb'><y q='68,47 68,40 48,40 48,17 22,17 22,83 68,83 68,70'/><l x1='68'y1='40'x2='48'y2='17'/></g><g c='cxaa'><t c='cxtn30'x='47'y='-60'tr='rotate(90)'>&#8963;</t><t c='cxtn30'x='-71'y='74'tr='rotate(-90)'>&#8963;</t></g>",sp_thickness2:"<g c='cxa'><r x='27'y='2'w='24'h='96'/></g><g c='cxb'><r x='2'y='2'w='14'h='96'/><r x='61'y='2'w='34'h='96'/></g>",i_hist:"<r fill='url(\"#l-grad\")'x='0'y='0'w='100'h='100'/><g c='cxa'><r x='2'y='2'w='96'h='96'/><y q='2,98 20,88 40,60 60,25 80,70 98,2'/></g>",p_cg2bin:"<g c='cxa'><r x='20'y='68'w='15'h='15'/><r x='35'y='68'w='15'h='15'/><r x='35'y='53'w='15'h='15'/><r x='50'y='38'w='15'h='15'/><r x='65'y='23'w='15'h='15'/><r x='50'y='53'w='15'h='15'/><r x='65'y='38'w='15'h='15'/><r x='80'y='23'w='15'h='15'/></g>",ch_lh:"<t c='cxtb100'x='15'y='85'>H</t>",ch_lg:"<t c='cxtb100'x='15'y='85'>G</t>",ch_ofloor:"<t c='cxtn50'x='0'y='70'>floor</t>",sh_square:"<r c='cxa'x='15'y='15'w='70'h='70'/>",gr_g2x:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='100'y2='98'/></g><g c='cxa'><l x1='20'y1='0'x2='20'y2='97'/><l x1='40'y1='0'x2='40'y2='97'/><l x1='60'y1='0'x2='60'y2='97'/><l x1='80'y1='0'x2='80'y2='97'/></g>",rt_c2:"<g c='cxb'><p d='M 5 50 A 45 45 180 0 1 82 18'/><l x1='82'y1='0'x2='82'y2='18'/><l x1='64'y1='18'x2='84'y2='18'/><p d='M 95 50 A 45 45 180 0 1 18 82'/><l x1='33'y1='82'x2='16'y2='82'/><l x1='18'y1='100'x2='18'y2='82'/></g>",bx_violin:"<g c='cxac'><p  d='M64,1 Q 66,11 68,25 72,38 86,47 96,56 89,70 82,82 80,99 L 20,99 Q 18,82 11,70 4,56 14,47 28,38 32,25 34,11 36,1 Z'/></g>",p_g2axisy:"<g c='cxblue'><l x1='25'y1='15'x2='25'y2='75'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/></g>",ch_splus:"<t c='cxtb100'x='20'y='75'>+</t>",p_g1subtitle:"<g c='cxblue'><r x='50'y='10'w='10'h='2'/></g>",a_order:"<g c='cxb'><y q='25,52 2,52 2,2 52,2 52,25'/><y q='48,77 27,77 27,27 77,27 77,48'/></g><g c='cxa'><r x='48'y='48'w='50'h='50'/></g>",ch_oe10:"<t c='cxts150'x='10'y='70'>e</t><t c='cxtn40'x='50'y='85'>10</t>",rt_ac:"<g c='cxb'><p d='M 18 18 A 45 45 225 1 1 5 50'/><l x1='18'y1='0'x2='18'y2='18'/><l x1='36'y1='18'x2='16'y2='18'/></g>",sp_farther:"<p c='cxtxa'd='M90,2 L98,10 L90,18 M98,10 L58,10'/><p c='cxtxa'd='M10,2 L2,10 L10,18 M42,10 L2,10'/><g c='cxb'><r x='9'y='36'w='18'h='62'/><r x='42'y='36'w='18'h='62'/><r x='77'y='36'w='18'h='62'/></g>",p_cg2fitcorconf:"<g c='cxcc'><p d='M10,90 L10,60 Q 50,50 70,0 L100,0 L100,30 Q 50,50 40,90 Z'/></g>",a_alignleft:"<g c='cxb'><r x='15'y='2'w='45'h='38'rx='5'/><r x='15'y='52'w='75'h='38'rx='5'/></g><g c='cxa'><l x1='3'y1='1'x2='3'y2='99'/></g>",op_config:"<g c='cxa'><c cx='70.8'cy='37.6'r='8.9'/><p d='M97.5,41.8v-8.6L90,31.9c-0.4-1.3-0.9-2.5-1.5-3.7l4.3-6.2l-6.1-6.1l-6.1,4.3c-1.3-0.7-2.6-1.3-4-1.7l-1.3-7.2h-8.6l-1.2,7c-1.5,0.4-3,0.9-4.4,1.7l-5.7-4L49.5,22l3.9,5.6c-0.8,1.4-1.4,3-1.9,4.5l-6.7,1.1v8.6l6.7,1.2c0.4,1.6,1.1,3.1,1.9,4.5l-3.9,5.6l6.1,6.1l5.7-4c1.4,0.7,2.8,1.3,4.4,1.7l1.2,7h8.6l1.3-7.2c1.4-0.4,2.7-1,4-1.7l6.1,4.3l6.1-6.1l-4.3-6.1c0.6-1.2,1.2-2.5,1.5-3.8L97.5,41.8z'/></g><g c='cxb'><c cx='24.6'cy='66.4'r='7.5'/><p d='M47.4,70v-7.3L41,61.6c-0.3-1.1-0.7-2.2-1.3-3.2l3.7-5.3l-5.2-5.2L33,51.5c-1.1-0.6-2.2-1.1-3.4-1.5l-1.1-6.2h-7.3l-1,6c-1.3,0.3-2.5,0.8-3.7,1.4l-4.8-3.4l-5.2,5.2l3.4,4.8c-0.7,1.2-1.3,2.5-1.6,3.8l-5.7,1V70l5.7,1c0.4,1.3,0.9,2.6,1.6,3.8l-3.4,4.8l5.3,5.2l4.7-3.4c1.2,0.6,2.4,1.1,3.7,1.4l1,5.9h7.3l1.1-6.1c1.2-0.3,2.3-0.8,3.4-1.5l5.2,3.6l5.2-5.2l-3.7-5.3c0.6-1,1-2.1,1.3-3.2L47.4,70z'/></g>",c_ggplot:"<polygon c='cl20'q='8.5,26 8.5,74 50,98 91.6,74 91.6,26 50,2'/><r x='12.7'y='23.8'c='cl21'w='75.7'h='0.8'/><r x='9.6'y='41.9'c='cl21'w='82'h='0.8'/><r x='9.6'y='60'c='cl21'w='82'h='0.8'/><r x='20.2'y='79'c='cl21'w='60.6'h='0.8'/><r x='31.2'y='13'c='cl21'w='0.8'h='74.8'/><r x='12.8'y='23'c='cl21'w='0.8'h='54.8'/><r x='67.7'y='13'c='cl21'w='0.8'h='74.8'/><r x='86.1'y='23'c='cl21'w='0.8'h='54.8'/><r x='49.5'y='2.3'c='cl21'w='0.8'h='96.1'/><polygon c='cl22'q='12.7,52 11,49.3 45.7,26.8 55,41.5 85.7,22.4 87.4,25.2 54,45.8 44.7,31.2 \t\t'/><p c='cl23'd='M82.8,20.3c-2.1,1.5-2.6,4.4-1.1,6.5s4.4,2.6,6.5,1.1c0.9-0.7,1.6-1.7,1.9-2.8C88.2,24,85,21.8,82.8,20.3z'/><c c='cl24'cx='11.8'cy='51.4'r='4.7'/><c c='cl25'cx='27.6'cy='39.6'r='4.7'/><c c='cl26'cx='44.9'cy='29.2'r='4.7'/><c c='cl27'cx='54.8'cy='43.6'r='4.7'/><c c='cl28'cx='70.9'cy='33.2'r='4.7'/><p c='cl22'd='M50,3.7l40.1,23.2v46.4L50,96.3L9.9,73.2V26.8L50,3.7 M50,0L6.7,25v50L50,100l43.3-25V25L50,0z'/><p c='cl22'd='M29.9,60.5c0,0.7,0,1.5,0,2.6v5.5c0.2,1.6-0.2,3.1-1.2,4.4c-0.9,0.8-2,1.2-3.2,1.1c-1,0-2-0.4-2.9-1l0.4-1.3c0.7,0.5,1.6,0.8,2.5,0.8c1.6,0,2.7-0.9,2.7-3.2v-1.1l0,0c-0.5,1-1.6,1.6-2.7,1.6c-2.1,0-3.6-2-3.6-4.7c0-3.2,1.9-5.1,3.8-5.1c1.2,0,2.2,0.6,2.7,1.7l0,0v-1.5L29.9,60.5z M28.3,64.3c0-0.3,0-0.5,0-0.8c-0.2-1-1.1-1.8-2.2-1.8c-1.5,0-2.5,1.4-2.5,3.6s0.9,3.4,2.5,3.4c1-0.1,1.9-0.8,2.1-1.8c0-0.3,0-0.6,0-0.9L28.3,64.3z'/><p c='cl22'd='M39.7,60.5c0,0.7,0,1.5,0,2.6v5.5c0.2,1.5-0.2,3-1.1,4.2c-0.9,0.8-2,1.2-3.2,1.1c-1,0-2-0.3-2.9-0.8l0.4-1.3c0.7,0.5,1.6,0.8,2.5,0.8c1.6,0,2.8-0.9,2.8-3.2v-1.1l0,0c-0.6,1-1.6,1.6-2.8,1.7c-2.1,0-3.6-2-3.6-4.7c0-3.2,1.9-5.1,3.8-5.1c1.1,0,2.2,0.6,2.6,1.7l0,0v-1.5L39.7,60.5z M38.1,64.3c0-0.3,0-0.5,0-0.8c-0.2-1-1.1-1.8-2.2-1.8c-1.5,0-2.5,1.4-2.5,3.6s0.8,3.4,2.5,3.4c1-0.1,1.9-0.8,2-1.8c0-0.3,0-0.6,0-0.9L38.1,64.3z'/><p c='cl22'd='M42.1,63.5c0-1.2,0-2.2,0-3.2h1.4v1.7l0,0c0.5-1.2,1.7-1.9,3-1.9c2.1,0,3.6,2,3.6,4.9c0,3.4-1.8,5.2-3.9,5.2c-1.1,0-2.1-0.5-2.6-1.5l0,0v5.2h-1.5L42.1,63.5z M43.6,66c0,0.2,0,0.5,0,0.7c0.2,1.1,1.2,2,2.3,2c1.6,0,2.6-1.5,2.6-3.7s-0.9-3.6-2.5-3.6c-1.2,0.1-2.1,1-2.3,2.2c0,0.2,0,0.5,0,0.7L43.6,66z'/><p c='cl22'd='M52.1,55.9h1.5V70h-1.5V55.9z'/><p c='cl22'd='M64,65c0,3.5-2.2,5.1-4.2,5.1s-4.1-1.9-4.1-4.9c0-3,1.8-5.1,4.2-5.1S64,62.1,64,65z M57.3,65c0,2.1,1.1,3.7,2.6,3.7s2.6-1.6,2.6-3.7c0-1.6-0.7-3.7-2.5-3.7S57.2,63.3,57.3,65L57.3,65z'/><p c='cl22'd='M67.8,57.6v2.9H70v1.3h-2.2v5c0,1.2,0.3,1.8,1.1,1.8c0.3,0,0.6,0,0.9,0V70c-0.4,0.2-0.9,0.2-1.4,0.2c-0.6,0-1.2-0.2-1.7-0.7c-0.5-0.8-0.7-1.7-0.5-2.6v-5.2h-1.3v-1.2h1.3v-2.3L67.8,57.6z'/><p c='cl22'd='M71.2,70V69l1.2-1.3c2.9-3.2,4.2-4.8,4.2-6.7c0-1.3-0.5-2.5-2.3-2.5c-0.9,0-1.8,0.4-2.4,1.1l-0.5-1.2c0.9-0.8,2-1.3,3.2-1.3c1.9-0.1,3.5,1.4,3.6,3.3c0,0.1,0,0.2,0,0.2c0,2.4-1.5,4.3-3.9,6.9l-0.9,0.9l0,0h5.2V70H71.2z'/>",bx_type:"<g c='cxb'><r x='2'y='30'w='20'h='40'/><l x1='2'y1='51'x2='22'y2='51'/><l x1='2'y1='2'x2='22'y2='2'/><l x1='12'y1='2'x2='12'y2='30'/><l x1='12'y1='70'x2='12'y2='98'/><l x1='2'y1='98'x2='22'y2='98'/><p d='M80,7 Q 80,2 85,2 90,2 90,7 L90,40 Q 97,41 98,50 97,59 90,60 L90,93 Q 90,98 85,98 80,98 80,93 L80,60 Q 73,59 72,50 73,41 80,40 Z'/></g><p c='cxtxa'd='M56,44 L64,52 L56,60 M40,44 L32,52 L40,60 M64,52 L32,52'/>",at_trn:"<g c='cxcc'><r x='2.5'y='2.7'w='13.6'h='13.6'/><r x='16.1'y='16.2'w='13.6'h='13.6'/><r x='43.2'y='16.2'w='13.6'h='13.6'/><r x='56.8'y='2.7'w='13.6'h='13.6'/><r x='70.3'y='16.2'w='13.6'h='13.6'/><r x='83.9'y='2.7'w='13.6'h='13.6'/><r x='29.7'y='2.7'w='13.6'h='13.6'/><r x='2.5'y='29.8'w='13.6'h='13.6'/><r x='16.1'y='43.4'w='13.6'h='13.6'/><r x='43.2'y='43.4'w='13.6'h='13.6'/><r x='56.8'y='29.8'w='13.6'h='13.6'/><r x='70.3'y='43.4'w='13.6'h='13.6'/><r x='83.9'y='29.8'w='13.6'h='13.6'/><r x='29.7'y='29.8'w='13.6'h='13.6'/><r x='2.5'y='56.9'w='13.6'h='13.6'/><r x='16.1'y='70.5'w='13.6'h='13.6'/><r x='43.2'y='70.5'w='13.6'h='13.6'/><r x='56.8'y='56.9'w='13.6'h='13.6'/><r x='70.3'y='70.5'w='13.6'h='13.6'/><r x='83.9'y='56.9'w='13.6'h='13.6'/><r x='29.7'y='56.9'w='13.6'h='13.6'/><r x='2.5'y='84'w='13.6'h='13.6'/><r x='56.8'y='84'w='13.6'h='13.6'/><r x='83.9'y='84'w='13.6'h='13.6'/><r x='29.7'y='84'w='13.6'h='13.6'/></g><g c='cxa'><r x='2'y='2'w='96'h='96'/></g>",wp_po:"<g c='cxa'><p d='M22.5,39.6h55.1c4.2,0,7.7,3.4,7.7,7.7v43.3c0,4.2-3.4,7.7-7.7,7.7H22.5c-4.2,0-7.7-3.4-7.7-7.7V47.3C14.8,43,18.2,39.6,22.5,39.6z'/><p d='M73.8,21.2C71.5,9.9,61.6,1.8,50.1,1.8l0,0C36.7,1.8,25.9,12.5,25.8,25.9c0,0.1,0,0.1,0,0.2v13.5'/></g><g c='cxc'><c cx='50'cy='63.1'r='9.2'/><l x1='50'y1='72.3'x2='50'y2='83.9'/></g>",dp_binc:"<g c='cxb'><c cx='50'cy='3'r='2.5'/><c cx='46.5'cy='18'r='2.5'/><c cx='53.5'cy='18'r='2.5'/><c cx='43'cy='33'r='2.5'/><c cx='50'cy='33'r='2.5'/><c cx='57'cy='33'r='2.5'/><c cx='39.5'cy='50'r='2.5'/><c cx='46.5'cy='50'r='2.5'/><c cx='53.5'cy='50'r='2.5'/><c cx='60.5'cy='50'r='2.5'/><c cx='43'cy='65'r='2.5'/><c cx='50'cy='65'r='2.5'/><c cx='57'cy='65'r='2.5'/><c cx='46.5'cy='80'r='2.5'/><c cx='53.5'cy='80'r='2.5'/><c cx='50'cy='97'r='2.5'/></g>",dps_expand2:"<t c='cxtb100'x='3'y='95'tr='scale(1,-1) translate(0,-100)'>&#8963;</t>",g_density2:"<g c='cxb'><p d='M 11.9 86 C 11.9 86 23.5 79.2 29.4 56.8 C 35.3 34.4 38.9 2.4 47.3 3.9 C 55.8 5.3 83.9 86 83.9 86 M 50 86 C 69 58.7 67.8 37.7 76.8 39.5 C 81.7 41.3 92.7 86 92.7 86'/></g><g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g>",ar_t:"<p c='cxtxb'd='M35,20 L50,2 L65,20 M50,98 L50,2'/>",g_parallelcoordinates:"<g c='cxa'><l x1='54.3'y1='52.8'x2='88'y2='23.6'/><l x1='12.4'y1='33.9'x2='45.7'y2='53.8'/><l x1='54.4'y1='78.7'x2='88'y2='51.7'/><l x1='13.1'y1='68.7'x2='44.8'y2='80.2'/><l x1='10.1'y1='86.5'x2='47.2'y2='24.6'/><l x1='53.4'y1='24.3'x2='89'y2='72.1'/></g><g c='cxb'><l x1='7.6'y1='73.2'x2='7.6'y2='85.1'/><l x1='7.6'y1='36.6'x2='7.6'y2='61.4'/><l x1='7.6'x2='7.6'y2='25.5'y1='3.8'/><l x1='92.5'y1='82.2'x2='92.5'y2='96.2'/><l x1='92.5'y1='53.8'x2='92.5'y2='71'/><l x1='92.5'y1='25.5'x2='92.5'y2='42.6'/><l x1='92.5'x2='92.5'y2='14.3'y1='3.8'/><l x1='50.1'y1='87.7'x2='50.1'y2='96.2'/><l x1='50.1'y1='62'x2='50.1'y2='76.6'/><l x1='50.1'y1='25.5'x2='50.1'y2='50.9'/><l x1='50.1'x2='50.1'y2='14.3'y1='3.8'/><c cx='92.4'cy='19.9'r='5.6'/><c cx='50.1'cy='19.9'r='5.6'/><c cx='7.6'cy='31'r='5.6'/><c cx='7.6'cy='67.6'r='5.6'/><c cx='7.6'cy='90.6'r='5.6'/><c cx='92.4'cy='48.2'r='5.6'/><c cx='50.1'cy='56.5'r='5.6'/><c cx='50.1'cy='82.1'r='5.6'/><c cx='92.4'cy='76.6'r='5.6'/></g>",m_right:"<g c='cxaa'><p d='M50,10 Q 75,10 75,25 L75,35 55,35 55,30 Q 55,25 50,25 Z'/></g>",at_pat:"<g c='cxb'><r x='2'y='2'w='25'h='96'/><r x='33'y='2'w='25'h='96'/><r x='66'y='2'w='25'h='96'/></g><g c='cxa'><l x1='35'y1='10'x2='57'y2='30'/><l x1='35'y1='30'x2='57'y2='50'/><l x1='35'y1='50'x2='57'y2='70'/><l x1='35'y1='70'x2='57'y2='90'/><l x1='68'y1='22'x2='90'y2='22'/><l x1='68'y1='42'x2='90'y2='42'/><l x1='68'y1='62'x2='90'y2='62'/><l x1='68'y1='82'x2='90'y2='82'/></g>",ln_styledashed:"<g c='cxa'><l x1='4'y1='50'x2='98'y2='50'stroke-dasharray='15 5'/></g>",i_left:"<r fill='url(\"#r-grad\")'x='2'y='25'w='48'h='50'/>",bx_wishkerss:"<g c='cxb'><r x='35'y='30'w='30'h='40'/><l x1='35'y1='51'x2='65'y2='51'/></g><g c='cxa'><l x1='50'y1='2'x2='50'y2='30'/><l x1='50'y1='98'x2='50'y2='70'/></g>",i_labels:"<g c='cxc'><r x='2'y='25'w='96'h='50'/><r x='40'y='10'w='20'h='2'/><r x='2'y='90'w='10'h='2'/><r x='45'y='90'w='10'h='2'/><r x='88'y='90'w='10'h='2'/></g>",p_cg2datahiststag:"<g c='cxbb'><r x='17'y='70'w='7'h='18'/><r x='31'y='56'w='7'h='32'/><r x='45'y='38'w='7'h='50'/><r x='59'y='34'w='7'h='54'/><r x='73'y='62'w='7'h='26'/><r x='87'y='74'w='7'h='14'/></g>",c_economist:"<p c='cl57'd='M3.5,50.1c0-13,0-25.9,0-38.9C3.8,4.8,9.3-0.3,15.8,0c0.1,0,0.3,0,0.4,0h68.1c6-0.2,11.2,4.2,12,10.1c0.5,26,0,52,0.2,78c0.2,6.3-4.7,11.5-10.9,11.8H14C8.3,99.6,3.8,95,3.5,89.3V50.1z M61.2,59.4l0.2-0.2c-1.3-0.4-1-1.4-1.1-2.3c-0.1-0.9-0.1-1.9,0-2.8c0-1.5,2.2-2.9,2.7-0.9c0.5,1.9,0.9,4.3-0.6,6.2h3.7c-1.6-1.1-0.7-4.1-0.8-5.9c0.1-0.7,0.7-1.3,1.5-1.2s1.3,0.7,1.2,1.5c0,0.9,0,1.8,0,2.6c0,0.9,0.4,2.3-0.9,3h4.1l0.2-0.2c-2-0.3-1.4-1.8-1.5-2.9c0.3-4.2-0.9-7-5.2-3.9c-0.9-2.1-3.2-1.1-4.7-0.4v-0.9l-3,0.4v0.3c1.6,0,1.4,1.3,1.4,2.3v3.3c0,0.9,0,1.8-1.2,1.9c0,0,0,0,0,0.3L61.2,59.4z M8.3,59.1c0.2,0.3,0.3,0.3,0.3,0.3H16c0.7,0,0.8-2.3,0.5-2.8c-0.2,0.2-0.4,0.3-0.5,0.4c-0.5,1.3-1.9,1.9-3.2,1.4c-0.1,0-0.1,0-0.2-0.1c-0.9-0.9-0.2-3.2-0.4-4.6c1.1,0,2.7-0.5,2.9,1.1c0,0,0.2,0.2,0.3,0.3c0.4-1.2,0.4-2.5,0-3.6c-0.8,1.5-1.6,1.6-3.4,1.4v-4.3c1.2,0,2.8-0.5,3,1.3c1,0.9,0.6-1.6,0.7-2.1H8.3c0.2,0.2,0.3,0.4,0.3,0.4c1.2,0,1.3,0.8,1.3,1.8c0,2.4,0,4.7,0,7.1C10,58.6,9.7,58.9,8.3,59.1z M45.9,59.4l0.2-0.2c-1.8-0.2-1.4-1.5-1.4-2.5c0.3-3.9-0.7-7.4-5-4.4v-1.1l-3,0.4c0,0.2,0.2,0.3,0.2,0.3c1,0,1.1,0.8,1.1,1.6c0,1.3,0,2.6,0,3.9c0,0.8,0,1.6-1.1,1.7c0,0.1,0,0.2,0,0.3h4.3c-1.7-0.9-0.9-3.4-1-5.9c0.2-0.8,0.9-1.3,1.7-1.1c0.7,0.1,1.1,0.7,1.1,1.4c0.1,0.8,0.1,1.6,0,2.4c0,1.1,0.5,2.4-0.9,3.1H45.9z M55.4,45.1c-1.5-0.5-1-1.7-1.1-2.6c0.3-3.4-0.6-6.3-4.5-3.9v-4.1L47,34.7L46.8,35c1.6,0,1.3,1.2,1.3,2.1c0,2,0,4,0,6c0,0.8,0,1.6-1,1.8v0.2h3.7c-0.4-0.4-0.9-0.6-0.9-0.9c-0.1-1.5-0.1-3,0-4.5c0-1.3,2.1-1.2,2.4,0c0,1.8,0.8,3.8-0.6,5.5L55.4,45.1z M51.3,59.7c5.4,0.2,5.3-8.6,0-8.5C46,51.2,45.9,59.9,51.3,59.7z M30.5,59.7c5.4,0.2,5.3-8.7,0-8.5S25.3,59.9,30.5,59.7z M43.3,35.4c1.1,0.2,2.5-0.4,2.8,1.3c0.1,0.1,0.2,0.2,0.3,0.2c0.5-0.3,0-1,0.2-1.5c0.2-0.5-0.2-0.9-0.9-0.9H38c0,0.9-0.3,1.7,0.2,2.4c0.3-0.4,0.6-1.2,1-1.3c0.7-0.1,1.4-0.2,2.1-0.2c0,2.6,0,5.1,0,7.5c0,0.9,0,1.7-1.2,1.8c0,0,0,0,0,0.3h4.6c-0.4-0.8-1.2,0-1.2-1.4L43.3,35.4z M58.1,41.1h4c0.3-0.1,0.5-0.2,0.6-0.5c0-1.3-0.8-2.5-2.1-2.8c-2-0.4-3.9,0.9-4.3,2.9c-0.1,0.7-0.1,1.3,0.1,2c0.4,1.8,2.3,2.9,4.1,2.5c0.9-0.2,1.7-0.8,2.1-1.6c-2.9,1.6-4.1,0.9-4.4-2.4H58.1z M84.1,52.4c-0.4-1.2-1.5-1.2-2.6-1.2c-1.3,0-2.5,1-2.5,2.4c0,0.9,0.5,1.8,1.3,2.2c0.7,0.8,2.4,1.2,2.1,2.6c-0.2,1.3-2.1,0.9-2.3-0.3c0-0.5-0.4-0.7-0.9-0.5c-0.5,0.2,0,1.7,0.3,1.8c0.8,0.2,1.7,0.3,2.6,0.3c1.3-0.2,2.2-1.4,2-2.8c-0.1-0.6-0.4-1.2-1-1.6c-0.7-0.4-1.3-0.9-1.9-1.4c-0.7-0.8-0.8-1.7,0.5-2c1.3-0.3,1.1,1,1.9,1.4L84.1,52.4z M88.7,52.6c1.9-0.2,1.9-0.2,1.8-1.1h-1.9v-2.1c-0.8,0-0.8,0-0.9,0.5c-0.5,1.7-1.2,1.2-2,2.1c0.3,0.3,0.5,0.5,1,0.5c0,1.7,0,3.4,0,5c0,1.6,3.4,3.1,4.1,1.1c-1.9,0-2.2,0-2.2-1.3c-0.1-1.3,0.2-3.2,0.2-4.8L88.7,52.6z M24.6,53.5c0-0.7,0.3-1.6-0.4-2c-2.5-0.7-5,0-5.5,2.8c-0.2,1-0.1,2.1,0.2,3.1c0.5,1.7,2.2,2.7,3.8,2.2c0.9-0.2,1.6-0.9,2-1.7h-0.2c-1.2,1.1-3.1,1.3-3.6-0.5c-0.5-1.8-0.9-5.2,1.5-5.5c0.8,0,1.1,0.5,1.2,1.2s0.5,0.6,1.1,0.3L24.6,53.5z M72.9,59.4h4.5c0-0.2,0-0.3-0.2-0.4c-0.9,0-1-0.7-1-1.4c0-2.2,0-4.3,0-6.5l-3.4,0.4c2.2,1.1,1.2,3,1.4,5.4c0,1,0,2-1.2,2.3L72.9,59.4z M76.2,48.5c0-1.5-2.4-1.5-2.3,0c0.2,0.6,0.9,0.9,1.5,0.7c0.3-0.1,0.6-0.4,0.7-0.7L76.2,48.5z'/><p c='cl58'd='M61.3,59.4h-4.1c0-0.2,0-0.3,0-0.3c1.2,0,1.2-1,1.2-1.9V54c0-1,0.2-2.1-1.4-2.3v-0.3l3-0.4V52c1.5-0.7,3.8-1.7,4.7,0.4c4.2-3.1,5.5-0.3,5.2,3.9c0,1.1-0.6,2.6,1.5,2.9L71,59.3h-3.8c1.3-0.7,0.8-2,0.9-3c0.1-1,0-1.8,0-2.6c0.1-0.7-0.5-1.4-1.2-1.5c-0.7-0.1-1.4,0.5-1.5,1.2c0,1.9-0.8,4.8,0.8,5.9h-3.8c1.5-2,0.8-4.1,0.6-6.2c-0.2-2.1-2.6-0.5-2.7,0.9c-0.1,0.9-0.1,1.9,0,2.8c0,0.9-0.2,1.9,1.1,2.3L61.3,59.4z'/><p c='cl58'd='M8.3,59.1c1.3-0.3,1.7-0.5,1.7-1.9c0-2.2,0-4.6,0-7.1c0-1,0-1.8-1.3-1.8c0,0,0,0-0.3-0.4H16c0,0.6,0.3,3-0.7,2.1c-0.2-1.8-1.9-1.2-3-1.3v4.3c1.6,0,2.4,0,3.4-1.4c0.4,1.2,0.4,2.5,0,3.6c0,0-0.3-0.2-0.3-0.3c-0.2-1.6-1.8-0.9-2.9-1.1c0.2,1.4-0.5,3.6,0.4,4.6c1.3,0.6,2.7,0,3.3-1.2c0-0.1,0-0.1,0.1-0.2c0-0.2,0.3-0.3,0.5-0.4c0.4,0.5,0.2,2.7-0.5,2.8H8.6C8.6,59.5,8.6,59.4,8.3,59.1z'/><p c='cl58'd='M45.9,59.4h-4c1.4-0.8,0.8-2.1,0.9-3.1c0.1-0.8,0.1-1.6,0-2.4c0-0.8-0.7-1.4-1.5-1.4c-0.7,0-1.3,0.5-1.4,1.1c0,2.4-0.7,5,1,5.9h-4.3c0-0.1,0-0.2,0-0.3c1.1,0,1.1-0.9,1.1-1.7c0-1.3,0-2.6,0-3.9c0-0.8,0-1.5-1.1-1.6c0,0,0,0-0.2-0.3l3-0.4v1.1c4.4-3,5.4,0.4,5,4.4c0,1-0.4,2.3,1.4,2.5L45.9,59.4z'/><p c='cl58'd='M55.4,45.1h-3.6c1.5-1.7,0.7-3.6,0.6-5.5c-0.3-1.2-2.3-1.3-2.4,0c-0.1,1.5-0.1,3,0,4.5c0,0.3,0.5,0.5,0.9,0.9h-3.8v-0.2c1-0.2,1-0.9,1-1.8c0-2,0-4,0-6c0-0.9,0.3-2-1.3-2.1l0.2-0.2l2.9-0.4v4.2c3.9-2.4,4.8,0.5,4.5,3.9C54.4,43.4,54.1,44.6,55.4,45.1z'/><p c='cl58'd='M51.3,59.7c-5.4,0.3-5.2-8.9,0-8.5S56.7,59.8,51.3,59.7z M53,57.6c0.9-1.9-0.6-8.1-3.4-5c-0.7,1.9-0.5,4,0.4,5.7c0.3,0.8,1.1,1.2,1.9,1C52.7,59.1,53.1,58.4,53,57.6z'/><p c='cl58'd='M30.5,59.7c-5.4,0.2-5.3-8.8,0-8.5S36,59.8,30.5,59.7z M28.8,54c-0.4,1.9,0.8,7.3,3.4,4.4c0.8-1.9,0.6-4-0.5-5.7C30.5,51.2,28.9,52.3,28.8,54z'/><p c='cl58'd='M43.4,35.4v8.2c0,1.2,0.9,0.6,1.2,1.4h-4.6v-0.3c1.2,0,1.2-0.9,1.2-1.8c0-2.4,0-4.9,0-7.5c-0.7,0-1.4,0.1-2.1,0.2c-0.4,0-0.7,0.9-1,1.3c-0.6-0.7-0.2-1.5-0.2-2.4h7.9c0.7,0,0.9,0.2,0.9,0.9c-0.1,0.6,0.2,1.2-0.2,1.5c-0.1,0-0.3-0.1-0.3-0.2C45.9,35,44.6,35.6,43.4,35.4z'/><p c='cl58'd='M58.2,41.1c0.2,3.4,1.5,4,4.5,2.4c-0.9,1.6-3,2.2-4.6,1.3c-0.8-0.5-1.4-1.2-1.6-2.1c-0.7-1.9,0.3-4,2.2-4.7c0.6-0.2,1.3-0.3,2-0.1c1.3,0.3,2.2,1.5,2.1,2.8c-0.1,0.3-0.3,0.4-0.6,0.5H58.2z M61.1,40.2c0-2.8-2.9-2.6-2.8,0.2L61.1,40.2z'/><p c='cl58'd='M84.2,52.4l-0.6,0.8c-0.8-0.3-0.9-1.6-1.9-1.4s-1.1,1.2-0.5,2c0.6,0.5,1.2,1,1.9,1.4c1.1,0.8,1.3,2.3,0.5,3.4c-0.4,0.5-1,0.9-1.6,1c-0.9,0-1.7-0.1-2.6-0.3c-0.4,0-0.6-1.6-0.3-1.8s0.8,0,0.9,0.5c0.2,1.2,1.9,1.1,2.3,0.3c0.2-1.7-2.9-2.3-3.4-4.2C78.5,51.1,83.3,50.1,84.2,52.4z'/><p c='cl58'd='M88.8,52.6c0,1.7,0,3.4,0,4.8s0.4,1.4,2.2,1.3c0,0.2,0,0.4-0.2,0.5c-4.8,2.4-4-3.8-4-6.7c-0.5,0-0.7-0.2-1-0.5c0.7-0.9,1.5-0.4,2-2.1c0.2-0.6,0.2-0.6,0.9-0.5v2.1h1.9C90.7,52.3,90.7,52.3,88.8,52.6z'/><p c='cl58'd='M24.8,53.5c-0.6,0.3-0.8,0-0.9-0.4c-0.1-0.4-0.4-1.2-1.2-1.2c-2.4,0.2-2,3.8-1.5,5.5s2.4,1.7,3.6,0.5H25c-0.7,1.6-2.6,2.3-4.1,1.6c-0.8-0.4-1.5-1.1-1.7-2c-0.3-1-0.4-2.1-0.2-3.1c0.5-2.9,3-3.5,5.5-2.8C25.1,51.8,24.7,52.8,24.8,53.5z'/><p c='cl58'd='M72.9,59.4v-0.2c1.3-0.2,1.2-1.3,1.2-2.3c-0.2-2.4,0.8-4.2-1.4-5.4l3.4-0.4c0,2.2,0,4.3,0,6.5c0,0.7,0,1.3,1,1.4c0.2,0,0.2,0,0.2,0.4H72.9z'/><p c='cl58'd='M76.1,48.5c-0.1,0.6-0.7,1-1.3,0.9c-0.5-0.1-0.9-0.5-0.9-0.9C73.8,47,76.2,47,76.1,48.5z'/><p c='cl57'd='M52.7,53.4c0.6,1.5,0.6,3.2,0,4.7c-2.5,3.4-4.3-3.1-3-5.5C50.8,51.1,52.4,51.9,52.7,53.4z'/><p c='cl57'd='M28.9,56.4c-0.3-1.5-0.4-3.8,1.2-4.5c2.7,0,3,4.5,2,6.3C30.5,60.2,29,58.2,28.9,56.4z'/><p c='cl57'd='M61.1,40.2l-2.8,0.2C58.1,37.6,60.9,37.4,61.1,40.2z'/>",c_rrc:"<p fill='url(\"#rr-grad\")'d='M 50 16 C 22.4 16 0 32.1 0 52.1 C 0 72.1 22.4 88.2 50 88.2 C 77.6 88.2 100 72.1 100 52.1 C 100 32.1 77.6 16 50 16 Z M 56.3 76.5 C 35.8 76.5 19.1 65.5 19.1 52.2 C 19.1 38.9 35.8 27.9 56.3 27.9 C 76.8 27.9 93.5 38.8 93.5 52.2 C 93.5 65.6 76.9 76.5 56.3 76.5 Z'/><p c='clr'd='M 80.6 73.4 C 85.8 72.1 89.2 65.9 88.1 59.5 C 87.2 54 83.2 50 78.6 50 L 53.8 50 L 53.8 89 L 64.8 89 L 64.8 73.7 L 69.6 73.7 L 77.8 89 L 88.8 89 L 80.6 73.4 Z M 74 66.4 L 64.3 66.4 L 64.3 57.3 L 74 57.3 C 76.2 57.3 78 59.1 78 61.3 C 78 61.4 78 61.4 78 61.5 C 78.4 63.8 76.9 66 74.6 66.5 C 74.5 66.5 74.3 66.5 74 66.4 Z'/><p c='clr'd='M 38.7 34.4 C 43.9 33.1 47.3 26.9 46.2 20.5 C 45.3 15 41.3 11 36.7 11 L 11.9 11 L 11.9 50 L 22.9 50 L 22.9 34.7 L 27.7 34.7 L 35.9 50 L 46.9 50 L 38.7 34.4 Z M 32.1 27.4 L 22.4 27.4 L 22.4 18.3 L 32.1 18.3 C 34.3 18.3 36.1 20.1 36.1 22.3 C 36.1 22.4 36.1 22.4 36.1 22.5 C 36.5 24.8 35 27 32.7 27.5 C 32.6 27.5 32.4 27.5 32.1 27.4 Z'/>",ch_spercent:"<t c='cxtb100'x='5'y='85'>%</t>",ln_style:"<g c='cxa'><l x1='4'y1='23'x2='98'y2='23'/><l x1='4'y1='48'x2='98'y2='48'stroke-dasharray='5'/><l x1='4'y1='73'x2='98'y2='73'stroke-dasharray='15 5'/></g>",a_distributehor:"<g c='cxb'><r x='25'y='10'w='50'h='36'rx='5'/><r x='5'y='54'w='90'h='36'rx='5'/></g><g c='cxa'><l x1='50'y1='1'x2='50'y2='99'/></g>",ar_minmax:"<p c='cxtxb'd='M2,22 L2,2 L22,2 M28,45 L45,45 L48,28 M2,2 L45,45'/><p c='cxtxb'd='M25,55 L45,55 L45,75 M2,78 L2,98 L22,98 M2,98 L45,55'/><p c='cxtxb'd='M78,98 L98,98 L98,78 M55,75 L55,55 L75,55 M98,98 L55,55'/><p c='cxtxb'd='M55,25 L55,45 L75,45 M78,2 L98,2 L98,22 M98,2 L55,45'/>",op_thumbdown2:"<p c='cxb'd='M 24.324 55.711 L 24.324 10.064 C 24.324 6.912 21.769 4.358 18.618 4.358 L 7.206 4.358 C 4.055 4.358 1.5 6.912 1.5 10.064 L 1.5 50.005 C 1.5 53.156 4.055 55.711 7.206 55.711 L 24.324 55.711 C 36.929 55.711 47.147 65.929 47.147 78.534 L 47.147 84.24 C 47.147 93.025 56.657 98.515 64.265 94.123 C 67.796 92.084 69.971 88.317 69.971 84.24 L 69.971 55.711 L 87.088 55.711 C 93.391 55.711 98.5 50.601 98.5 44.299 L 92.794 15.769 C 91.108 8.579 86.456 3.926 81.382 4.358 L 41.441 4.358 C 31.987 4.358 24.324 12.021 24.324 21.475'/>",ch_of:"<t c='cxti100'x='35'y='75'>f</t>",z_zoom:"<g c='cxa'><c cx='35'cy='35'r='33'/><l x1='60'y1='60'x2='99'y2='99'/></g>",sw_up:"<g c='cxa'><p d='M0,85 C90,90 10,10 100,15'/><l x1='83'y1='5'x2='98'y2='15'/><l x1='83'y1='25'x2='98'y2='15'/></g>",ch_oe2:"<t c='cxts150'x='10'y='70'>e</t><t c='cxtn40'x='55'y='85'>2</t>",a_aligntop:"<g c='cxb'><r x='2'y='15'w='38'h='45'rx='5'/><r x='52'y='15'w='38'h='75'rx='5'/></g><g c='cxa'><l x1='1'y1='3'x2='99'y2='3'/></g>",g_histogram:"<g c='cxb'><r x='21.2'y='44.8'w='11.8'h='41.2'/><r x='33'y='27.4'w='11.8'h='58.6'/><r x='44.9'y='12.7'w='11.8'h='73.3'/><r x='56.7'y='26'w='11.8'h='60'/><r x='68.5'y='49.3'w='11.8'h='36.7'/><r x='80.3'y='65.4'w='11.8'h='20.6'/></g><g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/><l x1='35.4'y1='100'x2='35.4'y2='86'/><l x1='58.9'y1='100'x2='58.9'y2='86'/><l x1='82.5'y1='100'x2='82.5'y2='86'/></g>",dps_square:"<g c='cxa'><r x='2'y='2'w='96'h='96'/></g>",a_movefront:"<g c='cxb'><y q='20,32 2,32 2,2 32,2 32,20'/><y q='85,68 98,68 98,98 68,98 68,85'/></g><g c='cxa'><r x='20'y='20'w='65'h='65'/></g>",g_stackedpercent:"<g c='cxcc'><r x='76.7'y='45.4'w='14.9'h='22.1'/><r x='49.7'y='21.1'w='14.9'h='39.7'/><r x='23.2'y='31.3'w='14.9'h='37.3'/></g><g c='cxbb'><r x='22.4'y='68.6'w='14.9'h='17.4'/><r x='49.7'y='60.8'w='14.9'h='25.2'/><r x='76.7'y='67.5'w='14.9'h='18.5'/></g><g c='cxb'><r x='22.4'y='2'w='15.6'h='84'/><r x='49.4'y='2'w='15.6'h='84'/><r x='76.4'y='2'w='15.6'h='84'/><l x1='50'y1='21.1'x2='64.9'y2='21.1'/><l x1='50'y1='60.8'x2='64.9'y2='60.8'/><l x1='76.7'y1='45.4'x2='91.6'y2='45.4'/><l x1='76.7'y1='67.5'x2='91.6'y2='67.5'/><l x1='22.4'y1='31.3'x2='37.9'y2='31.3'/><l x1='22.4'y1='68.6'x2='37.9'y2='68.6'/></g><g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g>",sp_thickness:"<p c='cxtxa'd='M50,42 L58,50 L50,58 M36,42 L26,50 L36,58 M58,50 L26,50'/><g c='cxb'><r x='2'y='2'w='10'h='96'/><r x='72'y='2'w='26'h='96'/></g>",bx_violinbp:"<g c='cxb'><p  d='M64,1 Q 66,11 68,25 72,38 86,47 96,56 89,70 82,82 80,99 L 20,99 Q 18,82 11,70 4,56 14,47 28,38 32,25 34,11 36,1 Z'/></g><g c='cxa'><r x='40'y='35'w='20'h='30'/><l x1='40'y1='50'x2='60'y2='50'/><l x1='40'y1='2'x2='60'y2='2'/><l x1='50'y1='2'x2='50'y2='35'/><l x1='40'y1='98'x2='60'y2='98'/><l x1='50'y1='98'x2='50'y2='65'/></g>",cl_horizontalbg:"<g c='cxcc'><r x='0'y='0'w='100'h='33'/><r x='0'y='67'w='100'h='33'/></g>",op_more:"<g c='cxa'><c cx='50'cy='50'r='48'/></g><g c='cxb'><l x1='15'y1='50'x2='85'y2='50'/><l x1='50'y1='15'x2='50'y2='85'/></g>",v_cancel2:"<g c='cxblackb'><l x1='25'y1='25'x2='75'y2='75'/><l x1='75'y1='25'x2='25'y2='75'/></g>",bx_data:"<g c='cxb'><r x='30'y='20'w='40'h='60'/><l x1='30'y1='2'x2='70'y2='2'/><l x1='50'y1='2'x2='50'y2='20'/><l x1='30'y1='98'x2='70'y2='98'/><l x1='50'y1='98'x2='50'y2='80'/></g><g c='cxa'><r x='38'y='50'w='3'h='3'/><r x='40'y='28'w='3'h='3'/><r x='38'y='68'w='3'h='3'/><r x='50'y='40'w='3'h='3'/><r x='55'y='55'w='3'h='3'/><r x='60'y='30'w='3'h='3'/><r x='60'y='65'w='3'h='3'/></g>",bx_typerange:"<g c='cxb'><p d='M46,7 Q 46,2 51,2 56,2 56,7 L56,40 Q 63,41 64,50 63,59 56,60 L56,93 Q 56,98 51,98 46,98 46,93 L46,60 Q 39,59 38,50 39,41 46,40 Z'/></g>",p_cg1dataverticalhorizontal:"<g c='cxa'><l x1='2'y1='2'x2='2'y2='45'/><l x1='2'y1='45'x2='45'y2='45'/><l x1='53'y1='53'x2='53'y2='96'/><l x1='53'y1='96'x2='96'y2='95'/></g><g c='cxcc'><r x='9'y='20'w='10'h='24'/><r x='28'y='10'w='10'h='34'/><r x='55'y='59'w='24'h='10'/><r x='55'y='78'w='34'h='10'/></g><g c='cxaa'><t c='cxtn60 cxaa'x='53'y='51'tr='rotate(45)'>&#10555;</t><t c='cxtn60 cxaa'x='-86'y='51'tr='rotate(45) scale(-1,1)'>&#10555;</t><t c='cxtn60 cxaa'x='51'y='-22'tr='rotate(45)'>&#10554;</t><t c='cxtn60 cxaa'x='-90'y='-22'tr='rotate(45) scale(-1,1)'>&#10554;</t></g>",ch_olog10:"<t c='cxts70'x='1'y='60'>log</t><t c='cxtn40'x='55'y='85'>10</t>",g_dotline:"<g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g><g c='cxb'><y q='24.8 65.2 53.4 35.9 62.7 46.1 89.3 19.9'/></g><g c='cxb'><c cx='52'cy='67.9'r='6.6'/><c cx='82.7'cy='55.7'r='6.6'/><c cx='35.6'cy='23.4'r='6.6'/></g>",p_cg2data:"<g c='cxb'><r x='18'y='56'w='2'h='2'/><r x='26'y='32'w='2'h='2'/><r x='34'y='44'w='2'h='2'/><r x='42'y='10'w='2'h='2'/><r x='43'y='30'w='2'h='2'/><r x='50'y='80'w='2'h='2'/><r x='58'y='60'w='2'h='2'/><r x='64'y='24'w='2'h='2'/><r x='70'y='70'w='2'h='2'/><r x='74'y='48'w='2'h='2'/><r x='82'y='18'w='2'h='2'/><r x='90'y='72'w='2'h='2'/><r x='55'y='45'w='2'h='2'/><r x='40'y='60'w='2'h='2'/><r x='25'y='75'w='2'h='2'/></g>",at_colshpsze:"<g c='cxac'><r x='2'y='2'w='46'h='46'/><y q='37,85 67,36 97,85 37,85'/><c cx='31'cy='60'r='25'/></g><g c='cxab'><c cx='18'cy='82'r='15'/><r x='42'y='10'w='22'h='22'/><y q='71,53 84,33 97,53 71,53'/></g>",bx_notched:"<g c='cxa'><y q='40,50 30,40 30,20 70,20 70,40 60,50 70,60 70,80 30,80 30,60 40,50'/><l x1='40'y1='50'x2='60'y2='50'/></g><g c='cxb'><l x1='30'y1='2'x2='70'y2='2'/><l x1='50'y1='2'x2='50'y2='20'/><l x1='30'y1='98'x2='70'y2='98'/><l x1='50'y1='98'x2='50'y2='80'/></g>",b_grvt:"<g c='cxa'><r fill='url(\"#vt-grad\")'x='0'y='0'w='100'h='100'/></g>",v_cancel:"<c c='cxb'cx='50'cy='50'r='48'/><g c='cxblackb'><l x1='25'y1='25'x2='75'y2='75'/><l x1='75'y1='25'x2='25'y2='75'/></g>",b_bodygradient:"<g c='cxa'><y fill='url(\"#b-grad\")'q='78,42 78,30 48,30 48,2 2,2 2,98 78,98 78,85'/><l x1='79'y1='29'x2='48'y2='1'/></g>",op_thumbdown:"<p c='cxa'd='M 24.324 55.711 L 24.324 10.064 C 24.324 6.912 21.769 4.358 18.618 4.358 L 7.206 4.358 C 4.055 4.358 1.5 6.912 1.5 10.064 L 1.5 50.005 C 1.5 53.156 4.055 55.711 7.206 55.711 L 24.324 55.711 C 36.929 55.711 47.147 65.929 47.147 78.534 L 47.147 84.24 C 47.147 93.025 56.657 98.515 64.265 94.123 C 67.796 92.084 69.971 88.317 69.971 84.24 L 69.971 55.711 L 87.088 55.711 C 93.391 55.711 98.5 50.601 98.5 44.299 L 92.794 15.769 C 91.108 8.579 86.456 3.926 81.382 4.358 L 41.441 4.358 C 31.987 4.358 24.324 12.021 24.324 21.475'/>",p_cg2fitqq:"<g c='cxb'><l x1='10'y1='70'x2='98'y2='32'/></g><g c='cxa'><p d='M15,90 C30,25 80,75 95,10'/></g>",sv_pictures:"<g c='cxa'><p d='M59,14 Q 81,30 79,57 Q 79,89 98,98'/><c cx='35'cy='18'r='6'/><c cx='52'cy='32'r='6'/><c cx='19'cy='32'r='6'/><c cx='26'cy='50'r='6'/><c cx='46'cy='50'r='6'/></g><g c='cxb'><c cx='35'cy='35'r='32'/><c cx='35'cy='35'r='1'/></g>",ar_dcbls2:"<t c='cxtn60 cxaa'x='53'y='51'tr='rotate(45)'>&#10555;</t><t c='cxtn60 cxaa'x='-86'y='51'tr='rotate(45) scale(-1,1)'>&#10555;</t>",dtt_pivot:"<g c='cxaa'><t c='cxtn60'x='-20'y='-85'tr='rotate(135)'>&#10554;</t><t c='cxtn60'x='-20'y='-85'tr='rotate(135) scale(-1,1)'>&#10554;</t></g><g c='cxb'><r x='2'y='2'w='18'h='18'/><r x='30'y='2'w='68'h='18'/><r x='2'y='30'w='18'h='68'/></g>",c_rc:"<p fill='url(\"#rc-grad\")'d='M50,12.7c-27.6,0-50,16.1-50,36.1s22.4,36.1,50,36.1s50-16.1,50-36.1S77.6,12.7,50,12.7z M56.3,73.2c-20.5,0-37.2-11-37.2-24.3s16.7-24.3,37.2-24.3s37.2,10.9,37.2,24.3S76.9,73.2,56.3,73.2z'/><p c='clr'd='M76.8,66.5c6.9-1.7,11.5-9.9,10.1-18.5c-1.2-7.3-6.5-12.8-12.6-12.7H41.1v51.9h14.7V66.8h6.4L73,87.3h14.8L76.8,66.5z M68.2,57.2H55.3V45h12.9c3,0,5.4,2.4,5.4,5.4c0,0,0,0.1,0,0.1c0.5,3-1.5,5.9-4.5,6.6C68.8,57.2,68.5,57.2,68.2,57.2z'/>",dps_toinside:"<g c='cxa'><y q='65,30 65,2 2,2 2,98 65,98 65,70'/></g><p c='cxtxb'd='M29,38 L17,50 L29,62 M83,50 L17,50'/>",g_arealine:"<polygon c='cxbc'q='11.9 86.3 40 57.1 55 67.9 76.8 37 92.6 67.8 99.9 58.8 99.9 86 11.9 86.3'/><g c='cxb'><y q='11.9 86.3 40 57.1 55 67.9 76.8 37 92.6 67.8 99.9 58.8'/><y q='11.9 61.7 40 30 53 43.4 79.9 3.7 99.9 39.2'/></g><g c='cxa'><l x1='11.9'y1='0.1'x2='11.9'y2='100'/><l x1='99.9'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.2'x2='11.9'y2='39.2'x1='0'/><l y1='15.7'x2='11.9'y2='15.7'x1='0'/></g>",dt_max:"<g c='cxaa'><r x='88'y='6'w='10'h='87'/></g><g c='cxb'><l x1='2'y1='98'x2='100'y2='98'/><l x1='2'y1='2'x2='2'y2='98'/></g><g c='cxcc'><r x='8'y='86'w='10'h='7'/><r x='28'y='66'w='10'h='27'/><r x='48'y='46'w='10'h='47'/><r x='68'y='26'w='10'h='67'/></g>",ch_lf:"<t c='cxtb100'x='15'y='85'>F</t>",ps_topright:"<p c='cxtxb'd='M58,34 L66,34 L66,42 M34,66 L66,34'/><g c='cxa'><r x='78'y='2'w='20'h='20'rx='2'/></g>",p_g2axistitlex:"<g c='cxblue'><r x='40'y='85'w='30'h='2'/></g>",p_cg2fitquantreg:"<g c='cxa'><l x1='10'y1='90'x2='99'y2='1'/><l x1='10'y1='80'x2='84'y2='1'/><l x1='20'y1='90'x2='99'y2='16'/></g>",p_cg1datahorizontal:"<g c='cxcc'><r x='14'y='10'w='30'h='16'/><r x='14'y='38'w='80'h='16'/><r x='14'y='66'w='60'h='16'/></g>",g_scatterbubble2d:"<g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/><l x1='32.5'y1='100'x2='32.5'y2='86'/><l x1='56'y1='100'x2='56'y2='86'/><l x1='79.4'y1='100'x2='79.4'y2='86'/></g><g c='cxb'><c cx='68.1'cy='42.8'r='17.8'/><c cx='29.8'cy='45.7'r='6.9'/><c cx='43.6'cy='68.3'r='7'/><c cx='88.4'cy='14.5'r='6.7'/><c cx='34.7'cy='17.3'r='7.8'/></g>",wp_scale:"<g c='cxa'><p d='M50.2,77.2c-8,0-14.5,6.5-14.5,14.5c0,0,0,0,0,0h29C64.7,83.7,58.2,77.2,50.2,77.2C50.2,77.2,50.2,77.2,50.2,77.2z'/><c cx='50.2'cy='34.1'r='7.4'/><l x1='50.2'y1='26.8'x2='50.2'y2='8.3'/><l x1='50.2'y1='77.2'x2='50.2'y2='41.4'/><l x1='17'y1='16.9'x2='83.3'y2='16.9'/></g><g c='cxb'><p d='M2.6,49.1c-0.4,8,5.8,14.7,13.8,15.1c8,0.4,14.7-5.8,15.1-13.8c0-0.4,0-0.9,0-1.3H2.6z'/><y q='2.6,49.1 17,16.9 31.4,49.1'/><p d='M68.7,49.1c-0.4,8,5.8,14.7,13.8,15.1c8,0.4,14.7-5.8,15.1-13.8c0-0.4,0-0.9,0-1.3H68.7z'/><y q='68.7,49.1 83.1,16.9 97.5,49.1'/></g>",sv_video:"<g c='cxa'><r x='2'y='20'w='70'h='60'rx='4'/></g><g c='cxb'><y q='70,40 98,30 98,70 70,60'/></g>",tx_tonumeric:"<t c='cxtn60'x='0'y='65'>a</t><g c='cxaa'><t c='cxtn60'x='65'y='70'>#</t><t c='cxtn60'x='30'y='100'>&#10555;</t></g>",p_g2axistitley:"<g c='cxblue'><r x='0'y='25'w='3'h='25'/></g>",ch_lj:"<t c='cxtb100'x='20'y='85'>J</t>",bx_wishkersd:"<g c='cxb'><r x='35'y='30'w='30'h='40'/><l x1='35'y1='51'x2='65'y2='51'/></g><g c='cxa'><l x1='35'y1='2'x2='65'y2='2'/><l x1='50'y1='2'x2='50'y2='30'/><l x1='35'y1='98'x2='65'y2='98'/><l x1='50'y1='98'x2='50'y2='70'/></g>",lg_l:"<g c='cxa'><r x='48'y='2'w='50'h='40'/><r x='58'y='12'w='2'h='2'/><r x='58'y='22'w='2'h='2'/><r x='58'y='32'w='2'h='2'/><l x1='68'y1='12'x2='88'y2='12'/><l x1='68'y1='22'x2='88'y2='22'/><l x1='68'y1='32'x2='88'y2='32'/></g>",b_grc:"<g c='cxa'><r fill='url(\"#rad-grad\")'x='0'y='0'w='100'h='100'/></g>",fp_pencil:"<g c='cxb'><p d='M72,10 L90,27 M68,14 L86,31 M2,80 L20,98 M11,89 L77,22'/></g><g c='cxa'><p d='M74,8 Q 80,2 86,4 L96,14 Q 98,20 92,25 L20,98 L2,98 L2,80 L74,8'/></g>",a_alignbottom:"<g c='cxb'><r x='2'y='40'w='38'h='45'rx='5'/><r x='52'y='10'w='38'h='75'rx='5'/></g><g c='cxa'><l x1='1'y1='97'x2='99'y2='97'/></g>",p_g1titlesubtitle:"<g c='cxblue'><r x='45'y='0'w='20'h='2'/><r x='50'y='10'w='10'h='2'/></g>",g_circular:"<g c='cxa'><c cx='50'cy='50'r='37.9'/><l x1='23'y1='76.6'x2='16.9'y2='84.6'/><c cx='50'cy='50'r='47.9'/><c cx='50'cy='50'r='18.6'/></g><g c='cxa'><l x1='50'y1='2.2'x2='50'y2='12.1'/></g><g c='cxb'><l x1='50'y1='20.2'x2='50'y2='24'/><l x1='50'y1='79.8'x2='50'y2='76'/><l x1='79.8'y1='50'x2='76'y2='50'/><l x1='20.2'y1='50'x2='24'y2='50'/><l x1='71.1'y1='28.9'x2='68.4'y2='31.6'/><l x1='28.9'y1='71.1'x2='31.6'y2='68.4'/><l x1='71.1'y1='71.1'x2='68.4'y2='68.4'/><l x1='28.9'y1='28.9'x2='31.6'y2='31.6'/><l x1='61.3'y1='22.4'x2='59.8'y2='25.9'/><l x1='38.7'y1='77.6'x2='40.2'y2='74.1'/><l x1='77.6'y1='61.3'x2='74.1'y2='59.8'/><l x1='22.4'y1='38.7'x2='25.9'y2='40.2'/><l x1='77.5'y1='38.5'x2='74'y2='39.9'/><l x1='22.5'y1='61.6'x2='26'y2='60.1'/><l x1='61.6'y1='77.5'x2='60.1'y2='74'/><l x1='38.5'y1='22.5'x2='39.9'y2='26'/><p d='M 87.9 50 C 87.9 59.7 84.1 69.1 77.4 76.1 L 83.7 83.8 C 109.8 57.8 97.9 13.4 62.4 3.8 C 58.3 2.7 54.2 2.2 50 2.2 L 50 12.1 C 71 12.1 87.9 29.1 87.9 50 Z'/></g>",ar_l:"<p c='cxtxb'd='M20,35 L2,50 L20,65 M98,50 L2,50'/>",g_contour2:"<g c='cxc'><p d='M 56.1 92.7 L 21.1 92.7 C 17.4 92.8 14.3 89.8 14.3 86 L 14.3 82.1 C 14.3 80.4 13.1 79.1 11.4 79.1 L 11.4 79.1 C 9.8 79.1 8.4 77.7 8.4 76.2 L 8.4 29.7 L 14.3 29.7 L 14.3 22.2 L 20.3 22.2 L 20.3 18.4 L 25 18.4 L 25 13.3 L 29.9 13.3 L 29.9 8.7 L 33.6 8.7 L 33.6 5.8 L 37.8 5.8 L 37.8 2.8 L 50 2.8 L 50 6.6 L 62.5 6.6 L 62.5 10.9 L 69.1 10.9 L 69.1 15.7 L 74 15.7 L 74 20 L 77.5 20 L 77.5 27 L 82.5 27 L 82.5 34.9 L 86.2 34.9 L 86.2 50.9 L 90.8 50.9 L 90.8 69.8 L 86.5 69.8 L 86.5 80.1 L 82.5 80.1 L 82.5 90.6 C 82.5 91.8 81.5 92.7 80.2 92.7 L 80.2 92.7 C 78.9 92.7 77.9 93.8 77.9 95 L 77.9 95 C 77.9 96.3 76.9 97.3 75.6 97.3 L 60.8 97.3 C 59.6 97.3 58.6 96.3 58.6 95 L 58.6 95 C 58.6 93.7 57.5 92.6 56.1 92.7 Z'/><polygon q='63 78.5 69.8 78.5 69.8 70.7 78.5 70.7 78.5 59.1 74 59.1 74 50.6 69.5 50.6 69.5 39.4 66.7 39.4 66.7 31.7 62.5 31.7 62.5 27.5 54.2 27.5 54.2 22.9 33.9 22.9 33.9 27.4 30.1 27.3 30.1 29.8 26.2 29.8 26.2 34.7 22.8 34.7 22.8 75.1 25.4 75.1 25.4 79.2 29.5 79.2 29.5 83.1 63 83.1 63 78.5'/><polygon q='38.4 42.7 38.4 38.9 49.9 38.9 49.9 43.2 53.7 43.2 53.7 71.1 38.4 71.1 38.4 63.2 34 63.2 34 42.7 38.4 42.7'/><y q='77.9 2.9 85.9 2.9 85.9 11.4 90 11.4 90 15 93.9 15 93.9 22.9 98.2 22.9 98.2 31.2'/><y q='21.9 2.9 14 2.9 14 7.2 10.1 7.2 10.1 15.4 1.8 15.4'/></g>",p_g1samplelabels:"<g c='cxblue'><r x='38'y='75'w='5'h='2'/><r x='56'y='75'w='5'h='2'/></g>",sv_disk:"<g c='cxa'><y q='98,25 98,98 2,98 2,2 75,2 98,25'/></g><g c='cxb'><r x='27'y='58'w='50'h='40'/><r x='32'y='2'w='40'h='30'/><r x='55'y='12'w='5'h='10'/></g>",dps_tooutside:"<g c='cxa'><y q='65,30 65,2 2,2 2,98 65,98 65,70'/></g><p c='cxtxb'd='M71,38 L83,50 L71,62 M83,50 L17,50'/>",ch_onlog2:"<t c='cxts60'x='2'y='60'>-log</t><t c='cxtn30'x='78'y='85'>2</t>",sp_closer:"<p c='cxtxa'd='M66,2 L58,10 L66,18 M98,10 L58,10'/><p c='cxtxa'd='M34,2 L42,10 L34,18 M42,10 L2,10'/><g c='cxb'><r x='9'y='36'w='18'h='62'/><r x='42'y='36'w='18'h='62'/><r x='77'y='36'w='18'h='62'/></g>",c_r:"<g c='cxb'><p d='M 40.1 72.2 C 19.2 69.5 3.5 58.7 3.5 45.5 C 3.5 30.5 24.3 18.3 50.1 18.3 C 75.7 18.3 96.5 30.5 96.5 45.5 C 96.5 53.4 90.9 60.4 81.9 65.4'/><p d='M 68.7 70.6 C 64.8 71.6 60.7 72.3 56.7 72.6'/><p d='M 40.1 63.1 C 29.5 59.9 22.4 54 22.4 47.2 C 22.4 37.2 37.8 29.1 56.8 29.1 C 62.7 29.1 68.6 29.9 74.2 31.6 C 77.3 32.7 80.2 34 83 35.5'/></g><p c='cxa'd='M 80.2 62.8 C 91 60.6 95.6 47.6 88.3 39.2 C 85.6 36.1 81.5 34.3 77.4 34.3 L 40.1 34.3 L 40.1 81.7 L 56.7 81.7 L 56.7 63.1 L 63.8 63.1 L 75.9 81.7 L 92.5 81.7 Z M 70.4 54.3 L 55.9 54.3 L 55.9 43.2 L 70.4 43.2 C 74.6 42.8 77.7 47.2 75.9 51.1 C 74.9 53.2 72.8 54.5 70.4 54.3 Z'/>",c_wallstreetjournal:"<r w='100'h='100'fill='url(\"#WS-gradient\")'/><p d='M 30.1 39.9 C 30.1 40.3 30 40.6 29.9 41 C 28 48.9 26.1 56.9 24.1 64.8 L 23.2 68.6 C 23.2 68.8 23.2 69 22.8 69 C 22.3 69 22.4 68.8 22.3 68.6 L 18.2 51.7 C 16.8 46.1 15.5 40.5 14.1 34.8 L 13.9 34 C 13.7 33.1 12.8 32.3 11.9 32.3 L 10.1 32.1 L 10.1 30.9 L 21.4 30.9 C 21.9 30.9 21.9 30.9 21.9 31.5 L 21.9 32.1 L 20.6 32.3 C 19.5 32.6 19.1 33.2 19.2 34.3 C 19.4 35.6 19.7 36.9 20 38.1 L 23.9 54 C 23.9 54.7 24.2 55.3 24.4 56 C 24.4 56.2 24.4 56.3 24.4 56.4 L 24.4 56.4 C 24.4 56.1 24.4 55.8 24.7 55.5 C 26.2 49.2 27.8 43 29.4 36.9 C 29.5 36.7 29.5 36.5 29.4 36.3 C 29.2 35.5 28.9 34.7 28.7 34 C 28.3 33 27.4 32.3 26.4 32.2 L 25.7 32.2 L 25.7 31 L 36.9 31 C 37.3 31 37.4 31 37.4 31.4 C 37.4 31.6 37.4 31.9 37.4 32.1 L 35.7 32.4 L 35.4 32.4 C 34 32.7 33.6 33.3 33.9 34.7 C 34.2 36.1 34.7 38.4 35.2 40.2 L 38.9 55.8 C 38.9 56.3 39.2 56.8 39.3 57.3 L 39.3 57.3 C 39.4 57.2 39.4 57 39.5 56.8 L 41.6 47.6 C 42.6 43.5 43.5 39.3 44.5 35.2 C 44.5 34.8 44.5 34.3 44.5 33.9 C 44.6 33.4 44.3 32.9 43.9 32.6 C 43.1 32.4 42.3 32.3 41.5 32.2 L 41.2 32.2 C 41.1 31.9 41.1 31.5 41.2 31.2 C 41.2 31.2 41.4 31 41.5 31 L 49.5 31 C 49.9 31 50 31 50 31.4 C 49.9 31.7 49.9 31.9 50 32.2 L 49.4 32.2 C 47.9 32.3 46.6 33.4 46.3 35 C 45.8 37.3 45.2 39.6 44.6 41.9 C 43.5 46.7 42.3 51.4 41.2 56.1 C 40.2 60.3 39.2 64.4 38.3 68.5 C 38.3 68.7 38.3 69 37.8 69 C 37.4 69 37.4 69 37.4 68.6 L 35.1 59.5 C 33.8 54 32.4 48.6 31.1 43.2 C 30.9 42.3 30.7 41.3 30.4 40.4 L 30.4 40 Z'/><p d='M 50.3 56.6 C 51.1 56.6 51.1 56.6 51.5 57.1 C 52.7 59.8 54.3 62.4 56.2 64.6 C 57.2 65.9 58.6 67 60.1 67.7 C 61.2 68.3 62.6 68.3 63.7 67.7 C 64.6 67.2 65.3 66.3 65.5 65.3 C 66.5 62.5 66 59.5 64.1 57.2 C 62.8 55.5 61.3 54.1 59.6 52.8 C 57.6 51.4 55.8 49.8 54 48 C 51.9 45.8 50.7 42.9 50.6 39.9 C 50.6 37.4 51.5 35 53.1 33.1 C 55.4 30.6 59 30 61.9 31.7 C 62.6 32.1 63.2 32.5 63.8 32.9 L 64.4 33.4 C 64.9 33.7 65.5 33.7 65.9 33.4 C 66.3 32.9 66.7 32.4 67 31.8 C 67.3 31.4 67.3 31.3 67.9 31.5 L 67.9 41.8 C 67.9 42 67.9 42.3 67.7 42.3 C 67.4 42.3 67 42.3 66.9 42 C 66.1 39.5 64.8 37.1 63.2 35 C 62.5 34 61.5 33.2 60.4 32.6 C 57.8 31.2 54.6 32.9 54.3 35.8 C 53.8 38.2 54.4 40.7 56 42.5 C 57.2 44 58.6 45.3 60.1 46.5 C 62.3 48.2 64.3 50 66.3 51.9 C 68 53.6 69.1 55.8 69.4 58.2 C 70 61.3 69.3 64.4 67.5 67 C 65.7 69.4 62.6 70.3 59.8 69.3 C 58.3 68.7 56.9 68 55.7 67 C 55.6 66.8 55.4 66.7 55.2 66.6 C 54.4 66 54 66 53.2 66.6 C 52.6 67.2 52.1 67.9 51.6 68.6 C 51.4 68.9 50.9 69.1 50.7 68.9 C 50.6 68.8 50.6 68.7 50.7 68.6 L 50.7 56.6 Z'/><p d='M 77.2 32.1 L 77.2 31 L 89.9 31 C 90 31.3 90 31.6 89.9 31.9 C 89.8 32 89.7 32 89.6 31.9 C 89 31.9 88.3 31.9 87.7 31.9 C 86.9 32 86.3 32.5 86.3 33.3 C 86.3 33.6 86.3 34 86.3 34.3 L 86.3 60.1 C 86.4 62.1 85.8 64 84.6 65.7 C 83.2 67.7 80.9 69 78.4 69 C 76.1 69.2 73.9 68.1 72.8 66.1 C 71.5 64.1 71.5 61.5 72.8 59.4 C 73.4 58.4 74.5 57.8 75.6 57.8 C 76.6 57.7 77.6 58.4 77.9 59.3 C 78.4 60.3 78.3 61.5 77.5 62.3 C 77 62.8 76.4 63.2 75.8 63.6 C 74.6 64.4 74.4 65.3 75.1 66.7 C 75.6 67.5 76.4 67.9 77.2 67.9 C 77.7 68 78.2 68 78.7 67.9 C 79.6 67.7 80.4 67 80.7 66.1 C 80.9 65.2 81.1 64.2 81.2 63.3 C 81.2 61.8 81.2 60.4 81.2 58.9 L 81.2 34.9 C 81.2 34.4 81.2 33.9 81.2 33.4 C 81.1 32.9 80.6 32.4 80.1 32.3 C 79.4 32.2 78.8 32.2 78.1 32.1 Z'/>",ps_toloc2:"<p c='cxtxb'd='M35,80 L50,98 L65,80 M35,20 L50,2 L65,20 M50,98 L50,2'/><p c='cxtxb'd='M80,35 L98,50 L80,65 M20,35 L2,50 L20,65 M98,50 L2,50'/><g c='cxaa'><r x='36'y='36'w='25'h='25'/></g>",mr_right:"<g c='cxa'><l x1='77'y1='2'x2='77'y2='98'/></g>",p_g2citation:"<g c='cxblue'><r x='75'y='95'w='20'h='2'/></g>",p_cg2contourfilled:"<g c='cxc'><p d='M 56.1 92.7 L 21.1 92.7 C 17.4 92.8 14.3 89.8 14.3 86 L 14.3 82.1 C 14.3 80.4 13.1 79.1 11.4 79.1 L 11.4 79.1 C 9.8 79.1 8.4 77.7 8.4 76.2 L 8.4 29.7 L 14.3 29.7 L 14.3 22.2 L 20.3 22.2 L 20.3 18.4 L 25 18.4 L 25 13.3 L 29.9 13.3 L 29.9 8.7 L 33.6 8.7 L 33.6 5.8 L 37.8 5.8 L 37.8 2.8 L 50 2.8 L 50 6.6 L 62.5 6.6 L 62.5 10.9 L 69.1 10.9 L 69.1 15.7 L 74 15.7 L 74 20 L 77.5 20 L 77.5 27 L 82.5 27 L 82.5 34.9 L 86.2 34.9 L 86.2 50.9 L 90.8 50.9 L 90.8 69.8 L 86.5 69.8 L 86.5 80.1 L 82.5 80.1 L 82.5 90.6 C 82.5 91.8 81.5 92.7 80.2 92.7 L 80.2 92.7 C 78.9 92.7 77.9 93.8 77.9 95 L 77.9 95 C 77.9 96.3 76.9 97.3 75.6 97.3 L 60.8 97.3 C 59.6 97.3 58.6 96.3 58.6 95 L 58.6 95 C 58.6 93.7 57.5 92.6 56.1 92.7 Z'/></g><g c='cxcc'><polygon q='63 78.5 69.8 78.5 69.8 70.7 78.5 70.7 78.5 59.1 74 59.1 74 50.6 69.5 50.6 69.5 39.4 66.7 39.4 66.7 31.7 62.5 31.7 62.5 27.5 54.2 27.5 54.2 22.9 33.9 22.9 33.9 27.4 30.1 27.3 30.1 29.8 26.2 29.8 26.2 34.7 22.8 34.7 22.8 75.1 25.4 75.1 25.4 79.2 29.5 79.2 29.5 83.1 63 83.1 63 78.5'/></g><g c='cxbb'><polygon q='38.4 42.7 38.4 38.9 49.9 38.9 49.9 43.2 53.7 43.2 53.7 71.1 38.4 71.1 38.4 63.2 34 63.2 34 42.7 38.4 42.7'/></g><g c='cxc'><y q='77.9 2.9 85.9 2.9 85.9 11.4 90 11.4 90 15 93.9 15 93.9 22.9 98.2 22.9 98.2 31.2'/><y q='21.9 2.9 14 2.9 14 7.2 10.1 7.2 10.1 15.4 1.8 15.4'/></g>",ch_ll:"<t c='cxtb100'x='15'y='85'>L</t>",h_hcell:"<g c='cxa'><r x='42'y='26'w='26'h='18'/></g>",p_g2:"<g c='cxc'><r x='45'y='0'w='30'h='2'/><r x='50'y='10'w='20'h='2'/><r x='35'y='30'w='4'h='4'/><r x='85'y='40'w='4'h='4'/><r x='45'y='50'w='4'h='4'/><r x='40'y='85'w='30'h='2'/><r x='0'y='25'w='3'h='25'/><l x1='25'y1='65'x2='95'y2='65'/><l x1='25'y1='65'x2='25'y2='75'/><l x1='45'y1='65'x2='45'y2='75'/><l x1='65'y1='65'x2='65'y2='75'/><l x1='85'y1='65'x2='85'y2='75'/><l x1='25'y1='15'x2='25'y2='75'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/><r x='75'y='95'w='20'h='2'/></g>",ch_olog:"<t c='cxts100'x='1'y='70'>log</t>",wp_threebars4:"<g c='cxbms'><r x='2'y='15'w='96'h='8'/><r x='2'y='48'w='96'h='8'/><r x='2'y='81'w='96'h='8'/></g>",ch_lv:"<t c='cxtb100'x='15'y='85'>V</t>",g_bubble:"<g c='cxa'><c cx='50'cy='50'r='47.4'/><c cx='63.6'cy='65.7'r='10.7'/><c cx='36.4'cy='36'r='11.3'/><c cx='35.6'cy='82.2'r='5.8'/><c cx='82'cy='41.6'r='4.6'/></g><g c='cxb'><c cx='37.2'cy='35.3'r='20'/><c cx='63.6'cy='65.7'r='20'/><c cx='67.8'cy='25.7'r='10.7'/><c cx='21'cy='61.9'r='10.7'/></g>",v_play:"<c c='cxb'cx='50'cy='50'r='48'/><t c='cxtn70'x='25'y='77'>&#9654;</t>",cr_bezier:"<g c='cxa'><p d='M1,99 C25,25 75,75 99,1'/></g>",v_stop:"<c c='cxb'cx='50'cy='50'r='48'/><t c='cxtn70'x='14'y='77'>&#9726;</t>",p_ghsubtitle:"<g c='cxblue'><r x='55'y='10'w='20'h='2'/></g>",g_meter:"<g c='cxa'><p d='M 23.6 30.4 C 36.7 13.6 62 13.2 75.7 29.5 L 87.3 21.9 C 67.9 -3 30.2 -2.3 11.7 23.2 Z'/><p d='M 91.7 28.4 L 80 36.1 C 87.1 50.3 83.3 67.5 70.8 77.3 L 70.8 93.6 C 95.1 81.8 104.6 52.1 91.7 28.4 Z'/><l x1='44.3'y1='33.5'x2='44.3'y2='40.6'/><l x1='54.7'y1='33.5'x2='54.7'y2='40.6'/><y q='40.3 80.2 44.6 80.2 44.6 96.3'/><r x='51.6'y='80.2'w='8.2'h='14.1'/></g><g c='cxb'><p d='M 28.2 76.5 C 16.8 66.8 13.3 50.7 19.5 37.1 L 7.6 29.9 C -4.1 53 5.1 81.3 28.2 93.2 Z'/><c cx='49.5'cy='65.4'r='7.3'/><l x1='54'y1='59.7'x2='70.9'y2='37.8'/></g>",p_g3axisx:"<g c='cxblue'><l x1='25'y1='65'x2='95'y2='65'/><l x1='25'y1='65'x2='25'y2='75'/><l x1='45'y1='65'x2='45'y2='75'/><l x1='65'y1='65'x2='65'y2='75'/><l x1='85'y1='65'x2='85'y2='75'/></g>",ps_toloc:"<g c='cxb'><r x='2'y='2'w='25'h='25'/><r x='34'y='2'w='25'h='25'/><r x='67'y='2'w='25'h='25'/><r x='2'y='34'w='25'h='25'/><r x='67'y='34'w='25'h='25'/><r x='2'y='67'w='25'h='25'/><r x='34'y='67'w='25'h='25'/><r x='67'y='67'w='25'h='25'/></g><g c='cxaa'><r x='34'y='34'w='25'h='25'/></g>",ch_li:"<t c='cxtb100'x='35'y='85'>I</t>",ps_topleft:"<p c='cxtxb'd='M34,42 L34,34 L42,34 M34,34 L66,66'/><g c='cxa'><r x='2'y='2'w='20'h='20'rx='2'/></g>",b_window:"<y c='cxa'q='65,45 65,30 48,30 48,15 15,15 15,83 68,83 45,65 65,45'/>",wp_installation:"<g c='cxa'><p d='M 65.2 51.9 C 82.4 58.5 100.3 43.9 97.4 25.7 C 97.1 23.8 96.5 21.8 95.8 20 L 83.3 32.5 L 73.5 29.8 L 70.8 19.9 L 83.2 7.5 C 66.2 0.3 47.8 14.1 50 32.4 C 50.3 35.1 51.1 37.7 52.3 40.1'/><y q='35 57.1 10.1 82 22.6 94.5 41.3 75.7'/></g><g c='cxb'><r x='62.8'y='52'w='17.8'h='39.3'tr='matrix(0.707107,-0.707107,0.707107,0.707107,-30.578448,74.020113)'/><l x1='43.9'y1='73.2'x2='70'y2='47.1'/><polygon q='28.5 15.7 12.1 5.5 2.3 15.3 12.5 31.7 19.4 30.6 53.1 64.2 61 56.3 27.4 22.6 28.5 15.7'/></g>",p_cg2fitkmconf:"<g c='cxcc'><y q='10,2 40,2 40,10 65,10 65,30 85,30 85,52 98,52 98,87 66,87 66,68 54,68 54,58 42,58 42,42 30,42 30,36 10,36'/></g>",ch_oy:"<t c='cxti100'x='25'y='65'>y</t>",dps_inout:"<g c='cxa'><y q='65,30 65,2 2,2 2,98 65,98 65,70'/></g><p c='cxtxb'd='M71,38 L83,50 L71,62 M29,38 L17,50 L29,62 M83,50 L17,50'/>",dt_min:"<g c='cxaa'><r x='8'y='86'w='7'h='10'/></g><g c='cxb'><l x1='2'y1='98'x2='100'y2='98'/><l x1='2'y1='2'x2='2'y2='98'/></g><g c='cxcc'><r x='28'y='66'w='10'h='27'/><r x='48'y='46'w='10'h='47'/><r x='68'y='26'w='10'h='67'/><r x='88'y='6'w='10'h='87'/></g>",ar_lm:"<p c='cxtxb'd='M29,38 L17,50 L29,62 M83,50 L17,50'/>",b_body:"<g c='cxa'><y q='78,42 78,30 48,30 48,2 2,2 2,98 78,98 78,85'/><l x1='79'y1='29'x2='48'y2='1'/></g>",p_cg2datacor:"<g c='cxb'><r x='20'y='68'w='2'h='2'/><r x='25'y='80'w='2'h='2'/><r x='30'y='61'w='2'h='2'/><r x='35'y='71'w='2'h='2'/><r x='40'y='49'w='2'h='2'/><r x='45'y='60'w='2'h='2'/><r x='50'y='37'w='2'h='2'/><r x='55'y='51'w='2'h='2'/><r x='60'y='30'w='2'h='2'/><r x='65'y='44'w='2'h='2'/><r x='70'y='19'w='2'h='2'/><r x='75'y='30'w='2'h='2'/><r x='80'y='6'w='2'h='2'/><r x='85'y='21'w='2'h='2'/><r x='90'y='2'w='2'h='2'/><r x='95'y='15'w='2'h='2'/></g>",c_rr:"<g c='cxb'><p d='M 50 15.2 C 23.4 15.2 1.8 30.7 1.8 50 C 1.8 69.2 23.4 84.8 50 84.8 C 76.6 84.8 98.1 69.2 98.1 50 C 98.1 30.7 76.6 15.2 50 15.2 Z M 56 73.5 C 36.3 73.5 20.2 62.9 20.2 50.1 C 20.2 37.3 36.3 26.7 56 26.7 C 75.8 26.7 91.9 37.2 91.9 50.1 C 91.9 63 75.9 73.5 56 73.5 Z'/></g><g c='cxaw'><p d='M 80.6 73.4 C 85.8 72.1 89.2 65.9 88.1 59.5 C 87.2 54 83.2 50 78.6 50 L 53.8 50 L 53.8 89 L 64.8 89 L 64.8 73.7 L 69.6 73.7 L 77.8 89 L 88.8 89 L 80.6 73.4 Z M 74 66.4 L 64.3 66.4 L 64.3 57.3 L 74 57.3 C 76.2 57.3 78 59.1 78 61.3 C 78 61.4 78 61.4 78 61.5 C 78.4 63.8 76.9 66 74.6 66.5 C 74.5 66.5 74.3 66.5 74 66.4 Z'/><p d='M 38.7 34.4 C 43.9 33.1 47.3 26.9 46.2 20.5 C 45.3 15 41.3 11 36.7 11 L 11.9 11 L 11.9 50 L 22.9 50 L 22.9 34.7 L 27.7 34.7 L 35.9 50 L 46.9 50 L 38.7 34.4 Z M 32.1 27.4 L 22.4 27.4 L 22.4 18.3 L 32.1 18.3 C 34.3 18.3 36.1 20.1 36.1 22.3 C 36.1 22.4 36.1 22.4 36.1 22.5 C 36.5 24.8 35 27 32.7 27.5 C 32.6 27.5 32.4 27.5 32.1 27.4 Z'/></g>",g_pie:"<g c='cxcc'><p d='M 49.5 50 L 49.5 3.2 C 26.2 3.4 3.1 19 2.5 50 C 2.4 60.7 5.8 71 12.3 79.5 Z'/></g><g c='cxbb'><p d='M 96 62 L 49.5 50 L 12.3 79.5 C 34.4 107.5 86.6 101.6 96 62 Z'/></g><g c='cxb'><y q='49.5 3.2 49.5 50 12.3 79.5'/><l x1='96'y1='62.3'x2='49.5'y2='50'/></g><g c='cxa'><p d='M 97.6 50 C 96.5 112.5 3.5 112.5 2.5 50 C 3.5 -12.5 96.5 -12.5 97.6 50 Z'/></g>",ch_cshift:"<t c='cxtb100'x='-10'y='85'>&#8679;</t>",sp_spacing:"<p c='cxtxa'd='M86,2 L98,14 L86,26 M14,2 L2,14 L14,26 M98,14 2,14'/><g c='cxb'><r x='2'y='36'w='18'h='62'/><r x='27'y='36'w='18'h='62'/><r x='52'y='36'w='18'h='62'/><r x='77'y='36'w='18'h='62'/></g>",tx_shadow:"<p fill='url(\"#ts-grad\")'d='M100,52.3l-11.7,9.8h-1.6c1.3-1.4,2.2-3,2.7-4.9c0-1-0.6-1.8-1.8-2.3c-1.7-0.4-3.5-0.6-5.2-0.5H78L44.8,82.3c-1.4,0.9-2.6,2.1-3.6,3.3c-0.2,0.4-0.1,0.8,0.5,1.2c1.1,0.4,2.2,0.6,3.3,0.5h2l-1.2,1H14.9l1.2-1h2c1.6,0,3.2-0.2,4.8-0.5c1.2-0.3,2.3-0.7,3.3-1.3c1.6-1,3.1-2.1,4.5-3.3l33.2-27.9h-4.3c-3.6,0-7.1,0.5-10.5,1.5c-4.3,1.5-8.4,3.6-12.1,6.2h-1.7L47,52.2L100,52.3z'/><g c='cxaa'><p d='M69.1,11.5v20.8h-2c-0.8-3.7-2.1-7.2-4-10.4c-1.6-2.2-3.7-3.9-6.2-5c-2.4-0.8-5-1.2-7.6-1h-5.6v59.4c-0.2,2.5,0.1,5,0.6,7.4c0.6,1.1,1.5,2,2.5,2.6c1.6,0.8,3.4,1.2,5.2,1.1h2.5v2.1H14.5v-2.1h2.6c1.8,0,3.6-0.4,5.2-1.2c1.1-0.6,1.9-1.6,2.3-2.7c0.6-2.3,0.8-4.8,0.6-7.2V16h-5.6c-4.1-0.4-8.1,0.8-11.3,3.3c-3.5,3.5-5.7,8.1-6.3,13.1H0V11.5H69.1z'/></g>",ps_bottomright:"<p c='cxtxb'd='M66,58 L66,66 L56,66 M34,34 L66,66'/><g c='cxa'><r x='78'y='78'w='20'h='20'rx='2'/></g>",p_cg2datahist:"<g c='cxcc'><r x='17'y='54'w='7'h='34'/><r x='31'y='34'w='7'h='54'/><r x='45'y='14'w='7'h='74'/><r x='59'y='20'w='7'h='68'/><r x='73'y='39'w='7'h='49'/><r x='87'y='56'w='7'h='32'/></g>",at_palette:"<p c='cxb'd='M2,50 C 2,25 25,2 50,2 C 73,2 98,25 98,50 C 98,57 97,63 90,63 C 90,53 81,53 78,60 C 92,79 73,98 50,98 C 25,98 2,75 2,50'/><g c='cxa'><c cx='20'cy='45'r='8'/><c cx='35'cy='25'r='8'/><c cx='63'cy='23'r='8'/><c cx='80'cy='40'r='8'/><p d='M50,75 C 65,75 65,88 50,88 C 35,88 35,75 50,75'/></g>",tb_stripped:"<g c='cxcc'><r x='2'y='26'w='96'h='24'/><r x='2'y='74'w='96'h='24'/></g><g c='cxb'><l x1='2'y1='26'x2='98'y2='26'/><l x1='2'y1='50'x2='98'y2='50'/><l x1='2'y1='74'x2='98'y2='74'/><l x1='34'y1='26'x2='34'y2='98'/><l x1='66'y1='26'x2='66'y2='98'/></g><g c='cxa'><r x='2'y='2'w='96'h='96'/><r x='12'y='12'w='3'h='3'/><r x='24'y='12'w='3'h='3'/><r x='36'y='12'w='3'h='3'/></g>",p_cg3axes:"<g c='cxb'><l x1='10'y1='2'x2='10'y2='98'/><l x1='2'y1='10'x2='10'y2='10'/><l x1='2'y1='30'x2='10'y2='30'/><l x1='2'y1='50'x2='10'y2='50'/><l x1='2'y1='70'x2='10'y2='70'/><l x1='2'y1='90'x2='98'y2='90'/><l x1='10'y1='90'x2='10'y2='98'/><l x1='30'y1='90'x2='30'y2='98'/><l x1='50'y1='90'x2='50'y2='98'/><l x1='70'y1='90'x2='70'y2='98'/><l x1='90'y1='90'x2='90'y2='98'/><l x1='10'y1='90'x2='70'y2='30'/><l x1='55'y1='45'x2='65'y2='45'/><l x1='40'y1='60'x2='50'y2='60'/><l x1='25'y1='75'x2='35'y2='75'/></g>",op_chat2:"<p c='cxb2'd='M 98.093 53.768 C 98.093 50.375 95.457 47.565 92.069 47.349 C 88.683 47.134 85.709 49.587 85.281 52.955 C 84.853 56.322 87.111 59.443 90.444 60.085 L 90.444 67.126 C 89.568 66.764 88.643 66.538 87.7 66.453 L 87.7 66.449 C 87.7 62.558 84.477 59.302 80.584 59.302 L 70.645 59.302 L 70.645 55.594 C 70.651 55.229 70.584 54.867 70.448 54.53 C 70.312 54.19 70.111 53.883 69.854 53.625 C 69.597 53.367 69.288 53.165 68.95 53.027 C 68.612 52.891 68.25 52.824 67.887 52.832 L 59.666 52.832 L 59.666 49.052 C 59.666 48.403 59.138 47.878 58.488 47.878 C 57.842 47.878 57.314 48.403 57.314 49.052 L 57.314 52.832 L 49.047 52.832 C 47.481 52.832 46.138 54.028 46.138 55.594 L 46.138 59.302 L 36.347 59.302 C 32.457 59.302 29.28 62.558 29.28 66.449 L 29.28 89.687 C 29.289 93.583 32.449 96.739 36.347 96.744 L 80.584 96.744 C 84.477 96.744 87.7 93.578 87.7 89.687 L 87.7 89.686 C 93.642 89.064 98.147 84.042 98.124 78.068 C 98.124 74.003 96.128 70.416 92.795 68.327 L 92.795 60.085 C 95.879 59.573 98.126 56.892 98.093 53.768 Z M 48.491 55.594 C 48.491 55.326 48.778 55.185 49.047 55.185 L 67.887 55.185 C 67.941 55.178 67.999 55.183 68.05 55.2 C 68.103 55.218 68.151 55.248 68.191 55.286 C 68.269 55.369 68.307 55.481 68.292 55.594 L 68.292 59.302 L 48.491 59.302 L 48.491 55.594 Z M 85.346 89.687 C 85.318 92.293 83.194 94.394 80.584 94.392 L 36.347 94.392 C 33.748 94.387 31.641 92.286 31.633 89.687 L 31.633 66.449 C 31.633 63.855 33.754 61.653 36.347 61.653 L 80.584 61.653 C 83.178 61.653 85.346 63.855 85.346 66.449 L 85.346 89.687 Z M 95.846 78.068 C 95.846 82.81 92.209 86.737 87.7 87.316 L 87.7 68.819 C 92.209 69.398 95.846 73.324 95.846 78.068 Z M 87.643 53.768 C 87.643 51.518 89.465 49.694 91.717 49.694 C 93.966 49.694 95.79 51.518 95.79 53.768 C 95.79 56.019 93.966 57.842 91.717 57.842 C 89.466 57.84 87.644 56.015 87.643 53.768 Z'></p><p c='cxb2'd='M 43.974 71.846 L 42.814 71.846 C 40.635 71.876 38.887 73.648 38.887 75.825 L 38.887 79.176 C 38.887 79.827 39.419 80.276 40.068 80.276 L 46.717 80.276 C 47.367 80.276 47.903 79.827 47.903 79.176 L 47.903 75.825 C 47.902 73.648 46.15 71.876 43.974 71.846 Z M 45.551 77.924 L 41.238 77.924 L 41.238 75.825 C 41.238 75.403 41.402 74.996 41.697 74.693 C 41.991 74.388 42.391 74.212 42.814 74.199 L 43.974 74.199 C 44.396 74.212 44.798 74.388 45.094 74.693 C 45.386 74.996 45.551 75.401 45.551 75.825 L 45.551 77.924 Z M 74.119 71.846 L 72.959 71.846 C 70.798 71.846 69.076 73.663 69.076 75.825 L 69.076 79.176 C 69.073 79.325 69.103 79.473 69.158 79.608 C 69.215 79.746 69.299 79.87 69.406 79.974 C 69.515 80.078 69.641 80.156 69.779 80.209 C 69.917 80.262 70.065 80.282 70.213 80.276 L 76.865 80.276 C 77.516 80.276 78.093 79.825 78.093 79.176 L 78.093 75.823 C 78.07 73.64 76.306 71.871 74.119 71.846 Z M 75.74 77.924 L 71.428 77.924 L 71.428 75.825 C 71.428 74.96 72.095 74.199 72.959 74.199 L 74.119 74.199 C 74.547 74.21 74.953 74.385 75.255 74.687 C 75.557 74.99 75.731 75.398 75.74 75.825 L 75.74 77.924 Z M 65.116 83.218 L 51.817 83.218 C 51.167 83.218 50.649 83.835 50.649 84.484 L 50.649 85.645 C 50.651 86.515 50.824 87.377 51.16 88.18 C 51.497 88.983 51.986 89.71 52.606 90.324 C 53.224 90.937 53.959 91.421 54.766 91.749 C 55.571 92.076 56.434 92.241 57.306 92.236 L 59.627 92.236 C 63.302 92.236 66.33 89.321 66.33 85.645 L 66.33 84.484 C 66.325 84.158 66.196 83.848 65.971 83.613 C 65.747 83.376 65.441 83.236 65.116 83.218 Z M 59.627 89.882 L 57.306 89.882 C 54.933 89.882 53.001 88.119 52.993 85.57 L 63.939 85.57 C 63.932 88.119 62.001 89.882 59.627 89.882 Z'></p><p c='cxa2'd='M 71.23 40.244 L 71.23 10.506 C 71.23 6.821 68.167 3.821 64.48 3.821 L 8.642 3.821 C 7.769 3.823 6.902 3.999 6.097 4.335 C 5.292 4.674 4.559 5.169 3.945 5.79 C 3.332 6.41 2.845 7.147 2.516 7.956 C 2.191 8.768 2.022 9.632 2.031 10.506 L 2.031 40.244 C 2.016 42.011 2.703 43.712 3.944 44.97 C 5.186 46.227 6.874 46.94 8.642 46.95 L 10.883 46.95 C 11.051 46.942 11.216 46.996 11.348 47.096 C 11.482 47.196 11.575 47.342 11.613 47.505 C 12.852 54.516 17.448 56.626 18.436 57.006 C 18.611 57.099 18.806 57.148 19.005 57.146 C 19.064 57.146 19.121 57.14 19.178 57.132 C 19.426 57.092 19.661 56.979 19.843 56.804 C 20.028 56.629 20.155 56.403 20.208 56.154 C 20.33 55.616 20.408 55.069 20.44 54.517 C 20.796 50.684 21.551 46.95 26.399 46.95 L 64.48 46.95 C 68.187 46.941 71.198 43.953 71.23 40.244 Z M 18.108 54.19 C 16.754 53.284 14.662 51.259 13.931 47.101 C 13.798 46.391 13.42 45.753 12.864 45.294 C 12.306 44.836 11.605 44.589 10.883 44.597 L 8.642 44.597 C 8.076 44.593 7.516 44.477 6.995 44.256 C 6.474 44.034 6 43.712 5.607 43.306 C 5.209 42.901 4.899 42.424 4.689 41.899 C 4.48 41.373 4.376 40.81 4.384 40.244 L 4.384 10.506 C 4.376 9.942 4.48 9.381 4.69 8.856 C 4.9 8.332 5.213 7.854 5.609 7.451 C 6.005 7.048 6.478 6.73 6.999 6.511 C 7.518 6.289 8.076 6.176 8.642 6.173 L 64.48 6.173 C 66.87 6.173 68.879 8.118 68.879 10.506 L 68.879 40.244 C 68.849 42.653 66.89 44.59 64.48 44.597 L 26.399 44.597 C 19.096 44.597 18.385 51.226 18.108 54.19 Z'></p><p c='cxa2'd='M 63.102 28.327 L 48.985 28.327 C 48.335 28.327 47.811 28.854 47.811 29.504 C 47.811 30.152 48.335 30.677 48.985 30.677 L 63.102 30.677 C 63.753 30.677 64.281 30.152 64.281 29.504 C 64.281 28.854 63.753 28.327 63.102 28.327 Z M 20.067 28.327 C 19.76 28.333 19.465 28.46 19.249 28.678 C 19.035 28.898 18.911 29.195 18.911 29.504 C 18.911 29.81 19.035 30.109 19.249 30.327 C 19.465 30.547 19.76 30.675 20.067 30.677 L 42.317 30.677 C 42.967 30.677 43.494 30.152 43.494 29.504 C 43.494 28.854 42.967 28.327 42.317 28.327 L 20.067 28.327 Z M 10.018 30.677 L 14.875 30.677 C 15.524 30.677 16.051 30.152 16.051 29.504 C 16.051 28.854 15.524 28.327 14.875 28.327 L 10.018 28.327 C 9.711 28.333 9.417 28.46 9.201 28.678 C 8.985 28.898 8.864 29.195 8.864 29.504 C 8.864 29.81 8.985 30.109 9.201 30.327 C 9.417 30.547 9.711 30.675 10.018 30.677 Z M 63.102 21.464 L 59.418 21.464 C 59.109 21.472 58.817 21.597 58.6 21.818 C 58.385 22.036 58.262 22.332 58.262 22.642 C 58.262 22.951 58.385 23.247 58.6 23.466 C 58.817 23.685 59.109 23.812 59.418 23.817 L 63.102 23.817 C 63.753 23.817 64.281 23.291 64.281 22.642 C 64.281 21.993 63.753 21.464 63.102 21.464 Z M 54.255 23.817 C 54.905 23.817 55.432 23.291 55.432 22.642 C 55.432 21.993 54.905 21.464 54.255 21.464 L 48.085 21.464 C 47.777 21.472 47.482 21.597 47.267 21.818 C 47.049 22.036 46.93 22.332 46.93 22.642 C 46.93 22.951 47.049 23.247 47.267 23.466 C 47.482 23.685 47.777 23.812 48.085 23.817 L 54.255 23.817 Z M 10.018 23.817 L 42.882 23.817 C 43.532 23.817 44.057 23.291 44.057 22.642 C 44.057 21.993 43.532 21.464 42.882 21.464 L 10.018 21.464 C 9.711 21.472 9.417 21.597 9.201 21.818 C 8.985 22.036 8.864 22.332 8.864 22.642 C 8.864 22.951 8.985 23.247 9.201 23.466 C 9.417 23.685 9.711 23.812 10.018 23.817 Z M 63.102 13.231 L 60.123 13.231 C 59.815 13.238 59.521 13.363 59.307 13.583 C 59.089 13.802 58.969 14.1 58.969 14.408 C 58.969 14.716 59.089 15.012 59.307 15.231 C 59.521 15.452 59.815 15.577 60.123 15.583 L 63.102 15.583 C 63.753 15.583 64.281 15.057 64.281 14.408 C 64.281 13.757 63.753 13.231 63.102 13.231 Z M 42.129 15.583 L 54.89 15.583 C 55.541 15.583 56.068 15.057 56.068 14.408 C 56.068 13.757 55.541 13.231 54.89 13.231 L 42.129 13.231 C 41.479 13.231 40.951 13.757 40.951 14.408 C 40.951 15.057 41.479 15.583 42.129 15.583 Z M 10.018 15.583 L 36.922 15.583 C 37.573 15.583 38.099 15.057 38.099 14.408 C 38.099 13.757 37.573 13.231 36.922 13.231 L 10.018 13.231 C 9.711 13.238 9.417 13.363 9.201 13.583 C 8.985 13.802 8.864 14.1 8.864 14.408 C 8.864 14.716 8.985 15.012 9.201 15.231 C 9.417 15.452 9.711 15.577 10.018 15.583 Z M 49.34 35.189 L 48.767 35.189 C 48.46 35.194 48.166 35.321 47.952 35.54 C 47.735 35.759 47.613 36.055 47.613 36.363 C 47.613 36.671 47.735 36.967 47.952 37.186 C 48.166 37.409 48.46 37.533 48.767 37.54 L 49.34 37.54 C 49.988 37.54 50.515 37.014 50.515 36.363 C 50.515 35.715 49.988 35.189 49.34 35.189 Z M 43.991 35.189 L 33.792 35.189 C 33.483 35.194 33.19 35.321 32.973 35.54 C 32.759 35.759 32.636 36.055 32.636 36.363 C 32.636 36.671 32.759 36.967 32.973 37.186 C 33.19 37.409 33.483 37.533 33.792 37.54 L 43.991 37.54 C 44.642 37.54 45.169 37.014 45.169 36.363 C 45.169 35.715 44.642 35.189 43.991 35.189 Z M 27.287 35.189 L 10.018 35.189 C 9.711 35.194 9.417 35.321 9.201 35.54 C 8.985 35.759 8.864 36.055 8.864 36.363 C 8.864 36.671 8.985 36.967 9.201 37.186 C 9.417 37.409 9.711 37.533 10.018 37.54 L 27.287 37.54 C 27.933 37.54 28.461 37.014 28.461 36.363 C 28.461 35.715 27.933 35.189 27.287 35.189 Z'></p>",sl_lightbulboff:"<g c='cxb'><p d='M75.4,50.1C75.4,36,64,24.7,50,24.7S24.6,36.1,24.6,50.1c0,7.4,3.2,14.3,8.7,19.2c3.3,2.9,5.3,7.1,5.3,11.5h22.7c0-4.5,2-8.8,5.5-11.7C72.2,64.3,75.4,57.3,75.4,50.1z'/><p d='M38.7,80.8h22.9l0,0v8.6c0,4.5-3.7,8.2-8.2,8.2l0,0h-6.5c-4.5,0-8.2-3.7-8.2-8.2l0,0L38.7,80.8L38.7,80.8z'/></g>",tb_table:"<g c='cxa'><r x='2'y='2'w='96'h='96'/><r x='12'y='12'w='3'h='3'/><r x='24'y='12'w='3'h='3'/><r x='36'y='12'w='3'h='3'/></g><g c='cxb'><l x1='2'y1='26'x2='98'y2='26'/><l x1='2'y1='50'x2='98'y2='50'/><l x1='2'y1='74'x2='98'y2='74'/><l x1='34'y1='26'x2='34'y2='98'/><l x1='66'y1='26'x2='66'y2='98'/></g>",a_distributever:"<g c='cxb'><r x='10'y='25'w='36'h='50'rx='5'/><r x='54'y='5'w='36'h='90'rx='5'/></g><g c='cxa'><l x1='1'y1='50'x2='99'y2='50'/></g>",rt_c:"<g c='cxb'><p d='M 95 50 A 45 45 0 1 1 82 18'/><l x1='82'y1='0'x2='82'y2='18'/><l x1='64'y1='18'x2='84'y2='18'/></g>",sl_lightbulbon:"<g c='cxa'><p d='M75.4,50.1C75.4,36,64,24.7,50,24.7S24.6,36.1,24.6,50.1c0,7.4,3.2,14.3,8.7,19.2c3.3,2.9,5.3,7.1,5.3,11.5h22.7c0-4.5,2-8.8,5.5-11.7C72.2,64.3,75.4,57.3,75.4,50.1z'/><p d='M38.7,80.8h22.9l0,0v8.6c0,4.5-3.7,8.2-8.2,8.2l0,0h-6.5c-4.5,0-8.2-3.7-8.2-8.2l0,0L38.7,80.8L38.7,80.8z'/></g><g c='cxb'><l x1='50'y1='0'x2='50'y2='14.4'/><l x1='99.3'y1='49.3'x2='84.9'y2='49.3'/><l x1='0.7'y1='49.3'x2='15.1'y2='49.3'/><l x1='84.9'y1='14.4'x2='74.6'y2='24.6'/><l x1='15.1'y1='84.2'x2='25.4'y2='73.9'/><l x1='84.9'y1='84.2'x2='74.6'y2='73.9'/><l x1='15.1'y1='14.4'x2='25.4'y2='24.6'/></g>",fp_pin:"<g c='cxb'><l x1='32.9'y1='68'x2='2.6'y2='98.2'/><p d='M80.3,41.4L58.1,63.5c-2.2,2.1-8.8-1-14.8-7s-9.1-12.6-7-14.8l21.9-22.1'/></g><g c='cxa'><p d='M63.6,58c6.8,11.4,7.7,22.7,3.9,26.5c-5,5-20.6-2.4-34.7-16.5S11.3,38.5,16.3,33.3c3.7-3.7,14.4-2.2,25.4,3.9'/><ellipse tr='matrix(0.7071 -0.7071 0.7071 0.7071 9.1516 62.3116)'cx='79.8'cy='20.1'rx='8.4'ry='23.5'/><p d='M96.5,36.6l-5.9,5.9c-3.2,3.3-13.3-1.5-22.5-10.7S54.1,12.6,57.4,9.4l5.9-5.9'/></g>",p_g1axes:"<g c='cxblue'><l x1='25'y1='15'x2='25'y2='65'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/><l x1='75'y1='15'x2='75'y2='65'/><l x1='75'y1='25'x2='85'y2='25'/><l x1='75'y1='45'x2='85'y2='45'/><l x1='75'y1='65'x2='85'y2='65'/></g>",op_refresh:"<g c='cxa'><p d='M79.7,27.5C66.1,8.4,39.6,3.8,20.4,17.4C9.8,25,3.1,37,2.5,50.1c5.7-18.9,25.7-29.5,44.5-23.8c7.1,2.2,13.4,6.5,17.9,12.4L50,50.1l35.4,3.6l6-35L79.7,27.5z'/></g><g c='cxb'><p d='M20.9,73.3C34.9,92.1,61.6,96,80.4,82c10.5-7.8,16.8-20,17.1-33.1c-5.3,19-25,30.1-44,24.8c-7.1-2-13.5-6.1-18.1-11.9L50,50.1l-35.4-2.8L9.5,82.5L20.9,73.3z'/></g>",dtt_transpose:"<g c='cxaa'><t c='cxtn60 cxaa'x='51'y='-22'tr='rotate(45)'>&#10554;</t><t c='cxtn60 cxaa'x='-90'y='-22'tr='rotate(45) scale(-1,1)'>&#10554;</t></g><g c='cxb'><r x='2'y='2'w='30'h='60'/><l x1='2'y1='12'x2='32'y2='12'/><r x='38'y='68'w='60'h='30'/><l x1='38'y1='78'x2='98'y2='78'/></g>",g_dotplot:"<g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g><g c='cxb'><c cx='57.1'cy='67.9'r='6.6'/><c cx='82.7'cy='42.6'r='6.6'/><c cx='38.9'cy='25.9'r='6.6'/></g>",ch_oaa:"<t c='cxtn100'x='0'y='85'>A</t><t c='cxtn60'x='65'y='85'>a</t>",g_tree:"<g c='cxb'><p d='M 40.5 25.6 L 35.6 25.6 C 31.2 25.5 27.1 27.8 24.8 31.6 L 12.4 51.4 L 23.2 68.5 C 25.5 72.2 29.5 74.4 33.8 74.4 L 40.5 74.4'/><p d='M 50.3 25.6 L 57.7 25.6 C 59.5 25.6 61.2 24.6 62.3 23.1 L 62.3 23.1 C 66.1 17.4 72.5 14 79.4 13.9 L 88.2 13.9'/><p d='M 50.3 25.6 L 57.7 25.6 C 59.5 25.6 61.2 26.5 62.3 28 L 62.3 28 C 66.1 33.7 72.5 37.1 79.4 37.2 L 88.2 37.2'/><p d='M 50.3 74.5 L 57.7 74.5 C 59.5 74.5 61.2 73.5 62.3 72 L 62.3 72 C 66.1 66.3 72.5 62.9 79.4 62.9 L 88.2 62.9'/><p d='M 50.3 74.5 L 57.7 74.5 C 59.5 74.5 61.2 75.4 62.3 76.9 L 62.3 76.9 C 66.1 82.6 72.5 86 79.4 86.1 L 88.2 86.1'/></g><g c='cxa'><c cx='6.8'cy='51.4'r='4.9'/><c cx='45.4'cy='25.6'r='4.9'/><c cx='45.4'cy='74.5'r='4.9'/><c cx='93.2'cy='13.9'r='4.9'/><c cx='93.2'cy='37.3'r='4.9'/><c cx='93.2'cy='62.7'r='4.9'/><c cx='93.2'cy='86.2'r='4.9'/></g>",bx_violint:"<g c='cxac'><p d='M66,18 Q76,28 63,36 50,40 66,49 84,55 84,67 82,81 65,86 L35,86 Q18,81 16,67 16,55 39,50 50,40 37,36 24,28 34,18 Z'/></g>",c_rrcode:"<g c='cxb'><p d='M 50 15.2 C 23.4 15.2 1.8 30.7 1.8 50 C 1.8 69.2 23.4 84.8 50 84.8 C 76.6 84.8 98.1 69.2 98.1 50 C 98.1 30.7 76.6 15.2 50 15.2 Z M 56 73.5 C 36.3 73.5 20.2 62.9 20.2 50.1 C 20.2 37.3 36.3 26.7 56 26.7 C 75.8 26.7 91.9 37.2 91.9 50.1 C 91.9 63 75.9 73.5 56 73.5 Z'/></g><g c='cxaw'><p d='M 80.6 73.4 C 85.8 72.1 89.2 65.9 88.1 59.5 C 87.2 54 83.2 50 78.6 50 L 53.8 50 L 53.8 89 L 64.8 89 L 64.8 73.7 L 69.6 73.7 L 77.8 89 L 88.8 89 L 80.6 73.4 Z M 74 66.4 L 64.3 66.4 L 64.3 57.3 L 74 57.3 C 76.2 57.3 78 59.1 78 61.3 C 78 61.4 78 61.4 78 61.5 C 78.4 63.8 76.9 66 74.6 66.5 C 74.5 66.5 74.3 66.5 74 66.4 Z'/><p d='M 38.7 34.4 C 43.9 33.1 47.3 26.9 46.2 20.5 C 45.3 15 41.3 11 36.7 11 L 11.9 11 L 11.9 50 L 22.9 50 L 22.9 34.7 L 27.7 34.7 L 35.9 50 L 46.9 50 L 38.7 34.4 Z M 32.1 27.4 L 22.4 27.4 L 22.4 18.3 L 32.1 18.3 C 34.3 18.3 36.1 20.1 36.1 22.3 C 36.1 22.4 36.1 22.4 36.1 22.5 C 36.5 24.8 35 27 32.7 27.5 C 32.6 27.5 32.4 27.5 32.1 27.4 Z'/></g><g c='cxaa'><t c='cxtn50'x='2'y='-60'tr='rotate(90)'>&#8963;</t><t c='cxtn50'x='-42'y='90'tr='rotate(-90)'>&#8963;</t></g>",p_g2title:"<g c='cxblue'><r x='45'y='0'w='30'h='2'/></g>",tx_format:"<g c='cxb'><c cx='60'cy='49.7'r='12.3'/><p d='M59.1,77.5c2,0.1,4-0.1,6-0.5l6,8.4l10.8-5.2L79,70c1.4-1.3,2.6-2.7,3.7-4.3l10.5,1.7l3.9-11.3L87.8,51c0.1-1.9,0-3.8-0.4-5.7l8.5-6.2l-5.2-10.8l-9.9,2.9c-1.3-1.5-2.8-2.9-4.4-4.1l1.6-10.1l-11.3-3.9l-4.8,8.6c-2.2-0.2-4.3-0.1-6.5,0.2l-5.7-7.8l-10.8,5.2'/></g><g c='cxaa'><p d='M47,67.5H20.2l-3.4,7.4c-0.9,2-1.4,4.1-1.5,6.3c-0.1,1.9,0.9,3.8,2.6,4.7c2.4,0.9,4.9,1.3,7.5,1.3v2.1H0v-2.1c2.6-0.3,4.9-1.5,6.7-3.4c2.8-3.5,5.1-7.5,6.7-11.7l27.1-60.8h1.1L69,73.9c1.5,4.1,3.7,7.9,6.5,11.2c1.5,1.2,3.4,1.9,5.4,2v2.1H43.9v-2.1h1.5c2.2,0.2,4.3-0.2,6.2-1.2c0.8-0.6,1.3-1.6,1.2-2.6c0-0.7-0.1-1.4-0.3-2.1c0-0.3-0.6-1.7-1.7-4.2L47,67.5zM45.1,63.4L33.6,37.1L22,63.4L45.1,63.4z'/></g>",ch_cesc:"<t c='cxtb100'x='5'y='85'>&#9099;</t>",b_windowbg:"<y c='cxac'q='65,45 65,30 48,30 48,15 15,15 15,83 68,83 45,65 65,45'/>",ch_oy1:"<t c='cxti100'x='15'y='65'>y</t><t c='cxtn40'x='65'y='70'>1</t>",at_shd:"<polygon fill='url(\"#s-grad\")'q='94.5,64.1 66.7,50 50,58.5 33.3,50 5.5,64.1 50,86.7'/><polygon c='cxa'q='94.5,35.9 50,13.3 5.5,35.9 50,58.5'/>",g_scatter2d:"<g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/><l x1='32.5'y1='100'x2='32.5'y2='86'/><l x1='56'y1='100'x2='56'y2='86'/><l x1='79.4'y1='100'x2='79.4'y2='86'/></g><g c='cxb'><l x1='28.9'y1='15.6'x2='32.5'y2='15.6'/><l x1='80.3'y1='19.5'x2='84'y2='19.5'/><l x1='54.1'y1='26.6'x2='57.8'y2='26.6'/><l x1='90'y1='36.8'x2='93.7'y2='36.8'/><l x1='80.3'y1='47.2'x2='84'y2='47.2'/><l x1='67.7'y1='47.2'x2='71.4'y2='47.2'/><l x1='61.2'y1='59.8'x2='64.8'y2='59.8'/><l x1='74.5'y1='68.3'x2='78.2'y2='68.3'/><l x1='42.7'y1='73.6'x2='46.3'y2='73.6'/><l x1='34.2'y1='59.8'x2='37.9'y2='59.8'/><l x1='48.2'y1='47.2'x2='51.8'y2='47.2'/><l x1='23.6'y1='39.1'x2='27.3'y2='39.1'/></g>",p_g1axestitles:"<g c='cxblue'><r x='0'y='25'w='3'h='25'/><r x='97'y='25'w='3'h='25'/></g>",ch_ly:"<t c='cxtb100'x='15'y='85'>Y</t>",ar_h:"<p c='cxtxb'd='M80,35 L98,50 L80,65 M20,35 L2,50 L20,65 M98,50 L2,50'/>",cl_verticalbg:"<g c='cxcc'><r x='0'y='0'w='33'h='100'/><r x='67'y='0'w='33'h='100'/></g>",chte_baselinetop:"<p c='cxtxb'd='M42,28 L50,20 L58,28 M50,50 L50,20'></p><g c='cxa'><l x1='2'y1='2'x2='98'y2='2'/></g>",g_tagcloud:"<g c='cxa'><l x1='10.7'y1='2.1'x2='66.7'y2='2.1'/><l x1='10.7'y1='6.2'x2='66.7'y2='6.2'/><l x1='65'y1='17.9'x2='89'y2='17.9'/><l x1='40.5'y1='27.3'x2='77'y2='27.3'/><l y1='65.4'x2='54.5'y2='65.4'x1='4'/><l x1='45.7'y1='89'x2='79.8'y2='89'/><l x1='63.5'y1='97.9'x2='92.1'y2='97.9'/><l x1='25.5'y1='27.3'x2='19.2'y2='27.3'/><l x1='54.9'y1='38.9'x2='63.5'y2='38.9'/><l x1='58'y1='77.4'x2='66.7'y2='77.4'/><l x1='34.4'y1='51.1'x2='68.9'y2='51.1'/><l x1='34.4'y1='53.2'x2='68.9'y2='53.2'/></g><g c='cxb'><l y1='17.9'x2='52.2'y2='17.9'x1='4'/><l x1='68.9'y1='41.9'x2='93'y2='41.9'/><l x1='9.8'y1='38.9'x2='46.3'y2='38.9'/><l x1='9.8'y1='41.9'x2='46.3'y2='41.9'/><l x1='72'y1='80.4'x2='96'y2='80.4'/><l x1='13'y1='77.4'x2='49.5'y2='77.4'/><l x1='13'y1='80.4'x2='49.5'y2='80.4'/><l x1='86.3'y1='30.6'x2='93'y2='30.6'/><l x1='76.4'y1='5.2'x2='83'y2='5.2'/><l x1='13.5'y1='53.9'x2='22.5'y2='53.9'/><l x1='83.3'y1='56.2'x2='92.4'y2='56.2'/><l x1='61.9'y1='65.4'x2='79.8'y2='65.4'/></g>",p_cg1axeshorizontal:"<g c='cxb'><l x1='10'y1='2'x2='10'y2='98'/><r x='0'y='67'w='2'h='10'/><r x='0'y='39'w='2'h='10'/><r x='0'y='11'w='2'h='10'/><l x1='2'y1='90'x2='98'y2='90'/><l x1='30'y1='90'x2='30'y2='98'/><l x1='50'y1='90'x2='50'y2='98'/><l x1='70'y1='90'x2='70'y2='98'/><l x1='90'y1='90'x2='90'y2='98'/></g>",ly_doe:"<g c='cxa'><r x='2'y='2'w='43'h='43'/><r x='53'y='2'w='43'h='43'/><r x='2'y='53'w='43'h='43'/><c cx='75'cy='75'r='20'/></g><g c='cxb'><r x='9'y='20'w='10'h='24'/><r x='28'y='10'w='10'h='34'/><y q='60,40 70,20 80,30 90,10'/><c cx='15'cy='82'r='2'/><c cx='26'cy='75'r='2'/><c cx='36'cy='65'r='2'/><l x1='75'y1='75'x2='75'y2='55'/><l x1='75'y1='75'x2='95'y2='75'/><l x1='75'y1='75'x2='61'y2='86'/></g>",wp_pc:"<g c='cxa'><p d='M22.4,39.6h55.1c4.2,0,7.7,3.4,7.7,7.7v43.3c0,4.2-3.4,7.7-7.7,7.7H22.4c-4.2,0-7.7-3.4-7.7-7.7V47.2C14.8,43,18.2,39.6,22.4,39.6z'/><p d='M25.8,39.6V26C25.8,12.6,36.6,1.8,50,1.8l0,0'/><p d='M74.2,39.6V26C74.2,12.6,63.4,1.8,50,1.8l0,0'/></g><g c='cxc'><c cx='50'cy='63.1'r='9.2'/><l x1='50'y1='72.3'x2='50'y2='83.9'/></g>",c_stata:"<p c='cl19'd='M22.7,38.5l-1.9,5.1H7c-1.1,0.1-1.8,1.1-1.7,2.1c0.1,0.9,0.8,1.6,1.7,1.7h8.6c3.9,0,7,3.2,7,7c0,3.9-3.2,7-7,7H0l1.9-5.1h13.7c1.1-0.1,1.8-1.1,1.7-2.1c-0.1-0.9-0.8-1.6-1.7-1.7H7c-3.9,0-7-3.2-7-7s3.2-7,7-7H22.7z'/><polygon c='cl19'q='62.6,38.5 60.6,43.6 67.1,43.6 67.1,61.5 72.2,61.5 72.2,43.6 77.3,43.6 79.3,38.5'/><p c='cl19'd='M92.9,52.6h-9.9c-1.1,0-1.9,0.9-1.9,1.9c0,1.1,0.9,1.9,1.9,1.9h11.8v-3.8H92.9z M88.2,47.4h6.6v-2.1c0-1-0.9-1.8-1.9-1.8h-15l1.9-5h13.1c3.9,0,7.1,3.2,7.1,7.1c0,0,0,0,0,0v15.9H83.1c-3.9-0.2-6.9-3.5-6.7-7.4c0.2-3.6,3.1-6.5,6.7-6.7L88.2,47.4z'/><p c='cl19'd='M53.6,52.6h-9.9c-1.1,0-1.9,0.9-1.9,1.9c0,1.1,0.9,1.9,1.9,1.9h11.8v-3.8H53.6z M51.1,47.4h4.5v-2.1c0-1-0.9-1.8-1.9-1.8h-15l1.9-5h13.1c3.9,0,7,3.2,7,7.1l0,0v15.9H43.8c-3.9,0.2-7.2-2.8-7.4-6.7s2.8-7.2,6.7-7.4c0.3,0,0.5,0,0.8,0L51.1,47.4z'/><polygon c='cl19'q='23.3,38.5 21.4,43.6 27.8,43.6 27.8,61.5 32.9,61.5 32.9,43.6 38,43.6 40,38.5'/>",ch_cctrl:"<t c='cxtb100'x='5'y='85'>&#8963;</t>",sr_zad:"<p c='cxtxa'd='M12,80 L27,98 L42,80 M27,98 L27,2'/><t c='cxtn60'x='50'y='45'>Z</t><t c='cxtn60'x='50'y='95'>A</t>",p_ghsamplelabels:"<g c='cxblue'><r x='15'y='25'w='3'h='10'/><r x='15'y='45'w='3'h='10'/></g>",lg_h:"<g c='cxc'><r x='10'y='50'w='81'h='40'/><l x1='10'y1='70'x2='90'y2='70'/><l x1='37'y1='50'x2='37'y2='90'/><l x1='64'y1='50'x2='64'y2='90'/><l x1='2'y1='55'x2='2'y2='65'/><l x1='2'y1='75'x2='2'y2='85'/><l x1='13'y1='98'x2='34'y2='98'/><l x1='40'y1='98'x2='61'y2='98'/><l x1='67'y1='98'x2='88'y2='98'/></g>",p_ghtitlesubtitle:"<g c='cxblue'><r x='50'y='0'w='30'h='2'/><r x='55'y='10'w='20'h='2'/></g>",p_cg2fitcdf:"<g c='cxa'><p d='M15,90 C80,75 30,25 95,10'/></g>",ch_lb:"<t c='cxtb100'x='15'y='85'>B</t>",cd_upload:"<p c='cxtxa'd='M35,60 L50,75 L65,60 M50,75 L50,25'/><g c='cxa'><l x1='30'y1='82'x2='70'y2='82'/></g><g c='cxb'><y q='89,30 59,30 59,2 13,2 13,98 89,98 89,30'/><l x1='90'y1='29'x2='59'y2='1'/></g>",dp_jittered:"<g c='cxb'><c cx='3'cy='3'r='2.5'/><c cx='3'cy='18'r='2.5'/><c cx='3'cy='33'r='2.5'/><c cx='3'cy='50'r='2.5'/><c cx='3'cy='65'r='2.5'/><c cx='3'cy='80'r='2.5'/><c cx='3'cy='97'r='2.5'/><c cx='89'cy='3'r='2.5'/><c cx='77'cy='18'r='2.5'/><c cx='97'cy='33'r='2.5'/><c cx='87'cy='50'r='2.5'/><c cx='82'cy='65'r='2.5'/><c cx='95'cy='80'r='2.5'/><c cx='93'cy='97'r='2.5'/></g><p c='cxtxa'd='M50,44 L58,52 L50,60 M34,44 L26,52 L34,60 M58,52 L26,52'/>",g_treemap:"<g c='cxbb'><r x='48'y='83.3'w='33.1'h='14.4'/><r x='59.5'y='23'w='38.1'h='38.9'/><r x='25.4'y='35.9'w='22.6'h='45.5'/><r x='2.3'y='2.2'w='45.7'h='45.7'/></g><g c='cxcc'><r x='80.4'y='72.6'w='16.6'h='25.1'/><r x='25.1'y='79'w='22.9'h='18.6'/><r x='48'y='61.9'w='31.8'h='21.3'/><r x='48'y='2.2'w='49.1'h='20.8'/></g><g c='cxa'><r x='2.3'y='2.2'w='95.5'h='95.5'/><r x='2.3'y='2.2'w='45.7'h='45.7'/><l x1='97'y1='23'x2='48'y2='23'/><l x1='48'y1='47.9'x2='48'y2='97.6'/><r x='2.3'y='47.9'w='22.9'h='49.7'/><l x1='25.1'y1='79'x2='48'y2='79'/><r x='48'y='61.9'w='31.8'h='21.3'/><r x='79.8'y='61.9'w='17.9'h='35.7'/><l x1='79.8'y1='72.6'x2='97.6'y2='72.6'/><l x1='59.5'y1='23'x2='59.5'y2='61.9'/></g>",ar_tm:"<p c='cxtxb'd='M38,29 L50,17 L62,29 M50,83 L50,17'/>",ln_stylesolid:"<g c='cxa'><l x1='4'y1='50'x2='98'y2='50'/></g>",v_cancel2w:"<g c='cxxx'><l x1='25'y1='25'x2='75'y2='75'/><l x1='75'y1='25'x2='25'y2='75'/></g>",g_line:"<g c='cxa'><l x1='11.9'x2='11.9'y2='100'y1='0'/><l x1='100'y1='86'y2='86'x2='0'/><l y1='62.6'x2='11.9'y2='62.6'x1='0'/><l y1='39.1'x2='11.9'y2='39.1'x1='0'/><l y1='15.6'x2='11.9'y2='15.6'x1='0'/></g><g c='cxb'><y q='24.3 73.9 54 42.6 62.7 50.7 90.2 19.4'/></g>",p_cghdata2:"<g c='cxbb'><r x='72'y='4'w='26'h='18'/><r x='12'y='26'w='26'h='18'/><r x='42'y='48'w='26'h='18'/></g>",n_edges:"<g c='cxa'><l x1='18.9'y1='15.4'x2='41.7'y2='31.3'/><l x1='21.6'y1='75.8'x2='43.5'y2='53.1'/><l x1='56.7'y1='76.6'x2='55.9'y2='57.1'/><l x1='84.3'y1='60.8'x2='69.5'y2='50.2'/><l x1='78'y1='13.9'x2='66.4'y2='28.2'/></g><g c='cxc'><c cx='55.3'cy='40.9'r='16.9'/><c cx='82.3'cy='8.6'r='6.8'/><c cx='89.9'cy='64.7'r='6.8'/><c cx='16.9'cy='80.6'r='6.8'/><c cx='12.2'cy='10.7'r='8.9'/><c cx='57.1'cy='87.5'r='10.8'/></g>",cr_normal:"<g c='cxa'><p d='M1,99 C45,67 33,0 50,3 66,0 67,90 99,99'/></g>",sr_aad:"<p c='cxtxa'd='M80,2 L98,17 L80,33 M98,17 L2,17'/><t c='cxtn100'x='0'y='90'>a</t><t c='cxtn60'x='60'y='90'>a</t>",ch_ox2:"<t c='cxti100'x='15'y='70'>x</t><t c='cxtn40'x='70'y='75'>2</t>",ps_right:"<p c='cxtxb'd='M62,42 L70,50 L62,58 M70,50 L30,50'/><g c='cxa'><r x='78'y='40'w='20'h='20'rx='2'/></g>",gr_styledashed:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/></g><g c='cxa'><l x1='4'y1='23'x2='98'y2='23'stroke-dasharray='15 5'/><l x1='4'y1='48'x2='98'y2='48'stroke-dasharray='15 5'/><l x1='4'y1='73'x2='98'y2='73'stroke-dasharray='15 5'/></g>",b_gsori:"<g c='cxa'><r fill='url(\"#go-gradv\")'x='1'y='1'w='42'h='42'/><r fill='url(\"#go-gradh\")'x='57'y='57'w='42'h='42'/></g>",gr_g1:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/></g><g c='cxa'><l x1='4'y1='18'x2='98'y2='18'/><l x1='4'y1='38'x2='98'y2='38'/><l x1='4'y1='58'x2='98'y2='58'/><l x1='4'y1='78'x2='98'y2='78'/></g><g c='cxcc'><r x='20'y='48'w='20'h='47'/><r x='60'y='10'w='20'h='85'/></g>",gr_style:"<g c='cxc'><l x1='2'y1='2'x2='2'y2='100'/><l x1='2'y1='98'x2='98'y2='98'/></g><g c='cxa'><l x1='4'y1='23'x2='98'y2='23'/><l x1='4'y1='48'x2='98'y2='48'stroke-dasharray='5'/><l x1='4'y1='73'x2='98'y2='73'stroke-dasharray='15 5'/></g>",ga_axisxy:"<g c='cxb'><l x1='15'y1='2'x2='15'y2='98'/><l x1='15'y1='2'x2='0'y2='17'/><l x1='15'y1='2'x2='30'y2='17'/><l x1='2'y1='85'x2='98'y2='85'/><l x1='83'y1='70'x2='98'y2='85'/><l x1='83'y1='100'x2='98'y2='85'/></g><t c='cxtn30 cxaa'x='30'y='25'>X</t><t c='cxtn30 cxaa'x='65'y='70'>Y</t>",c_codepen:"<g c='cxb'><y q='96.1 26 80.6 50 96.1 73.8'/><l x1='50'y1='2'x2='50'y2='35.8'/><l x1='80.6'y1='50'x2='64.2'y2='50'/><y q='3.9 26 19.4 50 3.9 73.8'/><l x1='19.4'y1='50'x2='35.9'y2='50'/><l x1='50'y1='98'x2='50'y2='64.1'/></g><g c='cxa'><polygon q='96.1 73.8 96.1 26 50 2 3.9 26 3.9 73.8 50 98 96.1 73.8'/><r x='35.9'y='35.8'w='28.3'h='28.3'/></g>",wp_send:"<p c='cxb'd='M35,50L15,20L95,50L15,80Z'/><l c='cxa'x1='35'y1='50'x2='95'y2='50'/>",m_body:"<g c='cxb'><p d='M35,2 Q 45,2 50,10 Q 75,10 75,25 L75,70 Q 75,98 50,98 Q 25,98 25,70 L25,25 Q 25,10 50,10'/><p d='M50,25 Q 55,25 55,30 L55,40 Q 55,45 50,45 Q 45,45 45,40 L45,30 Q 45,25 50,25'/><p d='M50,10 Q 75,10 75,25 L75,35 55,35 55,30 Q 55,25 50,25 Z'/><p d='M50,10 Q 25,10 25,25 L25,35 45,35 45,30 Q 45,25 50,25 Z'/></g>",lg_g1:"<g c='cxc'><l x1='10'y1='10'x2='10'y2='98'/><l x1='2'y1='90'x2='90'y2='90'/><l x1='2'y1='70'x2='10'y2='70'/><l x1='2'y1='50'x2='10'y2='50'/><l x1='2'y1='30'x2='10'y2='30'/><l x1='25'y1='98'x2='35'y2='98'/><l x1='45'y1='98'x2='55'y2='98'/><l x1='65'y1='98'x2='75'y2='98'/></g><g c='cxcc'><r x='26'y='20'w='9'h='68'/><r x='46'y='53'w='9'h='35'/><r x='66'y='73'w='9'h='15'/></g>",b_gsswitch:"<g c='cxa'><r x='1'y='1'w='42'h='42'/><r fill='url(\"#gs-grad\")'x='57'y='57'w='42'h='42'/></g>",h_hspace:"<g c='cxwhite'><l x1='10'y1='24'x2='98'y2='24'/><l x1='10'y1='46'x2='98'y2='46'/><l x1='10'y1='68'x2='98'y2='68'/><l x1='40'y1='2'x2='40'y2='90'/><l x1='70'y1='2'x2='70'y2='90'/></g>",p_cg2axes:"<g c='cxb'><l x1='10'y1='2'x2='10'y2='98'/><l x1='2'y1='10'x2='10'y2='10'/><l x1='2'y1='30'x2='10'y2='30'/><l x1='2'y1='50'x2='10'y2='50'/><l x1='2'y1='70'x2='10'y2='70'/><l x1='2'y1='90'x2='98'y2='90'/><l x1='10'y1='90'x2='10'y2='98'/><l x1='30'y1='90'x2='30'y2='98'/><l x1='50'y1='90'x2='50'y2='98'/><l x1='70'y1='90'x2='70'y2='98'/><l x1='90'y1='90'x2='90'y2='98'/></g>",op_thumbup2:"<p c='cxb'd='M 24.324 44.289 L 24.324 89.936 C 24.324 93.088 21.769 95.642 18.618 95.642 L 7.206 95.642 C 4.055 95.642 1.5 93.088 1.5 89.936 L 1.5 49.995 C 1.5 46.844 4.055 44.289 7.206 44.289 L 24.324 44.289 C 36.929 44.289 47.147 34.071 47.147 21.466 L 47.147 15.76 C 47.147 6.975 56.657 1.484 64.265 5.877 C 67.796 7.915 69.971 11.683 69.971 15.76 L 69.971 44.289 L 87.088 44.289 C 93.391 44.289 98.5 49.398 98.5 55.701 L 92.794 84.23 C 91.108 91.421 86.456 96.074 81.382 95.642 L 41.441 95.642 C 31.987 95.642 24.324 87.978 24.324 78.524'/>",wp_data:"<g c='cxa'><p d='M 97.4 60.7 L 97.4 82.3 C 97.4 90.7 76.1 97.5 50 97.5 C 23.8 97.5 2.6 90.7 2.6 82.3 L 2.6 60.7'/><p d='M 97.4 17.7 L 97.4 39.4 C 97.4 47.8 76.1 54.5 50 54.5 C 23.8 54.5 2.6 47.8 2.6 39.4 L 2.6 17.7'/><l x1='52.6'y1='43.3'x2='47.3'y2='43.3'/><l x1='64.9'y1='43.3'x2='59.5'y2='43.3'/><l x1='40'y1='43.3'x2='34.6'y2='43.3'/><l x1='64.9'y1='66.1'x2='59.5'y2='66.1'/><l x1='40'y1='66.1'x2='34.6'y2='66.1'/><l x1='64.9'y1='87.2'x2='59.5'y2='87.2'/><l x1='40'y1='87.2'x2='34.6'y2='87.2'/><l x1='52.6'y1='66.1'x2='47.3'y2='66.1'/><l x1='52.6'y1='87.2'x2='47.3'y2='87.2'/></g><g c='cxb'><p d='M 97.4 39.9 L 97.4 61.6 C 97.4 70 76.1 76.7 50 76.7 C 23.8 76.7 2.6 70 2.6 61.6 L 2.6 39.9'/><ellipse cx='50'cy='17.7'rx='47.4'ry='15.2'/></g>",p_g3axestitles:"<g c='cxblue'><r x='40'y='85'w='30'h='2'/><r x='0'y='25'w='3'h='25'/><l x1='55'y1='55'x2='65'y2='47'/></g>",g_map:"<g c='cxa'><ellipse cx='50'cy='50'rx='26.6'ry='47.8'/><p d='M 87.9 20.9 C 79.2 25.3 65.4 28.2 50 28.2 C 34.5 28.2 20.8 25.3 12 20.9'/><p d='M 87.9 79 C 79.2 74.6 65.4 71.7 50 71.7 C 34.5 71.7 20.8 74.6 12 79'/><l x1='97.8'y1='50'x2='2.1'y2='50'/><l x1='50'y1='2.1'x2='50'y2='97.8'/></g><g c='cxb'><c cx='50'cy='50'r='47.8'/></g>",p_g3axes:"<g c='cxblue'><l x1='25'y1='65'x2='95'y2='65'/><l x1='25'y1='65'x2='25'y2='75'/><l x1='45'y1='65'x2='45'y2='75'/><l x1='65'y1='65'x2='65'y2='75'/><l x1='85'y1='65'x2='85'y2='75'/><l x1='25'y1='15'x2='25'y2='75'/><l x1='15'y1='25'x2='25'y2='25'/><l x1='15'y1='45'x2='25'y2='45'/><l x1='15'y1='65'x2='25'y2='65'/><l x1='25'y1='65'x2='75'y2='25'/><l x1='45'y1='50'x2='45'y2='60'/><l x1='65'y1='33'x2='65'y2='43'/></g>",ch_lw:"<t c='cxtb100'x='2'y='85'>W</t>",p_cg2fitcor:"<g c='cxa'><l x1='10'y1='90'x2='99'y2='1'/></g>",p_cg2dataden:"<g c='cxb'><r x='20'y='80'w='2'h='2'/><r x='37'y='65'w='2'h='2'/><r x='32'y='50'w='2'h='2'/><r x='45'y='35'w='2'h='2'/><r x='39'y='20'w='2'h='2'/><r x='52'y='7'w='2'h='2'/><r x='87'y='78'w='2'h='2'/><r x='73'y='63'w='2'h='2'/><r x='80'y='48'w='2'h='2'/><r x='73'y='33'w='2'h='2'/><r x='68'y='18'w='2'h='2'/><r x='63'y='3'w='2'h='2'/></g>",ch_ld:"<t c='cxtb100'x='15'y='85'>D</t>",v_cancelsmall:"<c c='cxbw'cx='50'cy='50'r='35'/><g c='cxred'><l x1='35'y1='35'x2='65'y2='65'/><l x1='65'y1='35'x2='35'y2='65'/></g>",dt_count:"<g c='cxb'><l x1='12'x2='12'y1='5'y2='45'/><l x1='37'x2='37'y1='5'y2='45'/><l x1='62'x2='62'y1='5'y2='45'/><l x1='87'x2='87'y1='5'y2='45'/><l x1='12'x2='12'y1='57'y2='95'/><l x1='37'x2='37'y1='57'y2='95'/><l x1='62'x2='62'y1='57'y2='95'/></g><g c='cxa'><l x1='2'x2='98'y1='40'y2='10'/></g>"}};CanvasXpress.alias="rWJsZfkxYDaKb_chUdBH3pFtRg9$VNonP6XSO72GlyLQjvICzmAT4eEu80w1q5Mi#XGXvX97XToN5#jovYGXvwu#V6oVOHX2oGW#C97XN9voh9Q92ovoQjgh#C97XN9vos9v9qS#C97XN9voJlGnXPeg#C97XN9voZCoGvjjk#C97XN9voYGnlsK#C97XN9vornvoQdoGNoQhu#C97XN9voBvQIVvIQoVs#XjcGoHX2ofIGVvXlGYGJlGnXPlA#PovrnvoQdoGNoQAH#9yy7ArnvoQdoGNoQyh#9nvoQdoGNoQHz#NIQXGPdoGNoQh3#jov3dKT4#XGXvr7X9jojKi#VQo9voH6I2$G9X7W9jow8iS#7lPJlGjl7ofo#vQXPPoQs9v9Kl9NoNdU#j9CofXQjvBv9voA2#jovYGXvX97pXozVL#VlGvXGIoYGXvX97XT9vXlGc9#y9IjoYGXvX97XT9vXlGuY#XGXvX97XTohQlVojjXGPyi#Qojovbov9s9v9af#IyN9vokoGl2obov9s9v9k8#IyN9vo_ovzlQObov9s9v9FV#PovJ9voPlQXV97cQNoQMR#9jjXPGBvQXGPpXjI97jir#9jjXPG_I2oQXVpXjI97jwe#IyN9vobov9s9v9wD#jovbov9s9v9dL#Xjp97XNh7lvs9v9WL#jovd9GPos9v9l1#PovxXjvlPQ92ba#jovfX7voQs9v9Tw#jovxXjvlPQ92s9v9yc#jovKlojjs9v9b8#jovdoPQojjXlGs9v9hE#jovUI9GvX7odoPQojjXlGs9v9HS#jovrQo9s9v9WR#jovBvQo92s9v9Fc#jovd9GPos9v9c$SoVvH6#V6oVOc$SoVvxQ#Qojovc$SoVvUx#jI229QXToZl#VlyABI229QXToNs9v9HV#vQ9GjnlQ2p97IoJb#vQ9GjnlQ2kX#vQ9GjnlQ2dojovPh#vQ9GjnlQ2B9CobD#vQ9GjnlQ2KlPZmycg#vQ9GjnlQ2d9vXlAb#vQ9GjnlQ2do79vXCoHJ#PQlIyK9AlIvB92y7ojzV#PQlIyB92y7ojhW#IGPQlIyB92y7ojqO#QoPQlIyB92y7ojQs#Pov3GyXClvoNs9v9uz#Qo2lCohXClvjK#yXClvHH#yXClvtcR#yXClvttHo#yXClvtRH2#yXClvRRud#vQ9Gjyljos9v9BovNc#vQ9Gjyljorq#V6lQNXnAs9v9K6#jI229QXTos9v9yH#VlIGvs9v9qR#IGVlIGvs9v9B2#joLIoGVos9v9VY#IGjoLIoGVos9v9Jn#jI229QXTobovoQuP#jI229QXToBzX22oQuV#jI229QXTocGVlyQXGvet#jI229QXTo3yBovAL#Povs9v9rvhljCb#Povs9v9flQB2yrvhljXvXlGBO#Povs9v9flQB2ykQyrvYGNomwT#Povs9v9flQp9QX9$7orvYGNomhU#Povbov9s9v9flQp9QX9$7orvYGNomC6#Povbov9s9v9flQB92y7orvYGNomsO#Povbov9s9v9flQB2yrvYGNomR0#Povbov9s9v9flQkQyrvYGNomYg#jovcQXPXG97YGNXVojPR#C97XN9vo_ovzlQOhQlyoQvAp97IojeP#C97XN9vohQlyoQvAp97IojmU#Povbov9s9v9WAHAyohr#PovhQlyoQvAp97IoWXGQN#PovhQlyoQvAp97IoBXToBy#Povbov9N9v9p97IoMk#Pov_lNoZNPohQlyoQvAp97IoNO#PovhQlyoQvAp97Iown#IyN9vobov9s9v9Jl7lQjrj#jovkQlIyK9$o7ju4#PovYGNXVojqT#PovKoCo7jWArGGlv9vXlGsF#Povp9QX9$7ojB92y7ojWArGGlv9vXlGKoCo7sN#Povp9QB2yrGGlv9vXlGjhA#jovr77B92y7ojpXjX$7oOU#PovB92y7oYGNXVojyV#PovB92y7ojWArmXjWE#PovB92y7ojWArGGlv9vXlGKoCo7MJ#PovB92y7oKoCo7jWArGGlv9vXlGFP#jovB92y7ojpXjX$7otM#6XNo3G6XNoB2yjas#PovB92y7ojJ9#PovB2yrGGlv9vXlGjJA#jovr77p9QX9$7ojpXjX$7olG#Povp9QX9$7oYGNXVojtU#jovp9QX9$7ojpXjX$7oWArmXjUf#Povp9QX9$7ojpXjX$7oWArmXjwV#Povp9QX9$7ojWArGGlv9vXlGKoCo7iW#Povp9QX9$7oKoCo7jWArGGlv9vXlGfO#jovp9QX9$7ojpXjX$7oFE#6XNo3G6XNop9QjCK#Povp9QX9$7ojtD#Povp9QrGGlv9vXlGjMK#jov_lNoYGNXVojO1#jov_lNojUi#jovr77_lNojpXjX$7oAM#jovxXNNoG_lNojrGNZNPojta#6XNo3G6XNo_lNojh4#jovr77fo9vIQojpXjX$7oFf#6XNo3G6XNob9yfo9vIQojcN#jovr77b9yfo9vIQojpXjX$7oRY#jovYGNXVojww#QojovYGNXVojF3#XGXvX97XTos9v9rvvQX$IvojQM#V7o9Gs9v9Hx#jovk9Gvvs9v9oV#jovUUs9v9Zq#jovJsfs9v9gK#jovb9G69vv9Gs9v9UZ#jovB9GOoAs9v9jY#jovxXoQ9QV6As9v9hM#Povb9yjL3#Povf79PjbN#XGXvX97XTos9v9YN#jo7oVvH6o2osonXGXvXlGjoe#V9jvdgrmojH6o2osonXGXvXlGjfQ#VIjvl2XToH6o2osXnXGXvXlGjMc#IyN9voH6o2opO#jovson9I7vH6o2op97Iojs2#jovH6o2owA#vldoGNoQTo#QojovdoGNoQse#QoGNoQdb#MVtjs#MVtYLC#MVtY3Sr#MytPI#jvQXGPHlxomCy#M6$h#Mz$w#jovhXmo7Y29PoGf#MM$$#MMMd6#j6lzb9jODW#6XNob9jOhT#VQo9vo_ozH9QPovZT#GozYNoy#XGjoQvH9QPovm5#V9jvJ9GC9jrvvQX$IvojRO#Qo2lCoH9QPovTT#PovFXGNlzBXToX0#PovFXGNlzBVQl77Tg#XjYGpXozylQvRs#69jJ79jjmd#9NNJ79jjbf#Qo2lCoJ79jjNn#omV69GPoJ79jjrU#PovZ7o2oGvsX2oGjXlGjq6#PovJl2yIvoNJBBAy#V9GVo7ZCoGvY6#jvlyZCoGvcc#GlQ297XToZCv_92oJq#vQXPPoQZCoGvuk#VlyAZCoGvcQ#9NNZCvKXjvoGoQqD#Qo2lCoZCvKXjvoGoQg4#9NNdo2lCoZCvKXjvoGoQcI#yIQPoZCoGvKXjvoGoQjoQ#yQoCoGvBo7oVvXlGlC#PovH9QPovZCoGvzL#QoLIojvrGX29vXlGfQ92oPn#jovYGvoQC97mG#PovBo7oVvsQlyNlzGJg#Povd9NXlkQlIyYX#PovHlPP7oBzXvV6NW#Povd9GPoB7XNoQVO#XjYGYnQ92oDU#XGXvX97XToWQlzjoQDb#V9GC9jHlBpkz2#7l9Nb9yHU#7l9Nh9Q92jfX7oSs#y9Qjo_lNoKXGOjpd#y9QjoxXoQ9QV6Amn#7l9NfX7oEA#7l9NW9VOPQlIGNY29PohQlyoQvXojqo#yQlVojjhGPfX7oOX#yQlVojjWTXyEfX7oNN#yQlVojjh9QLIovfX7ofK#yQlVojjDjlGfX7oOq#yQlVojjkolDjlGfX7oaL#yQlVojjBCPfX7oEL#yQlVojjso7X2XvoNfX7oxG#yQlVojjZjCfX7oMr#yQlVojjk27fX7oiB#yQlVojjt27fX7oZy#oNXvDBfXNN7omO#oNXvJlNohoGoS#j9CoJIQQoGvph#9QQ9AWInnoQHlW9jow8jR#$9jow8HlrQQ9AWInnoQj4#yQXGvKo9n7ovK9AoQjH1#omylQvHlBpkyq#omylQvHlZmVo7JQ#omylQvHlxHbKgJ#omylQvHlH9$so7X2XvoNTC#N9v9c$SoVvHlxHbKH5#N9v9HlZGP7Xj6PK#QHlhQovvAdwz#yQovvAJl7lQoNdS9#N9v9HldGC#yQovvADBc_O5#yQovvAJl7lQoNDBc_z9#yQovvAfIGVvXlGsw#yQovvAZCoGvjP1#yQovvAtbKMz#N9v9HlhAv6lGPE#N9v9HlJmy7lvlc#N9v9HlrQQ9Ad1#Xjbov9s9v9b9yfX7oLt#Xjbov9s9v9fX7or8#PovKKbs9v9jovjWr#Povds9v9jovjQE#PovdKX$Q9QAs9v9Bovjwt#PovdKX$Q9QABI229QARh#9yyoGN_ovzlQOs9v9fQl23dKsj#Povs9v9BovfQl23dKrW#jovs9v9BovfQl23dKuT#XGXvBv9VOoL#QoYGXvBv9VObq#PovBv9VOck#PovJlGnXPBv9voxh#jovJlGnXPBv9vokK#jv9VOJW#QoyQlNIVoh79AKc#QoyQlNIVoQX#9GX29voKv#Qoy7lvNm#j9Corjny#NonslVss#jlQvslVhd#NonJl7lQOS#NonJl7lQEz7#NoncyvXlGS4#NoncyvXlGEg1#NonBvQXGPYP#NonYGvoPoQXt#Nonf7l9vgl#NonWll7o9Glj#NonrQQ9Aoi#NonrQQ9AEod#Nonc$SoVvDm#Nonc$SoVvcQrQQ9Ams#NonfX7voQY4#Non3dKWk#NonJ79jjWy#NondoVvNo#NonHomvPF#NonsoGNQlPQ92cr#NonKXGoFX#NonxXjvlPQ92s5#NondIPCZ#NonhljXvXlGn8#NonsXQoVvXlGEi#NonB6lzTO#NonB6lzEZO#NonKXGoHAyoAe#NonHQ9GjnlQ2S3#NonrmXjyr#$Qo9OJ92o7J9jogW#jovJlGnXPson9I7vjlg#V69GPoBpkYVlGJl7lQjus#jov3YJl7lQjzy#QojovYGXvX97flGvBXToRW#jovYGXvX97flGvjLg#jovYGXvX97JlGnXPsM#QojovJlGnXPB7#IyN9voJlGnXPst#jovJlGnXPmh#PovJlGnXPSC#Pov3joQJlGnXPT5#jovZCoGvjI1#jovJ9GC9jhXmo7d9vXle0#jovshYuo#jovJ9GC9jvL#PovEsJ9GC9jJlGvomvyY#PovJ9GC9jJlGvomvE1#V6oVOJ9GC9jtyQojjcQPBXvorO#jovBAjvo2zG#jovDIyAvoQIq#jV97odoCo97Y29Pof0#jV97odoCo97J9GC9jsXCqY#69GN7odoCo97fI77jVQooGVU#jovdoCo97wS#XjKlGPrGNBOXGGACv#IGjovkQ9y6HAyoRI#VlyAsoyQoV9voNhQlyoQvXojKZ#jovkQ9y6HAyoBg#jovBV9vvoQJlGvomvSx#XGXvX97XToJlGnXPxB#Xjp97XNs9voflQ29vr9#PovrQVHomvrQo9HR#NQ9zrQVHomvbp#PovHomvbI7vXy7orQo9Dr#NQ9zHomvbI7vXy7oQY#PovHomvBI$7XGojEah#PovHomvBI$7XGojeh#PovHomvxHbKrQo9BW#NQ9zxHbKHomvXb#PovHomvrQo9t6#NQ9zHomvi0#XjbI7vXy7oKXGojct#V9yXv97XToY5#NoV9yXv97XTotx#XjxHbKHomvuM#PovxHbKHomvJJ#2o9jIQoHomvxHbKDF#2o9jIQoHomvbI7vXy7otv#2o9jIQoHomvpb#2o9jIQoHomvFXNv6pe#jV97oHomvHlflGvM9#PovflGvhvrk#jV97oHomvHlBXToI6#zQ9yHomvKXGojj1#zQ9yHomveS#zQ9yHomvZmV7INXGPxv27NU#zQ9yh79XGHomvo5#SIjvXnAHomva9#jV97oflGvUW#nlQ29v_I2$oQgG#Povb9mvHomvWAB92y7XGPNP#Povb9mHomvpQ#j6lQvoGHomvAj#VlGCoQvHl_I2$oQPy#jyQXGvnvy#$ojvHomvhljXvXlGjZD#PovbX77XjoVlGNeC#PovBoVlGNa0#PovbXGIvoBoVlGNZM#PovbXGIvoZL#PovxlIQbXGIvomT#PovxlIQns#PovRo9QFooOWB#PovblGv6s9Atr#PovRo9QblGv6tV#PovRo9QQy#y9Qjos9voKY#nlQ29vs9voZY#PovHX2ofIGVvXlGXK#PovWojvHX2oflQ29vDJ#QojlQvHX2os9v9FI#GXVoYGvoQC97jOo#PovHX2ormXjsm#jovHX2ormXjcM#VQo9vod9GNl2HX2ojxj#C97XN9voHX2ormXjRL#C97XN9voJl7lQu5#Noj9vIQ9voJl7lQp1#j9vIQ9voJl7lQTS#$79VOcQF6XvovN#PQoAJl7lQeN#7XP6voGJl7lQY3#N9QOoGJl7lQs8#$QXP6voGJl7lQnW#Vl2y7o2oGvJl7lQP8#PoGoQ9vox9Q2lGXVJl7lQjKn#vQX9NJl7lQjWP#vovQ9NJl7lQjRG#yoGv9NJl7lQjRV#6om9NJl7lQjCe#jy7XJl2y7o2oGvJl7lQjtl#n9NoJl7lQjAO#N9QOoGKXP6voGJl7lQuf#QP$HlxomW6#QP$Hlxj7VQ#Vl2y7o2oGv9QAJl7lQyQ#6omHldP$SZ#6j7HldP$R2#9NNJl7lQHQ9Gjy9QoGVAb9#Qo2lCoJl7lQHQ9Gjy9QoGVApP#XjJl7lQHQ9Gjy9QoGVAPl#XjJl7lQHQ9Gjy9QoGvXo#Vl2$XGoJl7lQjzD#Vl7lQrjrQQ9Ab3#2lGlJl7lQq4#$7XGNJl7lQQK#NXj9$7okQ9NXoGvHQ9Gjy9QoGVAB69Nlzra#oG9$7okQ9NXoGvHQ9Gjy9QoGVAB69Nlzcq#QojovkQ9NXoGvHQ9Gjy9QoGVAB69NlzlX#PovkQ9NXoGvh0#PovKXGo9QkQ9NXoGvdX#Povd9NX97kQ9NXoGvej#Vl7lQdkWnQl2BvQXGPhJ#Vl7lQfQl2dP$Pw#QP$HlxjCVN#Vl7lQfQl2xjCcF#6jCHldP$nD#Vl7lQdkWHlBvQXGPil#PovJl7lQ_92ojNp#PovJl7lQBV6o2ojTx#PovxomJl7lQt5#PovJl7lQflQp97IoPW#jovJl7lQflQp97IojXN#PovJl7lQWQozdl#jovJl7lQWQozWAc$SoVvGG#jovJl7lQWQozWAf9VvlQmJ#jovJl7lQWQozer#PovJIjvl2Jl7lQBV6o2oNH#jovJl7lQByoVvQI2hC#jovJl7lQBV6o2oNM#C97XN9vo3joQJl7lQjZh#jovKXGoJlGvomvub#jovB69yoJlGvomvNB#9NNB69yofX77BvQlOodC#QojovJlGvomvJG#jovJ7XyWlIGN9QXojUR#jovJ7XyrQo9Ad#QojovJ7XyrQo9Kj#$XvJlNoeO#XGvoQjoVvOv#7XGoJ7Xypv#yl7APlGJ7Xyf6#7XGoYGvoQjoVvNb#V7XyC3#PovKXGorQo9hD#Povs9j6slveG#C97XN9voWoTXoQCl#NQ9zKXGob6#NQ9zrQQlzxo9NzK#NQ9zBvQ9XP6vrQQlzBe#NQ9zrQVoNrQQlzpn#VQo9voBvQXyoh9vvoQGRd#VQo9voJQljj69vV6h9vvoQGWF#VQo9voJXQV7oh9vvoQGXI#VQo9voJIjvl2h9vvoQGgc#VQo9voh9vvoQGjsP#jy6oQoE9#QlIGNoNhl7APlGz3#PovB69yorQo9O3#NQ9zB69yotRgg#NQ9zB69yoFe#X29PoHlJ9GC9jlB#n7XyY29PoiT#Vl7lQXToY29Potc#VQo9voY29PogR#NQ9zY29PoVJ#jovk7l$97Jl2yljXvXlGcyoQ9vXlGHl#QoVv9GP7oJ7o9QZR#vQ9Gj79voJ9GC9jak#Qlv9voJ9GC9jgZ#jV97oJ9GC9ja2#j9CoJ9GC9jkg#QojvlQoJ9GC9jai#9yyQlm_I2$oQTZ#6oVO$oQvkn#zX7OXGjlGN0#zX7OXGjlGZmvoGNoNeX#QhQovvAiH#2lNXnAc$SoVvrQQ9Aim#Povc$SoVvrQQ9Al4#PovrQQ9AEWll7o9Gp4#Povc$SoVvrQQ9AcQNoQBj#XGvoQjoVvrQQ9AmQ#Qo2lCofQl2rQQ9Ax6#XjfIGVvXlGqj#XjrQQ9AtO#Xjc$SoVvwo#Xj3GXLIoum#XjWll7o9GGt#Xj3dKy6#XjrGV6lQEv#XjcGV7XVOxK#Xj3dKrGV6lQv8#XjY2PeI#XjY29Po3dKt2#vlrQQ9Ai4#V7o9GrGGlv9vXlGBvQXGPjMb#PovaoAjNv#Povp97IojE3#IGXLIoRy#Pov3GXLIoZ7jEk#Pov3GXLIoaoAjrK#PovJlIGvZ7jJp#j6Inn7orQQ9AWZ#vl_I2$oQNg#TXyJR#IGTXynn#omvoGNcH#9yy7Ac$SoVvRX#V7lGoc$SoVvdk4#VlyAc$SoVvTU#V7lGoJ9GC9jtyQojjc$SoVvSK#V7lGoc$SoVvaj#XjB92oc$SoVvgS#Xj_I2$oQxx#vl_I2$oQUS#XjhQXlQXvAFlQNjbt#Xj_I2oQXVEsrQQ9Ak2#Xj_I2oQXVeb#Xj_I77kx#XjZ2yvAsH#Xjs9vo_I2oQXVuH#Xjs9voaI#XjblGv6s9AcA#XjJlIGvQAu6#PovJlIGvQXojcV#Xj3j9zS#Pov3BrjT#XjJl7lQvD#XjcGoQL#y9N_I2$oQdQ#XjJlIGvlIQ9$7oFh#XjhXClv9$7oGl#yXClvb9vQXmCV#vQ9Gjyljos9v9b9vQXmnG#nX7voQ_I2$oQjSO#V7o9GrQQ9AC1#V7o9GrQQ9AjzM#QoCoQjorQQ9AJN#y9QjoYGvxw#IGPQlIykQlIyoNs9v9ii#PovYyd9GPofQl2rNNQojjrGN_ov29jOva#XGvEYyTM#XyEYGvfS#2N0Y29PoHI#NQ9zK9AlIvJ9GC9jJl2y9Qv2oGvjsB#NQ9zh7lvWlmUK#NQ9zh9Go7WlQNoQt3#NQ9zh7lvFXGNlzv1#C97XN9voBoPQoP9vXlGBY#V6oVOBoPQoP9vXlGfE#C97XN9vocCoQ79AjFg#Xjslvy7lvkQ9y6UT#XjrvvQX$IvoNkQ9y6Pc#XjBoPQoP9v9$7oSY#XjscZ9$7owi#C97XN9vo_ovzlQOsoVlQ9vXlGjiN#oGVlNohi#PovfX7o_92oKU#PovHXv7oBI$vXv7oxoXP6vSP#jovHXv7oBI$vXv7oflGvSh#NQ9zHXv7op3#PovJXv9vXlGxoXP6vl0#jovJXv9vXlGflGvHt#NQ9zJXv9vXlGqP#NQ9zb9QPXG97HomvAa#PovflGvxoXP6vPk#jovb9XGflGvVd#jovJth7lvhQlyoQvAflGvBXTos3#PovJthQlyoQvApi#jovJthQlyoQvAxN#jovhQlyoQvAflGvBXTogV#9NSIjvflGvv6#jovrjyoVvd9vXlhQlyoQvXojLz#QojovrjyoVvd9vXlhQlyoQvXojpf#PovkQlIyJl7lQuw#Povp9QJl7lQxy#PovB2yJl7lQxl#Pov_lNoJl7lQup#PovZNPoJl7lQm2#PovsoGNQlPQ92Jl7lQqL#XjBvQXGPcCoQ79AjMX#Xj3GXLIof9VvlQgk#Xj_I2oQXVf9VvlQYi#XjBvQXGPf9VvlQsG#PovWojvBXTojfT#XGXvp97XNXvAyn#PovFlQjvrjyoVvd9vXlj9#9NSIjvHQoo29yJllQNjU1#jovHQoo29ydlzpoQvXV97K9AlIve9#jovHQoo29ydlzxlQXTlGv97K9AlIvjD#jovHQoo29ydlzK9AlIvti#Vl2yIvoHQoo29ysX2oGjXlGjma#jLI9QXnAHQoo29yDN#yQlVojjHQoo29yTG#PovJ7lINhlXGvjrvd9NXIjSp#PovJ7lINdlv9vosoPOp#PovJ7lINHomvYGnlWp#V9GfXvJ7lINHomvb2#nX77J7lINkQXNrvS0#IyN9voJ7lINkQXNwb#NQ9zJ7lINH9PSq#jovH9PJ7lINA8#jovH9PJ7lINHomvFoXP6vf9VvlQyK#vQAdoGNoQH9PJ7lINOc#Povp9QX9$7oJl7lQmB#PovcIv7XGoJl7lQV4#PovfX77Jl7lQSS#Xjp9QxXP67IP6voNDd#Povson9I7vbov9s9v9c$SoVvp6#QojovJ9V6oJl7lQjfZ#jovJ9V6oJl7lQjJs#jovhXos9v9sn#NQ9zhXovK#NQ9zW9Qh7lvk5#NQ9zKXGoh7lvU0#NQ9zBv9VOoNh7lvq5#NQ9zrQo9h7lvLI#NQ9zWlmh7lvkp#NQ9zk9Gvvh7lvF8#NQ9zpXl7XGnT#PovJlGGoVvXlGs9v9X3#NQ9zJlGGoVvXlGrw#NQ9zslvh7lvZ3#NQ9zxo9v29ylP#NQ9zHQoo29yn2#NQ9zB9GOoAao#NQ9zHQoohY#Tll2cGVlyQXGvp9QX9$7ojgq#jovHQXPlGl2ovQAso#jovusdlv9vXlGyJ#jovush9Q92jc1#PovusHQ9GjnQl2ym#Povp97XNkQ9y6HAyojAR#jovxo9v29yBV6o2oon#69jYGNXV9vlQAS#69jKoPoGNvX#69jKoPoGNhQlyoQvXojoP#69js9v9AW#69js9v9B92y7ojwj#69js9v9kQlIyjGU#69js9v9p9QX9$7ojpa#69js9v9hQlyoQvXojP5#69jcQXoGv9vXlGrf#69jcCoQ79AjVi#69jsoGNQlPQ92ja3#69jsoVlQ9vXlGjxS#XjBoPQoP9$7oWO#PovKXGoHAyojty#Xjp97XNB69yoqd#Povxo9v29yBV6o2ojPT#XjJl2y9vX$7okQ9y6HAyoWw#XjcGosX2oGjXlG97kQ9y6PG#XjcGosX2oGjXlG97Jl2$XG9vXlGkQ9y6lq#XjxXjvlPQ92K9AlIvXm#2lNXnAxXP67XP6vjqg#PovxXP67XP6vjS2#2lNXnAcCoQ79AjhQlyoQvXojr0#2lNXnAB2ycCoQ79Ajcd#2lNXnAp9QcCoQ79AjD4#PovB2ycCoQ79AjjN#Povp9QcCoQ79AjJ4#Povts9v9yg#Povgs9v9bV#Povtgs9v9yR#Povtgs9v9EVZ#PovB92y7ojp9QX9$7ojrjrQQ9AHA#PovB92y7ojrjrQQ9AMa#Povp9QX9$7ojrjrQQ9AmY#Pov_lNos9v9YR#PovZNPos9v9th#XjWll7o9Gs9v9eH#PovB92y7op9QX9$7os9v9GP#Pov_ovzlQOs9v9sZ#PovfX7voQoN_ovzlQOs9v9TX#Povfo9vIQos9v9Ys#PovcyoQ9vlQjUv#TllGYGUJ#TllGcIvqu#V7IjvoQB92y7ojJz#V7IjvoQp9QX9$7ojbW#O2o9GjB92y7ojqH#O2o9Gjp9QX9$7ojCI#2lNXnAK9$o7JllQNXG9vojZ0#XjK9AlIvFQ9yPi#XjK9AlIvJl779yjoNmE#XjK9AlIvJl779yjoNrNSIjvZt#XjBoPQoP9voNqn#XjkQ9y6poQvXV97Qc#XjkQ9y6xlQXTlGv97Ir#XjkQ9y6rQo9h9Q977o7IE#XjkQ9y6xo9v29ys9#XjBy7Xvxo9v29yek#XjBy7Xvxo9v29yc$SoVvPt#XjkQ9y6BV9vvoQyW#QojXToJ9GC9jHr#PovFXNv6d7#PovxoXP6vEQ#XGXvX97XTosX2oGjXlGjxO#C97XN9voKoPoGNhljXvXlGjAc#jovKoPoGNHomvflGvCr#NQ9zKoPoGNW9VOPQlIGNWlmK9#NQ9zKoPoGNHXv7oGy#NQ9zKoPoGNB69yoIZ#NQ9zKoPoGNKXGolI#NQ9zKoPoGNKXGopoQvXV97re#NQ9zKoPoGNHomvDu#NQ9zaoAKovvoQw8#NQ9zaoAB69yon9#NQ9zaoABXToR4#NQ9zaoAKovvoQBXToFj#NQ9zaoAKXGomI#NQ9zaoAKXGoBXToOr#NQ9zaoAB69yoKXGoLX#NQ9zaoAWlmy7lvlT#NQ9zaoAJlGnXNoGVogC#NQ9zaoAKl77Xylymc#NQ9zaoAK9$o7QF#PovsX92ovoQKoPoGNAI#jovJIjvl2KoPoGNsX2oGjXlGjK7#jovhQlyoQvAKoPoGNsX2oGjXlGjpq#jovhQlyoQvAKoPoGNYGNXV9vlQsX2oGjXlGjrB#jovsoVlQ9vXlGjKoPoGNsX2oGjXlGjcO#jovcGVlyQXGvKoPoGNsX2oGjXlGCs#jovxXjvlPQ92KoPoGNBvQjw#jovf9VvlQKoPoGNBvQgY#jovB92y7oKoPoGNsX2oGjXlGsQ#Xjp9QX9$7oJXQVI79QXr#V97VI79vop9QX9$7oKoPoGNW9josX2oGjXlGjMi#9NSIjvp9QX9$7oKoPoGNflQHXv7oGZ#9NSIjvp9QX9$7oKoPoGNJl7I2GjdoVIQjXCo7AYG#Povbov9s9v9flQp9QX9$7oKoPoGNoh#jovp9QX9$7oKoPoGNsX2oGjXlGBs#jovpoGGKoPoGNsX2oGjXlGJo#jovcCoQ79AjKoPoGNsX2oGjXlGjxg#jovKoPoGNsX2oGjXlGjJV#jov_I2oQXVKoPoGNPx#jovBvQXGPKoGPoGNuZ#jov_ovzlQOKoPoGNxD#jovjbI7vXNX2oGjXlG97s9v9KoPoGNC4#jovWXGENKoPoGNGB#jovxXjvlPQ92KoPoGNyB#jovJlGvlIQKoPoGNEY#jovKoPoGNjU6#9NNKoPoGNOE#No7ovoKoPoGNiK#NQ9zKXGosoVlQ9vXlGj_lBV9vvoQlM#NQ9zd9GPosoVlQ9vXlGj_lBV9vvoQp0#NQ9zhlXGvsoVlQ9vXlGj_lBV9vvoQqa#NQ9zHomvsoVlQ9vXlGj_lBV9vvoQCp#NQ9zb9QOoQsoVlQ9vXlGj_lBV9vvoQIT#NQ9zZQQlQsoVlQ9vXlGj_lBV9vvoQNf#NQ9z_lGKXGo9QdoPQojjXlGsoVlQ9vXlGjAw#NQ9z_lGKXGo9QfXvsoVlQ9vXlGjaR#NQ9zdoPQojjXlGsoVlQ9vXlGjpT#NQ9z_lQ297sXjvQX$IvXlGsoVlQ9vXlGjsk#NQ9zrvvQX$IvojsoVlQ9vXlGjUV#NQ9zsoVlQ9vXlGs9v9bE#NQ9zcGVlyQXGvKoPoGNpz#NQ9zB92y7oKoPoGNl2#NQ9zp9QX9$7oKoPoGNcZ#NQ9zpoGGKoPoGNQP#NQ9zJl7lQYGNXV9vlQbP#Povxo9v29yYGNXV9vlQxXjvlPQ92jV#NQ9zxo9v29yYGNXV9vlQxXjvlPQ92G2#XjsQ9zhQlyoQvAKoPoGNMU#NQ9zJl7lQKoPoGNhw#NQ9zB69yoKoPoGNkA#NQ9zBXToKoPoGNmt#NQ9zh9vvoQGKoPoGNaU#NQ9zJlGGoVvKoPoGNpu#NQ9zhQlyoQvAKoPoGNA7#NQ9zJIjvl2KoPoGNSk#NQ9zkoGoQXVKoPoGNgp#NQ9zkoGoQXVcCoQ79AKoPoGNgf#NQ9zsoVlQ9vXlGKoPoGNzJ#QojovKoPoGNjYu#PovtRKoPoGNJllQNjBE#Povp9QX9$7oKoPoGNhljXvXlGKS#PovBV9vvoQKoPoGNhljXvXlGTh#NQ9zYGNXV9vlQJk#NQ9zKoPoGNOn#NQ9zesKoPoGNiy#NQ9zcCoQ79AjKoPoGNcB#NQ9zBV9vvoQKoPoGNI2#VQo9vob9QOoQbs#Qo2lCob9QOoQc$SoVvLn#Povb9QOoQjeE#Povb9QOoQs9v9r4#Povr77b9QOoQp9QX9$7oYGNXVojwr#Povb9QOoQp9QX9$7oUz#Povb9QOoQB92y7oNK#Povb9QOoQdoGNoQc$SoVvla#Povb9QOoQflGvab#Povb9QOoQKXGoje1#jovb9QOoQtRJoGvoQJllQNXG9vojCf#jovb9QOoQYU#Povb9QOoQTr#Xjb9QOoQpXjX$7oG3#NQ9zb9QOoQjoz#PovsoVlQ9vXlGjte#PovsoVlQ9vXlGs9v9HC#Qo2lCosoVlQ9vXlGc$SoVvrX#69GN7oBo7oVvlQL1#2lNXnAfX7voQnU#QojovblNXnAfX7voQnr#nX7voQp9QX9$7ojW9#nX7voQp9QX9$7ojWAJ9voPlQAMs#nX7voQB92y7ojf9#nX7voQB92y7ojWAJ9voPlQATY#nX7voQs9v9WAJ9voPlQAm8#nX7voQ3joQs9v9ds#nX7voQYNHl_92oIK#No7ovos9v9WI$$7oxa#9nvoQslfX7voQV7#QojovfX7voQjfj#XjxXNNoGID#jovsoGNQlPQ92jo1#y9Qjo_ozXVONC#zQXvo_ozXVOOm#oIV7XNX9GsXjv9GVoCz#29G69vv9GsXjv9GVoUI#29msXjv9GVohj#V79jjXnAa2o9GjpoVvlQm4#9NNpoVvlQjnq#Vl2y9QopoVvlQjXp#CoVvlQslvhQlNIVvqJ#2I7vXy7ApoVvlQWAp97Iou9#PovJoGvQlXNBr#VQo9voJ7IjvoQ_lNohm#VQo9vod9GNl2JoGvQlXNjsr#VQo9vod9GNl2poVvlQjWl#X2yIvos9vI2nI#PovYNjflQJ7IjvoQXGPQC#Povs9v9flQJ7IjvoQXGPMN#V7IjvoQg3#XjKo9n_lNoKL#zQXvo_ozXVOJ7IjvoQDx#O2o9GjDn#jlQv_ovzlQOYGNXVojKp#jlQvcGVlyQXGvkY#jlQvYGNXVojlu#jlQvrQQ9AMA#XjrjVXXrQQ9Ajq#jlQvc$SoVvZ7#jvQXGPd9GPoBlQvnM#QojovBlQvXGPfb#Q9NXmBlQviP#QojlQvs9v9So#GI2oQXVqh#SKlIC9XGBT#oGVQAyvR6#NoVQAyvxp#2N0U8#Xj_9_DQ#XjYGvoPoQBC#XjfXGXvoXW#QlIGNZa#Povhl79QG7#vQXJI$ojn#NoPQoojHlrQVKoGPv6KB#Q9NX9GjHlrQVKoGPv6Cc#9QVKoGPv6HlsoPQoojWJ#9QVKoGPv6Hld9NX9GjE7#Q9NX9GjMC#NoPQoojwN#PovrGP7oGj#Povd9NX9Gjgx#Qlv9vohlXGvY1#7XGoKoGPv6Cj#7XGobXNhlXGvOM#PovJllQNXG9vorvsXjv9GVoCi#7XGo9QYGvoQyl79voVn#y9Q977o7KXGohlXGvjSR#yoQyoGNXVI79QKXGohlXGvjXx#j6lQvoGKXGomm#vQ9VorQVmD#vQ9VorQVeCo#vQ9VoUI9NQ9vXVJIQCoan#vQ9VoWoTXoQJIQCoaz#jy7XGoJlGvQl7hlXGvZe#jy7XGoBt#VIQCohlXGvjfk#6I77JlGvQl7hlXGvjXV#omy9GNhl7APlGWj#oG79QPohl7APlGNk#V7o9Gp97jc3#Pov_I2$oQsoVX297jCU#7XGo9QryyQlmV6#j92y7oaC#Qoyob#joLXX#nQ9VLu#QIGXnT6#LGlQ2nd#NGlQ2Ts#NXnneu#QGlQ2QU#Lvqt#yoQVoGvX7oEUu#yoQVoGvd9GOWA#yoQVoGvX7ocL#yoQVoGvX7ouj5#Q9GOYGCLq#Q9GOI5#Q9GOEWz#2XGlJ#29mK1#jI2RD#jI2BLI9QoNr3#jI2BLI9QoNZQQlQWi#2o9GNA#Q9GPocp#Q9GPoEsvM#2oNX9GxZ#r$jyw#jLI9Qobu#jI$vQ9VvrQQ9Alx#9NNrQQ9Aux#Qoy79VorQQ9Ady#GomvBooNJF#Q9GNl2DI#Q9GNl2WovzooGGs#Q9GNl2YGvx5#Q9GNl2YGvWovzooGVj#jI29QXToZQQlQs9v9gI#2o9GBv9GN9QNZQQlQ_iQ#2o9G50JlGnXNoGVoYGvoQC97_zF#2o9GBv9GN9QNsoCX9vXlG_Wg#nXCoGI2Yw#$lmy7lvUL#LI9GvX7oWXGmW#LI9GvX7okP#XLQAF#C9QX9GVorl#NoCX9vXlGHv#jv9GN9QNsoCX9vXlGuc#jv9GN9QNZQQlQlv#2o9GBLI9QoNZQQlQzT#VlGnXNoGVoYGvoQC9750jy#VlC9QX9GVoat#VlQQo79vXlGu3#VlQQo79vXlGByo9Q29GQp#VlQQo79vXlGho9QjlGfP#QoPQojjXlGkD#j7lyop9#XGvoQVoyvkC#j7lyoYGvoQVoyvrI#GlQ297XTokw#VlonnXVXoGvsovoQ2XG9vXlGSi#P9IjjX9GZ7X2XG9vXlGIA#7XGo9QdoPQojjXlGvC#omylGoGvX97doPQojjXlGWn#7lP9QXv62XVdoPQojjXlGoE#ylzoQdoPQojjXlGXn#yl7AGl2X97doPQojjXlGpg#Vl22lGZ7o2oGvjYGrQQ9AjFd#oQQlQZ77XyjoCJ#oQQlQZ77XyjoEscn#oQQlQZ77Xyjoustk#VNn_lQ297kh#VNnMG#LL7XGoqs#LLGlQ2CO#yylXGvjQw#jXG9s9v9e6#SXvvoQs9v9CC#$oTXoQJ97VI79vohlXGvjjj#NoJ9jvo7S9Imx#NXCXNoWoTXoQJIQCovb#VoGvQlXNsi#VoGvQlXNrQo9Fq#yQInoQC2#yQl$9$X7XvAcngv4#VQXvXV97_lQ297gVk#O9y79GboXoQau#O9y79GboXoQJlGnXNoGVojf#O9y79GboXoQKlPd9GOHojvNq#V6XBLI9Qomw#VI$XVBy7XGoLO#PovsuB9GOoAQq#jovB9GOoAlw#PovsuJXQV7oh9VOIt#jovJXQV7oh9VOJx#PovsuHQoobl#jovHQooEX#Vl79K9AlIvM7#VXQVI79QK9AlIvgn#V97VI79voJXQVI79QK9AlIvfXG97_lNohljXvXlGGJ#IyN9voJXQVI79QK9AlIv_lNohljXvXlGjh7#Q9NX97K9AlIvHK#lQNoQd9NX97K9AlIvPe#IyN9vod9NX97K9AlIv_lNohljXvXlGjxI#Qojovd9NX97K9AlIv_lNohljXvXlGjep#V97VI79vod9NX97K9AlIvfXG97_lNohljXvXlGQe#nlQVosXQoVvoNK9AlIvZ4#V97VI79voflQVoNsXQoVvoNK9AlIvsXjSlXGvcv#XGvoPQ9voflQVosXQoVvoNK9AlIvsXjSlXGvMF#V97VI79voflQVoNsXQoVvoNK9AlIvblCo2oGvcu#XGvoPQ9voflQVosXQoVvoNK9AlIvsXjy79Vo2oGvHG#jovflQVosXQoVvoNK9AlIv_lNosXjy79Vo2oGvYx#V97VI79voflQVosXQoVvoNK9AlIvdoyI7jXCosXjy79Vo2oGvlE#V97VI79voflQVosXQoVvoNK9AlIvrvvQ9VvXCosXjy79Vo2oGvTQ#9yy7AflQVosXQoVvoNK9AlIvsXjy79Vo2oGvpM#9VVI2I79voflQVosXQoVvoNK9AlIvflQVoja1#$9QGojxIv_oz_lNodD#$9QGojxIvYGjoQvWlNXojju#$9QGojxIv3yN9voWlNAflQVoM8#IyN9voK9AlIv_lNohljXvXlGjM5#IyN9voflQVosXQoVvoNK9AlIvByQXGPflQVoq8#XGvoPQ9voflQVosXQoVvoNK9AlIvWU#IyN9voflQVosXQoVvoNK9AlIvsQ9PflQVoUa#9CoQ9PoflQVosXQoVvoNK9AlIvblCo2oGvDH#GovzlQOWovzooGGojjMw#GovzlQOJ7ljoGojjpk#GovzlQOZVVoGvQXVXvAbL#GovzlQOsoPQooIa#omyljo_ovzlQObovQXVjgH#IyN9voflQVosXQoVvoNK9AlIvWlIGNXGPWlmnw#LI9NvQoosuBw#29GAWlNAsuLe#Vl77XNosuhv#Q9NX97sukZ#nnvJr#VlGvlIQ_ozBoPKs#VlGvlIQBz9yBoPR5#VlGvlIQBoP3yN9vogP#VlGvlIQKXGojc7#VlGvlIQYb#VlGvlIQfXGNJIvhlXGvjQQ#VlGvlIQfXGNhl7APlGpoQvXVojOK#nX77oNJlGvlIQEm#PovsuJlGvlIQnB#$XGsXjvAQ#9yyQlmgB#9yyQlmBv9VOqI#V97VI79vosoGjXvAUj#ONoENLL#jX7CoQ29GdI7oEd#GQN4dI7oEO#GQNdI7onm#j6o9v6oQDlGojdI7oia#IVCdI7oZz#$VCdI7olk#VQo9vosoGjXvAyu#NoGjXvAsL#nQooN29GsX9VlGXjO2#jvIQPojSm#jVlvvKF#$XGs9v9WW#6XjvJf#6XjvWXGKI#6Xjv_Eh#6XjvENmL#7lojjP0#7lojjBZhs#7lojjusBQ#7lojjEsrQ#QLnG$iF#7ynG$JC#jvoyAhH#LnG$jU#V97VI79vodLnG$Lf#jovdLnG$yX#PovflQvQ9GrQQ9AJl7I2GXM#yIvflQvQ9GrQQ9AJl7I2GAq#PovflQvQ92b9vQXmoH#yIvflQvQ92b9vQXmtF#NGQ2EqZ#NvQ22ze#NjAQeZ#NjAQOY0#NPo2CtJ#NPo22Yf#NVlyAtu#Njz9yX2#NjV97jE#N79yAEmA#N9myALG#NNlvRq#NvQj2T8#NyljCIf#NylvQjdN#NylvQnoa#NylvQnEXc#V6l7Vp#XjK9AlIvJl2$JH#Xjp97XNK9AlIvua#XjK9jvYGdlzK9AlIvng#XjK9jvYGJl7I2GK9AlIvtZ#C97XN9voK9AlIvHlyl7lPAvZ#jovK9AlIvflGvjHu#PovK9AlIvrmXjHXv7oxoXP6vEC#jovK9AlIvB92oB92y7ojJX#jovK9AlIvKonvFW#jovK9AlIvdXP6vov#jovK9AlIvHlyzW#jovK9AlIvWlvvl2jO#NQ9zK9AlIvB92y7ocCoQ79Ajke#jovK9AlIvsX2oGjXlGjMY#jovK9AlIvKoPoGNjM0#jovK9AlIvscZH9$7ojaF#jovK9AlIvBXNojit#NQ9zK9$o7jHXv7ojK9AlIveo#NQ9zscZK9$o7jK9AlIvxm#jovK9AlIvFoXP6vjEF#jovK9AlIvkQ9y6HAyojRg#jovK9AlIvYGNXVojRu#QojovK9AlIvAn#QojovK9AlIvdojvlQoDD#jovK9AlIvdojvlQoEI#jovK9AlIvh9Q92jRB#Qo2lCoZ2yvAJl2y9Qv2oGvjWx#QojvlQoZ2yvAJl2y9Qv2oGvjMS#PovK9AlIvrmXjB92y7ojPo#yQoJ97VI79vorNSIjvK9AlIvsb#jovK9AlIvxXNNoGr1#QojvlQoK9AlIvxXNNoGUt#9NNSIjvK9AlIvs9v9hlXGvBXToSe#NQ9zK9AlIvJl2y9Qv2oGvjX9#QojvlQob9QPXGjvA#QojvlQoK9AlIvh9Q92ovoQjyI#jovK9AlIvkQ9y6sX2oGjXlGjhc#jovKlGPojvK9AlIvK9$o7Kx#jovBvQXyK9$o7jUo#NQ9zK9AlIvJl2y9Qv2oGvjscZG8#NQ9zK9AlIvJl2y9Qv2oGvjBV9vvoQxJ#NQ9zK9AlIvJl2y9Qv2oGvjhXoy8#NQ9zK9AlIvJl2y9Qv2oGvjcGosvH#NQ9zHQo77XjK9$o7jFR#PovK9AlIvJlGnXPgU#XGXvX97XToK9AlIvV1#jovpXozylQvQh#IyN9vopXozylQvsX2oGjXlGjBX#XGXvX97XToJ9GC9jZ7o2oGvPp#PovpXozylQvscbJlGv9XGoQjaO#jovJ9GC9jsX2oGjXlGjTj#jovIyZCoGvJ9GC9jJlGvomvJ1#IyN9vopXozylQvda#nXG97XTopXozylQvEz#vllP7opXjX$X7XvAflQfI77jVQooGYvo2jUD#vlPP7ofI77BVQooGee#V69GPopXozP9#V69GPopXozHlJ9GC9jtY#V69GPopXozHlH9$7oyG#V69GPopXozHlK9AlIvbJ#V69GPopXozHlZmy7lQoKl#V69GPopXozHlJIjvl2XToSj#Povb9mJ9GC9jFXNv6xoXP6vKA#jovJIjvl2XToQBXToJi#9NNpoQjXlGYGnlaw#QojXToh9QoGv_lNoIL#XGXvX97XTopXozylQvQ6#9NNboGIDe#y9PoboGIYvo2vP#nX7voQBVQl77Bo9QV6TF#9NNboGIYvo2BoyHp#9NNboGIYvo2BVQl77oQIN#PovboGIYvo2p97IosU#9NNboGIYvo2y0#9NNboGIYvo2HomvyD#9NNboGIYvo2Jl7lQgu#9NNboGIYvo2fX7voQCH#9NNdo2lCoYvo2KXjvoGoQjxW#V7XVOboGIYvo2s6#Qojovd9NXlboGIYvo2IH#9NSIjvboGIYvo2hljXvXlGEb#2lIjolCoQboGIYvo2D0#2lIjolIvboGIYvo2u7#2lIjoNlzGboGIYvo2XY#2lIjoIyboGIYvo2QD#2lIjoz6oo7boGIYvo2pr#PovboGIYvo2Jl2ykS#6XNoboGIRm#6XNoboGIjdoVIQjXCo7ANi#Qo2lCoboGIjWI#V69GPorvvQX$IvoboGIVy#V69GPoHomvJl7lQrvvQX$IvoboGIhS#PovrmXjK9AlIvHAyoboGInk#PovrmXjK9AlIvboGIQn#PovrmXjB92y7oboGIOB#PovrmXjboGIuh#PovfXQjvrmXjboGIPz#PovBoVlGNrmXjboGIko#Povd9GPormXjboGIZE#PovrmojboGITi#Povxo9v29yWlmboGIkj#Povxo9v29yxXP67XP6vboGIA4#Povxo9v29yp9QB2yBoy9Q9vlQjboGIbk#Povxo9v29yBoy9Q9vlQjboGILM#Povxo9v29yboGIhN#Povh7lvrQo9kQXNb9SlQB6lzboGINF#Povh7lvrQo9kQXNbXGlQB6lzboGIMg#Povh7lvrQo9kQXNHAyoboGIcY#Povh7lvrQo9kQXNboGIn5#Povh7lvrQo9BV9vvoQkQXNboGIo3#Povh7lvrQo9rmXjr7PlQXv62boGIxz#Povh7lvrQo9W9QjHAyoboGIoC#Povh7lvrQo9ZQQlQW9QjboGIhZ#Povh7lvrQo9cGop9QX9$7oBy9VoboGITe#Povh7lvrQo9cGoB92y7oFXNv6boGIZP#PovWlmy7lvboNX9GboGIvq#PovWlmy7lvbo9GboGIdk#PovF6XjOoQjboGIAs#PovWlmy7lvHAyoboGIXZ#PovWXGr7XPG2oGvboGIkU#Povs9v9hlXGvjboGIev#PovWlmy7lvrvvQX$IvojboGIET#PovpXl7XGHQX2boGIvV#PovpXl7XGBV97oboGIy1#PovpXl7XGrvvQX$IvojboGIHD#PovWlmy7lvboGIi1#Povh7lvrQo9cGoboGIl7#Povh7lvrQo9BV9vvoQboGIvm#PovrmojHXv7otboGIsJ#PovrmojHXv7otEboGIxU#PovrmojHXv7oRboGIYv#PovrmojHXv7ogboGIOF#PovrmojHXv7oboGIAG#PovHXv7oboGIDM#PovBI$vXv7oboGII9#PovHXv7oBI$vXv7oboGINQ#PovKoPoGNKlV9vXlGboGItB#PovKoPoGNhljXvXlGboGItE#PovKoPoGNWlQNoQboGIec#PovKoPoGNboGIL2#PovYGNXV9vlQhljXvXlGboGIBZ#PovYGNXV9vlQboGIZ8#PovsoVlQ9vXlGjWlQNoQboGIVV#PovsoVlQ9vXlGjhljXvXlGboGIvs#PovsoVlQ9vXlGjs9v9boGIWX#PovsoVlQ9vXlGjKoPoGNboGIHd#PovsoVlQ9vXlGjJlGnXNoGVoKoCo7boGIFS#PovsoVlQ9vXlGjJlGnXNoGVoHAyoboGIT3#PovsoVlQ9vXlGjJlGnXNoGVoYGvoQC97jboGIdK#Pova9y79GboXoQboGIJ0#PovsoVlQ9vXlGjboGIVK#PovcCoQ79Ajbo2o$oQjboGIaP#PovcCoQ79AjKoPoGNboGIHk#PovcCoQ79AjhljXvXlGbo2$oQboGIyZ#PovcCoQ79AjhljXvXlGboGIiR#PovcCoQ79AjH6XVOGojjboGILk#PovcCoQ79AjJl7lQBV6o2ojboGIlY#PovcCoQ79AjJl7lQboGIBa#PovcCoQ79AjkQ9y6HAyoboGIh5#PovcCoQ79AjkQ9y6son9I7vboGIBV#PovcCoQ79AjkQ9y6boGIlp#PovcCoQ79AjhQlyoQvXojboGIA6#PovKoPoGNcCoQ79AjhljXvXlGboGInj#PovKoPoGNcCoQ79AjboGIwI#PovcCoQ79AjboGIfY#PovWXGs9v9hoQVoGvX7oboGIC9#PovWXGs9v9UI9GvX7oboGIm1#PovWXGs9v9JIjvl2WXGboGItK#PovWXGs9v9JIjvl2boGIEx#PovWXGs9v9boGIkW#PovkQlIyB92y7ojboGIps#PovB2yK9$o7xXP67XP6vKoCo7boGIdB#PovB2yK9$o7xXP67XP6vboGICx#PovB2yK9$o7boGIE2#Povp9QK9$o7xXP67XP6vKoCo7boGIVH#Povp9QK9$o7xXP67XP6vboGIz8#Povp9QK9$o7boGIpS#PovkQ9y6h9QvboGIAu#PovflGvBvA7oboGIDl#Povs9v9hlXGvrvvQX$IvojhQlyoQvAB92y7oboGIe5#Povs9v9hlXGvrvvQX$IvojhQlyoQvAboGIBn#Povs9v9hlXGvrvvQX$IvojboGIDk#PovsoGNQlPQ92Jl7lQboGIbR#PovsoGNQlPQ92jboGIi3#Povb9yjboGIi6#PovkQ9y6HAyoboGIuv#PovkQ9y6cQXoGv9vXlGboGIL4#Povb9QPXGjboGIO7#PovB69NojboGIeD#PovJ9GC9jWlQNoQboGIHP#PovkQ9NXoGvjcQXoGv9vXlGboGIwC#PovkQ9NXoGvjHAyoboGIUn#PovkQ9NXoGvjboGIg2#PovW9VOPQlIGNHAyoboGIZF#PovW9VOPQlIGNboGIYC#PovflGvjBXToBvA7oboGIzI#PovflGvjboGIJ3#PovK9AlIvp9QboGIXe#PovK9AlIvB2yboGIzp#PovK9AlIvboGIwL#PovBoPQoP9vXlGboGIZ2#PovJl7lQByoVvQI2boGIqV#PovJl7lQByoVvQI2BV6o2oboGIMB#PovJl7lQBV6o2oboGIOu#PovJl7lQjByoVvQI2Jl2yboGIco#PovJl7lQW7XGNHAyoboGIAX#PovJl7lQjboGIv3#PovH6o2oboGIf1#PovkoGoQ97boGICq#PovBzXvV6B2yHlrGGlv9vXlGboGIdH#PovBzXvV6rGGlv9vXlGHlB2yboGIv7#PovBzXvV6B2yrGGlv9vXlGHlYNboGIiE#PovBzXvV6p9QHlrGGlv9vXlGboGITV#PovBzXvV6rGGlv9vXlGHlp9QboGIFl#PovBzXvV6p9QrGGlv9vXlGHlYNboGIsu#PovBzXvV6B92y7ojboGIlb#PovBzXvV6p9QX9$7ojboGIxt#PovBzXvV6boGIJP#PovJlGCoQv_I2oQXVHlBvQXGPboGIPu#PovJlGCoQvBvQXGPHl_I2oQXVboGIB5#PovJlGCoQvp9QB2yboGIVF#PovJlGCoQvboGIoG#PovHQ9GjnlQ2hoQVoGvboGIaN#PovHQ9GjnlQ2gBVlQoboGImr#PovHQ9GjnlQ2d9vXlboGIaX#PovHQ9GjnlQ2d9vXlKoCboGInN#PovHQ9GjnlQ2d9vXlkQyboGIy4#PovHQ9GjnlQ2d9vXlB2yboGIX5#PovHQ9GjnlQ2boGIjH#PovrmXjHQ9GjnlQ2boGIbB#PovBlQvB2yYGvoGjXvAboGIjW#PovBlQvp9QYGvoGjXvAboGIX7#PovBlQvB2yJ9vboGIWf#PovBlQvp9QJ9vboGIka#PovBlQvB2yboGIx0#PovBlQvp9QboGIq7#PovBlQvJ69GPoboGIWQ#PovBlQvboGIj6#PovhXClvboGIC0#PovdN9v9jovjboGI3dKjM6#PovdN9v9jovjboGIKX$Q9QXojyz#PovdN9v9jovjboGITt#Povd9GPoboGIgL#PovBI229QAHAyoboGIxY#Povs9v9boGIkq#PovKlojjf92X7AboGIQb#PovKlojjBv9vXjvXVjboGIxE#PovKlojjBIQn9VoboGICP#PovKlojjboGIWh#PovUI9GvX7odoPQojjXlGboGIeT#PovxXjvlPQ92soGjXvAboGING#PovxXjvlPQ92boNX9GKXGoHAyoboGIBD#PovxXjvlPQ92HAyoboGId0#PovxXjvlPQ92Bv9vboGIvd#PovxXjvlPQ92soGjXvAhljXvXlGboGIZk#PovxXjvlPQ92boGIDY#PovxXjvlPQ92JQo9voboGIjL#PovJlGvlIQHAyoboGIE0#PovJlGvlIQBv9vboGIN4#PovJlGvlIQboGIj2#PovJlGvlIQJQo9voboGIMu#PovscZboGIXE#PovscZJlGnXPIQ9vXlGboGIjc#PovscZkQ9y6HAyoboGIAZ#PovscZkQ9y6BXToboGII8#PovscZHlyl7lPAboGIkN#PovscZrmojboGIAD#PovscZrmXjboGIry#PovscZrmXjBoQXojboGIYF#PovdoPQojjXlGboGIeY#Povb9PGXnXV9vXlGboGIrs#Povh9Q92ovoQjboGIfe#PovdoyQlNIVX$7odojo9QV6boGIos#PovfX7oboGIcU#PovZmy7lQoboGIPA#PovJlGnXPIQ9vXlGboGIZg#Povr7XPG_ovzlQOboGIfg#PovsXjvQX$Ivo_ovzlQOboGIRJ#Povdlv9vo_ovzlQOboGIcD#PovcQNoQ_ovzlQOboGIjI#Pov_ovzlQOsoVlQ9vXlGjhljXvXlGboGIli#Pov_ovzlQOsoVlQ9vXlGrvvQX$IvojboGIbe#Pov_ovzlQOsoVlQ9vXlGjHAyoboGIfd#Pov_ovzlQOsoVlQ9vXlGjboGIbg#Pov_ovzlQO_lNoZNPorvvQX$IvojboGISU#Pov_ovzlQO_lNorvvQX$IvojhQlyoQvAboGIvc#Pov_ovzlQO_lNorvvQX$IvojboGIRj#Pov_ovzlQOZNPorvvQX$IvojhQlyoQvAboGISJ#PovWXGENB69yoboGIB9#PovWXGENboGILc#Pov_ovzlQOZNPorvvQX$IvojboGInR#jovboGIKK#QojovboGIjAt#XGXvX97XToboGIjn6#9NNKXGOsXCvo#j6lzKXGOsXChp#9NNdo2lCoKXGOKXjvoGoQjB0#V7XVOKXGOcC#2lIjolCoQKXGORT#2lIjolIvKXGOSD#QojovKXGOsXCRv#QojovKXGOjoU#XGXvX97XToKXGOjhe#9NNYGnlsXCZG#QojovYGnlBy9Gnv#n79j6YGnlBy9Gs1#j6lzYGnlBy9GpB#XGXvX97XToHll7vXyfv#9NNblIjohljXvXlGsXCfy#j6lzblIjohljXvXlGCS#QojovblIjohljXvXlGSN#XGXvX97XToHll7vXyblIjogN#9NNHll7vXysXCwl#9NNdo2lCoHll7vXysXCjKXjvoGoQjsv#V7ljoHll7vXysXCX6#9NNb9QOoQHll7vXysXCKt#j6lzHll7vXysXCi2#QojovHll7vXysXCjqw#Povb9QOoQc$SoVvb9yzi#Povb9QOoQhljXvXlGm3#Povb9QOoQBVlyoOV#9NNb9QOoQcyvXlGjYE#Povb9QOoQJlGnXPIQ9vlQc$SoVvson9I7vwQ#Povb9QOoQJlGnXPIQ9vlQc$SoVvml#9NNb9QOoQJlGnXPIQ9vlQQV#9NNdo2lCob9QOoQJlGnXPIQ9vlQKXjvoGoQjWu#V7ljob9QOoQJlGnXPIQ9vlQSM#Qo2lCob9QOoQaH#9NNb9QOoQoB#V69GPoHAyob9QOoQHW#vlPP7ob9QOoQiO#2lNXnAb9QOoQBK#QoV97VI79vob9QOoQhljXvXlGnF#IyN9vob9QOoQTE#j6lzh9jzQNsXCmM#9NNdo2lCoh9jzQNKXjvoGoQjHT#V7ljoh9jzQNsXCbQ#jov3Gjovh9jzQNto#9NNHll7$9QjT7#PovHll7$9QHlyson9I7vYvo2jJlGnXPIQ#jovHlyHll7$9QYvo2jpXjX$X7XvAO6#jovHll7$9QYVlGVW#9NNHll7$9QKonvGQ#9NNHll7$9QHlyhQ#9NNHll7$9QWlvvl2gM#9NNHll7$9QdXP6vDK#9NNdo2lCoHll7$9QKXjvoGoQjSF#9NSIjvDIyAvoQk3#NXjy9vV63YZCoGvje#V69GPoflGvf92X7AXB#V69GPoJl7lQBV6o2oS1#QojovBv9VOkE#ML$q#j6lzZmy7lQoQTA#jovK9jjlJB#j6lzJIjvl2XToQVz#j6lzpXozVb#j6lzs9v9sov9X7jrZ#vlPP7ob9mX2XTopXozfA#9NNJ69vYGvoQn9VoYZ#9NNJ69vHll7$9QXQ#9NNJ69vJlGnXPIQ9vlQuC#9NNJ69vHomvGq#9NNJ69vBIPPojvXlGjSy#9NNJ69vH6I2$jjP#9NNJ69vcIvyIvA0#GomvhQoCkQ9y6Ax#9NNdo2lCoJ69vYGvoQn9VoKXjvoGoQjYq#j6lzJ69vYGvoQn9VoAh#6XNoJ69vYGvoQn9VoIb#vlPP7oJ69vYGvoQn9Von7#V69GPoJlyX7lvHlPP7oEN#V7XVOJlyX7lvJlGnXPIQ9vlQez#V7XVOJlyX7lvkoGoQ9vlQrL#V7XVOH6I2$jVT#yQoCKKbci#GomvKKbHj#QoNlKKbye#Q9voKKbrd#jzXvV6cIvyIvH9$jh#V7ljoJ69vcIvyIveW#9jOKKbFB#jovJlyX7lvc$SoVvRP#XjH6QooJl7I2GkQ9y6WN#XjHzlJl7I2GkQ9y6Rn#XjJl2$lkQ9y6FU#XjkQ9y6BIyylQvoNl8#PovHAyoJ79jjdP#PovBIPPojvXlGjJ8#PoGoQ9voJlGnXPlS#PoGoQ9voZm92y7ojNe#jovJ9QovHlZGNjv#QojovJlyX7lvIn#IyN9vo3YfG#9yy7ABIPPojvXlGkb#PoGoQ9vorGNB6lzDBc_NL#OoANlzGrjOIG#C97XN9vohQl2yvK8#9NNYGnlJlNosXCqU#PovJlNoHll7$9Qsd#PovJlNosXCYVlGjw2#9NNdo2lCoJlNoKXjvoGoQjDR#Qo2lCoJlNoYGnlL7#V7XVOJlNoNr#V7XVOJ69GPoJlNojX#V7XVOBo7oVvJlNoeK#V7XVOZNXvJlNocK#C97XN9voJlNoUG#j9CoZNXvoNJlNoHh#V7XVOB9CoJlNoLm#XGyIvJlNoPj#IyN9voJlNoJlGvoGvLW#Povs9v9DBc_ro#V7o9Gs9v9c$SoVvjp#PovJlGnXPDBc_sC#PovZCoGvjDBc_rT#PovrnvoQdoGNoQDBc_hI#PovJlNoDBc_DBQZ#IyN9voJlNosXCpt#IyN9voYGnlsXCUF#jvA7oJlNosXCvw#j6lzsXCyP#6XNosXCof#V7XVOB6lzJlNocE#V7XVOB6lzZGP7Xj6JlNoOz#V7XVOB6lzdJlNoRa#V7XVOB6lzhAv6lGJlNoid#V7XVOB6lzJmy7lvJlNobK#V7XVOdoydojo9QV6HL#V7XVOB6lzbov9JlNoLd#6XNoJlNosXCTa#jovJlNosXjy79APD#j6lzYGnlsXCK0#6XNoYGnlsXCzb#XGXvX97XToJlNoYGnlih#9NNWXGJlGnXPIQ9vlQwh#$XGs9v9WAhoQVoGvX7odA#$XGs9v9WAUI9GvX7oZH#$XGs9v9JIjvl2mg#C97XN9voWXGGXGPzO#nXG97XToWXGXGPs9v9Iu#9NNdo2lCoWXGKXjvoGoQjuQ#9yy7AWXGJlGnXPIQ9vlQg6#NlGoWXGJlGnXPIQ9vlQzZ#V7ljoWXGJlGnXPIQ9vlQZj#9NNJIjvl2XToQft#yQoy9Qo3YKJ#VQo9voKonvh9Go7jg#VQo9voh9Go7BoVvXlGbz#ylyI79voKonvboGIjl#ylyI79voBv9GN9QNboGILY#VQo9vodXP6vh9Go7HM#9NNdo2lCoJIjvl2XToQKXjvoGoQjKonvh9Go7fi#V7XVOJIjvl2XToQKonvYvo2fu#jvlydoCo97ZCoGvR9#V7ljoJIjvl2XToQvg#9NNdo2lCoJIjvl2XToQKXjvoGoQjdXP6vh9Go7N7#$XGNxo9NoQZCoGvjZJ#$XGNK9IGV6oQZCoGvjcf#$XGNYGvoPoQZCoGvjTI#$XGNY29PokQlIyZCoGvjgs#$XGNHomvYGyIvZCoGvjHB#$XGNkQXNZCoGvjRw#$XGNJl7lQWlQNoQZCoGvjIl#$XGNHlPP7oZCoGvjWD#$XGNJl2$lkQlIyZCoGvjxd#$XGNBo7oVvWlmojZCoGvjrG#$XGNBo9QV6ZCoGvjvx#Q9GPoJIjvl2XToQyM#V7XVOJIjvl2XToQrVvXlGmy#69GN7orVvXlGsXjy9vV6og#V7XVOJIjvl2XToQxo9NoQcl#7l9NfX7oJIjvl2XToQBN#N$7J7XVOJIjvl2XToQJI#V69GPoJIjvl2XToQXy#jVQl77JIjvl2XToQEG#NQ9PBv9QvJIjvl2XToQMj#NQ9PZGNJIjvl2XToQkR#NQ9PcCoQJIjvl2XToQPH#NQ9PZGvoQJIjvl2XToQHb#NQ9PKo9CoJIjvl2XToQRl#NQlyJIjvl2XToQkz#IyN9voJIjvl2XToQhQlyoQvAp97Iovv#V7XVOJIjvl2XToQJ9voPlQAu0#V7XVOJIjvl2XToQBo9QV6Fv#V7XVOJIjvl2XToQJ9GVo7h6#9NNdo2lCoJIjvl2XToQKXjvoGoQjII#PovJIjvl2XToQYvo2Y29PoxL#9NNJIjvl2XToQKonvYvo2nt#PovJIjvl2XToQJlGv9XGoQo6#PovJIjvl2XToQJlGv9XGoQd9zFr#PovJIjvl2XToQdXP6vYvo2pN#PovJIjvl2XToQdXP6vYvo2Jl2$lsX#PovJIjvl2XToQdXP6vYvo2Jl7lQga#PovJIjvl2XToQdXP6vYvo2YGvdv#PovJIjvl2XToQdXP6vYvo2xo9NoQKg#PovJIjvl2XToQdXP6vYvo2xo9NoQKXGOFXNPovQi#PovJIjvl2XToQdXP6vYvo2xo9NoQKXGOKN#PovJIjvl2XToQdXP6vYvo2BI$xo9NoQxA#PovJIjvl2XToQdXP6vYvo2K9IGV6oQi5#PovJIjvl2XToQK9IGV6oQFXNPovMO#PovJIjvl2XToQdXP6vYvo2J79jjUk#PovJIjvl2XToQdXP6vY29PojkQlIyMQ#PovJIjvl2XToQY29PojkQlIyFXNPovEJ#PovJIjvl2XToQdXP6vHomvY29PojkQlIyDs#PovJIjvl2XToQdXP6vYvo2kQlIyjC#PovJIjvl2XToQdXP6vYvo2Bo7oVvV9#PovJIjvl2XToQdXP6vYvo2Jl7lQBo7oVvZx#PovJIjvl2XToQdXP6vYvo2d9GPoBo7oVvdY#PovJIjvl2XToQdXP6vYvo2HomvrQo9Nw#PovJIjvl2XToQdXP6vYvo2HomvDj#PovJIjvl2XToQdXP6vYvo2kQXNYl#PovJIjvl2XToQdXP6vYvo2Jl7lQWlQNoQF0#PovJIjvl2XToQHlPP7okQlIyxq#PovJIjvl2XToQJlGv9XGoQJl2$lgd#PovJIjvl2XToQJlGv9XGoQJl2$lkQlIyaG#PovJIjvl2XToQJlGv9XGoQKXGOoNJl7lQFXNPovDi#PovJIjvl2XToQYvo2FXNv6hq#PovJIjvl2XToQrmXjHlPP7oEr#PovJIjvl2XToJlGvQl7FXNPovzX#PovJIjvl2XToQxo9NoQKXjvhK#PovJIjvl2XToQZ2yvAaW#nX7oJIjvl2XToQiz#N9v9JIjvl2XToQHQ9Gjyljozs#N9v9JIjvl2XToQJlIGvOQ#N9v9JIjvl2XToQHQ9GjnlQ2tS#N9v9JIjvl2XToQBI229QAlF#N9v9JIjvl2XToQBlQvcP#N9v9JIjvl2XToQT0#lyvXlGjJIjvl2XToQHomvWS#lyvXlGjJIjvl2XToQkQ9y6cQXoGv9vXlGw3#lyvXlGjJIjvl2XToQkQ9y6HAyoQ4#lyvXlGjJIjvl2XToQZQQlQW9QjhQlyoQvXojfI#lyvXlGjJIjvl2XToQr7PlQXv62fl#lyvXlGjJIjvl2XToQB92y7oFXNv6nZ#lyvXlGjJIjvl2XToQp9QX9$7oBy9Vob5#lyvXlGjJIjvl2XToQmi#y7lvJIjvl2XToQdo2lCoBy7l2BI#y7lvJIjvl2XToQK9AlIvrNSIjvBu#y7lvJIjvl2XToQK9AlIvHAyoO0#y7lvJIjvl2XToQJXQVI79QHAyoKW#y7lvJIjvl2XToQWlmy7lvHAyopw#y7lvJIjvl2XToQWlmy7lvs9v9AC#y7lvJIjvl2XToQWlmy7lvWXGGoNr7XPGGa#y7lvJIjvl2XToQWlmy7lvFXj6OoQjD6#y7lvJIjvl2XToQWlmy7lvrvvQX$IvojB1#y7lvJIjvl2XToQWlmy7lvbo9GJl7lQWlQNoQuS#y7lvJIjvl2XToQWlmy7lvboNX9GJl7lQW1#y7lvJIjvl2XToQWlmy7lvboNX9GFXNv6zu#y7lvJIjvl2XToQWlmy7lvpXl7XGlO#y7lvJIjvl2XToQWlmy7lvpXl7XGd9vXlfC#y7lvJIjvl2XToQWlmy7lvpXl7XGBV97oGR#y7lvJIjvl2XToQWlmy7lvpXl7XGrNSIjvoX#y7lvJIjvl2XToQxo9v29yJo77WlmhQlyoQvXojLs#y7lvJIjvl2XToQxo9v29yJo77WlmxXP67XPv6Jl7lQwU#y7lvJIjvl2XToQxo9v29yBoy9Q9voB92y7ojZr#y7lvJIjvl2XToQxo9v29yBoy9Q9vop9QX9$7ojQk#y7lvJIjvl2XToQq3#9mojJIjvl2XToQK9$o7jdg#9mojJIjvl2XToQHomvOt#9mojJIjvl2XToQrmXjhQlyoQvXojIv#9mojJIjvl2XToQrjjXPGVa#9mojJIjvl2XToQkQXNd5#9mojJIjvl2XToQrmXjK9$o7jlm#9mojJIjvl2XToQK9$o7xXP67XP6vuJ#9mojJIjvl2XToQSv#7oPoGNJIjvl2XToQB6lzGe#7oPoGNJIjvl2XToQHomvV3#7oPoGNJIjvl2XToQKlV9vXlGtj#7oPoGNJIjvl2XToQhljXvXlGRp#7oPoGNJIjvl2XToQJl7I2Gjsc#7oPoGNJIjvl2XToQW9VOPQlIGNJl7lQWlQNoQwF#7oPoGNJIjvl2XToQHXv7ob9QPXGRF#7oPoGNJIjvl2XToQHomvb9QPXGXA#XGNXV9vlQJIjvl2XToQhljXvXlGk1#XGNXV9vlQJIjvl2XToQqF#7oPoGNJIjvl2XToQcj#PovJIjvl2XToQcCoQ79AJlGvomvAT#2ov9JIjvl2XToQcCoQ79AHAyoQt#2ov9JIjvl2XToQcCoQ79ABV6o2okt#2ov9JIjvl2XToQcCoQ79AJl7lQvf#2ov9JIjvl2XToQcCoQ79AB6lzKoPoGNpG#2ov9JIjvl2XToQcCoQ79AH6XVOGojjEa#2ov9JIjvl2XToQcCoQ79AjhQlyoQvXojql#2ov9JIjvl2XToQhQlyoQvXojU5#2ov9JIjvl2XToQscZt1#2ov9JIjvl2XToQky#NoVlQ9voJIjvl2XToQb9QOoQYNf7#NoVlQ9voJIjvl2XToQb9QOoQP4#NoVlQ9voJIjvl2XToQsoVlQ9vXlGHAyoEq#NoVlQ9voJIjvl2XToQsoVlQ9vXlGHlyD1#NoVlQ9voJIjvl2XToQsoVlQ9vXlGed#NoVlQ9voJIjvl2XToQTf#PovJIjvl2XToQFQ9GP7XGPJlGv9XGoQkH#PovFQ9GP7XGPJIjvl2XToQBlQvoQhb#2XGX2XToFQ9GP7XGPJIjvl2XToQJlGv9XGoQJa#Qo2lCoZGvQXojs9v9JIjvl2XToQJlGv9XGoQem#9NNZGvQXojs9v9JIjvl2XToQJlGv9XGoQC5#IyN9vos9v9JIjvl2XToQJlGv9XGoQhlyI79vXlGZf#PovFQ9GP7XGPJIjvl2XToQB92y7ojZK#PovFQ9GP7XGPJIjvl2XToQrGGlv9vXlGjtC#PovFQ9GP7XGPJIjvl2XToQp9QX9$7ojn3#PovFQ9GP7XGPJIjvl2XToQsojVQXyvXlGjnX#PovFQ9GP7XGPJIjvl2XToQdlzjh8#PovFQ9GP7XGPJIjvl2XToQJl7I2GjVl#zQ9GP7XGPJIjvl2XToQVo#vll7jJIjvl2XToQxXjvlPQ92kd#vll7jJIjvl2XToQdo2lCoxXjvlPQ92tt#vll7jJIjvl2XToQxXjvlPQ92Bv9vRS#vll7jJIjvl2XToQxXjvlPQ92WXGjbw#vll7jJIjvl2XToQxXjvlPQ92WXGFXNv6Cg#vll7jJIjvl2XToQxXjvlPQ92W9QhQlyoQvXojIm#vll7jJIjvl2XToQxXjvlPQ92soGjXvAhQlyoQvXojbM#vll7jJIjvl2XToQHlPP7oxXjvlPQ92s9v9hlXGvjLS#vll7jJIjvl2XToQHlPP7oxXjvlPQ92boNX9GaV#vll7jJIjvl2XToQxXjvlPQ92boNX9GKXGoHAyoF1#vll7jJIjvl2XToQdoPQojjXlGiv#vll7jJIjvl2XToQdo2lCodoPQojjXlGWC#vll7jJIjvl2XToQdoPQojjXlGJlGnXNoGVoKD#vll7jJIjvl2XToQdoPQojjXlGKoPoGNLV#vll7jJIjvl2XToQUI9GvX7odoPQojjXlGBP#vll7jJIjvl2XToQdo2lCoUI9GvX7odoPQojjXlGZU#vll7jJIjvl2XToQKlojjEK#vll7jJIjvl2XToQdo2lCoKlojjXF#vll7jJIjvl2XToQKlojjJlGnXNoGVozt#vll7jJIjvl2XToQKlojjf92X7AGu#vll7jJIjvl2XToQKlojjBv9vXjvXVjho#vll7jJIjvl2XToQKlojjYvoQ9vXlGxc#vll7jJIjvl2XToQKlojj_lQ297XToZo#vll7jJIjvl2XToQKlojjBy9GhR#vll7jJIjvl2XToQKlojjsoPQoooZ#vll7jJIjvl2XToQKlojjJo77fx#vll7jJIjvl2XToQKlojjBIQn9VoGc#vll7jJIjvl2XToQUUo8#vll7jJIjvl2XToQdo2lCoUUdd#vll7jJIjvl2XToQJsfLh#vll7jJIjvl2XToQdo2lCoJsfAk#vll7jJIjvl2XToQWXGEsEV#vll7jJIjvl2XToQdo2lCoWXGEsPm#vll7jJIjvl2XToQWXGEsWXGjME#vll7jJIjvl2XToQWXGEsWXGFXNv6AJ#vll7jJIjvl2XToQWXGEsB69yokV#vll7jJIjvl2XToQWXGEsJl7lQBV6o2oUp#vll7jJIjvl2XToQJlGvlIQBU#vll7jJIjvl2XToQdo2lCoJlGvlIQS8#vll7jJIjvl2XToQJlGvlIQfX77oNxH#vll7jJIjvl2XToQJlGvlIQKoCo7hQlyoQvXojND#vll7jJIjvl2XToQJlGvlIQW9GNhQlyoQvXojCA#vll7jJIjvl2XToQJlGvlIQs9v9hQlyoQvXojOC#vll7jJIjvl2XToQJlGvlIQHAyoJt#vll7jJIjvl2XToQJlGvlIQBv9vzz#vll7jJIjvl2XToQJlGvlIQJl7lQBV6o2oAP#vll7jJIjvl2XToQBy7l2LN#vll7jJIjvl2XToQblvXlGWAJL#vll7jJIjvl2XToQb9QOoQWAQS#vll7jJIjvl2XToQb9QOoQB69yoAi#vll7jJIjvl2XToQb9QOoQB69yoBV97of9VvlQpJ#vll7jJIjvl2XToQJ7IjvoQZZ#vll7jJIjvl2XToQes#v6o2oJIjvl2XToQhQlyoQvAuy#v6o2oJIjvl2XToQJl7lQjDA#v6o2oJIjvl2XToQByoVvQI2R8#v6o2oJIjvl2XToQW9VOPQlIGNU4#v6o2oJIjvl2XToQW9VOPQlIGNJl7lQYK#v6o2oJIjvl2XToQh7lvWlQNoQk7#v6o2oJIjvl2XToQb9QPXGSL#v6o2oJIjvl2XToQflGvap#v6o2oJIjvl2XToQBR#NloJIjvl2XToQdo2lCoVG#NloJIjvl2XToQHlyl7lPAIJ#NloJIjvl2XToQh7lvjSE#NloJIjvl2XToQK9AlIvDc#NloJIjvl2XToQkQ9y6HAyoSu#NloJIjvl2XToQkQ9y6BXToaq#NloJIjvl2XToQrmXjZ6#NloJIjvl2XToQKu#jo9QV6JIjvl2XToQBo9QV6oR#NQ9zJIjvl2XToQP7#jo7oVvJlGnXPIQ9vXlGjMZ#QojovJIjvl2XToQBo7oVvXlGjT1#jovJIjvl2XToQhQlyoQvAp97Iojb#QojovJIjvl2XToQhQlyoQvAp97Iouq#PovJlGnXPIQ9$7ohQlyoQvXojnc#jo9QV6JIjvl2XToQJu#6oXPv6cnnjovs9v9fX7voQeL#9NNs9v9fX7voQsXCfq#VQo9vos9v9fX7voQHll7$9Qyd#PovkQ9y6YVlGgo#IyN9vos9v9fX7voQW9GGoQJU#VQo9vos9v9fX7voQJlGv9XGoQyt#VQo9vos9v9fX7voQrVVlQNXlGBoVvXlGri#9NNdo2lCos9v9fX7voQKXjvoGoQjA1#n79j6s9v9fX7voQRH#9VvXC9vorVVlQNXlGIw#QojXTos9v9fX7voQxoXP6voF#IyN9vos9v9fX7voQGz#Povs9v9fX7voQJlGv9XGoQOD#Qo7l9Ns9v9fX7voQjtT#QonQoj6s9v9fX7voQjtA#C97XN9vormojcGfX7voQs9v9IX#7l9Ns9v9fX7voQh9Go7WH#yQoy9Qos9v9fX7voQiY#Qo2lCokoGoQXVs9v9fX7voQKXjvoGoQjcQdojovLQ#7l9Ns9v9fX7voQx2#7l9Ns9v9fX7voQkoGoQXVOs#7l9Ns9v9fX7voQB2yp9Qbd#7l9Ns9v9fX7voQ_ovzlQOrr#7l9Ns9v9fX7voQkoGl2oUX#VQo9vos9vofX7voQys#9NNdo2lCos9vos9v9fX7voQKXjvoGoQjuR#XGyIvs9vofX7voQbXGd9GPoEP#XGyIvs9vofX7voQb9md9GPotp#IyN9vos9vofX7voQd9GPot7#oGNs9vofX7voQUd#VQo9vo_I2oQXVfX7voQt8#9NNdo2lCo_I2oQXVs9v9fX7voQKXjvoGoQjGT#V7XVO_I2oQXVfX7voQKXGKlPad#XGyIv_I2oQXVfX7voQbXGd9GPoZm#XGyIv_I2oQXVfX7voQb9md9GPoPX#IyN9vo_I2oQXVfX7voQwZ#oGN_I2oQXVfX7voQnH#Xjs9v9fX7voQoNJK#jovbov9s9v9fX7voQoNmS#PovfX7voQs9v9Jl2ylGoGvcm#PovfX7voQs9v9Az#VQo9voBvQXGPfX7voQCk#7l9NBvQXGPfX7voQPJ#9NNdo2lCoBvQXGPs9v9fX7voQKXjvoGoQjlN#jVQl77BvQXGPfX7voQFJ#oGNBvQXGPfX7voQKk#jo9QV6BvQXGPfX7voQDZ#6XNos9v9fX7voQmk#Qojovs9v9fX7voQwk#IyN9voBo7oVvBvQXGPfX7voQUO#QojovBo7oVvBvQXGPfX7voQyf#IyN9voBo9QV6fX7voQjPY#6XNos9v9fX7voQoq#Qojovs9v9fX7voQnh#Qo$IX7Ns9v9fX7voQue#XGXvX97XTos9v9fX7voQjlh#9NNs9v9H9$7osXCGX#IyN9vos9v9H9$7oJo77WlQNoQjh1#9NNs9v9H9$7oJo77AB#PovH6QooW9QjYVlGtd#IyN9vos9v9H9$7oH6QooW9QjYVlGz0#VQo9vos9v9H9$7oW9GGoQnV#VQo9vos9v9H9$7oHll7$9QzE#VQo9vos9v9H9$7odllvBk#VQo9vos9v9H9$7oH9$7oCF#VQo9vos9v9H9$7oBv9vIjef#VQo9vos9v9H9$7oh9PXG9vXlGxr#2lNXnAs9v9H9$7oHll7$9QpXozdm#9NNdo2lCos9v9H9$7oKXjvoGoQjWM#9NNdo2lCos9v9H9$7oJo77KXjvoGoQjqm#NojvQlAs9v9H9$7orh#NQlys9v9H9$7oBL#NQ9PZGvoQs9v9H9$7orM#NQ9PcCoQs9v9H9$7oLp#NQ9PKo9Cos9v9H9$7ouI#jVQl77s9v9H9$7og7#jVQl77H9$7oGA#vlPP7os9v9H9$7oHll7$9QEc#29mX2XTobXGX2XToH9$7oQ7#QojovBVQl77H9$7oby#jvQXyoH9$7oaE#PQlIyH9$7oCE#Vl7lQH9$7oLJ#V7XVOscZs9v9H9$7oG5#V7XVOK9AlIvs9v9H9$7oki#nX7voQdojovH9$7oGn#j9CoH9$7oWb#vQ9Gjyljos9v9H9$7oFm#GovzlQO3yN9voH9$7oCM#vlPP7os9v9H9$7oh9PXG9vXlGDC#V69GPos9v9H9$7oh9PoBXTofW#nXQjvs9v9H9$7oh9PowJ#yQoCs9v9H9$7oh9PoEo#Gomvs9v9H9$7oh9PoMI#79jvs9v9H9$7oh9PowO#IyN9vos9v9H9$7oh9PXG9vXlGYGnlwW#6XNos9v9H9$7oxT#Qojovs9v9H9$7ocS#QoxXNos9v9H9$7oJl7jV0#Qojovs9v9H9$7odlzjJl7jtP#2lIjo2lCos9v9H9$7oxo9NoQYa#oGNs9v9H9$7oJl7I2GsQ9PLa#2lIjoNlzGs9v9H9$7oxo9NoQFx#XjdojXTos9v9H9$7oXk#PovJl7I2Gjs9v9H9$7oxo9NoQboGIVc#PovJl7I2Gjs9v9H9$7oxo9NoQfX7voQboGIl3#V7XVOs9v9H9$7oxo9NoQfX7voQvr#V7XVOs9v9H9$7oxo9NoQboGIhx#V69GPoH9$7oJl7rvvQX$IvoMW#Povr77Jl7I2Gjs9v9H9$7oxo9NoQboGIMm#V7XVOs9v9H9$7oxo9NoQr7XPGboGIZA#V7XVOs9v9H9$7oxo9NoQBlQvboGIvt#V7XVOs9v9H9$7oxo9NoQhXG3GyXGvR#V7XVOs9v9H9$7oxo9NoQPM#V7XVOs9v9H9$7oJo77qf#Qojovs9v9H9$7orVvXCoZ7o2oGvjOx#6XNo3G6XNos9v9H9$7oJl7I2GXC#jovs9v9H9$7osX2oGjXlGjrR#Povr77_ovzlQOrvvQX$Ivojq0#PovpoGGJl2y9Qv2oGvjML#9NSIjvs9v9H9$7odlzjJl7jsh#9NSIjvs9v9H9$7oIU#jlQvs9v9H9$7opoGGdE#jlQvs9v9H9$7oyN#IGjlQvs9v9H9$7oV5#Povs9v9rjc$SoVvoN#jovs9v9H9$7oJ9V6ovJ#IyN9vos9v9H9$7oJ9V6osX2oGjXlGjdr#Pov_ovzlQObov9s9v9H9$7ocb#PovpoGGbov9s9v9H9$7osD#PovJlQQo79vXlGbov9s9v9H9$7oMo#PovBv9GN9QNbov9s9v9H9$7oWG#PovBv9GN9QNkQlIyoNbov9s9v9H9$7osz#IyN9vos9v9H9$7oiU#PovsXjy79Ap97IoflQJo77VI#Povs9v9H9$7oxo9NoQBlQvsXCjt#Povs9v9H9$7oxo9NoQfX7voQsXCn1#Povs9v9H9$7oxo9NoQboGIRE#Povs9v9H9$7oJo77xo9NoQdojXToCd#Qojovs9v9H9$7oJo77jzB#Xjs9v9H9$7oJl7I2G_I2oQXVOb#V97VI79vos9v9H9$7oJl7I2GFXNv6jKf#jovs9v9H9$7oxo9NoQBlQvsXjy79ATk#IyN9vos9v9H9$7osX2oGjXlGjYGnlh2#Xjp97Ios9vofD#Povs9v9H9$7oJo77p97Ioc$SoVvQR#jovs9v9H9$7oJo77p97IoUm#PovJl779yjoZmy9GNYVlGdx#Povs9v9H9$7oJo77JlGvoGvUE#XGjoQvY29PoYGs9v9H9$7oJo77di#XGjoQvJlGvoGvYGs9v9H9$7oJo77dI#97XPGs9v9H9$7oJo77Homvvu#7l9Ns9v9H9$7op97IojmN#yQoy9Qos9v9H9$7od2#9NSIjvs9v9H9$7osXCiL#oGNs9v9H9$7oJl7I2GdojXToGF#IyN9voBo9QV6s9v9H9$7osT#Qojovs9v9H9$7oBo9QV6K2#V7XVOdojovBo9QV6s9v9H9$7ouK#XGXvX97XTos9v9H9$7out#NQ9zscZH9$7oJ9GC9jzN#NQ9zscZH9$7oen#9NNdo2lCos9v9H9$7oscZKXjvoGoQjDE#V7XVOs9v9H9$7oscZWlNAvI#V7XVOs9v9H9$7oscZBm#Qo2lCoscZH9$7ojVC#9NNdo2lCodojXToQKXjvoGoQjNI#2lIjoNlzGJ9GC9jdojXToQOT#XGXvX97XToJ9GC9jdojXToQZCoGvjuL#9NNblvXlGsXCpy#j6lI7NJQo9voblvXlGsXCrt#V97VI79voblvXlGsXCsX2oGjXlGjgr#VQo9voblvXlGsXCJlGv9XGoQpC#jvA7odoyQlNIVXGPblvXlGsXCu1#VQo9voB7XNoQJlGvQl7jkL#VQo9vodoyQlNIVoQJlGvQl7jfU#ylyI79voB7XNoQHXVOjrGNK9$o7jjF#ylyI79vodoyQlNIVoQKXjvqv#9jjo2$7oblvXlGsXCXl#9yyoGNrGNfXG97XToblvXlGsXCQl#9GX29voblvXlGsXCYGZ9#jovblvXlGc$SoVvJc#IyN9voblvXlGYGNXVojpI#9NNdo2lCoblvXlGKXjvoGoQjIW#V7ljoblvXlGPB#2lIjoNlzGblvXlGKq#IyN9voblvXlGHlJIQQoGvaS#IyN9voblvXlGZp#IyN9vodoyQlNIVXGPLx#XGXvX97XTos9v9doyQlNIVoblvXlGIC#PovsQ9PsXCsX2oGjXlGjQT#PovdoyQlNIVoblvXlGsQ9PYVlGxV#PovxHbKdoyQlNIVoblvXlGsQ9PYVlGz4#QoyQlNIVoblvXlGJlNogv#QoyQlNIVoblvXlGsQ9Pt9#QoyQlNIVoblvXlGs9v9HlYNmGb#V7XVOblvXlGEW#V7XVOblvXlGBo7oVvXlGxX#IyN9voblvXlGBo7oVvXlGOJ#IyN9voblvXlGBo7oVvXlGBV97orY#QonQoj6blvXlGsXCLP#Qo2lCoblvXlGsXCIo#oGNblvXlGYe#QojovdoyQlNIVosQ9PsXCrN#QojovblvXlGsXCLH#PovrVvXCoK9AlIvy3#jovrVvXCoK9AlIvuG#PovrVvXCoK9AlIvYGNXVojbov9N9v9QA#XjsQ9P_lvJ7XVObO#jovYGNXVojrnvoQF6oo7ZCoGvKG#NQ9zYGNXVojrnvoQF6oo7ZCoGvGi#jovd9GPojrnvoQF6oo7ZCoGvBd#NQ9zd9GPojrnvoQF6oo7ZCoGvVf#jovYGNXVojrnvoQh9GGZCoGvmP#jovd9GPojrnvoQh9GGZCoGvOY#NQ9zYGNXVojrnvoQh9GGZCoGvHO#QoPXjvoQsQ9P_ovzlQOBH#QoPXjvoQsQ9PkoGl2oNT#QoPXjvoQsQ9PJXQVI79QYo#QoPXjvoQsQ9PBV9vvoQJe#XjKoPoGNZv#Xjb9QOoQsQ9PXz#QoPXjvoQB9GOoAH7#QoPXjvoQb9yyx#QoPXjvoQsQ9POf#IyN9vosQ9PJXQVI79QRz#IyN9vosQ9PBV9vvoQusmo#IyN9vosQ9PBV9vvoQe2#IyN9vosQ9P_ovzlQODo#IyN9vosQ9PkoGl2oun#IyN9vosQ9Pb9ynJ#IyN9vosQ9Pb9QOoQJY#QojovB9GOoAfH#IyN9vosQ9PB9GOoAWK#QojlQvB9GOoAYI#QojlQvB9GOoArmXjhO#IyN9vosQ9PlL#oGNsQ9Pv9#oGNsQ9P_ovzlQOED#C97XN9vobXGb9mL0#69GN7osQ9PZCoGvJXQVI79QI7#69GN7osQ9PZCoGv_ovzlQOEu#69GN7osQ9PZCoGvxo9v29yiA#69GN7osQ9PZCoGvJlQQo79vXlGld#XjHQ9GjnlQ2oNrmXjX8#XjHQ9GjnlQ2oNd9GPoo7#69GN7osQ9PZCoGvBV9vvoQp8#69GN7osQ9PZCoGvkoGl2oUB#69GN7osQ9PZCoGvcGosX2oGjXlGfa#69GN7osQ9PZCoGvLU#IyN9voK9AlIvsQ9PQr#oGNsQ9PK9AlIvYT#QojovsQ9PvW#PovaoAJlNotG#QoPXjvoQaoASX#j6lzB6lQvVIvjLv#IGNlgQ#QoNlf8#69GN7oh9GGXGPu8#9QQlzblCoQm#9GX29voh9Q92jh9#QojovL6#69QNdojovbb#Qojovgll2h9GNV#Qojovd9GPoMn#29jvoQs9v9H9$7odojovhz#29jvoQdojovff#j6lzxXNoBo7oVvoNs9v9xR#$Ql9NV9jvsQ9zYnQ92ojdT#$Ql9NV9jvsQ9zYt#$Ql9NV9jvxXNNoGyO#QojovxXNNoGdZ#nX7voQBo7oVvoNKy#XjBo7oVvoNK5#jo7oVvp9QjB2yjFXv6rGGlv9vXlGp97IoU2#vlPP7oBo7oVvoNs9v9Yd#9NNdo2lCoHlBo7oVvoNrE#NQ9zr77Bo7oVvoNK9$o7jCu#NQ9zBo7oVvoNK9$o7oj#QojovBo7oVvoNiu#PovBo7oVvoNZmV7INoNfQl2doGNoQEZ#PovsoGNQlPQ92J7XyrQo9TB#PovsoGNQlPQ92W7lVOBXTow1#PovsoGNQlPQ92Hlycnnjovya#PovsoGNQlPQ92KonvcnnjovVv#PovsoGNQlPQ92YGCoQjovB#NQ9zKXGo9QsoGNQlPQ92Wo#NQ9zdlIGNsoGNQlPQ92N8#Tll2soGNQlPQ92jG#2lNXnAsoGNQlPQ92tz#VlGvomv2oGIJ9GC9jBJ#2lIjoNlzGJ9GC9jNJ#V7XVOJ9GC9jH4#N$7V7XVOJ9GC9jVr#z6oo7J9GC9juO#NQlyJ9GC9jbm#NQ9PZGvoQJ9GC9jno#NQ9PcCoQJ9GC9jBx#NQ9PKo9CoJ9GC9jCw#9NNdo2lCoJ9GC9jKXjvoGoQjtQ#Xjxo7ytb#69GN7oF6oo7ZCoGvAK#PovHQoo_lNoPU#69GN7oHQooJ7XVOUc#69GN7oscZJ7XVOKw#69GN7oJ6lQNblIjocCoQE4#69GN7oB9GOoAblIjocCoQNt#PovZCoGvrQo9s9v9oW#69GN7oblIjoZCoGvjEe#nlQ29vJllQNjxM#NQ9zrQo9SG#9NSIjv_ovzlQOc$SoVvjyk#9NSIjv_ovzlQOc$SoVvflGvFN#9NSIjv_ovzlQOc$SoVvtRA#9NSIjv_ovzlQOc$SoVvRt0#9NSIjvW9VO_ovzlQOc$SoVvtfR#9NSIjvW9VO_ovzlQOc$SoVvRbU#9NSIjv_ovzlQOblIjoslzGtPQ#9NSIjv_ovzlQOblIjoslzGRop#V7o9QxXP67XP6vJ9GC9jTD#6XP67XP6vJ9GC9jg8#n79j6F5#XGXvX97XToJ9GC9jZCoGvjFT#NojvQlASn#NojvQlAYGscbpD#2lGXvlQYGjv9GVojbx#Qo2lCoc7NJlGv9XGoQdh#Qo2lCoYGjv9GVox7#V7o9GZCvKXjvoGoQjwE#V7lGoZCoGvRR#V7o9GZCoGvYGrQPI2oGvjNd#PovcnnjoviM#QoPI79QJllQNXG9vojhh#QoGNoQc$SoVvJllQNXG9vojFk#Qo79vXCoJllQNXG9vojWt#9$jl7IvoJllQNXG9vojY9#9NSIjvoNJllQNXG9vojEj#XjhlXGvYGjXNohl7APlGqq#XjrQo9YGjXNohl7APlGiG#Xjc$SoVvYGjXNorQo9U7#XjhlXGvYGjXNorQo9a5#XjZCoGvX1#PovdoGNoQc$SoVvjhl#PovdoGNoQc$SoVvYGNXVojpo#PovdoGNoQc$SoVvWAYGNomCD#PovWlIGNjtRal#Pov3GPQlIyoNs9v9c$SoVvZB#Povs9v9c$SoVvJlGvomvxo#jy7XvKX2XvyA#Povs9v9c$SoVvdllvFz#Povs9v9c$SoVvp9QjYV#Povs9v9c$SoVvB2yjjJ#Povs9v9c$SoVvtsI#Povs9v9c$SoVvgM1#Povs9v9c$SoVvhQlyIs#Povs9v9c$SoVvs9v9D8#omvQ9Vvs9v9c$SoVvfQl2YNoGvXnXoQjSH#NovoQ2XGos9v9c$SoVvYGNXVojNu#$IX7NBv9GN9QNs9v9c$SoVvDz#$IX7NkQlIyoNs9v9c$SoVvIg#omvQ9Vvs9v9c$SoVvDq#omvQ9Vvs9v9c$SoVvfXj6uB#Povbov9N9v9flQYGNXVojVP#omvQ9Vvs9v9c$SoVvJlQQo79vXlGBf#omvQ9Vvs9v9c$SoVvpoGGM2#omvQ9Vvs9v9c$SoVv_ovzlQOhF#omvQ9Vvs9v9c$SoVvkoGl2ojr#omvQ9Vvs9v9c$SoVvfQl2YGNXVojaY#n79vvoGs9v9c$SoVvDB#PovBI229QAs9v9c$SoVvmj#jov3joQZCoGvjls#IjoQZCoGvjJ7XVOYD#IjoQZCoGvjs$7J7XVOca#IjoQZCoGvjblvXlGs4#IjoQZCoGvjblIjolCoQfw#IjoQZCoGvjblIjo2lColr#IjoQZCoGvjsQ9Pce#IjoQZCoGvjF6oo7ha#Qojovf79Pjsp#2lIjo2lCoslVDf#nlVIjZ7o2oGvf3#jov3GjovsQ9PPXGPH9QPovrz#QoPXjvoQblIjo2lCoCh#IyN9voblIjo2lCoAl#oGNblIjo2lCoj8#2lIjoNlzGslVDy#2lIjoIyslVON#VlGvomvslVdG#OoANlzGslVDh#OoAIyslVnK#QojXToFXGNlzJj#jVQl77FXGNlzqB#XGXvslVZCoGvjYh#XGXvJIQjlQN3#XGXvX97XToZCoGvjUr#9GX29voZ7o2oGvnb#vQ9GjnlQ2c$SoVvw6#QojXToblCoBp#vQ9GjXvXlGrVVlQNXlGLA#vQ9GjXvXlGb9PXVOk#vQ9GjXvXlGb9PXVJIjvl2XToQRb#vQ9GjXvXlGxXNoUU#XGXvHQ9GjXvXlGjKM#XjHQ9GjXvXlGKV#PovHQ9GjXvXlGBvoyjHa#PovHQ9GjXvXlGc$SoVvjBvoyjnO#PovHQ9GjXvXlGBv9PPoQXGPBvoyjd8#vQ9GjXvXlGDO#vQ9GjXvXlGhQlyoQvAs9v9ij#vQ9GjXvXlGhQlyoQvAs9v9_lYGvoQyl79vow0#vQ9GjXvXlGhQlyoQvAs9v9HQ9Gjy9QoGVADa#vQ9GjXvXlGb9yVB#o9jop97CY#XGvoQyl79vo_I2$oQES#XGvoQyl79voJ6lQNNa#XGvoQyl79voJl7lQn0#XGvoQyl79voHomvflGvAN#jovHQ9GjXvXlGc$SoVvKb#XGXvHQ9GjXvXlGc$SoVviV#29yHQ9GjXvXlGc$SoVvsA#jzXvV6p9QYNHlrGGlv9vXlGvi#jzXvV6p9QrGGlv9vXlGHlYNc4#jzXvV6rGGlv9vXlGHlp9QIj#jzXvV6p9QHlrGGlv9vXlGWI7Oqx#jzXvV6p9QHlrGGlv9vXlGvl#jzXvV6B2yYNHlrGGlv9vXlGtq#jzXvV6B2yrGGlv9vXlGHlYNA9#jzXvV6rGGlv9vXlGHlB2yHY#jzXvV6B2yHlrGGlv9vXlGWI7OD2#jzXvV6B2yHlrGGlv9vXlGXg#jzXvV6_I2oQXVHlBvQXGPzd#jzXvV6BvQXGPHl_I2oQXVcw#PovBoPQoP9vXlGc$SoVvix#joPQoP9vobn#joPQoP9vop9QX9$7ojly#joPQoP9voB92y7ojRQ#joPQoP9voB92y7ojp9QX9$7ojmp#joPQoP9vop9QX9$7ojrGNcQB92y7ojHF#NojoPQoP9vobX#NojoPQoP9vop9QX9$7ojFw#NojoPQoP9voB92y7ojQG#NojoPQoP9vop9QX9$7ojB92y7ojg5#jovBV9vvoQh7lvb9vQXmtI#IGjovBV9vvoQh7lvb9vQXmr5#jovbI7vXy7ohXojGH#VQo9vohXoqy#Qo2lCohXoFQ#VQo9vobovoQTJ#Qo2lCobovoQgw#VQo9voWXGENjB#Qo2lCoWXGENhG#2lNXnAJlGvlIQFD#XjBOXyJlGvlIQS7#PovBovJlGvlIQrV#VQo9voJlGvlIQPg#Qo2lCoJlGvlIQax#VQo9voxXoQ9QV6AZs#VQo9voscZwY#Qo2lCoscZAp#IyN9voscZrx#QojovscZBM#VQo9voHQoo29yC7#Qo2lCoHQoo29yOR#VQo9vofXj6ok#VQo9voKlojjfXvUq#Qo2lCoKlojjfXvM4#VQo9voxXjvlPQ92bI#Qo2lCoxXjvlPQ92ts#VQo9voxo9v29yJlQQo79vXlGSA#Qo2lCoxo9v29yJlQQo79vXlGVD#VQo9vodoPQojjXlGXq#Qo2lCodoPQojjXlGiD#9NN_lQ297sXjvQX$IvXlGKXGonY#9NN_lQ297sXjvQX$IvXlGsoVlQ9vXlGWc#9NNUUh7lvfh#V6oVOUUh7lvFn#Qo2lCoUUh7lvXL#9NNJsfh7lvK4#V6oVOJsfh7lvbH#Qo2lCoJsfh7lvht#9NNabh7lvyC#V6oVOabh7lvJl#Qo2lCoabh7lvB4#2lNXnAa9y79GboXoQZn#IyN9voa9y79GboXoQpl#9NNbo9GKXGoOj#9NNKXGosoVlQ9vXlGg9#9yyoGNbov9s9v9mC#2lNXnAscZHc#IyN9voscZkQ9y6HAyoDS#IyN9voscZrmXjNl#IyN9voscZkQ9y6BXToV2#2lNXnAxXjvlPQ92Ul#2lNXnAB92y7oBoPQoP9vXlGDP#2lNXnAp9QX9$7oBoPQoP9vXlGxb#2lNXnAK9AlIvHAyovU#2lNXnABI229QAHAyopK#2lNXnAHQ9GjnlQ2jo#2lNXnAHQ9GjnlQ2d9vXlvY#2lNXnAB92y7okQlIyjI0#2lNXnAHQoo29ykQlIyjE6#2lNXnA_ovzlQOsoVlQ9vXlGjo9#2lNXnAp9QX9$7ocCoQ79AjsR#2lNXnAB92y7ocCoQ79Ajm7#QojovsoGNQlPQ92jQ0#j6lzxXNosoGNQlPQ92GY#V69GPosoGNQlPQ92hljXvXlGQj#QojovKoPoGNhljXvXlGCX#2lNXnAJl7lQBV6o2oKC#2lNXnAJl7lQByoVvQI2goQlp97IoOA#2lNXnAJl7lQByoVvQI2mH#2lNXnAJl7lQByoVvQI2WABV6o2ozA#V69GPoH6o2oH9#IyN9vosoVlQ9vXlGBV6o2oMv#2lNXnAJl7lQhQlyoQvXojIx#2lNXnAJl7lQhQlyoQvXojcCoQ79AjOe#jovflGvQ8#vlPP7orvvQX$Ivojx#vlPP7obI7vXy7orvvQX$IvojKR#XGVQo9josoVQo9jorvvQX$Ivohy#V69GPobov9Jl7lQMD#V69GPorQQ9ArvvQX$IvoBb#V69GPorvvQX$Ivo_lsQ9zUM#V69GPorvvQX$IvoMy#V69GPoHomvJl7lQrvvQX$IvoFO#IyN9voHomvJl7lQrvvQX$IvoGN#jovflGvrvvQX$IvoBvA7oVw#jovflGvrvvQX$IvoBXToGh#V69GPop9QX9$7oYGrmXjnP#V69GPoB92y7oYGrmXjhg#2lNXnAcGVlyQXGv_lr7voQ9vXlGjkI#2lNXnABlQvBF#jlQvB92y7ojQW#jlQvB92y7ojWAJ9voPlQAuU#jlQvB92y7ojWAp9QX9$7om6#jlQvp9QX9$7ojCa#jlQvp9QX9$7ojWAJ9voPlQAsg#jlQvp9QX9$7ojWAB92y7oe4#jovb9QOoQrvvQX$IvolH#PovsoVlQ9vXlGrvvQX$Ivod4#jovsoVlQ9vXlGrvvQX$IvoSd#X2y7XoNkG#vlOoGXTouA#Xjp97XNZGNUH#vlhljvfmhB#jAGv9mJ6oVOVM#oC97I9vobh#jovEsh7lvwX#jovush7lvY2#XGXvX97XTofIGVvXlGs9v9Mx#9S9mdoLIojvbr#PovcQXPXG97sX2oGjXlGjCB#nXvJ9GC9jHlJIQQoGvVh#PoGoQ9vo3GXLIodoGNoQHlYNgj#yQlVojjrnvoQdoGNoQZCoGvjHq#VQo9vo_ozYGjv9GVobY#IyN9vodo2lvos9v9F2#NQ9zx9#QoNQ9zFi#GlsQ9zpY#Xjp97XNkQ9y6HAyoPr#QojovB9GOoAs9v9rm#QojovkP29vQXmYQ#QojovkQ9y6kv#jovBXTojGd#Pov_ovzlQOY29Pojnu#PovsoVlQ9vXlGY29PojZV#7l9NY29PojXH#NQ9zkQ9y6qM#n7XypXjXI2d9GPojfV#V69GPosQlyNlzGs9v9fX7voQIc#V7XVOd9NXls9v9fX7voQGm#V7XVOWll7o9Gh9Q92ovoQP3#9NNdo2lCosQlyNlzGs9v9fX7voQKXjvoGoQjdO#9NNdo2lCod9NXls9v9fX7voQKXjvoGoQjrA#9NNdo2lCoWll7o9Gh9Q92ovoQKXjvoGoQjrg#V6oVOxHbKFXNPovjQO#QoGNoQkQ9y6Xa#XGXvX97XTokQ9y6XS#Povp97XNrmojvE#9NNdo2lCoB92y7ojYGrmXjEU#9NNB92y7ojHlrmXjp5#Qo2lCoB92y7ojfQl2rmXjdf#jzXvV6B92y7oYGrmXjXd#9NNdo2lCop9QX9$7ojYGrmXjGw#9NNp9QX9$7ojHlrmXjk6#Qo2lCop9QX9$7ojfQl2rmXjyF#nlQ29vrmXjp97IosV#PovrmXjs9v9WAB92y7oEp#PovrmXjd9GPoWAB92y7oaT#GXVo_I2$oQui#QlIGNHlhQovvAYS#PovrmXjYGVQo2oGvjVE#PovrmXjbXGlz#jovrmXjzC#PovKlPBV97ozm#jovk9GvvrmXjp97IojPL#jovhoQVoGvX7ormXjp97IojH0#jov_I2oQXVrmXjp97IojBv#69GN7ormXjHQ9GjnlQ29vXlGo4#QoNl_I2oQXVrmXjp97IojVX#nXG97XTormXjp97Iojz1#jovrmXjp97IojFy#XGXvX97XTormXjrvvQX$IvojYr#V97VI79voYGXvX97s9v9d9GPoc5#9yy7ArmXjHQ9GjnlQ29vXlGjE5#9yy7ArmXjKX2XvjrGNcCoQQXNojwP#V97VI79voHXVOjrGNYGXvX97WlIGNjve#V97VI79voBV9vvoQhlXGvBXTorNSIjv2oGvW4#9yy7ArmXjZmvoGjXlGjrGNfXG97XToIz#jovrmXjrvvQX$IvojtH#jovrmojHAyoLF#PovBV9vvoQpXjX$7op9QX9$7ojNs#PovK9AlIvp9QjB2yjaM#V97VI79vormXjsoGjXvAm0#V97VI79voBV9vvoQsoGjXvAflQJo77IM#yQlVojjsoGjXvAdojI7vjflQJo77XG#jovrmojsoGjXvABV9vvoQK9AlIvYj#V97VI79vosoGjXvAkQXNh9Q92jFa#yQlVojjsoGjXvAdojI7vjTK#V97VI79voBV9vvoQsoGjXvAflQrmojdn#V97VI79vormXjxXjvlPQ92soGjXvAYn_ooNoNgO#V97VI79vofXG97xXjvlPQ92jR7#jovrmojsoGjXvABV9vvoQk9#jovrmojsoGjXvAeskQ9y6jPb#jovIyJlQQo79vXlGrmojlD#jovIyk9GvvrmojSw#jovIyfXj6rmojB6#jovIyJlQQo79vXlGrmojFC#jovIyk9Gvvrmojy2#jovIyfXj6rmojd3#jovIyBV9vvoQhXormojGk#jovIykoGl2ormojwM#jovIyh9Q977o7JllQNXG9vojrmojwg#jovIyson9I7vrmojGM#jovrmojDT#QojovrmojQI#jovrmXj3GXvjzl#jovrmXjflGvlV#XGXvX97XTormXjxu#9ojiV6oVOwv#9ojiN9v9P6#Pol2ivQ9GjyljoPZ#Pol2i9vvQjqN#Pol2i97y69TR#Pol2iVl7lQWV#Pol2iy9vvoQGsY#Pol2i9GGvG1#Pol2iPQlIyvS#Pol2in9VvlQlo#Pol2iy7lvYL#Pol2i9QPI2oGvjOw#Pol2iVlGvXGIlIjHw#Pol2i2ov9ivAyogA#Pol2iNoVjSI#Pol2i2ov9ul#Pol2iyzVKd#Pol2i$Q9VOovZu#Pol2im7XGotm#Pol2i9$7XGoOd#Pol2i67XGofB#Pol2iC7XGomX#Pol2i9Qo9wK#Pol2i$79GOEs#Pol2i$9QgX#Pol2i$9Qiy9vvoQGn4#Pol2iVl7iI#Pol2iVl7iy9vvoQGnx#Pol2i$XGiENpU#Pol2i$lmy7lvOG#Pol2i$lmy7lviy9vvoQGJv#Pol2iVlGvlIQXD#Pol2iVlGvlIQinX77oNRN#Pol2iNoGjXvAL8#Pol2iNoGjXvAiy9vvoQGwx#Pol2iNoGjXvAiENtL#Pol2iNoGjXvAiENinX77oNdF#Pol2iNoGjXvAiQXNPojYW#Pol2iNlvy7lvw9#Pol2iNI2$$o77dM#Pol2ioQQlQ$9QRc#Pol2ioQQlQ$9Q6Ml#Pol2i6omv0#Pol2i6XjvlPQ92dc#Pol2i79$o7N9#Pol2i7XGoW0#Pol2i7lPvXVOjiX#Pol2iy9v6cW#Pol2iSXvvoQew#Pol2iylXGvi6o9v29yVx#Pol2iylXGvF6#Pol2iyl7APlGOl#Pol2iyl7APlGiy9vvoQGw5#Pol2iLLq2#Pol2iLLi7XGoMe#Pol2iLI9GvX7oYA#Pol2ivX7oW3#Pol2ivX7oiy9vvoQGx8#Pol2iQoVvZW#Pol2iQoVviy9vvoQGRZ#Pol2iQX$$lGIV#Pol2iQIPCT#Pol2ijXG9fs#Pol2ij2llv6Pf#Pol2ijvQo92H3#Pol2iCXl7XGQJ#Pol2iCXl7XGiy9vvoQGFu#Pol2iQ9jvoQUy#Pol2iQ9jvoQi6o9v29yIp#Pol2iQ9jvoQi6o9v29yijoIQ9vEt#Pol2ijoP2oGvQ2#Pol2iVIQCovO#Pol2ijvoyIR#Pol2ijIQCfm#PPinlQ2I79ivli6v27AA#Pol2ivomvRe#Pol2ivomviQoyo7E8#Pol2ivomviGyVie#jv9vioVNnCN#jv9vio77Xyjoni#PPin9VovxF#n9VovizQ9yrC#n9VovizQ9ykQXNH8#PPi79$o7jMT#79$jB3#m79$jN6#A79$jwp#PPvXv7og0#PPijV97ojHE#jV97oinX77i29GI97Ft#jV97oiVl7lQi29GI97YJ#PPiVllQNXG9voje7#m7X2ST#A7X2zh#PPiv6o2oCt#PPiv6o2oi9mXjc2#PPiv6o2oi7oPoGNig#PPiv6o2oiy9Go7Ty#PPiv6o2oiy7lvCR#PPiv6o2oijvQXyGr#v6o2oiPQoAQ5#v6o2oiPQ9AKh#v6o2oi$zv2#v6o2oi7XGoNQ9zf5#v6o2oi7XP6vTl#v6o2oiN9QOUP#v6o2oi2XGX297vz#v6o2oiV79jjXVQx#v6o2oiClXNZX#v6o2oioVlGl2XjvRk#v6o2oiomVo7o0#v6o2oijl79QXToNZN#v6o2oiyvl7F7#v6o2oizjSRM#v6o2oiv9$7o9Iz6#v6o2oijv9v9bi#PPijvA7oJw#PPi7XGovAyois#PPij69yoId#PPiyQlyoQvAQd#PPiQlv9vocz#PPi97XPG2oGvO4#PPij6lzkQ#PPivomv$9joAm#PPiVlGnXPDw#jovp9QhXobF#jovhXoflGvel#V6oVOhXob1#jovhXotRsX2oGjXlGjvF#NQ9zhXos9v9hlXGvjLZ#NQ9zhXoh7lvsy#XGXvX97XTohXoh7lvoD#QoGNoQhXoku#jovpoGGtRsX2oGjXlGjqE#NQ9zpoGGWI$$7ouF#NQ9zpoGGK9AlIvWI$$7oja6#NQ9zpoGGK9AlIvJh#NQ9zpoGGs9v9hlXGvjJO#C97XN9vopoGGJl2y9Qv2oGvjI3#NQ9zpoGGh7lvXT#XGXvX97XTopoGGh7lvdz#QoGNoQpoGGlQ#jovJlQQo79vXlGp9QB2yK9$o7flGvJm#PovJlQQo79vXlGK9$o7jxoXP6vD7#jovJlQQo79vXlGtRsX2oGjXlGjOH#NQ9zJlQQo79vXlGK9AlIvrF#NQ9zJlQQo79vXlGs9v9hlXGvjaa#NQ9zJlQQo79vXlGh7lvwm#XGXvX97XToJlQQo79vXlGh7lvqc#QoGNoQJlQQo79vXlGeJ#XjBV9vvoQh7lvb9vQXmrNSIjvkF#PovEsRrmXjFXNv6Gx#PovEstrmXjxoXP6vdj#jovEsflGvks#Qod9GPos9v9lZ#jovEstRsX2oGjXlGjl9#jovrmXj3GXvjpXjXI2fn#jovEsK9AlIvwG#jovEsK9AlIvRwH#jovEsK9AlIvtAg#jovEsrmXjK9AlIvW5#XjYGEspXozylQvX4#PovEsp9QX9$7ojPq#PovEsJl7lQFM#NQ9zEsWlmy7lvs9v9eB#NQ9zEss9v9hlXGvjgi#NQ9zEsBV9vvoQscZs9v9ch#jX2y7XnAEshl7APlGjMt#NQ9zEsrQo9s9v9zr#NQ9zEsBvQo92s9v9Ik#XjfXvKXGoaB#NQ9zEsKlojjF4#NQ9zEsdoPQojjXlGqK#NQ9zEsUI9GvX7odoPQojjXlGSb#NQ9zEsWXGgE#NQ9zEsUUh7lvKa#NQ9zEsJsfh7lvP2#NQ9zEsabh7lvKT#NQ9zEsJlGvlIQZb#NQ9zfXj6s9v9YM#jovxXjvlPQ92a8#NQ9zEsxXjvlPQ92soGjXvAs9v9Qg#jovEsxXjvlPQ92jyl#NQ9zEsxXjvlPQ92jK9AlIvLy#NQ9zEsxXjvlPQ92js9v9pm#NQ9zEsO2dXjOH9$7otg#jovEsyQXC9voh9Q92jlf#Xjp97XNa9y79GboXoQHi#Xjp97XNUUdR#Xjp97XNJsfnp#V6oVOdXNPoZ77XyjoK9$o7hf#V6oVOxXjvlPQ92i9#V6oVOfXvjpj#V6oVOa9y79GboXoQbo#V6oVOUUJsfSV#V6oVOJlGvlIQwc#VQo9voEsJlQQo79vXlGYY#V6oVOBV9vvoQb9vQXmrc#V6oVOpXjXI2yT#C97XN9voEshQlyoQvAson9I7vjCG#NQ9zEsxXjvlPQ92jHQ#NQ9zEstRh7lvBc#NQ9zEsh7lvL5#XGXvX97XToBV9vvoQEsde#QoGNoQBV9vvoQEsD3#jovusHomvo2#jovustRsX2oGjXlGjQz#NQ9zusK9AlIvD5#NQ9zusW9QuW#jovustK9AlIvpH#jovusRK9AlIvTd#jovusgK9AlIvdt#NQ9zusrmXjHXv7ozH#jovusK9AlIvPv#jovusrmojXh#jovusJoGvoQXv#XjuspXjX$7os9v9hlXGvlU#NQ9zuss9v9hlXGvjcs#jovusyQXC9voh9Q92jtW#NQ9zush7lvHn#XGXvX97XToBV9vvoQusiC#QoGNoQBV9vvoQusUC#PovestoK#PovesRYH#PovesKonvfr#PovesHlyPN#PovK9AlIvk7l$97kQlIycnnjovjY7#PovesYGNXVojMd#PovesB92y7ojPP#PovesK9$o7jRC#PovesJl2yW7lVOb9mgF#jovp9QX9$7oW7lVOgT#jovdlzJl7W7lVOjBo#jovesflGvu2#jovcCoQ79AjrP#PovcCoQ79AjflQHAyohljXvXlGTW#Povp9QX9$7oHXv7oxoXP6vaZ#Povp9QX9$7oK9$o7KoGPv6IP#PovB92y7oHXv7oxoXP6vi7#PovB92y7oK9$o7dlv9voBV97of9VvlQQ1#PovB92y7oK9$o7KoGPv6WT#PovrmXjHXv7oK9AlIvKoGPv6qr#PovrmXjHXv7oHXVOKoGPv6kr#Povxo9v29yYGNXV9vlQFXNv6j0#Povxo9v29yYGNXV9vlQxoXP6vQH#PovKoPoGNxoXP6vTc#PovKoPoGNFXNv6Bz#Povp9QHQooxoXP6vqX#PovB2yHQooFXNv6xoXP6vyo#PovcCoQ79AjHXVOK9$o7jKoGPv6uE#PovcCoQ79AjK9$o7jKoGPv6EH#PovHQoodllvK9$o7KoGPv6V8#jovestRsX2oGjXlGjKonvEf#jovestRsX2oGjXlGjdXP6viZ#jovestRsX2oGjXlGjHlymf#jovestRsX2oGjXlGjWlvvl2Ko#9NSIjv7oPoGNHomvflGvBXToTN#9NSIjvB2yflGvBXTonL#9NSIjvp9QflGvBXToTP#9NSIjvesRsX2oGjXlGLK#9NSIjvestsX2oGjXlGar#jovestRbovoQsX2oGjXlGjx3#jovestRsX2oGjXlGjdJ#joveshQXC9voh9Q92jb9GI97RK#joveshQXC9voh9Q92jrIvlWe#joveshQXC9voh9Q92jsl#PovHQoo29ycCoQ79Am9#PovHQoo29yp9QX9$7orH#PovHQoo29yGI#jovestrmXjOL#NQ9zesFXQofQ92oUe#NQ9zesFXQofQ92oxo9v29yzw#NQ9zesFXQofQ92oh9Q977o7JllQNXG9vojOW#NQ9zesFXQofQ92okQ9y6HX2ozP#NQ9zesFXQofQ92ocv6oQXU#NQ9zesbovoQK9AlIvs9v9hlXGvjqQ#NQ9zesrmXjBV97ogm#NQ9zsoGNQlPQ92jfJ#NQ9zesRK9AlIvSf#NQ9zesRK9AlIvB92y7oHXv7oXu#NQ9zesRK9AlIvp9QX9$7oHXv7oj7#NQ9zesRK9AlIvxo9v29yQ9#PovkQlIyB92y7oK9$o7cnnjovfF#PovkQyIyK9$o7KoGPv6S6#NQ9zkQlIyB92y7oK9$o7KXGogy#NQ9zkQlIyB92y7oK9$o7Xs#NQ9zkQlIyB92y7oY29PoD9#NQ9zestK9AlIvB9GOoAdw#NQ9zestK9AlIvrmXjB92y7okIXNojRi#NQ9zesRK9AlIv_lxo9v29yrp#NQ9zescCoQ79Ajs9v9hlXGvjuj#PovcCoQ79AJ7XyrQo9RU#XjsQ9zcCoQ79A_92ojPO#NQ9zescCoQ79Ajna#NQ9zesBy7Xvjqi#PovrmXjsojVQXyvXlGzn#NQ9zestK9AlIvpZ#NQ9zess9v9hlXGvjcJ#NQ9zesW9Qs9v9hlXGvjER#NQ9zesKXGos9v9hlXGvjuN#NQ9zesBv9VOoNs9v9hlXGvjAU#NQ9zesrQo9s9v9hlXGvjHN#NQ9zesWlmy7lvs9v9hlXGvjUs#NQ9zesk9Gvvs9v9hlXGvjy7#NQ9zesbovoQs9v9hlXGvjk0#jovJlGGoVvs9v9OO#NQ9zesslvy7lvs9v9hlXGvjUN#NQ9zesxo9v29ys9v9hlXGvjNY#NQ9zesHQoo29ys9v9hlXGvjxC#NQ9zesH9PJ7lINs9v9hlXGvjwa#NQ9zesJlGvlIQvk#NQ9zesB9GOoAs9v9hlXGvjDv#NQ9zesHQoos9v9hlXGvjTL#V6oVOcQXoGv9vXlGK9AlIvzf#NQ9zb9QOjrv#V6oVOcQXoGv9vXlGyp#V6oVOsoVlQ9vXlGjsW#V6oVOJ7IjvoQXGPza#jovh7lvYGnlJy#IyN9voh7lvYGnlug#V6oVOB92y7ojkQlIyXGPay#V6oVOs9v9HQ9GjnlQ2r7#V6oVObI7vXNX2oGjXlG97ac#V6oVOHQoohk#V6oVOHQoo29yG4#V6oVOBv9VOyv#V6oVOslNPoqe#V6oVOKXGoae#V6oVOWlmy7lvFXNv6d9vXlLE#V6oVOslvy7lvBvA7oQf#V6oVOF9voQn977Qu#V6oVOcGVlyQXGvBS#V6oVOxo9v29yHAyoBl#V6oVOB9GOoAVu#V6oVObovoQuu#V6oVOBzX22oQL9#V6oVOk9GvvXi#V6oVOrmojEy#V6oVOcCoQ79AjEE#C97XN9voeshQlyoQvAson9I7vjmu#jovcCoQ79AjsoGNQlPQ92p9QX9$7oBq#jovesrvvQX$IvojKX#jovescCoQ79AjIO#NQ9zesK9AlIvjz#NQ9zess9v9Wm#NQ9zesh7lve8#QojvlQocQXPXG97BovvXGPjRr#XGXvX97XToesh7lvrn#QoGNoQcGosh7lvAr#nXGNtRJllQNXG9vojkB#9NN_lNorS#Pov_lNoJlGnXPIQ9$7ohQlyoQvXojRt#PovZNPoJlGnXPIQ9$7ohQlyoQvXojN1#Qo2lCo_lNodV#9NNZNPoTz#Qo2lCoZNPoLw#9yyoGN_lNos9v9ea#9yyoGNZNPos9v9Kr#2lNXnAtRZNPoZ7$lzoO#Pov_lNoFXNv6iq#Pov_lNoxoXP6vYn#2lNXnA_lNoBXTocG#2lNXnAtR_lNohV#2lNXnAtR_lNoK9$Av#2lNXnAtR_lNosoVEl#PovxXNNoG_lNojmK#lQNoQ_lNojTH#joGN_lNoHlW9VOwd#joGN_lNoW9VOz9QNGD#$QXGP_lNoHlfQlGvTm#$QXGP_lNoflQz9QNgz#n79j6_lNoom#6XP67XP6v_lNojGV#IGxXP67XP6v_lNojbZ#97XPGsXjvQX$IvoBo7oVvoN_lNojjZ#PovBo7oVvoN_lNoJllQNXG9vojnf#nXGN_lNojWAPd#jov_ovzlQOsX2oGjXlGjZQ#jov_ovzlQOhQXC9voh9Q92jOa#GovzlQOJlGv9XGjnQ#nXGN_lNoUw#nX7voQZNPojPC#GlQ297XTokQ9y6jm#9NN_lNoHlkQ9y6Bi#nXGN_lNoflQYNT2#oNPojflQ_lNoHf#vQ9Gj79voBV97o_ovzlQOJ9GC9jqz#NXj9$7oZG9$7ohQoBV97XGPFK#QoGNoQ_ovzlQOkQ9y6Rf#IyN9voJXQVI79QK9AlIvOI#QoGNoQd9NX97K9AlIvmb#VoGvoQ_ovzlQOMM#NQ9z_ovzlQOkQlIyjU9#PovKoGPv6Hl_lNoWlIGN9QASz#PovZNPoJllQNXG9vojb0#NQ9z_ovzlQOZNPojc6#NQ9z_ovzlQOBo7oVvXlG_lNohlXGvnl#NQ9z_ovzlQO_lNoK9$o7kT#NQ9z_ovzlQO_lNojBB#NQ9z_ovzlQOJl22IGXvXojoJ#NQ9z_ovzlQOsoVlQ9vXlGjFs#nXGN_ovzlQOtRd9GPoBG#y9VOBI$_ovzlQOjEM#jov_ovzlQObXGb9md9GPotRuX#jov_ovzlQOdlv9vXlGag#jov_ovzlQOBV97of9VvlQHm#QoV97VI79voK9AlIvBo7oVvoN_lNojhX#nXm_ovzlQO_lNojpV#IGnXm_ovzlQO_lNojOi#jov_ovzlQOK9AlIvKP#XGXvX97XToJl79_ovzlQOK9AlIvvp#XGXvX97XTo_ovzlQOK9AlIvgb#2lCoBI$GovzlQOjKE#nXG97XTo_ovzlQOK9AlIvnE#jI229QXTo_ovzlQO_lNojW2#XGXvX97XTo_ovzlQO_lNojik#XGXvX97XTo_lNo_oXP6$lQ6llNCW#XGXvX97XTo_ovzlQOZNPojav#jovYGXvX97_lNohljXvXlGow#jov_ovzlQOJl22IGXvXojFH#PovxI77Zc#jov_lNoxXoQ9QV6AnS#jov_ovzlQOxXoQ9QV6AA3#nXGNh9QoGv_lNojOh#nXGNJ6X7NQoG_lNoYGNXVojsa#69jJ6X7NQoGoI#nXGNpXjX$7oh9QoGv_lNos7#Vl779vo_ovzlQOjmZ#Qojovc$SoVvrvvQX$IvojMH#jovsoVlQ9vXlGjd9GPo3GXvjXj#C97XN9vo_ovzlQOK9AlIvPS#QoV97VI79voK9AlIvx4#jovYGXvX97JlGnXPBv9voMf#NQ9z_ovzlQOh7lvWs#V97VI79vo_ovzlQObovQXVjs0#NQ9z_ovzlQOhQlPQojjW9QUg#XGXvX97XTo_ovzlQOGL#QoGNoQ_ovzlQOyU#jovkoGl2oBI$vQ9VOjyj#Xj_92oYGBI$vQ9VOQv#PovkoGl2od9GPorJ#PovkoGl2os9v9d9GPoYz#jovkoGl2ok9yjBA#PovWlmfo9vIQoxoXP6vN2#PovBoLIoGVofo9vIQoxoXP6vvh#PovdoCoQjoJl2y7o2oGviJ#vQ9Gj79voS5#jovdoCoQjoHQ9VoXR#PovJllQNXG9voBvoyY8#PovkoGl2oc$SoVvJl7lQdq#NQ9zWlmBoLIoGVo_92oIY#NQ9zkoGl2oK9$o7jdp#y7lvkoGl2os9v9C8#NQ9zkoGl2oYNolPQ92bA#jovkoGl2oWlmZmlGjdW#NQ9zkoGl2oWlmHQ9VOVt#NQ9zkoGl2oWlmKXGojzx#NQ9zkoGl2oWlmr77o7ojG6#NQ9zkoGl2oWlmeV#NQ9zkoGl2oHQ9Voex#NQ9zHQ9Gj79vXlGHlySW#NQ9zHQ9Gj79vXlGWlvvl2AV#NQ9zkoGl2oBoLIoGVoT9#NQ9zkoGl2oUI97XvAt4#NQ9zkoGl2oBXPG97Hl_lXjop7#NQ9zkoGl2oJllQNXG9vocT#jovkoGl2oFXQofQ92opX#jovkoGl2oHXVOjzg#jovkoGl2odXP6vsX2oGvXlGjA5#jovkoGl2oKonvsX2oGvXlGjNz#jovkoGl2oRsX2oGvXlGjCQ#jovkoGl2oR3GXvjoY#jovkoGl2ormXj3GXvjMh#jovkoGl2otsX2oGvXlGja4#jovkoGl2oflGvjJl7lQjUQ#NQ9zkoGl2oFZ#XGXvX97XTokoGl2oOy#QoGNoQkoGl2osS#NQ9zJXQVI79QZ7o2oGvru#jovJXQVI79QtRsX2oGjXlGjQa#jovJXQVI79QflGvjW7#PovJXQVI79QKoCo7K9$o7KoGPv6v5#PovJXQVI79QB92y7oK9$o7KoGPv6wB#PovJXQVI79Qp9QX9$7oK9$o7KoGPv6ol#PovJXQVI79QtrmXjHXVOKoGPv6OZ#PovJXQVI79QdrmXjHXVOKoGPv6wR#PovJXQVI79QdrmXjhoQVoGvHXVOKoGPv6HZ#PovrQVBoVvlQjJoGvoQl6#PovJXQVI79QhoQVoGvKoGPv6XJ#PovJXQVI79QBV97ojKoGPv6dS#PovJXQVI79QsoGNQlPQ92KoGPv6x1#PovJXQVI79QYNolPQ92KoGPv6qC#PovJXQVI79QcCoQ79AjKoGPv6Ao#PovJXQVI79QK9$o7jKoGPv6Xf#PovJXQVI79QrGV6lQjKoGPv6ey#Pov_lGs9v9HQ9VOKoGPv6kk#jovYNolPQ92mz#jovJXQVI79QB92y7os9v9uD#jovJXQVI79Qp9QX9$7os9v9Dt#jovJXQVI79QrQVBoVvlQjbv#jovJXQVI79QHQ9VOjDX#QoGNoQJXQVI79Qh7lvhP#NQ9zJXQVI79Qx9GN7ojJ6#NQ9zJXQVI79QhoQVoGvd9NX97rmXjvQ#NQ9zJXQVI79Qd9NX97rmXjEg#NQ9zJXQVI79QcCoQ79AK9$o7nA#NQ9zJXQVI79QsoGNQlPQ92aJ#NQ9zJXQVI79QYNolPQ92QB#PovJXQVI79QcCoQ79AJl7lQy5#PovJXQVI79QB92y7ocCoQ79AYGNomFp#PovJXQVI79Qp9QX9$7ocCoQ79AYGNomMp#NQ9zJXQVI79QB92y7oBoPQoP9vXlGrD#NQ9zJXQVI79QB92y7ocCoQ79AIB#NQ9zJXQVI79Qp9QX9$7ocCoQ79Arb#NQ9zJXQVI79QcCoQ79Ajji#NQ9zJXQVI79QB92y7oK9$o7jio#NQ9zJXQVI79Qp9QX9$7oK9$o7jVq#NQ9zJXQVI79QK9$o7jIi#NQ9zJXQVI79QrGV6lQjJ2#NQ9zJXQVI79Qs9v9Nj#NQ9zJXQVI79Qs9v9HQ9VOEB#PovJXQVI79QtrmXjp97IojyE#PovJXQVI79QRrmXjp97Iojtf#NQ9zJXQVI79Qs9v9rmXjKQ#NQ9zJXQVI79Qs9v9rmXjWlmNR#NQ9zJXQVI79QBIG$IQjvbc#NQ9zJXQVI79QJ6lQNpW#NQ9zJXQVI79QWI$$7oQ3#NQ9zJXQVI79Qcv6oQs9v9Cn#PovJXQVI79QJllQNXG9vojWY#NQ9zJXQVI79QJlGGoVvXlGjbG#PovJXQVI79QJl7lQYGNXV9vlQFXNv6sE#NQ9zJXQVI79QJl7lQYGNXV9vlQTp#V6oVOJXQVI79QBoPQoP9vXlGcCoQ79AjJE#V6oVOJXQVI79QJ7IjvoQXGPNZ#jovJXQVI79Qcv6oQh9Q92ovoQjws#jovJXQVI79QHo2yh9Q92ovoQjxi#QojovJXQVI79QHo2yh9Q92ovoQjNS#jovJXQVI79QrvvQX$Ivojp2#NQ9zJXQVI79Qh7lvoo#QojovJXQVI79QrvvQX$Ivojc8#XGXvX97XToJXQVI79Qib#QoGNoQJXQVI79QQo#vlylSjlGfo9vIQoNx#PQ9vXVI7ow7#VlGnXPIQob9yfo9vIQojzQ#jovb9yK9AoQJllQNXG9vojpR#jovb9ygll2JoGvoQYy#jovb9yHQ9Gj79voTu#jovb9yK9AoQWlIGNjNy#jovKo9n7ovb9yFA#jovKo9n7ovpXozIe#Xjb9yBXToJ69GPoNzv#29yJllQNXG9voHlhlXGvqW#29yhlXGvHlJllQNXG9voAf#V9GC9jhlXGvHlJllQNXG9voeF#jovb9yK9AoQhlXGvjbT#29ybXNhlXGvaA#29ydlv9voDg#V7Xyb9yhlXGvji8#jX2y7XnAb9yhlXGvjvT#NQ9zb9ykQ9vXVI7oJ7#NQ9zb9yK9AoQbC#NQ9zb9yhXosoVlQ9vXlGHX#NQ9zb9yJlGGoVvXlGjSB#NQ9zb9yb9QOoQjVe#NQ9zb9yWlQNoQtN#jovb9ysX2oGjXlGjvj#jovb9yJl7lQjot#9NNb9ys9v9IF#jovb9yB2yjoM#jovb9yh9Q92ovoQjqk#jovb9yrvvQX$Ivoja7#NQ9zb9ys9v9mq#NQ9zb9yb7#XGXvX97XTob9ySl#QoGNoQb9yoc#NukolJM#PolhQlSoVvYGCoQvlK#PolhQlSoVvvG#XGXvX97XTocQv6lPQ9y6XVr2#jvQXGPXnADBc_G0#jvQXGPXnAfIGVvXlGqG#$TENX#y9QjokbKJS#tbKHlDBc_Sc#Po2XGXHlJtzc#y7lv7AHlJtLj#N9v9fQ92oHlJtja#VtHlrQQ9AHg#Vtxo9NoQHlc$SoVvJZ#Vtxo9NoQHlrQQ9ADL#NX2G92ojLr#PIojjdoLIojvoNkQ9y6HAyofc#PIojjJl7I2GjUY#VtdlzjHlrQQ9AGE#NoVl2yQojjlQgjvNxk#NoVl2yQojjlQkTXyWd#NoVl2yQojjlQKT8W9jXVUA#NoVl2yQojjlQKT8Tq#NoVl2yQojjlQKT8d9zYm#NoVl2yQojjlQWQlv7XjA#y9QLIovHlJtkf#ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789$_";CanvasXpress.doc={P:{},M:{}};if(typeof exports==="object"&&typeof module!=="undefined"){exports.init=CanvasXpress;exports.cxplot=cxplot;exports.aes=aes};CanvasXpress.prototype.initIO=function(){this.parseJSON=function(s,r){s=s.replace(/&nl;/g,"\\n");try{return JSON.parse(s,r)}catch(e){if(s.toString().match(/<!DOCTYPE/)){return undefined}else{if(r){return JSON.parse(s,r)}else{return JSON.parse(s,function(k,v){if(typeof v==="string"&&v.startsWith&&v.startsWith("/Function(")&&v.endsWith&&v.endsWith(")/")){v=v.substring(10,v.length-2).replace(/&quot;/g,'"');return eval("("+v+")")}else{return v}})}}}};this.G0=function(js,r,s){if(r){return JSON.stringify(js,r,s||null)}else{return js?JSON.stringify(js,function(k,v){if(typeof v==="function"){return"/Function("+v.toString().replace(/"/g,"&quot;").replace(/{\s*/g,"{").replace(/;\s*/g,";")+")/"}else{if(k=="events"&&typeof v==="object"){return v}else{if(k=="stateCX"||k=="stateIndexCX"||k=="gantt"){return undefined}else{if(k=="hoverTemplate"){return v+" "}else{if(typeof v==="string"&&(v.endsWith("]")||v.endsWith("}"))){return v+" "}else{if(typeof v==="string"&&(v.startsWith("[")||v.startsWith("{"))){return" "+v}else{if(v instanceof Array){for(var i=0;i<v.length;i++){if(typeof v[i]==="string"){v[i]=v[i].replace(/\[/g,"&lsqb;").replace(/\]/g,"&rsqb;").replace(/\{/g,"&lcub;").replace(/\}/g,"&rcub;")}}for(var p in v){if(Array.isArray(v[p])||v[p] instanceof Object){return v}}return JSON.stringify(v)}else{return v}}}}}}}},s||null).replace(/\\n/g,"&nl;").replace(/\\/g,"").replace(/"\[/g,"[").replace(/\]"/g,"]").replace(/"\{/g,"{").replace(/\}"/g,"}").replace(/u0000/g,"").replace(/&lsqb;/g,"[").replace(/&rsqb;/g,"]").replace(/&lcub;/g,"{").replace(/&rcub;/g,"}"):false}};this.qG=function(f){return"/Function("+f.toString().replace(/"/g,"&quot;").replace(/{\s*/g,"{").replace(/;\s*/g,";")+")/"};this.NX=function(str){function bwt_reverse(src,primary){var len=src.length;if(primary>=len){throw RangeError("Out of bound")}if(primary<0){throw RangeError("Out of bound")}var A=src;src=src.join("");A.sort();var start={};for(var i=len-1;i>=0;i--){start[A[i]]=i}var links=[];for(i=0;i<len;i++){links.push(start[src[i]]++)}var i,first=A[i=primary],ret=[];for(var j=1;j<len;j++){ret.push(A[i=links[i]])}return first+ret.reverse().join("")}function move_to_front_and_store(a,c,buff){var v=a[c];for(var i=c;i>0;a[i]=a[--i]){}buff.push(a[0]=v)}var RBitfield=function(){this.initbit=function(x){this.masks=[];for(var i=0;i<31;i++){this.masks[i]=(1<<i)-1}this.masks[31]=-2147483648;this.f=x;this.bits=0;this.bitfield=0;this.count=0};this.readbits2=function readbits2(n){var n2=n>>1;return this.readbits(n2)*(1<<n2)+this.readbits(n-n2)};this.readbits=function readbits(n){while(this.bits<n){this.bitfield=(this.bitfield<<8)+this.f.charCodeAt(this.count++);this.bits+=8}var m=this.masks[n];var r=(this.bitfield>>(this.bits-n))&m;this.bits-=n;this.bitfield&=~(m<<this.bits);return r}};var HuffmanLength=function(code,bits){this.code=code;this.bits=bits;this.symbol=undefined};var OrderedHuffmanTable=function(){this.process=function(lengths){var len=lengths.length;var z=[];for(var i=0;i<len;i++){z.push([i,lengths[i]])}z.push([len,-1]);var l=[];var b=z[0];var start=b[0],bits=b[1];for(var p=1;p<z.length;p++){var finish=z[p][0],endbits=z[p][1];if(bits){for(var code=start;code<finish;code++){l.push(new HuffmanLength(code,bits))}}start=finish;bits=endbits;if(endbits==-1){break}}l.sort(function(a,b){return(a.bits-b.bits)||(a.code-b.code)});this.table=l;var temp_bits=0;var symbol=-1;this.faht=[];var cb=null;for(var i=0;i<this.table.length;i++){var x=this.table[i];symbol+=1;if(x.bits!=temp_bits){symbol<<=x.bits-temp_bits;cb=this.faht[temp_bits=x.bits]={}}cb[x.symbol=symbol]=x}this.min_bits=16;this.max_bits=-1;this.table.forEach(function(x){if(x.bits<this.min_bits){this.min_bits=x.bits}if(x.bits>this.max_bits){this.max_bits=x.bits}},this)}};var decode=function(input){var b=new RBitfield();b.initbit(input);b.readbits(16);var method=b.readbits(8);if(method!=104){throw"Unknown (not type 'h'uffman Bzip2) compression method"}var blocksize=b.readbits(8);if(49<=blocksize&&blocksize<=57){blocksize-=48}else{throw"Unknown (not size '1'-'9') Bzip2 blocksize"}function getUsedCharTable(b){var a=[];var used_groups=b.readbits(16);for(var m1=1<<15;m1>0;m1>>=1){if(!(used_groups&m1)){for(var i=0;i<16;i++){a.push(false)}continue}var used_chars=b.readbits(16);for(var m2=1<<15;m2>0;m2>>=1){a.push(Boolean(used_chars&m2))}}return a}var out=[];function main_loop(){while(true){var blocktype=b.readbits2(48);var crc=b.readbits2(32);if(blocktype==54156738319193){if(b.readbits(1)){throw"Bzip2 randomised support not implemented"}var pointer=b.readbits(24);var used=getUsedCharTable(b);var huffman_groups=b.readbits(3);if(2>huffman_groups||huffman_groups>6){throw RangeError("Bzip2: Number of Huffman groups not in range 2..6")}var mtf=[0,1,2,3,4,5,6].slice(0,huffman_groups);var selectors_list=[];for(var i=0,selectors_used=b.readbits(15);i<selectors_used;i++){var c=0;while(b.readbits(1)){if(c++>=huffman_groups){throw RangeError("More than max ("+huffman_groups+") groups")}}move_to_front_and_store(mtf,c,selectors_list)}var groups_lengths=[];var symbols_in_use=used.reduce(function(a,b){return a+b},0)+2;for(var j=0;j<huffman_groups;j++){var length=b.readbits(5);var lengths=[];for(var i=0;i<symbols_in_use;i++){if(length<0||length>20){throw RangeError("Bzip2 Huffman length code outside range 0..20")}while(b.readbits(1)){length-=(b.readbits(1)*2)-1}lengths.push(length)}groups_lengths.push(lengths)}var tables=[];for(var g=0;g<groups_lengths.length;g++){var codes=new OrderedHuffmanTable();codes.process(groups_lengths[g]);tables.push(codes)}var favourites=[];for(var c=used.length-1;c>=0;c--){if(used[c]){favourites.push(String.fromCharCode(c))}}favourites.reverse();var selector_pointer=0;var decoded=0;var t;var repeat=0;var repeat_power=0;var buffer=[],r;while(true){if(--decoded<=0){decoded=50;if(selector_pointer<=selectors_list.length){t=tables[selectors_list[selector_pointer++]]}}for(var bb in t.faht){if(b.bits<bb){b.bitfield=(b.bitfield<<8)+b.f.charCodeAt(b.count++);b.bits+=8}if(r=t.faht[bb][b.bitfield>>(b.bits-bb)]){b.bitfield&=b.masks[b.bits-=bb];r=r.code;break}}if(0<=r&&r<=1){if(repeat==0){repeat_power=1}repeat+=repeat_power<<r;repeat_power<<=1;continue}else{var v=favourites[0];while(repeat>0){buffer.push(v);repeat--}}if(r==symbols_in_use-1){break}else{move_to_front_and_store(favourites,r-1,buffer)}}var nt=bwt_reverse(buffer,pointer);var done=[];var i=0;var len=nt.length;while(i<len){var c=nt.charCodeAt(i);if((i<len-4)&&nt.charCodeAt(i+1)==c&&nt.charCodeAt(i+2)==c&&nt.charCodeAt(i+3)==c){var c=nt.charAt(i);var rep=nt.charCodeAt(i+4)+4;while(rep>0){done.push(c);rep--}i+=5}else{done.push(nt[i++])}}out.push(done.join(""))}else{if(blocktype==25779555029136){b.readbits(b.bits&7);break}else{throw"Illegal Bzip2 blocktype = 0x"+blocktype.toString(16)}}}}main_loop();return out.join("")};return decode(str)};this.parseDelimited=function(str){var isNumber=function(n){return n===null||n===undefined?true:!isNaN(parseFloat(n))&&isFinite(n)};if(str.match(/^<\?xml/)){return false}var tc=str.split(",").length-1;var tt=str.split("\t").length-1;var ts=str.split(";").length-1;if(tc<2&&tt<2&&ts<2){}var delim=tc>tt&&tc>ts?",":ts>tc&&ts>tt?";":"\t";var pat=new RegExp(("(\\"+delim+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+delim+"\\r\\n]*))"),"gi");var arr=[[]];var arrM=null;while(arrM=pat.exec(str)){var strM=arrM[1];if(strM.length&&strM!==delim){arr.push([])}var strV;if(arrM[2]){strV=arrM[2].replace(new RegExp('""',"g"),'"')}else{strV=arrM[3]}arr[arr.length-1].push(isNumber(strV)?Number(strV):strV!="NA"?strV:null)}for(var i=0;i<arr.length;i++){if(arr[i][0].toString().match(/^#/)){arr.splice(i,1);i--;continue}}var l=arr.length-1;while(arr[l].length==1&&arr[l][0].toString()==""){arr.pop();l=arr.length-1}return arr};this.parseXML=function(x){var d=null;if(window.DOMParser){try{d=(new DOMParser()).parseFromString(x,"text/xml")}catch(e){d=null}}else{if(window.ActiveXObject){try{d=new ActiveXObject("Microsoft.XMLDOM");d.async=false}catch(e){d=null}}else{alert("cannot parse xml string!")}}return d};this.JS=function(gml){var forIn=function(object,callback){Object.keys(object).forEach(function(key){callback(key,object[key])})};var json=("{\n"+gml+"\n}").replace(/^(\s*)(\w+)\s*\[/gm,'$1"$2": {').replace(/^(\s*)\]/gm,"$1},").replace(/^(\s*)(\w+)\s+(.+)$/gm,'$1"$2": $3,').replace(/,(\s*)\}/g,"$1}");var graph={};var nodes=[];var edges=[];var i=0;json=json.replace(/^(\s*)"node"/gm,function(all,indent){return(indent+'"node['+(i++)+']"')});i=0;json=json.replace(/^(\s*)"edge"/gm,function(all,indent){return(indent+'"edge['+(i++)+']"')});try{json=this.parseJSON(json)}catch(err){throw new SyntaxError("bad format")}if(!json.graph instanceof Object){throw new SyntaxError("no graph tag")}forIn(json.graph,function(key,value){var matches=key.match(/^(\w+)\[(\d+)\]$/);var name;var i;if(matches){name=matches[1];i=parseInt(matches[2],10);if(name==="node"){nodes[i]=value}else{if(name==="edge"){edges[i]=value;edges[i].id1=edges[i].source;edges[i].id2=edges[i].target;delete (edges[i].source);delete (edges[i].target)}else{graph[key]=value}}}else{graph[key]=value}});graph.nodes=nodes;graph.edges=edges;return{data:graph,config:{graphType:"Network"}}};this.Sc=function(xml,json,p,current){var j={};var prefix=new RegExp(/(?!xmlns)^.*:/);var trim=new RegExp(/^\s+|\s+$/g);if(!json){json={}}if(p&&!json[p]){json[p]=[]}if(xml.attributes&&xml.attributes.length>0){for(var i=0;i<xml.attributes.length;i++){var a=xml.attributes.item(i);var n=a.name.replace(prefix,"").replace(/\[/g,"&#91").replace(/\]/g,"&#93").toLowerCase();if(p){j[n]=a.value.replace(trim,"")}else{json[n]=a.value.replace(trim,"")}}if(p){json[p].push(j)}}else{if(p=="alt"){json[p].push(xml.textContent.replace(/\"/g,"'").replace(/\[/g,"&#91").replace(/\]/g,"&#93"))}}if(xml.hasChildNodes()&&!current){for(var i=0;i<xml.childNodes.length;i++){var n=xml.childNodes.item(i);var p;if(n.nodeType==4){}else{if(n.nodeType==3){}else{if(n.nodeType==1){p=n.nodeName.replace(prefix,"").toLowerCase();this.Sc(n,json,p)}}}}}return json};this.PNGtoCX=function(b){var d=function(n,l){var o="";for(var m=0;m<4;m++){o+=String.fromCharCode(n.getUint8(l+m))}return o=="tEXt"};var c=function(o,m,l){var p="";for(var n=0;n<l;n++){p+=String.fromCharCode(o.getUint8(m+n))}return p.match(/CanvasXpress/)};var a=new DataView(b);var f=a.getUint32(8);var h=a.getUint32(8+4+4+f+4);if(d(a,8+4+4+f+4+4)&&c(a,8+4+4+f+4+4+4,h)){var k=a.getUint32(8+4+4+f+4+4+4+h+4);var g=8+4+4+f+4+4+4+h+4+4+4;var j="";for(var e=0;e<k;e++){j+=String.fromCharCode(a.getUint8(g+e))}j=j.replace("ReproducibleResearch\0","");var i;try{i=this.parseJSON(decodeURIComponent(j))}catch(n){i=this.parseJSON(j)}return i}else{alert("Oooops! Not a valid CanvasXpress Image")}};this.SVGtoCX=function(x){var d=this.parseXML(x);var s=d.childNodes[0];if(s.tagName.match(/svg/i)){var d=s.getAttribute("desc");if(d){return this.parseJSON(d)}}};this.zc=function(o){var data=o.data;var config=o.config;var y=data.y;if(config&&CanvasXpress.graphTypes.OneDGraphs.includes(config.graphType)){if(config.xAxis[0]=="vars"&&(config.graphType.match(/Boxplot|Violin/)||y.data.length>y.data[0].length)){var x=[];var d=[];var s=[];var n=1;for(var i=0;i<y.vars.length;i++){for(var j=0;j<y.data[i].length;j++){x.push(y.vars[i]);d.push(y.data[i][j]);s.push("Sample"+n++)}}data.x={};data.x[config.xAxisTitle]=x;y.data=[d];y.vars=[y.smps[0]];y.smps=s;if(config.graphType.match(/Boxplot|Violin/)){config.groupingFactors=[config.xAxisTitle]}else{if(config.graphType.match(/Bullet/)){if(data.z){for(i in data.z){y.vars.push(i);y.data.push(data.z[i]);if(i.match(/target/i)){config.bulletTargetVar=i}else{if(!config.rangeStack){config.rangeStack=[]}config.rangeStack.push(i)}}}}}config.xAxisTitle=config.yAxisTitle;config.smpTitle=config.xAxisTitle;config.graphOrientation="vertical";config.showSampleNames=true;config.smpTextRotate=90}else{if(config.xAxis[0]=="smps"){config.graphOrientation="vertical";config.showSampleNames=true;config.smpTextRotate=90}}}};this.Lj=function(o){var isNumeric=function(x){for(var i=0;i<x.length;i++){if(isNaN(x[i])){return false}}return true};var data={y:{vars:[],smps:[],data:[]}};var copy=JSON.parse(JSON.stringify(o.data))[0];if(copy.hasOwnProperty("labels")&&copy.hasOwnProperty("values")){if(copy.hasOwnProperty("hole")){data.y.vars=["Value"];data.y.smps=copy.labels;data.y.data=[copy.values];o.config.graphType="Circular";o.config.circularType="sunburst"}else{data.y.vars=copy.labels;data.y.smps=["Value"];for(var i=0;i<copy.values.length;i++){data.y.data.push([copy.values[i]])}o.config.graphType="Pie"}}else{if(copy.hasOwnProperty("x")&&copy.hasOwnProperty("y")){var isXNumeric=isNumeric(copy.x);var isYNumeric=isNumeric(copy.y);if(!isXNumeric){data.y.vars.push("Value");data.y.smps=copy.x;data.y.data=[copy.y];o.config.graphType="Bar";o.config.graphOrientation="vertical"}else{if(!isYNumeric){data.y.vars.push("Value");data.y.smps=copy.y;data.y.data=[copy.x];o.config.graphType="Bar";o.configgraphOrientation="horizontal"}else{data.y.smps=["x","y"];for(var i=0;i<copy.x.length;i++){data.y.vars.push("Sample"+(i+1));data.y.data.push([copy.x[i],copy.y[i]])}o.config.graphType="Scatter2D";if(copy.hasOwnProperty("mode")){if(copy.mode=="lines"){o.config.scatterType="line"}}}}if(copy.hasOwnProperty("marker")&&copy.marker.hasOwnProperty("color")){o.config.colors=[copy.marker.color]}if(o.config.xaixs){if(o.config.xaxis.hasOwnProperty("title")){o.config.xAxisTitle=o.config.xaxis.title}if(o.config.xaxis.hasOwnProperty("range")){o.config.setMinX=o.config.xaxis.range[0];o.config.setMaxX=o.config.xaxis.range[1]}}if(o.config.yaxis){if(o.config.yaxis.hasOwnProperty("title")){o.config.yAxisTitle=o.config.yaxis.title}if(o.config.yaxis.hasOwnProperty("range")){o.config.setMinY=o.config.yaxis.range[0];o.config.setMaxY=o.config.yaxis.range[1]}}}}o.data=data};this.arrayToCX=function(arr,config,rurl){var unique=function(a){var seen={};return a.filter(function(x){if(seen[x]){return false}seen[x]=true;return true})};var isDate=function(arr){var check=function(v){if(toString.call(v)==="[object Date]"){return true}if(typeof v.replace==="function"){v.replace(/^\s+|\s+$/gm,"")}var f=/(^\d{1,4}?[\.|\\/|-]\d{1,2}?[\.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/;return f.test(v)};var n=arr.length;for(var i=0;i<n;i++){if(arr[i]!=null&&!check(arr[i])){return false}}return true};var isNumeric=function(n){return n===null||n===undefined?true:!isNaN(parseFloat(n))&&isFinite(n)};var isCalclBoxplot=function(arr,cols){for(var i=0;i<arr.length;i++){if(!cols.includes(arr[i])){return false}}return true};var data={y:{vars:[],smps:[],data:[]}};var transpose=function(mat){return mat[0].map(function(_,c){return mat.map(function(r){return r[c]})})};var g="Scatter2D";var summaryType=false;var cn="";var hc=[];var xa=config&&config.hasOwnProperty("xAxis")&&config.xAxis.length>0?true:false;var ya=config&&config.hasOwnProperty("yAxis")&&config.yAxis.length>0?true:false;var za=config&&config.hasOwnProperty("zAxis")&&config.zAxis.length>0?true:false;var xy=xa&&ya?true:false;var gs=config&&config.hasOwnProperty("graphType")&&CanvasXpress.graphTypes.Scatter2Graphs.includes(config.graphType);var gl=config&&config.hasOwnProperty("graphType")&&CanvasXpress.graphTypes.LineGraphs.includes(config.graphType);var go=config&&config.hasOwnProperty("graphType")&&CanvasXpress.graphTypes.OneDGraphs.includes(config.graphType);var gr=config&&config.hasOwnProperty("graphType")&&(config.graphType=="Radar"||config.graphType=="Circular");var pc=config&&config.hasOwnProperty("graphType")&&(config.graphType=="ParallelCoordinates");var ds=config&&config.hasOwnProperty("graphType")&&config.graphType=="Heatmap"&&config.hasOwnProperty("dataframeSets")&&Array.isArray(config.dataframeSets);var as=[];if(ds){if(xa&&this.gS(config.dataframeSets[0],config.xAxis)){config.dataframeSets.shift()}for(var i=0;i<config.dataframeSets.length;i++){as[i]=[]}var c=[];for(var i=0;i<config.dataframeSets.length;i++){c=c.concat(config.dataframeSets[i])}var ind=[];for(var i=0;i<arr[0].length;i++){if(c.includes(arr[0][i])){ind.push(i)}}for(var i=0;i<config.dataframeSets.length;i++){var dataframeSet=config.dataframeSets[i];for(var k=0;k<dataframeSet.length;k++){var colName=dataframeSet[k];var colIndexInArr=arr[0].indexOf(colName);if(colIndexInArr!==-1){var newCol=[];for(var row=1;row<arr.length;row++){newCol.push(arr[row][colIndexInArr])}as[i].push(newCol)}}}for(var i=arr[0].length-1;i>=0;i--){if(ind.includes(i)){for(var j=0;j<arr.length;j++){arr[j].splice(i,1)}}}}var cols=arr[0].filter(Number.isFinite);var mts=false;if(cols.length==0){cols=arr.shift()}else{cols=[];mts=true;for(var i=0;i<arr[0].length;i++){cols.push("C"+(i+1))}}var bp1=isCalclBoxplot(["median","qtl1","qtl3","iqr1","iqr3"],cols);var bp2=isCalclBoxplot(["median","q1","q3","ymin","ymax"],cols);var rows=[];var hasDot=false;var scn=false;for(var i=0;i<arr.length;i++){var v=arr[i][0];if(v!=null){rows.push(arr[i][0].toString());if(arr[i][0].toString().match(/\./)){}}}var urow=unique(rows);if(urow.length==rows.length&&!hasDot){for(var i=0;i<arr.length;i++){arr[i].shift(arr[i][0])}}else{scn=true;cn="Id";hc.push(cn);rows=[];for(var i=0;i<arr.length;i++){rows.push("R"+(i+1))}}if(cols.length>arr[0].length){cn=cols.shift();if(!cols.length==arr[0].length){return false}}else{if(!scn){cn=arr[0][0]}}if(arr[0].length!=arr[arr.length-1].length){arr.pop();rows.pop();if(arr[0].length!=arr[arr.length-1].length){return false}}var isrd=isDate(rows);if(isrd&&config&&((config.hasOwnProperty("graphType")&&CanvasXpress.graphTypes.Scatter2Graphs.includes(config.graphType))||(!config.hasOwnProperty("graphType")&&config.isCxplot))){if(!config.hasOwnProperty("graphType")&&config.isCxplot){cols.unshift(cn)}else{cols.unshift("Date")}isrd=cols[0];for(var i=0;i<rows.length;i++){arr[i].unshift(new Date(rows[i]))}cn="Id";hc.push(cn);rows=[];for(var i=0;i<arr.length;i++){rows.push("R"+(i+1))}}var types=[];var yAxis=[];var total=0;var cnvtm;var isgt=isrd?isrd:false;var r=/^\$?[0-9]+\.?[0-9]*$/;var f=/(^\d{1,4}?[\.|\\/|-]\d{1,2}?[\.|\\/|-]\d{1,4})(\s*(?:0?[1-9]:[0-5]|1(?=[012])\d:[0-5])\d\s*[ap]m)?$/;var f2=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?$/;for(var i=0;i<cols.length;i++){types[i]=false;cnvtm=true;for(var j=0;j<rows.length;j++){if(!f.test(String(arr[j][i]))){cnvtm=false;break}}for(var j=0;j<rows.length;j++){if(cnvtm){arr[j][i]=new Date(arr[j][i]).getTime()}else{if(r.test(String(arr[j][i]))){arr[j][i]=Number((String(arr[j][i])).replace("$",""))}}if(arr[j][i]===""){continue}if(!isNumeric(arr[j][i])){types[i]=true;break}}if(!types[i]&&config&&config.isCxplot&&config.aes&&config.aes.hasOwnProperty("meta")&&config.aes.meta.hasOwnProperty(cols[i])){types[i]=true}if(!types[i]&&cnvtm&&(((xa&&config.xAxis.includes(cols[i]))||(ya&&config.yAxis.includes(cols[i])))||(config&&config.hasOwnProperty("aes")&&config.aes.hasOwnProperty("x")&&config.aes.x==cols[i]))){isgt=cols[i]}if(!types[i]){for(var j=0;j<rows.length;j++){if(i==0&&isrd){continue}else{arr[j][i]=arr[j][i]==null||arr[j][i]==undefined?null:!isNaN(parseFloat(arr[j][i]))&&isFinite(arr[j][i])?Number(arr[j][i]):arr[j][i]===true?true:arr[j][i]===false?false:null}}total++}else{data.z={}}}var ts=true;var uts={};for(var i=0;i<types.length;i++){if(!types[i]&&!isNumeric(arr[0][i])){ts=false;break}else{var v=arr[0][i];if(v!=null){if(uts.hasOwnProperty(arr[0][i].toString())){ts=false;break}else{uts[arr[0][i].toString()]=true}}}}if(ts&&mts){if(data.z){delete data.z;data.x={}}}var tn=[];for(var i=0;i<types.length;i++){if(types[i]){var tnt=false;for(var j=0;j<rows.length;j++){if(!isNumeric(arr[j][i])){tn.push(false);tnt=true;break}}if(!tnt){tn.push(true)}}else{tn.push(false)}}for(var i=0;i<types.length;i++){if(types[i]&&tn[i]){for(var j=0;j<rows.length;j++){arr[j][i]=arr[j][i]+"\x00"}}}var trans=false;if(!config&&total>1){var n=Math.ceil(total*0.6);var q=0;for(var i=types.length-1;i>=0;i--){if(!types[i]){q++}else{if(q<n){trans=true}}}}if(config&&config.topoJSON){delete data.z;data.x={};data.y.vars.push("Dummy");var ii=0;for(var i=ii;i<rows.length;i++){data.y.smps.push(rows[i])}data.y.data=[[0]];for(var i=0;i<cols.length;i++){data.x[cols[i]]=[];for(var j=0;j<rows.length;j++){data.x[cols[i]].push(arr[j][i])}}}else{if(config&&config.graphType=="Venn"){data={venn:{data:{},legend:{}}};for(var i=0;i<rows.length;i++){data.venn.data[rows[i]]=arr[i][0]}data.venn.legend=rows.length==15?{A:"A",B:"B",C:"C",D:"D"}:rows.length==3?{A:"A",B:"B",C:"C"}:rows.length==2?{A:"A",B:"B"}:{A:"A"};return{data:data,config:{graphType:"Venn"}}}else{if(bp1||bp2){data={y:{vars:["bp"],smps:rows,iqr1:[[]],qtl1:[[]],median:[[]],qtl3:[[]],iqr3:[[]],out:[[]]}};if(bp1){bp1=["median","qtl1","qtl3","iqr1","iqr3"];for(var i=0;i<bp1.length;i++){var ii=cols.indexOf(bp1[i]);if(ii!=-1){for(var j=0;j<rows.length;j++){data.y[bp1[i]][0].push(arr[j][ii])}}}}else{bp2=["median","q1","q3","ymin","ymax"];var mp2=["median","qtl1","qtl3","iqr1","iqr3"];for(var i=0;i<bp2.length;i++){var ii=cols.indexOf(bp2[i]);if(ii!=-1){for(var j=0;j<rows.length;j++){data.y[mp2[i]][0].push(arr[j][ii])}}}}var ii=cols.indexOf("outliers");for(var j=0;j<rows.length;j++){data.y.out[0].push(arr[j][ii]?arr[j][ii].split(/,\s*/):[])}if(config&&config.aes&&config.aes.meta&&config.aes.x){var ii=cols.indexOf(config.aes.x);for(var j=0;j<rows.length;j++){data.y.smps[j]=arr[j][ii]}}var mp={median:true,qtl1:true,qtl3:true,iqr1:true,iqr3:true,q1:true,q3:true,ymin:true,ymax:true,outliers:true};for(var i=0;i<cols.length;i++){if(!mp.hasOwnProperty(cols[i])){if(!data.x){data.x={}}data.x[cols[i]]=[];for(var j=0;j<rows.length;j++){data.x[cols[i]].push(arr[j][i])}}}g="Boxplot";summaryType="iqr"}else{if(ts&&mts){var ii=1;for(var i=0;i<cols.length;i++){if(types[i]){data.x[arr[0][i]]=[]}else{data.y.vars.push("V"+ii);ii++}}data.y.smps=["Time"];for(var i=1;i<rows.length;i++){yAxis.push(rows[i]);data.y.smps.push(rows[i])}var ii=0;for(var i=0;i<cols.length;i++){if(types[i]){for(var j=0;j<rows.length;j++){data.x[arr[0][i]].push(j==0?"":arr[j][i])}}else{data.y.data[ii]=[];for(var j=0;j<rows.length;j++){data.y.data[ii][j]=arr[j][i]}ii++}}}else{for(var i=0;i<rows.length;i++){data.y.data[i]=[];data.y.vars.push(rows[i])}for(var i=0;i<cols.length;i++){var str=config&&config.metaData&&config.metaData.hasOwnProperty(cols[i])&&config.metaData[cols[i]]?true:false;if(config&&config.isDataFrame){if(xy&&(config.xAxis.includes(cols[i])||config.yAxis.includes(cols[i]))){data.y.smps.push(cols[i]);for(var j=0;j<rows.length;j++){data.y.data[j].push(arr[j][i])}}else{if(str||types[i]||(xy&&za&&!config.xAxis.includes(cols[i])&&!config.yAxis.includes(cols[i])&&!config.zAxis.includes(cols[i]))||(xa&&!config.xAxis.includes(cols[i]))||(ya&&!config.yAxis.includes(cols[i]))){if(!data.z){data.z={}}data.z[cols[i]]=[];for(var j=0;j<rows.length;j++){data.z[cols[i]].push(arr[j][i])}}else{data.y.smps.push(cols[i]);for(var j=0;j<rows.length;j++){data.y.data[j].push(arr[j][i])}}}}else{if(config&&config.isCxplot){str=str?str:config.aes.hasOwnProperty("stringSampleFactors")&&config.aes.stringSampleFactors.includes(cols[i])?true:false;if(!types[i]&&(cols[i]==config.aes.x||cols[i]==config.aes.y||cols[i]==config.aes.z||cols[i]==config.aes.xend||cols[i]==config.aes.yend)&&!str){data.y.smps.push(cols[i]);for(var j=0;j<rows.length;j++){data.y.data[j].push(arr[j][i])}}else{if(!data.z){data.z={}}data.z[cols[i]]=[];for(var j=0;j<rows.length;j++){data.z[cols[i]].push(arr[j][i])}}}else{if(str||types[i]){if(!data.z){data.z={}}data.z[cols[i]]=[];for(var j=0;j<rows.length;j++){data.z[cols[i]].push(arr[j][i])}}else{if(config&&config.metaData&&!types[i]){data.y.smps.push(cols[i]);for(var j=0;j<rows.length;j++){data.y.data[j].push(arr[j][i])}}else{if(!config||(config&&((config.xAxis&&config.xAxis.includes(cols[i]))||(config.yAxis&&config.yAxis.includes(cols[i])))||(config.xAxis2&&config.xAxis2.includes(cols[i]))||(config.zAxis&&config.zAxis.includes(cols[i]))||(config.bulletTargetVarName&&config.bulletTargetVarName==cols[i])||(config.rangeStack&&config.rangeStack.includes(cols[i]))||config.prompt||rurl)){data.y.smps.push(cols[i]);for(var j=0;j<rows.length;j++){data.y.data[j].push(arr[j][i])}}else{if(!data.z){data.z={}}data.z[cols[i]]=[];for(var j=0;j<rows.length;j++){data.z[cols[i]].push(arr[j][i])}}}}}}}}}}}if(config&&config.isDataFrame){g=config&&config.graphType?config.graphType:"Scatter2D";if(g!="Scatter2D"){data.y.data=transpose(data.y.data);data.y.vars=data.y.smps;data.y.smps=rows;data.x=data.z;delete (data.z)}if(data.y.vars.length==0){var n=data.y.smps.length;data.y.data=[[]];for(var i=0;i<n;i++){data.y.data[0].push(1)}data.y.vars=["counts"];summaryType="count"}}else{if(data.y.smps.length==0){var n=data.y.data.length;data.y.data=[[]];for(var i=0;i<n;i++){data.y.data[0].push(1)}data.y.smps=data.y.vars;data.y.vars=["counts"];data.x=data.z;delete (data.z);g="Bar";summaryType="sum"}else{if(!rurl&&!pc&&(gr||(data.y.smps.length==1&&!gs)||(trans&&(!config||(config&&!config.topoJSON&&!config.isDataFrame)))||gl||(go&&!ya))){data.y.data=transpose(data.y.data);data.y.vars=data.y.smps;data.y.smps=rows;data.x=data.z;delete (data.z);g="Bar"}}}var xAxisTime=isgt&&config&&((config.hasOwnProperty("xAxis")&&config.xAxis.includes(isgt))||(config.hasOwnProperty("aes")&&config.aes.hasOwnProperty("x")&&config.aes.x==isgt))?true:false;var yAxisTime=isgt&&config&&((config.hasOwnProperty("yAxis")&&config.yAxis.includes(isgt))||(config.hasOwnProperty("aes")&&config.aes.hasOwnProperty("y")&&config.aes.y==isgt))?true:false;if(ts&&mts){return{data:data,config:{graphType:config&&config.graphType?config.graphType:g,xAxis:["Time"],yAxis:yAxis,scatterType:"line",isGraphTime:true,xAxisTime:xAxisTime,yAxisTime:yAxisTime,dataTableZeroHeader:cn,dataTableColsOrder:(cols.unshift(cn),cols),dataTableColsHide:hc}}}else{if(ds&&as.length>0){var onm=2;for(var k=0;k<as.length;k++){data.y["data"+onm]=as[k];data.y["vars"+onm]=config.dataframeSets[k];onm++}}return{data:data,config:{graphType:config&&config.graphType?config.graphType:g,summaryType:summaryType,isGraphTime:isgt||isrd||(config&&config.isGraphTime)||false,xAxisTime:xAxisTime,yAxisTime:yAxisTime,dataTableZeroHeader:cn,dataTableColsOrder:(cols.unshift(cn),cols),dataTableColsHide:hc}}}};this.arrayToCXNetwork=function(arr,target,config,events,data,type){var obj={data:{nodes:[],edges:[]}};if(data){var map={};var cols=arr[0];var nodes=0;var edges=0;var fail=0;for(var i=1;i<arr.length;i++){var n=arr[i][0];var m=arr[i][1];if(data.nodeIndices.hasOwnProperty(n)&&data.nodeIndices.hasOwnProperty(m)){edges++}else{if(data.nodeIndices.hasOwnProperty(n)){nodes++}else{fail++}}map[n]=i}if(!nodes&&!edges){for(var i=0;i<data.nodes.length;i++){var n=data.nodes[i];if(n.hasOwnProperty("extId")&&map.hasOwnProperty(n.extId)){arr[map[n.extId]][0]=n.id;nodes++}}}if(edges>nodes){nodes=0;edges=0;fail=0;type="edge";for(var i=1;i<arr.length;i++){var n=arr[i][0];var m=arr[i][1];if(data.nodeIndices.hasOwnProperty(n)&&data.nodeIndices.hasOwnProperty(m)){edges++;obj[n+":"+m]={};for(var j=2;j<cols.length;j++){obj[n+":"+m][cols[j]]=arr[i][j]}}else{fail++}}}else{if(nodes>8){nodes=0;edges=0;fail=0;type="node";for(var i=1;i<arr.length;i++){var n=arr[i][0];if(data.nodeIndices.hasOwnProperty(n)){nodes++;obj[n]={};for(var j=1;j<cols.length;j++){obj[n][cols[j]]=arr[i][j]}}else{fail++}}}else{return arr}}if((type=="edge"&&(edges>5||edges>=arr.length-1))||(type=="node"&&(nodes>5||nodes>=arr.length-1))){return{data:obj,rows:Math.max(nodes,edges),fail:fail,type:type}}else{return arr}}else{if(!type||type=="edge"){var done={};for(var i=1;i<arr.length;i++){var i1=arr[i][0];var i2=arr[i][1];if(i1&&i2){var n1={id:i1};var n2={id:i2};var e={id1:i1,id2:i2};for(var j=2;j<arr[i].length;j++){n1[arr[0][j]]=arr[i][j];n2[arr[0][j]]=arr[i][j];e[arr[0][j]]=arr[i][j]}if(!done.hasOwnProperty(i1)){obj.data.nodes.push(n1);done[i1]=true}if(!done.hasOwnProperty(i2)){obj.data.nodes.push(n2);done[i2]=true}obj.data.edges.push(e)}}obj.renderTo=target;obj.config=config?config:obj.config={graphType:"Network"};obj.events=events}}return obj};this.ja=function(x,config){for(var i=0;i<x.y.data.length;i++){x.y.data[i].unshift(x.y.vars[i])}x.y.data.unshift(x.y.smps);x.y.data[0].unshift("");x=this.arrayToCX(x.y.data,config);return x};this.gexfToCX=function(xml,target,config,events){var nodes=[];var edges=[];var cl=true;var gexf=xml.childNodes[0];if(gexf.tagName.toLowerCase()=="gexf"){for(var i=0;i<gexf.childNodes.length;i++){var el=gexf.childNodes[i];if(el.nodeName&&el.nodeName.toLowerCase()=="graph"){for(var j=0;j<el.childNodes.length;j++){var nd=el.childNodes[j];if(nd.nodeName&&nd.nodeName.toLowerCase()=="nodes"){for(var k=0;k<nd.childNodes.length;k++){var n=nd.childNodes[k];if(n.nodeName&&n.nodeName.toLowerCase()=="node"){var js=this.Sc(n);var node={};if(js.id){for(var p in js){switch(p.toLowerCase()){case"id":node.id=js.id;break;case"label":node.name=js.label;break;case"color":node.color="rgb("+js[p][0].r+","+js[p][0].g+","+js[p][0].b+")";break;case"position":node.x=Number(js[p][0].x);node.y=Number(js[p][0].y);node.z=Number(js[p][0].z);cl=false;break;case"size":node.width=Number(js[p][0].value);node.height=Number(js[p][0].value);break}}nodes.push(node)}}}}else{if(nd.nodeName&&nd.nodeName.toLowerCase()=="edges"){for(var k=0;k<nd.childNodes.length;k++){var e=nd.childNodes[k];if(e.nodeName&&e.nodeName.toLowerCase()=="edge"){js=this.Sc(e);var edge={};if(js.source&&js.target){edge.id1=js.source;edge.id2=js.target;edges.push(edge)}}}}}}}}}else{alert("Ooops! Not a Gephi gexf file!")}var res="Number of Nodes: "+nodes.length+"\nNumber of Edges: "+edges.length+"\n";res=res.replace(/\n/g,"<br>");var data={data:{nodes:nodes,edges:edges},config:{graphType:"Network",calculateLayout:cl,showAnimation:false,networkNodesOnTop:true,showNodeNameThreshold:20000,networkFreeze:false,preScaleNetwork:false,moveParentsWithChildren:true,ignoreEventlessOrder:true,networkVendor:"Gephi"},renderTo:target,events:events,afterRender:[["flashInfoSpan",[100,100,res,5000]],["appendNetworkDataFromURL",[]]]};if(config){for(var p in config){data.config[p]=config[p]}}return data};this.metabaseToCX=function(xml,target,config,events){var that=this;var loc={3:"microsome",13:"epr",21:"lysosome",43:"nucleus",67:"golgi",1287:"mitochondria",1312:"peroxisome"};var ctx=window.document.createElement("canvas").getContext("2d",{willReadFrequently:true});var wrapText=function(str,width){var re=new RegExp("(?![^\\n]{1,"+width+"}$)([^\\n]{1,"+width+"})([\\s|-])","g");return str.toString().replace(re,"$1$2\n").replace(" \n","\n")};var measureTextMultiple=function(t,f){var l=t.split(/\n/);var m=0;ctx.font=f;for(var i=0;i<l.length;i++){m=Math.max(m,ctx.measureText(l[i]).width)}return m};var getMembrane=function(node){var getNode=function(){return{shape:"rectangle",color:"rgba(255,255,255,0)",outline:"rgba(0,0,0,0)",outlineWidth:0,hideLabel:true,immutable:true,eventless:true,type:node.type,zorder:node.zorder+1,width:32,height:32}};var getNodeTL=function(){var nd=getNode();nd.id=node.id+"-membraneTL";nd.pattern="membraneTL";nd.x=node.x-(node.width*0.5);nd.y=node.y-(node.height*0.5);nd.width=64;nd.height=64;return nd};var getNodeTR=function(){var nd=getNode();nd.id=node.id+"-membraneTR";nd.pattern="membraneTR";nd.x=node.x+(node.width*0.5)-32;nd.y=node.y-(node.height*0.5);nd.width=64;nd.height=64;return nd};var getNodeBL=function(){var nd=getNode();nd.id=node.id+"-membraneBL";nd.pattern="membraneBL";nd.x=node.x-(node.width*0.5);nd.y=node.y+(node.height*0.5)-32;nd.width=64;nd.height=64;return nd};var getNodeBR=function(){var nd=getNode();nd.id=node.id+"-membraneBR";nd.pattern="membraneBR";nd.x=node.x+(node.width*0.5)-32;nd.y=node.y+(node.height*0.5)-32;nd.width=64;nd.height=64;return nd};var getNodeTop=function(s){var nd=getNode();nd.id=node.id+"-membraneT";nd.pattern="membraneTop";nd.x=node.x+(s==0?0:s==1?-16:s==2?16:0);nd.y=node.y-(node.height*0.5);nd.width=node.width-(s==0?0:s==1?32:s==2?32:64);return nd};var getNodeBottom=function(s){var nd=getNodeTop(s);nd.id=node.id+"-membraneB";nd.pattern="membraneBottom";nd.y=node.y+(node.height*0.5)-16;return nd};var getNodeRight=function(s){var nd=getNode();nd.id=node.id+"-membraneR";nd.pattern="membraneRight";nd.x=node.x+(node.width*0.5)-16;nd.y=node.y+(s==0?0:s==1?-16:s==2?16:0);nd.height=node.height-(s==0?0:s==1?32:s==2?32:64);return nd};var getNodeLeft=function(s){var nd=getNodeRight(s);nd.id=node.id+"-membraneL";nd.pattern="membraneLeft";nd.x=node.x-(node.width*0.5);return nd};switch(node.type){case 1:node.shape="rectangle";return[getNodeTop(0)];case 2:node.shape="rectangle";return[getNodeRight(0)];case 3:node.shape="roundrecttr";return[getNodeTop(1),getNodeRight(2),getNodeTR()];case 4:node.shape="rectangle";return[getNodeBottom(0)];case 5:node.shape="rectangle";return[getNodeTop(0),getNodeBottom(0)];case 6:node.shape="roundrectbr";return[getNodeBottom(1),getNodeRight(1),getNodeBR()];case 7:node.shape="roundrectr";return[getNodeTop(1),getNodeBottom(1),getNodeRight(3),getNodeBR(),getNodeTR()];case 8:node.shape="rectangle";return[getNodeLeft(0)];case 9:node.shape="roundrecttl";return[getNodeTop(2),getNodeLeft(2),getNodeTL()];case 10:node.shape="rectangle";return[getNodeRight(0),getNodeLeft(0)];case 11:node.shape="roundrectt";return[getNodeTop(3),getNodeRight(2),getNodeLeft(2),getNodeTR(),getNodeTL()];case 12:node.shape="roundrectbl";return[getNodeBottom(2),getNodeLeft(1),getNodeBL()];case 13:node.shape="roundrectl";return[getNodeTop(2),getNodeBottom(2),getNodeLeft(3),getNodeTL(),getNodeBL()];case 14:node.shape="roundrectb";return[getNodeBottom(3),getNodeRight(1),getNodeLeft(1),getNodeBR(),getNodeBL()];case 15:if(node.width<64||node.height<64){node.shape="rectangle";delete node.gradient;delete node.color1;delete node.color2;delete node.color3;return[getNodeTop(0)]}node.shape="roundrect2";return[getNodeTop(3),getNodeBottom(3),getNodeRight(3),getNodeLeft(3),getNodeTR(),getNodeTL(),getNodeBR(),getNodeBL()]}return[]};var getRadians=function(x0,y0,x1,y1){return(Math.atan2(y1-y0,x1-x0)+2*Math.PI)%(2*Math.PI)};var getCoordinateAtDistance=function(x0,y0,x1,y1,d){var dx=x1-x0;var dy=y1-y0;var distance=Math.hypot(dx,dy);if(distance===0){return[x0,y0]}var ratio=d/distance;var newX=x0+dx*ratio;var newY=y0+dy*ratio;return[newX,newY]};var getLengthToNodeBoundary=function(x0,y0,x1,y1,node){var dx=x1-x0;var dy=y1-y0;var intersectionX=x0;var intersectionY=y0;var nodeLeft=node.x-node.width/2;var nodeRight=node.x+node.width/2;var nodeTop=node.y-node.height/2;var nodeBottom=node.y+node.height/2;if(dx!==0){var leftIntersect=(nodeLeft-x0)/dx;var rightIntersect=(nodeRight-x0)/dx;if(dx>0){intersectionX=nodeLeft}else{intersectionX=nodeRight}if(leftIntersect>=0&&leftIntersect<=1){intersectionY=y0+leftIntersect*dy}else{if(rightIntersect>=0&&rightIntersect<=1){intersectionY=y0+rightIntersect*dy}}}if(dy!==0){var topIntersect=(nodeTop-y0)/dy;var bottomIntersect=(nodeBottom-y0)/dy;if(dy>0){intersectionY=nodeTop}else{intersectionY=nodeBottom}if(topIntersect>=0&&topIntersect<=1){intersectionX=x0+topIntersect*dx}else{if(bottomIntersect>=0&&bottomIntersect<=1){intersectionX=x0+bottomIntersect*dx}}}var distance=Math.sqrt(Math.pow(intersectionX-x0,2)+Math.pow(intersectionY-y0,2));return distance+2};var nodes=[];var edges=[];var pw=xml.childNodes[0];if(pw.tagName.toLowerCase()=="map"){var seen={};var sord=[];var n=0;var ob=this.Sc(pw,false,false,true);nodes.push({id:"__background__",type:"background",shape:"rectangle",color:"rgb(220,231,232)",outline:"rgb(29,154,195)",outlineWidth:3,width:Number(ob.width),height:Number(ob.height),x:Number(ob.width)*0.5,y:Number(ob.height)*0.5,hideLabel:true,immutable:true,eventless:true,zorder:1});sord.push(n++);for(var i=0;i<pw.childNodes.length;i++){var el=pw.childNodes[i];if(el.nodeName){var nn=el.nodeName.toLowerCase();switch(nn){case"localizations":for(var j=0;j<el.childNodes.length;j++){var nd=el.childNodes[j];if(nd.nodeName&&nd.nodeName.toLowerCase()=="loc"){var js=this.Sc(nd);var shp=loc.hasOwnProperty(js.id)?"image":js.id=="16"?"roundrect2":"roundrect";var node={id:"loc"+(j+1),shape:shp,hideLabel:true,immutable:true,eventless:true,x:Number(js.x)+(Number(js.width)*0.5),y:Number(js.y)+(Number(js.height)*0.5),width:Number(js.width),height:Number(js.height),type:Number(js.type),zorder:js.appearance&&js.appearance[0].zorder?Number(js.appearance[0].zorder.replace("Integer: ","")):2};if(shp!="image"){node.color="rgba(0,0,0,0)";node.outline=js.id=="16"?"rgba(0,0,0,0)":"rgb(83,158,188)";node.outlineWidth=js.id!="16"?3:0;if(js.id!="16"){node.width-=6;node.height-=6}}if(js.appearance&&js.appearance[0].rotateangle){node.rotate=Number(js.appearance&&js.appearance[0].rotateangle.split(": ")[1]);if(!node.rotate){delete node.rotate}else{node.widthTMP=node.width;node.width=node.height;node.height=node.widthTMP;delete node.widthTMP}}if(js.id=="16"){node.gradient="linear";node.color1="rgb(122,194,226)";node.color2="rgb(223,237,248)";node.color3="rgb(223,237,248)"}if(shp=="image"){if(js.id=="1287"){node.imagePath=js.type=="1"?CanvasXpress.images.mitochondria2:CanvasXpress.images.mitochondria}else{node.imagePath=CanvasXpress.images[loc[js.id]]}}for(var p in js){if(p.toLowerCase()=="appearance"){for(var a in js[p][0]){var vk=js[p][0][a].split(": ");switch(vk[0]){case"String":node[a]=vk[1];break;case"Integer":case"Double":node[a]=Number(vk[1]);break;case"Boolean":node[a]=vk[1]=="true"?true:false;break}}}}nodes.push(node);sord.push(n++);if(Number(js.id)==16){var mem=getMembrane(node);if(mem.length){for(var k=0;k<mem.length;k++){nodes.push(mem[k]);sord.push(n++)}}}}}break;case"nodes":for(var j=0;j<el.childNodes.length;j++){var nd=el.childNodes[j];if(nd.nodeName&&nd.nodeName.toLowerCase()=="node"){var js=this.Sc(nd);var node={};for(var p in js){if(p.toLowerCase()=="alt"){if(js[p][0].match(/\w/)){node.tooltip=js[p][0].replace(/\"/g,"'");node.tooltip=js[p][0].replace(/\[/g,"&#91");node.tooltip=js[p][0].replace(/\]/g,"&#93")}}if(p.toLowerCase()=="appearance"){for(var a in js[p][0]){vk=js[p][0][a].split(":");switch(vk[0]){case"String":node[a]=vk[1].replace(/\s/g,"");break;case"Integer":case"Double":node[a]=Number(vk[1].replace(/\s/g,""));break;case"Boolean":node[a]=vk[1].replace(/\s/g,"")=="true"?true:false;break;case"Rectangle":node[a]=vk[1].replace(/\s/g,"").split(",").map(Number);break;case"Color":node[a]=vk[1].replace(/\s/g,"").split(",").map(Number);node[a][3]=Math.round(node[a][3]/255*10)/10;node[a]="rgba("+node[a].join(",")+")";break;case"Font":node[a]=vk[1].replace(/\s/g,"").split(",");break}}}node[p]=js[p]=="true"?true:js[p]=="false"?false:!isNaN(js[p])?Number(js[p]):js[p]}node.extId=js.id;node.id=js.nodeid.toString();node.x=Number(js.x)+(Number(js.width)*0.5);node.y=Number(js.y)+(Number(js.height)*0.5);node.width=Number(js.width);node.height=Number(js.height);if(node.iconarea){node.width=node.iconarea[2];node.height=node.iconarea[3];node.x=node.iconarea[0]+(node.width*0.5);node.y=node.iconarea[1]+(node.height*0.5);delete node.iconarea}if(js.icontype&&(js.type==0||js.type==16)){if(isNaN(js.icontype)){js.icontype=1000}if(Number(js.icontype)<10){js.icontype="0"+js.icontype}if(CanvasXpress.images.hasOwnProperty(js.icontype)){node.zoomX=50/node.width;node.zoomY=50/node.height;node.shape="image";node.imagePath=CanvasXpress.images[js.icontype];node.immutable=false}else{node.shape="roundrect";node.immutable=true}}else{if(js.icontype){switch(js.type){case"-10":node.width-=5;node.height-=5;node.x+=2.5;node.y+=2.5;node.shape=node.arcwidth>40?"roundrecto":"roundrect";break;case"21":case"61":case"63":case"91":case"-11":case"-12":node.width-=4;node.height-=4;node.x+=2;node.y+=2;node.shape="roundrect";break;default:break}node.immutable=true}else{node.shape="roundrect";node.immutable=true}}if(node.name==""){node.hideLabel=true}else{node.name=node.name.toString().replace(/\[/g,"&#91").replace(/\]/g,"&#93").replace(/\"/g,"&quot")}if(node.textarea){var lines=1;if(node.font){lines=Math.floor(node.textarea[3]/(Number(node.font[2])+(Number(node.font[2])>12?1:0)));node.labelSize=node.font[2]==14?1.1:1;if(node.font[0].match(/Bold Italic/i)){node.labelStyle="Bold Italic"}else{if(node.font[0].match(/Bold/i)){node.labelStyle="Bold"}else{if(node.font[0].match(/Italic/i)){node.labelStyle="Italic"}}}}if(lines>1&&!node.name.toString().match(/\n/)){var fnt=Math.floor(10*node.labelSize)+"px Arial";var tst=Math.floor(node.textarea[2]/5.5);var wrp=tst>0?wrapText(node.name.toString(),tst):node.name.toString();var lns=wrp.split(/\n/);var max=measureTextMultiple(wrp,fnt);if(lns.length>lines){while(lns.length>lines&&tst<node.name.toString().length){wrp=wrapText(node.name.toString(),tst++);lns=wrp.split(/\n/);max=measureTextMultiple(wrp,fnt)}}if(max>node.textarea[2]){wrp=wrp.replace("(","\n(");lns=wrp.split(/\n/);max=measureTextMultiple(wrp,fnt);while((max>node.textarea[2]||lns.length*fnt>node.textarea[3]||lns.length<lines)&&tst>3){wrp=wrapText(node.name,tst--);lns=wrp.split(/\n/);max=measureTextMultiple(wrp,fnt)}}node.name=wrp}else{if(lines==0){node.hideLabel=true}}node.labelX=node.textarea[0]+(node.textarea[2]*0.5);node.labelY=node.textarea[1]+(node.textarea[3]*0.5)}if(node.textalignment!=null){if(node.textalignment==0){node.labelAlign="left";node.labelX-=(node.textarea[2]*0.45)}else{if(node.textalignment==1){node.labelAlign="center"}else{if(node.textalignment==2){node.labelAlign="right";node.labelX+=(node.textarea[2]*0.45)}}}}delete node.textarea;if(node.fontcolor){node.labelColor=node.fontcolor;delete node.fontcolor}if(node.backgroundcolor){node.color=node.backgroundcolor;delete node.backgroundcolor}if(node.bordercolor){node.outline=node.bordercolor;delete node.bordercolor}if(node.rotateangle){node.rotate=node.shape=="image"?-node.rotateangle:270-node.rotateangle;if(node.shape!="image"){node.labelRotate=-node.rotateangle}delete node.rotateangle}if(node.borderwidth){node.outlineWidth=Number(node.borderwidth)-1;delete node.borderwidth}seen[node.id]=n;delete node.appearance;delete node.icontype;nodes.push(node);sord.push(n++);if(node.complex){nodes.push({id:node.id+"-complex",x:node.x,y:node.y,width:14,height:14,shape:"star",color:"rgb(255,255,255)",hideLabel:true,zorder:node.zorder+1,parentNode:node.id});seen[node.id+"-complex"]=n;sord.push(n++);delete node.complex}if(node.pathstart){var rot=0;var ptx=0;var pty=0;switch(node.sideofpathstarteditor){case 0:rot=90;pty=-(40+node.pathstartarrowmargin);break;case 1:rot=180;ptx=(40+node.pathstartarrowmargin);break;case 2:rot=270;pty=(40+node.pathstartarrowmargin);break;case 3:rot=0;ptx=-(40+node.pathstartarrowmargin);break}nodes.push({id:node.id+"-pathstart",x:node.x+ptx,y:node.y+pty,width:40,height:40,shape:"image",imagePath:CanvasXpress.images["99"],hideLabel:true,immutable:true,rotate:rot,zorder:node.zorder+1,parentNode:node.id});seen[node.id+"-pathstart"]=n;sord.push(n++);delete node.sideofpathstarteditor;delete node.pathstartarrowmargin;delete node.pathstart}if(node.organismspecificobject){nodes.push({id:node.id+"-organism",x:node.x,y:node.y,width:60,height:60,shape:"circle",color:"rgba(0,0,0,0.1)",outline:"rgb(255,255,0)",outlineWidth:3,hideLabel:true,zorder:node.zorder-1,parentNode:node.id});seen[node.id+"-organism"]=n;sord.push(n++);delete node.organismspecificobject}}}break;case"edges":for(var j=0;j<el.childNodes.length;j++){var ed=el.childNodes[j];if(ed.nodeName&&ed.nodeName.toLowerCase()=="edge"){var js=this.Sc(ed);var edge={};for(var p in js){if(p.toLowerCase()=="alt"){continue}if(p.toLowerCase()=="appearance"){for(var a in js[p][0]){if(a=="linkhighlighting"){vk=js[p][0][a].split(":");if(vk[1]=="Color"&&vk[2]){vk[2]=vk[2].split(",");vk[2].pop();edge.highlight="rgb("+vk[2].join(",")+")"}}else{vk=js[p][0][a].split(": ");switch(vk[0]){case"String":edge[a]=vk[1];break;case"Integer":case"Double":edge[a]=Number(vk[1]);break;case"Boolean":edge[a]=vk[1]=="true"?true:false;break;case"Rectangle":edge[a]=vk[1].replace(/\s/g,"").split(",").map(Number);break;case"PointArray":var cp=[];vk[1]=vk[1].replace(/\s/g,"").split(";");for(var k=0;k<vk[1].length-1;k++){cp.push(vk[1][k].split(",").map(Number))}edge[a]=cp;break}}}}edge[p]=js[p]=="true"?true:js[p]=="false"?false:!isNaN(js[p])?Number(js[p]):js[p]}edge.id1=js.src;edge.id2=js.dst;if(edge.type){edge.EdgeType=edge.type;delete edge.type}if(edge.directed){edge.endArrow="arrow";delete edge.directed}edge.color="grey";edge.type=edge.enhances?"dashed":"solid";if(edge.visualization=="Round"){edge.type="quadratic";edge.angle=edge.angle}else{if(edge.visualization=="Bezier"){if(!edge.controlpoints){edge.type="solid";edge.linksourcepointindex=0;edge.linktargetpointindex=0}else{edge.type="bezier";edge.angle=edge.angle}}}if(edge.hasOwnProperty("effect")){if(edge.effect>=0){switch(edge.effect){case 0:edge.color="rgb(152,156,158)";break;case 1:edge.color="rgb(0,128,0)";break;case 2:edge.color="rgb(170,0,0)";break}}if(edge.mech!=null){var dec={};if(edge.showhexagon){var col=edge.hexagoncustomcolor||edge.color;var idx=edge.hexagonindex||0;var pos=edge.hexagoncoordinate||0.5;var cll=edge.effect==0?"black":"rgb(242,216,0)";var getDec=function(lbl){return{label:lbl,labelColor:cll,shape:"hexagon",color:col,index:idx,pos:pos}};switch(edge.mech){case -1:dec=getDec("");break;case 0:dec=getDec("?");break;case 2:dec=getDec("CM");break;case 3:dec=getDec("+P");break;case 4:dec=getDec("-P");break;case 5:dec=getDec("B");break;case 6:dec=getDec("Cn");break;case 7:dec=getDec("T");break;case 8:dec=getDec("C");break;case 9:dec=getDec("TR");break;case 10:dec=getDec("GR");dec.labelColor="white";dec.color="rgb(0,0,170)";break;case 11:dec=getDec("CR");break;case 12:dec=getDec("IE");break;case 14:dec=getDec("CS");dec.labelColor="white";dec.color="rgb(0,0,170)";break;case 15:dec=getDec("Z");break;case 16:dec=getDec("Tn");break;case 20:dec=getDec("cRT");break;case 21:dec=getDec("PE");break;case 22:dec=getDec("TE");break;case 24:dec=getDec("M");break;case 31:dec=getDec("SR");break;case 44:dec=getDec("RG");break;default:dec=getDec("");break}if(dec.label!=""){edge.decoration=[dec]}}delete edge.effect;delete edge.mech;delete edge.hexagonindex;delete edge.hexagoncoordinate;delete edge.showhexagon;delete edge.hexagoncustomcolor}}if(edge.broken){if(!edge.decoration){edge.decoration=[]}edge.decoration.push({label:"X",labelColor:"purple",fontSize:20,shape:"square",color:"rgba(0,0,0,0)",index:(edge.brokenindex||0),pos:(edge.brokencoordinate||0.5)});delete edge.broken;delete edge.brokenindex;delete edge.brokencoordinate}if(edge.weakens){if(!edge.decoration){edge.decoration=[]}edge.decoration.push({label:"-x-",labelColor:"purple",fontSize:12,shape:"square",color:"rgba(0,0,0,0)",index:(edge.weakensindex||0),pos:(edge.weakenscoordinate||0.5)});delete edge.weakens;delete edge.weakensindex;delete edge.weakenscoordinate}if(edge.disease){edge.color="purple";edge.thickness=2;delete edge.disease}if(edge.enhances){edge.color="purple";edge.thickness=2;delete edge.enhances}delete edge.appearance;delete edge.src;delete edge.dst;if(seen.hasOwnProperty(edge.id1)&&seen.hasOwnProperty(edge.id2)){var src=nodes[seen[edge.id1]];var dst=nodes[seen[edge.id2]];var sx=src.x;var sy=src.y;var sw=src.width*0.5;var sh=src.height*0.5;var ex=0;var ey=0;var dx=dst.x;var dy=dst.y;var dw=dst.width*0.5;var dh=dst.height*0.5;var ss,sd,sq,ds,dd,dq,xy,cx,cy,rd,frs,lst,n1;if(edge.visualization&&edge.visualization=="Right angle polyline"){ss=edge.linksourcepointindex?Math.floor((edge.linksourcepointindex-1)/src.linkpointcount):-1;sd=edge.linksourcepointindex?(edge.linksourcepointindex-(src.linkpointcount*ss))/(src.linkpointcount+1):0;if(edge.firstleg&&edge.firstleg=="Vertical"){frs=edge.controlpoints?edge.controlpoints[0][1]:false;sy=frs&&frs[1]>0?sy+sh:src.y>dst.y?sy-sh:frs&&frs<0?sy-sh:sy+sh;if(ss==0||ss==2){sx=(sx-sw)+(src.width*sd)}else{if(ss==1){sx=sx+sw}else{if(ss==3){sx=sx-sw}}}sq="tb"}else{frs=edge.controlpoints?edge.controlpoints[0][0]:false;sx=frs&&frs>0?sx+sw:src.x>dst.x?sx-sw:frs&&frs<0?sx-sw:sx+sw;if(ss==1||ss==3){sy=(sy-sh)+(src.height*sd)}else{if(ss==0){sy=sy-sh}else{if(ss==2){sy=sy+sh}}}sq="lr"}ds=edge.linktargetpointindex?Math.floor((edge.linktargetpointindex-1)/dst.linkpointcount):-1;dd=edge.linktargetpointindex?(edge.linktargetpointindex-(dst.linkpointcount*ds))/(dst.linkpointcount+1):0;if(!edge.controlpoints){if(edge.firstleg&&edge.firstleg=="Vertical"){dx=src.x>dst.x?dx+dw:dx-dw;if(ds==1||ds==3){dy=(dy-dh)+(dst.height*dd)}}else{dy=src.y>dst.y?dy+dh:dy-dh;if(ds==0||ds==2){dx=(dx-dw)+(dst.width*dd)}}}else{dq=edge.controlpoints.length%2?sq:sq=="tb"?"lr":"tb";n1=edge.controlpoints.length-1;lst=edge.controlpoints[n1];if(edge.linktargetpointindex){if(ds==1||ds==3){if(src.x+lst[0]>dst.x){dx+=dw}else{dx-=dw}dy=(dy-dh)+(dst.height*dd)}else{if(ds==0||ds==2){dx=(dx-dw)+(dst.width*dd);if(src.y+lst[1]>dst.y){dy+=dh}else{dy-=dh}}}}else{if(edge.controlpoints.length%2){if(sq==dq&&sq=="lr"){if(src.x+lst[0]>dst.x){dx+=dw}else{dx-=dw}}}else{dx=src.x+lst[0]>dst.x?dx+dw:dx-dw}if(edge.controlpoints.length%2){if(sq!=dq||sq!="lr"){dy=src.y+lst[1]>dst.y?dy+dh:dy-dh}}else{if(src.y+lst[1]>dst.y){dy=dy+dh}}}}if(edge.controlpoints){edge.elbows=[[sx,sy]];cx=sx;cy=sy;if(edge.firstleg&&edge.firstleg=="Vertical"){for(var k=0;k<edge.controlpoints.length;k++){if(k%2){cx=sx+edge.controlpoints[k][0]}else{cy=sy+edge.controlpoints[k][1]}edge.elbows.push([cx,cy])}if(edge.controlpoints.length%2){edge.elbows.push([dx,cy])}else{edge.elbows.push([cx,dy])}}else{for(var k=0;k<edge.controlpoints.length;k++){if(k%2){cy=sy+edge.controlpoints[k][1]}else{cx=sx+edge.controlpoints[k][0]}edge.elbows.push([cx,cy])}if(edge.controlpoints.length%2){edge.elbows.push([cx,dy])}else{edge.elbows.push([dx,cy])}}edge.elbows.push([dx,dy])}else{if(edge.firstleg&&edge.firstleg=="Vertical"){edge.elbows=[[sx,sy],[sx,dy],[dx,dy]]}else{edge.elbows=[[sx,sy],[dx,sy],[dx,dy]]}}}else{if(edge.controlpoints&&edge.linksourcepointindex!=null&&edge.linktargetpointindex!=null&&edge.id1!=edge.id2){if(edge.linksourcepointindex||edge.controlpoints){frs=edge.controlpoints?edge.controlpoints[0]:[0,0];if(edge.linksourcepointindex==0){ds=getLengthToNodeBoundary(sx,sy,sx+frs[0],sy+frs[1],src);xy=getCoordinateAtDistance(sx,sy,sx+frs[0],sy+frs[1],ds);rd=getRadians(sx,sy,sx+frs[0],sy+frs[1]);sx=xy[0];sy=xy[1];ex=(-ds*-Math.cos(rd));ey=ds*Math.sin(rd)}else{ss=Math.floor((edge.linksourcepointindex-1)/src.linkpointcount);sd=(edge.linksourcepointindex-(src.linkpointcount*ss))/(src.linkpointcount+1);switch(ss){case 0:ex=(src.width*sd);ey=0;sx=ex+sx-sw;sy=sy-sh;break;case 1:ex=0;ey=(src.height*sd);sx=sx+sw;sy=ey+sy-sh;break;case 2:ex=(src.width*sd);ey=0;sx=ex+sx-sw;sy=sy+sh;break;case 3:ex=0;ey=(src.height*sd);sx=sx-sw;sy=ey+sy-sh;break}}}if(edge.linktargetpointindex||edge.controlpoints){lst=edge.controlpoints?this.parseJSON(this.G0(edge.controlpoints[edge.controlpoints.length-1])):[0,0];if(edge.linktargetpointindex==0){if(edge.controlpoints){lst[0]=dx-(sx+lst[0]);lst[1]=dy-(sy+lst[1])}ds=getLengthToNodeBoundary(dx,dy,dx+lst[0],dy+lst[1],dst);xy=getCoordinateAtDistance(dx,dy,dx+lst[0],dy+lst[1],-ds);rd=getRadians(dx,dy,dx+lst[0],dy+lst[1]);dx=xy[0];dy=xy[1]}else{ds=Math.floor((edge.linktargetpointindex-1)/dst.linkpointcount);dd=(edge.linktargetpointindex-(dst.linkpointcount*ds))/(dst.linkpointcount+1);switch(ds){case 0:dx=(dst.width*dd)+dx-dw;dy=dy-dh;break;case 1:dx=dx+dw;dy=(dst.height*dd)+dy-dh;break;case 2:dx=(dst.width*dd)+dx-dw;dy=dy+dh;break;case 3:dx=dx-dw;dy=(dst.height*dd)+dy-dh;break}}}edge.elbows=[];for(var k=0;k<edge.controlpoints.length;k++){edge.elbows.push([sx+edge.controlpoints[k][0]+5,sy+edge.controlpoints[k][1]])}edge.elbows.unshift([sx,sy]);edge.elbows.push([dx,dy])}else{if(edge.id1==edge.id2){ss=edge.linksourcepointindex?Math.floor((edge.linksourcepointindex-1)/src.linkpointcount):-1;ds=edge.linktargetpointindex?Math.floor((edge.linktargetpointindex-1)/dst.linkpointcount):-1;if(ss==ds){edge.self={dir:edge.angle>0,pos:(ss==0?"top":ss==1?"right":ss=2?"bottom":"left"),size:20,end:"arrow"}}else{if(ss>ds||(ss==0&&ds==3)){edge.self={dir:edge.angle>0,pos:(ss==0?"topLeft":ss=1?"topRight":ss==2?"bottomRight":"bottomLeft"),size:20,end:"arrow"}}else{if(ds>ss||(ds==0&&ss==3)){edge.self={dir:edge.angle>0,pos:(ss==0?"topRight":ss==1?"bottomRight":ss==2?"bottomLeft":"topLeft"),size:20,end:"arrow"}}}}}else{if(edge.linksourcepointindex){ss=edge.linksourcepointindex?Math.floor((edge.linksourcepointindex-1)/src.linkpointcount):-1;sd=edge.linksourcepointindex?(edge.linksourcepointindex-(src.linkpointcount*ss))/(src.linkpointcount+1):0;if(ss==0||ss==2){sx=(sx-sw)+(src.width*sd)}else{sy=(sy-sh)+(src.height*sd)}}if(edge.linktargetpointindex){ds=edge.linktargetpointindex?Math.floor((edge.linktargetpointindex-1)/dst.linkpointcount):-1;dd=edge.linktargetpointindex?(edge.linktargetpointindex-(dst.linkpointcount*ds))/(dst.linkpointcount+1):0;if(ds==0||ds==2){dx=(dx-dw)+(dst.width*dd)}else{dy=(dy-dh)+(dst.height*dd)}}if(edge.linksourcepointindex||edge.linktargetpointindex){if(edge.linksourcepointindex){switch(ss){case 0:sy-=sh;break;case 1:sx+=sw;break;case 2:sy+=sh;break;case 3:sx-=sw;break}if(!edge.linktargetpointindex){ds=getLengthToNodeBoundary(dx,dy,sx,sy,dst);xy=getCoordinateAtDistance(dx,dy,sx,sy,ds);dx=xy[0];dy=xy[1]}else{switch(ds){case 0:dy-=dh;break;case 1:dx+=dw;break;case 2:dy+=dh;break;case 3:dx-=dw;break}}}else{switch(ds){case 0:dy-=dh;break;case 1:dx+=dw;break;case 2:dy+=dh;break;case 3:dx-=dw;break}ds=getLengthToNodeBoundary(sx,sy,dx,dy,src);xy=getCoordinateAtDistance(sx,sy,dx,dy,ds);sx=xy[0];sy=xy[1]}edge.elbows=[[sx,sy],[dx,dy]]}}}}delete edge.linksourcepointindex;delete edge.linktargetpointindex;delete edge.controlpoints;delete edge.visualization;delete edge.firstleg;edges.push(edge)}}}break}}}sord.sort(function(a,b){if(nodes[a].zorder-nodes[b].zorder==0){return a-b}else{return nodes[a].zorder-nodes[b].zorder}});var tmp=[];for(var i=0;i<sord.length;i++){tmp.push(nodes[sord[i]])}nodes=tmp}else{alert("Ooops! Not a Metabase xgmml file!")}var res="Number of Nodes: "+nodes.length+"\nNumber of Edges: "+edges.length+"\n";res=res.replace(/\n/g,"<br>");var data={data:{nodes:nodes,edges:edges},config:{adjustBezier:false,graphType:"Network",calculateLayout:false,showAnimation:false,networkNodesOnTop:false,showNodeNameThreshold:20000,networkFreeze:true,preScaleNetwork:false,moveParentsWithChildren:true,ignoreEventlessOrder:true,networkVendor:"Metabase"},renderTo:target,events:events,afterRender:[["flashInfoSpan",[100,100,res,5000]],["appendNetworkDataFromURL",[]]]};if(config){for(var p in config){data.config[p]=config[p]}}return data};this.cytoscapeToCX=function(xml,target,config,events){var sp={ELLIPSE:"oval",arc:"circle",bitmap:"circle",line:"minus",text:"circle",ver_ellipsis:"oval",hor_ellipsis:"oval"};var nodes=[];var edges=[];var title="";var pw=xml.childNodes[0];if(pw.tagName.toLowerCase()=="graph"){for(var i=0;i<pw.childNodes.length;i++){var el=pw.childNodes[i];if(el.nodeName){var nn=el.nodeName.toLowerCase();var js=this.Sc(el);switch(nn){case"node":if(js.graphics&&js.id){var gr=js.graphics[0];var node={id:js.id,x:Number(gr.x),y:Number(gr.y),z:Number(gr.z),width:Number(gr.w),height:Number(gr.h),shape:(sp[gr.type]||gr.type),color:gr.fill,outline:gr.outline,outlineWidth:Number(gr.width)};if(js.label){node.name=js.label}if(js.att){for(var j=0;j<js.att.length;j++){var at=js.att[j];if(at.name&&!at.name.match(/NODE_/)&&at.name!="selected"&&at.name!="isInPath"){switch(at.type){case"String":if(at.name=="COMMON"&&at.value){node.label=at.value}else{if(at.value){node[at.name]=at.value}}break;case"Double":case"Integer":if(at.value!=null){node[at.name]=Number(at.value)}break;case"Boolean":if(at.value!=null){node[at.name]=at.value==0?false:true}break}}}}nodes.push(node)}break;case"edge":if(js.source&&js.target){var edge={id1:js.source,id2:js.target};if(js.id){edge.intId=js.id}if(js.label){edge.label=js.label}if(js.directed){edge.directed=js.directed}if(js.graphics){edge.color=js.graphics[0].fill;edge.width=js.graphics[0].width}if(js.att){for(var j=0;j<js.att.length;j++){var at=js.att[j];if(at.name&&!at.name.match(/EDGE_/)&&at.name!="selected"&&at.name!="isInPath"){switch(at.type){case"String":if(at.value){edge[at.name]=at.value}break;case"Double":case"Integer":if(at.value!=null){edge[at.name]=Number(at.value)}break;case"Boolean":if(at.value!=null){edge[at.name]=at.value==0?false:true}break}}}}edges.push(edge)}break;case"att":if(js.name&&js.value&&js.name=="Dataset Name"){title=js.value}break}}}}else{alert("Ooops! Not a cytoscape xgmml file!")}var res="Number of Nodes: "+nodes.length+"\nNumber of Edges: "+edges.length+"\n";res=res.replace(/\n/g,"<br>");var data={data:{nodes:nodes,edges:edges},config:{adjustBezier:false,graphType:"Network",calculateLayout:false,showAnimation:false,networkNodesOnTop:true,showNodeNameThreshold:20000,networkFreeze:false,preScaleNetwork:false,title:title,moveParentsWithChildren:true,ignoreEventlessOrder:true,networkVendor:"Cytoscape"},renderTo:target,events:events,afterRender:[["flashInfoSpan",[100,100,res,5000]],["appendNetworkDataFromURL",[]]]};if(config){for(var p in config){data.config[p]=config[p]}}return data};this.wikipathwayToCX=function(xml,target,config,events){var pw=xml.childNodes[0];var nodes={};var edges=[];var state={};var groups={};var anchors={};var order={};var cntp=1;var cntn=0;var sord=[];var groupRef={};var groupGref={};var groupStyl={};var groupId={};var wrn="\nWarnings:\n";var htt=false;var title,subtitle;var arrowTypes={Line:false,Arrow:"arrow",TBar:"square","mim-conversion":"arrow","mim-modification":"arrow","mim-cleavage":"arrow","mim-gap":"arrow","mim-branching-left":"arrow","mim-branching-right":"arrow","mim-inhibition":"square","mim-catalysis":"round","mim-stimulation":"arrowOpen","mim-necessary-stimulation":"arrowOpen","mim-binding":"arrowArc","mim-covalent-bond":"arrowArc","mim-transcription-translation":"arrowArcOpen"};var createNodeFromGroup=function(grp,id,type){var mnx=Number.MAX_VALUE;var mny=Number.MAX_VALUE;var mxx=-Number.MAX_VALUE;var mxy=-Number.MAX_VALUE;var ids=[];var ord=[];var col=type&&type=="Group"?"rgba(0,0,0,0)":"rgba(245,245,245,0.5)";var out=type&&type=="Group"?"rgba(0,0,0,0)":"rgb(0,0,0)";for(var i=0;i<grp.length;i++){mnx=Math.min(mnx,grp[i][1]-(grp[i][3]/2));mny=Math.min(mny,grp[i][2]-(grp[i][4]/2));mxx=Math.max(mxx,grp[i][1]+(grp[i][3]/2));mxy=Math.max(mxy,grp[i][2]+(grp[i][4]/2));ids.push(grp[i][0]);nodes[grp[i][0]].parentNode=id;ord.push(nodes[grp[i][0]].zorder);ord.sort(function(a,b){return a-b})}var w=mxx-mnx;var h=mxy-mny;var ob={id:id,x:(mnx+mxx)/2,y:(mny+mxy)/2,width:w+(grp.length>1&&w>10?5*(type=="Group"?1:4):0),height:h+(grp.length>1&&h>10?5*(type=="Group"?1:4):0),group:ids,hideLabel:true,hideTooltip:htt,type:"Group",color:col,outline:out,shape:type=="Group"?"rectangle":"roundrect",zorder:ord[0]};order[id]=cntn--;nodes[id]=ob;sord.push(id)};var createNodeFromPoint=function(p,id){var ob={id:id,x:Math.round(p.x*10)/10,y:Math.round(p.y*10)/10,width:p.width?Math.round(p.width):1,height:p.height?Math.round(p.height):1,hideLabel:p.show?false:true,hideTooltip:!htt?false:p.show?false:true,eventless:p.show?false:true,type:p.type||"Anchor",color:p.color||"rgba(0,0,0,0)",outline:p.outline||"rgba(0,0,0,0)",shape:p.shape||"circle",label:p.label||"",labelSize:p.labelSize||8,zorder:p.zorder||0};order[id]=cntp++;nodes[id]=ob;sord.push(id)};var getDirection=function(s){switch(s){case"r":case"l":return"rl";case"b":case"t":case"c":return"tb"}};var getSide=function(p,n){if(parseInt(p.relx)==1){return"r"}else{if(parseInt(p.relx)==-1){return"l"}else{if(parseInt(p.rely)==1){return"b"}else{if(parseInt(p.rely)==-1){return"t"}else{if(Math.abs(p.relx)>Math.abs(p.rely)){if(parseFloat(p.relx)>0){return"r"}else{return"l"}}else{if(parseFloat(p.rely)>0){return"b"}else{if(parseFloat(p.rely)<0){return"t"}else{if(n){if(parseFloat(n.x)<parseFloat(p.x)){return"l"}else{if(parseFloat(n.x)>parseFloat(p.x)){return"r"}else{if(parseFloat(n.y)<parseFloat(p.y)){return"t"}else{if(parseFloat(n.y)>parseFloat(p.y)){return"b"}else{return"c"}}}}}else{return"c"}}}}}}}}};var getNumberOfLines=function(e,n){var findExtra=function(sd,p1,p2){switch(sd){case"r":if(parseFloat(p1.x)>=parseFloat(p2.x)){return 2}break;case"l":if(parseFloat(p1.x)<=parseFloat(p2.x)){return 2}break;case"t":case"c":if(parseFloat(p1.y)<=parseFloat(p2.y)){return 2}break;case"b":if(parseFloat(p1.y)>=parseFloat(p2.y)){return 2}break}return 0};var s=e[0];var t=e[n];var ss=getSide(s,e[1]);var ts=getSide(t);var ls=2;if(getDirection(ss)==getDirection(ts)){ls++}if(ss!=ts){ls+=findExtra(ss,s,t);ls+=findExtra(ts,t,s)}return ls};var getPoint=function(s,a,f){if(f){switch(s){case"r":return[a[0]+20,a[1]];case"l":return[a[0]-20,a[1]];case"t":case"c":return[a[0],a[1]-20];case"b":return[a[0],a[1]+20]}}else{switch(s){case"r":case"l":return[a[0][0],a[1][1]];case"t":case"b":case"c":return[a[1][0],a[0][1]]}}};var getCoords=function(d,a){var r=[a[0]];var l=a[0];for(var i=1;i<a.length;i++){var c=a[i];switch(d){case"rl":r.push([c[0],l[1]]);break;case"tb":r.push([l[0],c[1]]);break}l=r[i];d=d=="rl"?"tb":"rl"}r.push(a[a.length-1]);return r};var to2DArray=function(edg){var ps=edg.point;var a=[];for(var i=0;i<ps.length;i++){a.push([Math.round(ps[i].x*10)/10,Math.round(ps[i].y*10)/10])}return a};var getElbowPoints=function(edg){var ps=edg.point;var n1=ps.length-1;var ls=getNumberOfLines(ps,n1);var s=getSide(ps[0],ps[1]);var t=getSide(ps[n1]);var d=getDirection(s);var a=to2DArray(edg);if(ls==ps.length){a=getCoords(d,a)}else{if(ps.length==2){a.splice(1,0,getPoint(s,a[0],true));if(ls>3){if(ls>3){a.splice(2,0,getPoint(t,a[2],true))}if(ls>4&&ls==5){a.splice(2,0,[a[2][0],a[0][1]]);a.splice(3,1);a.splice(1,1)}else{if(ls>4){a.splice(3,0,[(a[1][0]+a[2][0])/2,(a[1][1]+a[2][1])/2]);if(ls>5){a=to2DArray(edg);a=getCoords(d,a)}}else{a.splice(2,0,getPoint(s,[a[1],a[2]]))}}}else{if((a[0][0]==a[1][0]&&a[1][0]==a[2][0])||(a[0][1]==a[1][1]&&a[1][1]==a[2][1])){a.splice(1,1)}else{a.splice(2,0,getPoint(s,[a[1],a[2]]))}}}else{if(ps.length>ls){a=getCoords(d,a)}else{for(var i=0;i<n1;i++){var j=i*2;if(d=="tb"){d="rl";a.splice(j+1,0,[a[j][0],a[j+1][1]])}else{d="tb";a.splice(j+1,0,[a[j+1][0],a[j][1]])}}}}}var b=[[a[0][0],a[0][1]]];for(var i=1;i<a.length;i++){if(a[i][0]==a[i-1][0]&&a[i][1]==a[i-1][1]){continue}b.push([a[i][0],a[i][1]])}return b};var getBezierPoints=function(edg,sn,tn){var ps=edg.point;var n1=ps.length-1;var s=getSide(ps[0],ps[1]);var t=getSide(ps[n1]);var ds=getDirection(s);var dt=getDirection(t);var ar=to2DArray(edg);var segs=[];var p0,p1,mx,my;if(n1==1){p0=ar[0];p1=ar[1];if(sn&&tn){if(ds==dt){mx=(p0[0]+p1[0])/2;my=(p0[1]+p1[1])/2;if(ds=="tb"){if(t=="t"){if(my>tn.y-tn.height){my-=tn.height}}else{if(t=="b"){if(my<tn.y+tn.height){my+=tn.height}}}segs.push([p0[0],p0[1],p0[0],my,mx,my]);segs.push([mx,my,p1[0],my,p1[0],p1[1]])}else{if(t=="l"){if(mx>tn.x-tn.width){mx-=tn.width*0.5}}else{if(t=="r"){if(mx<tn.x+tn.width){mx+=tn.width*0.5}}}segs.push([p0[0],p0[1],mx,p0[1],mx,my]);segs.push([mx,my,mx,p1[1],p1[0],p1[1]])}}else{if(s=="t"||s=="b"){mx=t=="l"?-tn.width*0.5:t=="r"?tn.width*0.5:-tn.width*0.5;my=(p1[1]-p0[1])/3;if((t=="l"&&p0[0]>tn.x-tn.width)||(t=="r"&&p0[0]<tn.x+tn.width)){segs.push([p0[0],p0[1],p0[0],p0[1]+my,p1[0],p0[1]+my]);segs.push([p1[0],p0[1]+my,p1[0]+mx,p0[1]+my,p1[0]+mx,p0[1]+my+my]);segs.push([p1[0]+mx,p0[1]+my+my,p1[0]+mx,p1[1],p1[0],p1[1]])}else{segs.push([p0[0],p0[1],p0[0],p1[1],p1[0],p1[1]])}}else{mx=(p1[0]-p0[0])/3;my=t=="t"?-tn.height:t=="b"?tn.height:-tn.height;if((t=="t"&&p0[1]>tn.y-tn.height)||(t=="b"&&p0[1]<tn.y+tn.height)){segs.push([p0[0],p0[1],p0[0]+mx,p0[1],p0[0]+mx,p1[1]]);segs.push([p0[0]+mx,p1[1],p0[0]+mx,p1[1]+my,p0[0]+mx+mx,p1[1]+my]);segs.push([p0[0]+mx+mx,p1[1]+my,p1[0],p1[1]+my,p1[0],p1[1]])}else{segs.push([p0[0],p0[1],p1[0],p0[1],p1[0],p1[1]])}}}}}else{p0=ar[0];if(s=="t"||s=="b"){for(var i=1;i<n1;i++){p1=ar[i];if(i%2){segs.push([p0[0],p0[1],p0[0],p1[1],p1[0],p1[1]])}else{segs.push([p0[0],p0[1],p1[0],p0[1],p1[0],p1[1]])}p0=p1}p1=ar[n1];if(n1%2){segs.push([p0[0],p0[1],p0[0],p1[1],p1[0],p1[1]])}else{segs.push([p0[0],p0[1],p1[0],p0[1],p1[0],p1[1]])}}else{for(var i=1;i<n1;i++){p1=ar[i];if(i%2){segs.push([p0[0],p0[1],p1[0],p0[1],p1[0],p1[1]])}else{segs.push([p0[0],p0[1],p0[0],p1[1],p1[0],p1[1]])}p0=p1}p1=ar[n1];if(n1%2){segs.push([p0[0],p0[1],p1[0],p0[1],p1[0],p1[1]])}else{segs.push([p0[0],p0[1],p0[0],p1[1],p1[0],p1[1]])}}}return segs};var getStatePosition=function(n,s){var x=parseFloat(s.relx);var y=parseFloat(s.rely);var w=n.width/2;var h=n.height/2;return[n.x+(x*w),n.y+(y*h)]};var XMLToJSON=function(xml,json,p,parent){var j={};var prefix=new RegExp(/(?!xmlns)^.*:/);var trim=new RegExp(/^\s+|\s+$/g);if(!json){json={}}if(p&&(p=="point"||p=="anchor")&&!json[p]){json[p]=[]}if(xml.attributes&&xml.attributes.length>0){for(var i=0;i<xml.attributes.length;i++){var a=xml.attributes.item(i);var n=a.name.replace(prefix,"").replace(/\[/g,"&#91").replace(/\]/g,"&#93").toLowerCase();if(p&&(p=="point"||p=="anchor")){j[n]=a.value.replace(trim,"")}else{json[n]=a.value.replace(trim,"")}}if(p&&(p=="point"||p=="anchor")){json[p].push(j)}}if(xml.hasChildNodes()&&!parent){for(var i=0;i<xml.childNodes.length;i++){var n=xml.childNodes.item(i);var p;if(n.nodeType==4){}else{if(n.nodeType==3){}else{if(n.nodeType==1){p=n.nodeName.replace(prefix,"").toLowerCase();XMLToJSON(n,json,p)}}}}}return json};var isValidShape=function(s){var shapes=["circle","sphere","box","rect","rectangle","rect2","rect3","roundrect","brace","square","triangle","triangle2","equilateral","equilateral2","star","diamond","rhombus","pentagon","hexagon","octagon"];shapes=shapes.concat(["oval","oval2","oval3","ovald","arc","arc2","arc3","arch","path","polygon","roundpolygon","spline","hull","violin","confidence","bezier","ellipse","ellipse2","ellipse2","plus","minus"]);shapes=shapes.concat(["pie","pie0","pie1","pie2","pie3","pie4","pie5","pie6","pie7","pie8","pie9","pacman","pacman2","mdavid","image"]);shapes=shapes.concat(["pch0","pch1","pch2","pch3","pch4","pch5","pch6","pch7","pch8","pch9","pch10","pch11","pch12","pch13","pch14","pch15","pch16","pch17","pch18","pch19","pch20","pch21","pch22","pch23","pch24","pch25"]);for(var i=0;i<shapes.length;i++){if(shapes[i]==s){return true}}return false};var hexToRgb=function(h){var hexToR=function(){return parseInt(h.substring(0,2),16)};var hexToG=function(){return parseInt(h.substring(2,4),16)};var hexToB=function(){return parseInt(h.substring(4,6),16)};h=h.charAt(0)=="#"?h.substring(1,7):h;return"rgb("+hexToR()+","+hexToG()+","+hexToB()+")"};var validateColor=function(c){c=c.toString();c=c.replace(/\s/g,"");var rgb=(/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/).exec(c);var rgba=(/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),([0-9\.]+)\)/).exec(c);var hex=(/^#?([0-9abcdef]{6})/i).exec(c);var hex2=(/^([0-9abcdef]{6})/i).exec(c);if(CanvasXpress.colorNames.hasOwnProperty(c)){c=hexToRgb(CanvasXpress.colorNames[c])}else{if(rgb!=null){c=rgb[0]}else{if(rgba!=null){c=rgba[0]}else{if(hex!=null){c=hexToRgb(hex[0])}else{if(hex2!=null){c=hexToRgb("#"+hex2[0])}else{c=false}}}}}return c};if(pw.tagName.toLowerCase()=="pathway"){var ob=XMLToJSON(pw,false,false,true);title=ob.name;subtitle=ob.organism;for(var i=0;i<pw.childNodes.length;i++){var el=pw.childNodes[i];if(el.nodeName){var nn=el.nodeName.toLowerCase();switch(nn){case"comment":break;case"graphics":break;case"state":var ob=XMLToJSON(el);ob.nodeName=nn;state[ob.graphid]=ob;break;case"datanode":case"label":case"shape":var ob=XMLToJSON(el);ob.nodeName=nn;if(ob.database&&ob.id){ob.database+=" : "+ob.id}if(ob.graphid){ob.id=ob.graphid}if(ob.zorder){if(nn=="label"){ob.zorder=parseInt(ob.zorder)+100}}if(ob.centerx){ob.x=Math.round(ob.centerx*10)/10;delete (ob.centerx)}if(ob.centery){ob.y=Math.round(ob.centery*10)/10;delete (ob.centery)}if(ob.width){ob.width=parseInt(ob.width)}if(ob.height){ob.height=parseInt(ob.height)}if(ob.rotation){ob.rotate=(parseFloat(ob.rotation)*180/Math.PI)}if(ob.textlabel){ob.label=ob.textlabel}if(ob.fontsize){ob.labelSize=parseInt(ob.fontsize)}if(ob.fontweight){ob.labelStyle=ob.fontweight.toLowerCase()}if(ob.fontstyle){if(ob.fontweight){ob.labelStyle=ob.fontweight.toLowerCase()+" "+ob.fontstyle.toLowerCase()}else{ob.labelStyle=ob.fontstyle.toLowerCase()}}ob.labelColor=ob.textcolor?validateColor(ob.textcolor):ob.color?validateColor(ob.color):"rgb(0,0,0)";if(ob.align){if(ob.align=="Left"){ob.labelPosition="left"}else{if(ob.align=="Right"){ob.labelPosition="right"}}}if(ob.valign){if(ob.valign=="Bottom"){ob.labelPosition="bottom"}else{if(ob.valign=="Top"){ob.labelPosition="top"}}}if(ob.shapetype){if(ob.shapetype=="RoundedRectangle"){ob.shapetype=ob.value&&ob.value=="Double"?"roundrectd":"roundrect"}if(ob.shapetype=="Arc"){ob.shapetype="arc3"}if(ob.shapetype=="Mitochondria"){ob.shapetype="image";ob.imagePath="https://www.canvasxpress.org/assets/images/mit.png"}if(ob.shape=="oval"&&ob.value&&ob.value=="Double"){ob.shapetype="ovald"}if(ob.shapetype=="None"){ob.shapetype="rectangle"}if(isValidShape(ob.shapetype.toLowerCase())){ob.shape=ob.shapetype.toLowerCase()}else{wrn+=ob.id+" has an unkown shape: "+ob.shapetype+"\n";ob.shape=ob.shapetype}}if(!ob.shape){ob.shape="rectangle"}if(ob.color){ob.outlinecolor=validateColor(ob.color)}if(ob.fillcolor){ob.color=validateColor(ob.fillcolor)}else{ob.color=nn=="datanode"?"rgb(255,255,255)":"rgba(0,0,0,0)"}if(ob.shapetype||nn=="datanode"){ob.outline=ob.outlinecolor||"rgb(0,0,0)"}else{ob.outline=ob.outlinecolor||"rgba(0,0,0,0)"}if(nn=="label"){if(!ob.label||ob.label==""){ob.hideLabel=true;ob.hideTooltip=htt;ob.eventless=true}ob.color=ob.fillcolor&&ob.color!="rgb(255,255,255)"?ob.color:"rgba(0,0,0,0)";ob.outline=ob.shapetype?"rgb(0,0,0)":"rgba(0,0,0,0)"}else{if(nn=="shape"&&(!ob.label||ob.label=="")){ob.hideLabel=true;ob.hideTooltip=htt;ob.outline=ob.outlinecolor?ob.outlinecolor:ob.shapetype?"rgb(0,0,0)":"rgba(0,0,0,0)"}}if(ob.groupref){if(!groupRef.hasOwnProperty(ob.groupref)){groupRef[ob.groupref]=[]}groupRef[ob.groupref].push([ob.id,ob.x,ob.y,ob.width,ob.height]);ob.parentNode=ob.groupref}order[ob.id]=cntp++;nodes[ob.id]=ob;sord.push(ob.id);break;case"graphicalline":case"interaction":var ob=XMLToJSON(el);ob.nodeName=nn;if(ob.anchor){for(var j=0;j<ob.anchor.length;j++){anchors[ob.anchor[j].graphid]=true}delete (ob.anchor)}var n1=ob.point.length-1;if(ob.point[0].graphref&&ob.point[n1].graphref){ob.id1=ob.point[0].graphref;ob.id2=ob.point[n1].graphref}if(ob.color){ob.color=validateColor(ob.color)}var type="solid";if(ob.linestyle&&ob.linestyle=="Broken"){type="dashed"}if(ob.connectortype&&ob.connectortype=="Curved"){type+="Bezier"}ob.type=type;if(ob.point[0].arrowhead){if(arrowTypes[ob.point[0].arrowhead]){ob.startArrow=arrowTypes[ob.point[0].arrowhead]}}if(ob.point[n1].arrowhead){if(arrowTypes[ob.point[n1].arrowhead]){ob.endArrow=arrowTypes[ob.point[n1].arrowhead]}}if(ob.linethickness){ob.width=parseInt(ob.linethickness*10)/10;delete (ob.linethickness)}if(ob.point[0].relx&&ob.point[0].rely){ob.startX=parseFloat(ob.point[0].relx);ob.startY=parseFloat(ob.point[0].rely)}if(ob.point[n1].relx&&ob.point[n1].rely){ob.endX=parseFloat(ob.point[n1].relx);ob.endY=parseFloat(ob.point[n1].rely)}delete (ob.id);edges.push(ob);break;case"group":var ob=XMLToJSON(el);ob.nodeName=nn;if(ob.groupref&&ob.groupid){if(!groups.hasOwnProperty(ob.groupref)){groups[ob.groupref]=[]}groups[ob.groupref].push(ob.groupid);groupGref[ob.graphid]=ob.groupref}else{groupId[ob.graphid]=ob.groupid;groupStyl[ob.groupid]=ob.style}break;case"infobox":break;case"legend":break;case"biopax":break}}}}else{alert("Ooops! Not a gpml file!")}for(var s in state){var g=state[s].graphref;if(nodes[g]){var c=getStatePosition(nodes[g],state[s]);var p={id:g,x:c[0],y:c[1],width:state[s].width,height:state[s].height,label:state[s].textlabel==""?" ":state[s].textlabel,labelSize:ob.fontsize?parseInt(ob.fontsize):10,type:"State",color:state[s].textlabel==""||!state[s].fillcolor?"rgb(255,255,255)":validateColor(state[s].fillcolor),outline:"rgb(0,0,0)",shape:"oval",show:true};createNodeFromPoint(p,s)}}for(var g in groupRef){createNodeFromGroup(groupRef[g],g,groupStyl[g])}for(var g in groups){if(groupRef.hasOwnProperty(g)){for(var i=0;i<groups[g].length;i++){var ob=nodes[groups[g][i]];groupRef[g].push([ob.id,ob.x,ob.y,ob.width,ob.height])}createNodeFromGroup(groupRef[g],g,"Group")}}var edgs=[];var fail=[];for(var i=0;i<edges.length;i++){var ob=edges[i];var n1=ob.point.length-1;if(!ob.point[0].graphref&&!ob.point[n1].graphref){ob.exact=true}for(var j=0;j<ob.point.length;j++){var pt=ob.point[j];if(pt.graphref){if(!nodes.hasOwnProperty(pt.graphref)){if(j==0){if(groupId[pt.graphref]){ob.id1=groupId[pt.graphref]}else{createNodeFromPoint(pt,pt.graphref);ob.hideTooltip=htt;ob.exactStart=anchors[pt.graphref]?true:false;ob.id1=pt.graphref}}else{if(j==ob.point.length-1){if(groupId[pt.graphref]){ob.id2=groupId[pt.graphref]}else{createNodeFromPoint(pt,pt.graphref);ob.hideTooltip=htt;ob.exactEnd=anchors[pt.graphref]?true:false;ob.id2=pt.graphref}}}}}else{if(j==0||j==ob.point.length-1){var id=j==0?ob.graphid+".1":ob.graphid+".2";var ni=j==0?ob.point.length-1:0;createNodeFromPoint(pt,id);if(j==0){ob.id1=id;ob.exactStart=true}else{ob.id2=id;ob.exactEnd=true}ob.hideTooltip=htt;if(ob.point[ni].graphref){if(!nodes.hasOwnProperty(ob.point[ni].graphref)&&groupId[ob.point[ni].graphref]){if(j==0){ob.id2=groupId[ob.point[ni].graphref]}else{ob.id1=groupId[ob.point[ni].graphref]}}else{if(j==0){ob.id2=ob.point[ni].graphref}else{ob.id1=ob.point[ni].graphref}}}}}}if(ob.connectortype){if(ob.connectortype=="Elbow"){ob.elbows=getElbowPoints(ob)}else{if(ob.connectortype=="Curved"){ob.elbows=getBezierPoints(ob,nodes[ob.id1],nodes[ob.id2])}else{if(ob.connectortype=="Segmented"){ob.elbows=to2DArray(ob)}}}}if(nodes[ob.id1]&&nodes[ob.id2]){edgs.push(ob)}else{fail.push(ob)}}sord=sord.sort(function(a,b){if(nodes[a].zorder&&nodes[b].zorder){if(parseInt(nodes[a].zorder)-parseInt(nodes[b].zorder)==0){return order[a]-order[b]}else{return parseInt(nodes[a].zorder)-parseInt(nodes[b].zorder)}}else{return order[a]-order[b]}});var nods=[];for(var i=0;i<sord.length;i++){nods.push(nodes[sord[i]])}var res="Number of Nodes: "+nods.length+"\n";res+="Number of Edges: "+edgs.length+"\n";if(fail.length>0){res+="Number of Failed Edges: "+fail.length+"\n";for(var i=0;i<fail.length;i++){res+="\t"+(i+1)+". "+fail[i].graphid+"\n"}}if(wrn!="\nWarnings:\n"){res+=wrn}res=res.replace(/\n/g,"<br>");var data={data:{nodes:nods,edges:edgs},config:{adjustBezier:false,graphType:"Network",calculateLayout:false,showAnimation:false,networkNodesOnTop:true,arrowHeadType:"filledStraight",roundedPolygonRadius:10,disableTooltipCallout:true,showNodeNameThreshold:20000,networkFreeze:false,preScaleNetwork:false,title:title,networkVendor:"Wikipathways"},renderTo:target,events:events,afterRender:[["flashInfoSpan",[100,100,res,5000]],["appendNetworkDataFromURL",[]]]};if(config){for(var p in config){data.config[p]=config[p]}}return data};this.keggToCX=function(xml,target,config,events,callback){var pw=xml.childNodes[2]||xml.childNodes[1];var nodes=[];var edges=[];var title,image,link,width,height;var addAnchors=function(){nodes.push({id:"__zero__",type:"anchor",shape:"circle",color:"rgba(0,0,0,0)",outline:"rgb(0,0,0)",width:1,height:1,x:0,y:0,hideLabel:true},{id:"__max__",type:"anchor",shape:"circle",color:"rgba(0,0,0,0)",outline:"rgb(0,0,0)",width:1,height:1,x:width,y:height,hideLabel:true})};var getAngle=function(x0,y0,x1,y1){var a=(Math.atan2(y1-y0,x1-x0)*180/Math.PI)%360;var min=0;while(a<min){a+=360}while(a>=(min+360)){a-=360}return a};var mean=function(arr){var mean=0;var n=0;for(var i=0;i<arr.length;i++){if(!isNaN(arr[i])){mean+=Number(arr[i]);n++}}if(n>0){mean/=n}return mean};if(pw.tagName.toLowerCase()=="pathway"){var ob=this.Sc(pw,false,false,true);title=ob.title;image=ob.image;link=ob.link;var img=new Image();img.onload=function(){width=this.width;height=this.height;var res="Number of Nodes: "+nodes.length+"\n";res+="Number of Edges: "+edges.length+"\n";addAnchors();var data={data:{nodes:nodes,edges:edges},config:{adjustBezier:false,graphType:"Network",calculateLayout:false,showAnimation:false,networkNodesOnTop:false,networkFreeze:false,showNodeNameThreshold:20000,preScaleNetwork:false,title:title,backgroundType:"image",backgroundImage:image,networkVendor:"Kegg"},renderTo:target,events:events,afterRender:[["flashInfoSpan",[100,100,res,5000]],["appendNetworkDataFromURL",[]]]};if(config){for(var p in config){data.config[p]=config[p]}}return callback(data)};if((CanvasXpress.system.isR&&!CanvasXpress.system.isInIframe)||!CanvasXpress.system.isR||!CanvasXpress.system.isJupyter){img.crossOrigin="anonymous"}img.src=ob.image;for(var i=0;i<pw.childNodes.length;i++){var el=pw.childNodes[i];if(el.nodeName){var nn=el.nodeName.toLowerCase();switch(nn){case"entry":var ob=this.Sc(el);if(ob.graphics[0].type=="roundrectangle"){ob.graphics[0].type="roundrect";ob.graphics[0].fgcolor="rgba(0,0,0,0)"}if(ob.graphics&&ob.graphics.length==1&&ob.graphics[0].type!="line"){var ext=ob.type=="group"?5:0;var node={id:ob.id,type:ob.type,link:ob.link,name:ob.graphics[0].name,shape:ob.graphics[0].type,color:"rgba(0,0,0,0)",outline:ob.graphics[0].fgcolor||"rgb(0,0,0)",width:parseInt(ob.graphics[0].width)+ext,height:parseInt(ob.graphics[0].height)+ext,x:parseInt(ob.graphics[0].x),y:parseInt(ob.graphics[0].y),hideLabel:true,fixed:true};if(ob.type=="group"){nodes.unshift(node)}else{nodes.push(node)}}else{if(ob.graphics&&ob.graphics.length==1&&ob.graphics[0].type=="line"){var coords=ob.graphics[0].coords.split(",");if(coords.length==4){var x=[];var y=[];var w,h,r;while(coords.length>1){x.push(parseInt(coords.shift()));y.push(parseInt(coords.shift()))}var mx=parseInt(mean(x));var my=parseInt(mean(y));if(x[0]==x[1]){mx+=1;w=2;h=y[1]-y[0];r=0}else{if(y[0]==y[1]){my+=1;w=x[1]-x[0];h=2;r=0}else{h=Math.sqrt(Math.pow(x[1]-x[0],2)+Math.pow(y[1]-0[0],2));w=2;r=getAngle(x[0],y[0],x[1],y[1])}}var node={id:ob.id,type:ob.type,link:ob.link,name:ob.graphics[0].name,shape:"rect",color:"rgba(0,0,0,0)",outline:"rgba(0,0,0,0)",x:mx,y:my,width:w,height:h,rotate:r,hideLabel:true,fixed:true};nodes.push(node)}}}break;case"relation":case"reaction":var ob=this.Sc(el);ob.id1=this.parseJSON(this.G0(ob.entry1));ob.id2=this.parseJSON(this.G0(ob.entry2));delete (ob.entry1);delete (ob.entry2);ob.color="rgba(0,0,0,0)";edges.push(ob);break}}}}else{alert("Ooops! Not a kgml file!")}};this.HTMLTableToCX=function(table,config){var ar=[];for(var i=0;i<table.rows.length;i++){var ln=[];for(var j=0;j<table.rows.item(i).cells.length;j++){ln.push(table.rows.item(i).cells.item(j).innerHTML)}ar.push(ln)}var cx=this.arrayToCX(ar,config);CanvasXpress.transferDatasetAttributes(table,cx.config,true);return cx};this.Hg=function(data){var ar=[];var copy=function(obj){return JSON.parse(JSON.stringify(obj))};if(!data){data=this.data}if(this.yW()&&!data.x){var z=data.z?Object.keys(data.z):[];var cols=copy(data.y.smps).concat(z);var n=data.y.smps.length;for(var i=0;i<data.y.smps.length;i++){for(var j=0;j<data.y.vars.length;j++){if(!ar[j]){ar[j]=[]}if(this.xAxisTime&&this.xAxis.includes(data.y.smps[i])){var d=new Date(data.y.data[j][i]);d=d.setDate(d.getDate()+1);ar[j][i]=this.dateFormat(d,this.timeFormat)}else{if(this.yAxisTime&&this.yAxis.includes(data.y.smps[i])){var d=new Date(data.y.data[j][i]);d=d.setDate(d.getDate()+1);ar[j][i]=this.dateFormat(d,this.timeFormat)}else{ar[j][i]=data.y.data[j][i]}}}}for(var i=0;i<z.length;i++){for(var j=0;j<data.y.vars.length;j++){ar[j][n+i]=data.z[z[i]][j]}}for(var i=0;i<data.y.vars.length;i++){ar[i].unshift(data.y.vars[i])}cols.unshift("");ar.unshift(cols)}else{if(this.PG()||(this.yW()&&data.x)){var x=data.x?Object.keys(data.x):[];var cols=copy(data.y.vars).concat(x);var n=data.y.vars.length;for(var i=0;i<data.y.vars.length;i++){for(var j=0;j<data.y.smps.length;j++){if(!ar[j]){ar[j]=[]}ar[j][i]=data.y.data[i][j]}}for(var i=0;i<x.length;i++){for(var j=0;j<data.y.smps.length;j++){ar[j][n+i]=data.x[x[i]][j]}}for(var i=0;i<data.y.smps.length;i++){ar[i].unshift(data.y.smps[i])}cols.unshift("");ar.unshift(cols)}else{return false}}return ar};this.JZ=function(){var o=[];if(this.graphType.match(/Scatter|Circular/)){for(var i=0;i<this.data.y.smps.length;i++){o.push({name:this.data.y.smps[i],type:"numeric",min:this.meta.data.y.range[this.data.y.smps[i]].min,max:this.meta.data.y.range[this.data.y.smps[i]].max,levels:[]})}if(this.data.z){for(var i in this.data.z){var type=this.meta.data.z[i].type=="Numeric"?"numeric":"categorical";o.push({name:i,type:type,min:type=="numeric"?this.meta.data.z[i].rmin:undefined,max:type=="numeric"?this.meta.data.z[i].rmax:undefined,levels:type=="categorical"?this.meta.data.z[i].levels:[]})}}}else{if(this.PG()){for(var i=0;i<this.data.y.vars.length;i++){o.push({name:this.data.y.vars[i],type:"numeric",min:this.meta.data.y.range[this.data.y.vars[i]].min,max:this.meta.data.y.range[this.data.y.vars[i]].max,levels:[]})}if(this.data.x){for(var i in this.data.x){var type=this.meta.data.x[i].type=="Numeric"?"numeric":"categorical";o.push({name:i,type:this.meta.data.x[i].type=="Numeric"?"numeric":"categorical",min:this.meta.data.x[i].type=="Numeric"?this.meta.data.x[i].rmin:undefined,max:this.meta.data.x[i].type=="Numeric"?this.meta.data.x[i].rmax:undefined,levels:type=="categorical"?this.meta.data.x[i].levels:[]})}}}}return o};this.DL=function(){var copy=function(obj){return JSON.parse(JSON.stringify(obj))};if(this.graphType.match(/Scatter|Circular/)){var z=this.data.z?Object.keys(this.data.z):[];if(this.data.y.smps){return copy(this.data.y.smps).concat(z)}else{return z}}else{if(this.PG()){var x=this.data.x?Object.keys(this.data.x):[];if(this.data.y.vars){return copy(this.data.y.vars).concat(x)}else{return x}}}};this.Lr=function(){var copy=function(obj){return JSON.parse(JSON.stringify(obj))};var z=this.data.z?Object.keys(this.data.z):[];if(this.data.y.smps){z=copy(this.data.y.smps).concat(z)}var x=this.data.x?Object.keys(this.data.x):[];if(this.data.y.vars){x=copy(this.data.y.vars).concat(x)}if(this.graphType.match(/Scatter|Circular/)){return{header:z,rows:x,type:"longAndSkinny"}}else{if(this.PG()){return{header:x,rows:z,type:"wideAndShort"}}else{return{header:[],rows:[],type:"unknown"}}}};this.fc=function(prompt){prompt=prompt.toLowerCase();if(prompt.match(/(density|distribution|hexplot|histogram|kaplan\s*meier|qq|quantile|ridge\s*line|scatter|spaghetti|stream\*graph|time\s*series|volcano)/i)){return"longAndSkinny"}else{if(prompt.match(/(alluvial|area|bar|boxplot|bullet|cleveland|dot|dumb\s*bell|gantt|heatmap|line|lollipop|map|meter|parallel|pareto|pie|sankey|stacked|violin|waterfall|wordcloud)/i)){return"wideAndShort"}else{return"unknown"}}};this.UY=function(prompt){var dimnames=this.Lr();var guessRequestedGraphType=this.fc(prompt);var hd=[];var rs=[];var hl=dimnames.header.length>50?50:dimnames.header.length;var rl=dimnames.rows.length>50?50:dimnames.rows.length;for(var i=0;i<hl;i++){if(prompt.match(new RegExp("\\b"+dimnames.header[i]+"\\b"))){hd.push(dimnames.header[i])}}for(var i=0;i<rl;i++){if(prompt.match(new RegExp("\\b"+dimnames.rows[i]+"\\b"))){rs.push(dimnames.rows[i])}}if(hd.length>rs.length){if(dimnames.type!=guessRequestedGraphType&&dimnames.type!="unknown"){this.rq(false,true)}return hl>50?dimnames.header.slice(0,50):dimnames.header}else{if(dimnames.type=="wideAndShort"&&guessRequestedGraphType=="longAndSkinny"){this.rq(false,true)}return rl>50?dimnames.rows.slice(0,50):dimnames.rows}};this.GE=function(){var copy=function(obj){return JSON.parse(JSON.stringify(obj))};if(this.graphType.match(/Scatter|Circular/)){var x=this.data.x?Object.keys(this.data.x):[];if(this.data.y.vars){return[copy(this.data.y.vars).concat(x)]}else{return[x]}}else{if(this.PG()){var z=this.data.z?Object.keys(this.data.z):[];if(this.data.y.smps){return[copy(this.data.y.smps).concat(z)]}else{return[z]}}}};this.xk=function(dat){var ab=ArrayBuffer,u8=Uint8Array,u16=Uint16Array,i16=Int16Array,u32=Uint32Array,i32=Int32Array;var slc=function(v,s,e){if(u8.prototype.slice){return u8.prototype.slice.call(v,s,e)}if(s==null||s<0){s=0}if(e==null||e>v.length){e=v.length}var n=new u8(e-s);n.set(v.subarray(s,e));return n};var fill=function(v,n,s,e){if(u8.prototype.fill){return u8.prototype.fill.call(v,n,s,e)}if(s==null||s<0){s=0}if(e==null||e>v.length){e=v.length}while(s<e){v[s]=n;++s}return v};var cpw=function(v,t,s,e){if(u8.prototype.copyWithin){return u8.prototype.copyWithin.call(v,t,s,e)}if(s==null||s<0){s=0}if(e==null||e>v.length){e=v.length}while(s<e){v[t++]=v[s++]}};var ec=["invalid zstd data","window size too large (>2046MB)","invalid block type","FSE accuracy too high","match distance too far back","unexpected EOF"];var err=function(ind,msg,nt){var e=new Error(msg||ec[ind]);e.code=ind;if(Error.captureStackTrace){Error.captureStackTrace(e,err)}if(!nt){throw e}return e};var rb=function(d,b,n){var i=0,o=0;while(i<n){o|=d[b++]<<(i<<3);++i}return o};var b4=function(d,b){return(d[b]|(d[b+1]<<8)|(d[b+2]<<16)|(d[b+3]<<24))>>>0};var rzfh=function(dat,w){var n3=dat[0]|(dat[1]<<8)|(dat[2]<<16);if(n3==3126568&&dat[3]==253){var flg=dat[4];var ss=(flg>>5)&1,cc=(flg>>2)&1,df=flg&3,fcf=flg>>6;if(flg&8){err(0)}var bt=6-ss;var db=df==3?4:df;var di=rb(dat,bt,db);bt+=db;var fsb=fcf?(1<<fcf):ss;var fss=rb(dat,bt,fsb)+((fcf==1)&&256);var ws=fss;if(!ss){var wb=1<<(10+(dat[5]>>3));ws=wb+(wb>>3)*(dat[5]&7)}if(ws>2145386496){err(1)}var buf=new u8((w==1?(fss||ws):w?0:ws)+12);buf[0]=1,buf[4]=4,buf[8]=8;return{b:bt+fsb,y:0,l:0,d:di,w:(w&&w!=1)?w:buf.subarray(12),e:ws,o:new i32(buf.buffer,0,3),u:fss,c:cc,m:Math.min(131072,ws)}}else{if(((n3>>4)|(dat[3]<<20))==25481893){return b4(dat,4)+8}}err(0)};var msb=function(val){var bits=0;while((1<<bits)<=val){++bits}return bits-1};var rfse=function(dat,bt,mal){var tpos=(bt<<3)+4;var al=(dat[bt]&15)+5;if(al>mal){err(3)}var sz=1<<al;var probs=sz,sym=-1,re=-1,i=-1,ht=sz;var buf=new ab(512+(sz<<2));var freq=new i16(buf,0,256);var dstate=new u16(buf,0,256);var nstate=new u16(buf,512,sz);var bb1=512+(sz<<1);var syms=new u8(buf,bb1,sz);var nbits=new u8(buf,bb1+sz);while(sym<255&&probs>0){var bits=msb(probs+1);var cbt=tpos>>3;var msk=(1<<(bits+1))-1;var val=((dat[cbt]|(dat[cbt+1]<<8)|(dat[cbt+2]<<16))>>(tpos&7))&msk;var msk1fb=(1<<bits)-1;var msv=msk-probs-1;var sval=val&msk1fb;if(sval<msv){tpos+=bits,val=sval}else{tpos+=bits+1;if(val>msk1fb){val-=msv}}freq[++sym]=--val;if(val==-1){probs+=val;syms[--ht]=sym}else{probs-=val}if(!val){do{var rbt=tpos>>3;re=((dat[rbt]|(dat[rbt+1]<<8))>>(tpos&7))&3;tpos+=2;sym+=re}while(re==3)}}if(sym>255||probs){err(0)}var sympos=0;var sstep=(sz>>1)+(sz>>3)+3;var smask=sz-1;for(var s=0;s<=sym;++s){var sf=freq[s];if(sf<1){dstate[s]=-sf;continue}for(i=0;i<sf;++i){syms[sympos]=s;do{sympos=(sympos+sstep)&smask}while(sympos>=ht)}}if(sympos){err(0)}for(i=0;i<sz;++i){var ns=dstate[syms[i]]++;var nb=nbits[i]=al-msb(ns);nstate[i]=(ns<<nb)-sz}return[(tpos+7)>>3,{b:al,s:syms,n:nbits,t:nstate}]};var rhu=function(dat,bt){var i=0,wc=-1;var buf=new u8(292),hb=dat[bt];var hw=buf.subarray(0,256);var rc=buf.subarray(256,268);var ri=new u16(buf.buffer,268);if(hb<128){var _a=rfse(dat,bt+1,6),ebt=_a[0],fdt=_a[1];bt+=hb;var epos=ebt<<3;var lb=dat[bt];if(!lb){err(0)}var st1=0,st2=0,btr1=fdt.b,btr2=btr1;var fpos=(++bt<<3)-8+msb(lb);for(;;){fpos-=btr1;if(fpos<epos){break}var cbt=fpos>>3;st1+=((dat[cbt]|(dat[cbt+1]<<8))>>(fpos&7))&((1<<btr1)-1);hw[++wc]=fdt.s[st1];fpos-=btr2;if(fpos<epos){break}cbt=fpos>>3;st2+=((dat[cbt]|(dat[cbt+1]<<8))>>(fpos&7))&((1<<btr2)-1);hw[++wc]=fdt.s[st2];btr1=fdt.n[st1];st1=fdt.t[st1];btr2=fdt.n[st2];st2=fdt.t[st2]}if(++wc>255){err(0)}}else{wc=hb-127;while(i<wc){var b=dat[++bt];hw[i]=b>>4;hw[i+1]=b&15;i+=2}++bt}var wes=0;for(i=0;i<wc;++i){var wt=hw[i];if(wt>11){err(0)}wes+=wt&&(1<<(wt-1))}var mb=msb(wes)+1;var ts=1<<mb;var rem=ts-wes;if(rem&(rem-1)){err(0)}hw[wc++]=msb(rem)+1;for(i=0;i<wc;++i){var wt=hw[i];++rc[hw[i]=wt&&(mb+1-wt)]}var hbuf=new u8(ts<<1);var syms=hbuf.subarray(0,ts),nb=hbuf.subarray(ts);ri[mb]=0;for(i=mb;i>0;--i){var pv=ri[i];fill(nb,i,pv,ri[i-1]=pv+rc[i]*(1<<(mb-i)))}if(ri[0]!=ts){err(0)}for(i=0;i<wc;++i){var bits=hw[i];if(bits){var code=ri[bits];fill(syms,i,code,ri[bits]=code+(1<<(mb-bits)))}}return[bt,{n:nb,b:mb,s:syms}]};var dllt=rfse(new u8([81,16,99,140,49,198,24,99,12,33,196,24,99,102,102,134,70,146,4]),0,6)[1];var dmlt=rfse(new u8([33,20,196,24,99,140,33,132,16,66,8,33,132,16,66,8,33,68,68,68,68,68,68,68,68,36,9]),0,6)[1];var doct=rfse(new u8([32,132,16,66,102,70,68,68,68,68,36,73,2]),0,5)[1];var b2bl=function(b,s){var len=b.length,bl=new i32(len);for(var i=0;i<len;++i){bl[i]=s;s+=1<<b[i]}return bl};var llb=new u8((new i32([0,0,0,0,16843009,50528770,134678020,202050057,269422093])).buffer,0,36);var llbl=b2bl(llb,0);var mlb=new u8((new i32([0,0,0,0,0,0,0,0,16843009,50528770,117769220,185207048,252579084,16])).buffer,0,53);var mlbl=b2bl(mlb,3);var dhu=function(dat,out,hu){var len=dat.length,ss=out.length,lb=dat[len-1],msk=(1<<hu.b)-1,eb=-hu.b;if(!lb){err(0)}var st=0,btr=hu.b,pos=(len<<3)-8+msb(lb)-btr,i=-1;while(pos>eb&&i<ss){var cbt=pos>>3;var val=(dat[cbt]|(dat[cbt+1]<<8)|(dat[cbt+2]<<16))>>(pos&7);st=((st<<btr)|val)&msk;out[++i]=hu.s[st];pos-=(btr=hu.n[st])}if(pos!=eb||i+1!=ss){err(0)}};var dhu4=function(dat,out,hu){var bt=6;var ss=out.length,sz1=(ss+3)>>2,sz2=sz1<<1,sz3=sz1+sz2;dhu(dat.subarray(bt,bt+=dat[0]|(dat[1]<<8)),out.subarray(0,sz1),hu);dhu(dat.subarray(bt,bt+=dat[2]|(dat[3]<<8)),out.subarray(sz1,sz2),hu);dhu(dat.subarray(bt,bt+=dat[4]|(dat[5]<<8)),out.subarray(sz2,sz3),hu);dhu(dat.subarray(bt),out.subarray(sz3),hu)};var rzb=function(dat,st,out){var _a;var bt=st.b;var b0=dat[bt],btype=(b0>>1)&3;st.l=b0&1;var sz=(b0>>3)|(dat[bt+1]<<5)|(dat[bt+2]<<13);var ebt=(bt+=3)+sz;if(btype==1){if(bt>=dat.length){return}st.b=bt+1;if(out){fill(out,dat[bt],st.y,st.y+=sz);return out}return fill(new u8(sz),dat[bt])}if(ebt>dat.length){return}if(btype==0){st.b=ebt;if(out){out.set(dat.subarray(bt,ebt),st.y);st.y+=sz;return out}return slc(dat,bt,ebt)}if(btype==2){var b3=dat[bt],lbt=b3&3,sf=(b3>>2)&3;var lss=b3>>4,lcs=0,s4=0;if(lbt<2){if(sf&1){lss|=(dat[++bt]<<4)|((sf&2)&&(dat[++bt]<<12))}else{lss=b3>>3}}else{s4=sf;if(sf<2){lss|=((dat[++bt]&63)<<4),lcs=(dat[bt]>>6)|(dat[++bt]<<2)}else{if(sf==2){lss|=(dat[++bt]<<4)|((dat[++bt]&3)<<12),lcs=(dat[bt]>>2)|(dat[++bt]<<6)}else{lss|=(dat[++bt]<<4)|((dat[++bt]&63)<<12),lcs=(dat[bt]>>6)|(dat[++bt]<<2)|(dat[++bt]<<10)}}}++bt;var buf=out?out.subarray(st.y,st.y+st.m):new u8(st.m);var spl=buf.length-lss;if(lbt==0){buf.set(dat.subarray(bt,bt+=lss),spl)}else{if(lbt==1){fill(buf,dat[bt++],spl)}else{var hu=st.h;if(lbt==2){var hud=rhu(dat,bt);lcs+=bt-(bt=hud[0]);st.h=hu=hud[1]}else{if(!hu){err(0)}}(s4?dhu4:dhu)(dat.subarray(bt,bt+=lcs),buf.subarray(spl),hu)}}var ns=dat[bt++];if(ns){if(ns==255){ns=(dat[bt++]|(dat[bt++]<<8))+32512}else{if(ns>127){ns=((ns-128)<<8)|dat[bt++]}}var scm=dat[bt++];if(scm&3){err(0)}var dts=[dmlt,doct,dllt];for(var i=2;i>-1;--i){var md=(scm>>((i<<1)+2))&3;if(md==1){var rbuf=new u8([0,0,dat[bt++]]);dts[i]={s:rbuf.subarray(2,3),n:rbuf.subarray(0,1),t:new u16(rbuf.buffer,0,1),b:0}}else{if(md==2){_a=rfse(dat,bt,9-(i&1)),bt=_a[0],dts[i]=_a[1]}else{if(md==3){if(!st.t){err(0)}dts[i]=st.t[i]}}}}var _b=st.t=dts,mlt=_b[0],oct=_b[1],llt=_b[2];var lb=dat[ebt-1];if(!lb){err(0)}var spos=(ebt<<3)-8+msb(lb)-llt.b,cbt=spos>>3,oubt=0;var lst=((dat[cbt]|(dat[cbt+1]<<8))>>(spos&7))&((1<<llt.b)-1);cbt=(spos-=oct.b)>>3;var ost=((dat[cbt]|(dat[cbt+1]<<8))>>(spos&7))&((1<<oct.b)-1);cbt=(spos-=mlt.b)>>3;var mst=((dat[cbt]|(dat[cbt+1]<<8))>>(spos&7))&((1<<mlt.b)-1);for(++ns;--ns;){var llc=llt.s[lst];var lbtr=llt.n[lst];var mlc=mlt.s[mst];var mbtr=mlt.n[mst];var ofc=oct.s[ost];var obtr=oct.n[ost];cbt=(spos-=ofc)>>3;var ofp=1<<ofc;var off=ofp+(((dat[cbt]|(dat[cbt+1]<<8)|(dat[cbt+2]<<16)|(dat[cbt+3]<<24))>>>(spos&7))&(ofp-1));cbt=(spos-=mlb[mlc])>>3;var ml=mlbl[mlc]+(((dat[cbt]|(dat[cbt+1]<<8)|(dat[cbt+2]<<16))>>(spos&7))&((1<<mlb[mlc])-1));cbt=(spos-=llb[llc])>>3;var ll=llbl[llc]+(((dat[cbt]|(dat[cbt+1]<<8)|(dat[cbt+2]<<16))>>(spos&7))&((1<<llb[llc])-1));cbt=(spos-=lbtr)>>3;lst=llt.t[lst]+(((dat[cbt]|(dat[cbt+1]<<8))>>(spos&7))&((1<<lbtr)-1));cbt=(spos-=mbtr)>>3;mst=mlt.t[mst]+(((dat[cbt]|(dat[cbt+1]<<8))>>(spos&7))&((1<<mbtr)-1));cbt=(spos-=obtr)>>3;ost=oct.t[ost]+(((dat[cbt]|(dat[cbt+1]<<8))>>(spos&7))&((1<<obtr)-1));if(off>3){st.o[2]=st.o[1];st.o[1]=st.o[0];st.o[0]=off-=3}else{var idx=off-(ll!=0);if(idx){off=idx==3?st.o[0]-1:st.o[idx];if(idx>1){st.o[2]=st.o[1]}st.o[1]=st.o[0];st.o[0]=off}else{off=st.o[0]}}for(var i=0;i<ll;++i){buf[oubt+i]=buf[spl+i]}oubt+=ll,spl+=ll;var stin=oubt-off;if(stin<0){var len=-stin;var bs=st.e+stin;if(len>ml){len=ml}for(var i=0;i<len;++i){buf[oubt+i]=st.w[bs+i]}oubt+=len,ml-=len,stin=0}for(var i=0;i<ml;++i){buf[oubt+i]=buf[stin+i]}oubt+=ml}if(oubt!=spl){while(spl<buf.length){buf[oubt++]=buf[spl++]}}else{oubt=buf.length}if(out){st.y+=oubt}else{buf=slc(buf,0,oubt)}}else{if(out){st.y+=lss;if(spl){for(var i=0;i<lss;++i){buf[i]=buf[spl+i]}}}else{if(spl){buf=slc(buf,spl)}}}st.b=ebt;return buf}err(2)};var cct=function(bufs,ol){if(bufs.length==1){return bufs[0]}var buf=new u8(ol);for(var i=0,b=0;i<bufs.length;++i){var chk=bufs[i];buf.set(chk,b);b+=chk.length}return buf};var decompress=function(dat,buf){var bufs=[],nb=+!buf;var bt=0,ol=0;while(dat.length){var st=rzfh(dat,nb||buf);if(typeof st=="object"){if(nb){buf=null;if(st.w.length==st.u){bufs.push(buf=st.w);ol+=st.u}}else{bufs.push(buf);st.e=0}while(!st.l){var blk=rzb(dat,st,buf);if(!blk){err(5)}if(buf){st.e=st.y}else{bufs.push(blk);ol+=blk.length;cpw(st.w,0,blk.length);st.w.set(blk,st.w.length-blk.length)}}bt=st.b+(st.c*4)}else{bt=st}dat=dat.subarray(bt)}return cct(bufs,ol)};return decompress(dat)};this.Wd=function(input,length){var fixedLengthExtraBits=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]);var fixedDistanceExtraBits=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]);var codeLengthIndexMap=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);function freb(eb,start){var base=new Uint16Array(31);for(var i=0;i<31;i++){base[i]=start+=1<<eb[i-1]}var rev=new Int32Array(base[30]);for(var i=1;i<30;i++){for(var j=base[i];j<base[i+1];++j){rev[j]=j-base[i]<<5|i}}return[base,rev]}var res=freb(fixedLengthExtraBits,2);var fl=res[0];var revfl=res[1];fl[28]=258;revfl[258]=28;var res1=freb(fixedDistanceExtraBits,0);var fd=res1[0];var rev=new Uint16Array(32768);for(var i=0;i<32768;i++){var x=(i&43690)>>1|(i&21845)<<1;x=(x&52428)>>2|(x&13107)<<2;x=(x&61680)>>4|(x&3855)<<4;rev[i]=((x&65280)>>8|(x&255)<<8)>>1}function huffMap(cd,maxBits,r){var l=new Uint16Array(maxBits);for(var i=0;i<cd.length;i++){if(cd[i]){++l[cd[i]-1]}}var le=new Uint16Array(maxBits);for(var i=1;i<maxBits;i++){le[i]=le[i-1]+l[i-1]<<1}var co;if(r){co=new Uint16Array(1<<maxBits);var rvb=15-maxBits;for(var i=0;i<cd.length;i++){if(cd[i]){var sv=i<<4|cd[i];var freeBits=maxBits-cd[i];var startValue=le[cd[i]-1]++<<freeBits;var endValue=startValue|(1<<freeBits)-1;for(var currentValue=startValue;currentValue<=endValue;currentValue++){co[rev[currentValue]>>rvb]=sv}}}}else{co=new Uint16Array(cd.length);for(var i=0;i<cd.length;i++){if(cd[i]){co[i]=rev[le[cd[i]-1]++]>>15-cd[i]}}}return co}var fixedLengthTree=new Uint8Array(288);for(var i=0;i<144;i++){fixedLengthTree[i]=8}for(var i=144;i<256;i++){fixedLengthTree[i]=9}for(var i=256;i<280;i++){fixedLengthTree[i]=7}for(var i=280;i<288;i++){fixedLengthTree[i]=8}var fixedDistanceTree=new Uint8Array(32);for(var i=0;i<32;i++){fixedDistanceTree[i]=5}var fixedLengthMap=huffMap(fixedLengthTree,9,1);var fixedDistanceMap=huffMap(fixedDistanceTree,5,1);function max(a){var m=a[0];for(var i=1;i<a.length;i++){if(a[i]>m){m=a[i]}}return m}function bits(input,pos,mask){var o=pos/8|0;return(input[o]|input[o+1]<<8)>>(pos&7)&mask}function bits16(d,p){var o=p/8|0;return(d[o]|d[o+1]<<8|d[o+2]<<16)>>(p&7)}function shft(p){return(p+7)/8|0}function gzipStart(input,i){if(input[i++]!==31||input[i++]!==139||input[i++]!==8){throw new Error("invalid gzip data")}var flag=input[i++];i+=6;if(flag&4){i+=(input[i+10]|input[i+11]<<8)+2}for(var zs=(flag>>3&1)+(flag>>4&1);zs>0;zs-=Number(!input[i++])){}return i+(flag&2)}var gunzip=function(input,out,inputIndex,outputIndex){if(!inputIndex){inputIndex=0}if(!outputIndex){outputIndex=0}if(!(input.length-inputIndex)){return}var payloadStart=gzipStart(input,inputIndex);if(payloadStart===input.length-8){return}if(payloadStart>input.length-8){throw new Error("unexpected EOF")}var pos=payloadStart*8;var fnal=0;var lengthBits=0;var distBits=0;var lmap;var dmap;var totalBits=input.length*8;do{if(!lmap){fnal=bits(input,pos,1);var type=bits(input,pos+1,3);pos+=3;if(!type){var s=shft(pos)+4;var l=input[s-4]|input[s-3]<<8;var t=s+l;if(t>input.length){throw new Error("unexpected EOF")}out.set(input.subarray(s,t),outputIndex);outputIndex+=l;pos=t*8;continue}else{if(type===1){lmap=fixedLengthMap;dmap=fixedDistanceMap;lengthBits=9;distBits=5}else{if(type===2){var hLiteral=bits(input,pos,31)+257;var hcLengths=bits(input,pos+10,15)+4;var tl=hLiteral+bits(input,pos+5,31)+1;pos+=14;var lengthDistanceTree=new Uint8Array(tl);var codeLengthTree=new Uint8Array(19);for(var i=0;i<hcLengths;++i){codeLengthTree[codeLengthIndexMap[i]]=bits(input,pos+i*3,7)}pos+=hcLengths*3;var codeLengthBits=max(codeLengthTree);var clbMask=(1<<codeLengthBits)-1;var codeLengthMap=huffMap(codeLengthTree,codeLengthBits,1);for(var i=0;i<tl;){var r=codeLengthMap[bits(input,pos,clbMask)];pos+=r&15;var symbol=r>>4;if(symbol<16){lengthDistanceTree[i++]=symbol}else{var copy=0;var n=0;if(symbol===16){n=3+bits(input,pos,3);pos+=2;copy=lengthDistanceTree[i-1]}else{if(symbol===17){n=3+bits(input,pos,7);pos+=3}else{if(symbol===18){n=11+bits(input,pos,127);pos+=7}}}while(n--){lengthDistanceTree[i++]=copy}}}var lengthTree=lengthDistanceTree.subarray(0,hLiteral);var distanceTree=lengthDistanceTree.subarray(hLiteral);lengthBits=max(lengthTree);distBits=max(distanceTree);lmap=huffMap(lengthTree,lengthBits,1);dmap=huffMap(distanceTree,distBits,1)}else{throw new Error("invalid block type")}}}if(pos>totalBits){throw new Error("unexpected EOF")}}var lms=(1<<lengthBits)-1;var dms=(1<<distBits)-1;var lpos=pos;for(;;lpos=pos){var code=lmap[bits16(input,pos)&lms];var sym=code>>4;pos+=code&15;if(pos>totalBits){throw new Error("unexpected EOF")}if(!code){throw new Error("invalid length/literal")}if(sym<256){out[outputIndex++]=sym}else{if(sym===256){lpos=pos;lmap=undefined;break}else{var add=sym-254;if(sym>264){var index=sym-257;var b=fixedLengthExtraBits[index];add=bits(input,pos,(1<<b)-1)+fl[index];pos+=b}if(!dmap){throw new Error("invalid distance map")}var d=dmap[bits16(input,pos)&dms];var dsym=d>>4;if(!d){throw new Error("invalid distance")}pos+=d&15;var dt=fd[dsym];if(dsym>3){var b=fixedDistanceExtraBits[dsym];dt+=bits16(input,pos)&(1<<b)-1;pos+=b}if(pos>totalBits){throw new Error("unexpected EOF")}var end=outputIndex+add;if(outputIndex<dt){throw new Error("unexpected dictionary case")}for(;outputIndex<end;outputIndex++){out[outputIndex]=out[outputIndex-dt]}}}}pos=lpos;if(lmap){fnal=1}}while(!fnal);if(outputIndex<out.length){var nextBlock=Math.ceil(pos/8)+8;gunzip(input,out,nextBlock,outputIndex)}};var out=new Uint8Array(length);gunzip(input,out);return out};this.UA=function(input,output,outputIndex){var len=outputIndex;for(var i=0;i<input.length;){var token=input[i++];var literals=token>>4;if(literals){var _byte=literals+240;while(_byte===255){literals+=_byte=input[i++]}output.set(input.subarray(i,i+literals),len);len+=literals;i+=literals;if(i>=input.length){return len-outputIndex}}var offset=input[i++]|input[i++]<<8;if(!offset||offset>len){throw new Error("lz4 offset out of range: "+offset)}var matchLength=(token&15)+4;var _byte=matchLength+240;while(_byte===255){matchLength+=_byte=input[i++]}var pos=len-offset;var end=len+matchLength;while(len<end){output[len++]=output[pos++]}}return len-outputIndex};this.Tq=function(input,length){var lz4basic=function(input,output,outputIndex){var len=outputIndex;for(var i=0;i<input.length;){var token=input[i++];var literals=token>>4;if(literals){var _byte=literals+240;while(_byte===255){literals+=_byte=input[i++]}output.set(input.subarray(i,i+literals),len);len+=literals;i+=literals;if(i>=input.length){return len-outputIndex}}var offset=input[i++]|input[i++]<<8;if(!offset||offset>len){throw new Error("lz4 offset out of range: "+offset)}var matchLength=(token&15)+4;var _byte=matchLength+240;while(_byte===255){matchLength+=_byte=input[i++]}var pos=len-offset;var end=len+matchLength;while(len<end){output[len++]=output[pos++]}}return len-outputIndex};var output=new Uint8Array(length);try{var i=0;var o=0;while(i<input.length-8){var expectedOutputLength=input[i++]<<24|input[i++]<<16|input[i++]<<8|input[i++];var expectedInputLength=input[i++]<<24|input[i++]<<16|input[i++]<<8|input[i++];if(input.length-i<expectedInputLength){throw new Error("lz4 not hadoop")}if(output.length<expectedOutputLength){throw new Error("lz4 not hadoop")}var chunk=lz4basic(input.subarray(i,i+expectedInputLength),output,o);if(chunk!==expectedOutputLength){throw new Error("lz4 not hadoop")}i+=expectedInputLength;o+=expectedOutputLength;if(i===input.length){return output}}if(i<input.length){throw new Error("lz4 not hadoop")}}catch(error){if(error instanceof Error&&error.message!=="lz4 not hadoop"){throw error}lz4basic(input,output,0)}return output};this.Ym=function(input,length){var lz4basic=function(input,output,outputIndex){var len=outputIndex;for(var i=0;i<input.length;){var token=input[i++];var literals=token>>4;if(literals){var _byte=literals+240;while(_byte===255){literals+=_byte=input[i++]}output.set(input.subarray(i,i+literals),len);len+=literals;i+=literals;if(i>=input.length){return len-outputIndex}}var offset=input[i++]|input[i++]<<8;if(!offset||offset>len){throw new Error("lz4 offset out of range: "+offset)}var matchLength=(token&15)+4;var _byte=matchLength+240;while(_byte===255){matchLength+=_byte=input[i++]}var pos=len-offset;var end=len+matchLength;while(len<end){output[len++]=output[pos++]}}return len-outputIndex};var output=new Uint8Array(length);lz4basic(input,output,0);return output};this.jA=function(input,length){alert("Brotli decompression is not supported in this version of CanvasXpress")};this.kf=function(e,r){var t,n=["BOOLEAN","INT32","INT64","INT96","FLOAT","DOUBLE","BYTE_ARRAY","FIXED_LEN_BYTE_ARRAY"],i=["PLAIN",undefined,"PLAIN_DICTIONARY","RLE","BIT_PACKED","DELTA_BINARY_PACKED","DELTA_LENGTH_BYTE_ARRAY","DELTA_BYTE_ARRAY","RLE_DICTIONARY","BYTE_STREAM_SPLIT"],a=["REQUIRED","OPTIONAL","REPEATED"],f=["UTF8","MAP","MAP_KEY_VALUE","LIST","ENUM","DECIMAL","DATE","TIME_MILLIS","TIME_MICROS","TIMESTAMP_MILLIS","TIMESTAMP_MICROS","UINT_8","UINT_16","UINT_32","UINT_64","INT_8","INT_16","INT_32","INT_64","JSON","BSON","INTERVAL"],o=["UNCOMPRESSED","SNAPPY","GZIP","LZO","BROTLI","LZ4","ZSTD","LZ4_RAW"],l=0,u=2,_=3,d=0,s=1,c=2,h=3,v=4,p=5,g=6,m=7,y=8,w=9,E=12,L=13,b={ZSTD:this.decompressorZstd,GZIP:this.decompressorGzip,LZ4:this.decompressorLz4,LZ4_RAW:this.decompressorLz4Raw,BROTLI:this.decompressorBrotli},I=[0,255,65535,16777215,4294967295],A=function(e,r){for(var t=0,n=0;;){var i=e.getUint8(r++);if(t|=(127&i)<<n,0==(128&i)){return[t,r]}n+=7}},T=function(e,r){var t,n=A(e,r);return[(t=n[0])>>>1^-(1&t),n[1]]},N=function(e,r){var t,n,i=function(e,r){for(var t=BigInt(0),n=BigInt(0);;){var i=BigInt(e.getUint8(r++));if(t|=(i&BigInt(127))<<n,(i&BigInt(128))===BigInt(0)){return[t,r]}n+=BigInt(7)}}(e,r);return t=i[0],n=i[1],[t>>BigInt(1)^-(t&BigInt(1)),n]},R=function(e){return 15&e},D=function(e,r,t){var n=e.getUint8(r++);if((15&n)===d){return[0,0,r,t]}var i,a=n>>4;if(0===a){var f=T(e,r);i=f[0],r=f[1]}else{i=t+a}return[R(n),i,r,i]},O=function e(r,t,n){switch(t){case s:return[!0,n];case c:return[!1,n];case h:return[r.getInt8(n),n+1];case v:case p:return T(r,n);case g:return N(r,n);case m:return[r.getFloat64(n,!0),n+8];case y:var i,a,f=A(r,n);i=f[0],a=f[1];var o=new Uint8Array(r.buffer,r.byteOffset+a,i);return[(new TextDecoder).decode(o),a+i];case w:var l,u,_=function(e,r){var t=e.getUint8(r++),n=t>>4,i=R(t);if(15===n){var a=A(e,r);return[i,a[0],a[1]]}return[i,n,r]}(r,n);l=_[0],u=_[1],n=_[2];for(var b=[],I=0;I<u;I++){var O;O=(_=e(r,l,n))[0],n=_[1],b.push(O)}return[b,n];case E:for(var U,q,B,M={},S=0;;){if(U=(_=D(r,n,S))[0],q=_[1],B=_[2],S=_[3],n=B,U===d){break}var P=(_=e(r,U,n))[0];n=_[1],M["field_"+q]=P}return[M,n];case L:for(var C="",Y=0;Y<16;Y++){C+=r.getUint8(n++).toString(16).padStart(2,"0")}return[C,n];default:throw new Error("thrift unhandled type: "+t)}},U=function(e,r){for(var t,n,i=new DataView(e,r),a=0,f=0,o={};a<e.byteLength-r;){var l,u=D(i,a,f);if(t=u[0],n=u[1],a=u[2],f=u[3],t===d){break}var _=O(i,t,a);l=_[0],a=_[1],o["field_"+n]=l}return{value:o,byteLength:a}},q=function(e){return e&&e.field_5?{logicalType:"DECIMAL",scale:e.field_5.field_1,precision:e.field_5.field_2}:e&&e.field_10?{logicalType:"INTEGER",bitWidth:e.field_10.field_1,isSigned:e.field_10.field_2}:e||void 0},B=function(e,r){var t=e[r],n=[],i=1;if(t.num_children){for(;n.length<t.num_children;){var a=B(e,r+i);i+=a.count,n.push(a)}}return{count:i,element:t,children:n}},M=function(e,r){var t=B(e,0);for(var n in r){var i=r[n],a=t.children.find((function(e){return e.element.name===i}));if(!a){throw new Error("parquet schema element not found: "+r)}t=a}return t},S=function(e,r){for(var t=B(e,0),n=0;n<r.length;n++){if(!(t=t.children.find((function(e){return e.element.name===r[n]})))){throw new Error("parquet schema element not found: "+r)}if("REQUIRED"!==t.element.repetition_type){return !1}}return !0},P=function(e){var r=e.dictionary_page_offset,t=e.data_page_offset,n=r;return(void 0===r||t<r)&&(n=t),Number(n)},C=function(e,r){var t=U(e,r),n=t.value;return{byteLength:t.byteLength,value:{type:n.field_1,uncompressed_page_size:n.field_2,compressed_page_size:n.field_3,crc:n.field_4,data_page_header:n.field_5&&{num_values:n.field_5.field_1,encoding:i[n.field_5.field_2],definition_level_encoding:i[n.field_5.field_3],repetition_level_encoding:i[n.field_5.field_4],statistics:n.field_5.field_5&&{max:n.field_5.field_5.field_1,min:n.field_5.field_5.field_2,null_count:n.field_5.field_5.field_3,distinct_count:n.field_5.field_5.field_4,max_value:n.field_5.field_5.field_5,min_value:n.field_5.field_5.field_6}},index_page_header:n.field_6,dictionary_page_header:n.field_7&&{num_values:n.field_7.field_1,encoding:i[n.field_7.field_2],is_sorted:n.field_7.field_3},data_page_header_v2:n.field_8&&{num_values:n.field_8.field_1,num_nulls:n.field_8.field_2,num_rows:n.field_8.field_3,encoding:i[n.field_8.field_4],definition_levels_byte_length:n.field_8.field_5,repetition_levels_byte_length:n.field_8.field_6,is_compressed:void 0===n.field_8.field_7||n.field_8.field_7,statistics:n.field_8.field_8}}}},Y=function(e,r,t,n,i){for(var a=0;a<i;a++){t[n+a]=e[r+a]}},z=function(e,r,t,n){for(var i=0;i<n;i++){e[r+i]=e[r-t+i]}},x=function(e,r,t,n){var i,a=n&&n[t];if("UNCOMPRESSED"===t){i=e}else{if(a){i=a(e,r)}else{if("SNAPPY"!==t){throw new Error("parquet unsupported compression codec: "+t)}!function(e,r){for(var t=e.byteLength,n=r.byteLength,i=0,a=0;i<t;){var f=e[i];if(i+=1,f<128){break}}if(n&&i>=t){throw new Error("invalid snappy length header")}for(;i<t;){f=e[i];var o=0;if((i+=1)>=t){throw new Error("missing eof marker")}if(0==(3&f)){if((o=1+(f>>>2))>60){if(i+3>=t){throw new Error("snappy error literal pos + 3 >= inputLength")}var l=o-60;o=1+((o=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+(e[i+3]<<24))&I[l]),i+=l}if(i+o>t){throw new Error("snappy error literal exceeds input length")}Y(e,i,r,a,o),i+=o,a+=o}else{var u=0;switch(3&f){case 1:o=4+(f>>>2&7),u=e[i]+(f>>>5<<8),i+=1;break;case 2:if(t<=i+1){throw new Error("snappy error end of input")}o=1+(f>>>2),u=e[i]+(e[i+1]<<8),i+=2;break;case 3:if(t<=i+3){throw new Error("snappy error end of input")}o=1+(f>>>2),u=e[i]+(e[i+1]<<8)+(e[i+2]<<16)+(e[i+3]<<24),i+=4}if(0===u||isNaN(u)){throw new Error("invalid offset "+u+" pos "+i+" inputLength "+t)}if(u>a){throw new Error("cannot copy from before start of buffer")}z(r,a,u,o),a+=o}}if(a!==n){throw new Error("premature end of input")}}(e,i=new Uint8Array(r))}}if(i&&i.length!==r){throw new Error("parquet decompressed page length "+(i?i.length:"undefined")+" does not match header "+r)}return i},k=function(e,r,t,n,i){if(i.length){throw new Error("parquet output array is not empty")}for(var a=0,f=new TextDecoder,o=0;o<e.length;o++){if(e[o]===r){if(a>t.length){throw new Error("parquet index "+a+" exceeds data page length "+t.length)}var l=t[a++];if(n&&(l=n[l]) instanceof Uint8Array){try{l=f.decode(l)}catch(e){console.warn("parquet failed to decode byte array as string",e)}}i[o]=l}else{i[o]=void 0}}},V=function(e,r){var t=0;return r.forEach((function(n,i){"REPEATED"===M(e,r.slice(0,i+1)).repetition_type&&(t+=1)})),t},F=function(e,r){var t=0;return r.forEach((function(n,i){"REQUIRED"!==M(e,r.slice(0,i+1)).element.repetition_type&&(t+=1)})),t},Z=function(e,r,t,n,i){if(0===t){return{value:[],byteLength:0}}if("BOOLEAN"===r){return function(e,r,t){for(var n=[],i=0;i<t;i++){var a=r+Math.floor(i/8),f=i%8,o=e.getUint8(a);n.push(0!=(o&1<<f))}return{value:n,byteLength:Math.ceil(t/8)}}(e,n,t)}if("INT32"===r){return function(e,r,t){for(var n=[],i=0;i<t;i++){n.push(Number(e.getInt32(r+4*i,!0)))}return{value:n,byteLength:4*t}}(e,n,t)}if("INT64"===r){return function(e,r,t){for(var n=[],i=0;i<t;i++){n.push(Number(e.getBigInt64(r+8*i,!0)))}return{value:n,byteLength:8*t}}(e,n,t)}if("INT96"===r){return function(e,r,t){for(var n=[],i=0;i<t;i++){var a=e.getBigInt64(r+12*i,!0),f=e.getInt32(r+12*i+8,!0);n.push(Number(BigInt(f)<<BigInt(32)|a))}return{value:n,byteLength:12*t}}(e,n,t)}if("FLOAT"===r){return function(e,r,t){for(var n=[],i=0;i<t;i++){n.push(e.getFloat32(r+4*i,!0))}return{value:n,byteLength:4*t}}(e,n,t)}if("DOUBLE"===r){return function(e,r,t){for(var n=[],i=0;i<t;i++){n.push(e.getFloat64(r+8*i,!0))}return{value:n,byteLength:8*t}}(e,n,t)}if("BYTE_ARRAY"===r){var a=function(e,r,t){for(var n=[],i=0,a=0;a<t;a++){var f=e.getInt32(r+i,!0);i+=4;var o=new Uint8Array(e.buffer,e.byteOffset+r+i,f);n.push(o),i+=f}return{value:n,byteLength:i}}(e,n,t);if(i){var f=new TextDecoder;return{value:a.value.map((function(e){return f.decode(e)})),byteLength:a.byteLength}}return a}if("FIXED_LEN_BYTE_ARRAY"===r){return function(e,r,t){return{value:new Uint8Array(e.buffer,e.byteOffset+r,t),byteLength:t}}(e,n,t)}throw new Error("parquet unhandled type: "+r)},G=function(e){return Math.ceil(Math.log2(e+1))},K=function(e,r,t,n){var i,a=t>>>1,f=n+7>>3,o=0;if(1===f){i=e.getUint8(r),o+=1}else{if(2===f){i=e.getUint16(r,!0),o+=2}else{if(4!==f){throw new Error("parquet invalid rle width "+f)}i=e.getUint32(r,!0),o+=4}}for(var l=[],u=0;u<a;u++){l.push(i)}return{value:l,byteLength:o}},X=function(e,r,t,n,i){var a=t>>1<<3,f=(1<<n)-1,o=0;if(r<e.byteLength){o=e.getUint8(r)}else{if(f){throw new Error("parquet bitpack offset "+r+" out of range")}}for(var l=1,u=8,_=0,d=[];a;){_>8?(_-=8,u-=8,o>>=8):u-_<n?(o|=e.getUint8(r+l)<<u,l++,u+=8):(i>0&&(d.push(o>>_&f),i--),a--,_+=n)}return{value:d,byteLength:l}},J=function(e,r,t,n,i){var a=0;if(!n){if((n=e.getInt32(r,!0))<0){throw new Error("parquet invalid rle/bitpack length "+n)}a+=4}for(var f=[],o=a;a-o<n&&f.length<i;){var l=A(e,r+a),u=l[0];if(a=l[1]-r,0==(1&u)){for(var _=K(e,r+a,u,t),d=0;d<_.value.length;d++){f.push(_.value[d])}a+=_.byteLength}else{var s=X(e,r+a,u,t,i-f.length);for(d=0;d<s.value.length;d++){f.push(s.value[d])}a+=s.byteLength}}return{value:f,byteLength:a}},Q=function(e,r,t,n,i){var a=[],f=0;if("RLE"!==r){throw new Error("parquet encoding not supported "+r)}for(var o=0;o<n;){var l=J(e,t+f,i,0,n);if(!l.value.length){break}for(var u=0;u<l.value.length;u++){a.push(l.value[u])}o+=l.value.length,f+=l.byteLength}return{value:a,byteLength:f}},W=function(e,r,t,n){var i=new DataView(e.buffer,e.byteOffset,e.byteLength);return Z(i,n.type,r.num_values,0,!1).value},j=function(e,r,t,n){var i=new DataView(e.buffer,e.byteOffset,e.byteLength),a=0,f=[],o=function(e,r,t,n,i){if(i.path_in_schema.length>1){var a=V(n,i.path_in_schema);if(a){var f=G(a);return Q(e,t.repetition_level_encoding,r,t.num_values,f)}}return{value:[],byteLength:0}}(i,a,r,t,n),l=o.value,u=void 0,_=0,d=function(e,r,t,n,i){if(!S(n,i)){var a=F(n,i),f=G(a);if(f){for(var o=Q(e,t.definition_level_encoding,r,t.num_values,f),l=o.value,u=o.byteLength,_=t.num_values,d=0;d<l.length;d++){l[d]===a&&_--}return 0===_&&(l.length=0),{byteLength:u,definitionLevels:l,numNulls:_}}}return{byteLength:0,definitionLevels:[],numNulls:0}}(i,a+=o.byteLength,r,t,n.path_in_schema);u=d.definitionLevels,_=d.numNulls,a+=d.byteLength;var s=r.num_values-_;if("PLAIN"===r.encoding){var c="UTF8"===M(t,n.path_in_schema).element.converted_type,h=Z(i,n.type,s,a,c);f=Array.isArray(h.value)?h.value:Array.from(h.value),a+=h.byteLength}else{if("PLAIN_DICTIONARY"!==r.encoding&&"RLE_DICTIONARY"!==r.encoding&&"RLE"!==r.encoding){throw new Error("parquet unsupported encoding: "+r.encoding)}var v;if("BOOLEAN"===n.type?v=1:(v=i.getUint8(a),a+=1),v){var p=J(i,a,v,i.byteLength-a,s),g=p.value;a+=p.byteLength,f=Array.isArray(g)?g:Array.from(g)}else{f=new Array(s).fill(0)}}return{definitionLevels:u,repetitionLevels:l,value:f}},H=function(e,r){if(e){for(var t=0;t<r.length;t++){r[t]=e[r[t]]}}},$=function(e,r,t,n,i,a){for(var f=0,o=[],l=o,u=[o],_=0;_<r.length;_++){var d;d=e&&e.length?e[_]:i;var s=r[_];if(s!==a){for(;s<u.length-1;){u.pop()}if(l=u.at(-1),d){for(var c=s;c<a;c++){var h=[];l.push(h),l=h,u.push(h)}}}if(d===i){if(!l){throw new Error("parquet assembleObjects: currentContainer is undefined")}l.push(t[f++])}else{if(n){if(d){for(c=d;c<i-1;c++){u.pop(),l=u.at(-1)}d>1&&l.push(void 0)}else{l.push(void 0)}}}}if(0===o.length){if(t.length>0&&0===a){return[t]}for(_=0;_<i;_++){h=[];l.push(h),l=h}}return o},ee=function(e,r){var t=r.converted_type;if("UTF8"===t){var n=new TextDecoder;return e.map((function(e){return"string"==typeof e?e:n.decode(e)}))}if("DECIMAL"===t){var i=r.scale?Math.pow(10,r.scale):1;return"number"==typeof e[0]?1===i?e:e.map((function(e){return e*i})):"bigint"==typeof e[0]?1===i?e:e.map((function(e){return e*BigInt(i)})):e.map((function(e){return re(e)*i}))}if("DATE"===t){return e.map((function(e){return new Date(86400000000000*e)}))}if("TIME_MILLIS"===t){return e.map((function(e){return new Date(e)}))}if("JSON"===t){return e.map((function(e){return JSON.parse(e)}))}if("BSON"===t){throw new Error("parquet bson not supported")}if("INTERVAL"===t){throw new Error("parquet interval not supported")}return e},re=function(e){for(var r=0,t=0;t<e.length;t++){r=r<<8|e[t]}return r},te=function(e,r,t,n,i){var a=new DataView(e.buffer,e.byteOffset,e.byteLength),f=0,o=[],l=r.data_page_header_v2;if(!l){throw new Error("parquet data page header v2 is undefined")}var u=function(e,r,t,n,i){var a=V(n,i.path_in_schema);if(!a){return[]}var f=G(a);return J(e,r,f,t.repetition_levels_byte_length,t.num_values).value}(a,f,l,t,n),_=function(e,r,t,n){if(n){var i=G(n);return J(e,r,i,t.definition_levels_byte_length,t.num_values).value}}(a,f+=l.repetition_levels_byte_length,l,F(t,n.path_in_schema));f+=l.definition_levels_byte_length;var d=r.uncompressed_page_size-l.definition_levels_byte_length-l.repetition_levels_byte_length,s=l.num_values-l.num_nulls;if("PLAIN"===l.encoding){var c="UTF8"===M(t,n.path_in_schema).element.converted_type,h=e.slice(f);l.is_compressed&&"UNCOMPRESSED"!==n.codec&&(h=x(h,d,n.codec,i));var v=new DataView(h.buffer,h.byteOffset,h.byteLength);o=Z(v,n.type,s,0,c).value}else{if("RLE"===l.encoding){h=x(e,d,n.codec,i),v=new DataView(h.buffer,h.byteOffset,h.byteLength);var p=1;if(l.num_nulls){throw new Error("parquet RLE encoding with nulls not supported")}o=J(v,4,p,d,s).value}else{if("PLAIN_DICTIONARY"===l.encoding||"RLE_DICTIONARY"===l.encoding){e=e.subarray(f);h=x(e,d,n.codec,i),p=(v=new DataView(h.buffer,h.byteOffset,h.byteLength)).getUint8(0);o=J(v,1,p,d,s).value}else{if("DELTA_BINARY_PACKED"!==l.encoding){throw new Error("parquet unsupported encoding: "+l.encoding)}if(l.num_nulls){throw new Error("parquet delta-int not supported")}var g=l.is_compressed?n.codec:"UNCOMPRESSED";h=x(e,d,g,i);ne(h,s,o)}}}return{definitionLevels:_,repetitionLevels:u,value:o}},ne=function(e,r,t){for(var n=new DataView(e.buffer,e.byteOffset,e.byteLength),i=A(n,0),a=i[0],f=i[1],o=A(n,f),l=o[0],u=o[1],_=A(n,u),d=_[0],s=_[1],c=T(n,s),h=c[0],v=c[1],p=a/l,g=0;g<r;){var m=T(n,v),y=m[0];v=m[1];for(var w=new Uint8Array(l),E=0;E<l;E++,v++){w[E]=e[v]}for(E=0;E<l;E++){var L=w[E];if(L){if(d>1){for(var b=0,I=-L,N=(1<<L)-1;d;){I<0?(b=b<<8|n.getUint8(v++),I+=8):t.push(b>>I&N)}}}else{for(var R=0;R<p&&g<r;R++,g++){t[g]=h,h+=y}}}}},ie=function(e,r,t){for(var n=0;n<t.length;n++){e[n]||(e[n]=[]),e[n][r]=t[n]}},ae=function(e,r,t,n,i,a){for(var f=void 0,o=0,d=0,s=[];o<t.num_rows;){var c=C(e,r+d),h=c.value;if(d+=c.byteLength,void 0===h.compressed_page_size){throw new Error("parquet compressed page size is undefined in column "+n.path_in_schema)}var v=new Uint8Array(e).subarray(r+d,r+d+h.compressed_page_size);if(h.type===l){var p=h.data_page_header;if(!p){throw new Error("parquet data page header is undefined")}var g=x(v,Number(h.uncompressed_page_size),n.codec,a),m=j(g,p,i,n),y=m.definitionLevels,w=m.repetitionLevels,E=m.value;o+=p.num_values;var L,b="PLAIN_DICTIONARY"===p.encoding||"RLE_DICTIONARY"===p.encoding;if(w.length){H(f,E);var I=n&&!S(i,[n.path_in_schema[0]]),A=F(i,n.path_in_schema),T=V(i,n.path_in_schema);L=$(y,w,E,I,A,T)}else{if(y&&y.length){A=F(i,n.path_in_schema);k(y,A,E,f,L=[])}else{b&&f?(H(f,E),L=ee(E,M(i,n.path_in_schema).element)):L=Array.isArray(E)?ee(E,M(i,n.path_in_schema).element):E}}for(var N=0;N<L.length;N++){s.push(L[N])}}else{if(h.type===u){var R=h.dictionary_page_header;if(!R){throw new Error("parquet dictionary page header is undefined")}g=x(v,Number(h.uncompressed_page_size),n.codec,a);f=W(g,R,0,n)}else{if(h.type!==_){throw new Error("parquet unsupported page type: "+h.type)}var D=h.data_page_header_v2;if(!D){throw new Error("parquet data page header v2 is undefined")}y=(g=te(v,h,i,n,a)).definitionLevels,w=g.repetitionLevels,E=g.value;o+=D.num_values;A=F(i,n.path_in_schema),T=V(i,n.path_in_schema);if(w.length){H(f,E);var O=$(y,w,E,!0,A,T);for(N=0;N<O.length;N++){s.push(O[N])}}else{if(D.num_nulls){if(!y){throw new Error("parquet data page v2 nulls missing definition levels")}k(y,A,E,f,s)}else{H(f,E);for(N=0;N<E.length;N++){s.push(E[N])}}}}}d+=h.compressed_page_size}return s.length,Number(t.num_rows),s},fe=function(e,r,t){if(!r){throw new Error("parquet metadata not found")}var n,i=e.byteLength,a=0;if(t.columns.forEach((function(e){var r=e.meta_data,t=P(r),n=t+Number(r.total_compressed_size);i=Math.min(i,t),a=Math.max(a,n)})),i>=a&&columns&&columns.length){throw new Error("parquet columns not found: "+columns.join(", "))}a-i<=1<<27&&(n=e.slice(i,a));for(var f=[],o=0,l=0;l<t.columns.length;l++){var u=t.columns[l].meta_data;if(!u){throw new Error("parquet column metadata is undefined")}var _=P(u),d=_+Number(u.total_compressed_size)-_;if(d>1<<30){console.warn('parquet skipping huge column "'.concat(u.path_in_schema,'" ').concat(d.toLocaleString()," bytes"))}else{if(n){var s=ae(n,_-i,t,u,r.schema,b);ie(f,o,s),o++}}}return f},oe=function(e){var r=new DataView(e);if(r.byteLength<8){throw new Error("parquet file is too short")}if(827474256!==r.getUint32(r.byteLength-4,!0)){throw new Error("parquet file invalid (footer != PAR1)")}var t=r.byteLength-8,l=r.getUint32(t,!0);if(l>r.byteLength-8){throw new Error("parquet metadata length "+l+" exceeds available buffer "+(r.byteLength-8))}var u,_=t-l,d=U(r.buffer,r.byteOffset+_).value;return{version:d.field_1,schema:d.field_2.map((function(e){return{type:n[e.field_1],type_length:e.field_2,repetition_type:a[e.field_3],name:e.field_4,num_children:e.field_5,converted_type:f[e.field_6],scale:e.field_7,precision:e.field_8,field_id:e.field_9,logical_type:q(e.field_10)}})),num_rows:d.field_3,row_groups:d.field_4.map((function(e){var r;return{columns:e.field_1.map((function(e){var r,t;return{file_path:e.field_1,file_offset:e.field_2,meta_data:e.field_3&&{type:n[e.field_3.field_1],encodings:null===(r=e.field_3.field_2)||void 0===r?void 0:r.map((function(e){return i[e]})),path_in_schema:e.field_3.field_3,codec:o[e.field_3.field_4],num_values:e.field_3.field_5,total_uncompressed_size:e.field_3.field_6,total_compressed_size:e.field_3.field_7,key_value_metadata:e.field_3.field_8,data_page_offset:e.field_3.field_9,index_page_offset:e.field_3.field_10,dictionary_page_offset:e.field_3.field_11,statistics:e.field_3.field_12&&{max:e.field_3.field_12.field_1,min:e.field_3.field_12.field_2,null_count:e.field_3.field_12.field_3,distinct_count:e.field_3.field_12.field_4},encoding_stats:null===(t=e.field_3.field_13)||void 0===t?void 0:t.map((function(e){return{page_type:e.field_1,encoding:i[e.field_2],count:e.field_3}}))}}})),total_byte_size:e.field_2,num_rows:e.field_3,sorting_columns:null===(r=e.field_4)||void 0===r?void 0:r.map((function(e){return{column_idx:sortingColumn.field_1,descending:sortingColumn.field_2,nulls_first:sortingColumn.field_3}}))}})),key_value_metadata:null===(u=d.field_5)||void 0===u?void 0:u.map((function(e){return{key:e.field_1,value:e.field_2}})),created_by:d.field_6,metadata_length:l}}(e),le=(t=[],oe.schema.forEach((function(e){void 0!==e.type&&t.push(e.name)})),t),ue=function(e,r){if(!r){throw new Error("parquet metadata not found")}for(var t=[],n=Number(r.num_rows),i=0,a=0;a<r.row_groups.length;a++){var f=r.row_groups[a],o=Number(f.num_rows);if(i+o>=0&&i<n){var l=fe(e,r,f),u=Math.max(0-i,0),_=Math.min(n-i,o),d=l.slice(u,_);for(a=0;a<d.length;a++){t.push(d[a])}}i+=o}return t}(e,oe);return ue.splice(0,0,le),this.arrayToCX(ue,r)};this.isValidURL=function(str){var p=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;,\\s\\(\\)\\[\\]&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");var p2=new RegExp("^(\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;,\\s\\(\\)\\[\\]&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return !!p.test(str)?1:!!p2.test(str)?2:false};return this};